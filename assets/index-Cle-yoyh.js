(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var cm={exports:{}},Lu={};var n_;function LE(){if(n_)return Lu;n_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Lu.Fragment=e,Lu.jsx=i,Lu.jsxs=i,Lu}var i_;function UE(){return i_||(i_=1,cm.exports=LE()),cm.exports}var G=UE(),hm={exports:{}},It={};var r_;function jE(){if(r_)return It;r_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.iterator;function ne(P){return P===null||typeof P!="object"?null:(P=q&&P[q]||P["@@iterator"],typeof P=="function"?P:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oe=Object.assign,Re={};function Ue(P,se,Se){this.props=P,this.context=se,this.refs=Re,this.updater=Se||z}Ue.prototype.isReactComponent={},Ue.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},Ue.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function He(){}He.prototype=Ue.prototype;function Ge(P,se,Se){this.props=P,this.context=se,this.refs=Re,this.updater=Se||z}var Ke=Ge.prototype=new He;Ke.constructor=Ge,Oe(Ke,Ue.prototype),Ke.isPureReactComponent=!0;var ht=Array.isArray;function ot(){}var F={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(P,se,Se){var be=Se.ref;return{$$typeof:r,type:P,key:se,ref:be!==void 0?be:null,props:Se}}function B(P,se){return V(P.type,se,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Se){return se[Se]})}var C=/\/+/g;function X(P,se){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):se.toString(36)}function re(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ot,ot):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,se,Se,be,Ie){var qe=typeof P;(qe==="undefined"||qe==="boolean")&&(P=null);var We=!1;if(P===null)We=!0;else switch(qe){case"bigint":case"string":case"number":We=!0;break;case"object":switch(P.$$typeof){case r:case e:We=!0;break;case x:return We=P._init,H(We(P._payload),se,Se,be,Ie)}}if(We)return Ie=Ie(P),We=be===""?"."+X(P,0):be,ht(Ie)?(Se="",We!=null&&(Se=We.replace(C,"$&/")+"/"),H(Ie,se,Se,"",function(Ct){return Ct})):Ie!=null&&(I(Ie)&&(Ie=B(Ie,Se+(Ie.key==null||P&&P.key===Ie.key?"":(""+Ie.key).replace(C,"$&/")+"/")+We)),se.push(Ie)),1;We=0;var ut=be===""?".":be+":";if(ht(P))for(var _t=0;_t<P.length;_t++)be=P[_t],qe=ut+X(be,_t),We+=H(be,se,Se,qe,Ie);else if(_t=ne(P),typeof _t=="function")for(P=_t.call(P),_t=0;!(be=P.next()).done;)be=be.value,qe=ut+X(be,_t++),We+=H(be,se,Se,qe,Ie);else if(qe==="object"){if(typeof P.then=="function")return H(re(P),se,Se,be,Ie);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return We}function ee(P,se,Se){if(P==null)return P;var be=[],Ie=0;return H(P,be,"","",function(qe){return se.call(Se,qe,Ie++)}),be}function ye(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(Se){(P._status===0||P._status===-1)&&(P._status=1,P._result=Se)},function(Se){(P._status===0||P._status===-1)&&(P._status=2,P._result=Se)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var de=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},xe={map:ee,forEach:function(P,se,Se){ee(P,function(){se.apply(this,arguments)},Se)},count:function(P){var se=0;return ee(P,function(){se++}),se},toArray:function(P){return ee(P,function(se){return se})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return It.Activity=L,It.Children=xe,It.Component=Ue,It.Fragment=i,It.Profiler=l,It.PureComponent=Ge,It.StrictMode=s,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,It.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(P,se,Se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var be=Oe({},P.props),Ie=P.key;if(se!=null)for(qe in se.key!==void 0&&(Ie=""+se.key),se)!U.call(se,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&se.ref===void 0||(be[qe]=se[qe]);var qe=arguments.length-2;if(qe===1)be.children=Se;else if(1<qe){for(var We=Array(qe),ut=0;ut<qe;ut++)We[ut]=arguments[ut+2];be.children=We}return V(P.type,Ie,be)},It.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},It.createElement=function(P,se,Se){var be,Ie={},qe=null;if(se!=null)for(be in se.key!==void 0&&(qe=""+se.key),se)U.call(se,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ie[be]=se[be]);var We=arguments.length-2;if(We===1)Ie.children=Se;else if(1<We){for(var ut=Array(We),_t=0;_t<We;_t++)ut[_t]=arguments[_t+2];Ie.children=ut}if(P&&P.defaultProps)for(be in We=P.defaultProps,We)Ie[be]===void 0&&(Ie[be]=We[be]);return V(P,qe,Ie)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:b,render:P}},It.isValidElement=I,It.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ye}},It.memo=function(P,se){return{$$typeof:E,type:P,compare:se===void 0?null:se}},It.startTransition=function(P){var se=F.T,Se={};F.T=Se;try{var be=P(),Ie=F.S;Ie!==null&&Ie(Se,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(ot,de)}catch(qe){de(qe)}finally{se!==null&&Se.types!==null&&(se.types=Se.types),F.T=se}},It.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},It.use=function(P){return F.H.use(P)},It.useActionState=function(P,se,Se){return F.H.useActionState(P,se,Se)},It.useCallback=function(P,se){return F.H.useCallback(P,se)},It.useContext=function(P){return F.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,se){return F.H.useDeferredValue(P,se)},It.useEffect=function(P,se){return F.H.useEffect(P,se)},It.useEffectEvent=function(P){return F.H.useEffectEvent(P)},It.useId=function(){return F.H.useId()},It.useImperativeHandle=function(P,se,Se){return F.H.useImperativeHandle(P,se,Se)},It.useInsertionEffect=function(P,se){return F.H.useInsertionEffect(P,se)},It.useLayoutEffect=function(P,se){return F.H.useLayoutEffect(P,se)},It.useMemo=function(P,se){return F.H.useMemo(P,se)},It.useOptimistic=function(P,se){return F.H.useOptimistic(P,se)},It.useReducer=function(P,se,Se){return F.H.useReducer(P,se,Se)},It.useRef=function(P){return F.H.useRef(P)},It.useState=function(P){return F.H.useState(P)},It.useSyncExternalStore=function(P,se,Se){return F.H.useSyncExternalStore(P,se,Se)},It.useTransition=function(){return F.H.useTransition()},It.version="19.2.0",It}var a_;function nf(){return a_||(a_=1,hm.exports=jE()),hm.exports}var dt=nf(),fm={exports:{}},Uu={},dm={exports:{}},mm={};var s_;function zE(){return s_||(s_=1,(function(r){function e(H,ee){var ye=H.length;H.push(ee);e:for(;0<ye;){var de=ye-1>>>1,xe=H[de];if(0<l(xe,ee))H[de]=ee,H[ye]=xe,ye=de;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ee=H[0],ye=H.pop();if(ye!==ee){H[0]=ye;e:for(var de=0,xe=H.length,P=xe>>>1;de<P;){var se=2*(de+1)-1,Se=H[se],be=se+1,Ie=H[be];if(0>l(Se,ye))be<xe&&0>l(Ie,Se)?(H[de]=Ie,H[be]=ye,de=be):(H[de]=Se,H[se]=ye,de=se);else if(be<xe&&0>l(Ie,ye))H[de]=Ie,H[be]=ye,de=be;else break e}}return ee}function l(H,ee){var ye=H.sortIndex-ee.sortIndex;return ye!==0?ye:H.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],x=1,L=null,q=3,ne=!1,z=!1,Oe=!1,Re=!1,Ue=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,Ge=typeof setImmediate<"u"?setImmediate:null;function Ke(H){for(var ee=i(E);ee!==null;){if(ee.callback===null)s(E);else if(ee.startTime<=H)s(E),ee.sortIndex=ee.expirationTime,e(w,ee);else break;ee=i(E)}}function ht(H){if(Oe=!1,Ke(H),!z)if(i(w)!==null)z=!0,ot||(ot=!0,k());else{var ee=i(E);ee!==null&&re(ht,ee.startTime-H)}}var ot=!1,F=-1,U=5,V=-1;function B(){return Re?!0:!(r.unstable_now()-V<U)}function I(){if(Re=!1,ot){var H=r.unstable_now();V=H;var ee=!0;try{e:{z=!1,Oe&&(Oe=!1,He(F),F=-1),ne=!0;var ye=q;try{t:{for(Ke(H),L=i(w);L!==null&&!(L.expirationTime>H&&B());){var de=L.callback;if(typeof de=="function"){L.callback=null,q=L.priorityLevel;var xe=de(L.expirationTime<=H);if(H=r.unstable_now(),typeof xe=="function"){L.callback=xe,Ke(H),ee=!0;break t}L===i(w)&&s(w),Ke(H)}else s(w);L=i(w)}if(L!==null)ee=!0;else{var P=i(E);P!==null&&re(ht,P.startTime-H),ee=!1}}break e}finally{L=null,q=ye,ne=!1}ee=void 0}}finally{ee?k():ot=!1}}}var k;if(typeof Ge=="function")k=function(){Ge(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,X=C.port2;C.port1.onmessage=I,k=function(){X.postMessage(null)}}else k=function(){Ue(I,0)};function re(H,ee){F=Ue(function(){H(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return q},r.unstable_next=function(H){switch(q){case 1:case 2:case 3:var ee=3;break;default:ee=q}var ye=q;q=ee;try{return H()}finally{q=ye}},r.unstable_requestPaint=function(){Re=!0},r.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ye=q;q=H;try{return ee()}finally{q=ye}},r.unstable_scheduleCallback=function(H,ee,ye){var de=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?de+ye:de):ye=de,H){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ye+xe,H={id:x++,callback:ee,priorityLevel:H,startTime:ye,expirationTime:xe,sortIndex:-1},ye>de?(H.sortIndex=ye,e(E,H),i(w)===null&&H===i(E)&&(Oe?(He(F),F=-1):Oe=!0,re(ht,ye-de))):(H.sortIndex=xe,e(w,H),z||ne||(z=!0,ot||(ot=!0,k()))),H},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(H){var ee=q;return function(){var ye=q;q=ee;try{return H.apply(this,arguments)}finally{q=ye}}}})(mm)),mm}var o_;function BE(){return o_||(o_=1,dm.exports=zE()),dm.exports}var pm={exports:{}},Yi={};var l_;function FE(){if(l_)return Yi;l_=1;var r=nf();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:w,containerInfo:E,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yi.createPortal=function(w,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,x)},Yi.flushSync=function(w){var E=p.T,x=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=x,s.d.f()}},Yi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},Yi.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},Yi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin),q=typeof E.integrity=="string"?E.integrity:void 0,ne=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:q,fetchPriority:ne}):x==="script"&&s.d.X(w,{crossOrigin:L,integrity:q,fetchPriority:ne,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Yi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},Yi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin);s.d.L(w,x,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Yi.preloadModule=function(w,E){if(typeof w=="string")if(E){var x=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},Yi.requestFormReset=function(w){s.d.r(w)},Yi.unstable_batchedUpdates=function(w,E){return w(E)},Yi.useFormState=function(w,E,x){return p.H.useFormState(w,E,x)},Yi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Yi.version="19.2.0",Yi}var u_;function HE(){if(u_)return pm.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=FE(),pm.exports}var c_;function qE(){if(c_)return Uu;c_=1;var r=BE(),e=nf(),i=HE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,q=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Ue=Symbol.for("react.profiler"),He=Symbol.for("react.consumer"),Ge=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function X(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oe:return"Fragment";case Ue:return"Profiler";case Re:return"StrictMode";case ht:return"Suspense";case ot:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case Ge:return t.displayName||"Context";case He:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:X(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return X(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function P(t){return{current:t}}function se(t){0>xe||(t.current=de[xe],de[xe]=null,xe--)}function Se(t,n){xe++,de[xe]=t.current,t.current=n}var be=P(null),Ie=P(null),qe=P(null),We=P(null);function ut(t,n){switch(Se(qe,n),Se(Ie,t),Se(be,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sv(n),t=Rv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(be),Se(be,t)}function _t(){se(be),se(Ie),se(qe)}function Ct(t){t.memoizedState!==null&&Se(We,t);var n=be.current,a=Rv(n,t.type);n!==a&&(Se(Ie,t),Se(be,a))}function nn(t){Ie.current===t&&(se(be),se(Ie)),We.current===t&&(se(We),Ou._currentValue=ye)}var ft,Et;function Lt(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",Et=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+Et}var Ut=!1;function Nn(t,n){if(!t||Ut)return"";Ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ge){var he=ge}Reflect.construct(t,[],we)}else{try{we.call()}catch(ge){he=ge}t.call(we.prototype)}}else{try{throw Error()}catch(ge){he=ge}(we=t())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Y=T.split(`
`),ue=M.split(`
`);for(h=o=0;o<Y.length&&!Y[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;if(o===Y.length||h===ue.length)for(o=Y.length-1,h=ue.length-1;1<=o&&0<=h&&Y[o]!==ue[h];)h--;for(;1<=o&&0<=h;o--,h--)if(Y[o]!==ue[h]){if(o!==1||h!==1)do if(o--,h--,0>h||Y[o]!==ue[h]){var ve=`
`+Y[o].replace(" at new "," at ");return t.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",t.displayName)),ve}while(1<=o&&0<=h);break}}}finally{Ut=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Lt(a):""}function ri(t,n){switch(t.tag){case 26:case 27:case 5:return Lt(t.type);case 16:return Lt("Lazy");case 13:return t.child!==n&&n!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Nn(t.type,!1);case 11:return Nn(t.type.render,!1);case 1:return Nn(t.type,!0);case 31:return Lt("Activity");default:return""}}function yt(t){try{var n="",a=null;do n+=ri(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var at=Object.prototype.hasOwnProperty,un=r.unstable_scheduleCallback,Zt=r.unstable_cancelCallback,$i=r.unstable_shouldYield,Un=r.unstable_requestPaint,Vt=r.unstable_now,mn=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,_=r.unstable_NormalPriority,D=r.unstable_LowPriority,K=r.unstable_IdlePriority,pe=r.log,Te=r.unstable_setDisableYieldValue,$e=null,tt=null;function Xe(t){if(typeof pe=="function"&&Te(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode($e,t)}catch{}}var nt=Math.clz32?Math.clz32:cn,$t=Math.log,Cn=Math.LN2;function cn(t){return t>>>=0,t===0?32:31-($t(t)/Cn|0)|0}var Sn=256,Fn=262144,Bt=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=In(o):(T&=M,T!==0?h=In(T):a||(a=M&~t,a!==0&&(h=In(a))))):(M=o&~m,M!==0?h=In(M):T!==0?h=In(T):a||(a=o&~t,a!==0&&(h=In(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Pi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),t}function Hn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function St(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ji(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,Y=t.expirationTimes,ue=t.hiddenUpdates;for(a=T&~a;0<a;){var ve=31-nt(a),we=1<<ve;M[ve]=0,Y[ve]=-1;var he=ue[ve];if(he!==null)for(ue[ve]=null,ve=0;ve<he.length;ve++){var ge=he[ve];ge!==null&&(ge.lane&=-536870913)}a&=~we}o!==0&&Zi(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Zi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-nt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ba(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-nt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Rr(t,n){var a=n&-n;return a=(a&42)!==0?1:Fr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hr(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function Li(t,n){var a=ee.p;try{return ee.p=t,n()}finally{ee.p=a}}var er=Math.random().toString(36).slice(2),pn="__reactFiber$"+er,zn="__reactProps$"+er,Ui="__reactContainer$"+er,ur="__reactEvents$"+er,Cs="__reactListeners$"+er,Fa="__reactHandles$"+er,aa="__reactResources$"+er,ji="__reactMarker$"+er;function Ei(t){delete t[pn],delete t[zn],delete t[ur],delete t[Cs],delete t[Fa]}function zi(t){var n=t[pn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ui]||a[pn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ov(t);t!==null;){if(a=t[pn])return a;t=Ov(t)}return n}t=a,a=t.parentNode}return null}function Bi(t){if(t=t[pn]||t[Ui]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ti(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Kn(t){var n=t[aa];return n||(n=t[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function On(t){t[ji]=!0}var sa=new Set,Ai={};function Si(t,n){qn(t,n),qn(t+"Capture",n)}function qn(t,n){for(Ai[t]=n,t=0;t<n.length;t++)sa.add(n[t])}var va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},_a={};function Ha(t){return at.call(_a,t)?!0:at.call(Cr,t)?!1:va.test(t)?_a[t]=!0:(Cr[t]=!0,!1)}function Fi(t,n,a){if(Ha(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function J(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ie(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ae(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Me(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Le(t){if(!t._valueTracker){var n=Ae(t)?"checked":"value";t._valueTracker=Me(t,n,""+t[n])}}function ke(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ae(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ne(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pe=/[\n"\\]/g;function je(t){return t.replace(Pe,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+fe(n)):t.value!==""+fe(n)&&(t.value=""+fe(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?_n(t,T,fe(n)):a!=null?_n(t,T,fe(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+fe(M):t.removeAttribute("name")}function Jn(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Le(t);return}a=a!=null?""+fe(a):"",n=n!=null?""+fe(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Le(t)}function _n(t,n,a){n==="number"&&Ne(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function jt(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+fe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function di(t,n,a){if(n!=null&&(n=""+fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+fe(a):""}function Gn(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=fe(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Le(t)}function ai(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qa(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||cr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ir(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&qa(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&qa(t,m,n[m])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hr(){}var Is=null;function fr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dr=null,tr=null;function mr(t){var n=Bi(t);if(n&&(t=n.stateNode)){var a=t[zn]||null;e:switch(t=n.stateNode,n.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+je(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[zn]||null;if(!h)throw Error(s(90));hn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ke(o)}break e;case"textarea":di(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&jt(t,!!a.multiple,n,!1)}}}var oa=!1;function pr(t,n,a){if(oa)return t(n,a);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(dr!==null||tr!==null)&&(Xc(),dr&&(n=dr,t=tr,tr=dr=null,mr(n),t)))for(n=0;n<t.length;n++)mr(t[n])}}function Ri(t,n){var a=t.stateNode;if(a===null)return null;var o=a[zn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(mi)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){qr=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{qr=!1}var Gr=null,Hi=null,la=null;function Ea(){if(la)return la;var t,n=Hi,a=n.length,o,h="value"in Gr?Gr.value:Gr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return la=h.slice(t,1<o?1-o:void 0)}function ua(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mr(){return!0}function Nr(){return!1}function pi(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Mr:Nr,this.isPropagationStopped=Nr,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),n}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=pi(gr),Ta=L({},gr,{view:0,detail:0}),To=pi(Ta),Dr,Ya,nr,Xa=L({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nr&&(nr&&t.type==="mousemove"?(Dr=t.screenX-nr.screenX,Ya=t.screenY-nr.screenY):Ya=Dr=0,nr=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),xs=pi(Xa),Qa=L({},Xa,{dataTransfer:0}),Wo=pi(Qa),Zn=L({},Ta,{relatedTarget:0}),Aa=pi(Zn),ir=L({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=pi(ir),ca=L({},gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ka=pi(ca),Ms=L({},gr,{data:0}),Or=pi(Ms),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ds(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function Sa(){return Ds}var Ci=L({},Ta,{key:function(t){if(t.key){var n=Ns[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ao=pi(Ci),el=L({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=pi(el),u=L({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),y=pi(u),A=L({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=pi(A),ae=L({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),me=pi(ae),ze=L({},gr,{newState:0,oldState:0}),At=pi(ze),Yn=[9,13,27,32],rn=mi&&"CompositionEvent"in window,xn=null;mi&&"documentMode"in document&&(xn=document.documentMode);var qi=mi&&"TextEvent"in window&&!xn,yr=mi&&(!rn||xn&&8<xn&&11>=xn),vr=" ",rr=!1;function Xr(t,n){switch(t){case"keyup":return Yn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Af(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(rr=!0,vr);case"textInput":return t=n.data,t===vr&&rr?null:t;default:return null}}function pc(t,n){if($a)return t==="compositionend"||!rn&&Xr(t,n)?(t=Ea(),la=Hi=Gr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yr&&n.locale!=="ko"?null:n.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tl[t.type]:n==="textarea"}function Vn(t,n,a,o){dr?tr?tr.push(o):tr=[o]:dr=o,n=eh(n,"onChange"),0<n.length&&(a=new Yr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ar=null,Ja=null;function gc(t){_v(t,0)}function So(t){var n=Ti(t);if(ke(n))return t}function nu(t,n){if(t==="change")return n}var iu=!1;if(mi){var Os;if(mi){var nl="oninput"in document;if(!nl){var f=document.createElement("div");f.setAttribute("oninput","return;"),nl=typeof f.oninput=="function"}Os=nl}else Os=!1;iu=Os&&(!document.documentMode||9<document.documentMode)}function d(){ar&&(ar.detachEvent("onpropertychange",v),Ja=ar=null)}function v(t){if(t.propertyName==="value"&&So(Ja)){var n=[];Vn(n,Ja,t,fr(t)),pr(gc,n)}}function S(t,n,a){t==="focusin"?(d(),ar=n,Ja=a,ar.attachEvent("onpropertychange",v)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(Ja)}function j(t,n){if(t==="click")return So(n)}function W(t,n){if(t==="input"||t==="change")return So(n)}function $(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ce=typeof Object.is=="function"?Object.is:$;function le(t,n){if(ce(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!at.call(n,h)||!ce(t[h],n[h]))return!1}return!0}function Ve(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var a=Ve(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ve(a)}}function st(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?st(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Z(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ne(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ne(t.document)}return n}function Be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var it=mi&&"documentMode"in document&&11>=document.documentMode,Fe=null,sn=null,Ze=null,kt=!1;function gn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kt||Fe==null||Fe!==Ne(o)||(o=Fe,"selectionStart"in o&&Be(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&le(Ze,o)||(Ze=o,o=eh(sn,"onSelect"),0<o.length&&(n=new Yr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Fe)))}function ei(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _r={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},zt={},Vr={};mi&&(Vr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Za(t){if(zt[t])return zt[t];if(!_r[t])return t;var n=_r[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Vr)return zt[t]=n[a];return t}var De=Za("animationend"),Ye=Za("animationiteration"),Pt=Za("animationstart"),Gt=Za("transitionrun"),Mt=Za("transitionstart"),Ft=Za("transitioncancel"),en=Za("transitionend"),an=new Map,sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sr.push("scrollEnd");function yn(t,n){an.set(t,n),Si(n,[t])}var Ii=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fn=[],es=0,il=0;function Ra(){for(var t=es,n=il=es=0;n<t;){var a=fn[n];fn[n++]=null;var o=fn[n];fn[n++]=null;var h=fn[n];fn[n++]=null;var m=fn[n];if(fn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&ru(a,h,m)}}function Ca(t,n,a,o){fn[es++]=t,fn[es++]=n,fn[es++]=a,fn[es++]=o,il|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function fa(t,n,a,o){return Ca(t,n,a,o),Ro(t)}function or(t,n){return Ca(t,null,null,n),Ro(t)}function ru(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-nt(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function Ro(t){if(50<Ru)throw Ru=0,Vd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var kr={};function Sf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(t,n,a,o){return new Sf(t,n,a,o)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=Gi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function tg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Rf(t)&&(T=1);else if(typeof t=="string")T=SE(t,a,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Gi(31,a,n,h),t.elementType=V,t.lanes=m,t;case Oe:return Co(a.children,h,m,n);case Re:T=8,h|=24;break;case Ue:return t=Gi(12,a,n,h|2),t.elementType=Ue,t.lanes=m,t;case ht:return t=Gi(13,a,n,h),t.elementType=ht,t.lanes=m,t;case ot:return t=Gi(19,a,n,h),t.elementType=ot,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ge:T=10;break e;case He:T=9;break e;case Ke:T=11;break e;case F:T=14;break e;case U:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Gi(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Co(t,n,a,o){return t=Gi(7,t,o,n),t.lanes=a,t}function Cf(t,n,a){return t=Gi(6,t,null,n),t.lanes=a,t}function ng(t){var n=Gi(18,null,null,0);return n.stateNode=t,n}function If(t,n,a){return n=Gi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function Qr(t,n){if(typeof t=="object"&&t!==null){var a=ig.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yt(n)},ig.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var rl=[],al=0,vc=null,au=0,Kr=[],Wr=0,Vs=null,Ia=1,xa="";function ns(t,n){rl[al++]=au,rl[al++]=vc,vc=t,au=n}function rg(t,n,a){Kr[Wr++]=Ia,Kr[Wr++]=xa,Kr[Wr++]=Vs,Vs=t;var o=Ia;t=xa;var h=32-nt(o)-1;o&=~(1<<h),a+=1;var m=32-nt(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ia=1<<32-nt(n)+h|a<<h|o,xa=m+t}else Ia=1<<m|a<<h|o,xa=t}function xf(t){t.return!==null&&(ns(t,1),rg(t,1,0))}function Mf(t){for(;t===vc;)vc=rl[--al],rl[al]=null,au=rl[--al],rl[al]=null;for(;t===Vs;)Vs=Kr[--Wr],Kr[Wr]=null,xa=Kr[--Wr],Kr[Wr]=null,Ia=Kr[--Wr],Kr[Wr]=null}function ag(t,n){Kr[Wr++]=Ia,Kr[Wr++]=xa,Kr[Wr++]=Vs,Ia=n.id,xa=n.overflow,Vs=t}var xi=null,kn=null,Jt=!1,ks=null,$r=!1,Nf=Error(s(519));function Ps(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Qr(n,t)),Nf}function sg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[pn]=t,n[zn]=o,a){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<Iu.length;a++)qt(Iu[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":qt("invalid",n),Jn(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qt("invalid",n);break;case"textarea":qt("invalid",n),Gn(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Tv(n.textContent,a)?(o.popover!=null&&(qt("beforetoggle",n),qt("toggle",n)),o.onScroll!=null&&qt("scroll",n),o.onScrollEnd!=null&&qt("scrollend",n),o.onClick!=null&&(n.onclick=hr),n=!0):n=!1,n||Ps(t,!0)}function og(t){for(xi=t.return;xi;)switch(xi.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:xi=xi.return}}function sl(t){if(t!==xi)return!1;if(!Jt)return og(t),Jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&kn&&Ps(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kn=Dv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kn=Dv(t)}else n===27?(n=kn,Ws(t.type)?(t=em,em=null,kn=t):kn=n):kn=xi?Zr(t.stateNode.nextSibling):null;return!0}function Io(){kn=xi=null,Jt=!1}function Df(){var t=ks;return t!==null&&(Tr===null?Tr=t:Tr.push.apply(Tr,t),ks=null),t}function su(t){ks===null?ks=[t]:ks.push(t)}var Of=P(null),xo=null,is=null;function Ls(t,n,a){Se(Of,n._currentValue),n._currentValue=a}function rs(t){t._currentValue=Of.current,se(Of)}function Vf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function kf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var Y=0;Y<n.length;Y++)if(M.context===n[Y]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),Vf(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Vf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ol(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ce(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===We.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ou):t=[Ou])}h=h.return}t!==null&&kf(n,t,a,o),n.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mo(t){xo=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mi(t){return lg(xo,t)}function bc(t,n){return xo===null&&Mo(t),lg(t,n)}function lg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var w1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},E1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,si={$$typeof:Ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new w1,data:new Map,refCount:0}}function ou(t){t.refCount--,t.refCount===0&&E1(T1,function(){t.controller.abort()})}var lu=null,Lf=0,ll=0,ul=null;function A1(t,n){if(lu===null){var a=lu=[];Lf=0,ll=zd(),ul={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lf++,n.then(ug,ug),n}function ug(){if(--Lf===0&&lu!==null){ul!==null&&(ul.status="fulfilled");var t=lu;lu=null,ll=0,ul=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function S1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var cg=H.S;H.S=function(t,n){Xy=Vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(t,n),cg!==null&&cg(t,n)};var No=P(null);function Uf(){var t=No.current;return t!==null?t:Rn.pooledCache}function wc(t,n){n===null?Se(No,No.current):Se(No,n.pool)}function hg(){var t=Uf();return t===null?null:{parent:si._currentValue,pool:t}}var cl=Error(s(460)),jf=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(hr,hr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(hr,hr);else{if(t=Rn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw Oo=n,cl}}function Do(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oo=a,cl):a}}var Oo=null;function mg(){if(Oo===null)throw Error(s(459));var t=Oo;return Oo=null,t}function pg(t){if(t===cl||t===Ec)throw Error(s(483))}var hl=null,uu=0;function Ac(t){var n=uu;return uu+=1,hl===null&&(hl=[]),dg(hl,t,n)}function cu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sc(t,n){throw n.$$typeof===q?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){function n(te,Q){if(t){var oe=te.deletions;oe===null?(te.deletions=[Q],te.flags|=16):oe.push(Q)}}function a(te,Q){if(!t)return null;for(;Q!==null;)n(te,Q),Q=Q.sibling;return null}function o(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function h(te,Q){return te=ts(te,Q),te.index=0,te.sibling=null,te}function m(te,Q,oe){return te.index=oe,t?(oe=te.alternate,oe!==null?(oe=oe.index,oe<Q?(te.flags|=67108866,Q):oe):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function T(te){return t&&te.alternate===null&&(te.flags|=67108866),te}function M(te,Q,oe,_e){return Q===null||Q.tag!==6?(Q=Cf(oe,te.mode,_e),Q.return=te,Q):(Q=h(Q,oe),Q.return=te,Q)}function Y(te,Q,oe,_e){var mt=oe.type;return mt===Oe?ve(te,Q,oe.props.children,_e,oe.key):Q!==null&&(Q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&Do(mt)===Q.type)?(Q=h(Q,oe.props),cu(Q,oe),Q.return=te,Q):(Q=yc(oe.type,oe.key,oe.props,null,te.mode,_e),cu(Q,oe),Q.return=te,Q)}function ue(te,Q,oe,_e){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=If(oe,te.mode,_e),Q.return=te,Q):(Q=h(Q,oe.children||[]),Q.return=te,Q)}function ve(te,Q,oe,_e,mt){return Q===null||Q.tag!==7?(Q=Co(oe,te.mode,_e,mt),Q.return=te,Q):(Q=h(Q,oe),Q.return=te,Q)}function we(te,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Cf(""+Q,te.mode,oe),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ne:return oe=yc(Q.type,Q.key,Q.props,null,te.mode,oe),cu(oe,Q),oe.return=te,oe;case z:return Q=If(Q,te.mode,oe),Q.return=te,Q;case U:return Q=Do(Q),we(te,Q,oe)}if(re(Q)||k(Q))return Q=Co(Q,te.mode,oe,null),Q.return=te,Q;if(typeof Q.then=="function")return we(te,Ac(Q),oe);if(Q.$$typeof===Ge)return we(te,bc(te,Q),oe);Sc(te,Q)}return null}function he(te,Q,oe,_e){var mt=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return mt!==null?null:M(te,Q,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ne:return oe.key===mt?Y(te,Q,oe,_e):null;case z:return oe.key===mt?ue(te,Q,oe,_e):null;case U:return oe=Do(oe),he(te,Q,oe,_e)}if(re(oe)||k(oe))return mt!==null?null:ve(te,Q,oe,_e,null);if(typeof oe.then=="function")return he(te,Q,Ac(oe),_e);if(oe.$$typeof===Ge)return he(te,Q,bc(te,oe),_e);Sc(te,oe)}return null}function ge(te,Q,oe,_e,mt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return te=te.get(oe)||null,M(Q,te,""+_e,mt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ne:return te=te.get(_e.key===null?oe:_e.key)||null,Y(Q,te,_e,mt);case z:return te=te.get(_e.key===null?oe:_e.key)||null,ue(Q,te,_e,mt);case U:return _e=Do(_e),ge(te,Q,oe,_e,mt)}if(re(_e)||k(_e))return te=te.get(oe)||null,ve(Q,te,_e,mt,null);if(typeof _e.then=="function")return ge(te,Q,oe,Ac(_e),mt);if(_e.$$typeof===Ge)return ge(te,Q,oe,bc(Q,_e),mt);Sc(Q,_e)}return null}function lt(te,Q,oe,_e){for(var mt=null,on=null,ct=Q,Ot=Q=0,Xt=null;ct!==null&&Ot<oe.length;Ot++){ct.index>Ot?(Xt=ct,ct=null):Xt=ct.sibling;var ln=he(te,ct,oe[Ot],_e);if(ln===null){ct===null&&(ct=Xt);break}t&&ct&&ln.alternate===null&&n(te,ct),Q=m(ln,Q,Ot),on===null?mt=ln:on.sibling=ln,on=ln,ct=Xt}if(Ot===oe.length)return a(te,ct),Jt&&ns(te,Ot),mt;if(ct===null){for(;Ot<oe.length;Ot++)ct=we(te,oe[Ot],_e),ct!==null&&(Q=m(ct,Q,Ot),on===null?mt=ct:on.sibling=ct,on=ct);return Jt&&ns(te,Ot),mt}for(ct=o(ct);Ot<oe.length;Ot++)Xt=ge(ct,te,Ot,oe[Ot],_e),Xt!==null&&(t&&Xt.alternate!==null&&ct.delete(Xt.key===null?Ot:Xt.key),Q=m(Xt,Q,Ot),on===null?mt=Xt:on.sibling=Xt,on=Xt);return t&&ct.forEach(function(to){return n(te,to)}),Jt&&ns(te,Ot),mt}function vt(te,Q,oe,_e){if(oe==null)throw Error(s(151));for(var mt=null,on=null,ct=Q,Ot=Q=0,Xt=null,ln=oe.next();ct!==null&&!ln.done;Ot++,ln=oe.next()){ct.index>Ot?(Xt=ct,ct=null):Xt=ct.sibling;var to=he(te,ct,ln.value,_e);if(to===null){ct===null&&(ct=Xt);break}t&&ct&&to.alternate===null&&n(te,ct),Q=m(to,Q,Ot),on===null?mt=to:on.sibling=to,on=to,ct=Xt}if(ln.done)return a(te,ct),Jt&&ns(te,Ot),mt;if(ct===null){for(;!ln.done;Ot++,ln=oe.next())ln=we(te,ln.value,_e),ln!==null&&(Q=m(ln,Q,Ot),on===null?mt=ln:on.sibling=ln,on=ln);return Jt&&ns(te,Ot),mt}for(ct=o(ct);!ln.done;Ot++,ln=oe.next())ln=ge(ct,te,Ot,ln.value,_e),ln!==null&&(t&&ln.alternate!==null&&ct.delete(ln.key===null?Ot:ln.key),Q=m(ln,Q,Ot),on===null?mt=ln:on.sibling=ln,on=ln);return t&&ct.forEach(function(PE){return n(te,PE)}),Jt&&ns(te,Ot),mt}function An(te,Q,oe,_e){if(typeof oe=="object"&&oe!==null&&oe.type===Oe&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ne:e:{for(var mt=oe.key;Q!==null;){if(Q.key===mt){if(mt=oe.type,mt===Oe){if(Q.tag===7){a(te,Q.sibling),_e=h(Q,oe.props.children),_e.return=te,te=_e;break e}}else if(Q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&Do(mt)===Q.type){a(te,Q.sibling),_e=h(Q,oe.props),cu(_e,oe),_e.return=te,te=_e;break e}a(te,Q);break}else n(te,Q);Q=Q.sibling}oe.type===Oe?(_e=Co(oe.props.children,te.mode,_e,oe.key),_e.return=te,te=_e):(_e=yc(oe.type,oe.key,oe.props,null,te.mode,_e),cu(_e,oe),_e.return=te,te=_e)}return T(te);case z:e:{for(mt=oe.key;Q!==null;){if(Q.key===mt)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){a(te,Q.sibling),_e=h(Q,oe.children||[]),_e.return=te,te=_e;break e}else{a(te,Q);break}else n(te,Q);Q=Q.sibling}_e=If(oe,te.mode,_e),_e.return=te,te=_e}return T(te);case U:return oe=Do(oe),An(te,Q,oe,_e)}if(re(oe))return lt(te,Q,oe,_e);if(k(oe)){if(mt=k(oe),typeof mt!="function")throw Error(s(150));return oe=mt.call(oe),vt(te,Q,oe,_e)}if(typeof oe.then=="function")return An(te,Q,Ac(oe),_e);if(oe.$$typeof===Ge)return An(te,Q,bc(te,oe),_e);Sc(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Q!==null&&Q.tag===6?(a(te,Q.sibling),_e=h(Q,oe),_e.return=te,te=_e):(a(te,Q),_e=Cf(oe,te.mode,_e),_e.return=te,te=_e),T(te)):a(te,Q)}return function(te,Q,oe,_e){try{uu=0;var mt=An(te,Q,oe,_e);return hl=null,mt}catch(ct){if(ct===cl||ct===Ec)throw ct;var on=Gi(29,ct,null,te.mode);return on.lanes=_e,on.return=te,on}finally{}}}var Vo=gg(!0),yg=gg(!1),Us=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(dn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ro(t),ru(t,null,a),n}return Ca(t,o,n,a),Ro(t)}function hu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ba(t,a)}}function Ff(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Hf=!1;function fu(){if(Hf){var t=ul;if(t!==null)throw t}}function du(t,n,a,o){Hf=!1;var h=t.updateQueue;Us=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var Y=M,ue=Y.next;Y.next=null,T===null?m=ue:T.next=ue,T=Y;var ve=t.alternate;ve!==null&&(ve=ve.updateQueue,M=ve.lastBaseUpdate,M!==T&&(M===null?ve.firstBaseUpdate=ue:M.next=ue,ve.lastBaseUpdate=Y))}if(m!==null){var we=h.baseState;T=0,ve=ue=Y=null,M=m;do{var he=M.lane&-536870913,ge=he!==M.lane;if(ge?(Yt&he)===he:(o&he)===he){he!==0&&he===ll&&(Hf=!0),ve!==null&&(ve=ve.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var lt=t,vt=M;he=n;var An=a;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){we=lt.call(An,we,he);break e}we=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,he=typeof lt=="function"?lt.call(An,we,he):lt,he==null)break e;we=L({},we,he);break e;case 2:Us=!0}}he=M.callback,he!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ve===null?(ue=ve=ge,Y=we):ve=ve.next=ge,T|=he;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);ve===null&&(Y=we),h.baseState=Y,h.firstBaseUpdate=ue,h.lastBaseUpdate=ve,m===null&&(h.shared.lanes=0),Gs|=T,t.lanes=T,t.memoizedState=we}}function vg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function _g(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],n)}var fl=P(null),Rc=P(0);function bg(t,n){t=ds,Se(Rc,t),Se(fl,n),ds=t|n.baseLanes}function qf(){Se(Rc,ds),Se(fl,fl.current)}function Gf(){ds=Rc.current,se(fl),se(Rc)}var Pr=P(null),Jr=null;function Bs(t){var n=t.alternate;Se(ti,ti.current&1),Se(Pr,t),Jr===null&&(n===null||fl.current!==null||n.memoizedState!==null)&&(Jr=t)}function Yf(t){Se(ti,ti.current),Se(Pr,t),Jr===null&&(Jr=t)}function wg(t){t.tag===22?(Se(ti,ti.current),Se(Pr,t),Jr===null&&(Jr=t)):Fs()}function Fs(){Se(ti,ti.current),Se(Pr,Pr.current)}function Lr(t){se(Pr),Jr===t&&(Jr=null),se(ti)}var ti=P(0);function Cc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||Zd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Dt=null,En=null,oi=null,Ic=!1,dl=!1,ko=!1,xc=0,mu=0,ml=null,R1=0;function Wn(){throw Error(s(321))}function Xf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ce(t[a],n[a]))return!1;return!0}function Qf(t,n,a,o,h,m){return as=m,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ry:ud,ko=!1,m=a(o,h),ko=!1,dl&&(m=Tg(n,a,o,h)),Eg(t),m}function Eg(t){H.H=yu;var n=En!==null&&En.next!==null;if(as=0,oi=En=Dt=null,Ic=!1,mu=0,ml=null,n)throw Error(s(300));t===null||li||(t=t.dependencies,t!==null&&_c(t)&&(li=!0))}function Tg(t,n,a,o){Dt=t;var h=0;do{if(dl&&(ml=null),mu=0,dl=!1,25<=h)throw Error(s(301));if(h+=1,oi=En=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=ay,m=n(a,o)}while(dl);return m}function C1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?pu(n):n,t=t.useState()[0],(En!==null?En.memoizedState:null)!==t&&(Dt.flags|=1024),n}function Kf(){var t=xc!==0;return xc=0,t}function Wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function $f(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}as=0,oi=En=Dt=null,dl=!1,mu=xc=0,ml=null}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Dt.memoizedState=oi=t:oi=oi.next=t,oi}function ni(){if(En===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var n=oi===null?Dt.memoizedState:oi.next;if(n!==null)oi=n,En=t;else{if(t===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},oi===null?Dt.memoizedState=oi=t:oi=oi.next=t}return oi}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var n=mu;return mu+=1,ml===null&&(ml=[]),t=dg(ml,t,n),n=Dt,(oi===null?n.memoizedState:oi.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ry:ud),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===Ge)return Mi(t)}throw Error(s(438,String(t)))}function Jf(t){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mc(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=B;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=ni();return Zf(n,En,t)}function Zf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,Y=null,ue=n,ve=!1;do{var we=ue.lane&-536870913;if(we!==ue.lane?(Yt&we)===we:(as&we)===we){var he=ue.revertLane;if(he===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),we===ll&&(ve=!0);else if((as&he)===he){ue=ue.next,he===ll&&(ve=!0);continue}else we={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(M=Y=we,T=m):Y=Y.next=we,Dt.lanes|=he,Gs|=he;we=ue.action,ko&&a(m,we),m=ue.hasEagerState?ue.eagerState:a(m,we)}else he={lane:we,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(M=Y=he,T=m):Y=Y.next=he,Dt.lanes|=we,Gs|=we;ue=ue.next}while(ue!==null&&ue!==n);if(Y===null?T=m:Y.next=M,!ce(m,t.memoizedState)&&(li=!0,ve&&(a=ul,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=Y,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ed(t){var n=ni(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ce(m,n.memoizedState)||(li=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function Ag(t,n,a){var o=Dt,h=ni(),m=Jt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ce((En||h).memoizedState,a);if(T&&(h.memoizedState=a,li=!0),h=h.queue,id(Cg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||oi!==null&&oi.memoizedState.tag&1){if(o.flags|=2048,pl(9,{destroy:void 0},Rg.bind(null,o,h,a,n),null),Rn===null)throw Error(s(349));m||(as&127)!==0||Sg(o,n,a)}return a}function Sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=Mc(),Dt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rg(t,n,a,o){n.value=a,n.getSnapshot=o,Ig(n)&&xg(t)}function Cg(t,n,a){return a(function(){Ig(n)&&xg(t)})}function Ig(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ce(t,a)}catch{return!0}}function xg(t){var n=or(t,2);n!==null&&Ar(n,t,2)}function td(t){var n=lr();if(typeof t=="function"){var a=t;if(t=a(),ko){Xe(!0);try{a()}finally{Xe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Mg(t,n,a,o){return t.baseState=a,Zf(t,En,typeof o=="function"?o:ss)}function I1(t,n,a,o,h){if(kc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};H.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,Ng(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Ng(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=H.T,T={};H.T=T;try{var M=a(h,o),Y=H.S;Y!==null&&Y(T,M),Dg(t,n,M)}catch(ue){nd(t,n,ue)}finally{m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}else try{m=a(h,o),Dg(t,n,m)}catch(ue){nd(t,n,ue)}}function Dg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Og(t,n,o)},function(o){return nd(t,n,o)}):Og(t,n,a)}function Og(t,n,a){n.status="fulfilled",n.value=a,Vg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ng(t,a)))}function nd(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Vg(n),n=n.next;while(n!==o)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function kg(t,n){return n}function Pg(t,n){if(Jt){var a=Rn.formState;if(a!==null){e:{var o=Dt;if(Jt){if(kn){t:{for(var h=kn,m=$r;h.nodeType!==8;){if(!m){h=null;break t}if(h=Zr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){kn=Zr(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(n=a[0])}}return a=lr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},a.queue=o,a=ty.bind(null,Dt,o),o.dispatch=a,o=td(!1),m=ld.bind(null,Dt,!1,o.queue),o=lr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=I1.bind(null,Dt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Lg(t){var n=ni();return Ug(n,En,t)}function Ug(t,n,a){if(n=Zf(t,n,kg)[0],t=Dc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pu(n)}catch(T){throw T===cl?Ec:T}else o=n;n=ni();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,pl(9,{destroy:void 0},x1.bind(null,h,a),null)),[o,m,t]}function x1(t,n){t.action=n}function jg(t){var n=ni(),a=En;if(a!==null)return Ug(n,a,t);ni(),n=n.memoizedState,a=ni();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function pl(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Mc(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function zg(){return ni().memoizedState}function Oc(t,n,a,o){var h=lr();Dt.flags|=t,h.memoizedState=pl(1|n,{destroy:void 0},a,o===void 0?null:o)}function Vc(t,n,a,o){var h=ni();o=o===void 0?null:o;var m=h.memoizedState.inst;En!==null&&o!==null&&Xf(o,En.memoizedState.deps)?h.memoizedState=pl(n,m,a,o):(Dt.flags|=t,h.memoizedState=pl(1|n,m,a,o))}function Bg(t,n){Oc(8390656,8,t,n)}function id(t,n){Vc(2048,8,t,n)}function M1(t){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Mc(),Dt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Fg(t){var n=ni().memoizedState;return M1({ref:n,nextImpl:t}),function(){if((dn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Hg(t,n){return Vc(4,2,t,n)}function qg(t,n){return Vc(4,4,t,n)}function Gg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,a){a=a!=null?a.concat([t]):null,Vc(4,4,Gg.bind(null,n,t),a)}function rd(){}function Xg(t,n){var a=ni();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Xf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Qg(t,n){var a=ni();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Xf(n,o[1]))return o[0];if(o=t(),ko){Xe(!0);try{t()}finally{Xe(!1)}}return a.memoizedState=[o,n],o}function ad(t,n,a){return a===void 0||(as&1073741824)!==0&&(Yt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ky(),Dt.lanes|=t,Gs|=t,a)}function Kg(t,n,a,o){return ce(a,n)?a:fl.current!==null?(t=ad(t,a,o),ce(t,n)||(li=!0),t):(as&42)===0||(as&1073741824)!==0&&(Yt&261930)===0?(li=!0,t.memoizedState=a):(t=Ky(),Dt.lanes|=t,Gs|=t,n)}function Wg(t,n,a,o,h){var m=ee.p;ee.p=m!==0&&8>m?m:8;var T=H.T,M={};H.T=M,ld(t,!1,n,a);try{var Y=h(),ue=H.S;if(ue!==null&&ue(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ve=S1(Y,o);gu(t,n,ve,zr(t))}else gu(t,n,o,zr(t))}catch(we){gu(t,n,{then:function(){},status:"rejected",reason:we},zr())}finally{ee.p=m,T!==null&&M.types!==null&&(T.types=M.types),H.T=T}}function N1(){}function sd(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=$g(t).queue;Wg(t,h,n,ye,a===null?N1:function(){return Jg(t),a(o)})}function $g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jg(t){var n=$g(t);n.next===null&&(n=t.alternate.memoizedState),gu(t,n.next.queue,{},zr())}function od(){return Mi(Ou)}function Zg(){return ni().memoizedState}function ey(){return ni().memoizedState}function D1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=zr();t=js(a);var o=zs(n,t,a);o!==null&&(Ar(o,n,a),hu(o,n,a)),n={cache:Pf()},t.payload=n;return}n=n.return}}function O1(t,n,a){var o=zr();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?ny(n,a):(a=fa(t,n,a,o),a!==null&&(Ar(a,t,o),iy(a,n,o)))}function ty(t,n,a){var o=zr();gu(t,n,a,o)}function gu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))ny(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ce(M,T))return Ca(t,n,h,0),Rn===null&&Ra(),!1}catch{}finally{}if(a=fa(t,n,h,o),a!==null)return Ar(a,t,o),iy(a,n,o),!0}return!1}function ld(t,n,a,o){if(o={lane:2,revertLane:zd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(s(479))}else n=fa(t,a,o,2),n!==null&&Ar(n,t,2)}function kc(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function ny(t,n){dl=Ic=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function iy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ba(t,a)}}var yu={readContext:Mi,use:Nc,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn,useHostTransitionStatus:Wn,useFormState:Wn,useActionState:Wn,useOptimistic:Wn,useMemoCache:Wn,useCacheRefresh:Wn};yu.useEffectEvent=Wn;var ry={readContext:Mi,use:Nc,useCallback:function(t,n){return lr().memoizedState=[t,n===void 0?null:n],t},useContext:Mi,useEffect:Bg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,Gg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var a=lr();n=n===void 0?null:n;var o=t();if(ko){Xe(!0);try{t()}finally{Xe(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=lr();if(a!==void 0){var h=a(n);if(ko){Xe(!0);try{a(n)}finally{Xe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=O1.bind(null,Dt,t),[o.memoizedState,t]},useRef:function(t){var n=lr();return t={current:t},n.memoizedState=t},useState:function(t){t=td(t);var n=t.queue,a=ty.bind(null,Dt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,n){var a=lr();return ad(a,t,n)},useTransition:function(){var t=td(!1);return t=Wg.bind(null,Dt,t.queue,!0,!1),lr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Dt,h=lr();if(Jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Rn===null)throw Error(s(349));(Yt&127)!==0||Sg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,Bg(Cg.bind(null,o,m,t),[t]),o.flags|=2048,pl(9,{destroy:void 0},Rg.bind(null,o,m,a,n),null),a},useId:function(){var t=lr(),n=Rn.identifierPrefix;if(Jt){var a=xa,o=Ia;a=(o&~(1<<32-nt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=R1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:od,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var n=lr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ld.bind(null,Dt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Jf,useCacheRefresh:function(){return lr().memoizedState=D1.bind(null,Dt)},useEffectEvent:function(t){var n=lr(),a={impl:t};return n.memoizedState=a,function(){if((dn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Mi,use:Nc,useCallback:Xg,useContext:Mi,useEffect:id,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:Dc,useRef:zg,useState:function(){return Dc(ss)},useDebugValue:rd,useDeferredValue:function(t,n){var a=ni();return Kg(a,En.memoizedState,t,n)},useTransition:function(){var t=Dc(ss)[0],n=ni().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:od,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=ni();return Mg(a,En,t,n)},useMemoCache:Jf,useCacheRefresh:ey};ud.useEffectEvent=Fg;var ay={readContext:Mi,use:Nc,useCallback:Xg,useContext:Mi,useEffect:id,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:ed,useRef:zg,useState:function(){return ed(ss)},useDebugValue:rd,useDeferredValue:function(t,n){var a=ni();return En===null?ad(a,t,n):Kg(a,En.memoizedState,t,n)},useTransition:function(){var t=ed(ss)[0],n=ni().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:od,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var a=ni();return En!==null?Mg(a,En,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:ey};ay.useEffectEvent=Fg;function cd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=zr(),h=js(o);h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Ar(n,t,o),hu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=zr(),h=js(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Ar(n,t,o),hu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=zr(),o=js(a);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,a),n!==null&&(Ar(n,t,a),hu(n,t,a))}};function sy(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!le(a,o)||!le(h,m):!0}function oy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&hd.enqueueReplaceState(n,n.state,null)}function Po(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=L({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ly(t){Ii(t)}function uy(t){console.error(t)}function cy(t){Ii(t)}function Pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,n,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,n)},a}function fy(t){return t=js(t),t.tag=3,t}function dy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){hy(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){hy(n,a,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function V1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ol(n,a,h,!0),a=Pr.current,a!==null){switch(a.tag){case 31:case 13:return Jr===null?Qc():a.alternate===null&&$n===0&&($n=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ld(t,o,h)),!1;case 22:return a.flags|=65536,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ld(t,o,h)),!1}throw Error(s(435,a.tag))}return Ld(t,o,h),Qc(),!1}if(Jt)return n=Pr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Nf&&(t=Error(s(422),{cause:o}),su(Qr(t,a)))):(o!==Nf&&(n=Error(s(423),{cause:o}),su(Qr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qr(o,a),h=fd(t.stateNode,o,h),Ff(t,h),$n!==4&&($n=2)),!1;var m=Error(s(520),{cause:o});if(m=Qr(m,a),Su===null?Su=[m]:Su.push(m),$n!==4&&($n=2),n===null)return!0;o=Qr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,o,t),Ff(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fy(h),dy(h,t,a,o),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),li=!1;function Ni(t,n,a,o){n.child=t===null?yg(n,null,a,o):Vo(n,t.child,a,o)}function my(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Mo(n),o=Qf(t,n,a,T,m,h),M=Kf(),t!==null&&!li?(Wf(t,n,h),os(t,n,h)):(Jt&&M&&xf(n),n.flags|=1,Ni(t,n,o,h),n.child)}function py(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Rf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,gy(t,n,m,o,h)):(t=yc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!wd(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:le,a(T,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(m,o),t.ref=n.ref,t.return=n,n.child=t}function gy(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(le(m,o)&&t.ref===n.ref)if(li=!1,n.pendingProps=o=m,wd(t,h))(t.flags&131072)!==0&&(li=!0);else return n.lanes=t.lanes,os(t,n,h)}return md(t,n,a,o,h)}function yy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return vy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(n,m!==null?m.cachePool:null),m!==null?bg(n,m):qf(),wg(n);else return o=n.lanes=536870912,vy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(wc(n,m.cachePool),bg(n,m),Fs(),n.memoizedState=null):(t!==null&&wc(n,null),qf(),Fs());return Ni(t,n,h,a),n.child}function vu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(t,n,a,o,h){var m=Uf();return m=m===null?null:{parent:si._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&wc(n,null),qf(),wg(n),t!==null&&ol(t,n,o,!0),n.childLanes=h,null}function Lc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _y(t,n,a){return Vo(n,t.child,null,a),t=Lc(n,n.pendingProps),t.flags|=2,Lr(n),n.memoizedState=null,t}function k1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Jt){if(o.mode==="hidden")return t=Lc(n,o),n.lanes=536870912,vu(null,t);if(Yf(n),(t=kn)?(t=Nv(t,$r),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ia,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},a=ng(t),a.return=n,n.child=a,xi=n,kn=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return Lc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Yf(n),h)if(n.flags&256)n.flags&=-257,n=_y(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(li||ol(t,n,a,!1),h=(a&t.childLanes)!==0,li||h){if(o=Rn,o!==null&&(T=Rr(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,or(t,T),Ar(o,t,T),dd;Qc(),n=_y(t,n,a)}else t=m.treeContext,kn=Zr(T.nextSibling),xi=n,Jt=!0,ks=null,$r=!1,t!==null&&ag(n,t),n=Lc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function md(t,n,a,o,h){return Mo(n),a=Qf(t,n,a,o,void 0,h),o=Kf(),t!==null&&!li?(Wf(t,n,h),os(t,n,h)):(Jt&&o&&xf(n),n.flags|=1,Ni(t,n,a,h),n.child)}function by(t,n,a,o,h,m){return Mo(n),n.updateQueue=null,a=Tg(n,o,a,h),Eg(t),o=Kf(),t!==null&&!li?(Wf(t,n,m),os(t,n,m)):(Jt&&o&&xf(n),n.flags|=1,Ni(t,n,a,m),n.child)}function wy(t,n,a,o,h){if(Mo(n),n.stateNode===null){var m=kr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Mi(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},zf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Mi(T):kr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(cd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&hd.enqueueReplaceState(m,m.state,null),du(n,o,m,h),fu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Y=Po(a,M);m.props=Y;var ue=m.context,ve=a.contextType;T=kr,typeof ve=="object"&&ve!==null&&(T=Mi(ve));var we=a.getDerivedStateFromProps;ve=typeof we=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ue!==T)&&oy(n,m,o,T),Us=!1;var he=n.memoizedState;m.state=he,du(n,o,m,h),fu(),ue=n.memoizedState,M||he!==ue||Us?(typeof we=="function"&&(cd(n,a,we,o),ue=n.memoizedState),(Y=Us||sy(n,a,Y,o,he,ue,T))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ue),m.props=o,m.state=ue,m.context=T,o=Y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Bf(t,n),T=n.memoizedProps,ve=Po(a,T),m.props=ve,we=n.pendingProps,he=m.context,ue=a.contextType,Y=kr,typeof ue=="object"&&ue!==null&&(Y=Mi(ue)),M=a.getDerivedStateFromProps,(ue=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==we||he!==Y)&&oy(n,m,o,Y),Us=!1,he=n.memoizedState,m.state=he,du(n,o,m,h),fu();var ge=n.memoizedState;T!==we||he!==ge||Us||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof M=="function"&&(cd(n,a,M,o),ge=n.memoizedState),(ve=Us||sy(n,a,ve,o,he,ge,Y)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(ue||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,Y)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=Y,o=ve):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Vo(n,t.child,null,h),n.child=Vo(n,null,a,h)):Ni(t,n,a,h),n.memoizedState=m.state,t=n.child):t=os(t,n,h),t}function Ey(t,n,a,o){return Io(),n.flags|=256,Ni(t,n,a,o),n.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:hg()}}function yd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jr),t}function Ty(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ti.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(Jt){if(h?Bs(n):Fs(),(t=kn)?(t=Nv(t,$r),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ia,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},a=ng(t),a.return=n,n.child=a,xi=n,kn=null)):t=null,t===null)throw Ps(n);return Zd(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Fs(),h=n.mode,M=jc({mode:"hidden",children:M},h),o=Co(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=gd(a),o.childLanes=yd(t,T,a),n.memoizedState=pd,vu(null,o)):(Bs(n),vd(n,M))}var Y=t.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(m)n.flags&256?(Bs(n),n.flags&=-257,n=_d(t,n,a)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),M=o.fallback,h=n.mode,o=jc({mode:"visible",children:o.children},h),M=Co(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Vo(n,t.child,null,a),o=n.child,o.memoizedState=gd(a),o.childLanes=yd(t,T,a),n.memoizedState=pd,n=vu(null,o));else if(Bs(n),Zd(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ue=T.dgst;T=ue,o=Error(s(419)),o.stack="",o.digest=T,su({value:o,source:null,stack:null}),n=_d(t,n,a)}else if(li||ol(t,n,a,!1),T=(a&t.childLanes)!==0,li||T){if(T=Rn,T!==null&&(o=Rr(T,a),o!==0&&o!==Y.retryLane))throw Y.retryLane=o,or(t,o),Ar(T,t,o),dd;Jd(M)||Qc(),n=_d(t,n,a)}else Jd(M)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,kn=Zr(M.nextSibling),xi=n,Jt=!0,ks=null,$r=!1,t!==null&&ag(n,t),n=vd(n,o.children),n.flags|=4096);return n}return h?(Fs(),M=o.fallback,h=n.mode,Y=t.child,ue=Y.sibling,o=ts(Y,{mode:"hidden",children:o.children}),o.subtreeFlags=Y.subtreeFlags&65011712,ue!==null?M=ts(ue,M):(M=Co(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,vu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=gd(a):(h=M.cachePool,h!==null?(Y=si._currentValue,h=h.parent!==Y?{parent:Y,pool:Y}:h):h=hg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=yd(t,T,a),n.memoizedState=pd,vu(t.child,o)):(Bs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function vd(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=Gi(22,t,null,n),t.lanes=0,t}function _d(t,n,a){return Vo(n,t.child,null,a),t=vd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ay(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Vf(t.return,n,a)}function bd(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Sy(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ti.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Se(ti,T),Ni(t,n,o,a),o=Jt?au:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,n);else if(t.tag===19)Ay(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),bd(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(n,!0,a,null,m,o);break;case"together":bd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ol(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function wd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function P1(t,n,a){switch(n.tag){case 3:ut(n,n.stateNode.containerInfo),Ls(n,si,t.memoizedState.cache),Io();break;case 27:case 5:Ct(n);break;case 4:ut(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ty(t,n,a):(Bs(n),t=os(t,n,a),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ol(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Sy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Se(ti,ti.current),o)break;return null;case 22:return n.lanes=0,yy(t,n,a,n.pendingProps);case 24:Ls(n,si,t.memoizedState.cache)}return os(t,n,a)}function Ry(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)li=!0;else{if(!wd(t,a)&&(n.flags&128)===0)return li=!1,P1(t,n,a);li=(t.flags&131072)!==0}else li=!1,Jt&&(n.flags&1048576)!==0&&rg(n,au,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Do(n.elementType),n.type=t,typeof t=="function")Rf(t)?(o=Po(t,o),n.tag=1,n=wy(null,n,t,o,a)):(n.tag=0,n=md(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=my(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=py(null,n,t,o,a);break e}}throw n=X(t)||t,Error(s(306,n,""))}}return n;case 0:return md(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Po(o,n.pendingProps),wy(t,n,o,h,a);case 3:e:{if(ut(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Bf(t,n),du(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ls(n,si,o),o!==m.cache&&kf(n,[si],a,!0),fu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ey(t,n,o,a);break e}else if(o!==h){h=Qr(Error(s(424)),n),su(h),n=Ey(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(kn=Zr(t.firstChild),xi=n,Jt=!0,ks=null,$r=!0,a=yg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),o===h){n=os(t,n,a);break e}Ni(t,n,o,a)}n=n.child}return n;case 26:return Uc(t,n),t===null?(a=Lv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Jt||(a=n.type,t=n.pendingProps,o=th(qe.current).createElement(a),o[pn]=n,o[zn]=t,Di(o,a,t),On(o),n.stateNode=o):n.memoizedState=Lv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ct(n),t===null&&Jt&&(o=n.stateNode=Vv(n.type,n.pendingProps,qe.current),xi=n,$r=!0,h=kn,Ws(n.type)?(em=h,kn=Zr(o.firstChild)):kn=h),Ni(t,n,n.pendingProps.children,a),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Jt&&((h=o=kn)&&(o=fE(o,n.type,n.pendingProps,$r),o!==null?(n.stateNode=o,xi=n,kn=Zr(o.firstChild),$r=!1,h=!0):h=!1),h||Ps(n)),Ct(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Kd(h,m)?o=null:T!==null&&Kd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Qf(t,n,C1,null,null,a),Ou._currentValue=h),Uc(t,n),Ni(t,n,o,a),n.child;case 6:return t===null&&Jt&&((t=a=kn)&&(a=dE(a,n.pendingProps,$r),a!==null?(n.stateNode=a,xi=n,kn=null,t=!0):t=!1),t||Ps(n)),null;case 13:return Ty(t,n,a);case 4:return ut(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vo(n,null,o,a):Ni(t,n,o,a),n.child;case 11:return my(t,n,n.type,n.pendingProps,a);case 7:return Ni(t,n,n.pendingProps,a),n.child;case 8:return Ni(t,n,n.pendingProps.children,a),n.child;case 12:return Ni(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),Ni(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mo(n),h=Mi(h),o=o(h),n.flags|=1,Ni(t,n,o,a),n.child;case 14:return py(t,n,n.type,n.pendingProps,a);case 15:return gy(t,n,n.type,n.pendingProps,a);case 19:return Sy(t,n,a);case 31:return k1(t,n,a);case 22:return yy(t,n,a,n.pendingProps);case 24:return Mo(n),o=Mi(si),t===null?(h=Uf(),h===null&&(h=Rn,m=Pf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},zf(n),Ls(n,si,h)):((t.lanes&a)!==0&&(Bf(t,n),du(n,null,null,a),fu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,si,o)):(o=m.cache,Ls(n,si,o),o!==h.cache&&kf(n,[si],a,!0))),Ni(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ls(t){t.flags|=4}function Ed(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Oo=Tc,jf}else t.flags&=-16777217}function Cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fv(n))if(Zy())t.flags|=8192;else throw Oo=Tc,jf}function zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gt():536870912,t.lanes|=n,_l|=n)}function _u(t,n){if(!Jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Pn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function L1(t,n,a){var o=n.pendingProps;switch(Mf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(n),null;case 1:return Pn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(si),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Df())),Pn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ls(n),m!==null?(Pn(n),Cy(n,m)):(Pn(n),Ed(n,h,null,o,a))):m?m!==t.memoizedState?(ls(n),Pn(n),Cy(n,m)):(Pn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),Pn(n),Ed(n,h,t,o,a)),null;case 27:if(nn(n),a=qe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Pn(n),null}t=be.current,sl(n)?sg(n):(t=Vv(h,o,a),n.stateNode=t,ls(n))}return Pn(n),null;case 5:if(nn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Pn(n),null}if(m=be.current,sl(n))sg(n);else{var T=th(qe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[pn]=n,m[zn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Di(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return Pn(n),Ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=qe.current,sl(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=xi,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[pn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Tv(t.nodeValue,a)),t||Ps(n,!0)}else t=th(t).createTextNode(o),t[pn]=n,n.stateNode=t}return Pn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=sl(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pn]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pn(n),t=!1}else a=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Lr(n),n):(Lr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Pn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[pn]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pn(n),h=!1}else h=Df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Lr(n),n):(Lr(n),null)}return Lr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),zc(n,n.updateQueue),Pn(n),null);case 4:return _t(),t===null&&qd(n.stateNode.containerInfo),Pn(n),null;case 10:return rs(n.type),Pn(n),null;case 19:if(se(ti),o=n.memoizedState,o===null)return Pn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)_u(o,!1);else{if($n!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Cc(t),m!==null){for(n.flags|=128,_u(o,!1),t=m.updateQueue,n.updateQueue=t,zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)tg(a,t),a=a.sibling;return Se(ti,ti.current&1|2),Jt&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Vt()>Gc&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304)}else{if(!h)if(t=Cc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,zc(n,t),_u(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Jt)return Pn(n),null}else 2*Vt()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Vt(),t.sibling=null,a=ti.current,Se(ti,h?a&1|2:a&1),Jt&&ns(n,o.treeForkCount),t):(Pn(n),null);case 22:case 23:return Lr(n),Gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Pn(n),n.subtreeFlags&6&&(n.flags|=8192)):Pn(n),a=n.updateQueue,a!==null&&zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&se(No),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(si),Pn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function U1(t,n){switch(Mf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(si),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return nn(n),null;case 31:if(n.memoizedState!==null){if(Lr(n),n.alternate===null)throw Error(s(340));Io()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Lr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Io()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return se(ti),null;case 4:return _t(),null;case 10:return rs(n.type),null;case 22:case 23:return Lr(n),Gf(),t!==null&&se(No),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(si),null;case 25:return null;default:return null}}function Iy(t,n){switch(Mf(n),n.tag){case 3:rs(si),_t();break;case 26:case 27:case 5:nn(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Lr(n);break;case 13:Lr(n);break;case 19:se(ti);break;case 10:rs(n.type);break;case 22:case 23:Lr(n),Gf(),t!==null&&se(No);break;case 24:rs(si)}}function bu(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){wn(n,n.return,M)}}function Hs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var Y=a,ue=M;try{ue()}catch(ve){wn(h,Y,ve)}}}o=o.next}while(o!==m)}}catch(ve){wn(n,n.return,ve)}}function xy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{_g(n,a)}catch(o){wn(t,t.return,o)}}}function My(t,n,a){a.props=Po(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){wn(t,n,o)}}function wu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){wn(t,n,h)}}function Ma(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){wn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){wn(t,n,h)}else a.current=null}function Ny(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){wn(t,t.return,h)}}function Td(t,n,a){try{var o=t.stateNode;sE(o,t.type,a,n),o[zn]=n}catch(h){wn(t,t.return,h)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=hr));else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Sd(t,n,a),t=t.sibling;t!==null;)Sd(t,n,a),t=t.sibling}function Bc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,n,a),t=t.sibling;t!==null;)Bc(t,n,a),t=t.sibling}function Oy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Di(n,o,a),n[pn]=t,n[zn]=a}catch(m){wn(t,t.return,m)}}var us=!1,ui=!1,Rd=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,vi=null;function j1(t,n){if(t=t.containerInfo,Xd=lh,t=Z(t),Be(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,Y=-1,ue=0,ve=0,we=t,he=null;t:for(;;){for(var ge;we!==a||h!==0&&we.nodeType!==3||(M=T+h),we!==m||o!==0&&we.nodeType!==3||(Y=T+o),we.nodeType===3&&(T+=we.nodeValue.length),(ge=we.firstChild)!==null;)he=we,we=ge;for(;;){if(we===t)break t;if(he===a&&++ue===h&&(M=T),he===m&&++ve===o&&(Y=T),(ge=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=ge}a=M===-1||Y===-1?null:{start:M,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},lh=!1,vi=n;vi!==null;)if(n=vi,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,vi=t;else for(;vi!==null;){switch(n=vi,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var lt=Po(a.type,h);t=o.getSnapshotBeforeUpdate(lt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(vt){wn(a,a.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,vi=t;break}vi=n.return}}function ky(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&bu(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){wn(a,a.return,T)}else{var h=Po(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){wn(a,a.return,T)}}o&64&&xy(a),o&512&&wu(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{_g(t,n)}catch(T){wn(a,a.return,T)}}break;case 27:n===null&&o&4&&Oy(a);case 26:case 5:hs(t,a),n===null&&o&4&&Ny(a),o&512&&wu(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&Uy(t,a);break;case 13:hs(t,a),o&4&&jy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Q1.bind(null,a),mE(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||ui,h=us;var m=ui;us=o,(ui=n)&&!m?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,ui=m}break;case 30:break;default:hs(t,a)}}function Py(t){var n=t.alternate;n!==null&&(t.alternate=null,Py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ei(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Bn=null,br=!1;function cs(t,n,a){for(a=a.child;a!==null;)Ly(t,n,a),a=a.sibling}function Ly(t,n,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount($e,a)}catch{}switch(a.tag){case 26:ui||Ma(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ui||Ma(a,n);var o=Bn,h=br;Ws(a.type)&&(Bn=a.stateNode,br=!1),cs(t,n,a),Mu(a.stateNode),Bn=o,br=h;break;case 5:ui||Ma(a,n);case 6:if(o=Bn,h=br,Bn=null,cs(t,n,a),Bn=o,br=h,Bn!==null)if(br)try{(Bn.nodeType===9?Bn.body:Bn.nodeName==="HTML"?Bn.ownerDocument.body:Bn).removeChild(a.stateNode)}catch(m){wn(a,n,m)}else try{Bn.removeChild(a.stateNode)}catch(m){wn(a,n,m)}break;case 18:Bn!==null&&(br?(t=Bn,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):xv(Bn,a.stateNode));break;case 4:o=Bn,h=br,Bn=a.stateNode.containerInfo,br=!0,cs(t,n,a),Bn=o,br=h;break;case 0:case 11:case 14:case 15:Hs(2,a,n),ui||Hs(4,a,n),cs(t,n,a);break;case 1:ui||(Ma(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&My(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:ui=(o=ui)||a.memoizedState!==null,cs(t,n,a),ui=o;break;default:cs(t,n,a)}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(a){wn(n,n.return,a)}}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){wn(n,n.return,a)}}function z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vy),n;default:throw Error(s(435,t.tag))}}function Fc(t,n){var a=z1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=K1.bind(null,t,o);o.then(h,h)}})}function wr(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ws(M.type)){Bn=M.stateNode,br=!1;break e}break;case 5:Bn=M.stateNode,br=!1;break e;case 3:case 4:Bn=M.stateNode.containerInfo,br=!0;break e}M=M.return}if(Bn===null)throw Error(s(160));Ly(m,T,h),Bn=null,br=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zy(n,t),n=n.sibling}var da=null;function zy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wr(n,t),Er(t),o&4&&(Hs(3,t,t.return),bu(3,t),Hs(5,t,t.return));break;case 1:wr(n,t),Er(t),o&512&&(ui||a===null||Ma(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=da;if(wr(n,t),Er(t),o&512&&(ui||a===null||Ma(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ji]||m[pn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Di(m,o,a),m[pn]=t,On(m),o=m;break e;case"link":var T=zv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Di(m,o,a),h.head.appendChild(m);break;case"meta":if(T=zv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Di(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[pn]=t,On(m),o=m}t.stateNode=o}else Bv(h,t.type,t.stateNode);else t.stateNode=jv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Bv(h,t.type,t.stateNode):jv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:wr(n,t),Er(t),o&512&&(ui||a===null||Ma(a,a.return)),a!==null&&o&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wr(n,t),Er(t),o&512&&(ui||a===null||Ma(a,a.return)),t.flags&32){h=t.stateNode;try{ai(h,"")}catch(lt){wn(t,t.return,lt)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Rd=!0);break;case 6:if(wr(n,t),Er(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(lt){wn(t,t.return,lt)}}break;case 3:if(rh=null,h=da,da=nh(n.containerInfo),wr(n,t),da=h,Er(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(lt){wn(t,t.return,lt)}Rd&&(Rd=!1,By(t));break;case 4:o=da,da=nh(t.stateNode.containerInfo),wr(n,t),Er(t),da=o;break;case 12:wr(n,t),Er(t);break;case 31:wr(n,t),Er(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 13:wr(n,t),Er(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=Vt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 22:h=t.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,ue=us,ve=ui;if(us=ue||h,ui=ve||Y,wr(n,t),ui=ve,us=ue,Er(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Y||us||ui||Lo(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(m=Y.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Y.stateNode;var we=Y.memoizedProps.style,he=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(lt){wn(Y,Y.return,lt)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(lt){wn(Y,Y.return,lt)}}}else if(n.tag===18){if(a===null){Y=n;try{var ge=Y.stateNode;h?Mv(ge,!0):Mv(Y.stateNode,!1)}catch(lt){wn(Y,Y.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fc(t,a))));break;case 19:wr(n,t),Er(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 30:break;case 21:break;default:wr(n,t),Er(t)}}function Er(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Ad(t);Bc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(ai(T,""),a.flags&=-33);var M=Ad(t);Bc(t,M,T);break;case 3:case 4:var Y=a.stateNode.containerInfo,ue=Ad(t);Sd(t,ue,Y);break;default:throw Error(s(161))}}catch(ve){wn(t,t.return,ve)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;By(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ky(t,n.alternate,n),n=n.sibling}function Lo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Lo(n);break;case 1:Ma(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&My(n,n.return,a),Lo(n);break;case 27:Mu(n.stateNode);case 26:case 5:Ma(n,n.return),Lo(n);break;case 22:n.memoizedState===null&&Lo(n);break;case 30:Lo(n);break;default:Lo(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fs(h,m,a),bu(4,m);break;case 1:if(fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ue){wn(o,o.return,ue)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)vg(Y[h],M)}catch(ue){wn(o,o.return,ue)}}a&&T&64&&xy(m),wu(m,m.return);break;case 27:Oy(m);case 26:case 5:fs(h,m,a),a&&o===null&&T&4&&Ny(m),wu(m,m.return);break;case 12:fs(h,m,a);break;case 31:fs(h,m,a),a&&T&4&&Uy(h,m);break;case 13:fs(h,m,a),a&&T&4&&jy(h,m);break;case 22:m.memoizedState===null&&fs(h,m,a),wu(m,m.return);break;case 30:break;default:fs(h,m,a)}n=n.sibling}}function Cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ou(a))}function Id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t))}function ma(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fy(t,n,a,o),n=n.sibling}function Fy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n,a,o),h&2048&&bu(9,n);break;case 1:ma(t,n,a,o);break;case 3:ma(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t)));break;case 12:if(h&2048){ma(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){wn(n,n.return,Y)}}else ma(t,n,a,o);break;case 31:ma(t,n,a,o);break;case 13:ma(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ma(t,n,a,o):Eu(t,n):m._visibility&2?ma(t,n,a,o):(m._visibility|=2,gl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(T,n);break;case 24:ma(t,n,a,o),h&2048&&Id(n.alternate,n);break;default:ma(t,n,a,o)}}function gl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,Y=o,ue=T.flags;switch(T.tag){case 0:case 11:case 15:gl(m,T,M,Y,h),bu(8,T);break;case 23:break;case 22:var ve=T.stateNode;T.memoizedState!==null?ve._visibility&2?gl(m,T,M,Y,h):Eu(m,T):(ve._visibility|=2,gl(m,T,M,Y,h)),h&&ue&2048&&Cd(T.alternate,T);break;case 24:gl(m,T,M,Y,h),h&&ue&2048&&Id(T.alternate,T);break;default:gl(m,T,M,Y,h)}n=n.sibling}}function Eu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Eu(a,o),h&2048&&Cd(o.alternate,o);break;case 24:Eu(a,o),h&2048&&Id(o.alternate,o);break;default:Eu(a,o)}n=n.sibling}}var Tu=8192;function yl(t,n,a){if(t.subtreeFlags&Tu)for(t=t.child;t!==null;)Hy(t,n,a),t=t.sibling}function Hy(t,n,a){switch(t.tag){case 26:yl(t,n,a),t.flags&Tu&&t.memoizedState!==null&&RE(a,da,t.memoizedState,t.memoizedProps);break;case 5:yl(t,n,a);break;case 3:case 4:var o=da;da=nh(t.stateNode.containerInfo),yl(t,n,a),da=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Tu,Tu=16777216,yl(t,n,a),Tu=o):yl(t,n,a));break;default:yl(t,n,a)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];vi=o,Yy(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:Au(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:Au(t);break;case 12:Au(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hc(t)):Au(t);break;default:Au(t)}}function Hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];vi=o,Yy(o,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),Hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(n));break;default:Hc(n)}t=t.sibling}}function Yy(t,n){for(;vi!==null;){var a=vi;switch(a.tag){case 0:case 11:case 15:Hs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ou(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,vi=o;else e:for(a=t;vi!==null;){o=vi;var h=o.sibling,m=o.return;if(Py(o),o===a){vi=null;break e}if(h!==null){h.return=m,vi=h;break e}vi=m}}}var B1={getCacheForType:function(t){var n=Mi(si),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Mi(si).controller.signal}},F1=typeof WeakMap=="function"?WeakMap:Map,dn=0,Rn=null,Ht=null,Yt=0,bn=0,Ur=null,qs=!1,vl=!1,xd=!1,ds=0,$n=0,Gs=0,Uo=0,Md=0,jr=0,_l=0,Su=null,Tr=null,Nd=!1,qc=0,Xy=0,Gc=1/0,Yc=null,Ys=null,gi=0,Xs=null,bl=null,ms=0,Dd=0,Od=null,Qy=null,Ru=0,Vd=null;function zr(){return(dn&2)!==0&&Yt!==0?Yt&-Yt:H.T!==null?zd():Hr()}function Ky(){if(jr===0)if((Yt&536870912)===0||Jt){var t=Fn;Fn<<=1,(Fn&3932160)===0&&(Fn=262144),jr=t}else jr=536870912;return t=Pr.current,t!==null&&(t.flags|=32),jr}function Ar(t,n,a){(t===Rn&&(bn===2||bn===9)||t.cancelPendingCommit!==null)&&(wl(t,0),Qs(t,Yt,jr,!1)),St(t,a),((dn&2)===0||t!==Rn)&&(t===Rn&&((dn&2)===0&&(Uo|=a),$n===4&&Qs(t,Yt,jr,!1)),Na(t))}function Wy(t,n,a){if((dn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||jn(t,n),h=o?G1(t,n):Pd(t,n,!0),m=o;do{if(h===0){vl&&!o&&Qs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!H1(a)){h=Pd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Su;var Y=M.current.memoizedState.isDehydrated;if(Y&&(wl(M,T).flags|=256),T=Pd(M,T,!1),T!==2){if(xd&&!Y){M.errorRecoveryDisabledLanes|=m,Uo|=m,h=4;break e}m=Tr,Tr=h,m!==null&&(Tr===null?Tr=m:Tr.push.apply(Tr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){wl(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,jr,!qs);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=qc+300-Vt(),10<h)){if(Qs(o,n,jr,!qs),Dn(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=Cv($y.bind(null,o,a,Tr,Yc,Nd,n,jr,Uo,_l,qs,m,"Throttled",-0,0),h);break e}$y(o,a,Tr,Yc,Nd,n,jr,Uo,_l,qs,m,null,-0,0)}}break}while(!0);Na(t)}function $y(t,n,a,o,h,m,T,M,Y,ue,ve,we,he,ge){if(t.timeoutHandle=-1,we=n.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hr},Hy(n,m,we);var lt=(m&62914560)===m?qc-Vt():(m&4194048)===m?Xy-Vt():0;if(lt=CE(we,lt),lt!==null){ms=m,t.cancelPendingCommit=lt(av.bind(null,t,n,m,a,o,h,T,M,Y,ve,we,null,he,ge)),Qs(t,m,T,!ue);return}}av(t,n,m,a,o,h,T,M,Y)}function H1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ce(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,a,o){n&=~Md,n&=~Uo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-nt(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Zi(t,a,n)}function Xc(){return(dn&6)===0?(Cu(0),!1):!0}function kd(){if(Ht!==null){if(bn===0)var t=Ht.return;else t=Ht,is=xo=null,$f(t),hl=null,uu=0,t=Ht;for(;t!==null;)Iy(t.alternate,t),t=t.return;Ht=null}}function wl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,kd(),Rn=t,Ht=a=ts(t.current,null),Yt=n,bn=0,Ur=null,qs=!1,vl=jn(t,n),xd=!1,_l=jr=Md=Uo=Gs=$n=0,Tr=Su=null,Nd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-nt(o),m=1<<h;n|=t[h],o&=~m}return ds=n,Ra(),a}function Jy(t,n){Dt=null,H.H=yu,n===cl||n===Ec?(n=mg(),bn=3):n===jf?(n=mg(),bn=4):bn=n===dd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ur=n,Ht===null&&($n=1,Pc(t,Qr(n,t.current)))}function Zy(){var t=Pr.current;return t===null?!0:(Yt&4194048)===Yt?Jr===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?t===Jr:!1}function ev(){var t=H.H;return H.H=yu,t===null?yu:t}function tv(){var t=H.A;return H.A=B1,t}function Qc(){$n=4,qs||(Yt&4194048)!==Yt&&Pr.current!==null||(vl=!0),(Gs&134217727)===0&&(Uo&134217727)===0||Rn===null||Qs(Rn,Yt,jr,!1)}function Pd(t,n,a){var o=dn;dn|=2;var h=ev(),m=tv();(Rn!==t||Yt!==n)&&(Yc=null,wl(t,n)),n=!1;var T=$n;e:do try{if(bn!==0&&Ht!==null){var M=Ht,Y=Ur;switch(bn){case 8:kd(),T=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(n=!0);var ue=bn;if(bn=0,Ur=null,El(t,M,Y,ue),a&&vl){T=0;break e}break;default:ue=bn,bn=0,Ur=null,El(t,M,Y,ue)}}q1(),T=$n;break}catch(ve){Jy(t,ve)}while(!0);return n&&t.shellSuspendCounter++,is=xo=null,dn=o,H.H=h,H.A=m,Ht===null&&(Rn=null,Yt=0,Ra()),T}function q1(){for(;Ht!==null;)nv(Ht)}function G1(t,n){var a=dn;dn|=2;var o=ev(),h=tv();Rn!==t||Yt!==n?(Yc=null,Gc=Vt()+500,wl(t,n)):vl=jn(t,n);e:do try{if(bn!==0&&Ht!==null){n=Ht;var m=Ur;t:switch(bn){case 1:bn=0,Ur=null,El(t,n,m,1);break;case 2:case 9:if(fg(m)){bn=0,Ur=null,iv(n);break}n=function(){bn!==2&&bn!==9||Rn!==t||(bn=7),Na(t)},m.then(n,n);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:fg(m)?(bn=0,Ur=null,iv(n)):(bn=0,Ur=null,El(t,n,m,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var M=Ht;if(T?Fv(T):M.stateNode.complete){bn=0,Ur=null;var Y=M.sibling;if(Y!==null)Ht=Y;else{var ue=M.return;ue!==null?(Ht=ue,Kc(ue)):Ht=null}break t}}bn=0,Ur=null,El(t,n,m,5);break;case 6:bn=0,Ur=null,El(t,n,m,6);break;case 8:kd(),$n=6;break e;default:throw Error(s(462))}}Y1();break}catch(ve){Jy(t,ve)}while(!0);return is=xo=null,H.H=o,H.A=h,dn=a,Ht!==null?0:(Rn=null,Yt=0,Ra(),$n)}function Y1(){for(;Ht!==null&&!$i();)nv(Ht)}function nv(t){var n=Ry(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function iv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=by(a,n,n.pendingProps,n.type,void 0,Yt);break;case 11:n=by(a,n,n.pendingProps,n.type.render,n.ref,Yt);break;case 5:$f(n);default:Iy(a,n),n=Ht=tg(n,ds),n=Ry(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?Kc(t):Ht=n}function El(t,n,a,o){is=xo=null,$f(n),hl=null,uu=0;var h=n.return;try{if(V1(t,h,n,a,Yt)){$n=1,Pc(t,Qr(a,t.current)),Ht=null;return}}catch(m){if(h!==null)throw Ht=h,m;$n=1,Pc(t,Qr(a,t.current)),Ht=null;return}n.flags&32768?(Jt||o===1?t=!0:vl||(Yt&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pr.current,o!==null&&o.tag===13&&(o.flags|=16384))),rv(n,t)):Kc(n)}function Kc(t){var n=t;do{if((n.flags&32768)!==0){rv(n,qs);return}t=n.return;var a=L1(n.alternate,n,ds);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);$n===0&&($n=5)}function rv(t,n){do{var a=U1(t.alternate,t);if(a!==null){a.flags&=32767,Ht=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=a}while(t!==null);$n=6,Ht=null}function av(t,n,a,o,h,m,T,M,Y){t.cancelPendingCommit=null;do Wc();while(gi!==0);if((dn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=il,Ji(t,a,m,T,M,Y),t===Rn&&(Ht=Rn=null,Yt=0),bl=n,Xs=t,ms=a,Dd=m,Od=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W1(_,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ee.p,ee.p=2,T=dn,dn|=4;try{j1(t,n,a)}finally{dn=T,ee.p=h,H.T=o}}gi=1,sv(),ov(),lv()}}function sv(){if(gi===1){gi=0;var t=Xs,n=bl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=dn;dn|=4;try{zy(n,t);var m=Qd,T=Z(t.containerInfo),M=m.focusedElem,Y=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&st(M.ownerDocument.documentElement,M)){if(Y!==null&&Be(M)){var ue=Y.start,ve=Y.end;if(ve===void 0&&(ve=ue),"selectionStart"in M)M.selectionStart=ue,M.selectionEnd=Math.min(ve,M.value.length);else{var we=M.ownerDocument||document,he=we&&we.defaultView||window;if(he.getSelection){var ge=he.getSelection(),lt=M.textContent.length,vt=Math.min(Y.start,lt),An=Y.end===void 0?vt:Math.min(Y.end,lt);!ge.extend&&vt>An&&(T=An,An=vt,vt=T);var te=Je(M,vt),Q=Je(M,An);if(te&&Q&&(ge.rangeCount!==1||ge.anchorNode!==te.node||ge.anchorOffset!==te.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var oe=we.createRange();oe.setStart(te.node,te.offset),ge.removeAllRanges(),vt>An?(ge.addRange(oe),ge.extend(Q.node,Q.offset)):(oe.setEnd(Q.node,Q.offset),ge.addRange(oe))}}}}for(we=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&we.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var _e=we[M];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}lh=!!Xd,Qd=Xd=null}finally{dn=h,ee.p=o,H.T=a}}t.current=n,gi=2}}function ov(){if(gi===2){gi=0;var t=Xs,n=bl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=dn;dn|=4;try{ky(t,n.alternate,n)}finally{dn=h,ee.p=o,H.T=a}}gi=3}}function lv(){if(gi===4||gi===3){gi=0,Un();var t=Xs,n=bl,a=ms,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gi=5:(gi=0,bl=Xs=null,uv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Qe(a),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot($e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{H.T=n,ee.p=h}}(ms&3)!==0&&Wc(),Na(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Vd?Ru++:(Ru=0,Vd=t):Ru=0,Cu(0)}}function uv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ou(n)))}function Wc(){return sv(),ov(),lv(),cv()}function cv(){if(gi!==5)return!1;var t=Xs,n=Dd;Dd=0;var a=Qe(ms),o=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=Od,Od=null;var m=Xs,T=ms;if(gi=0,bl=Xs=null,ms=0,(dn&6)!==0)throw Error(s(331));var M=dn;if(dn|=4,Gy(m.current),Fy(m,m.current,T,a),dn=M,Cu(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot($e,m)}catch{}return!0}finally{ee.p=h,H.T=o,uv(t,n)}}function hv(t,n,a){n=Qr(a,n),n=fd(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(St(t,2),Na(t))}function wn(t,n,a){if(t.tag===3)hv(t,t,a);else for(;n!==null;){if(n.tag===3){hv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Qr(a,t),a=fy(2),o=zs(n,a,2),o!==null&&(dy(a,o,n,t),St(o,2),Na(o));break}}n=n.return}}function Ld(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new F1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(xd=!0,h.add(a),t=X1.bind(null,t,n,a),n.then(t,t))}function X1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Rn===t&&(Yt&a)===a&&($n===4||$n===3&&(Yt&62914560)===Yt&&300>Vt()-qc?(dn&2)===0&&wl(t,0):Md|=a,_l===Yt&&(_l=0)),Na(t)}function fv(t,n){n===0&&(n=gt()),t=or(t,n),t!==null&&(St(t,n),Na(t))}function Q1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),fv(t,a)}function K1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),fv(t,a)}function W1(t,n){return un(t,n)}var $c=null,Tl=null,Ud=!1,Jc=!1,jd=!1,Ks=0;function Na(t){t!==Tl&&t.next===null&&(Tl===null?$c=Tl=t:Tl=Tl.next=t),Jc=!0,Ud||(Ud=!0,J1())}function Cu(t,n){if(!jd&&Jc){jd=!0;do for(var a=!1,o=$c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-nt(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,gv(o,m))}else m=Yt,m=Dn(o,o===Rn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||jn(o,m)||(a=!0,gv(o,m));o=o.next}while(a);jd=!1}}function $1(){dv()}function dv(){Jc=Ud=!1;var t=0;Ks!==0&&lE()&&(t=Ks);for(var n=Vt(),a=null,o=$c;o!==null;){var h=o.next,m=mv(o,n);m===0?(o.next=null,a===null?$c=h:a.next=h,h===null&&(Tl=a)):(a=o,(t!==0||(m&3)!==0)&&(Jc=!0)),o=h}gi!==0&&gi!==5||Cu(t),Ks!==0&&(Ks=0)}function mv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-nt(m),M=1<<T,Y=h[T];Y===-1?((M&a)===0||(M&o)!==0)&&(h[T]=Pi(M,n)):Y<=n&&(t.expiredLanes|=M),m&=~M}if(n=Rn,a=Yt,a=Dn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(bn===2||bn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Zt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Zt(o),Qe(a)){case 2:case 8:a=g;break;case 32:a=_;break;case 268435456:a=K;break;default:a=_}return o=pv.bind(null,t),a=un(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Zt(o),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,n){if(gi!==0&&gi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wc()&&t.callbackNode!==a)return null;var o=Yt;return o=Dn(t,t===Rn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,n),mv(t,Vt()),t.callbackNode!=null&&t.callbackNode===a?pv.bind(null,t):null)}function gv(t,n){if(Wc())return null;Wy(t,n,!0)}function J1(){cE(function(){(dn&6)!==0?un(R,$1):dv()})}function zd(){if(Ks===0){var t=ll;t===0&&(t=Sn,Sn<<=1,(Sn&261888)===0&&(Sn=256)),Ks=t}return Ks}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function vv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Z1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=yv((h[zn]||null).action),T=o.submitter;T&&(n=(n=T[zn]||null)?yv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Yr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var Y=T?vv(h,T):new FormData(h);sd(a,{pending:!0,data:Y,method:h.method,action:m},null,Y)}}else typeof m=="function"&&(M.preventDefault(),Y=T?vv(h,T):new FormData(h),sd(a,{pending:!0,data:Y,method:h.method,action:m},m,Y))},currentTarget:h}]})}}for(var Bd=0;Bd<sr.length;Bd++){var Fd=sr[Bd],eE=Fd.toLowerCase(),tE=Fd[0].toUpperCase()+Fd.slice(1);yn(eE,"on"+tE)}yn(De,"onAnimationEnd"),yn(Ye,"onAnimationIteration"),yn(Pt,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Gt,"onTransitionRun"),yn(Mt,"onTransitionStart"),yn(Ft,"onTransitionCancel"),yn(en,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function _v(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Y=M.instance,ue=M.currentTarget;if(M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ue;try{m(h)}catch(ve){Ii(ve)}h.currentTarget=null,m=Y}else for(T=0;T<o.length;T++){if(M=o[T],Y=M.instance,ue=M.currentTarget,M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ue;try{m(h)}catch(ve){Ii(ve)}h.currentTarget=null,m=Y}}}}function qt(t,n){var a=n[ur];a===void 0&&(a=n[ur]=new Set);var o=t+"__bubble";a.has(o)||(bv(n,t,2,!1),a.add(o))}function Hd(t,n,a){var o=0;n&&(o|=4),bv(a,t,o,n)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Zc]){t[Zc]=!0,sa.forEach(function(a){a!=="selectionchange"&&(nE.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zc]||(n[Zc]=!0,Hd("selectionchange",!1,n))}}function bv(t,n,a,o){switch(Kv(n)){case 2:var h=ME;break;case 8:h=NE;break;default:h=am}a=h.bind(null,n,a,t),h=void 0,!qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Gd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=zi(M),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){o=m=T;continue e}M=M.parentNode}}o=o.return}pr(function(){var ue=m,ve=fr(a),we=[];e:{var he=an.get(t);if(he!==void 0){var ge=Yr,lt=t;switch(t){case"keypress":if(ua(a)===0)break e;case"keydown":case"keyup":ge=Ao;break;case"focusin":lt="focus",ge=Aa;break;case"focusout":lt="blur",ge=Aa;break;case"beforeblur":case"afterblur":ge=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case De:case Ye:case Pt:ge=$o;break;case en:ge=O;break;case"scroll":case"scrollend":ge=To;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ha;break;case"toggle":case"beforetoggle":ge=At}var vt=(n&4)!==0,An=!vt&&(t==="scroll"||t==="scrollend"),te=vt?he!==null?he+"Capture":null:he;vt=[];for(var Q=ue,oe;Q!==null;){var _e=Q;if(oe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||oe===null||te===null||(_e=Ri(Q,te),_e!=null&&vt.push(xu(Q,_e,oe))),An)break;Q=Q.return}0<vt.length&&(he=new ge(he,lt,null,a,ve),we.push({event:he,listeners:vt}))}}if((n&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",he&&a!==Is&&(lt=a.relatedTarget||a.fromElement)&&(zi(lt)||lt[Ui]))break e;if((ge||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(lt=a.relatedTarget||a.toElement,ge=ue,lt=lt?zi(lt):null,lt!==null&&(An=c(lt),vt=lt.tag,lt!==An||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(ge=null,lt=ue),ge!==lt)){if(vt=xs,_e="onMouseLeave",te="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(vt=ha,_e="onPointerLeave",te="onPointerEnter",Q="pointer"),An=ge==null?he:Ti(ge),oe=lt==null?he:Ti(lt),he=new vt(_e,Q+"leave",ge,a,ve),he.target=An,he.relatedTarget=oe,_e=null,zi(ve)===ue&&(vt=new vt(te,Q+"enter",lt,a,ve),vt.target=oe,vt.relatedTarget=An,_e=vt),An=_e,ge&&lt)t:{for(vt=iE,te=ge,Q=lt,oe=0,_e=te;_e;_e=vt(_e))oe++;_e=0;for(var mt=Q;mt;mt=vt(mt))_e++;for(;0<oe-_e;)te=vt(te),oe--;for(;0<_e-oe;)Q=vt(Q),_e--;for(;oe--;){if(te===Q||Q!==null&&te===Q.alternate){vt=te;break t}te=vt(te),Q=vt(Q)}vt=null}else vt=null;ge!==null&&wv(we,he,ge,vt,!1),lt!==null&&An!==null&&wv(we,An,lt,vt,!0)}}e:{if(he=ue?Ti(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var on=nu;else if(tu(he))if(iu)on=W;else{on=N;var ct=S}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&Ga(ue.elementType)&&(on=nu):on=j;if(on&&(on=on(t,ue))){Vn(we,on,a,ve);break e}ct&&ct(t,he,ue),t==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&_n(he,"number",he.value)}switch(ct=ue?Ti(ue):window,t){case"focusin":(tu(ct)||ct.contentEditable==="true")&&(Fe=ct,sn=ue,Ze=null);break;case"focusout":Ze=sn=Fe=null;break;case"mousedown":kt=!0;break;case"contextmenu":case"mouseup":case"dragend":kt=!1,gn(we,a,ve);break;case"selectionchange":if(it)break;case"keydown":case"keyup":gn(we,a,ve)}var Ot;if(rn)e:{switch(t){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else $a?Xr(t,a)&&(Xt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Xt="onCompositionStart");Xt&&(yr&&a.locale!=="ko"&&($a||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&$a&&(Ot=Ea()):(Gr=ve,Hi="value"in Gr?Gr.value:Gr.textContent,$a=!0)),ct=eh(ue,Xt),0<ct.length&&(Xt=new Or(Xt,t,null,a,ve),we.push({event:Xt,listeners:ct}),Ot?Xt.data=Ot:(Ot=Wa(a),Ot!==null&&(Xt.data=Ot)))),(Ot=qi?Af(t,a):pc(t,a))&&(Xt=eh(ue,"onBeforeInput"),0<Xt.length&&(ct=new Or("onBeforeInput","beforeinput",null,a,ve),we.push({event:ct,listeners:Xt}),ct.data=Ot)),Z1(we,t,ue,a,ve)}_v(we,n)})}function xu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function eh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ri(t,a),h!=null&&o.unshift(xu(t,h,m)),h=Ri(t,n),h!=null&&o.push(xu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function iE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,Y=M.alternate,ue=M.stateNode;if(M=M.tag,Y!==null&&Y===o)break;M!==5&&M!==26&&M!==27||ue===null||(Y=ue,h?(ue=Ri(a,m),ue!=null&&T.unshift(xu(a,ue,Y))):h||(ue=Ri(a,m),ue!=null&&T.push(xu(a,ue,Y)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var rE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(rE,`
`).replace(aE,"")}function Tv(t,n){return n=Ev(n),Ev(t)===n}function Tn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ai(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ai(t,""+o);break;case"className":J(t,"class",o);break;case"tabIndex":J(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":J(t,a,o);break;case"style":Ir(t,o,m);break;case"data":if(n!=="object"){J(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Tn(t,n,"name",h.name,h,null),Tn(t,n,"formEncType",h.formEncType,h,null),Tn(t,n,"formMethod",h.formMethod,h,null),Tn(t,n,"formTarget",h.formTarget,h,null)):(Tn(t,n,"encType",h.encType,h,null),Tn(t,n,"method",h.method,h,null),Tn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=hr);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":qt("beforetoggle",t),qt("toggle",t),Fi(t,"popover",o);break;case"xlinkActuate":ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ie(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ie(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ie(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ie(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ba.get(a)||a,Fi(t,a,o))}}function Yd(t,n,a,o,h,m){switch(a){case"style":Ir(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ai(t,o):(typeof o=="number"||typeof o=="bigint")&&ai(t,""+o);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ai.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[zn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Fi(t,a,o)}}}function Di(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Tn(t,n,m,T,a,null)}}h&&Tn(t,n,"srcSet",a.srcSet,a,null),o&&Tn(t,n,"src",a.src,a,null);return;case"input":qt("invalid",t);var M=m=T=h=null,Y=null,ue=null;for(o in a)if(a.hasOwnProperty(o)){var ve=a[o];if(ve!=null)switch(o){case"name":h=ve;break;case"type":T=ve;break;case"checked":Y=ve;break;case"defaultChecked":ue=ve;break;case"value":m=ve;break;case"defaultValue":M=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,n));break;default:Tn(t,n,o,ve,a,null)}}Jn(t,m,M,Y,ue,T,h,!1);return;case"select":qt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Tn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?jt(t,!!o,n,!1):a!=null&&jt(t,!!o,a,!0);return;case"textarea":qt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Tn(t,n,T,M,a,null)}Gn(t,o,h,m);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(o=a[Y],o!=null))switch(Y){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Tn(t,n,Y,o,a,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(o=0;o<Iu.length;o++)qt(Iu[o],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in a)if(a.hasOwnProperty(ue)&&(o=a[ue],o!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Tn(t,n,ue,o,a,null)}return;default:if(Ga(n)){for(ve in a)a.hasOwnProperty(ve)&&(o=a[ve],o!==void 0&&Yd(t,n,ve,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Tn(t,n,M,o,a,null))}function sE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,Y=null,ue=null,ve=null;for(ge in a){var we=a[ge];if(a.hasOwnProperty(ge)&&we!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Y=we;default:o.hasOwnProperty(ge)||Tn(t,n,ge,null,o,we)}}for(var he in o){var ge=o[he];if(we=a[he],o.hasOwnProperty(he)&&(ge!=null||we!=null))switch(he){case"type":m=ge;break;case"name":h=ge;break;case"checked":ue=ge;break;case"defaultChecked":ve=ge;break;case"value":T=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==we&&Tn(t,n,he,ge,o,we)}}hn(t,T,M,Y,ue,ve,m,h);return;case"select":ge=T=M=he=null;for(m in a)if(Y=a[m],a.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":ge=Y;default:o.hasOwnProperty(m)||Tn(t,n,m,null,o,Y)}for(h in o)if(m=o[h],Y=a[h],o.hasOwnProperty(h)&&(m!=null||Y!=null))switch(h){case"value":he=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Y&&Tn(t,n,h,m,o,Y)}n=M,a=T,o=ge,he!=null?jt(t,!!a,he,!1):!!o!=!!a&&(n!=null?jt(t,!!a,n,!0):jt(t,!!a,a?[]:"",!1));return;case"textarea":ge=he=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Tn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":he=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Tn(t,n,T,h,o,m)}di(t,he,ge);return;case"option":for(var lt in a)if(he=a[lt],a.hasOwnProperty(lt)&&he!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Tn(t,n,lt,null,o,he)}for(Y in o)if(he=o[Y],ge=a[Y],o.hasOwnProperty(Y)&&he!==ge&&(he!=null||ge!=null))switch(Y){case"selected":t.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Tn(t,n,Y,he,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)he=a[vt],a.hasOwnProperty(vt)&&he!=null&&!o.hasOwnProperty(vt)&&Tn(t,n,vt,null,o,he);for(ue in o)if(he=o[ue],ge=a[ue],o.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,n));break;default:Tn(t,n,ue,he,o,ge)}return;default:if(Ga(n)){for(var An in a)he=a[An],a.hasOwnProperty(An)&&he!==void 0&&!o.hasOwnProperty(An)&&Yd(t,n,An,void 0,o,he);for(ve in o)he=o[ve],ge=a[ve],!o.hasOwnProperty(ve)||he===ge||he===void 0&&ge===void 0||Yd(t,n,ve,he,o,ge);return}}for(var te in a)he=a[te],a.hasOwnProperty(te)&&he!=null&&!o.hasOwnProperty(te)&&Tn(t,n,te,null,o,he);for(we in o)he=o[we],ge=a[we],!o.hasOwnProperty(we)||he===ge||he==null&&ge==null||Tn(t,n,we,he,o,ge)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&Av(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var Y=a[o],ue=Y.startTime;if(ue>M)break;var ve=Y.transferSize,we=Y.initiatorType;ve&&Av(we)&&(Y=Y.responseEnd,T+=ve*(Y<M?1:(M-ue)/(Y-ue)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Qd=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function lE(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(hE)}:Cv;function hE(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function xv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Mu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Mu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[ji]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Mu(t.ownerDocument.body);a=h}while(a);Cl(n)}function Mv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function $d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),Ei(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Zr(t.nextSibling),t===null)break}return null}function dE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zr(t.nextSibling),t===null))return null;return t}function Nv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zr(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var em=null;function Dv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Zr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ov(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Vv(t,n,a){switch(n=th(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Mu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ei(t)}var ea=new Map,kv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=ee.d;ee.d={f:pE,r:gE,D:yE,C:vE,L:_E,m:bE,X:EE,S:wE,M:TE};function pE(){var t=ps.f(),n=Xc();return t||n}function gE(t){var n=Bi(t);n!==null&&n.tag===5&&n.type==="form"?Jg(n):ps.r(t)}var Al=typeof document>"u"?null:document;function Pv(t,n,a){var o=Al;if(o&&typeof n=="string"&&n){var h=je(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),kv.has(h)||(kv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Di(n,"link",t),On(n),o.head.appendChild(n)))}}function yE(t){ps.D(t),Pv("dns-prefetch",t,null)}function vE(t,n){ps.C(t,n),Pv("preconnect",t,n)}function _E(t,n,a){ps.L(t,n,a);var o=Al;if(o&&t&&n){var h='link[rel="preload"][as="'+je(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+je(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+je(a.imageSizes)+'"]')):h+='[href="'+je(t)+'"]';var m=h;switch(n){case"style":m=Sl(t);break;case"script":m=Rl(t)}ea.has(m)||(t=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ea.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Nu(m))||n==="script"&&o.querySelector(Du(m))||(n=o.createElement("link"),Di(n,"link",t),On(n),o.head.appendChild(n)))}}function bE(t,n){ps.m(t,n);var a=Al;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+je(o)+'"][href="'+je(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Rl(t)}if(!ea.has(m)&&(t=L({rel:"modulepreload",href:t},n),ea.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Du(m)))return}o=a.createElement("link"),Di(o,"link",t),On(o),a.head.appendChild(o)}}}function wE(t,n,a){ps.S(t,n,a);var o=Al;if(o&&t){var h=Kn(o).hoistableStyles,m=Sl(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Nu(m)))M.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ea.get(m))&&tm(t,a);var Y=T=o.createElement("link");On(Y),Di(Y,"link",t),Y._p=new Promise(function(ue,ve){Y.onload=ue,Y.onerror=ve}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ih(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function EE(t,n){ps.X(t,n);var a=Al;if(a&&t){var o=Kn(a).hoistableScripts,h=Rl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0},n),(n=ea.get(h))&&nm(t,n),m=a.createElement("script"),On(m),Di(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function TE(t,n){ps.M(t,n);var a=Al;if(a&&t){var o=Kn(a).hoistableScripts,h=Rl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=ea.get(h))&&nm(t,n),m=a.createElement("script"),On(m),Di(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Lv(t,n,a,o){var h=(h=qe.current)?nh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Sl(a.href),a=Kn(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Sl(a.href);var m=Kn(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Nu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ea.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ea.set(t,a),m||AE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(a),a=Kn(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Sl(t){return'href="'+je(t)+'"'}function Nu(t){return'link[rel="stylesheet"]['+t+"]"}function Uv(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function AE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Di(n,"link",a),On(n),t.head.appendChild(n))}function Rl(t){return'[src="'+je(t)+'"]'}function Du(t){return"script[async]"+t}function jv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+je(a.href)+'"]');if(o)return n.instance=o,On(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),On(o),Di(o,"style",h),ih(o,a.precedence,t),n.instance=o;case"stylesheet":h=Sl(a.href);var m=t.querySelector(Nu(h));if(m)return n.state.loading|=4,n.instance=m,On(m),m;o=Uv(a),(h=ea.get(h))&&tm(o,h),m=(t.ownerDocument||t).createElement("link"),On(m);var T=m;return T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Di(m,"link",o),n.state.loading|=4,ih(m,a.precedence,t),n.instance=m;case"script":return m=Rl(a.src),(h=t.querySelector(Du(m)))?(n.instance=h,On(h),h):(o=a,(h=ea.get(m))&&(o=L({},a),nm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),On(h),Di(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,t));return n.instance}function ih(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function tm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rh=null;function zv(t,n,a){if(rh===null){var o=new Map,h=rh=new Map;h.set(a,o)}else h=rh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[ji]||m[pn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Bv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function SE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function RE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Sl(o.href),m=n.querySelector(Nu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ah.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,On(m);return}m=n.ownerDocument||n,o=Uv(o),(h=ea.get(h))&&tm(o,h),m=m.createElement("link"),On(m);var T=m;T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Di(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var im=0;function CE(t,n){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&im===0&&(im=62500*oE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>im?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function oh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,n.forEach(IE,t),sh=null,ah.call(t))}function IE(t,n){if(!(n.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=ah.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ou={$$typeof:Ge,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function xE(t,n,a,o,h,m,T,M,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Hv(t,n,a,o,h,m,T,M,Y,ue,ve,we){return t=new xE(t,n,a,T,Y,ue,ve,we,M),n=1,m===!0&&(n|=24),m=Gi(3,null,null,n),t.current=m,m.stateNode=t,n=Pf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},zf(m),t}function qv(t){return t?(t=kr,t):kr}function Gv(t,n,a,o,h,m){h=qv(h),o.context===null?o.context=h:o.pendingContext=h,o=js(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=zs(t,o,n),a!==null&&(Ar(a,t,n),hu(a,t,n))}function Yv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function rm(t,n){Yv(t,n),(t=t.alternate)&&Yv(t,n)}function Xv(t){if(t.tag===13||t.tag===31){var n=or(t,67108864);n!==null&&Ar(n,t,67108864),rm(t,67108864)}}function Qv(t){if(t.tag===13||t.tag===31){var n=zr();n=Fr(n);var a=or(t,n);a!==null&&Ar(a,t,n),rm(t,n)}}var lh=!0;function ME(t,n,a,o){var h=H.T;H.T=null;var m=ee.p;try{ee.p=2,am(t,n,a,o)}finally{ee.p=m,H.T=h}}function NE(t,n,a,o){var h=H.T;H.T=null;var m=ee.p;try{ee.p=8,am(t,n,a,o)}finally{ee.p=m,H.T=h}}function am(t,n,a,o){if(lh){var h=sm(o);if(h===null)Gd(t,n,o,uh,a),Wv(t,o);else if(OE(h,t,n,a,o))o.stopPropagation();else if(Wv(t,o),n&4&&-1<DE.indexOf(t)){for(;h!==null;){var m=Bi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=In(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Y=1<<31-nt(T);M.entanglements[1]|=Y,T&=~Y}Na(m),(dn&6)===0&&(Gc=Vt()+500,Cu(0))}}break;case 31:case 13:M=or(m,2),M!==null&&Ar(M,m,2),Xc(),rm(m,2)}if(m=sm(o),m===null&&Gd(t,n,o,uh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Gd(t,n,o,null,a)}}function sm(t){return t=fr(t),om(t)}var uh=null;function om(t){if(uh=null,t=zi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uh=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case R:return 2;case g:return 8;case _:case D:return 32;case K:return 268435456;default:return 32}default:return 32}}var lm=!1,$s=null,Js=null,Zs=null,Vu=new Map,ku=new Map,eo=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Vu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(n.pointerId)}}function Pu(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Bi(n),n!==null&&Xv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function OE(t,n,a,o,h){switch(n){case"focusin":return $s=Pu($s,t,n,a,o,h),!0;case"dragenter":return Js=Pu(Js,t,n,a,o,h),!0;case"mouseover":return Zs=Pu(Zs,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Vu.set(m,Pu(Vu.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,ku.set(m,Pu(ku.get(m)||null,t,n,a,o,h)),!0}return!1}function $v(t){var n=zi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Li(t.priority,function(){Qv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Li(t.priority,function(){Qv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Is=o,a.target.dispatchEvent(o),Is=null}else return n=Bi(a),n!==null&&Xv(n),t.blockedOn=a,!1;n.shift()}return!0}function Jv(t,n,a){ch(t)&&a.delete(n)}function VE(){lm=!1,$s!==null&&ch($s)&&($s=null),Js!==null&&ch(Js)&&(Js=null),Zs!==null&&ch(Zs)&&(Zs=null),Vu.forEach(Jv),ku.forEach(Jv)}function hh(t,n){t.blockedOn===n&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VE)))}var fh=null;function Zv(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(om(o||a)===null)continue;break}var m=Bi(a);m!==null&&(t.splice(n,3),n-=3,sd(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Cl(t){function n(Y){return hh(Y,t)}$s!==null&&hh($s,t),Js!==null&&hh(Js,t),Zs!==null&&hh(Zs,t),Vu.forEach(n),ku.forEach(n);for(var a=0;a<eo.length;a++){var o=eo[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<eo.length&&(a=eo[0],a.blockedOn===null);)$v(a),a.blockedOn===null&&eo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[zn]||null;if(typeof m=="function")T||Zv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[zn]||null)M=T.formAction;else if(om(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),Zv(a)}}}function e_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function um(t){this._internalRoot=t}dh.prototype.render=um.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=zr();Gv(a,o,t,n,null,null)},dh.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gv(t.current,2,null,t,null,null),Xc(),n[Ui]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<eo.length&&n!==0&&n<eo[a].priority;a++);eo.splice(a,0,t),a===0&&$v(t)}};var t_=e.version;if(t_!=="19.2.0")throw Error(s(527,t_,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var kE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{$e=mh.inject(kE),tt=mh}catch{}}return Uu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=ly,m=uy,T=cy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Hv(t,1,!1,null,null,a,o,null,h,m,T,e_),t[Ui]=n.current,qd(t),new um(n)},Uu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=ly,T=uy,M=cy,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(Y=a.formState)),n=Hv(t,1,!0,n,a??null,o,h,Y,m,T,M,e_),n.context=qv(null),a=n.current,o=zr(),o=Fr(o),h=js(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,St(n,a),Na(n),t[Ui]=n.current,qd(t),new dh(n)},Uu.version="19.2.0",Uu}var h_;function GE(){if(h_)return fm.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=qE(),fm.exports}var YE=GE();const XE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),f_=r=>{const e=QE(r);return e.charAt(0).toUpperCase()+e.slice(1)},W0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),KE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $E=dt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>dt.createElement("svg",{ref:w,...WE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:W0("lucide",l),...!c&&!KE(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,x])=>dt.createElement(E,x)),...Array.isArray(c)?c:[c]]));const Qn=(r,e)=>{const i=dt.forwardRef(({className:s,...l},c)=>dt.createElement($E,{ref:c,iconNode:e,className:W0(`lucide-${XE(f_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=f_(r),i};const JE=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],ZE=Qn("arrow-down-a-z",JE);const eT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d_=Qn("arrow-left",eT);const tT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nT=Qn("book-open",tT);const iT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],rT=Qn("check-check",iT);const aT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sT=Qn("check",aT);const oT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lT=Qn("chevron-left",oT);const uT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cT=Qn("chevron-right",uT);const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fT=Qn("circle-alert",hT);const dT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Om=Qn("crown",dT);const mT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pT=Qn("eye",mT);const gT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],yT=Qn("heart",gT);const vT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_T=Qn("info",vT);const bT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wT=Qn("log-out",bT);const ET=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TT=Qn("mail",ET);const AT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ST=Qn("play",AT);const RT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CT=Qn("rotate-ccw",RT);const IT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],xT=Qn("ruler",IT);const MT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],NT=Qn("share-2",MT);const DT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],OT=Qn("shuffle",DT);const VT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ph=Qn("sparkles",VT);const kT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gm=Qn("star",kT);const PT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],m_=Qn("trophy",PT);const LT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UT=Qn("x",LT);var ym={},Ah={exports:{}},jT=Ah.exports,p_;function zT(){return p_||(p_=1,(function(r,e){(function(s,l){r.exports=l()})(jT,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>x});var E=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(q={}){var ne,z=q,Oe,Re,Ue=new Promise((f,d)=>{Oe=f,Re=d}),He=typeof window=="object",Ge=typeof importScripts=="function";function Ke(){function f(W){const $=S;v=d=0,S=new Map,$.forEach(ce=>{try{ce(W)}catch(le){console.error(le)}}),this.nb(),N&&N.Pb()}let d=0,v=0,S=new Map,N=null,j=null;this.requestAnimationFrame=function(W){d||=requestAnimationFrame(f.bind(this));const $=++v;return S.set($,W),$},this.cancelAnimationFrame=function(W){S.delete(W),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(W){j&&(document.body.remove(j),j=null),W||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",W=function($){j.innerHTML="RIVE FPS "+$.toFixed(1)},document.body.appendChild(j)),N=new function(){let $=0,ce=0;this.Pb=function(){var le=performance.now();ce?(++$,le-=ce,1e3<le&&(W(1e3*$/le),$=ce=0)):(ce=le,$=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),N=null},this.nb=function(){}}function ht(f){console.assert(!0);const d=new Map;let v=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?v=-1/0:S==v&&(v=Math.max(...d.keys()),console.assert(v<S))},1e3)),v=Math.max(S,v),v<<f}}const ot=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){ot&&ot();let f=z.decodeAudio;z.decodeAudio=function(N,j){N=f(N),j(N)};let d=z.decodeFont;z.decodeFont=function(N,j){N=d(N),j(N)};const v=z.FileAssetLoader;z.ptrToAsset=N=>{let j=z.ptrToFileAsset(N);return j.isImage?z.ptrToImageAsset(N):j.isFont?z.ptrToFontAsset(N):j.isAudio?z.ptrToAudioAsset(N):j},z.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,j){return N=z.ptrToAsset(N),this.Db(N,j)}}),z.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let j=z.ptrToAsset(N);return N=j.cdnUuid,N===""?!1:((function(W,$){var ce=new XMLHttpRequest;ce.responseType="arraybuffer",ce.onreadystatechange=function(){ce.readyState==4&&ce.status==200&&$(ce)},ce.open("GET",W,!0),ce.send(null)})(j.cdnBaseUrl+"/"+N,W=>{j.decode(new Uint8Array(W.response))}),!0)}}),z.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,j){for(let W of this.jb)if(W.loadContents(N,j))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(N,j,W,$,ce=1){return S.call(this,N,j,W,$,ce)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),U=new function(){function f(){if(!d){let sn=function(Ze,kt,gn){if(kt=Fe.createShader(kt),Fe.shaderSource(kt,gn),Fe.compileShader(kt),gn=Fe.getShaderInfoLog(kt),0<(gn||"").length)throw gn;Fe.attachShader(Ze,kt)};var it=sn,Z=document.createElement("canvas"),Be={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Fe;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Fe=Z.getContext("webgl",Be),v=1,!Fe)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Fe=Z.getContext("webgl2",Be))v=2;else if(Fe=Z.getContext("webgl",Be))v=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Fe=new Proxy(Fe,{get(Ze,kt){if(Ze.isContextLost()){if(ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",kt),ce=!0),typeof Ze[kt]=="function")return function(){}}else return typeof Ze[kt]=="function"?function(...gn){return Ze[kt].apply(Ze,gn)}:Ze[kt]},set(Ze,kt,gn){if(Ze.isContextLost())ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+kt),ce=!0);else return Ze[kt]=gn,!0}}),S=Math.min(Fe.getParameter(Fe.MAX_RENDERBUFFER_SIZE),Fe.getParameter(Fe.MAX_TEXTURE_SIZE)),Z=Fe.createProgram(),sn(Z,Fe.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),sn(Z,Fe.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Fe.bindAttribLocation(Z,0,"vertex"),Fe.bindAttribLocation(Z,1,"uv"),Fe.linkProgram(Z),Be=Fe.getProgramInfoLog(Z),0<(Be||"").trim().length)throw Be;N=Fe.getUniformLocation(Z,"mat"),j=Fe.getUniformLocation(Z,"translate"),Fe.useProgram(Z),Fe.bindBuffer(Fe.ARRAY_BUFFER,Fe.createBuffer()),Fe.enableVertexAttribArray(0),Fe.enableVertexAttribArray(1),Fe.bindBuffer(Fe.ELEMENT_ARRAY_BUFFER,Fe.createBuffer()),Fe.uniform1i(Fe.getUniformLocation(Z,"image"),0),Fe.pixelStorei(Fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Fe}return!0}let d=null,v=0,S=0,N=null,j=null,W=0,$=0,ce=!1;f(),this.ac=function(){return f(),S},this.Jb=function(Z){d.deleteTexture&&d.deleteTexture(Z)},this.Ib=function(Z){if(!f())return null;const Be=d.createTexture();return Be?(d.bindTexture(d.TEXTURE_2D,Be),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,Z),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),v==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Be):null};const le=new ht(8),Ve=new ht(8),Je=new ht(10),st=new ht(10);this.Mb=function(Z,Be,it,Fe,sn){if(f()){var Ze=le.push(Z),kt=Ve.push(Be);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=kt)&&(d.canvas.width=Ze,d.canvas.height=kt),d.viewport(0,kt-Be,Z,Be),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),it.sort((zt,Vr)=>Vr.ub-zt.ub),Ze=Je.push(Fe),W!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),W=Ze),Ze=0;for(var gn of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,gn.Sa),Ze+=4*gn.Sa.length;console.assert(Ze==4*Fe);for(var ei of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,ei.Ab),Ze+=4*ei.Ab.length;console.assert(Ze==8*Fe),Ze=st.push(sn),$!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),$=Ze),gn=0;for(var _r of it)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,gn,_r.indices),gn+=2*_r.indices.length;console.assert(gn==2*sn),_r=0,ei=!0,Ze=gn=0;for(const zt of it){zt.image.Ia!=_r&&(d.bindTexture(d.TEXTURE_2D,zt.image.Ha||null),_r=zt.image.Ia),zt.fc?(d.scissor(zt.Ya,kt-zt.Za-zt.ib,zt.tc,zt.ib),ei=!0):ei&&(d.scissor(0,kt-Be,Z,Be),ei=!1),it=2/Z;const Vr=-2/Be;d.uniform4f(N,zt.ga[0]*it*zt.za,zt.ga[1]*Vr*zt.Aa,zt.ga[2]*it*zt.za,zt.ga[3]*Vr*zt.Aa),d.uniform2f(j,zt.ga[4]*it*zt.za+it*(zt.Ya-zt.bc*zt.za)-1,zt.ga[5]*Vr*zt.Aa+Vr*(zt.Za-zt.cc*zt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*Fe),d.drawElements(d.TRIANGLES,zt.indices.length,d.UNSIGNED_SHORT,gn),Ze+=4*zt.Sa.length,gn+=2*zt.indices.length}console.assert(Ze==4*Fe),console.assert(gn==2*sn)}}},this.canvas=function(){return f()&&d.canvas}},V=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function f(De){switch(De){case le.srcOver:return"source-over";case le.screen:return"screen";case le.overlay:return"overlay";case le.darken:return"darken";case le.lighten:return"lighten";case le.colorDodge:return"color-dodge";case le.colorBurn:return"color-burn";case le.hardLight:return"hard-light";case le.softLight:return"soft-light";case le.difference:return"difference";case le.exclusion:return"exclusion";case le.multiply:return"multiply";case le.hue:return"hue";case le.saturation:return"saturation";case le.color:return"color";case le.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function v(){0<kt.length&&(U.Mb(Ze.drawWidth(),Ze.drawHeight(),kt,gn,ei),kt=[],ei=gn=0,Ze.reset(512,512));for(const De of sn){for(const Ye of De.H)Ye();De.H=[]}sn.clear()}V&&V();var S=z.RenderPaintStyle;const N=z.RenderPath,j=z.RenderPaint,W=z.Renderer,$=z.StrokeCap,ce=z.StrokeJoin,le=z.BlendMode,Ve=S.fill,Je=S.stroke,st=z.FillRule.evenOdd;let Z=1;var Be=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:Ye}={}){this.__parent.__construct.call(this),this.Ia=Z,Z=Z+1&2147483647||1,this.ka=De,this.va=Ye},__destruct:function(){this.Ha&&(U.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var Ye=this;Ye.va&&Ye.va(Ye);var Pt=new Image;Ye.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),Pt.onload=function(){Ye.Cb=Pt,Ye.Ha=U.Ib(Pt),Ye.size(Pt.width,Pt.height),Ye.ka&&Ye.ka(Ye)},Pt.src=Ye.Va}}),it=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,Ye,Pt,Gt,Mt,Ft,en){var an=this.T,sr=an.addPath;De=De.T;const yn=new DOMMatrix;yn.a=Ye,yn.b=Pt,yn.c=Gt,yn.d=Mt,yn.e=Ft,yn.f=en,sr.call(an,De,yn)},fillRule:function(De){this.Ua=De},moveTo:function(De,Ye){this.T.moveTo(De,Ye)},lineTo:function(De,Ye){this.T.lineTo(De,Ye)},cubicTo:function(De,Ye,Pt,Gt,Mt,Ft){this.T.bezierCurveTo(De,Ye,Pt,Gt,Mt,Ft)},close:function(){this.T.closePath()}}),Fe=j.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case ce.miter:this.Ga="miter";break;case ce.round:this.Ga="round";break;case ce.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case $.butt:this.Fa="butt";break;case $.round:this.Fa="round";break;case $.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=f(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,Ye,Pt,Gt){this.ia={wb:De,xb:Ye,bb:Pt,cb:Gt,Pa:[]}},radialGradient:function(De,Ye,Pt,Gt){this.ia={wb:De,xb:Ye,bb:Pt,cb:Gt,Pa:[],$b:!0}},addStop:function(De,Ye){this.ia.Pa.push({color:De,stop:Ye})},completeGradient:function(){},draw:function(De,Ye,Pt){let Gt=this.Eb;var Mt=this.Wa,Ft=this.ia;if(De.globalCompositeOperation=this.Bb,Ft!=null){Mt=Ft.wb;var en=Ft.xb;const sr=Ft.bb;var an=Ft.cb;const yn=Ft.Pa;Ft.$b?(Ft=sr-Mt,an-=en,Mt=De.createRadialGradient(Mt,en,0,Mt,en,Math.sqrt(Ft*Ft+an*an))):Mt=De.createLinearGradient(Mt,en,sr,an);for(let Ii=0,fn=yn.length;Ii<fn;Ii++)en=yn[Ii],Mt.addColorStop(en.stop,d(en.color));this.Wa=Mt,this.ia=null}switch(Gt){case Je:De.strokeStyle=Mt,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(Ye);break;case Ve:De.fillStyle=Mt,De.fill(Ye,Pt)}}});const sn=new Set;let Ze=null,kt=[],gn=0,ei=0;var _r=z.CanvasRenderer=W.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,Ye,Pt,Gt,Mt,Ft){const en=this.S,an=en.length-6;en.splice(an,6,en[an]*De+en[an+2]*Ye,en[an+1]*De+en[an+3]*Ye,en[an]*Pt+en[an+2]*Gt,en[an+1]*Pt+en[an+3]*Gt,en[an]*Mt+en[an+2]*Ft+en[an+4],en[an+1]*Mt+en[an+3]*Ft+en[an+5]),this.H.push(this.B.transform.bind(this.B,De,Ye,Pt,Gt,Mt,Ft))},rotate:function(De){const Ye=Math.sin(De);De=Math.cos(De),this.transform(De,Ye,-Ye,De,0,0)},_drawPath:function(De,Ye){this.H.push(Ye.draw.bind(Ye,this.B,De.T,De.Ua===st?"evenodd":"nonzero"))},_drawRiveImage:function(De,Ye,Pt,Gt){var Mt=De.Cb;if(Mt){var Ft=this.B,en=f(Pt);this.H.push(function(){Ft.globalCompositeOperation=en,Ft.globalAlpha=Gt,Ft.drawImage(Mt,0,0),Ft.globalAlpha=1})}},_getMatrix:function(De){const Ye=this.S,Pt=Ye.length-6;for(let Gt=0;6>Gt;++Gt)De[Gt]=Ye[Pt+Gt]},_drawImageMesh:function(De,Ye,Pt,Gt,Mt,Ft,en,an,sr,yn,Ii){Ye=this.B.canvas.width;var fn=this.B.canvas.height;const es=yn-an,il=Ii-sr;an=Math.max(an,0),sr=Math.max(sr,0),yn=Math.min(yn,Ye),Ii=Math.min(Ii,fn);const Ra=yn-an,Ca=Ii-sr;if(console.assert(Ra<=Math.min(es,Ye)),console.assert(Ca<=Math.min(il,fn)),!(0>=Ra||0>=Ca)){yn=Ra<es||Ca<il,Ye=Ii=1;var fa=Math.ceil(Ra*Ii),or=Math.ceil(Ca*Ye);fn=U.ac(),fa>fn&&(Ii*=fn/fa,fa=fn),or>fn&&(Ye*=fn/or,or=fn),Ze||(Ze=new z.DynamicRectanizer(fn),Ze.reset(512,512)),fn=Ze.addRect(fa,or),0>fn&&(v(),sn.add(this),fn=Ze.addRect(fa,or),console.assert(0<=fn));var ru=fn&65535,Ro=fn>>16;kt.push({ga:this.S.slice(this.S.length-6),image:De,Ya:ru,Za:Ro,bc:an,cc:sr,tc:fa,ib:or,za:Ii,Aa:Ye,Sa:new Float32Array(Mt),Ab:new Float32Array(Ft),indices:new Uint16Array(en),fc:yn,ub:De.Ia<<1|(yn?1:0)}),gn+=Mt.length,ei+=en.length;var kr=this.B,Sf=f(Pt);this.H.push(function(){kr.save(),kr.resetTransform(),kr.globalCompositeOperation=Sf,kr.globalAlpha=Gt;const Gi=U.canvas();Gi&&kr.drawImage(Gi,ru,Ro,fa,or,an,sr,Ra,Ca),kr.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===st?"evenodd":"nonzero"))},clear:function(){sn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,Ye){this.transform(1,0,0,1,De,Ye)}});z.makeRenderer=function(De){const Ye=new _r(De),Pt=Ye.B;return new Proxy(Ye,{get(Gt,Mt){if(typeof Gt[Mt]=="function")return function(...Ft){return Gt[Mt].apply(Gt,Ft)};if(typeof Pt[Mt]=="function"){if(-1<F.indexOf(Mt))throw Error("RiveException: Method call to '"+Mt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Ft){Ye.H.push(Pt[Mt].bind(Pt,...Ft))}}return Gt[Mt]},set(Gt,Mt,Ft){if(Mt in Pt)return Ye.H.push(()=>{Pt[Mt]=Ft}),!0}})},z.decodeImage=function(De,Ye){new Be({ka:Ye}).decode(De)},z.renderFactory={makeRenderPaint:function(){return new Fe},makeRenderPath:function(){return new it},makeRenderImage:function(){let De=Vr;return new Be({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const Ye=De.ready;Ye&&(Ye(),De.ready=null)}}})}};let zt=z.load,Vr=null;z.load=function(De,Ye,Pt=!0){const Gt=new z.FallbackFileAssetLoader;return Ye!==void 0&&Gt.addLoader(Ye),Pt&&(Ye=new z.CDNFileAssetLoader,Gt.addLoader(Ye)),new Promise(function(Mt){let Ft=null;Vr={total:0,loaded:0,ready:function(){Mt(Ft)}},Ft=zt(De,Gt),Vr.total==0&&Mt(Ft)})};let Za=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(De,Ye,Pt,Gt,Mt=1){Za.call(this,De,Ye,Pt,Gt,Mt)},S=new Ke,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=v,z.resolveAnimationFrame=v,z.cleanup=function(){Ze&&Ze.delete()}};var B=Object.assign({},z),I="./this.program",k="",C,X;(He||Ge)&&(Ge?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),L&&(k=L),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),Ge&&(X=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),C=(f,d,v)=>{if(ri(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):v()},S.onerror=v,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,v)});var re=z.print||console.log.bind(console),H=z.printErr||console.error.bind(console);Object.assign(z,B),B=null,z.thisProgram&&(I=z.thisProgram);var ee;z.wasmBinary&&(ee=z.wasmBinary);var ye,de=!1,xe,P,se,Se,be,Ie,qe,We;function ut(){var f=ye.buffer;z.HEAP8=xe=new Int8Array(f),z.HEAP16=se=new Int16Array(f),z.HEAPU8=P=new Uint8Array(f),z.HEAPU16=Se=new Uint16Array(f),z.HEAP32=be=new Int32Array(f),z.HEAPU32=Ie=new Uint32Array(f),z.HEAPF32=qe=new Float32Array(f),z.HEAPF64=We=new Float64Array(f)}var _t=[],Ct=[],nn=[];function ft(){var f=z.preRun.shift();_t.unshift(f)}var Et=0,Lt=null;function Ut(f){throw z.onAbort?.(f),f="Aborted("+f+")",H(f),de=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Re(f),f}var Nn=f=>f.startsWith("data:application/octet-stream;base64,"),ri=f=>f.startsWith("file://"),yt;function at(f){if(f==yt&&ee)return new Uint8Array(ee);if(X)return X(f);throw"both async and sync fetching of the wasm failed"}function un(f){return ee?Promise.resolve().then(()=>at(f)):new Promise((d,v)=>{C(f,S=>d(new Uint8Array(S)),()=>{try{d(at(f))}catch(S){v(S)}})})}function Zt(f,d,v){return un(f).then(S=>WebAssembly.instantiate(S,d)).then(v,S=>{H(`failed to asynchronously prepare wasm: ${S}`),Ut(S)})}function $i(f,d){var v=yt;return ee||typeof WebAssembly.instantiateStreaming!="function"||Nn(v)||ri(v)||typeof fetch!="function"?Zt(v,f,d):fetch(v,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return H(`wasm streaming compile failed: ${N}`),H("falling back to ArrayBuffer instantiation"),Zt(v,f,d)}))}var Un,Vt,mn={464256:(f,d,v,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=v,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let j=window.h;j.D=[],j.rc=function(W){for(var $=0;$<j.D.length;++$)if(j.D[$]==null)return j.D[$]=W,$;return j.D.push(W),j.D.length-1},j.zb=function(W){for(j.D[W]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(W){for(var $=0;$<j.D.length;++$)if(j.D[$]==W)return j.zb($)},j.pa=function(W){return j.D[W]},j.Ra=["touchend","click"],j.unlock=function(){for(var W=0;W<j.D.length;++W){var $=j.D[W];$!=null&&$.K!=null&&$.state===j.fa.vb&&$.K.resume().then(()=>{So($.ob)},ce=>{console.error("Failed to resume audiocontext",ce)})}j.Ra.map(function(ce){document.removeEventListener(ce,j.unlock,!0)})},j.Ra.map(function(W){document.addEventListener(W,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,v,S,N,j)=>{if(typeof window.h>"u")return-1;var W={},$={};return f==window.h.I.wa&&v!=0&&($.sampleRate=v),W.K=new(window.AudioContext||window.webkitAudioContext)($),W.K.suspend(),W.state=window.h.fa.stopped,v=0,f!=window.h.I.wa&&(v=d),W.Y=W.K.createScriptProcessor(S,v,d),W.Y.onaudioprocess=function(ce){if((W.qa==null||W.qa.length==0)&&(W.qa=new Float32Array(qe.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var le=0;le<d;le+=1)for(var Ve=ce.inputBuffer.getChannelData(le),Je=W.qa,st=0;st<S;st+=1)Je[st*d+le]=Ve[st];nu(j,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(iu(j,S,N),le=0;le<ce.outputBuffer.numberOfChannels;++le)for(Ve=ce.outputBuffer.getChannelData(le),Je=W.qa,st=0;st<S;st+=1)Ve[st]=Je[st*d+le];else for(le=0;le<ce.outputBuffer.numberOfChannels;++le)ce.outputBuffer.getChannelData(le).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ce){W.Ba=W.K.createMediaStreamSource(ce),W.Ba.connect(W.Y),W.Y.connect(W.K.destination)}).catch(function(ce){console.log("Failed to get user media: "+ce)}),f==window.h.I.wa&&W.Y.connect(W.K.destination),W.ob=j,window.h.rc(W)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(z)};function g(){var f=be[+Ae>>2];return Ae+=4,f}var _=(f,d)=>{for(var v=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),v++):v&&(f.splice(S,1),v--)}if(d)for(;v;v--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",v=f.substr(-1)==="/";return(f=_(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&v&&(f+="/"),(d?"/":"")+f},K=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},pe=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Te=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Ut("initRandomDevice")},$e=f=>($e=Te())(f),tt=(...f)=>{for(var d="",v=!1,S=f.length-1;-1<=S&&!v;S--){if(v=0<=S?f[S]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";d=v+"/"+d,v=v.charAt(0)==="/"}return d=_(d.split("/").filter(N=>!!N),!v).join("/"),(v?"/":"")+d||"."},Xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,nt=(f,d,v)=>{var S=d+v;for(v=d;f[v]&&!(v>=S);)++v;if(16<v-d&&f.buffer&&Xe)return Xe.decode(f.subarray(d,v));for(S="";d<v;){var N=f[d++];if(N&128){var j=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|j);else{var W=f[d++]&63;N=(N&240)==224?(N&15)<<12|j<<6|W:(N&7)<<18|j<<12|W<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},$t=[],Cn=f=>{for(var d=0,v=0;v<f.length;++v){var S=f.charCodeAt(v);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++v):d+=3}return d},cn=(f,d,v,S)=>{if(!(0<S))return 0;var N=v;S=v+S-1;for(var j=0;j<f.length;++j){var W=f.charCodeAt(j);if(55296<=W&&57343>=W){var $=f.charCodeAt(++j);W=65536+((W&1023)<<10)|$&1023}if(127>=W){if(v>=S)break;d[v++]=W}else{if(2047>=W){if(v+1>=S)break;d[v++]=192|W>>6}else{if(65535>=W){if(v+2>=S)break;d[v++]=224|W>>12}else{if(v+3>=S)break;d[v++]=240|W>>18,d[v++]=128|W>>12&63}d[v++]=128|W>>6&63}d[v++]=128|W&63}}return d[v]=0,v-N};function Sn(f,d){var v=Array(Cn(f)+1);return f=cn(f,v,0,v.length),d&&(v.length=f),v}var Fn=[];function Bt(f,d){Fn[f]={input:[],G:[],V:d},Kn(f,In)}var In={open(f){var d=Fn[f.node.xa];if(!d)throw new Qe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,v,S){if(!f.s||!f.s.V.hb)throw new Qe(60);for(var N=0,j=0;j<S;j++){try{var W=f.s.V.hb(f.s)}catch{throw new Qe(29)}if(W===void 0&&N===0)throw new Qe(6);if(W==null)break;N++,d[v+j]=W}return N&&(f.node.timestamp=Date.now()),N},write(f,d,v,S){if(!f.s||!f.s.V.Ma)throw new Qe(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[v+N])}catch{throw new Qe(29)}return S&&(f.node.timestamp=Date.now()),N}},Dn={hb(){e:{if(!$t.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}$t=Sn(f,!0)}f=$t.shift()}return f},Ma(f,d){d===null||d===10?(re(nt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(re(nt(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},jn={Ma(f,d){d===null||d===10?(H(nt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(H(nt(f.G,0)),f.G=[])}};function Pi(f,d){var v=f.l?f.l.length:0;v>=d||(d=Math.max(d,v*(1048576>v?2:1.125)>>>0),v!=0&&(d=Math.max(d,256)),v=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(v.subarray(0,f.v),0))}var gt={N:null,U(){return gt.createNode(null,"/",16895,0)},createNode(f,d,v,S){if((v&61440)===24576||(v&61440)===4096)throw new Qe(63);return gt.N||(gt.N={dir:{node:{X:gt.j.X,P:gt.j.P,ja:gt.j.ja,ta:gt.j.ta,sb:gt.j.sb,yb:gt.j.yb,tb:gt.j.tb,rb:gt.j.rb,Ca:gt.j.Ca},stream:{aa:gt.m.aa}},file:{node:{X:gt.j.X,P:gt.j.P},stream:{aa:gt.m.aa,read:gt.m.read,write:gt.m.write,Xa:gt.m.Xa,kb:gt.m.kb,mb:gt.m.mb}},link:{node:{X:gt.j.X,P:gt.j.P,la:gt.j.la},stream:{}},$a:{node:{X:gt.j.X,P:gt.j.P},stream:Ti}}),v=Cs(f,d,v,S),(v.mode&61440)===16384?(v.j=gt.N.dir.node,v.m=gt.N.dir.stream,v.l={}):(v.mode&61440)===32768?(v.j=gt.N.file.node,v.m=gt.N.file.stream,v.v=0,v.l=null):(v.mode&61440)===40960?(v.j=gt.N.link.node,v.m=gt.N.link.stream):(v.mode&61440)===8192&&(v.j=gt.N.$a.node,v.m=gt.N.$a.stream),v.timestamp=Date.now(),f&&(f.l[d]=v,f.timestamp=v.timestamp),v},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var v=f.l;f.l=new Uint8Array(d),v&&f.l.set(v.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw Hr[44]},ta(f,d,v,S){return gt.createNode(f,d,v,S)},sb(f,d,v){if((f.mode&61440)===16384){try{var S=ur(d,v)}catch{}if(S)for(var N in S.l)throw new Qe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=v,d.l[v]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var v=ur(f,d),S;for(S in v.l)throw new Qe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],v;for(v of Object.keys(f.l))d.push(v);return d},Ca(f,d,v){return f=gt.createNode(f,d,41471,0),f.link=v,f},la(f){if((f.mode&61440)!==40960)throw new Qe(28);return f.link}},m:{read(f,d,v,S,N){var j=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&j.subarray)d.set(j.subarray(N,N+f),v);else for(S=0;S<f;S++)d[v+S]=j[N+S];return f},write(f,d,v,S,N,j){if(d.buffer===xe.buffer&&(j=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(j)return f.l=d.subarray(v,v+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(v,v+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(v,v+S),N),S}if(Pi(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(v,v+S),N);else for(j=0;j<S;j++)f.l[N+j]=d[v+j];return f.v=Math.max(f.v,N+S),S},aa(f,d,v){if(v===1?d+=f.position:v===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Qe(28);return d},Xa(f,d,v){Pi(f.node,d+v),f.node.v=Math.max(f.node.v,d+v)},kb(f,d,v,S,N){if((f.node.mode&61440)!==32768)throw new Qe(43);if(f=f.node.l,N&2||f.buffer!==xe.buffer){if((0<v||v+d<f.length)&&(f.subarray?f=f.subarray(v,v+d):f=Array.prototype.slice.call(f,v,v+d)),v=!0,Ut(),d=void 0,!d)throw new Qe(48);xe.set(f,d)}else v=!1,d=f.byteOffset;return{o:d,uc:v}},mb(f,d,v,S){return gt.m.write(f,d,0,S,v,!1),0}}},Hn=(f,d)=>{var v=0;return f&&(v|=365),d&&(v|=146),v},St=null,Ji={},Zi=[],Ba=1,Rr=null,Fr=!0,Qe=class{constructor(f){this.name="ErrnoError",this.$=f}},Hr={},Li=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},er=class{constructor(f,d,v,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=Ba++,this.name=d,this.mode=v,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function pn(f,d={}){if(f=tt(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Qe(32);f=f.split("/").filter(W=>!!W);for(var v=St,S="/",N=0;N<f.length;N++){var j=N===f.length-1;if(j&&d.parent)break;if(v=ur(v,f[N]),S=D(S+"/"+f[N]),v.ua&&(!j||j&&d.gb)&&(v=v.ua.root),!j||d.fb){for(j=0;(v.mode&61440)===40960;)if(v=va(S),S=tt(K(S),v),v=pn(S,{Oa:d.Oa+1}).node,40<j++)throw new Qe(32)}}return{path:S,node:v}}function zn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Ui(f,d){for(var v=0,S=0;S<d.length;S++)v=(v<<5)-v+d.charCodeAt(S)|0;return(f+v>>>0)%Rr.length}function ur(f,d){var v=(f.mode&61440)===16384?(v=aa(f,"x"))?v:f.j.ja?0:2:54;if(v)throw new Qe(v);for(v=Rr[Ui(f.id,d)];v;v=v.ec){var S=v.name;if(v.parent.id===f.id&&S===d)return v}return f.j.ja(f,d)}function Cs(f,d,v,S){return f=new er(f,d,v,S),d=Ui(f.parent.id,f.name),f.ec=Rr[d],Rr[d]=f}function Fa(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function aa(f,d){if(Fr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function ji(f,d){try{return ur(f,d),20}catch{}return aa(f,"wx")}function Ei(f){if(f=Zi[f],!f)throw new Qe(8);return f}function zi(f,d=-1){if(f=Object.assign(new Li,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Zi[d])break e;throw new Qe(33)}return f.W=d,Zi[d]=f}function Bi(f,d=-1){return f=zi(f,d),f.m?.Ec?.(f),f}var Ti={open(f){f.m=Ji[f.node.xa].m,f.m.open?.(f)},aa(){throw new Qe(70)}};function Kn(f,d){Ji[f]={m:d}}function On(f,d){var v=d==="/";if(v&&St)throw new Qe(10);if(!v&&d){var S=pn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Qe(10);if((S.mode&61440)!==16384)throw new Qe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,v?St=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function sa(f,d,v){var S=pn(f,{parent:!0}).node;if(f=pe(f),!f||f==="."||f==="..")throw new Qe(28);var N=ji(S,f);if(N)throw new Qe(N);if(!S.j.ta)throw new Qe(63);return S.j.ta(S,f,d,v)}function Ai(f){return sa(f,16895,0)}function Si(f,d,v){typeof v>"u"&&(v=d,d=438),sa(f,d|8192,v)}function qn(f,d){if(!tt(f))throw new Qe(44);var v=pn(d,{parent:!0}).node;if(!v)throw new Qe(44);d=pe(d);var S=ji(v,d);if(S)throw new Qe(S);if(!v.j.Ca)throw new Qe(63);v.j.Ca(v,d,f)}function va(f){if(f=pn(f).node,!f)throw new Qe(44);if(!f.j.la)throw new Qe(28);return tt(zn(f.parent),f.j.la(f))}function Cr(f,d,v){if(f==="")throw new Qe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(v=d&64?(typeof v>"u"?438:v)&4095|32768:0,typeof f=="object")var N=f;else{f=D(f);try{N=pn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Qe(20)}else N=sa(f,v,0),S=!0;if(!N)throw new Qe(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Qe(54);if(!S&&(v=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(Fa(d)!=="r"||d&512)?31:aa(N,Fa(d)):44))throw new Qe(v);if(d&512&&!S){if(v=N,v=typeof v=="string"?pn(v,{fb:!0}).node:v,!v.j.P)throw new Qe(63);if((v.mode&61440)===16384)throw new Qe(31);if((v.mode&61440)!==32768)throw new Qe(28);if(S=aa(v,"w"))throw new Qe(S);v.j.P(v,{size:0,timestamp:Date.now()})}return d&=-131713,N=zi({node:N,path:zn(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!z.logReadFiles||d&1||(fe||={},f in fe||(fe[f]=1)),N}function _a(f,d,v){if(f.W===null)throw new Qe(8);if(!f.seekable||!f.m.aa)throw new Qe(70);if(v!=0&&v!=1&&v!=2)throw new Qe(28);f.position=f.m.aa(f,d,v),f.sc=[]}var Ha;function Fi(f,d,v){f=D("/dev/"+f);var S=Hn(!!d,!!v);J||=64;var N=J++<<8|0;Kn(N,{open(j){j.seekable=!1},close(){v?.buffer?.length&&v(10)},read(j,W,$,ce){for(var le=0,Ve=0;Ve<ce;Ve++){try{var Je=d()}catch{throw new Qe(29)}if(Je===void 0&&le===0)throw new Qe(6);if(Je==null)break;le++,W[$+Ve]=Je}return le&&(j.node.timestamp=Date.now()),le},write(j,W,$,ce){for(var le=0;le<ce;le++)try{v(W[$+le])}catch{throw new Qe(29)}return ce&&(j.node.timestamp=Date.now()),le}}),Si(f,S,N)}var J,ie={},fe,Ae=void 0,Me=(f,d)=>Object.defineProperty(d,"name",{value:f}),Le=[],ke=[],Ne,Pe=f=>{if(!f)throw new Ne("Cannot use deleted val. handle = "+f);return ke[f]},je=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Le.pop()||ke.length;return ke[d]=f,ke[d+1]=1,d}},hn=f=>{var d=Error,v=Me(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},Jn,_n,jt=f=>{for(var d="";P[f];)d+=_n[P[f++]];return d},di=[],Gn=()=>{for(;di.length;){var f=di.pop();f.g.ea=!1,f.delete()}},ai,cr={},qa=(f,d)=>{if(d===void 0)throw new Ne("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Ir={},Ga=f=>{f=gc(f);var d=jt(f);return ar(f),d},ba=(f,d)=>{var v=Ir[f];if(v===void 0)throw f=`${d} has unknown type ${Ga(f)}`,new Ne(f);return v},xr=()=>{},wa=!1,hr=(f,d,v)=>d===v?f:v.C===void 0?null:(f=hr(f,d,v.C),f===null?null:v.Lb(f)),Is={},fr=(f,d)=>(d=qa(f,d),cr[d]),dr,tr=(f,d)=>{if(!d.u||!d.o)throw new dr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new dr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},mr(Object.create(f,{g:{value:d,writable:!0}}))},mr=f=>typeof FinalizationRegistry>"u"?(mr=d=>d,f):(wa=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),mr=d=>{var v=d.g;return v.F&&wa.register(d,{g:v},d),d},xr=d=>{wa.unregister(d)},mr(f)),oa={},pr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Ri(f){return this.fromWireType(Ie[f>>2])}var mi={},qr={},Nt=(f,d,v)=>{function S($){if($=v($),$.length!==f.length)throw new dr("Mismatched type converter count");for(var ce=0;ce<f.length;++ce)Hi(f[ce],$[ce])}f.forEach(function($){qr[$]=d});var N=Array(d.length),j=[],W=0;d.forEach(($,ce)=>{Ir.hasOwnProperty($)?N[ce]=Ir[$]:(j.push($),mi.hasOwnProperty($)||(mi[$]=[]),mi[$].push(()=>{N[ce]=Ir[$],++W,W===j.length&&S(N)}))}),j.length===0&&S(N)};function Gr(f,d,v={}){var S=d.name;if(!f)throw new Ne(`type "${S}" must have a positive integer typeid pointer`);if(Ir.hasOwnProperty(f)){if(v.Vb)return;throw new Ne(`Cannot register type '${S}' twice`)}Ir[f]=d,delete qr[f],mi.hasOwnProperty(f)&&(d=mi[f],delete mi[f],d.forEach(N=>N()))}function Hi(f,d,v={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Gr(f,d,v)}var la=f=>{throw new Ne(f.g.u.i.name+" instance already deleted")};function Ea(){}var ua=(f,d,v)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new Ne(`Function '${v}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},Mr=(f,d,v)=>{if(z.hasOwnProperty(f)){if(v===void 0||z[f].A!==void 0&&z[f].A[v]!==void 0)throw new Ne(`Cannot register public name '${f}' twice`);if(ua(z,f,f),z.hasOwnProperty(v))throw new Ne(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`);z[f].A[v]=d}else z[f]=d,v!==void 0&&(z[f].Lc=v)},Nr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function pi(f,d,v,S,N,j,W,$){this.name=f,this.constructor=d,this.M=v,this.O=S,this.C=N,this.Qb=j,this.ma=W,this.Lb=$,this.pb=[]}var gr=(f,d,v)=>{for(;d!==v;){if(!d.ma)throw new Ne(`Expected null or instance of ${v.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Yr(f,d){if(d===null){if(this.La)throw new Ne(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new Ne(`Cannot pass "${Ds(d)}" as a ${this.name}`);if(!d.g.o)throw new Ne(`Cannot pass deleted object as a pointer of type ${this.name}`);return gr(d.g.o,d.g.u.i,this.i)}function Ta(f,d){if(d===null){if(this.La)throw new Ne(`null is not a valid ${this.name}`);if(this.sa){var v=this.Na();return f!==null&&f.push(this.O,v),v}return 0}if(!d||!d.g)throw new Ne(`Cannot pass "${Ds(d)}" as a ${this.name}`);if(!d.g.o)throw new Ne(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new Ne(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(v=gr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new Ne("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)v=d.g.F;else throw new Ne(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:v=d.g.F;break;case 2:if(d.g.J===this)v=d.g.F;else{var S=d.clone();v=this.ic(v,je(()=>S.delete())),f!==null&&f.push(this.O,v)}break;default:throw new Ne("Unsupporting sharing policy")}}return v}function To(f,d){if(d===null){if(this.La)throw new Ne(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new Ne(`Cannot pass "${Ds(d)}" as a ${this.name}`);if(!d.g.o)throw new Ne(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new Ne(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return gr(d.g.o,d.g.u.i,this.i)}function Dr(f,d,v,S,N,j,W,$,ce,le,Ve){this.name=f,this.i=d,this.La=v,this.ra=S,this.sa=N,this.hc=j,this.mc=W,this.qb=$,this.Na=ce,this.ic=le,this.O=Ve,N||d.C!==void 0?this.toWireType=Ta:(this.toWireType=S?Yr:To,this.L=null)}var Ya=(f,d,v)=>{if(!z.hasOwnProperty(f))throw new dr("Replacing nonexistent public symbol");z[f].A!==void 0&&v!==void 0?z[f].A[v]=d:(z[f]=d,z[f].da=v)},nr=[],Xa,xs=f=>{var d=nr[f];return d||(f>=nr.length&&(nr.length=f+1),nr[f]=d=Xa.get(f)),d},Qa=(f,d,v=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,z["dynCall_"+f])(d,...v)):d=xs(d)(...v),d),Wo=(f,d)=>(...v)=>Qa(f,d,v),Zn=(f,d)=>{f=jt(f);var v=f.includes("j")?Wo(f,d):xs(d);if(typeof v!="function")throw new Ne(`unknown function pointer with signature ${f}: ${d}`);return v},Aa,ir=(f,d)=>{function v(j){N[j]||Ir[j]||(qr[j]?qr[j].forEach(v):(S.push(j),N[j]=!0))}var S=[],N={};throw d.forEach(v),new Aa(`${f}: `+S.map(Ga).join([", "]))};function $o(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ca(f,d,v,S,N){var j=d.length;if(2>j)throw new Ne("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=d[1]!==null&&v!==null,$=$o(d),ce=d[0].name!=="void",le=j-2,Ve=Array(le),Je=[],st=[];return Me(f,function(...Z){if(Z.length!==le)throw new Ne(`function ${f} called with ${Z.length} arguments, expected ${le}`);if(st.length=0,Je.length=W?2:1,Je[0]=N,W){var Be=d[1].toWireType(st,this);Je[1]=Be}for(var it=0;it<le;++it)Ve[it]=d[it+2].toWireType(st,Z[it]),Je.push(Ve[it]);if(Z=S(...Je),$)pr(st);else for(it=W?1:2;it<d.length;it++){var Fe=it===1?Be:Ve[it-2];d[it].L!==null&&d[it].L(Fe)}return Be=ce?d[0].fromWireType(Z):void 0,Be})}var Ka=(f,d)=>{for(var v=[],S=0;S<f;S++)v.push(Ie[d+4*S>>2]);return v},Ms=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Or=(f,d,v)=>{if(!(f instanceof Object))throw new Ne(`${v} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new Ne(`${v} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new Ne(`cannot call emscripten binding method ${v} on deleted object`);return gr(f.g.o,f.g.u.i,d.i)},Ns=f=>{9<f&&--ke[f+1]===0&&(ke[f]=void 0,Le.push(f))},Jo={name:"emscripten::val",fromWireType:f=>{var d=Pe(f);return Ns(f),d},toWireType:(f,d)=>je(d),argPackAdvance:8,readValueFromPointer:Ri,L:null},Zo=(f,d,v)=>{switch(d){case 1:return v?function(S){return this.fromWireType(xe[S])}:function(S){return this.fromWireType(P[S])};case 2:return v?function(S){return this.fromWireType(se[S>>1])}:function(S){return this.fromWireType(Se[S>>1])};case 4:return v?function(S){return this.fromWireType(be[S>>2])}:function(S){return this.fromWireType(Ie[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ds=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Sa=(f,d)=>{switch(d){case 4:return function(v){return this.fromWireType(qe[v>>2])};case 8:return function(v){return this.fromWireType(We[v>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ci=(f,d,v)=>{switch(d){case 1:return v?S=>xe[S]:S=>P[S];case 2:return v?S=>se[S>>1]:S=>Se[S>>1];case 4:return v?S=>be[S>>2]:S=>Ie[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ao=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,el=(f,d)=>{for(var v=f>>1,S=v+d/2;!(v>=S)&&Se[v];)++v;if(v<<=1,32<v-f&&Ao)return Ao.decode(P.subarray(f,v));for(v="",S=0;!(S>=d/2);++S){var N=se[f+2*S>>1];if(N==0)break;v+=String.fromCharCode(N)}return v},ha=(f,d,v)=>{if(v??=2147483647,2>v)return 0;v-=2;var S=d;v=v<2*f.length?v/2:f.length;for(var N=0;N<v;++N)se[d>>1]=f.charCodeAt(N),d+=2;return se[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var v=0,S="";!(v>=d/4);){var N=be[f+4*v>>2];if(N==0)break;++v,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,v)=>{if(v??=2147483647,4>v)return 0;var S=d;v=S+v-4;for(var N=0;N<f.length;++N){var j=f.charCodeAt(N);if(55296<=j&&57343>=j){var W=f.charCodeAt(++N);j=65536+((j&1023)<<10)|W&1023}if(be[d>>2]=j,d+=4,d+4>v)break}return be[d>>2]=0,d-S},O=f=>{for(var d=0,v=0;v<f.length;++v){var S=f.charCodeAt(v);55296<=S&&57343>=S&&++v,d+=4}return d},ae=(f,d,v)=>{var S=[];return f=f.toWireType(S,v),S.length&&(Ie[d>>2]=je(S)),f},me={},ze=f=>{var d=me[f];return d===void 0?jt(f):d},At=[],Yn=f=>{var d=At.length;return At.push(f),d},rn=(f,d)=>{for(var v=Array(f),S=0;S<f;++S)v[S]=ba(Ie[d+4*S>>2],"parameter "+S);return v},xn=Reflect.construct,qi=[],yr={},vr=()=>{if(!rr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},d;for(d in yr)yr[d]===void 0?delete f[d]:f[d]=yr[d];var v=[];for(d in f)v.push(`${d}=${f[d]}`);rr=v}return rr},rr,Xr=f=>f%4===0&&(f%100!==0||f%400===0),Wa=[31,29,31,30,31,30,31,31,30,31,30,31],$a=[31,28,31,30,31,30,31,31,30,31,30,31],Af=(f,d,v,S)=>{function N(Z,Be,it){for(Z=typeof Z=="number"?Z.toString():Z||"";Z.length<Be;)Z=it[0]+Z;return Z}function j(Z,Be){return N(Z,Be,"0")}function W(Z,Be){function it(sn){return 0>sn?-1:0<sn?1:0}var Fe;return(Fe=it(Z.getFullYear()-Be.getFullYear()))===0&&(Fe=it(Z.getMonth()-Be.getMonth()))===0&&(Fe=it(Z.getDate()-Be.getDate())),Fe}function $(Z){switch(Z.getDay()){case 0:return new Date(Z.getFullYear()-1,11,29);case 1:return Z;case 2:return new Date(Z.getFullYear(),0,3);case 3:return new Date(Z.getFullYear(),0,2);case 4:return new Date(Z.getFullYear(),0,1);case 5:return new Date(Z.getFullYear()-1,11,31);case 6:return new Date(Z.getFullYear()-1,11,30)}}function ce(Z){var Be=Z.ba;for(Z=new Date(new Date(Z.ca+1900,0,1).getTime());0<Be;){var it=Z.getMonth(),Fe=(Xr(Z.getFullYear())?Wa:$a)[it];if(Be>Fe-Z.getDate())Be-=Fe-Z.getDate()+1,Z.setDate(1),11>it?Z.setMonth(it+1):(Z.setMonth(0),Z.setFullYear(Z.getFullYear()+1));else{Z.setDate(Z.getDate()+Be);break}}return it=new Date(Z.getFullYear()+1,0,4),Be=$(new Date(Z.getFullYear(),0,4)),it=$(it),0>=W(Be,Z)?0>=W(it,Z)?Z.getFullYear()+1:Z.getFullYear():Z.getFullYear()-1}var le=Ie[S+40>>2];S={pc:be[S>>2],oc:be[S+4>>2],Da:be[S+8>>2],Qa:be[S+12>>2],Ea:be[S+16>>2],ca:be[S+20>>2],R:be[S+24>>2],ba:be[S+28>>2],Nc:be[S+32>>2],nc:be[S+36>>2],qc:le&&le?nt(P,le):""},v=v?nt(P,v):"",le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in le)v=v.replace(new RegExp(Ve,"g"),le[Ve]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");le={"%a":Z=>Je[Z.R].substring(0,3),"%A":Z=>Je[Z.R],"%b":Z=>st[Z.Ea].substring(0,3),"%B":Z=>st[Z.Ea],"%C":Z=>j((Z.ca+1900)/100|0,2),"%d":Z=>j(Z.Qa,2),"%e":Z=>N(Z.Qa,2," "),"%g":Z=>ce(Z).toString().substring(2),"%G":ce,"%H":Z=>j(Z.Da,2),"%I":Z=>(Z=Z.Da,Z==0?Z=12:12<Z&&(Z-=12),j(Z,2)),"%j":Z=>{for(var Be=0,it=0;it<=Z.Ea-1;Be+=(Xr(Z.ca+1900)?Wa:$a)[it++]);return j(Z.Qa+Be,3)},"%m":Z=>j(Z.Ea+1,2),"%M":Z=>j(Z.oc,2),"%n":()=>`
`,"%p":Z=>0<=Z.Da&&12>Z.Da?"AM":"PM","%S":Z=>j(Z.pc,2),"%t":()=>"	","%u":Z=>Z.R||7,"%U":Z=>j(Math.floor((Z.ba+7-Z.R)/7),2),"%V":Z=>{var Be=Math.floor((Z.ba+7-(Z.R+6)%7)/7);if(2>=(Z.R+371-Z.ba-2)%7&&Be++,Be)Be==53&&(it=(Z.R+371-Z.ba)%7,it==4||it==3&&Xr(Z.ca)||(Be=1));else{Be=52;var it=(Z.R+7-Z.ba-1)%7;(it==4||it==5&&Xr(Z.ca%400-1))&&Be++}return j(Be,2)},"%w":Z=>Z.R,"%W":Z=>j(Math.floor((Z.ba+7-(Z.R+6)%7)/7),2),"%y":Z=>(Z.ca+1900).toString().substring(2),"%Y":Z=>Z.ca+1900,"%z":Z=>{Z=Z.nc;var Be=0<=Z;return Z=Math.abs(Z)/60,(Be?"+":"-")+("0000"+(Z/60*100+Z%60)).slice(-4)},"%Z":Z=>Z.qc,"%%":()=>"%"},v=v.replace(/%%/g,"\0\0");for(Ve in le)v.includes(Ve)&&(v=v.replace(new RegExp(Ve,"g"),le[Ve](S)));return v=v.replace(/\0\0/g,"%"),Ve=Sn(v,!1),Ve.length>d?0:(xe.set(Ve,f),Ve.length-1)};[44].forEach(f=>{Hr[f]=new Qe(f),Hr[f].stack="<generic error, no stack>"}),Rr=Array(4096),On(gt,"/"),Ai("/tmp"),Ai("/home"),Ai("/home/web_user"),(function(){Ai("/dev"),Kn(259,{read:()=>0,write:(S,N,j,W)=>W}),Si("/dev/null",259),Bt(1280,Dn),Bt(1536,jn),Si("/dev/tty",1280),Si("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,v=()=>(d===0&&(d=$e(f).byteLength),f[--d]);Fi("random",v),Fi("urandom",v),Ai("/dev/shm"),Ai("/dev/shm/tmp")})(),(function(){Ai("/proc");var f=Ai("/proc/self");Ai("/proc/self/fd"),On({U(){var d=Cs(f,"fd",16895,73);return d.j={ja(v,S){var N=Ei(+S);return v={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},v.parent=v}},d}},"/proc/self/fd")})(),Ne=z.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},ke.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>ke.length/2-5-Le.length,Jn=z.PureVirtualError=hn("PureVirtualError");for(var pc=Array(256),tl=0;256>tl;++tl)pc[tl]=String.fromCharCode(tl);_n=pc,z.getInheritedInstanceCount=()=>Object.keys(cr).length,z.getLiveInheritedInstances=()=>{var f=[],d;for(d in cr)cr.hasOwnProperty(d)&&f.push(cr[d]);return f},z.flushPendingDeletes=Gn,z.setDelayFunction=f=>{ai=f,di.length&&ai&&ai(Gn)},dr=z.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ea.prototype,{isAliasOf:function(f){if(!(this instanceof Ea&&f instanceof Ea))return!1;var d=this.g.u.i,v=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)v=d.ma(v),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&v===f},clone:function(){if(this.g.o||la(this),this.g.ha)return this.g.count.value+=1,this;var f=mr,d=Object,v=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(v.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new Ne("Object already scheduled for deletion");xr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new Ne("Object already scheduled for deletion");return di.push(this),di.length===1&&ai&&ai(Gn),this.g.ea=!0,this}}),Object.assign(Dr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Ri,fromWireType:function(f){function d(){return this.sa?tr(this.i.M,{u:this.hc,o:v,J:this,F:f}):tr(this.i.M,{u:this,o:f})}var v=this.Rb(f);if(!v)return this.ab(f),null;var S=fr(this.i,v);if(S!==void 0)return S.g.count.value===0?(S.g.o=v,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(v),S=Is[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=hr(v,this.i,S.i);return N===null?d.call(this):this.sa?tr(S.i.M,{u:S,o:N,J:this,F:f}):tr(S.i.M,{u:S,o:N})}}),Aa=z.UnboundTypeError=hn("UnboundTypeError");var tu={__syscall_fcntl64:function(f,d,v){Ae=v;try{var S=Ei(f);switch(d){case 0:var N=g();if(0>N)break;for(;Zi[N];)N++;return Bi(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),se[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof ie>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(f,d,v){Ae=v;try{var S=Ei(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();be[N>>2]=25856,be[N+4>>2]=5,be[N+8>>2]=191,be[N+12>>2]=35387;for(var j=0;32>j;j++)xe[N+j+17]=f[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],j=0;32>j;j++)f.push(xe[N+j+17]);return 0;case 21519:return S.s?(N=g(),be[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Qe(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],N=g(),se[N>>1]=j[0],se[N+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(W){if(typeof ie>"u"||W.name!=="ErrnoError")throw W;return-W.$}},__syscall_openat:function(f,d,v,S){Ae=S;try{d=d?nt(P,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var j=f===-100?"/":Ei(f).path;if(N.length==0)throw new Qe(44);d=D(j+"/"+N)}var W=S?g():0;return Cr(d,v,W).W}catch($){if(typeof ie>"u"||$.name!=="ErrnoError")throw $;return-$.$}},_abort_js:()=>{Ut("")},_embind_create_inheriting_constructor:(f,d,v)=>{f=jt(f),d=ba(d,"wrapper"),v=Pe(v);var S=d.i,N=S.M,j=S.C.M,W=S.C.constructor;return f=Me(f,function(...$){S.C.pb.forEach((function(ce){if(this[ce]===j[ce])throw new Jn(`Pure virtual function ${ce} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...$)}),N.__construct=function(...$){if(this===N)throw new Ne("Pass correct 'this' to __construct");$=W.implement(this,...$),xr($);var ce=$.g;if($.notifyOnDestruction(),ce.ha=!0,Object.defineProperties(this,{g:{value:ce}}),mr(this),$=ce.o,$=qa(S,$),cr.hasOwnProperty($))throw new Ne(`Tried to register registered instance: ${$}`);cr[$]=this},N.__destruct=function(){if(this===N)throw new Ne("Pass correct 'this' to __destruct");xr(this);var $=this.g.o;if($=qa(S,$),cr.hasOwnProperty($))delete cr[$];else throw new Ne(`Tried to unregister unregistered instance: ${$}`)},f.prototype=Object.create(N),Object.assign(f.prototype,v),je(f)},_embind_finalize_value_object:f=>{var d=oa[f];delete oa[f];var v=d.Na,S=d.O,N=d.eb,j=N.map(W=>W.Ub).concat(N.map(W=>W.kc));Nt([f],j,W=>{var $={};return N.forEach((ce,le)=>{var Ve=W[le],Je=ce.Sb,st=ce.Tb,Z=W[le+N.length],Be=ce.jc,it=ce.lc;$[ce.Ob]={read:Fe=>Ve.fromWireType(Je(st,Fe)),write:(Fe,sn)=>{var Ze=[];Be(it,Fe,Z.toWireType(Ze,sn)),pr(Ze)}}}),[{name:d.name,fromWireType:ce=>{var le={},Ve;for(Ve in $)le[Ve]=$[Ve].read(ce);return S(ce),le},toWireType:(ce,le)=>{for(var Ve in $)if(!(Ve in le))throw new TypeError(`Missing field: "${Ve}"`);var Je=v();for(Ve in $)$[Ve].write(Je,le[Ve]);return ce!==null&&ce.push(S,Je),Je},argPackAdvance:8,readValueFromPointer:Ri,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,v,S)=>{d=jt(d),Hi(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,j){return j?v:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(P[N])},L:null})},_embind_register_class:(f,d,v,S,N,j,W,$,ce,le,Ve,Je,st)=>{Ve=jt(Ve),j=Zn(N,j),$&&=Zn(W,$),le&&=Zn(ce,le),st=Zn(Je,st);var Z=Nr(Ve);Mr(Z,function(){ir(`Cannot construct ${Ve} due to unbound types`,[S])}),Nt([f,d,v],S?[S]:[],Be=>{if(Be=Be[0],S)var it=Be.i,Fe=it.M;else Fe=Ea.prototype;Be=Me(Ve,function(...gn){if(Object.getPrototypeOf(this)!==sn)throw new Ne("Use 'new' to construct "+Ve);if(Ze.Z===void 0)throw new Ne(Ve+" has no accessible constructor");var ei=Ze.Z[gn.length];if(ei===void 0)throw new Ne(`Tried to invoke ctor of ${Ve} with invalid number of parameters (${gn.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return ei.apply(this,gn)});var sn=Object.create(Fe,{constructor:{value:Be}});Be.prototype=sn;var Ze=new pi(Ve,Be,sn,st,it,j,$,le);if(Ze.C){var kt;(kt=Ze.C).na??(kt.na=[]),Ze.C.na.push(Ze)}return it=new Dr(Ve,Ze,!0,!1,!1),kt=new Dr(Ve+"*",Ze,!1,!1,!1),Fe=new Dr(Ve+" const*",Ze,!1,!0,!1),Is[f]={pointerType:kt,Hb:Fe},Ya(Z,Be),[it,kt,Fe]})},_embind_register_class_class_function:(f,d,v,S,N,j,W)=>{var $=Ka(v,S);d=jt(d),d=Ms(d),j=Zn(N,j),Nt([],[f],ce=>{function le(){ir(`Cannot call ${Ve} due to unbound types`,$)}ce=ce[0];var Ve=`${ce.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=ce.i.constructor;return Je[d]===void 0?(le.da=v-1,Je[d]=le):(ua(Je,d,Ve),Je[d].A[v-1]=le),Nt([],$,st=>{if(st=ca(Ve,[st[0],null].concat(st.slice(1)),null,j,W),Je[d].A===void 0?(st.da=v-1,Je[d]=st):Je[d].A[v-1]=st,ce.i.na)for(const Z of ce.i.na)Z.constructor.hasOwnProperty(d)||(Z.constructor[d]=st);return[]}),[]})},_embind_register_class_class_property:(f,d,v,S,N,j,W,$)=>{d=jt(d),j=Zn(N,j),Nt([],[f],ce=>{ce=ce[0];var le=`${ce.name}.${d}`,Ve={get(){ir(`Cannot access ${le} due to unbound types`,[v])},enumerable:!0,configurable:!0};return Ve.set=$?()=>{ir(`Cannot access ${le} due to unbound types`,[v])}:()=>{throw new Ne(`${le} is a read-only property`)},Object.defineProperty(ce.i.constructor,d,Ve),Nt([],[v],Je=>{Je=Je[0];var st={get(){return Je.fromWireType(j(S))},enumerable:!0};return $&&($=Zn(W,$),st.set=Z=>{var Be=[];$(S,Je.toWireType(Be,Z)),pr(Be)}),Object.defineProperty(ce.i.constructor,d,st),[]}),[]})},_embind_register_class_constructor:(f,d,v,S,N,j)=>{var W=Ka(d,v);N=Zn(S,N),Nt([],[f],$=>{$=$[0];var ce=`constructor ${$.name}`;if($.i.Z===void 0&&($.i.Z=[]),$.i.Z[d-1]!==void 0)throw new Ne(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.i.Z[d-1]=()=>{ir(`Cannot construct ${$.name} due to unbound types`,W)},Nt([],W,le=>(le.splice(1,0,null),$.i.Z[d-1]=ca(ce,le,null,N,j),[])),[]})},_embind_register_class_function:(f,d,v,S,N,j,W,$)=>{var ce=Ka(v,S);d=jt(d),d=Ms(d),j=Zn(N,j),Nt([],[f],le=>{function Ve(){ir(`Cannot call ${Je} due to unbound types`,ce)}le=le[0];var Je=`${le.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),$&&le.i.pb.push(d);var st=le.i.M,Z=st[d];return Z===void 0||Z.A===void 0&&Z.className!==le.name&&Z.da===v-2?(Ve.da=v-2,Ve.className=le.name,st[d]=Ve):(ua(st,d,Je),st[d].A[v-2]=Ve),Nt([],ce,Be=>(Be=ca(Je,Be,le,j,W),st[d].A===void 0?(Be.da=v-2,st[d]=Be):st[d].A[v-2]=Be,[])),[]})},_embind_register_class_property:(f,d,v,S,N,j,W,$,ce,le)=>{d=jt(d),N=Zn(S,N),Nt([],[f],Ve=>{Ve=Ve[0];var Je=`${Ve.name}.${d}`,st={get(){ir(`Cannot access ${Je} due to unbound types`,[v,W])},enumerable:!0,configurable:!0};return st.set=ce?()=>ir(`Cannot access ${Je} due to unbound types`,[v,W]):()=>{throw new Ne(Je+" is a read-only property")},Object.defineProperty(Ve.i.M,d,st),Nt([],ce?[v,W]:[v],Z=>{var Be=Z[0],it={get(){var sn=Or(this,Ve,Je+" getter");return Be.fromWireType(N(j,sn))},enumerable:!0};if(ce){ce=Zn($,ce);var Fe=Z[1];it.set=function(sn){var Ze=Or(this,Ve,Je+" setter"),kt=[];ce(le,Ze,Fe.toWireType(kt,sn)),pr(kt)}}return Object.defineProperty(Ve.i.M,d,it),[]}),[]})},_embind_register_emval:f=>Hi(f,Jo),_embind_register_enum:(f,d,v,S)=>{function N(){}d=jt(d),N.values={},Hi(f,{name:d,constructor:N,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,W)=>W.value,argPackAdvance:8,readValueFromPointer:Zo(d,v,S),L:null}),Mr(d,N)},_embind_register_enum_value:(f,d,v)=>{var S=ba(f,"enum");d=jt(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:v},constructor:{value:Me(`${S.name}_${d}`,function(){})}}),f.values[v]=S,f[d]=S},_embind_register_float:(f,d,v)=>{d=jt(d),Hi(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:Sa(d,v),L:null})},_embind_register_function:(f,d,v,S,N,j)=>{var W=Ka(d,v);f=jt(f),f=Ms(f),N=Zn(S,N),Mr(f,function(){ir(`Cannot call ${f} due to unbound types`,W)},d-1),Nt([],W,$=>(Ya(f,ca(f,[$[0],null].concat($.slice(1)),null,N,j),d-1),[]))},_embind_register_integer:(f,d,v,S,N)=>{if(d=jt(d),N===-1&&(N=4294967295),N=$=>$,S===0){var j=32-8*v;N=$=>$<<j>>>j}var W=d.includes("unsigned")?function($,ce){return ce>>>0}:function($,ce){return ce};Hi(f,{name:d,fromWireType:N,toWireType:W,argPackAdvance:8,readValueFromPointer:Ci(d,v,S!==0),L:null})},_embind_register_memory_view:(f,d,v)=>{function S(j){return new N(xe.buffer,Ie[j+4>>2],Ie[j>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];v=jt(v),Hi(f,{name:v,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=jt(d);var v=d==="std::string";Hi(f,{name:d,fromWireType:function(S){var N=Ie[S>>2],j=S+4;if(v)for(var W=j,$=0;$<=N;++$){var ce=j+$;if($==N||P[ce]==0){if(W=W?nt(P,W,ce-W):"",le===void 0)var le=W;else le+="\0",le+=W;W=ce+1}}else{for(le=Array(N),$=0;$<N;++$)le[$]=String.fromCharCode(P[j+$]);le=le.join("")}return ar(S),le},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var j=typeof N=="string";if(!(j||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new Ne("Cannot pass non-string to std::string");var W=v&&j?Cn(N):N.length,$=Ja(4+W+1),ce=$+4;if(Ie[$>>2]=W,v&&j)cn(N,P,ce,W+1);else if(j)for(j=0;j<W;++j){var le=N.charCodeAt(j);if(255<le)throw ar(ce),new Ne("String has UTF-16 code units that do not fit in 8 bits");P[ce+j]=le}else for(j=0;j<W;++j)P[ce+j]=N[j];return S!==null&&S.push(ar,$),$},argPackAdvance:8,readValueFromPointer:Ri,L(S){ar(S)}})},_embind_register_std_wstring:(f,d,v)=>{if(v=jt(v),d===2)var S=el,N=ha,j=u,W=$=>Se[$>>1];else d===4&&(S=y,N=A,j=O,W=$=>Ie[$>>2]);Hi(f,{name:v,fromWireType:$=>{for(var ce=Ie[$>>2],le,Ve=$+4,Je=0;Je<=ce;++Je){var st=$+4+Je*d;(Je==ce||W(st)==0)&&(Ve=S(Ve,st-Ve),le===void 0?le=Ve:(le+="\0",le+=Ve),Ve=st+d)}return ar($),le},toWireType:($,ce)=>{if(typeof ce!="string")throw new Ne(`Cannot pass non-string to C++ string type ${v}`);var le=j(ce),Ve=Ja(4+le+d);return Ie[Ve>>2]=le/d,N(ce,Ve+4,le+d),$!==null&&$.push(ar,Ve),Ve},argPackAdvance:8,readValueFromPointer:Ri,L($){ar($)}})},_embind_register_value_object:(f,d,v,S,N,j)=>{oa[f]={name:jt(d),Na:Zn(v,S),O:Zn(N,j),eb:[]}},_embind_register_value_object_field:(f,d,v,S,N,j,W,$,ce,le)=>{oa[f].eb.push({Ob:jt(d),Ub:v,Sb:Zn(S,N),Tb:j,kc:W,jc:Zn($,ce),lc:le})},_embind_register_void:(f,d)=>{d=jt(d),Hi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,v)=>P.copyWithin(f,d,d+v),_emval_as:(f,d,v)=>(f=Pe(f),d=ba(d,"emval::as"),ae(d,v,f)),_emval_call_method:(f,d,v,S,N)=>(f=At[f],d=Pe(d),v=ze(v),f(d,d[v],S,N)),_emval_decref:Ns,_emval_get_method_caller:(f,d,v)=>{var S=rn(f,d),N=S.shift();f--;var j=Array(f);return d=`methodCaller<(${S.map(W=>W.name).join(", ")}) => ${N.name}>`,Yn(Me(d,(W,$,ce,le)=>{for(var Ve=0,Je=0;Je<f;++Je)j[Je]=S[Je].readValueFromPointer(le+Ve),Ve+=S[Je].argPackAdvance;return W=v===1?xn($,j):$.apply(W,j),ae(N,ce,W)}))},_emval_get_module_property:f=>(f=ze(f),je(z[f])),_emval_get_property:(f,d)=>(f=Pe(f),d=Pe(d),je(f[d])),_emval_incref:f=>{9<f&&(ke[f+1]+=1)},_emval_new_array:()=>je([]),_emval_new_cstring:f=>je(ze(f)),_emval_new_object:()=>je({}),_emval_run_destructors:f=>{var d=Pe(f);pr(d),Ns(f)},_emval_set_property:(f,d,v)=>{f=Pe(f),d=Pe(d),v=Pe(v),f[d]=v},_emval_take_value:(f,d)=>(f=ba(f,"_emval_take_value"),f=f.readValueFromPointer(d),je(f)),emscripten_asm_const_int:(f,d,v)=>{qi.length=0;for(var S;S=P[d++];){var N=S!=105;N&=S!=112,v+=N&&v%8?4:0,qi.push(S==112?Ie[v>>2]:S==105?be[v>>2]:We[v>>3]),v+=N?8:4}return mn[f](...qi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var v=1;4>=v;v*=2){var S=d*(1+.2/v);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(N),ut();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(f,d)=>{var v=0;return vr().forEach((S,N)=>{var j=d+v;for(N=Ie[f+4*N>>2]=j,j=0;j<S.length;++j)xe[N++]=S.charCodeAt(j);xe[N]=0,v+=S.length+1}),0},environ_sizes_get:(f,d)=>{var v=vr();Ie[f>>2]=v.length;var S=0;return v.forEach(N=>S+=N.length+1),Ie[d>>2]=S,0},fd_close:function(f){try{var d=Ei(f);if(d.W===null)throw new Qe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(v){throw v}finally{Zi[d.W]=null}return d.W=null,0}catch(v){if(typeof ie>"u"||v.name!=="ErrnoError")throw v;return v.$}},fd_read:function(f,d,v,S){try{e:{var N=Ei(f);f=d;for(var j,W=d=0;W<v;W++){var $=Ie[f>>2],ce=Ie[f+4>>2];f+=8;var le=N,Ve=j,Je=xe;if(0>ce||0>Ve)throw new Qe(28);if(le.W===null)throw new Qe(8);if((le.flags&2097155)===1)throw new Qe(8);if((le.node.mode&61440)===16384)throw new Qe(31);if(!le.m.read)throw new Qe(28);var st=typeof Ve<"u";if(!st)Ve=le.position;else if(!le.seekable)throw new Qe(70);var Z=le.m.read(le,Je,$,ce,Ve);st||(le.position+=Z);var Be=Z;if(0>Be){var it=-1;break e}if(d+=Be,Be<ce)break;typeof j<"u"&&(j+=Be)}it=d}return Ie[S>>2]=it,0}catch(Fe){if(typeof ie>"u"||Fe.name!=="ErrnoError")throw Fe;return Fe.$}},fd_seek:function(f,d,v,S,N){d=v+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*v:NaN;try{if(isNaN(d))return 61;var j=Ei(f);return _a(j,d,S),Vt=[j.position>>>0,(Un=j.position,1<=+Math.abs(Un)?0<Un?+Math.floor(Un/4294967296)>>>0:~~+Math.ceil((Un-+(~~Un>>>0))/4294967296)>>>0:0)],be[N>>2]=Vt[0],be[N+4>>2]=Vt[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(W){if(typeof ie>"u"||W.name!=="ErrnoError")throw W;return W.$}},fd_write:function(f,d,v,S){try{e:{var N=Ei(f);f=d;for(var j,W=d=0;W<v;W++){var $=Ie[f>>2],ce=Ie[f+4>>2];f+=8;var le=N,Ve=$,Je=ce,st=j,Z=xe;if(0>Je||0>st)throw new Qe(28);if(le.W===null)throw new Qe(8);if((le.flags&2097155)===0)throw new Qe(8);if((le.node.mode&61440)===16384)throw new Qe(31);if(!le.m.write)throw new Qe(28);le.seekable&&le.flags&1024&&_a(le,0,2);var Be=typeof st<"u";if(!Be)st=le.position;else if(!le.seekable)throw new Qe(70);var it=le.m.write(le,Z,Ve,Je,st,void 0);Be||(le.position+=it);var Fe=it;if(0>Fe){var sn=-1;break e}d+=Fe,typeof j<"u"&&(j+=Fe)}sn=d}return Ie[S>>2]=sn,0}catch(Ze){if(typeof ie>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},strftime_l:(f,d,v,S)=>Af(f,d,v,S)},Vn=(function(){function f(v){return Vn=v.exports,ye=Vn.memory,ut(),Xa=Vn.__indirect_function_table,Ct.unshift(Vn.__wasm_call_ctors),Et--,z.monitorRunDependencies?.(Et),Et==0&&Lt&&(v=Lt,Lt=null,v()),Vn}var d={env:tu,wasi_snapshot_preview1:tu};if(Et++,z.monitorRunDependencies?.(Et),z.instantiateWasm)try{return z.instantiateWasm(d,f)}catch(v){H(`Module.instantiateWasm callback failed with error: ${v}`),Re(v)}return yt||=Nn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",k):k+"canvas_advanced.wasm",$i(d,function(v){f(v.instance)}).catch(Re),{}})(),ar=f=>(ar=Vn.free)(f),Ja=f=>(Ja=Vn.malloc)(f),gc=f=>(gc=Vn.__getTypeName)(f),So=z._ma_device__on_notification_unlocked=f=>(So=z._ma_device__on_notification_unlocked=Vn.ma_device__on_notification_unlocked)(f);z._ma_malloc_emscripten=(f,d)=>(z._ma_malloc_emscripten=Vn.ma_malloc_emscripten)(f,d),z._ma_free_emscripten=(f,d)=>(z._ma_free_emscripten=Vn.ma_free_emscripten)(f,d);var nu=z._ma_device_process_pcm_frames_capture__webaudio=(f,d,v)=>(nu=z._ma_device_process_pcm_frames_capture__webaudio=Vn.ma_device_process_pcm_frames_capture__webaudio)(f,d,v),iu=z._ma_device_process_pcm_frames_playback__webaudio=(f,d,v)=>(iu=z._ma_device_process_pcm_frames_playback__webaudio=Vn.ma_device_process_pcm_frames_playback__webaudio)(f,d,v);z.dynCall_iiji=(f,d,v,S,N)=>(z.dynCall_iiji=Vn.dynCall_iiji)(f,d,v,S,N),z.dynCall_jiji=(f,d,v,S,N)=>(z.dynCall_jiji=Vn.dynCall_jiji)(f,d,v,S,N),z.dynCall_iiiji=(f,d,v,S,N,j)=>(z.dynCall_iiiji=Vn.dynCall_iiiji)(f,d,v,S,N,j),z.dynCall_iij=(f,d,v,S)=>(z.dynCall_iij=Vn.dynCall_iij)(f,d,v,S),z.dynCall_jii=(f,d,v)=>(z.dynCall_jii=Vn.dynCall_jii)(f,d,v),z.dynCall_viijii=(f,d,v,S,N,j,W)=>(z.dynCall_viijii=Vn.dynCall_viijii)(f,d,v,S,N,j,W),z.dynCall_iiiiij=(f,d,v,S,N,j,W)=>(z.dynCall_iiiiij=Vn.dynCall_iiiiij)(f,d,v,S,N,j,W),z.dynCall_iiiiijj=(f,d,v,S,N,j,W,$,ce)=>(z.dynCall_iiiiijj=Vn.dynCall_iiiiijj)(f,d,v,S,N,j,W,$,ce),z.dynCall_iiiiiijj=(f,d,v,S,N,j,W,$,ce,le)=>(z.dynCall_iiiiiijj=Vn.dynCall_iiiiiijj)(f,d,v,S,N,j,W,$,ce,le);var Os;Lt=function f(){Os||nl(),Os||(Lt=f)};function nl(){function f(){if(!Os&&(Os=!0,z.calledRun=!0,!de)){if(z.noFSInit||Ha||(Ha=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?Fi("stdin",z.stdin):qn("/dev/tty","/dev/stdin"),z.stdout?Fi("stdout",null,z.stdout):qn("/dev/tty","/dev/stdout"),z.stderr?Fi("stderr",null,z.stderr):qn("/dev/tty1","/dev/stderr"),Cr("/dev/stdin",0),Cr("/dev/stdout",1),Cr("/dev/stderr",1)),Fr=!1,R(Ct),Oe(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();nn.unshift(d)}R(nn)}}if(!(0<Et)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)ft();R(_t),0<Et||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),f()},1)):f())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return nl(),ne=Ue,ne})})();const x=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function x(L,q,ne,z){this.animation=L,this.artboard=q,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new ne.LinearAnimationInstance(L,q)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(L){this.instance.apply(L)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var E=w(6),x=w(7),L=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>L});var E=void 0,x=function(q,ne,z){var Oe,Re,Ue=[];if(["touchstart","touchmove"].indexOf(q.type)>-1&&(!((Oe=q.changedTouches)===null||Oe===void 0)&&Oe.length)){ne||q.preventDefault();for(var He=0,Ge=z?q.changedTouches.length:1;He<Ge;){var Ke=q.changedTouches[He];Ue.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),He++}}else if(q.type==="touchend"&&(!((Re=q.changedTouches)===null||Re===void 0)&&Re.length))for(var He=0,Ge=z?q.changedTouches.length:1;He<Ge;){var Ke=q.changedTouches[He];Ue.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),He++}else Ue.push({clientX:q.clientX,clientY:q.clientY,identifier:0});return Ue},L=function(q){var ne=q.canvas,z=q.artboard,Oe=q.stateMachines,Re=Oe===void 0?[]:Oe,Ue=q.renderer,He=q.rive,Ge=q.fit,Ke=q.alignment,ht=q.isTouchScrollEnabled,ot=ht===void 0?!1:ht,F=q.dispatchPointerExit,U=F===void 0?!0:F,V=q.enableMultiTouch,B=V===void 0?!1:V,I=q.layoutScaleFactor,k=I===void 0?1:I;if(!ne||!Re.length||!Ue||!He||!z||typeof window>"u")return null;var C=null,X=!1,re=function(ee){if(X&&ee instanceof MouseEvent){ee.type=="mouseup"&&(X=!1);return}X=ot&&ee.type==="touchend"&&C==="touchstart",C=ee.type;var ye=ee.currentTarget.getBoundingClientRect(),de=x(ee,ot,B),xe=He.computeAlignment(Ge,Ke,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},z.bounds,k),P=new He.Mat2D;switch(xe.invert(P),de.forEach(function(yt){var at=yt.clientX,un=yt.clientY;if(!(!at&&!un)){var Zt=at-ye.left,$i=un-ye.top,Un=new He.Vec2D(Zt,$i),Vt=He.mapXY(P,Un),mn=Vt.x(),R=Vt.y();yt.transformedX=mn,yt.transformedY=R,Vt.delete(),Un.delete()}}),P.delete(),xe.delete(),ee.type){case"mouseout":for(var se=function(yt){U?de.forEach(function(at){yt.pointerExit(at.transformedX,at.transformedY,at.identifier)}):de.forEach(function(at){yt.pointerMove(at.transformedX,at.transformedY,at.identifier)})},Se=0,be=Re;Se<be.length;Se++){var Ie=be[Se];se(Ie)}break;case"touchmove":case"mouseover":case"mousemove":{for(var qe=function(yt){de.forEach(function(at){yt.pointerMove(at.transformedX,at.transformedY,at.identifier)})},We=0,ut=Re;We<ut.length;We++){var Ie=ut[We];qe(Ie)}break}case"touchstart":case"mousedown":{for(var _t=function(yt){de.forEach(function(at){yt.pointerDown(at.transformedX,at.transformedY,at.identifier)})},Ct=0,nn=Re;Ct<nn.length;Ct++){var Ie=nn[Ct];_t(Ie)}break}case"touchend":{for(var ft=function(yt){de.forEach(function(at){yt.pointerUp(at.transformedX,at.transformedY,at.identifier),yt.pointerExit(at.transformedX,at.transformedY,at.identifier)})},Et=0,Lt=Re;Et<Lt.length;Et++){var Ie=Lt[Et];ft(Ie)}break}case"mouseup":{for(var Ut=function(yt){de.forEach(function(at){yt.pointerUp(at.transformedX,at.transformedY,at.identifier)})},Nn=0,ri=Re;Nn<ri.length;Nn++){var Ie=ri[Nn];Ut(Ie)}break}}},H=re.bind(E);return ne.addEventListener("mouseover",H),ne.addEventListener("mouseout",H),ne.addEventListener("mousemove",H),ne.addEventListener("mousedown",H),ne.addEventListener("mouseup",H),ne.addEventListener("touchmove",H,{passive:ot}),ne.addEventListener("touchstart",H,{passive:ot}),ne.addEventListener("touchend",H),function(){ne.removeEventListener("mouseover",H),ne.removeEventListener("mouseout",H),ne.removeEventListener("mousemove",H),ne.removeEventListener("mousedown",H),ne.removeEventListener("mouseup",H),ne.removeEventListener("touchmove",H),ne.removeEventListener("touchstart",H),ne.removeEventListener("touchend",H)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Oe,sanitizeUrl:()=>He});var E=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,q=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ne=/^.+(:|&colon;)/gim,z=[".","/"],Oe="about:blank";function Re(Ge){return z.indexOf(Ge[0])>-1}function Ue(Ge){var Ke=Ge.replace(q,"");return Ke.replace(x,function(ht,ot){return String.fromCharCode(ot)})}function He(Ge){if(!Ge)return Oe;var Ke=Ue(Ge).replace(L,"").replace(q,"").trim();if(!Ke)return Oe;if(Re(Ke))return Ke;var ht=Ke.match(ne);if(!ht)return Ke;var ot=ht[0];return E.test(ot)?Oe:Ke}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Ge,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>Re,FileAssetWrapper:()=>Ue,FileFinalizer:()=>x,FontAssetWrapper:()=>Ke,FontWrapper:()=>Oe,ImageAssetWrapper:()=>He,ImageWrapper:()=>ne,createFinalization:()=>U,finalizationRegistry:()=>F});var E=(function(){var V=function(B,I){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,C){k.__proto__=C}||function(k,C){for(var X in C)Object.prototype.hasOwnProperty.call(C,X)&&(k[X]=C[X])},V(B,I)};return function(B,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");V(B,I);function k(){this.constructor=B}B.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k)}})(),x=(function(){function V(B){this.selfUnref=!1,this._file=B}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),L=(function(){function V(B){this._finalizableObject=B}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),q=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),ne=(function(V){E(B,V);function B(I){var k=V.call(this)||this;return k._nativeImage=I,k}return Object.defineProperty(B.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},B})(q),z=(function(V){E(B,V);function B(I){var k=V.call(this)||this;return k._nativeAudio=I,k}return Object.defineProperty(B.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},B})(q),Oe=(function(V){E(B,V);function B(I){var k=V.call(this)||this;return k._nativeFont=I,k}return Object.defineProperty(B.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},B})(q),Re=(function(){function V(B,I){this._assetLoaderCallback=I,this.assetLoader=new B.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(B,I){var k;return B.isImage?k=new He(B):B.isAudio?k=new Ge(B):B.isFont&&(k=new Ke(B)),this._assetLoaderCallback(k,I)},V})(),Ue=(function(){function V(B){this._nativeFileAsset=B}return V.prototype.decode=function(B){this._nativeFileAsset.decode(B)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),He=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},B})(Ue),Ge=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},B})(Ue),Ke=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},B})(Ue),ht=(function(){function V(B){}return V.prototype.register=function(B){B.selfUnref=!0},V.prototype.unregister=function(B){},V})(),ot=typeof FinalizationRegistry<"u"?FinalizationRegistry:ht,F=new ot(function(V){V?.unref()}),U=function(V,B){var I=new L(B);F.register(V,I)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>He,DataEnum:()=>We,EventType:()=>C,Fit:()=>Ue,Layout:()=>Ge,LoopType:()=>X,Rive:()=>Ie,RiveEventType:()=>F,RiveFile:()=>be,RuntimeLoader:()=>Ke,StateMachineInput:()=>ot,StateMachineInputType:()=>ht,Testing:()=>$i,ViewModel:()=>qe,ViewModelInstance:()=>_t,ViewModelInstanceArtboard:()=>at,ViewModelInstanceAssetImage:()=>yt,ViewModelInstanceBoolean:()=>Et,ViewModelInstanceColor:()=>ri,ViewModelInstanceEnum:()=>Ut,ViewModelInstanceList:()=>Nn,ViewModelInstanceNumber:()=>ft,ViewModelInstanceString:()=>nn,ViewModelInstanceTrigger:()=>Lt,ViewModelInstanceValue:()=>Ct,decodeAudio:()=>Un,decodeFont:()=>mn,decodeImage:()=>Vt});var p=l(1),b=l(2),w=l(3),E=l(5),x=(function(){var R=function(g,_){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var pe in K)Object.prototype.hasOwnProperty.call(K,pe)&&(D[pe]=K[pe])},R(g,_)};return function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");R(g,_);function D(){this.constructor=g}g.prototype=_===null?Object.create(_):(D.prototype=_.prototype,new D)}})(),L=function(){return L=Object.assign||function(R){for(var g,_=1,D=arguments.length;_<D;_++){g=arguments[_];for(var K in g)Object.prototype.hasOwnProperty.call(g,K)&&(R[K]=g[K])}return R},L.apply(this,arguments)},q=function(R,g,_,D){function K(pe){return pe instanceof _?pe:new _(function(Te){Te(pe)})}return new(_||(_=Promise))(function(pe,Te){function $e(nt){try{Xe(D.next(nt))}catch($t){Te($t)}}function tt(nt){try{Xe(D.throw(nt))}catch($t){Te($t)}}function Xe(nt){nt.done?pe(nt.value):K(nt.value).then($e,tt)}Xe((D=D.apply(R,g||[])).next())})},ne=function(R,g){var _={label:0,sent:function(){if(pe[0]&1)throw pe[1];return pe[1]},trys:[],ops:[]},D,K,pe,Te=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Te.next=$e(0),Te.throw=$e(1),Te.return=$e(2),typeof Symbol=="function"&&(Te[Symbol.iterator]=function(){return this}),Te;function $e(Xe){return function(nt){return tt([Xe,nt])}}function tt(Xe){if(D)throw new TypeError("Generator is already executing.");for(;Te&&(Te=0,Xe[0]&&(_=0)),_;)try{if(D=1,K&&(pe=Xe[0]&2?K.return:Xe[0]?K.throw||((pe=K.return)&&pe.call(K),0):K.next)&&!(pe=pe.call(K,Xe[1])).done)return pe;switch(K=0,pe&&(Xe=[Xe[0]&2,pe.value]),Xe[0]){case 0:case 1:pe=Xe;break;case 4:return _.label++,{value:Xe[1],done:!1};case 5:_.label++,K=Xe[1],Xe=[0];continue;case 7:Xe=_.ops.pop(),_.trys.pop();continue;default:if(pe=_.trys,!(pe=pe.length>0&&pe[pe.length-1])&&(Xe[0]===6||Xe[0]===2)){_=0;continue}if(Xe[0]===3&&(!pe||Xe[1]>pe[0]&&Xe[1]<pe[3])){_.label=Xe[1];break}if(Xe[0]===6&&_.label<pe[1]){_.label=pe[1],pe=Xe;break}if(pe&&_.label<pe[2]){_.label=pe[2],_.ops.push(Xe);break}pe[2]&&_.ops.pop(),_.trys.pop();continue}Xe=g.call(R,_)}catch(nt){Xe=[6,nt],K=0}finally{D=pe=0}if(Xe[0]&5)throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}},z=function(R,g,_){if(_||arguments.length===2)for(var D=0,K=g.length,pe;D<K;D++)(pe||!(D in g))&&(pe||(pe=Array.prototype.slice.call(g,0,D)),pe[D]=g[D]);return R.concat(pe||Array.prototype.slice.call(g))},Oe=(function(R){x(g,R);function g(){var _=R!==null&&R.apply(this,arguments)||this;return _.isHandledError=!0,_}return g})(Error),Re=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Ue;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Ue||(Ue={}));var He;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(He||(He={}));var Ge=(function(){function R(g){var _,D,K,pe,Te,$e,tt;this.fit=(_=g?.fit)!==null&&_!==void 0?_:Ue.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:He.Center,this.layoutScaleFactor=(K=g?.layoutScaleFactor)!==null&&K!==void 0?K:1,this.minX=(pe=g?.minX)!==null&&pe!==void 0?pe:0,this.minY=(Te=g?.minY)!==null&&Te!==void 0?Te:0,this.maxX=($e=g?.maxX)!==null&&$e!==void 0?$e:0,this.maxY=(tt=g?.maxY)!==null&&tt!==void 0?tt:0}return R.new=function(g){var _=g.fit,D=g.alignment,K=g.minX,pe=g.minY,Te=g.maxX,$e=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:_,alignment:D,minX:K,minY:pe,maxX:Te,maxY:$e})},R.prototype.copyWith=function(g){var _=g.fit,D=g.alignment,K=g.layoutScaleFactor,pe=g.minX,Te=g.minY,$e=g.maxX,tt=g.maxY;return new R({fit:_??this.fit,alignment:D??this.alignment,layoutScaleFactor:K??this.layoutScaleFactor,minX:pe??this.minX,minY:Te??this.minY,maxX:$e??this.maxX,maxY:tt??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var _;return this.fit===Ue.Cover?_=g.Fit.cover:this.fit===Ue.Contain?_=g.Fit.contain:this.fit===Ue.Fill?_=g.Fit.fill:this.fit===Ue.FitWidth?_=g.Fit.fitWidth:this.fit===Ue.FitHeight?_=g.Fit.fitHeight:this.fit===Ue.ScaleDown?_=g.Fit.scaleDown:this.fit===Ue.Layout?_=g.Fit.layout:_=g.Fit.none,this.cachedRuntimeFit=_,_},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var _;return this.alignment===He.TopLeft?_=g.Alignment.topLeft:this.alignment===He.TopCenter?_=g.Alignment.topCenter:this.alignment===He.TopRight?_=g.Alignment.topRight:this.alignment===He.CenterLeft?_=g.Alignment.centerLeft:this.alignment===He.CenterRight?_=g.Alignment.centerRight:this.alignment===He.BottomLeft?_=g.Alignment.bottomLeft:this.alignment===He.BottomCenter?_=g.Alignment.bottomCenter:this.alignment===He.BottomRight?_=g.Alignment.bottomRight:_=g.Alignment.center,this.cachedRuntimeAlignment=_,_},R})(),Ke=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var _;for(R.runtime=g;R.callBackQueue.length>0;)(_=R.callBackQueue.shift())===null||_===void 0||_(R.runtime)}).catch(function(g){var _={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",_);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(_.message,"), trying jsdelivr as a backup")),R.setWasmUrl(D),R.loadRuntime();else{var K=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(_.type),"- Message: ".concat(_.message),"- WebAssembly-specific error: ".concat(_.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(K)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(_){return g(_)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),ht;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(ht||(ht={}));var ot=(function(){function R(g,_){this.type=g,this.runtimeInput=_}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===ht.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var U=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){x(g,R);function g(_,D){var K=R.call(this,!1)||this;return K.nativeArtboard=_,K.file=D,K}return g})(U),B=(function(R){x(g,R);function g(_){var D=R.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=_,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(U),I=(function(){function R(g,_,D,K){this.stateMachine=g,this.playing=D,this.artboard=K,this.inputs=[],this.instance=new _.StateMachineInstance(g,K),this.initInputs(_)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],_=0;_<this.instance.stateChangedCount();_++)g.push(this.instance.stateChangedNameByIndex(_));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var _=0;_<this.instance.inputCount();_++){var D=this.instance.input(_);this.inputs.push(this.mapRuntimeInput(D,g))}},R.prototype.mapRuntimeInput=function(g,_){if(g.type===_.SMIInput.bool)return new ot(ht.Boolean,g.asBool());if(g.type===_.SMIInput.number)return new ot(ht.Number,g.asNumber());if(g.type===_.SMIInput.trigger)return new ot(ht.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),k=(function(){function R(g,_,D,K,pe){K===void 0&&(K=[]),pe===void 0&&(pe=[]),this.runtime=g,this.artboard=_,this.eventManager=D,this.animations=K,this.stateMachines=pe}return R.prototype.add=function(g,_,D){if(D===void 0&&(D=!0),g=Zt(g),g.length===0)this.animations.forEach(function(cn){return cn.playing=_}),this.stateMachines.forEach(function(cn){return cn.playing=_});else for(var K=this.animations.map(function(cn){return cn.name}),pe=this.stateMachines.map(function(cn){return cn.name}),Te=0;Te<g.length;Te++){var $e=K.indexOf(g[Te]),tt=pe.indexOf(g[Te]);if($e>=0||tt>=0)$e>=0?this.animations[$e].playing=_:this.stateMachines[tt].playing=_;else{var Xe=this.artboard.animationByName(g[Te]);if(Xe){var nt=new w.Animation(Xe,this.artboard,this.runtime,_);nt.advance(0),nt.apply(1),this.animations.push(nt)}else{var $t=this.artboard.stateMachineByName(g[Te]);if($t){var Cn=new I($t,this.runtime,_,this.artboard);this.stateMachines.push(Cn)}}}}return D&&(_?this.eventManager.fire({type:C.Play,data:this.playing}):this.eventManager.fire({type:C.Pause,data:this.paused})),_?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,_){for(var D=this.animations.map(function(tt){return tt.name}),K=0;K<g.length;K++){var pe=D.indexOf(g[K]);if(pe>=0)this.animations[pe].playing=_;else{var Te=this.artboard.animationByName(g[K]);if(Te){var $e=new w.Animation(Te,this.artboard,this.runtime,_);$e.advance(0),$e.apply(1),this.animations.push($e)}else console.error("Animation with name ".concat(g[K]," not found."))}}},R.prototype.initStateMachines=function(g,_){for(var D=this.stateMachines.map(function(tt){return tt.name}),K=0;K<g.length;K++){var pe=D.indexOf(g[K]);if(pe>=0)this.stateMachines[pe].playing=_;else{var Te=this.artboard.stateMachineByName(g[K]);if(Te){var $e=new I(Te,this.runtime,_,this.artboard);this.stateMachines.push($e)}else console.warn("State Machine with name ".concat(g[K]," not found.")),this.initLinearAnimations([g[K]],_)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,_){var D=this.animations.filter(function(K){return g.includes(K.name)});return D.forEach(function(K){return K.scrubTo=_}),D.map(function(K){return K.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var _=this;g=Zt(g);var D=[];if(g.length===0)D=this.animations.map(function(Te){return Te.name}).concat(this.stateMachines.map(function(Te){return Te.name})),this.animations.forEach(function(Te){return Te.cleanup()}),this.stateMachines.forEach(function(Te){return Te.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var K=this.animations.filter(function(Te){return g.includes(Te.name)});K.forEach(function(Te){Te.cleanup(),_.animations.splice(_.animations.indexOf(Te),1)});var pe=this.stateMachines.filter(function(Te){return g.includes(Te.name)});pe.forEach(function(Te){Te.cleanup(),_.stateMachines.splice(_.stateMachines.indexOf(Te),1)}),D=K.map(function(Te){return Te.name}).concat(pe.map(function(Te){return Te.name}))}return this.eventManager.fire({type:C.Stop,data:D}),D},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,_){return g||_.playing},!1)||this.stateMachines.reduce(function(g,_){return g||_.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,_){_===void 0&&(_=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,_):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,_)),D},R.prototype.handleLooping=function(){for(var g=0,_=this.animations.filter(function(K){return K.playing});g<_.length;g++){var D=_[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:C.Loop,data:{animation:D.name,type:X.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:C.Loop,data:{animation:D.name,type:X.PingPong}}),D.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],_=0,D=this.stateMachines.filter(function(pe){return pe.playing});_<D.length;_++){var K=D[_];g.push.apply(g,K.statesChanged)}g.length>0&&this.eventManager.fire({type:C.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:C.Advance,data:g})},R})(),C;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(C||(C={}));var X;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(X||(X={}));var re=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(_){return _.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var _=0;_<this.listeners.length;_++){var D=this.listeners[_];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(_,1);break}}},R.prototype.removeAll=function(g){var _=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return _.remove(D)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var _=this.getListeners(g.type);_.forEach(function(D){return D.callback(g)})},R})(),H=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),ee;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(ee||(ee={}));var ye=(function(R){x(g,R);function g(){var _=R!==null&&R.apply(this,arguments)||this;return _._started=!1,_._enabled=!1,_._status=ee.UNAVAILABLE,_}return g.prototype.delay=function(_){return q(this,void 0,void 0,function(){return ne(this,function(D){return[2,new Promise(function(K){return setTimeout(K,_)})]})})},g.prototype.timeout=function(){return q(this,void 0,void 0,function(){return ne(this,function(_){return[2,new Promise(function(D,K){return setTimeout(K,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:C.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(_){return this._enabled||(this._enabled=!0,this._status=ee.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(_){switch(_.label){case 0:if(!(this._status===ee.UNAVAILABLE&&this._audioContext!==null))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return _.sent(),this.enableAudio(),[3,4];case 3:return _.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(_){switch(_.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),_.label=2;case 2:return this._status!==ee.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return _.sent(),[4,this.delay(1e3)];case 4:return _.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var _=this,D=function(){return q(_,void 0,void 0,function(){return ne(this,function(K){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return q(this,void 0,void 0,function(){return ne(this,function(_){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===ee.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(re),de=new ye,xe=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),P=globalThis.ResizeObserver||xe,se=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(_){var D=g._elementsMap.get(_.target);D!==null?D.onResize(_.target.clientWidth==0||_.target.clientHeight==0):g._resizeObserver.unobserve(_.target)},this._onObserved=function(_){_.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return R.prototype.add=function(g,_){var D={onResize:_,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Se=new se,be=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new re,g.onLoad&&this.on(C.Load,g.onLoad),g.onLoadError&&this.on(C.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return q(this,void 0,void 0,function(){var g,_,D,K,pe;return ne(this,function(Te){switch(Te.label){case 0:return this.src?(g=this,[4,un(this.src)]):[3,2];case 1:g.buffer=Te.sent(),Te.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),_=D.assetLoader),K=this,[4,this.runtime.load(new Uint8Array(this.buffer),_,this.enableRiveAssetCDN)]);case 3:return K.file=Te.sent(),pe=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,pe),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:C.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return q(this,void 0,void 0,function(){var g,_;return ne(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,Ke.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return _=D.sent(),this.fireLoadError(_ instanceof Error?_.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:C.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},R.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var _=new B(g);return(0,E.createFinalization)(_,_.nativeArtboard),this.bindableArtboards.push(_),_}return null},R.prototype.getArtboard=function(g){var _=this.file.artboardByName(g);if(_!=null)return new V(_,this)},R.prototype.getBindableArtboard=function(g){var _=this.file.bindableArtboardByName(g);return this.createBindableArtboard(_)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var _=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(_)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Ie=(function(){function R(g){var _=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(K){var pe=_._hasZeroSize!==K;_._hasZeroSize=K,K?(!_._layout.maxX||!_._layout.maxY)&&_.resizeToCanvas():pe&&_.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Se.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new Ge,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new re,g.onLoad&&this.on(C.Load,g.onLoad),g.onLoadError&&this.on(C.LoadError,g.onLoadError),g.onPlay&&this.on(C.Play,g.onPlay),g.onPause&&this.on(C.Pause,g.onPause),g.onStop&&this.on(C.Stop,g.onStop),g.onLoop&&this.on(C.Loop,g.onLoop),g.onStateChange&&this.on(C.StateChange,g.onStateChange),g.onAdvance&&this.on(C.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(C.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(C.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(C.Play,g.onplay),g.onpause&&!g.onPause&&this.on(C.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(C.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(C.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(C.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new H(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var _=this,D=g.src,K=g.buffer,pe=g.riveFile,Te=g.animations,$e=g.stateMachines,tt=g.artboard,Xe=g.autoplay,nt=Xe===void 0?!1:Xe,$t=g.useOffscreenRenderer,Cn=$t===void 0?!1:$t,cn=g.autoBind,Sn=cn===void 0?!1:cn;if(!this.destroyed){if(this.src=D,this.buffer=K,this.riveFile=pe,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(R.missingErrorMessage);var Fn=Zt(Te),Bt=Zt($e);this.loaded=!1,this.readyForPlaying=!1,Ke.awaitInstance().then(function(In){_.destroyed||(_.runtime=In,_.removeRiveListeners(),_.deleteRiveRenderer(),_.renderer=_.runtime.makeRenderer(_.canvas,Cn),_.canvas.width||_.canvas.height||_.resizeDrawingSurfaceToCanvas(),_.initData(tt,Fn,Bt,nt,Sn).then(function(Dn){if(Dn)return _.setupRiveListeners()}).catch(function(Dn){console.error(Dn)}))}).catch(function(In){console.error(In)})}},R.prototype.setupRiveListeners=function(g){var _=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function($e){return $e.playing&&_.runtime.hasListeners($e.instance)}).map(function($e){return $e.instance}),K=this.isTouchScrollEnabled,pe=this.dispatchPointerExit,Te=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(K=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:K,dispatchPointerExit:pe,enableMultiTouch:Te,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,_;de.status==ee.UNAVAILABLE&&!((_=this.artboard)===null||_===void 0)&&_.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:C.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},de.add(this._audioEventListener),de.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,_,D,K,pe){return q(this,void 0,void 0,function(){var Te,$e,tt,Xe;return ne(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Te=new be({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Te,[4,Te.init()]);case 1:if(nt.sent(),this.destroyed)return Te.destroyIfUnused(),[2,!1];nt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,_,D,K,pe),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:C.Load,data:(Xe=this.src)!==null&&Xe!==void 0?Xe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return $e=nt.sent(),tt=Re($e),console.warn(tt),this.eventManager.fire({type:C.LoadError,data:tt}),[2,Promise.reject(tt)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,_,D,K,pe){if(this.file){var Te=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Te){var $e="Invalid artboard name or no default artboard";console.warn($e),this.eventManager.fire({type:C.LoadError,data:$e});return}this.artboard=Te,Te.volume=this._volume*de.systemVolume,this.animator=new k(this.runtime,this.artboard,this.eventManager);var tt;if(_.length>0||D.length>0?(tt=_.concat(D),this.animator.initLinearAnimations(_,K),this.animator.initStateMachines(D,K)):tt=[this.animator.atLeastOne(K,!1)],this.taskQueue.add({event:{type:K?C.Play:C.Pause,data:tt}}),pe){var Xe=this.file.defaultArtboardViewModel(Te);if(Xe!==null){var nt=Xe.defaultInstance();if(nt!==null){var $t=new _t(nt,null);(0,E.createFinalization)($t,$t.runtimeInstance),this.bindViewModelInstance($t)}}}}},R.prototype.drawFrame=function(){var g,_;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(_=this.runtime)===null||_===void 0||_.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,_){var D;this.frameRequestId=null;var K=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,_?.());var pe=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Te=this.animator.animations.filter(function(Ji){return Ji.playing||Ji.needsScrub}).sort(function(Ji){return Ji.needsScrub?-1:1}),$e=0,tt=Te;$e<tt.length;$e++){var Xe=tt[$e];Xe.advance(pe),Xe.instance.didLoop&&(Xe.loopCount+=1),Xe.apply(1)}for(var nt=this.animator.stateMachines.filter(function(Ji){return Ji.playing}),$t=0,Cn=nt;$t<Cn.length;$t++){var cn=Cn[$t],Sn=cn.reportedEventCount();if(Sn)for(var Fn=0;Fn<Sn;Fn++){var Bt=cn.reportedEventAt(Fn);if(Bt)if(Bt.type===F.OpenUrl){if(this.eventManager.fire({type:C.RiveEvent,data:Bt}),this.automaticallyHandleEvents){var In=document.createElement("a"),Dn=Bt,jn=Dn.url,Pi=Dn.target,gt=(0,E.sanitizeUrl)(jn);jn&&In.setAttribute("href",gt),Pi&&In.setAttribute("target",Pi),gt&&gt!==E.BLANK_URL&&In.click()}}else this.eventManager.fire({type:C.RiveEvent,data:Bt})}cn.advanceAndApply(pe)}this.animator.stateMachines.length==0&&this.artboard.advance(pe);var Hn=this.renderer;Hn.clear(),Hn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Hn),Hn.restore(),Hn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(pe),this.frameCount++;var St=performance.now();for(this.frameTimes.push(St),this.durations.push(St-K);this.frameTimes[0]<=St-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,_=g.renderer,D=g.runtime,K=g._layout,pe=g.artboard;_.align(K.runtimeFit(D),K.runtimeAlignment(D),{minX:K.minX,minY:K.minY,maxX:K.maxX,maxY:K.maxY},pe.bounds,this._devicePixelRatioUsed*K.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,_){return g+_},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,_;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Se.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(de.remove(this._audioEventListener),this._audioEventListener=null),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var _;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((_=this.artboard)===null||_===void 0?void 0:_.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},R.prototype.getTextRunValue=function(g){var _=this.retrieveTextRun(g);return _?_.text:void 0},R.prototype.setTextRunValue=function(g,_){var D=this.retrieveTextRun(g);D&&(D.text=_)},R.prototype.play=function(g,_){var D=this;if(g=Zt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,_)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var _=this;if(g=Zt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,_){var D=this;if(g=Zt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,_)}});return}this.animator.scrub(g,_||0),this.drawFrame()},R.prototype.stop=function(g){var _=this;if(g=Zt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var _,D,K=g?.artboard,pe=Zt(g?.animations),Te=Zt(g?.stateMachines),$e=(_=g?.autoplay)!==null&&_!==void 0?_:!1,tt=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(K,pe,Te,$e,tt),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var _=this.canvas.getBoundingClientRect(),D=_.width,K=_.height,pe=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=pe,this.canvas.width=pe*D,this.canvas.height=pe*K,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Ue.Layout){var Te=this._layout.layoutScaleFactor;this.artboard.width=D/Te,this.artboard.height=K/Te}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.animationCount();_++)g.push(this.artboard.animationByIndex(_).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.stateMachineCount();_++)g.push(this.artboard.stateMachineByIndex(_).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var _=this.animator.stateMachines.find(function(D){return D.name===g});return _?.inputs}},R.prototype.retrieveInputAtPath=function(g,_){if(!g){console.warn("No input name provided for path '".concat(_,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,_);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(_,"'"));return}return D},R.prototype.setBooleanStateAtPath=function(g,_,D){var K=this.retrieveInputAtPath(g,D);K&&(K.type===ht.Boolean?K.asBool().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,_,D){var K=this.retrieveInputAtPath(g,D);K&&(K.type===ht.Number?K.asNumber().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},R.prototype.fireStateAtPath=function(g,_){var D=this.retrieveInputAtPath(g,_);D&&(D.type===ht.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(_,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,_){if(!g){console.warn("No text name provided for path '".concat(_,"'"));return}if(!_){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,_);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return D},R.prototype.getTextRunValueAtPath=function(g,_){var D=this.retrieveTextAtPath(g,_);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return D.text},R.prototype.setTextRunValueAtPath=function(g,_,D){var K=this.retrieveTextAtPath(g,D);if(!K){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}K.text=_},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},R.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},R.prototype.unsubscribe=function(g,_){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,_)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},_=0;_<this.file.artboardCount();_++){for(var D=this.file.artboardByIndex(_),K={name:D.name,animations:[],stateMachines:[]},pe=0;pe<D.animationCount();pe++){var Te=D.animationByIndex(pe);K.animations.push(Te.name)}for(var $e=0;$e<D.stateMachineCount();$e++){for(var tt=D.stateMachineByIndex($e),Xe=tt.name,nt=new this.runtime.StateMachineInstance(tt,D),$t=[],Cn=0;Cn<nt.inputCount();Cn++){var cn=nt.input(Cn);$t.push({name:cn.name,type:cn.type})}K.stateMachines.push({name:Xe,inputs:$t})}g.artboards.push(K)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*de.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var _;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var _=this.file.viewModelByIndex(g);return _!==null?new qe(_):null},R.prototype.viewModelByName=function(g){var _=this.file.viewModelByName(g);return _!==null?new qe(_):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(_){return new We(_)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new qe(g)}return null},R.prototype.getArtboard=function(g){var _,D;return(D=(_=this.riveFile)===null||_===void 0?void 0:_.getArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getBindableArtboard=function(g){var _,D;return(D=(_=this.riveFile)===null||_===void 0?void 0:_.getBindableArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getDefaultBindableArtboard=function(){var g,_;return(_=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&_!==void 0?_:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),qe=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var _=this._viewModel.instanceByIndex(g);if(_!==null){var D=new _t(_,null);return(0,E.createFinalization)(D,_),D}return null},R.prototype.instanceByName=function(g){var _=this._viewModel.instanceByName(g);if(_!==null){var D=new _t(_,null);return(0,E.createFinalization)(D,_),D}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var _=new _t(g,null);return(0,E.createFinalization)(_,g),_}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var _=new _t(g,null);return(0,E.createFinalization)(_,g),_}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),We=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ut;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ut||(ut={}));var _t=(function(){function R(g,_){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,_!==null&&this._parents.push(_)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var _=this._parents.indexOf(g);if(_!==-1){var D=this._parents[_];D.removeFromViewModelCallbacks(this),this._parents.splice(_,1)}},R.prototype.addToPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(_)}))},R.prototype.removeFromPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(_)}))},R.prototype.addToViewModelCallbacks=function(g){var _=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(_)}))},R.prototype.removeFromViewModelCallbacks=function(g){var _=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(_)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,_){var D=g.split("/");return this.propertyFromPathSegments(D,0,_)},R.prototype.viewModelFromPathSegments=function(g,_){var D=this.internalViewModelInstance(g[_]);return D!==null?_==g.length-1?D:D.viewModelFromPathSegments(g,_++):null},R.prototype.propertyFromPathSegments=function(g,_,D){var K,pe,Te,$e,tt,Xe,nt,$t,Cn,cn,Sn,Fn,Bt,In,Dn,jn,Pi,gt;if(_<g.length-1){var Hn=this.internalViewModelInstance(g[_]);return Hn!==null?Hn.propertyFromPathSegments(g,_+1,D):null}var St=null;switch(D){case ut.Number:if(St=(pe=(K=this._runtimeInstance)===null||K===void 0?void 0:K.number(g[_]))!==null&&pe!==void 0?pe:null,St!==null)return new ft(St,this);break;case ut.String:if(St=($e=(Te=this._runtimeInstance)===null||Te===void 0?void 0:Te.string(g[_]))!==null&&$e!==void 0?$e:null,St!==null)return new nn(St,this);break;case ut.Boolean:if(St=(Xe=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.boolean(g[_]))!==null&&Xe!==void 0?Xe:null,St!==null)return new Et(St,this);break;case ut.Color:if(St=($t=(nt=this._runtimeInstance)===null||nt===void 0?void 0:nt.color(g[_]))!==null&&$t!==void 0?$t:null,St!==null)return new ri(St,this);break;case ut.Trigger:if(St=(cn=(Cn=this._runtimeInstance)===null||Cn===void 0?void 0:Cn.trigger(g[_]))!==null&&cn!==void 0?cn:null,St!==null)return new Lt(St,this);break;case ut.Enum:if(St=(Fn=(Sn=this._runtimeInstance)===null||Sn===void 0?void 0:Sn.enum(g[_]))!==null&&Fn!==void 0?Fn:null,St!==null)return new Ut(St,this);break;case ut.List:if(St=(In=(Bt=this._runtimeInstance)===null||Bt===void 0?void 0:Bt.list(g[_]))!==null&&In!==void 0?In:null,St!==null)return new Nn(St,this);break;case ut.Image:if(St=(jn=(Dn=this._runtimeInstance)===null||Dn===void 0?void 0:Dn.image(g[_]))!==null&&jn!==void 0?jn:null,St!==null)return new yt(St,this);break;case ut.Artboard:if(St=(gt=(Pi=this._runtimeInstance)===null||Pi===void 0?void 0:Pi.artboard(g[_]))!==null&&gt!==void 0?gt:null,St!==null)return new at(St,this);break}return null},R.prototype.internalViewModelInstance=function(g){var _;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(_=this._runtimeInstance)===null||_===void 0?void 0:_.viewModel(g);if(D!==null){var K=new R(D,this);return(0,E.createFinalization)(K,D),K.internalIncrementReferenceCount(),this._viewModelInstances.set(g,K),K}return null},R.prototype.number=function(g){var _=this.propertyFromPath(g,ut.Number);return _},R.prototype.string=function(g){var _=this.propertyFromPath(g,ut.String);return _},R.prototype.boolean=function(g){var _=this.propertyFromPath(g,ut.Boolean);return _},R.prototype.color=function(g){var _=this.propertyFromPath(g,ut.Color);return _},R.prototype.trigger=function(g){var _=this.propertyFromPath(g,ut.Trigger);return _},R.prototype.enum=function(g){var _=this.propertyFromPath(g,ut.Enum);return _},R.prototype.list=function(g){var _=this.propertyFromPath(g,ut.List);return _},R.prototype.image=function(g){var _=this.propertyFromPath(g,ut.Image);return _},R.prototype.artboard=function(g){var _=this.propertyFromPath(g,ut.Artboard);return _},R.prototype.viewModel=function(g){var _=g.split("/"),D=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return D!=null?D.internalViewModelInstance(_[_.length-1]):null},R.prototype.internalReplaceViewModel=function(g,_){var D;if(_.runtimeInstance!==null){var K=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,_.runtimeInstance))||!1;if(K){_.internalIncrementReferenceCount();var pe=this.internalViewModelInstance(g);pe!==null&&(pe.removeParent(this),this._children.includes(pe)&&(this._children=this._children.filter(function(Te){return Te!==pe})),pe.cleanup()),this._viewModelInstances.set(g,_),_.addParent(this)}return K}return!1},R.prototype.replaceViewModel=function(g,_){var D,K=g.split("/"),pe=K.length>1?this.viewModelFromPathSegments(K.slice(0,K.length-1),0):this;return(D=pe?.internalReplaceViewModel(K[K.length-1],_))!==null&&D!==void 0?D:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(_){return L({},_)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,_;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((_=this._runtimeInstance)===null||_===void 0||_.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(pe){pe.cleanup()}),this._viewModelInstances.clear();var D=z([],this._children,!0);this._children.length=0;var K=z([],this._parents,!0);this._parents.length=0,D.forEach(function(pe){pe.removeParent(g)}),K.forEach(function(pe){pe.removeFromViewModelCallbacks(g)})}},R})(),Ct=(function(){function R(g,_){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=_}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(_){return _!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(_){g.internalHandleCallback(_)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),nn=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),ft=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),Et=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),Lt=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(_){_()},g})(Ct),Ut=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(_){this._viewModelInstanceValue.valueIndex=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),Nn=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(_.runtimeInstance),_.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(_,D){return _.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(_.runtimeInstance,D)?(_.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(_.runtimeInstance),_.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(_){this._viewModelInstanceValue.removeInstanceAt(_)},g.prototype.instanceAt=function(_){var D=this._viewModelInstanceValue.instanceAt(_);if(D!=null){var K=new _t(D,this._parentViewModel);return(0,E.createFinalization)(K,D),K}return null},g.prototype.swap=function(_,D){this._viewModelInstanceValue.swap(_,D)},g.prototype.internalHandleCallback=function(_){_()},g})(Ct),ri=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.rgb=function(_,D,K){this._viewModelInstanceValue.rgb(_,D,K)},g.prototype.rgba=function(_,D,K,pe){this._viewModelInstanceValue.argb(pe,_,D,K)},g.prototype.argb=function(_,D,K,pe){this._viewModelInstanceValue.argb(_,D,K,pe)},g.prototype.alpha=function(_){this._viewModelInstanceValue.alpha(_)},g.prototype.opacity=function(_){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,_))*255))},g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Ct),yt=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var D;this._viewModelInstanceValue.value((D=_?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Ct),at=(function(R){x(g,R);function g(_,D){return R.call(this,_,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var D,K;_.isBindableArtboard?K=_:K=_.file.internalBindableArtboardFromArtboard(_.nativeArtboard),this._viewModelInstanceValue.value((D=K?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Ct),un=function(R){return q(void 0,void 0,void 0,function(){var g,_,D;return ne(this,function(K){switch(K.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return _=K.sent(),[4,_.arrayBuffer()];case 2:return D=K.sent(),[2,D]}})})},Zt=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},$i={EventManager:re,TaskQueueManager:H},Un=function(R){return q(void 0,void 0,void 0,function(){var g,_,D;return ne(this,function(K){switch(K.label){case 0:return g=new Promise(function(pe){return Ke.getInstance(function(Te){Te.decodeAudio(R,pe)})}),[4,g];case 1:return _=K.sent(),D=new E.AudioWrapper(_),E.finalizationRegistry.register(D,_),[2,D]}})})},Vt=function(R){return q(void 0,void 0,void 0,function(){var g,_,D;return ne(this,function(K){switch(K.label){case 0:return g=new Promise(function(pe){return Ke.getInstance(function(Te){Te.decodeImage(R,pe)})}),[4,g];case 1:return _=K.sent(),D=new E.ImageWrapper(_),E.finalizationRegistry.register(D,_),[2,D]}})})},mn=function(R){return q(void 0,void 0,void 0,function(){var g,_,D;return ne(this,function(K){switch(K.label){case 0:return g=new Promise(function(pe){return Ke.getInstance(function(Te){Te.decodeFont(R,pe)})}),[4,g];case 1:return _=K.sent(),D=new E.FontWrapper(_),E.finalizationRegistry.register(D,_),[2,D]}})})}})(),c})())})(Ah)),Ah.exports}var g_;function BT(){return g_||(g_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=nf(),i=zT();function s(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var l=s(e),c=function(){return c=Object.assign||function(I){for(var k,C=1,X=arguments.length;C<X;C++)for(var re in k=arguments[C])Object.prototype.hasOwnProperty.call(k,re)&&(I[re]=k[re]);return I},c.apply(this,arguments)};function p(I,k){var C={};for(var X in I)Object.prototype.hasOwnProperty.call(I,X)&&k.indexOf(X)<0&&(C[X]=I[X]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var re=0;for(X=Object.getOwnPropertySymbols(I);re<X.length;re++)k.indexOf(X[re])<0&&Object.prototype.propertyIsEnumerable.call(I,X[re])&&(C[X[re]]=I[X[re]])}return C}function b(I,k,C,X){return new(C||(C=Promise))(function(re,H){function ee(xe){try{de(X.next(xe))}catch(P){H(P)}}function ye(xe){try{de(X.throw(xe))}catch(P){H(P)}}function de(xe){var P;xe.done?re(xe.value):(P=xe.value,P instanceof C?P:new C(function(se){se(P)})).then(ee,ye)}de((X=X.apply(I,[])).next())})}function w(I,k){var C,X,re,H,ee={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return H={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function ye(de){return function(xe){return(function(P){if(C)throw new TypeError("Generator is already executing.");for(;ee;)try{if(C=1,X&&(re=2&P[0]?X.return:P[0]?X.throw||((re=X.return)&&re.call(X),0):X.next)&&!(re=re.call(X,P[1])).done)return re;switch(X=0,re&&(P=[2&P[0],re.value]),P[0]){case 0:case 1:re=P;break;case 4:return ee.label++,{value:P[1],done:!1};case 5:ee.label++,X=P[1],P=[0];continue;case 7:P=ee.ops.pop(),ee.trys.pop();continue;default:if(re=ee.trys,!((re=re.length>0&&re[re.length-1])||P[0]!==6&&P[0]!==2)){ee=0;continue}if(P[0]===3&&(!re||P[1]>re[0]&&P[1]<re[3])){ee.label=P[1];break}if(P[0]===6&&ee.label<re[1]){ee.label=re[1],re=P;break}if(re&&ee.label<re[2]){ee.label=re[2],ee.ops.push(P);break}re[2]&&ee.ops.pop(),ee.trys.pop();continue}P=k.call(I,ee)}catch(se){P=[6,se],X=0}finally{C=re=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([de,xe])}}}function E(I){var k=I||x(),C=e.useState(k),X=C[0],re=C[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var H=function(){var ye=I||x();re(ye)},ee=window.matchMedia("screen and (resolution: ".concat(X,"dppx)"));return ee.hasOwnProperty("addEventListener")?ee.addEventListener("change",H):ee.addListener(H),function(){ee.hasOwnProperty("removeEventListener")?ee.removeEventListener("change",H):ee.removeListener(H)}}},[X,I]),X}function x(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var L=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),q=globalThis.ResizeObserver||L,ne=globalThis.ResizeObserver!==void 0,z=!ne;function Oe(I,k){k===void 0&&(k=!0);var C=e.useState({width:0,height:0}),X=C[0],re=C[1];e.useEffect(function(){if(typeof window<"u"&&k){var xe=function(){re({width:window.innerWidth,height:window.innerHeight})};return z&&(xe(),window.addEventListener("resize",xe)),function(){return window.removeEventListener("resize",xe)}}},[]);var H,ee,ye,de=e.useRef(new q((H=function(xe){ne&&re({width:xe[xe.length-1].contentRect.width,height:xe[xe.length-1].contentRect.height})},ee=0,ye=0,function(){for(var xe=this,P=[],se=0;se<arguments.length;se++)P[se]=arguments[se];clearTimeout(ye),ye=window.setTimeout(function(){return H.apply(xe,P)},ee)})));return e.useEffect(function(){var xe=de.current;if(k){var P=I.current;return I.current&&ne&&xe.observe(I.current),function(){xe.disconnect(),P&&ne&&xe.unobserve(P)}}xe.disconnect()},[I,de]),X}var Re={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Ue(I){return Object.assign({},Re,I)}function He(I){var k=I.riveLoaded,C=k!==void 0&&k,X=I.canvasElem,re=I.containerRef,H=I.options,ee=H===void 0?{}:H,ye=I.onCanvasHasResized,de=I.artboardBounds,xe=Ue(ee),P=e.useState({height:0,width:0}),se=P[0],Se=se.height,be=se.width,Ie=P[1],qe=e.useState({height:0,width:0}),We=qe[0],ut=We.height,_t=We.width,Ct=qe[1],nn=e.useState(!0),ft=nn[0],Et=nn[1],Lt=xe.fitCanvasToArtboardHeight,Ut=xe.shouldResizeCanvasToContainer,Nn=xe.useDevicePixelRatio,ri=xe.customDevicePixelRatio,yt=Oe(re,Ut),at=E(ri),un=de??{},Zt=un.maxX,$i=un.maxY,Un=e.useCallback(function(){var Vt,mn,R,g,_=(mn=(Vt=re.current)===null||Vt===void 0?void 0:Vt.clientWidth)!==null&&mn!==void 0?mn:0,D=(g=(R=re.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Lt&&de?{width:_,height:_*(de.maxY/de.maxX)}:{width:_,height:D}},[re,Lt,Zt,$i]);e.useEffect(function(){if(Ut&&re.current&&C){var Vt=Un(),mn=Vt.width,R=Vt.height,g=!1;if(X){var _=mn!==be||R!==Se;if(xe.fitCanvasToArtboardHeight&&_&&(re.current.style.height=R+"px",g=!0),xe.useDevicePixelRatio){if(_||mn*at!==_t||R*at!==ut){var D=at*mn,K=at*R;X.width=D,X.height=K,X.style.width=mn+"px",X.style.height=R+"px",Ct({width:D,height:K}),g=!0}}else _&&(X.width=mn,X.height=R,Ct({width:mn,height:R}),g=!0);Ie({width:mn,height:R})}ye&&(ft||g)&&ye&&ye(),ft&&Et(!1)}},[X,re,yt,at,Un,ft,Et,ut,_t,Se,be,ye,Ut,Lt,Nn,C]),e.useEffect(function(){Ct({width:0,height:0})},[X])}var Ge,Ke=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),ht=globalThis.IntersectionObserver||Ke,ot=(function(){function I(){var k=this;this.elementsMap=new Map,this.onObserved=function(C){C.forEach(function(X){var re=k.elementsMap.get(X.target);re&&re(X)})},this.observer=new ht(this.onObserved)}return I.prototype.registerCallback=function(k,C){this.observer.observe(k),this.elementsMap.set(k,C)},I.prototype.removeCallback=function(k){this.observer.unobserve(k),this.elementsMap.delete(k)},I})(),F=function(){return Ge||(Ge=new ot),Ge};function U(I){var k=I.setContainerRef,C=I.setCanvasRef,X=I.className,re=X===void 0?"":X,H=I.style,ee=I.children,ye=p(I,["setContainerRef","setCanvasRef","className","style","children"]),de=c({width:"100%",height:"100%"},H);return l.default.createElement("div",c({ref:k,className:re},!re&&{style:de}),l.default.createElement("canvas",c({ref:C,style:{verticalAlign:"top",width:0,height:0}},ye),ee))}function V(I,k){k===void 0&&(k={});var C=e.useState(null),X=C[0],re=C[1],H=e.useRef(null),ee=e.useRef(null),ye=e.useState(null),de=ye[0],xe=ye[1],P=!!I,se=Ue(k),Se=E(),be=e.useCallback(function(){if(de){if(de.layout&&de.layout.fit===i.Fit.Layout&&X){var ft=Se*de.layout.layoutScaleFactor;de.devicePixelRatioUsed=Se,de.artboardWidth=X?.width/ft,de.artboardHeight=X?.height/ft}de.startRendering(),de.resizeToCanvas()}},[de,Se]);He({riveLoaded:!!de,canvasElem:X,containerRef:H,options:se,onCanvasHasResized:be,artboardBounds:de?.bounds});var Ie=e.useCallback(function(ft){ft===null&&X&&(X.height=0,X.width=0),re(ft)},[]);e.useEffect(function(){if(X&&I){var ft,Et=de!=null;if(de==null){var Lt=se.useOffscreenRenderer,Ut=I.onRiveReady,Nn=p(I,["onRiveReady"]);ft=new i.Rive(c(c({useOffscreenRenderer:Lt},Nn),{canvas:X})),ee.current!=null&&ee.current.cleanup(),ee.current=ft,ft.on(i.EventType.Load,function(){Et=!0,Ut&&Ut(ft),X?xe(ft):ft.cleanup()})}return function(){Et||ft==null||ft.cleanup()}}},[X,P,de]);var qe=e.useCallback(function(ft){H.current=ft},[]),We={observe:e.useCallback(function(ft,Et){F().registerCallback(ft,Et)},[]),unobserve:e.useCallback(function(ft){F().removeCallback(ft)},[])},ut=We.observe,_t=We.unobserve;e.useEffect(function(){var ft,Et=!1,Lt=function(){if(X&&Et){var Ut=X.getBoundingClientRect();Ut.width>0&&Ut.height>0&&Ut.top<(window.innerHeight||document.documentElement.clientHeight)&&Ut.bottom>0&&Ut.left<(window.innerWidth||document.documentElement.clientWidth)&&Ut.right>0&&(de?.startRendering(),Et=!1)}};return X&&se.shouldUseIntersectionObserver!==!1&&ut(X,function(Ut){Ut.isIntersecting?de&&de.startRendering():de&&de.stopRendering(),Et=!Ut.isIntersecting,clearTimeout(ft),Ut.isIntersecting||Ut.boundingClientRect.width!==0||(ft=setTimeout(Lt,10))}),function(){X&&_t(X)}},[ut,_t,de,X,se.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){de&&(de.cleanup(),xe(null))}},[de,X]),e.useEffect(function(){return function(){ee.current!=null&&ee.current.cleanup()}},[]);var Ct=I?.animations;e.useEffect(function(){de&&Ct&&(de.isPlaying?(de.stop(de.animationNames),de.play(Ct)):de.isPaused&&(de.stop(de.animationNames),de.pause(Ct)))},[Ct,de]);var nn=e.useCallback(function(ft){return l.default.createElement(U,c({setContainerRef:qe,setCanvasRef:Ie},ft))},[Ie,qe]);return{canvas:X,container:H.current,setCanvasRef:Ie,setContainerRef:qe,rive:de,RiveComponent:nn}}function B(I,k,C){var X=e.useState(null),re=X[0],H=X[1],ee=e.useState(C.defaultValue),ye=ee[0],de=ee[1],xe=e.useState(null),P=xe[0],se=xe[1],Se=e.useRef(null),be=e.useRef(I),Ie=e.useRef(C);e.useEffect(function(){Ie.current=C},[C]);var qe=e.useCallback(function(){var Ct=Se.current,nn=be.current,ft=Ie.current;if(!Ct||!nn)return H(null),de(ft.defaultValue),se(null),function(){};var Et=ft.getProperty(Ct,nn);if(Et){H(Et),de(ft.getValue(Et)),ft.getExtendedData&&se(ft.getExtendedData(Et));var Lt=function(){de(ft.getValue(Et)),ft.getExtendedData&&se(ft.getExtendedData(Et)),ft.onPropertyEvent&&ft.onPropertyEvent()};return Et.on(Lt),function(){Et.off(Lt)}}return function(){}},[]);e.useEffect(function(){return Se.current=k,be.current=I,qe()},[k,I,qe]);var We=e.useCallback(function(Ct){if(re&&Se.current===k)try{return Ct(re),void(Ie.current.getExtendedData&&se(Ie.current.getExtendedData(re)))}catch{}if(Se.current)try{var nn=Ie.current.getProperty(Se.current,be.current);nn&&(H(nn),Ct(nn),Ie.current.getExtendedData&&se(Ie.current.getExtendedData(nn)))}catch{}},[re,k]),ut=e.useMemo(function(){return Ie.current.buildPropertyOperations(We)},[We]),_t=c({value:ye},ut);return C.getExtendedData&&(_t.extendedData=P),_t}r.default=function(I){var k=I.src,C=I.artboard,X=I.animations,re=I.stateMachines,H=I.layout,ee=I.useOffscreenRenderer,ye=ee===void 0||ee,de=I.shouldDisableRiveListeners,xe=de!==void 0&&de,P=I.shouldResizeCanvasToContainer,se=P===void 0||P,Se=I.automaticallyHandleEvents,be=Se!==void 0&&Se,Ie=I.children,qe=p(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),We=V({src:k,artboard:C,animations:X,layout:H,stateMachines:re,autoplay:!0,shouldDisableRiveListeners:xe,automaticallyHandleEvents:be},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:se}).RiveComponent;return l.default.createElement(We,c({},qe),Ie)},r.useResizeCanvas=He,r.useRive=V,r.useRiveFile=function(I){var k=this,C=e.useState(null),X=C[0],re=C[1],H=e.useState("idle"),ee=H[0],ye=H[1];return e.useEffect(function(){var de=null;return b(k,void 0,void 0,function(){return w(this,function(xe){try{ye("loading"),(de=new i.RiveFile(I)).init(),de.on(i.EventType.Load,function(){de?.getInstance(),re(de),ye("success")}),de.on(i.EventType.LoadError,function(){ye("failed")}),re(de)}catch(P){console.error(P),ye("failed")}return[2]})}),function(){de?.cleanup()}},[I.src,I.buffer]),{riveFile:X,status:ee}},r.useStateMachineInput=function(I,k,C,X){var re=e.useState(null),H=re[0],ee=re[1];return e.useEffect(function(){function ye(){if(I&&k&&C||ee(null),I&&k&&C){var de=I.stateMachineInputs(k);if(de){var xe=de.find(function(P){return P.name===C});X!==void 0&&xe&&(xe.value=X),ee(xe||null)}}else ee(null)}ye(),I&&I.on(i.EventType.Load,function(){ye()})},[I]),H},r.useViewModel=function(I,k){var C=k??{},X=C.name,re=C.useDefault,H=re!==void 0&&re,ee=e.useState(null),ye=ee[0],de=ee[1];return e.useEffect(function(){function xe(){var P;if(I){var se=null;se=X!=null?((P=I.viewModelByName)===null||P===void 0?void 0:P.call(I,X))||null:I.defaultViewModel()||null,de(se)}else de(null)}return xe(),I&&I.on(i.EventType.Load,xe),function(){I&&I.off(i.EventType.Load,xe)}},[I,X,H]),ye},r.useViewModelInstance=function(I,k){var C=k??{},X=C.name,re=C.useDefault,H=re!==void 0&&re,ee=C.useNew,ye=ee!==void 0&&ee,de=C.rive,xe=e.useState(null),P=xe[0],se=xe[1];return e.useEffect(function(){var Se,be,Ie;if(I){var qe=null;qe=X!=null?I.instanceByName(X)||null:H?((Se=I.defaultInstance)===null||Se===void 0?void 0:Se.call(I))||null:ye?((be=I.instance)===null||be===void 0?void 0:be.call(I))||null:((Ie=I.defaultInstance)===null||Ie===void 0?void 0:Ie.call(I))||null,se(qe),de&&qe&&de.viewModelInstance!==qe&&de.bindViewModelInstance(qe)}else se(null)},[I,X,H,ye,de]),P},r.useViewModelInstanceArtboard=function(I,k){return{setValue:B(I,k,{getProperty:e.useCallback(function(C,X){return C.artboard(X)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(C){return{setValue:function(X){C(function(re){re.value=X})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,re){return X.boolean(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:C.value,setValue:C.setValue}},r.useViewModelInstanceColor=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,re){return X.color(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})},setRgb:function(re,H,ee){X(function(ye){ye.rgb(re,H,ee)})},setRgba:function(re,H,ee,ye){X(function(de){de.rgba(re,H,ee,ye)})},setAlpha:function(re){X(function(H){H.alpha(re)})},setOpacity:function(re){X(function(H){H.opacity(re)})}}},[])});return{value:C.value,setValue:C.setValue,setRgb:C.setRgb,setRgba:C.setRgba,setAlpha:C.setAlpha,setOpacity:C.setOpacity}},r.useViewModelInstanceEnum=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,re){return X.enum(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(X){return X.values},[]),buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:C.value,values:C.extendedData||[],setValue:C.setValue}},r.useViewModelInstanceImage=function(I,k){return{setValue:B(I,k,{getProperty:e.useCallback(function(C,X){return C.image(X)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(C){return{setValue:function(X){C(function(re){re.value=X})}}},[])}).setValue}},r.useViewModelInstanceList=function(I,k){var C,X=e.useState(0)[1],re=B(I,k,{getProperty:e.useCallback(function(H,ee){return H.list(ee)},[]),getValue:e.useCallback(function(H){return H.length},[]),defaultValue:null,onPropertyEvent:function(){X(function(H){return H+1})},buildPropertyOperations:e.useCallback(function(H){return{addInstance:function(ee){H(function(ye){return ye.addInstance(ee)})},addInstanceAt:function(ee,ye){var de=!1;return H(function(xe){de=xe.addInstanceAt(ee,ye)}),de},removeInstance:function(ee){H(function(ye){return ye.removeInstance(ee)})},removeInstanceAt:function(ee){H(function(ye){return ye.removeInstanceAt(ee)})},getInstanceAt:function(ee){var ye=null;return H(function(de){ye=de.instanceAt(ee)}),ye},swap:function(ee,ye){H(function(de){return de.swap(ee,ye)})}}},[])});return{length:(C=re.value)!==null&&C!==void 0?C:0,addInstance:re.addInstance,addInstanceAt:re.addInstanceAt,removeInstance:re.removeInstance,removeInstanceAt:re.removeInstanceAt,getInstanceAt:re.getInstanceAt,swap:re.swap}},r.useViewModelInstanceNumber=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,re){return X.number(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:C.value,setValue:C.setValue}},r.useViewModelInstanceString=function(I,k){var C=B(I,k,{getProperty:e.useCallback(function(X,re){return X.string(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:C.value,setValue:C.setValue}},r.useViewModelInstanceTrigger=function(I,k,C){var X=(C??{}).onTrigger;return{trigger:B(I,k,{getProperty:e.useCallback(function(re,H){return re.trigger(H)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:X,buildPropertyOperations:e.useCallback(function(re){return{trigger:function(){re(function(H){H.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(I){I==="default"||r.hasOwnProperty(I)||Object.defineProperty(r,I,{enumerable:!0,get:function(){return i[I]}})})})(ym)),ym}var oo=BT();const FT=()=>{};var y_={};const $0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},HT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},J0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,x=c>>2,L=(c&3)<<4|b>>4;let q=(b&15)<<2|E>>6,ne=E&63;w||(ne=64,p||(q=64)),s.push(i[x],i[L],i[q],i[ne])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||L==null)throw new qT;const q=c<<2|b>>4;if(s.push(q),E!==64){const ne=b<<4&240|E>>2;if(s.push(ne),L!==64){const z=E<<6&192|L;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(r){const e=$0(r);return J0.encodeByteArray(e,!0)},kh=function(r){return GT(r).replace(/\./g,"")},Z0=function(r){try{return J0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XT=()=>YT().__FIREBASE_DEFAULTS__,QT=()=>{if(typeof process>"u"||typeof y_>"u")return;const r=y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Z0(r[1]);return e&&JSON.parse(e)},rf=()=>{try{return FT()||XT()||QT()||KT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eb=r=>rf()?.emulatorHosts?.[r],WT=r=>{const e=eb(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},tb=()=>rf()?.config,nb=r=>rf()?.[`_${r}`];class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(r){return(await fetch(r,{credentials:"include"})).ok}function JT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kh(JSON.stringify(i)),kh(JSON.stringify(p)),""].join(".")}const Fu={};function ZT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function eA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let v_=!1;function rb(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||Fu[r]===e||Fu[r]||v_)return;Fu[r]=e;function i(q){return`__firebase__banner__${q}`}const s="__firebase__banner",c=ZT().prod.length>0;function p(){const q=document.getElementById(s);q&&q.remove()}function b(q){q.style.display="flex",q.style.background="#7faaf0",q.style.position="fixed",q.style.bottom="5px",q.style.left="5px",q.style.padding=".5em",q.style.borderRadius="5px",q.style.alignItems="center"}function w(q,ne){q.setAttribute("width","24"),q.setAttribute("id",ne),q.setAttribute("height","24"),q.setAttribute("viewBox","0 0 24 24"),q.setAttribute("fill","none"),q.style.marginLeft="-6px"}function E(){const q=document.createElement("span");return q.style.cursor="pointer",q.style.marginLeft="16px",q.style.fontSize="24px",q.innerHTML=" &times;",q.onclick=()=>{v_=!0,p()},q}function x(q,ne){q.setAttribute("id",ne),q.innerText="Learn more",q.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",q.setAttribute("target","__blank"),q.style.paddingLeft="5px",q.style.textDecoration="underline"}function L(){const q=eA(s),ne=i("text"),z=document.getElementById(ne)||document.createElement("span"),Oe=i("learnmore"),Re=document.getElementById(Oe)||document.createElement("a"),Ue=i("preprendIcon"),He=document.getElementById(Ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.created){const Ge=q.element;b(Ge),x(Re,Oe);const Ke=E();w(He,Ue),Ge.append(He,z,Re,Ke),document.body.appendChild(Ge)}c?(z.innerText="Preview backend disconnected.",He.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(He.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",ne)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function Wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wi())}function nA(){const r=rf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const r=Wi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const cA="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=cA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?hA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Rs(l,b,s)}}function hA(r,e){return r.replace(fA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const fA=/\{\$([^}]+)}/g;function dA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(__(c)&&__(p)){if(!Bo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function __(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mA(r,e){const i=new pA(r,e);return i.subscribe.bind(i)}class pA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=vm),l.error===void 0&&(l.error=vm),l.complete===void 0&&(l.complete=vm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function vm(){}function Br(r){return r&&r._delegate?r._delegate:r}class Fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class yA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new $T;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(r){return r===jo?void 0:r}function _A(r){return r.instantiationMode==="EAGER"}class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const wA={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},EA=Qt.INFO,TA={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},AA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=TA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const SA=(r,e)=>e.some(i=>r instanceof i);let b_,w_;function RA(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Vm=new WeakMap,sb=new WeakMap,_m=new WeakMap,fp=new WeakMap;function IA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(uo(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&ab.set(i,r)}).catch(()=>{}),fp.set(e,r),e}function xA(r){if(Vm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Vm.set(r,e)}let km={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sb.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return uo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function MA(r){km=r(km)}function NA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(bm(this),e,...i);return sb.set(s,e.sort?e.sort():[e]),uo(s)}:CA().includes(r)?function(...e){return r.apply(bm(this),e),uo(ab.get(this))}:function(...e){return uo(r.apply(bm(this),e))}}function DA(r){return typeof r=="function"?NA(r):(r instanceof IDBTransaction&&xA(r),SA(r,RA())?new Proxy(r,km):r)}function uo(r){if(r instanceof IDBRequest)return IA(r);if(_m.has(r))return _m.get(r);const e=DA(r);return e!==r&&(_m.set(r,e),fp.set(e,r)),e}const bm=r=>fp.get(r);function OA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=uo(p);return s&&p.addEventListener("upgradeneeded",w=>{s(uo(p.result),w.oldVersion,w.newVersion,uo(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const VA=["get","getKey","getAll","getAllKeys","count"],kA=["put","add","delete","clear"],wm=new Map;function E_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=kA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||VA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return wm.set(e,c),c}MA(r=>({...r,get:(e,i,s)=>E_(e,i)||r.get(e,i,s),has:(e,i)=>!!E_(e,i)||r.has(e,i)}));class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function LA(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",T_="0.14.6";const bs=new hp("@firebase/app"),UA="@firebase/app-compat",jA="@firebase/analytics-compat",zA="@firebase/analytics",BA="@firebase/app-check-compat",FA="@firebase/app-check",HA="@firebase/auth",qA="@firebase/auth-compat",GA="@firebase/database",YA="@firebase/data-connect",XA="@firebase/database-compat",QA="@firebase/functions",KA="@firebase/functions-compat",WA="@firebase/installations",$A="@firebase/installations-compat",JA="@firebase/messaging",ZA="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",rS="@firebase/storage",aS="@firebase/storage-compat",sS="@firebase/firestore",oS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="12.6.0";const Lm="[DEFAULT]",hS={[Pm]:"fire-core",[UA]:"fire-core-compat",[zA]:"fire-analytics",[jA]:"fire-analytics-compat",[FA]:"fire-app-check",[BA]:"fire-app-check-compat",[HA]:"fire-auth",[qA]:"fire-auth-compat",[GA]:"fire-rtdb",[YA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[QA]:"fire-fn",[KA]:"fire-fn-compat",[WA]:"fire-iid",[$A]:"fire-iid-compat",[JA]:"fire-fcm",[ZA]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[rS]:"fire-gcs",[aS]:"fire-gcs-compat",[sS]:"fire-fst",[lS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};const Ph=new Map,fS=new Map,Um=new Map;function A_(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function zl(r){const e=r.name;if(Um.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,r);for(const i of Ph.values())A_(i,r);for(const i of fS.values())A_(i,r);return!0}function dp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function na(r){return r==null?!1:r.settings!==void 0}const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new ic("app","Firebase",dS);class mS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const Ql=cS;function ob(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Lm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw co.create("bad-app-name",{appName:String(l)});if(i||(i=tb()),!i)throw co.create("no-options");const c=Ph.get(l);if(c){if(Bo(i,c.options)&&Bo(s,c.config))return c;throw co.create("duplicate-app",{appName:l})}const p=new bA(l);for(const w of Um.values())p.addComponent(w);const b=new mS(i,s,p);return Ph.set(l,b),b}function lb(r=Lm){const e=Ph.get(r);if(!e&&r===Lm&&tb())return ob();if(!e)throw co.create("no-app",{appName:r});return e}function ho(r,e,i){let s=hS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}zl(new Fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const pS="firebase-heartbeat-database",gS=1,Qu="firebase-heartbeat-store";let Em=null;function ub(){return Em||(Em=OA(pS,gS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qu)}catch(i){console.warn(i)}}}}).catch(r=>{throw co.create("idb-open",{originalErrorMessage:r.message})})),Em}async function yS(r){try{const i=(await ub()).transaction(Qu),s=await i.objectStore(Qu).get(cb(r));return await i.done,s}catch(e){if(e instanceof Rs)bs.warn(e.message);else{const i=co.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function S_(r,e){try{const s=(await ub()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,cb(r)),await s.done}catch(i){if(i instanceof Rs)bs.warn(i.message);else{const s=co.create("idb-set",{originalErrorMessage:i?.message});bs.warn(s.message)}}}function cb(r){return`${r.name}!${r.options.appId}`}const vS=1024,_S=30;class bS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_S){const l=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R_(),{heartbeatsToSend:i,unsentEntries:s}=wS(this._heartbeatsCache.heartbeats),l=kh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function R_(){return new Date().toISOString().substring(0,10)}function wS(r,e=vS){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),C_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),C_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ES{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function C_(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function TS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function AS(r){zl(new Fo("platform-logger",e=>new PA(e),"PRIVATE")),zl(new Fo("heartbeat",e=>new bS(e),"PRIVATE")),ho(Pm,T_,r),ho(Pm,T_,"esm2020"),ho("fire-js","")}AS("");var SS="firebase",RS="12.6.0";ho(SS,RS,"app");function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CS=hb,fb=new ic("auth","Firebase",hb());const Lh=new hp("@firebase/auth");function IS(r,...e){Lh.logLevel<=Qt.WARN&&Lh.warn(`Auth (${Ql}): ${r}`,...e)}function Sh(r,...e){Lh.logLevel<=Qt.ERROR&&Lh.error(`Auth (${Ql}): ${r}`,...e)}function ws(r,...e){throw mp(r,...e)}function Va(r,...e){return mp(r,...e)}function db(r,e,i){const s={...CS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function vs(r){return db(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return fb.create(r,...e)}function Tt(r,e,...i){if(!r)throw mp(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Es(r,e){r||gs(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function xS(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}function MS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xS()||rA()||"connection"in navigator)?navigator.onLine:!0}function NS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=tA()||aA()}get(){return MS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(r,e){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class mb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Kl(r,e,i,s,l={}){return pb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return iA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(E.credentials="include"),mb.fetch()(await gb(r,r.config.apiHost,i,b),E)})}async function pb(r,e,i){r._canInitEmulator=!1;const s={...DS,...e};try{const l=new kS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw gh(r,"user-disabled",p);const x=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw db(r,x,E);ws(r,x)}}catch(l){if(l instanceof Rs)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function gp(r,e,i,s,l={}){const c=await Kl(r,e,i,s,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function gb(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?pp(r.config,l):`${r.config.apiScheme}://${l}`;return OS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class kS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Va(this.auth,"network-request-failed")),VS.get())})}}function gh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Va(r,e,s);return l.customData._tokenResponse=i,l}async function PS(r,e){return Kl(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Kl(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LS(r,e=!1){const i=Br(r),s=await i.getIdToken(e),l=yp(s);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Hu(Tm(l.auth_time)),issuedAtTime:Hu(Tm(l.iat)),expirationTime:Hu(Tm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Tm(r){return Number(r)*1e3}function yp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Z0(i);return l?JSON.parse(l):(Sh("Failed to decode base64 JWT payload"),null)}catch(l){return Sh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function x_(r){const e=yp(r);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ku(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Rs&&US(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function US({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class jS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jh(r){const e=r.auth,i=await r.getIdToken(),s=await Ku(r,Uh(e,{idToken:i}));Tt(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?yb(l.providerUserInfo):[],p=BS(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,x)}async function zS(r){const e=Br(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function yb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function FS(r,e){const i=await pb(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await gb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(w.credentials="include"),mb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HS(r,e){return Kl(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const i=x_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await FS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Vl;return s&&(Tt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return gs("not implemented")}}function no(r,e){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(na(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ku(this,PS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:L,emailVerified:q,isAnonymous:ne,providerData:z,stsTokenManager:Oe}=i;Tt(L&&Oe,e,"internal-error");const Re=Vl.fromJSON(this.name,Oe);Tt(typeof L=="string",e,"internal-error"),no(s,e.name),no(l,e.name),Tt(typeof q=="boolean",e,"internal-error"),Tt(typeof ne=="boolean",e,"internal-error"),no(c,e.name),no(p,e.name),no(b,e.name),no(w,e.name),no(E,e.name),no(x,e.name);const Ue=new pa({uid:L,auth:e,email:l,emailVerified:q,displayName:s,isAnonymous:ne,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Re,createdAt:E,lastLoginAt:x});return z&&Array.isArray(z)&&(Ue.providerData=z.map(He=>({...He}))),w&&(Ue._redirectEventId=w),Ue}static async _fromIdTokenResponse(e,i,s=!1){const l=new Vl;l.updateFromServerResponse(i);const c=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await jh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?yb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Vl;b.updateFromIdToken(s);const w=new pa({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const M_=new Map;function ys(r){Es(r instanceof Function,"Expected a class definition");let e=M_.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,M_.set(r,e),e)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}vb.type="NONE";const N_=vb;function Rh(r,e,i){return`firebase:${r}:${e}:${i}`}class kl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Uh(this.auth,{idToken:e}).catch(()=>{});return i?pa._fromGetAccountInfoResponse(this.auth,i,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new kl(ys(N_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||ys(N_);const p=Rh(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const x=await E._get(p);if(x){let L;if(typeof x=="string"){const q=await Uh(e,{idToken:x}).catch(()=>{});if(!q)break;L=await pa._fromGetAccountInfoResponse(e,q,x)}else L=pa._fromJSON(e,x);E!==c&&(b=L),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new kl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new kl(c,e,s))}}function D_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(Sb(e))return"Webos";if(bb(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function _b(r=Wi()){return/firefox\//i.test(r)}function bb(r=Wi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(r=Wi()){return/crios\//i.test(r)}function Eb(r=Wi()){return/iemobile/i.test(r)}function Tb(r=Wi()){return/android/i.test(r)}function Ab(r=Wi()){return/blackberry/i.test(r)}function Sb(r=Wi()){return/webos/i.test(r)}function vp(r=Wi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qS(r=Wi()){return vp(r)&&!!window.navigator?.standalone}function GS(){return sA()&&document.documentMode===10}function Rb(r=Wi()){return vp(r)||Tb(r)||Sb(r)||Ab(r)||/windows phone/i.test(r)||Eb(r)}function Cb(r,e=[]){let i;switch(r){case"Browser":i=D_(Wi());break;case"Worker":i=`${D_(Wi())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ql}/${s}`}class YS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function XS(r,e={}){return Kl(r,"GET","/v2/passwordPolicy",sc(r,e))}const QS=6;class KS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class WS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new YS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Uh(this,{idToken:e}),s=await pa._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(na(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(na(this.app))return Promise.reject(vs(this));const i=e?Br(e):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return na(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return na(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XS(this),i=new KS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await HS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Br(r)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $S(r){_p=r}function JS(r){return _p.loadJS(r)}function ZS(){return _p.gapiScript}function e2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function t2(r,e){const i=dp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Bo(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function n2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function i2(r,e,i){const s=oc(r);Tt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Ib(e),{host:p,port:b}=r2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Bo(E,s.config.emulator)&&Bo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Xl(p)?(ib(`${c}//${p}${w}`),rb("Auth",!0)):a2()}function Ib(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function r2(r){const e=Ib(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:V_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:V_(p)}}}function V_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function a2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function Pl(r,e){return gp(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const s2="http://localhost";class Ho extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new Ho(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Pl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends lc{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class ro extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ho._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ro.credential(i,s)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";class ao extends lc{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class so extends lc{constructor(){super("twitter.com")}static credential(e,i){return Ho._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return so.credential(i,s)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";async function o2(r,e){return gp(r,"POST","/v1/accounts:signUp",sc(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await pa._fromIdTokenResponse(e,s,l),p=k_(s);return new Ts({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=k_(s);return new Ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function k_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function l2(r){if(na(r.app))return Promise.reject(vs(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await o2(e,{returnSecureToken:!0}),s=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class zh extends Rs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new zh(e,i,s,l)}}function Nb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,c,e,s):c})}async function u2(r,e,i=!1){const s=await Ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",s)}async function c2(r,e,i=!1){const{auth:s}=r;if(na(s.app))return Promise.reject(vs(s));const l="reauthenticate";try{const c=await Ku(r,Nb(s,l,e,r),i);Tt(c.idToken,s,"internal-error");const p=yp(c.idToken);Tt(p,s,"internal-error");const{sub:b}=p;return Tt(r.uid===b,s,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(s,"user-mismatch"),c}}async function h2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s="signIn",l=await Nb(r,s,e),c=await Ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function f2(r,e){return gp(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function d2(r,e){if(na(r.app))return Promise.reject(vs(r));const i=oc(r),s=await f2(i,{token:e,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function m2(r,e,i,s){return Br(r).onIdTokenChanged(e,i,s)}function p2(r,e,i){return Br(r).beforeAuthStateChanged(e,i)}function g2(r,e,i,s){return Br(r).onAuthStateChanged(e,i,s)}const Bh="__sak";class Db{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y2=1e3,v2=10;class Ob extends Db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);GS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,v2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ob.type="LOCAL";const _2=Ob;class Vb extends Db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Vb.type="SESSION";const kb=Vb;function b2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await b2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function bp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=bp("",20);l.port1.start();const x=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(L){const q=L;if(q.data.eventId===E)switch(q.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(q.data.response);break;default:clearTimeout(x),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function ka(){return window}function E2(r){ka().location.href=r}function Pb(){return typeof ka().WorkerGlobalScope<"u"&&typeof ka().importScripts=="function"}async function T2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){return navigator?.serviceWorker?.controller||null}function S2(){return Pb()?self:null}const Lb="firebaseLocalStorageDb",R2=1,Fh="firebaseLocalStorage",Ub="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sf(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function C2(){const r=indexedDB.deleteDatabase(Lb);return new uc(r).toPromise()}function Bm(){const r=indexedDB.open(Lb,R2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:Ub})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await C2(),e(await Bm()))})})}async function P_(r,e,i){const s=sf(r,!0).put({[Ub]:e,value:i});return new uc(s).toPromise()}async function I2(r,e){const i=sf(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function L_(r,e){const i=sf(r,!0).delete(e);return new uc(i).toPromise()}const x2=800,M2=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>M2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await P_(e,Bh,"1"),await L_(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>P_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>I2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>L_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=sf(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const N2=jb;new ac(3e4,6e4);function D2(r,e){return e?ys(e):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function O2(r){return h2(r.auth,new wp(r),r.bypassAuthState)}function V2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),c2(i,new wp(r),r.bypassAuthState)}async function k2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),u2(i,new wp(r),r.bypassAuthState)}class zb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:ws(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P2=new ac(2e3,1e4);class Dl extends zb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P2.get())};e()}}Dl.currentPopupAction=null;const L2="pendingRedirect",Ch=new Map;class U2 extends zb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(r,e){const i=F2(e),s=B2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function z2(r,e){Ch.set(r._key(),e)}function B2(r){return ys(r._redirectPersistence)}function F2(r){return Rh(L2,r.config.apiKey,r.name)}async function H2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s=oc(r),l=D2(s,e),p=await new U2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const q2=600*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Bb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Va(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(e))}saveEventToCache(e){this.cachedEventUids.add(U_(e)),this.lastProcessedEventTime=Date.now()}}function U_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Bb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Y2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(r);default:return!1}}async function X2(r,e={}){return Kl(r,"GET","/v1/projects",e)}const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function W2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await X2(r);for(const i of e)try{if($2(i))return}catch{}ws(r,"unauthorized-domain")}function $2(r){const e=jm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!K2.test(i))return!1;if(Q2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const J2=new ac(3e4,6e4);function j_(){const r=ka().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Z2(r){return new Promise((e,i)=>{function s(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),i(Va(r,"network-request-failed"))},timeout:J2.get()})}if(ka().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ka().gapi?.load)s();else{const l=e2("iframefcb");return ka()[l]=()=>{gapi.load?s():i(Va(r,"network-request-failed"))},JS(`${ZS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function eR(r){return Ih=Ih||Z2(r),Ih}const tR=new ac(5e3,15e3),nR="__/auth/iframe",iR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sR(r){const e=r.config;Tt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?pp(e,iR):`https://${r.config.authDomain}/${nR}`,s={apiKey:e.apiKey,appName:r.name,v:Ql},l=aR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function oR(r){const e=await eR(r),i=ka().gapi;return Tt(i,r,"internal-error"),e.open({where:document.body,url:sR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Va(r,"network-request-failed"),b=ka().setTimeout(()=>{c(p)},tR.get());function w(){ka().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const lR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,cR=600,hR="_blank",fR="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dR(r,e,i,s=uR,l=cR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...lR,width:s.toString(),height:l.toString(),top:c,left:p},E=Wi().toLowerCase();i&&(b=wb(E)?hR:i),_b(E)&&(e=e||fR,w.scrollbars="yes");const x=Object.entries(w).reduce((q,[ne,z])=>`${q}${ne}=${z},`,"");if(qS(E)&&b!=="_self")return mR(e||"",b),new z_(null);const L=window.open(e||"",b,x);Tt(L,r,"popup-blocked");try{L.focus()}catch{}return new z_(L)}function mR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const pR="__/auth/handler",gR="emulator/auth/handler",yR=encodeURIComponent("fac");async function B_(r,e,i,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Ql,eventId:l};if(e instanceof Mb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",dA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,L]of Object.entries({}))p[x]=L}if(e instanceof lc){const x=e.getScopes().filter(L=>L!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const w=await r._getAppCheckToken(),E=w?`#${yR}=${encodeURIComponent(w)}`:"";return`${vR(r)}?${rc(b).slice(1)}${E}`}function vR({config:r}){return r.emulator?pp(r,gR):`https://${r.authDomain}/${pR}`}const Am="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kb,this._completeRedirectFn=H2,this._overrideRedirectResult=z2}async _openPopup(e,i,s,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await B_(e,i,s,jm(),l);return dR(e,c,bp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await B_(e,i,s,jm(),l);return E2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await oR(e),s=new G2(e);return i.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Am,{type:Am},l=>{const c=l?.[0]?.[Am];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=W2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Rb()||bb()||vp()}}const bR=_R;var F_="@firebase/auth",H_="1.11.1";class wR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ER(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(r){zl(new Fo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(r)},E=new WS(s,l,c,w);return n2(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),zl(new Fo("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new wR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(F_,H_,ER(r)),ho(F_,H_,"esm2020")}const AR=300,SR=nb("authIdTokenMaxAge")||AR;let q_=null;const RR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>SR)return;const l=i?.token;q_!==l&&(q_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function CR(r=lb()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=t2(r,{popupRedirectResolver:bR,persistence:[N2,_2,kb]}),s=nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=RR(c.toString());p2(i,p,()=>p(i.currentUser)),m2(i,b=>p(b))}}const l=eb("auth");return l&&i2(i,`http://${l}`),i}function IR(){return document.getElementsByTagName("head")?.[0]??document}$S({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Va("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",IR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,Fb;(function(){var r;function e(F,U){function V(){}V.prototype=U.prototype,F.F=U.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(B,I,k){for(var C=Array(arguments.length-2),X=2;X<arguments.length;X++)C[X-2]=arguments[X];return U.prototype[I].apply(B,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,U,V){V||(V=0);const B=Array(16);if(typeof U=="string")for(var I=0;I<16;++I)B[I]=U.charCodeAt(V++)|U.charCodeAt(V++)<<8|U.charCodeAt(V++)<<16|U.charCodeAt(V++)<<24;else for(I=0;I<16;++I)B[I]=U[V++]|U[V++]<<8|U[V++]<<16|U[V++]<<24;U=F.g[0],V=F.g[1],I=F.g[2];let k=F.g[3],C;C=U+(k^V&(I^k))+B[0]+3614090360&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[1]+3905402710&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[2]+606105819&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[3]+3250441966&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(k^V&(I^k))+B[4]+4118548399&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[5]+1200080426&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[6]+2821735955&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[7]+4249261313&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(k^V&(I^k))+B[8]+1770035416&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[9]+2336552879&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[10]+4294925233&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[11]+2304563134&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(k^V&(I^k))+B[12]+1804603682&4294967295,U=V+(C<<7&4294967295|C>>>25),C=k+(I^U&(V^I))+B[13]+4254626195&4294967295,k=U+(C<<12&4294967295|C>>>20),C=I+(V^k&(U^V))+B[14]+2792965006&4294967295,I=k+(C<<17&4294967295|C>>>15),C=V+(U^I&(k^U))+B[15]+1236535329&4294967295,V=I+(C<<22&4294967295|C>>>10),C=U+(I^k&(V^I))+B[1]+4129170786&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[6]+3225465664&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[11]+643717713&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[0]+3921069994&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(I^k&(V^I))+B[5]+3593408605&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[10]+38016083&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[15]+3634488961&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[4]+3889429448&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(I^k&(V^I))+B[9]+568446438&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[14]+3275163606&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[3]+4107603335&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[8]+1163531501&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(I^k&(V^I))+B[13]+2850285829&4294967295,U=V+(C<<5&4294967295|C>>>27),C=k+(V^I&(U^V))+B[2]+4243563512&4294967295,k=U+(C<<9&4294967295|C>>>23),C=I+(U^V&(k^U))+B[7]+1735328473&4294967295,I=k+(C<<14&4294967295|C>>>18),C=V+(k^U&(I^k))+B[12]+2368359562&4294967295,V=I+(C<<20&4294967295|C>>>12),C=U+(V^I^k)+B[5]+4294588738&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[8]+2272392833&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[11]+1839030562&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[14]+4259657740&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(V^I^k)+B[1]+2763975236&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[4]+1272893353&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[7]+4139469664&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[10]+3200236656&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(V^I^k)+B[13]+681279174&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[0]+3936430074&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[3]+3572445317&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[6]+76029189&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(V^I^k)+B[9]+3654602809&4294967295,U=V+(C<<4&4294967295|C>>>28),C=k+(U^V^I)+B[12]+3873151461&4294967295,k=U+(C<<11&4294967295|C>>>21),C=I+(k^U^V)+B[15]+530742520&4294967295,I=k+(C<<16&4294967295|C>>>16),C=V+(I^k^U)+B[2]+3299628645&4294967295,V=I+(C<<23&4294967295|C>>>9),C=U+(I^(V|~k))+B[0]+4096336452&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[7]+1126891415&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[14]+2878612391&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[5]+4237533241&4294967295,V=I+(C<<21&4294967295|C>>>11),C=U+(I^(V|~k))+B[12]+1700485571&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[3]+2399980690&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[10]+4293915773&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[1]+2240044497&4294967295,V=I+(C<<21&4294967295|C>>>11),C=U+(I^(V|~k))+B[8]+1873313359&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[15]+4264355552&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[6]+2734768916&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[13]+1309151649&4294967295,V=I+(C<<21&4294967295|C>>>11),C=U+(I^(V|~k))+B[4]+4149444226&4294967295,U=V+(C<<6&4294967295|C>>>26),C=k+(V^(U|~I))+B[11]+3174756917&4294967295,k=U+(C<<10&4294967295|C>>>22),C=I+(U^(k|~V))+B[2]+718787259&4294967295,I=k+(C<<15&4294967295|C>>>17),C=V+(k^(I|~U))+B[9]+3951481745&4294967295,F.g[0]=F.g[0]+U&4294967295,F.g[1]=F.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,F.g[2]=F.g[2]+I&4294967295,F.g[3]=F.g[3]+k&4294967295}s.prototype.v=function(F,U){U===void 0&&(U=F.length);const V=U-this.blockSize,B=this.C;let I=this.h,k=0;for(;k<U;){if(I==0)for(;k<=V;)l(this,F,k),k+=this.blockSize;if(typeof F=="string"){for(;k<U;)if(B[I++]=F.charCodeAt(k++),I==this.blockSize){l(this,B),I=0;break}}else for(;k<U;)if(B[I++]=F[k++],I==this.blockSize){l(this,B),I=0;break}}this.h=I,this.o+=U},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var U=1;U<F.length-8;++U)F[U]=0;U=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=U&255,U/=256;for(this.v(F),F=Array(16),U=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)F[U++]=this.g[V]>>>B&255;return F};function c(F,U){var V=b;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=U(F)}function p(F,U){this.h=U;const V=[];let B=!0;for(let I=F.length-1;I>=0;I--){const k=F[I]|0;B&&k==U||(V[I]=k,B=!1)}this.g=V}var b={};function w(F){return-128<=F&&F<128?c(F,function(U){return new p([U|0],U<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return L;if(F<0)return Re(E(-F));const U=[];let V=1;for(let B=0;F>=V;B++)U[B]=F/V|0,V*=4294967296;return new p(U,0)}function x(F,U){if(F.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(F.charAt(0)=="-")return Re(x(F.substring(1),U));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(U,8));let B=L;for(let k=0;k<F.length;k+=8){var I=Math.min(8,F.length-k);const C=parseInt(F.substring(k,k+I),U);I<8?(I=E(Math.pow(U,I)),B=B.j(I).add(E(C))):(B=B.j(V),B=B.add(E(C)))}return B}var L=w(0),q=w(1),ne=w(16777216);r=p.prototype,r.m=function(){if(Oe(this))return-Re(this).m();let F=0,U=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);F+=(B>=0?B:4294967296+B)*U,U*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(z(this))return"0";if(Oe(this))return"-"+Re(this).toString(F);const U=E(Math.pow(F,6));var V=this;let B="";for(;;){const I=Ke(V,U).g;V=Ue(V,I.j(U));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=I,z(V))return k+B;for(;k.length<6;)k="0"+k;B=k+B}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function z(F){if(F.h!=0)return!1;for(let U=0;U<F.g.length;U++)if(F.g[U]!=0)return!1;return!0}function Oe(F){return F.h==-1}r.l=function(F){return F=Ue(this,F),Oe(F)?-1:z(F)?0:1};function Re(F){const U=F.g.length,V=[];for(let B=0;B<U;B++)V[B]=~F.g[B];return new p(V,~F.h).add(q)}r.abs=function(){return Oe(this)?Re(this):this},r.add=function(F){const U=Math.max(this.g.length,F.g.length),V=[];let B=0;for(let I=0;I<=U;I++){let k=B+(this.i(I)&65535)+(F.i(I)&65535),C=(k>>>16)+(this.i(I)>>>16)+(F.i(I)>>>16);B=C>>>16,k&=65535,C&=65535,V[I]=C<<16|k}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Ue(F,U){return F.add(Re(U))}r.j=function(F){if(z(this)||z(F))return L;if(Oe(this))return Oe(F)?Re(this).j(Re(F)):Re(Re(this).j(F));if(Oe(F))return Re(this.j(Re(F)));if(this.l(ne)<0&&F.l(ne)<0)return E(this.m()*F.m());const U=this.g.length+F.g.length,V=[];for(var B=0;B<2*U;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let I=0;I<F.g.length;I++){const k=this.i(B)>>>16,C=this.i(B)&65535,X=F.i(I)>>>16,re=F.i(I)&65535;V[2*B+2*I]+=C*re,He(V,2*B+2*I),V[2*B+2*I+1]+=k*re,He(V,2*B+2*I+1),V[2*B+2*I+1]+=C*X,He(V,2*B+2*I+1),V[2*B+2*I+2]+=k*X,He(V,2*B+2*I+2)}for(F=0;F<U;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=U;F<2*U;F++)V[F]=0;return new p(V,0)};function He(F,U){for(;(F[U]&65535)!=F[U];)F[U+1]+=F[U]>>>16,F[U]&=65535,U++}function Ge(F,U){this.g=F,this.h=U}function Ke(F,U){if(z(U))throw Error("division by zero");if(z(F))return new Ge(L,L);if(Oe(F))return U=Ke(Re(F),U),new Ge(Re(U.g),Re(U.h));if(Oe(U))return U=Ke(F,Re(U)),new Ge(Re(U.g),U.h);if(F.g.length>30){if(Oe(F)||Oe(U))throw Error("slowDivide_ only works with positive integers.");for(var V=q,B=U;B.l(F)<=0;)V=ht(V),B=ht(B);var I=ot(V,1),k=ot(B,1);for(B=ot(B,2),V=ot(V,2);!z(B);){var C=k.add(B);C.l(F)<=0&&(I=I.add(V),k=C),B=ot(B,1),V=ot(V,1)}return U=Ue(F,I.j(U)),new Ge(I,U)}for(I=L;F.l(U)>=0;){for(V=Math.max(1,Math.floor(F.m()/U.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),k=E(V),C=k.j(U);Oe(C)||C.l(F)>0;)V-=B,k=E(V),C=k.j(U);z(k)&&(k=q),I=I.add(k),F=Ue(F,C)}return new Ge(I,F)}r.B=function(F){return Ke(this,F).h},r.and=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)&F.i(B);return new p(V,this.h&F.h)},r.or=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)|F.i(B);return new p(V,this.h|F.h)},r.xor=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)^F.i(B);return new p(V,this.h^F.h)};function ht(F){const U=F.g.length+1,V=[];for(let B=0;B<U;B++)V[B]=F.i(B)<<1|F.i(B-1)>>>31;return new p(V,F.h)}function ot(F,U){const V=U>>5;U%=32;const B=F.g.length-V,I=[];for(let k=0;k<B;k++)I[k]=U>0?F.i(k+V)>>>U|F.i(k+V+1)<<32-U:F.i(k+V);return new p(I,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Fb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=x,fo=p}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hb,ju,qb,xh,Fm,Gb,Yb,Xb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var O=0;O<u.length-1;O++){var ae=u[O];if(!(ae in A))break e;A=A[ae]}u=u[u.length-1],O=A[u],y=y(O),y!=O&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&A.push([O,y[O]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(O,ae,me){for(var ze=Array(arguments.length-2),At=2;At<arguments.length;At++)ze[At-2]=arguments[At];return y.prototype[ae].apply(O,ze)}}var q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ne(u){const y=u.length;if(y>0){const A=Array(y);for(let O=0;O<y;O++)A[O]=u[O];return A}return[]}function z(u,y){for(let O=1;O<arguments.length;O++){const ae=arguments[O];var A=typeof ae;if(A=A!="object"?A:ae?Array.isArray(ae)?"array":A:"null",A=="array"||A=="object"&&typeof ae.length=="number"){A=u.length||0;const me=ae.length||0;u.length=A+me;for(let ze=0;ze<me;ze++)u[A+ze]=ae[ze]}else u.push(ae)}}class Oe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Re(u){p.setTimeout(()=>{throw u},0)}function Ue(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class He{constructor(){this.h=this.g=null}add(y,A){const O=Ge.get();O.set(y,A),this.h?this.h.next=O:this.g=O,this.h=O}}var Ge=new Oe(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ot=!1,F=new He,U=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(V)}};function V(){for(var u;u=Ue();){try{u.h.call(u.g)}catch(A){Re(A)}var y=Ge;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ot=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function X(u,y){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(X,I),X.prototype.init=function(u,y){const A=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,y,A,O,ae){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!O,this.ha=ae,this.key=++H,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function de(u,y,A){for(const O in u)y.call(A,u[O],O,u)}function xe(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,y){let A,O;for(let ae=1;ae<arguments.length;ae++){O=arguments[ae];for(A in O)u[A]=O[A];for(let me=0;me<se.length;me++)A=se[me],Object.prototype.hasOwnProperty.call(O,A)&&(u[A]=O[A])}}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,y,A,O,ae){const me=u.toString();u=this.g[me],u||(u=this.g[me]=[],this.h++);const ze=qe(u,y,O,ae);return ze>-1?(y=u[ze],A||(y.fa=!1)):(y=new ee(y,this.src,me,!!O,ae),y.fa=A,u.push(y)),y};function Ie(u,y){const A=y.type;if(A in u.g){var O=u.g[A],ae=Array.prototype.indexOf.call(O,y,void 0),me;(me=ae>=0)&&Array.prototype.splice.call(O,ae,1),me&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function qe(u,y,A,O){for(let ae=0;ae<u.length;++ae){const me=u[ae];if(!me.da&&me.listener==y&&me.capture==!!A&&me.ha==O)return ae}return-1}var We="closure_lm_"+(Math.random()*1e6|0),ut={};function _t(u,y,A,O,ae){if(Array.isArray(y)){for(let me=0;me<y.length;me++)_t(u,y[me],A,O,ae);return null}return A=yt(A),u&&u[re]?u.J(y,A,b(O)?!!O.capture:!1,ae):Ct(u,y,A,!1,O,ae)}function Ct(u,y,A,O,ae,me){if(!y)throw Error("Invalid event type");const ze=b(ae)?!!ae.capture:!!ae;let At=Nn(u);if(At||(u[We]=At=new be(u)),A=At.add(y,A,O,ze,me),A.proxy)return A;if(O=nn(),A.proxy=O,O.src=u,O.listener=A,u.addEventListener)k||(ae=ze),ae===void 0&&(ae=!1),u.addEventListener(y.toString(),O,ae);else if(u.attachEvent)u.attachEvent(Lt(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function nn(){function u(A){return y.call(u.src,u.listener,A)}const y=Ut;return u}function ft(u,y,A,O,ae){if(Array.isArray(y))for(var me=0;me<y.length;me++)ft(u,y[me],A,O,ae);else O=b(O)?!!O.capture:!!O,A=yt(A),u&&u[re]?(u=u.i,me=String(y).toString(),me in u.g&&(y=u.g[me],A=qe(y,A,O,ae),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[me],u.h--)))):u&&(u=Nn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=qe(y,A,O,ae)),(A=u>-1?y[u]:null)&&Et(A))}function Et(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[re])Ie(y.i,u);else{var A=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(A,O,u.capture):y.detachEvent?y.detachEvent(Lt(A),O):y.addListener&&y.removeListener&&y.removeListener(O),(A=Nn(y))?(Ie(A,u),A.h==0&&(A.src=null,y[We]=null)):ye(u)}}}function Lt(u){return u in ut?ut[u]:ut[u]="on"+u}function Ut(u,y){if(u.da)u=!0;else{y=new X(y,this);const A=u.listener,O=u.ha||u.src;u.fa&&Et(u),u=A.call(O,y)}return u}function Nn(u){return u=u[We],u instanceof be?u:null}var ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(u){return typeof u=="function"?u:(u[ri]||(u[ri]=function(y){return u.handleEvent(y)}),u[ri])}function at(){B.call(this),this.i=new be(this),this.M=this,this.G=null}L(at,B),at.prototype[re]=!0,at.prototype.removeEventListener=function(u,y,A,O){ft(this,u,y,A,O)};function un(u,y){var A,O=u.G;if(O)for(A=[];O;O=O.G)A.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new I(y,u);else if(y instanceof I)y.target=y.target||u;else{var ae=y;y=new I(O,u),Se(y,ae)}ae=!0;let me,ze;if(A)for(ze=A.length-1;ze>=0;ze--)me=y.g=A[ze],ae=Zt(me,O,!0,y)&&ae;if(me=y.g=u,ae=Zt(me,O,!0,y)&&ae,ae=Zt(me,O,!1,y)&&ae,A)for(ze=0;ze<A.length;ze++)me=y.g=A[ze],ae=Zt(me,O,!1,y)&&ae}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let O=0;O<A.length;O++)ye(A[O]);delete u.g[y],u.h--}}this.G=null},at.prototype.J=function(u,y,A,O){return this.i.add(String(u),y,!1,A,O)},at.prototype.K=function(u,y,A,O){return this.i.add(String(u),y,!0,A,O)};function Zt(u,y,A,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ae=!0;for(let me=0;me<y.length;++me){const ze=y[me];if(ze&&!ze.da&&ze.capture==A){const At=ze.listener,Yn=ze.ha||ze.src;ze.fa&&Ie(u.i,ze),ae=At.call(Yn,O)!==!1&&ae}}return ae&&!O.defaultPrevented}function $i(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Un(u){u.g=$i(()=>{u.g=null,u.i&&(u.i=!1,Un(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Vt extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(u){B.call(this),this.h=u,this.g={}}L(mn,B);var R=[];function g(u){de(u.g,function(y,A){this.g.hasOwnProperty(A)&&Et(y)},u),u.g={}}mn.prototype.N=function(){mn.Z.N.call(this),g(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _=p.JSON.stringify,D=p.JSON.parse,K=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function pe(){}function Te(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tt(){I.call(this,"d")}L(tt,I);function Xe(){I.call(this,"c")}L(Xe,I);var nt={},$t=null;function Cn(){return $t=$t||new at}nt.Ia="serverreachability";function cn(u){I.call(this,nt.Ia,u)}L(cn,I);function Sn(u){const y=Cn();un(y,new cn(y))}nt.STAT_EVENT="statevent";function Fn(u,y){I.call(this,nt.STAT_EVENT,u),this.stat=y}L(Fn,I);function Bt(u){const y=Cn();un(y,new Fn(y,u))}nt.Ja="timingevent";function In(u,y){I.call(this,nt.Ja,u),this.size=y}L(In,I);function Dn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Pi(u,y,A,O,ae,me){u.info(function(){if(u.g)if(me){var ze="",At=me.split("&");for(let rn=0;rn<At.length;rn++){var Yn=At[rn].split("=");if(Yn.length>1){const xn=Yn[0];Yn=Yn[1];const qi=xn.split("_");ze=qi.length>=2&&qi[1]=="type"?ze+(xn+"="+Yn+"&"):ze+(xn+"=redacted&")}}}else ze=null;else ze=me;return"XMLHTTP REQ ("+O+") [attempt "+ae+"]: "+y+`
`+A+`
`+ze})}function gt(u,y,A,O,ae,me,ze){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ae+"]: "+y+`
`+A+`
`+me+" "+ze})}function Hn(u,y,A,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ji(u,A)+(O?" "+O:"")})}function St(u,y){u.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Ji(u,y){if(!u.g)return y;if(!y)return null;try{const me=JSON.parse(y);if(me){for(u=0;u<me.length;u++)if(Array.isArray(me[u])){var A=me[u];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var ae=O[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let ze=1;ze<O.length;ze++)O[ze]=""}}}}return _(me)}catch{return y}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ba={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rr;function Fr(){}L(Fr,pe),Fr.prototype.g=function(){return new XMLHttpRequest},Rr=new Fr;function Qe(u){return encodeURIComponent(String(u))}function Hr(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Li(u,y,A,O){this.j=u,this.i=y,this.l=A,this.S=O||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var pn={},zn={};function Ui(u,y,A){u.M=1,u.A=ke(ie(y)),u.u=A,u.R=!0,ur(u,null)}function ur(u,y){u.F=Date.now(),ji(u),u.B=ie(u.A);var A=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),Ga(A.i,"t",O),u.C=0,A=u.j.L,u.h=new er,u.g=Zo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Vt(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,O=u.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(R[0]=ae.toString()),ae=R);for(let me=0;me<ae.length;me++){const ze=_t(A,ae[me],O||y.handleEvent,!1,y.h||y);if(!ze)break;y.g[ze.key]=ze}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Sn(),Pi(u.i,u.v,u.B,u.l,u.S,u.u)}Li.prototype.ba=function(u){u=u.target;const y=this.O;y&&Nr(u)==3?y.j():this.Y(u)},Li.prototype.Y=function(u){try{if(u==this.g)e:{const At=Nr(this.g),Yn=this.g.ya(),rn=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||pi(this.g)))){this.K||At!=4||Yn==7||(Yn==8||rn<=0?Sn(3):Sn(2)),zi(this);var y=this.g.ca();this.X=y;var A=Cs(this);if(this.o=y==200,gt(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,ae=this.g;if((O=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(O)){var me=O;break t}}me=null}if(u=me)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kn(this,u);else{this.o=!1,this.m=3,Bt(12),Ti(this),Bi(this);break e}}if(this.R){u=!0;let xn;for(;!this.K&&this.C<A.length;)if(xn=aa(this,A),xn==zn){At==4&&(this.m=4,Bt(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==pn){this.m=4,Bt(15),Hn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,xn,null),Kn(this,xn);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||A.length!=0||this.h.h||(this.m=1,Bt(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,A,"[Invalid Chunked Response]"),Ti(this),Bi(this);else if(A.length>0&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.aa&&!ze.P&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ir(ze),ze.P=!0,Bt(11))}}else Hn(this.i,this.l,A,null),Kn(this,A);At==4&&Ti(this),this.o&&!this.K&&(At==4?Ka(this.j,this):(this.o=!1,ji(this)))}else gr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Ti(this),Bi(this)}}}catch{}finally{}};function Cs(u){if(!Fa(u))return u.g.la();const y=pi(u.g);if(y==="")return"";let A="";const O=y.length,ae=Nr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ti(u),Bi(u),"";u.h.i=new p.TextDecoder}for(let me=0;me<O;me++)u.h.h=!0,A+=u.h.i.decode(y[me],{stream:!(ae&&me==O-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Fa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function aa(u,y){var A=u.C,O=y.indexOf(`
`,A);return O==-1?zn:(A=Number(y.substring(A,O)),isNaN(A)?pn:(O+=1,O+A>y.length?zn:(y=y.slice(O,O+A),u.C=O+A,y)))}Li.prototype.cancel=function(){this.K=!0,Ti(this)};function ji(u){u.T=Date.now()+u.H,Ei(u,u.H)}function Ei(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Dn(E(u.aa,u),y)}function zi(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(St(this.i,this.B),this.M!=2&&(Sn(),Bt(17)),Ti(this),this.m=2,Bi(this)):Ei(this,this.T-u)};function Bi(u){u.j.I==0||u.K||Ka(u.j,u)}function Ti(u){zi(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Kn(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||qn(A.h,u))){if(!u.L&&qn(A.h,u)&&A.I==3){try{var O=A.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ae=O;if(ae[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ca(A),Dr(A);else break e;Aa(A),Bt(18)}}else A.xa=ae[1],0<A.xa-A.K&&ae[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Dn(E(A.Va,A),6e3));Si(A.h)<=1&&A.ta&&(A.ta=void 0)}else Or(A,11)}else if((u.L||A.g==u)&&ca(A),!C(y))for(ae=A.Ba.g.parse(y),y=0;y<ae.length;y++){let rn=ae[y];const xn=rn[0];if(!(xn<=A.K))if(A.K=xn,rn=rn[1],A.I==2)if(rn[0]=="c"){A.M=rn[1],A.ba=rn[2];const qi=rn[3];qi!=null&&(A.ka=qi,A.j.info("VER="+A.ka));const yr=rn[4];yr!=null&&(A.za=yr,A.j.info("SVER="+A.za));const vr=rn[5];vr!=null&&typeof vr=="number"&&vr>0&&(O=1.5*vr,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const rr=u.g;if(rr){const Xr=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var me=O.h;me.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(va(me,me.h),me.h=null))}if(O.G){const Wa=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(O.wa=Wa,Le(O.J,O.G,Wa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var ze=u;if(O.na=Jo(O,O.L?O.ba:null,O.W),ze.L){Cr(O.h,ze);var At=ze,Yn=O.O;Yn&&(At.H=Yn),At.D&&(zi(At),ji(At)),O.g=ze}else Zn(O);A.i.length>0&&nr(A)}else rn[0]!="stop"&&rn[0]!="close"||Or(A,7);else A.I==3&&(rn[0]=="stop"||rn[0]=="close"?rn[0]=="stop"?Or(A,7):To(A):rn[0]!="noop"&&A.l&&A.l.qa(rn),A.A=0)}}Sn(4)}catch{}}var On=class{constructor(u,y){this.g=u,this.map=y}};function sa(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ai(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function qn(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function va(u,y){u.g?u.g.add(y):u.h=y}function Cr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}sa.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _a(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ne(u.i)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fi(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const O=u[A].indexOf("=");let ae,me=null;O>=0?(ae=u[A].substring(0,O),me=u[A].substring(O+1)):ae=u[A],y(ae,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function J(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof J?(this.l=u.l,fe(this,u.j),this.o=u.o,this.g=u.g,Ae(this,u.u),this.h=u.h,Me(this,ba(u.i)),this.m=u.m):u&&(y=String(u).match(Ha))?(this.l=!1,fe(this,y[1]||"",!0),this.o=Ne(y[2]||""),this.g=Ne(y[3]||"",!0),Ae(this,y[4]),this.h=Ne(y[5]||"",!0),Me(this,y[6]||"",!0),this.m=Ne(y[7]||"")):(this.l=!1,this.i=new Gn(null,this.l))}J.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Pe(y,hn,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Pe(y,hn,!0),"@"),u.push(Qe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(Pe(A,A.charAt(0)=="/"?_n:Jn,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",Pe(A,di)),u.join("")},J.prototype.resolve=function(u){const y=ie(this);let A=!!u.j;A?fe(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var O=u.h;if(A)Ae(y,u.u);else if(A=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var ae=y.h.lastIndexOf("/");ae!=-1&&(O=y.h.slice(0,ae+1)+O)}if(ae=O,ae==".."||ae==".")O="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){O=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const me=[];for(let ze=0;ze<ae.length;){const At=ae[ze++];At=="."?O&&ze==ae.length&&me.push(""):At==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),O&&ze==ae.length&&me.push("")):(me.push(At),O=!0)}O=me.join("/")}else O=ae}return A?y.h=O:A=u.i.toString()!=="",A?Me(y,ba(u.i)):A=!!u.m,A&&(y.m=u.m),y};function ie(u){return new J(u)}function fe(u,y,A){u.j=A?Ne(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ae(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Me(u,y,A){y instanceof Gn?(u.i=y,wa(u.i,u.l)):(A||(y=Pe(y,jt)),u.i=new Gn(y,u.l))}function Le(u,y,A){u.i.set(y,A)}function ke(u){return Le(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ne(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pe(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,je),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function je(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hn=/[#\/\?@]/g,Jn=/[#\?:]/g,_n=/[#\?]/g,jt=/[#\?@]/g,di=/#/g;function Gn(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ai(u){u.g||(u.g=new Map,u.h=0,u.i&&Fi(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Gn.prototype,r.add=function(u,y){ai(this),this.i=null,u=xr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function cr(u,y){ai(u),y=xr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function qa(u,y){return ai(u),y=xr(u,y),u.g.has(y)}r.forEach=function(u,y){ai(this),this.g.forEach(function(A,O){A.forEach(function(ae){u.call(y,ae,O,this)},this)},this)};function Ir(u,y){ai(u);let A=[];if(typeof y=="string")qa(u,y)&&(A=A.concat(u.g.get(xr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ai(this),this.i=null,u=xr(this,u),qa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Ir(this,u),u.length>0?String(u[0]):y):y};function Ga(u,y,A){cr(u,y),A.length>0&&(u.i=null,u.g.set(xr(u,y),ne(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var A=y[O];const ae=Qe(A);A=Ir(this,A);for(let me=0;me<A.length;me++){let ze=ae;A[me]!==""&&(ze+="="+Qe(A[me])),u.push(ze)}}return this.i=u.join("&")};function ba(u){const y=new Gn;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function xr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function wa(u,y){y&&!u.j&&(ai(u),u.i=null,u.g.forEach(function(A,O){const ae=O.toLowerCase();O!=ae&&(cr(this,O),Ga(this,ae,A))},u)),u.j=y}function hr(u,y){const A=new jn;if(p.Image){const O=new Image;O.onload=x(fr,A,"TestLoadImage: loaded",!0,y,O),O.onerror=x(fr,A,"TestLoadImage: error",!1,y,O),O.onabort=x(fr,A,"TestLoadImage: abort",!1,y,O),O.ontimeout=x(fr,A,"TestLoadImage: timeout",!1,y,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function Is(u,y){const A=new jn,O=new AbortController,ae=setTimeout(()=>{O.abort(),fr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(me=>{clearTimeout(ae),me.ok?fr(A,"TestPingServer: ok",!0,y):fr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),fr(A,"TestPingServer: error",!1,y)})}function fr(u,y,A,O,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),O(A)}catch{}}function dr(){this.g=new K}function tr(u){this.i=u.Sb||null,this.h=u.ab||!1}L(tr,pe),tr.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,y){at.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(mr,at),r=mr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ri(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?pr(this):Ri(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},r.Na=function(u){this.g&&(this.response=u,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ri(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mi(u){let y="";return de(u,function(A,O){y+=O,y+=":",y+=A,y+=`\r
`}),y}function qr(u,y,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=mi(A),typeof u=="string"?A!=null&&Qe(A):Le(u,y,A))}function Nt(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(Nt,at);var Gr=/^https?$/i,Hi=["POST","PUT"];r=Nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rr.g(),this.g.onreadystatechange=q(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(me){la(this,me);return}if(u=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ae in O)A.set(ae,O[ae]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const me of O.keys())A.set(me,O.get(me));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),ae=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Hi,y,void 0)>=0)||O||ae||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,ze]of A)this.g.setRequestHeader(me,ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(me){la(this,me)}};function la(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ea(u),Mr(u)}function Ea(u){u.A||(u.A=!0,un(u,"complete"),un(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,un(this,"complete"),un(this,"abort"),Mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),Nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},r.Xa=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"){if(u.v&&Nr(u)==4)setTimeout(u.Ca.bind(u),0);else if(un(u,"readystatechange"),Nr(u)==4){u.h=!1;try{const me=u.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var O;if(O=me===0){let ze=String(u.D).match(Ha)[1]||null;!ze&&p.self&&p.self.location&&(ze=p.self.location.protocol.slice(0,-1)),O=!Gr.test(ze?ze.toLowerCase():"")}A=O}if(A)un(u,"complete"),un(u,"success");else{u.o=6;try{var ae=Nr(u)>2?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.ca()+"]",Ea(u)}}finally{Mr(u)}}}}function Mr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||un(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Nr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Nr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function pi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gr(u){const y={};u=(u.g&&Nr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(C(u[O]))continue;var A=Hr(u[O]);const ae=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=y[ae]||[];y[ae]=me,me.push(A)}xe(y,function(O){return O.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ta(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,u),this.Za=Yr("retryDelaySeedMs",1e4,u),this.Ta=Yr("forwardChannelMaxRetries",2,u),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sa(u&&u.concurrentRequestLimit),this.Ba=new dr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ta.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,O){Bt(0),this.W=u,this.H=y||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=Jo(this,null,this.W),nr(this)};function To(u){if(Ya(u),u.I==3){var y=u.V++,A=ie(u.J);if(Le(A,"SID",u.M),Le(A,"RID",y),Le(A,"TYPE","terminate"),Qa(u,A),y=new Li(u,u.j,y),y.M=2,y.A=ke(ie(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Zo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ji(y)}Ns(u)}function Dr(u){u.g&&(ir(u),u.g.cancel(),u.g=null)}function Ya(u){Dr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function nr(u){if(!Ai(u.h)&&!u.m){u.m=!0;var y=u.Ea;ht||U(),ot||(ht(),ot=!0),F.add(y,u),u.D=0}}function Xa(u,y){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Dn(E(u.Ea,u,y),Ms(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ae=new Li(this,this.j,u);let me=this.o;if(this.U&&(me?(me=P(me),Se(me,this.U)):me=this.U),this.u!==null||this.R||(ae.J=me,me=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Wo(this,ae,y),A=ie(this.J),Le(A,"RID",u),Le(A,"CVER",22),this.G&&Le(A,"X-HTTP-Session-Id",this.G),Qa(this,A),me&&(this.R?y="headers="+Qe(mi(me))+"&"+y:this.u&&qr(A,this.u,me)),va(this.h,ae),this.Ra&&Le(A,"TYPE","init"),this.S?(Le(A,"$req",y),Le(A,"SID","null"),ae.U=!0,Ui(ae,A,null)):Ui(ae,A,y),this.I=2}}else this.I==3&&(u?xs(this,u):this.i.length==0||Ai(this.h)||xs(this))};function xs(u,y){var A;y?A=y.l:A=u.V++;const O=ie(u.J);Le(O,"SID",u.M),Le(O,"RID",A),Le(O,"AID",u.K),Qa(u,O),u.u&&u.o&&qr(O,u.u,u.o),A=new Li(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Wo(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),va(u.h,A),Ui(A,O,y)}function Qa(u,y){u.H&&de(u.H,function(A,O){Le(y,O,A)}),u.l&&de({},function(A,O){Le(y,O,A)})}function Wo(u,y,A){A=Math.min(u.i.length,A);const O=u.l?E(u.l.Ka,u.l,u):null;e:{var ae=u.i;let At=-1;for(;;){const Yn=["count="+A];At==-1?A>0?(At=ae[0].g,Yn.push("ofs="+At)):At=0:Yn.push("ofs="+At);let rn=!0;for(let xn=0;xn<A;xn++){var me=ae[xn].g;const qi=ae[xn].map;if(me-=At,me<0)At=Math.max(0,ae[xn].g-100),rn=!1;else try{me="req"+me+"_"||"";try{var ze=qi instanceof Map?qi:Object.entries(qi);for(const[yr,vr]of ze){let rr=vr;b(vr)&&(rr=_(vr)),Yn.push(me+yr+"="+encodeURIComponent(rr))}}catch(yr){throw Yn.push(me+"type="+encodeURIComponent("_badmap")),yr}}catch{O&&O(qi)}}if(rn){ze=Yn.join("&");break e}}ze=void 0}return u=u.i.splice(0,A),y.G=u,ze}function Zn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ht||U(),ot||(ht(),ot=!0),F.add(y,u),u.A=0}}function Aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Dn(E(u.Da,u),Ms(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Dn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Dr(this),$o(this))};function ir(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function $o(u){u.g=new Li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=ie(u.na);Le(y,"RID","rpc"),Le(y,"SID",u.M),Le(y,"AID",u.K),Le(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Le(y,"TO",u.ia),Le(y,"TYPE","xmlhttp"),Qa(u,y),u.u&&u.o&&qr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=ke(ie(y)),A.u=null,A.R=!0,ur(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Aa(this),Bt(19))};function ca(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ka(u,y){var A=null;if(u.g==y){ca(u),ir(u),u.g=null;var O=2}else if(qn(u.h,y))A=y.G,Cr(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ae=u.D;O=Cn(),un(O,new In(O,A)),nr(u)}else Zn(u);else if(ae=y.m,ae==3||ae==0&&y.X>0||!(O==1&&Xa(u,y)||O==2&&Aa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ae){case 1:Or(u,5);break;case 4:Or(u,10);break;case 3:Or(u,6);break;default:Or(u,2)}}}function Ms(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Or(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),O=u.Ua;const ae=!O;O=new J(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||fe(O,"https"),ke(O),ae?hr(O.toString(),A):Is(O.toString(),A)}else Bt(2);u.I=0,u.l&&u.l.pa(y),Ns(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ns(u){if(u.I=0,u.ja=[],u.l){const y=_a(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,ne(u.i),u.i.length=0),u.l.oa()}}function Jo(u,y,A){var O=A instanceof J?ie(A):new J(A);if(O.g!="")y&&(O.g=y+"."+O.g),Ae(O,O.u);else{var ae=p.location;O=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;const me=new J(null);O&&fe(me,O),y&&(me.g=y),ae&&Ae(me,ae),A&&(me.h=A),O=me}return A=u.G,y=u.wa,A&&y&&Le(O,A,y),Le(O,"VER",u.ka),Qa(u,O),O}function Zo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Nt(new tr({ab:A})):new Nt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ds(){}r=Ds.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sa(){}Sa.prototype.g=function(u,y){return new Ci(u,y)};function Ci(u,y){at.call(this),this.g=new Ta(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ha(this)}L(Ci,at),Ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ci.prototype.close=function(){To(this.g)},Ci.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=_(u),u=A);y.i.push(new On(y.Ya++,u)),y.I==3&&nr(y)},Ci.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Ci.Z.N.call(this)};function Ao(u){tt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(Ao,tt);function el(){Xe.call(this),this.status=1}L(el,Xe);function ha(u){this.g=u}L(ha,Ds),ha.prototype.ra=function(){un(this.g,"a")},ha.prototype.qa=function(u){un(this.g,new Ao(u))},ha.prototype.pa=function(u){un(this.g,new el)},ha.prototype.oa=function(){un(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Ci.prototype.send=Ci.prototype.o,Ci.prototype.open=Ci.prototype.m,Ci.prototype.close=Ci.prototype.close,Xb=function(){return new Sa},Yb=function(){return Cn()},Gb=nt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,xh=Zi,Ba.COMPLETE="complete",qb=Ba,Te.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",at.prototype.listen=at.prototype.J,ju=Te,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,Hb=Nt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",X_="4.9.2";class Qi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Wl="12.3.0";const qo=new hp("@firebase/firestore");function Il(){return qo.logLevel}function rt(r,...e){if(qo.logLevel<=Qt.DEBUG){const i=e.map(Ep);qo.debug(`Firestore (${Wl}): ${r}`,...i)}}function As(r,...e){if(qo.logLevel<=Qt.ERROR){const i=e.map(Ep);qo.error(`Firestore (${Wl}): ${r}`,...i)}}function Bl(r,...e){if(qo.logLevel<=Qt.WARN){const i=e.map(Ep);qo.warn(`Firestore (${Wl}): ${r}`,...i)}}function Ep(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function wt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Qb(r,s,i)}function Qb(r,e,i){let s=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw As(s),new Error(s)}function vn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Qb(e,l,s)}function xt(r,e){return r}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Kb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qi.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NR{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){vn(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vn(typeof s.accessToken=="string",31837,{l:s}),new Kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new Qi(e)}}class DR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new DR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,na(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){vn(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(vn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Q_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=kR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Kt(r,e){return r<e?-1:r>e?1:0}function Hm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Sm(l)===Sm(c)?Kt(l,c):Sm(l)?1:-1}return Kt(r.length,e.length)}const PR=55296,LR=57343;function Sm(r){const e=r.charCodeAt(0);return e>=PR&&e<=LR}function Fl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const K_="__name__";class Oa{constructor(e,i,s){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&wt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Oa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Kt(e.length,i.length)}static compareSegments(e,i){const s=Oa.isNumericId(e),l=Oa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Oa.extractNumericId(e).compare(Oa.extractNumericId(i)):Hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class Mn extends Oa{construct(e,i,s){return new Mn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new et(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Mn(i)}static emptyPath(){return new Mn([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Oa{construct(e,i,s){return new Vi(e,i,s)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new Vi([K_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new et(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new et(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new et(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(i)}static emptyPath(){return new Vi([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Mn.fromString(e))}static fromName(e){return new pt(Mn.fromString(e).popFirst(5))}static empty(){return new pt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Mn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Mn(e.slice()))}}function Wb(r,e,i){if(!i)throw new et(Ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,i,s){if(e===!0&&s===!0)throw new et(Ee.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function W_(r){if(!pt.isDocumentKey(r))throw new et(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $_(r){if(pt.isDocumentKey(r))throw new et(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $b(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function Hh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new et(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=of(r);throw new et(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function zR(r,e){if(e<=0)throw new et(Ee.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function fi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!$b(r))throw new et(Ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new et(Ee.INVALID_ARGUMENT,i);return!0}const J_=-62135596800,Z_=1e6;class Ln{static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Z_);return new Ln(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new et(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<J_)throw new et(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ln._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,Ln._jsonSchema))return new Ln(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ln._jsonSchemaVersion="firestore/timestamp/1.0",Ln._jsonSchema={type:fi("string",Ln._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Ln(0,0))}static max(){return new Rt(new Ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wu=-1;function BR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new Ln(i+1,0):new Ln(i,s));return new go(l,pt.empty(),e)}function FR(r){return new go(r.readTime,r.key,Wu)}class go{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new go(Rt.min(),pt.empty(),Wu)}static max(){return new go(Rt.max(),pt.empty(),Wu)}}function HR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Kt(r.largestBatchId,e.largestBatchId))}const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $l(r){if(r.code!==Ee.FAILED_PRECONDITION||r.message!==qR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ce(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Ce?i:Ce.resolve(i)}catch(i){return Ce.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Ce.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Ce.reject(i)}static resolve(e){return new Ce(((i,s)=>{i(e)}))}static reject(e){return new Ce(((i,s)=>{s(e)}))}static waitFor(e){return new Ce(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Ce.resolve(!1);for(const s of e)i=i.next((l=>l?Ce.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Ce(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((x=>{p[E]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Ce(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function YR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(r){return r.name==="IndexedDbTransactionError"}class lf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lf.ce=-1;const Ap=-1;function uf(r){return r==null}function qh(r){return r===0&&1/r==-1/0}function XR(r){return typeof r=="number"&&Number.isInteger(r)&&!qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Jb="";function QR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=e0(e)),e=KR(r.get(i),e);return e0(e)}function KR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Jb:i+="";break;default:i+=c}}return i}function e0(r){return r+Jb+""}function t0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Zb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Xn{constructor(e,i){this.comparator=e,this.root=i||Oi.EMPTY}insert(e,i){return new Xn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Oi.RED,this.left=l??Oi.EMPTY,this.right=c??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Oi(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Oi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1;Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Oi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n0(this.data.getIterator())}getIteratorFrom(e){return new n0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new yi(this.comparator);return i.data=e,i}}class n0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ga{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new ga([])}unionWith(e){let i=new yi(Vi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ga(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ew("Invalid base64 string: "+c):c}})(e);return new ki(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new ki(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(r){if(vn(!!r,39018),typeof r=="string"){let e=0;const i=WR.exec(r);if(vn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ii(r.seconds),nanos:ii(r.nanos)}}function ii(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vo(r){return typeof r=="string"?ki.fromBase64String(r):ki.fromUint8Array(r)}const tw="server_timestamp",nw="__type__",iw="__previous_value__",rw="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[nw]?.stringValue===tw}function cf(r){const e=r.mapValue.fields[iw];return Sp(e)?cf(e):e}function $u(r){const e=yo(r.mapValue.fields[rw].timestampValue);return new Ln(e.seconds,e.nanos)}class $R{constructor(e,i,s,l,c,p,b,w,E,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=x}}const Gh="(default)";class Ju{constructor(e,i){this.projectId=e,this.database=i||Gh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const aw="__type__",JR="__max__",_h={mapValue:{}},sw="__vector__",Yh="value";function _o(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:eC(r)?9007199254740991:ZR(r)?10:11:wt(28295,{value:r})}function za(r,e){if(r===e)return!0;const i=_o(r);if(i!==_o(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=yo(l.timestampValue),b=yo(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return vo(l.bytesValue).isEqual(vo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ii(l.geoPointValue.latitude)===ii(c.geoPointValue.latitude)&&ii(l.geoPointValue.longitude)===ii(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ii(l.integerValue)===ii(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ii(l.doubleValue),b=ii(c.doubleValue);return p===b?qh(p)===qh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Fl(r.arrayValue.values||[],e.arrayValue.values||[],za);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(t0(p)!==t0(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!za(p[w],b[w])))return!1;return!0})(r,e);default:return wt(52216,{left:r})}}function Zu(r,e){return(r.values||[]).find((i=>za(i,e)))!==void 0}function Hl(r,e){if(r===e)return 0;const i=_o(r),s=_o(e);if(i!==s)return Kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ii(c.integerValue||c.doubleValue),w=ii(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return i0(r.timestampValue,e.timestampValue);case 4:return i0($u(r),$u(e));case 5:return Hm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=vo(c),w=vo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const x=Kt(b[E],w[E]);if(x!==0)return x}return Kt(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Kt(ii(c.latitude),ii(p.latitude));return b!==0?b:Kt(ii(c.longitude),ii(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return r0(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Yh]?.arrayValue,x=w[Yh]?.arrayValue,L=Kt(E?.values?.length||0,x?.values?.length||0);return L!==0?L:r0(E,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},x=Object.keys(E);w.sort(),x.sort();for(let L=0;L<w.length&&L<x.length;++L){const q=Hm(w[L],x[L]);if(q!==0)return q;const ne=Hl(b[w[L]],E[x[L]]);if(ne!==0)return ne}return Kt(w.length,x.length)})(r.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function i0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Kt(r,e);const i=yo(r),s=yo(e),l=Kt(i.seconds,s.seconds);return l!==0?l:Kt(i.nanos,s.nanos)}function r0(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Hl(i[l],s[l]);if(c)return c}return Kt(i.length,s.length)}function ql(r){return qm(r)}function qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=yo(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=qm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${qm(i.fields[p])}`;return l+"}"})(r.mapValue):wt(61005,{value:r})}function Mh(r){switch(_o(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+Mh(e):16;case 5:return 2*r.stringValue.length;case 6:return vo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Mh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Yo(s.fields,((c,p)=>{l+=c.length+Mh(p)})),l})(r.mapValue);default:throw wt(13486,{value:r})}}function a0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gm(r){return!!r&&"integerValue"in r}function Rp(r){return!!r&&"arrayValue"in r}function s0(r){return!!r&&"nullValue"in r}function o0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function ZR(r){return(r?.mapValue?.fields||{})[aw]?.stringValue===sw}function qu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=qu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=qu(r.arrayValue.values[i]);return e}return{...r}}function eC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}class ia{constructor(e){this.value=e}static empty(){return new ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Nh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(i)}setAll(e){let i=Vi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=qu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Nh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Yo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new ia(qu(this.value))}}function ow(r){const e=[];return Yo(r.fields,((i,s)=>{const l=new Vi([i]);if(Nh(s)){const c=ow(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ga(e)}class Ki{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Ki(e,0,Rt.min(),Rt.min(),Rt.min(),ia.empty(),0)}static newFoundDocument(e,i,s,l){return new Ki(e,1,i,Rt.min(),s,l,0)}static newNoDocument(e,i){return new Ki(e,2,i,Rt.min(),Rt.min(),ia.empty(),0)}static newUnknownDocument(e,i){return new Ki(e,3,i,Rt.min(),Rt.min(),ia.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,i){this.position=e,this.inclusive=i}}function l0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(p.referenceValue),i.key):s=Hl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function u0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!za(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function tC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class lw{}class hi extends lw{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new iC(e,i,s):i==="array-contains"?new sC(e,s):i==="in"?new oC(e,s):i==="not-in"?new lC(e,s):i==="array-contains-any"?new uC(e,s):new hi(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new rC(e,s):new aC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hl(i,this.value)):i!==null&&_o(this.value)===_o(i)&&this.matchesComparison(Hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ya extends lw{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ya(e,i)}matches(e){return uw(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uw(r){return r.op==="and"}function cw(r){return nC(r)&&uw(r)}function nC(r){for(const e of r.filters)if(e instanceof ya)return!1;return!0}function Ym(r){if(r instanceof hi)return r.field.canonicalString()+r.op.toString()+ql(r.value);if(cw(r))return r.filters.map((e=>Ym(e))).join(",");{const e=r.filters.map((i=>Ym(i))).join(",");return`${r.op}(${e})`}}function hw(r,e){return r instanceof hi?(function(s,l){return l instanceof hi&&s.op===l.op&&s.field.isEqual(l.field)&&za(s.value,l.value)})(r,e):r instanceof ya?(function(s,l){return l instanceof ya&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&hw(p,l.filters[b])),!0):!1})(r,e):void wt(19439)}function fw(r){return r instanceof hi?(function(i){return`${i.field.canonicalString()} ${i.op} ${ql(i.value)}`})(r):r instanceof ya?(function(i){return i.op.toString()+" {"+i.getFilters().map(fw).join(" ,")+"}"})(r):"Filter"}class iC extends hi{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class rC extends hi{constructor(e,i){super(e,"in",i),this.keys=dw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class aC extends hi{constructor(e,i){super(e,"not-in",i),this.keys=dw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function dw(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class sC extends hi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rp(i)&&Zu(i.arrayValue,this.value)}}class oC extends hi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zu(this.value.arrayValue,i)}}class lC extends hi{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zu(this.value.arrayValue,i)}}class uC extends hi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class cC{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function c0(r,e=null,i=[],s=[],l=null,c=null,p=null){return new cC(r,e,i,s,l,c,p)}function Cp(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ym(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),uf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ql(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ql(s))).join(",")),e.Te=i}return e.Te}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!tC(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!hw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u0(r.startAt,e.startAt)&&u0(r.endAt,e.endAt)}function Xm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hC(r,e,i,s,l,c,p,b){return new Zl(r,e,i,s,l,c,p,b)}function mw(r){return new Zl(r)}function h0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pw(r){return r.collectionGroup!==null}function Gu(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new yi(Vi.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,s))})),i.has(Vi.keyField().canonicalString())||e.Ie.push(new ec(Vi.keyField(),s))}return e.Ie}function Pa(r){const e=xt(r);return e.Ee||(e.Ee=fC(e,Gu(r))),e.Ee}function fC(r,e){if(r.limitType==="F")return c0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const i=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return c0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Qm(r,e){const i=r.filters.concat([e]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qh(r,e,i){return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function hf(r,e){return Ip(Pa(r),Pa(e))&&r.limitType===e.limitType}function gw(r){return`${Cp(Pa(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>fw(l))).join(", ")}]`),uf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ql(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ql(l))).join(",")),`Target(${s})`})(Pa(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Gu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=l0(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Gu(s),l)||s.endAt&&!(function(p,b,w){const E=l0(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Gu(s),l))})(r,e)}function dC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yw(r){return(e,i)=>{let s=!1;for(const l of Gu(r)){const c=mC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function mC(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Hl(w,E):wt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}class Xo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const pC=new Xn(pt.comparator);function Ss(){return pC}const vw=new Xn(pt.comparator);function zu(...r){let e=vw;for(const i of r)e=e.insert(i.key,i);return e}function _w(r){let e=vw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function zo(){return Yu()}function bw(){return Yu()}function Yu(){return new Xo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gC=new Xn(pt.comparator),yC=new yi(pt.comparator);function Wt(...r){let e=yC;for(const i of r)e=e.add(i);return e}const vC=new yi(Kt);function _C(){return vC}function xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function ww(r){return{integerValue:""+r}}function bC(r,e){return XR(e)?ww(e):xp(r,e)}class df{constructor(){this._=void 0}}function wC(r,e,i){return r instanceof Kh?(function(l,c){const p={fields:{[nw]:{stringValue:tw},[rw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sp(c)&&(c=cf(c)),c&&(p.fields[iw]=c),{mapValue:p}})(i,e):r instanceof tc?Tw(r,e):r instanceof nc?Aw(r,e):(function(l,c){const p=Ew(l,c),b=f0(p)+f0(l.Ae);return Gm(p)&&Gm(l.Ae)?ww(b):xp(l.serializer,b)})(r,e)}function EC(r,e,i){return r instanceof tc?Tw(r,e):r instanceof nc?Aw(r,e):i}function Ew(r,e){return r instanceof Wh?(function(s){return Gm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Kh extends df{}class tc extends df{constructor(e){super(),this.elements=e}}function Tw(r,e){const i=Sw(e);for(const s of r.elements)i.some((l=>za(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends df{constructor(e){super(),this.elements=e}}function Aw(r,e){let i=Sw(e);for(const s of r.elements)i=i.filter((l=>!za(l,s)));return{arrayValue:{values:i}}}class Wh extends df{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f0(r){return ii(r.integerValue||r.doubleValue)}function Sw(r){return Rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Fl(s.elements,l.elements,za):s instanceof Wh&&l instanceof Wh?za(s.Ae,l.Ae):s instanceof Kh&&l instanceof Kh})(r.transform,e.transform)}class AC{constructor(e,i){this.version=e,this.transformResults=i}}class _s{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function Rw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Iw(r.key,_s.none()):new hc(r.key,r.data,_s.none());{const i=r.data,s=ia.empty();let l=new yi(Vi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Qo(r.key,s,new ga(l.toArray()),_s.none())}}function SC(r,e,i){r instanceof hc?(function(l,c,p){const b=l.value.clone(),w=m0(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Qo?(function(l,c,p){if(!Dh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=m0(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(Cw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Xu(r,e,i,s){return r instanceof hc?(function(c,p,b,w){if(!Dh(c.precondition,p))return b;const E=c.value.clone(),x=p0(c.fieldTransforms,w,p);return E.setAll(x),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Qo?(function(c,p,b,w){if(!Dh(c.precondition,p))return b;const E=p0(c.fieldTransforms,w,p),x=p.data;return x.setAll(Cw(c)),x.setAll(E),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,s):(function(c,p,b){return Dh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function RC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=Ew(s.transform,l||null);c!=null&&(i===null&&(i=ia.empty()),i.set(s.field,c))}return i||null}function d0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fl(s,l,((c,p)=>TC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends mf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends mf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Cw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function m0(r,e,i){const s=new Map;vn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,EC(p,b,i[l]))}return s}function p0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,wC(c,p,e))}return s}class Iw extends mf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends mf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&SC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=bw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=Rw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Wt())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((i,s)=>d0(i,s)))&&Fl(this.baseMutations,e.baseMutations,((i,s)=>d0(i,s)))}}class Mp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){vn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return gC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Mp(e,i,s,l)}}class xC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MC{constructor(e,i){this.count=e,this.unchangedNames=i}}var ci,tn;function NC(r){switch(r){case Ee.OK:return wt(64938);case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function xw(r){if(r===void 0)return As("GRPC error has no .code"),Ee.UNKNOWN;switch(r){case ci.OK:return Ee.OK;case ci.CANCELLED:return Ee.CANCELLED;case ci.UNKNOWN:return Ee.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Ee.INTERNAL;case ci.UNAVAILABLE:return Ee.UNAVAILABLE;case ci.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case ci.NOT_FOUND:return Ee.NOT_FOUND;case ci.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case ci.ABORTED:return Ee.ABORTED;case ci.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case ci.DATA_LOSS:return Ee.DATA_LOSS;default:return wt(39323,{code:r})}}(tn=ci||(ci={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";function DC(){return new TextEncoder}const OC=new fo([4294967295,4294967295],0);function g0(r){const e=DC().encode(r),i=new Fb;return i.update(e),new Uint8Array(i.digest())}function y0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fo([i,s],0),new fo([l,c],0)]}class Np{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bu(`Invalid padding: ${i}`);if(s<0)throw new Bu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fo.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(fo.fromNumber(s)));return l.compare(OC)===1&&(l=new fo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g0(e),[s,l]=y0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Np(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=g0(e),[s,l]=y0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new pf(Rt.min(),l,new Xn(Kt),Ss(),Wt())}}class fc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fc(s,i,Wt(),Wt(),Wt())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Mw{constructor(e,i){this.targetId=e,this.Ce=i}}class Nw{constructor(e,i,s=ki.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class v0{constructor(){this.ve=0,this.Fe=_0(),this.Me=ki.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Wt(),i=Wt(),s=Wt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:wt(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=_0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new Xn(Kt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Xm(c))if(s===0){const p=new pt(c.path);this.et(i,p,Ki.newNoDocument(p,Rt.min()))}else vn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=vo(s).toUint8Array()}catch(w){if(w instanceof ew)return Bl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new Np(p,l,c)}catch(w){return Bl(w instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Xm(b.target)){const w=new pt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Ki.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=Wt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new pf(e,i,this.Ye,this.je,s);return this.je=Ss(),this.Je=bh(),this.He=bh(),this.Ye=new Xn(Kt),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new v0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new yi(Kt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new yi(Kt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new Xn(pt.comparator)}function _0(){return new Xn(pt.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LC={and:"AND",or:"OR"};class UC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Km(r,e){return r.useProto3Json||uf(e)?e:{value:e}}function $h(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jC(r,e){return $h(r,e.toTimestamp())}function La(r){return vn(!!r,49232),Rt.fromTimestamp((function(i){const s=yo(i);return new Ln(s.seconds,s.nanos)})(r))}function Dp(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const i=(function(l){return new Mn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Ow(r){const e=Mn.fromString(r);return vn(Uw(e),10190,{key:e.toString()}),e}function $m(r,e){return Dp(r.databaseId,e.path)}function Rm(r,e){const i=Ow(e);if(i.get(1)!==r.databaseId.projectId)throw new et(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new et(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(kw(i))}function Vw(r,e){return Dp(r.databaseId,e)}function zC(r){const e=Ow(r);return e.length===4?Mn.emptyPath():kw(e)}function Jm(r){return new Mn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kw(r){return vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b0(r,e,i){return{name:$m(r,e),fields:i.value.mapValue.fields}}function BC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:wt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,x){return E.useProto3Json?(vn(x===void 0||typeof x=="string",58123),ki.fromBase64String(x||"")):(vn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),ki.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const x=E.code===void 0?Ee.UNKNOWN:xw(E.code);return new et(x,E.message||"")})(p);i=new Nw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Rm(r,s.document.name),c=La(s.document.updateTime),p=s.document.createTime?La(s.document.createTime):Rt.min(),b=new ia({mapValue:{fields:s.document.fields}}),w=Ki.newFoundDocument(l,c,p,b),E=s.targetIds||[],x=s.removedTargetIds||[];i=new Oh(E,x,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Rm(r,s.document),c=s.readTime?La(s.readTime):Rt.min(),p=Ki.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Rm(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new MC(l,c),b=s.targetId;i=new Mw(b,p)}}return i}function FC(r,e){let i;if(e instanceof hc)i={update:b0(r,e.key,e.value)};else if(e instanceof Iw)i={delete:$m(r,e.key)};else if(e instanceof Qo)i={update:b0(r,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof CC))return wt(16599,{Vt:e.type});i={verify:$m(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Kh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Wh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw wt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(r,e.precondition)),i}function HC(r,e){return r&&r.length>0?(vn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?La(l.updateTime):La(c);return p.isEqual(Rt.min())&&(p=La(c)),new AC(p,l.transformResults||[])})(i,e)))):[]}function qC(r,e){return{documents:[Vw(r,e.path)]}}function GC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Vw(r,l);const c=(function(E){if(E.length!==0)return Lw(ya.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((x=>(function(q){return{field:Ml(q.field),direction:QC(q.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Km(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function YC(r){let e=zC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){vn(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(L){const q=Pw(L);return q instanceof ya&&cw(q)?q.getFilters():[q]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((q=>(function(z){return new ec(Nl(z.field),(function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(q)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let q;return q=typeof L=="object"?L.value:L,uf(q)?null:q})(i.limit));let w=null;i.startAt&&(w=(function(L){const q=!!L.before,ne=L.values||[];return new Xh(ne,q)})(i.startAt));let E=null;return i.endAt&&(E=(function(L){const q=!L.before,ne=L.values||[];return new Xh(ne,q)})(i.endAt)),hC(e,l,p,c,b,"F",w,E)}function XC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Pw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Nl(i.unaryFilter.field);return hi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Nl(i.unaryFilter.field);return hi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Nl(i.unaryFilter.field);return hi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Nl(i.unaryFilter.field);return hi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return hi.create(Nl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ya.create(i.compositeFilter.filters.map((s=>Pw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(r):wt(30097,{filter:r})}function QC(r){return kC[r]}function KC(r){return PC[r]}function WC(r){return LC[r]}function Ml(r){return{fieldPath:r.canonicalString()}}function Nl(r){return Vi.fromServerFormat(r.fieldPath)}function Lw(r){return r instanceof hi?(function(i){if(i.op==="=="){if(o0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NAN"}};if(s0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(o0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NOT_NAN"}};if(s0(i.value))return{unaryFilter:{field:Ml(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(i.field),op:KC(i.op),value:i.value}}})(r):r instanceof ya?(function(i){const s=i.getFilters().map((l=>Lw(l)));return s.length===1?s[0]:{compositeFilter:{op:WC(i.op),filters:s}}})(r):wt(54877,{filter:r})}function $C(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Uw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class lo{constructor(e,i,s,l,c=Rt.min(),p=Rt.min(),b=ki.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JC{constructor(e){this.yt=e}}function ZC(r){const e=YC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qh(e,e.limit,"L"):e}class eI{constructor(){this.Cn=new tI}addToCollectionParentIndex(e,i){return this.Cn.add(i),Ce.resolve()}getCollectionParents(e,i){return Ce.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Ce.resolve()}deleteFieldIndex(e,i){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,i){return Ce.resolve()}getDocumentsMatchingTarget(e,i){return Ce.resolve(null)}getIndexType(e,i){return Ce.resolve(0)}getFieldIndexes(e,i){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,i){return Ce.resolve(go.min())}getMinOffsetFromCollectionGroup(e,i){return Ce.resolve(go.min())}updateCollectionGroup(e,i,s){return Ce.resolve()}updateIndexEntries(e,i){return Ce.resolve()}}class tI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new yi(Mn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new yi(Mn.comparator)).toArray()}}const w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(jw,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}const E0="LruGarbageCollector",nI=1048576;function T0([r,e],[i,s]){const l=Kt(r,i);return l===0?Kt(e,s):l}class iI{constructor(e){this.Ir=e,this.buffer=new yi(T0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(E0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jl(i)?rt(E0,"Ignoring IndexedDB error during garbage collection: ",i):await $l(i)}await this.Vr(3e5)}))}}class aI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Ce.resolve(lf.ce);const s=new iI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(w0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(s=L,b=Date.now(),this.removeTargets(e,s,i)))).next((L=>(c=L,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((L=>(E=Date.now(),Il()<=Qt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${L} documents in `+(E-w)+`ms
Total Duration: ${E-x}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function sI(r,e){return new aI(r,e)}class oI{constructor(){this.changes=new Xo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ki.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Ce.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class uI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Xu(s.mutation,l,ga.empty(),Ln.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Wt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Wt()){const l=zo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=zu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=zo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Wt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ss();const p=Yu(),b=(function(){return Yu()})();return i.forEach(((w,E)=>{const x=s.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof Qo)?c=c.insert(E.key,E):x!==void 0?(p.set(E.key,x.mutation.getFieldMask()),Xu(x.mutation,E,x.mutation.getFieldMask(),Ln.now())):p.set(E.key,ga.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,x)=>p.set(E,x))),i.forEach(((E,x)=>b.set(E,new lI(x,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Yu();let l=new Xn(((p,b)=>p-b)),c=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let x=s.get(w)||ga.empty();x=b.applyToLocalView(E,x),s.set(w,x);const L=(l.get(b.batchId)||Wt()).add(w);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,x=w.value,L=bw();x.forEach((q=>{if(!c.has(q)){const ne=Rw(i.get(q),s.get(q));ne!==null&&L.set(q,ne),c=c.add(q)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return Ce.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return pt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Ce.resolve(zo());let b=Wu,w=c;return p.next((E=>Ce.forEach(E,((x,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(x)?Ce.resolve():this.remoteDocumentCache.getEntry(e,x).next((q=>{w=w.insert(x,q)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Wt()))).next((x=>({batchId:b,changes:_w(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let l=zu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=zu();return this.indexManager.getCollectionParents(e,c).next((b=>Ce.forEach(b,(w=>{const E=(function(L,q){return new Zl(q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((x=>{x.forEach(((L,q)=>{p=p.insert(L,q)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const x=E.getKey();p.get(x)===null&&(p=p.insert(x,Ki.newInvalidDocument(x)))}));let b=zu();return p.forEach(((w,E)=>{const x=c.get(w);x!==void 0&&Xu(x.mutation,E,ga.empty(),Ln.now()),ff(i,E)&&(b=b.insert(w,E))})),b}))}}class cI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Ce.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:La(l.createTime)}})(i)),Ce.resolve()}getNamedQuery(e,i){return Ce.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:ZC(l.bundledQuery),readTime:La(l.readTime)}})(i)),Ce.resolve()}}class hI{constructor(){this.overlays=new Xn(pt.comparator),this.qr=new Map}getOverlay(e,i){return Ce.resolve(this.overlays.get(i))}getOverlays(e,i){const s=zo();return Ce.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Ce.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ce.resolve()}getOverlaysForCollection(e,i,s){const l=zo(),c=i.length+1,p=new pt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Ce.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Xn(((E,x)=>E-x));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let x=c.get(E.largestBatchId);x===null&&(x=zo(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const b=zo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,x)=>b.set(E,x))),!(b.size()>=l)););return Ce.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new xC(i,s));let c=this.qr.get(i);c===void 0&&(c=Wt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class fI{constructor(){this.sessionToken=ki.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Ce.resolve()}}class Op{constructor(){this.Qr=new yi(bi.$r),this.Ur=new yi(bi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new bi(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new bi(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new Mn([])),s=new bi(i,e),l=new bi(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new Mn([])),s=new bi(i,e),l=new bi(i,e+1);let c=Wt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new bi(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class bi{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Kt(e.Yr,i.Yr)}static Kr(e,i){return Kt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}class dI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new yi(bi.$r)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new IC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new bi(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ce.resolve(p)}lookupMutationBatch(e,i){return Ce.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new bi(i,0),l=new bi(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new yi(Kt);return i.forEach((l=>{const c=new bi(l,0),p=new bi(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Ce.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const p=new bi(new pt(c),0);let b=new yi(Kt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Ce.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){vn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ce.forEach(i.mutations,(l=>{const c=new bi(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new bi(i,0),l=this.Zr.firstAfterOrEqual(s);return Ce.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mI{constructor(e){this.ri=e,this.docs=(function(){return new Xn(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Ce.resolve(s?s.document.mutableCopy():Ki.newInvalidDocument(i))}getEntries(e,i){let s=Ss();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ki.newInvalidDocument(l))})),Ce.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ss();const p=i.path,b=new pt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:x}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||HR(FR(x),s)<=0||(l.has(x.key)||ff(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Ce.resolve(c)}getAllFromCollectionGroup(e,i,s,l){wt(9500)}ii(e,i){return Ce.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new pI(this)}getSize(e){return Ce.resolve(this.size)}}class pI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ce.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gI{constructor(e){this.persistence=e,this.si=new Xo((i=>Cp(i)),Ip),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Ce.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Gl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Ce.resolve()}updateTargetData(e,i){return this.Pr(i),Ce.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ce.waitFor(c).next((()=>l))}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Ce.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Ce.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ce.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Ce.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Ce.resolve(s)}containsKey(e,i){return Ce.resolve(this._i.containsKey(i))}}class zw{constructor(e,i){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=e(this),this.Pi=new gI(this),this.indexManager=new eI,this.remoteDocumentCache=(function(l){return new mI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new JC(i),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new dI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const l=new yI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Ce.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class yI extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Ce.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Ce.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Ce.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,(s=>{const l=pt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Jh{constructor(e,i){this.persistence=e,this.pi=new Xo((s=>QR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=sI(this,i)}static mi(e,i){return new Jh(e,i)}Ei(){}di(e){return Ce.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Ce.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Ce.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,Rt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ce.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Ce.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mh(e.data.value)),i}br(e,i,s){return Ce.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Ce.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Wt(),l=Wt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new kp(e,i.fromCache,s,l)}}class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oA()?8:YR(Wi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new vI;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Il()<=Qt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",xl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(Il()<=Qt.DEBUG&&rt("QueryEngine","Query:",xl(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Il()<=Qt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",xl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(i))):Ce.resolve())}ys(e,i){if(h0(i))return Ce.resolve(null);let s=Pa(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qh(i,null,"F"),s=Pa(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=Wt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Qh(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return h0(i)||l.isEqual(Rt.min())?Ce.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Ce.resolve(null):(Il()<=Qt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xl(i)),this.vs(e,p,i,BR(l,Wu)).next((b=>b)))}))}Ds(e,i){let s=new yi(yw(e));return i.forEach(((l,c)=>{ff(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Il()<=Qt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",xl(i)),this.ps.getDocumentsMatchingQuery(e,i,go.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Pp="LocalStore",bI=3e8;class wI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Xn(Kt),this.xs=new Xo((c=>Cp(c)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function EI(r,e,i,s){return new wI(r,e,i,s)}async function Bw(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=Wt();for(const E of l){p.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}for(const E of c){b.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function TI(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,x){const L=E.batch,q=L.keys();let ne=Ce.resolve();return q.forEach((z=>{ne=ne.next((()=>x.getEntry(w,z))).next((Oe=>{const Re=E.docVersions.get(z);vn(Re!==null,48541),Oe.version.compareTo(Re)<0&&(L.applyToRemoteDocument(Oe,E),Oe.isValidDocument()&&(Oe.setReadTime(E.commitVersion),x.addEntry(Oe)))}))})),ne.next((()=>b.mutationQueue.removeMutationBatch(w,L)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=Wt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Fw(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function AI(r,e){const i=xt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,L)=>{const q=l.get(L);if(!q)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,L))));let ne=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?ne=ne.withResumeToken(ki.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):x.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(x.resumeToken,s)),l=l.insert(L,ne),(function(Oe,Re,Ue){return Oe.resumeToken.approximateByteSize()===0||Re.snapshotVersion.toMicroseconds()-Oe.snapshotVersion.toMicroseconds()>=bI?!0:Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0})(q,ne,x)&&b.push(i.Pi.updateTargetData(c,ne))}));let w=Ss(),E=Wt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(SI(c,p,e.documentUpdates).next((x=>{w=x.ks,E=x.qs}))),!s.isEqual(Rt.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return Ce.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function SI(r,e,i){let s=Wt(),l=Wt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ss();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Rt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):rt(Pp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function RI(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ap),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CI(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Ce.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new lo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Zm(r,e,i){const s=xt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Jl(p))throw p;rt(Pp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function A0(r,e,i){const s=xt(r);let l=Rt.min(),c=Wt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,x){const L=xt(w),q=L.xs.get(x);return q!==void 0?Ce.resolve(L.Ms.get(q)):L.Pi.getTargetData(E,x)})(s,p,Pa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:Rt.min(),i?c:Wt()))).next((b=>(II(s,dC(e),b),{documents:b,Qs:c})))))}function II(r,e,i){let s=r.Os.get(e)||Rt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class S0{constructor(){this.activeTargetIds=_C()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(){this.Mo=new S0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MI{Oo(e){}shutdown(){}}const R0="ConnectivityMonitor";class C0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(R0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(R0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function ep(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const Cm="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=ep(),b=this.zo(e,i.toUriEncodedString());rt(Cm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),x=Xl(E);return this.Jo(e,b,w,s,x).then((L=>(rt(Cm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw Bl(Cm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",s),L}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=NI[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class OI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xi="WebChannelConnection";class VI extends DI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=ep();return new Promise(((b,w)=>{const E=new Hb;E.setWithCredentials(!0),E.listenOnce(qb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case xh.NO_ERROR:const L=E.getResponseJson();rt(Xi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case xh.TIMEOUT:rt(Xi,`RPC '${e}' ${p} timed out`),w(new et(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const q=E.getStatus();if(rt(Xi,`RPC '${e}' ${p} failed with status:`,q,"response text:",E.getResponseText()),q>0){let ne=E.getResponseJson();Array.isArray(ne)&&(ne=ne[0]);const z=ne?.error;if(z&&z.status&&z.message){const Oe=(function(Ue){const He=Ue.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(He)>=0?He:Ee.UNKNOWN})(z.status);w(new et(Oe,z.message))}else w(new et(Ee.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new et(Ee.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{rt(Xi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);rt(Xi,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=ep(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Xb(),b=Yb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const x=c.join("");rt(Xi,`Creating RPC '${e}' stream ${l}: ${x}`,w);const L=p.createWebChannel(x,w);this.I_(L);let q=!1,ne=!1;const z=new OI({Yo:Re=>{ne?rt(Xi,`Not sending because RPC '${e}' stream ${l} is closed:`,Re):(q||(rt(Xi,`Opening RPC '${e}' stream ${l} transport.`),L.open(),q=!0),rt(Xi,`RPC '${e}' stream ${l} sending:`,Re),L.send(Re))},Zo:()=>L.close()}),Oe=(Re,Ue,He)=>{Re.listen(Ue,(Ge=>{try{He(Ge)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return Oe(L,ju.EventType.OPEN,(()=>{ne||(rt(Xi,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),Oe(L,ju.EventType.CLOSE,(()=>{ne||(ne=!0,rt(Xi,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(L))})),Oe(L,ju.EventType.ERROR,(Re=>{ne||(ne=!0,Bl(Xi,`RPC '${e}' stream ${l} transport errored. Name:`,Re.name,"Message:",Re.message),z.a_(new et(Ee.UNAVAILABLE,"The operation could not be completed")))})),Oe(L,ju.EventType.MESSAGE,(Re=>{if(!ne){const Ue=Re.data[0];vn(!!Ue,16349);const He=Ue,Ge=He?.error||He[0]?.error;if(Ge){rt(Xi,`RPC '${e}' stream ${l} received error:`,Ge);const Ke=Ge.status;let ht=(function(U){const V=ci[U];if(V!==void 0)return xw(V)})(Ke),ot=Ge.message;ht===void 0&&(ht=Ee.INTERNAL,ot="Unknown error status: "+Ke+" with message "+Ge.message),ne=!0,z.a_(new et(ht,ot)),L.close()}else rt(Xi,`RPC '${e}' stream ${l} received:`,Ue),z.u_(Ue)}})),Oe(b,Gb.STAT_EVENT,(Re=>{Re.stat===Fm.PROXY?rt(Xi,`RPC '${e}' stream ${l} detected buffering proxy`):Re.stat===Fm.NOPROXY&&rt(Xi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Im(){return typeof document<"u"?document:null}function gf(r){return new UC(r,!0)}class Hw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const I0="PersistentStream";class qw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ee.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new et(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(I0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(I0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kI extends qw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Rt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rt.min():p.readTime?La(p.readTime):Rt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Jm(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Xm(w)?{documents:qC(c,w)}:{query:GC(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Dw(c,p.resumeToken);const E=Km(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Rt.min())>0){b.readTime=$h(c,p.snapshotVersion.toTimestamp());const E=Km(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=XC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Jm(this.serializer),i.removeTarget=e,this.q_(i)}}class PI extends qw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=HC(e.writeResults,e.commitTime),s=La(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Jm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>FC(this.serializer,s)))};this.q_(i)}}class LI{}class UI extends LI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Wm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Ee.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Wm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Ee.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Go="RemoteStore";class zI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Ko(this)&&(rt(Go,"Restarting streams for network reachability change."),await(async function(w){const E=xt(w);E.Ea.add(4),await dc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await yf(E)})(this))}))})),this.Ra=new jI(s,l)}}async function yf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function dc(r){for(const e of r.da)await e(!1)}function Gw(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zp(i)?jp(i):eu(i).O_()&&Up(i,e))}function Lp(r,e){const i=xt(r),s=eu(i);i.Ia.delete(e),s.O_()&&Yw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ko(i)&&i.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eu(r).Y_(e)}function Yw(r,e){r.Va.Ue(e),eu(r).Z_(e)}function jp(r){r.Va=new VC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),eu(r).start(),r.Ra.ua()}function zp(r){return Ko(r)&&!eu(r).x_()&&r.Ia.size>0}function Ko(r){return xt(r).Ea.size===0}function Xw(r){r.Va=void 0}async function BI(r){r.Ra.set("Online")}async function FI(r){r.Ia.forEach(((e,i)=>{Up(r,e)}))}async function HI(r,e){Xw(r),zp(r)?(r.Ra.ha(e),jp(r)):r.Ra.set("Unknown")}async function qI(r,e,i){if(r.Ra.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){rt(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof Mw?r.Va.st(e):r.Va.tt(e),!i.isEqual(Rt.min()))try{const s=await Fw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const x=c.Ia.get(E);x&&c.Ia.set(E,x.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const x=c.Ia.get(w);if(!x)return;c.Ia.set(w,x.withResumeToken(ki.EMPTY_BYTE_STRING,x.snapshotVersion)),Yw(c,w);const L=new lo(x.target,w,E,x.sequenceNumber);Up(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){rt(Go,"Failed to raise snapshot:",s),await Zh(r,s)}}async function Zh(r,e,i){if(!Jl(e))throw e;r.Ea.add(1),await dc(r),r.Ra.set("Offline"),i||(i=()=>Fw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Go,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await yf(r)}))}function Qw(r,e){return e().catch((i=>Zh(r,i,e)))}async function vf(r){const e=xt(r),i=bo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;GI(e);)try{const l=await RI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,YI(e,l)}catch(l){await Zh(e,l)}Kw(e)&&Ww(e)}function GI(r){return Ko(r)&&r.Ta.length<10}function YI(r,e){r.Ta.push(e);const i=bo(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Kw(r){return Ko(r)&&!bo(r).x_()&&r.Ta.length>0}function Ww(r){bo(r).start()}async function XI(r){bo(r).ra()}async function QI(r){const e=bo(r);for(const i of r.Ta)e.ea(i.mutations)}async function KI(r,e,i){const s=r.Ta.shift(),l=Mp.from(s,e,i);await Qw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vf(r)}async function WI(r,e){e&&bo(r).X_&&await(async function(s,l){if((function(p){return NC(p)&&p!==Ee.ABORTED})(l.code)){const c=s.Ta.shift();bo(s).B_(),await Qw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vf(s)}})(r,e),Kw(r)&&Ww(r)}async function x0(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),rt(Go,"RemoteStore received new credentials");const s=Ko(i);i.Ea.add(3),await dc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await yf(i)}async function $I(r,e){const i=xt(r);e?(i.Ea.delete(2),await yf(i)):e||(i.Ea.add(2),await dc(i),i.Ra.set("Unknown"))}function eu(r){return r.ma||(r.ma=(function(i,s,l){const c=xt(i);return c.sa(),new kI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:BI.bind(null,r),t_:FI.bind(null,r),r_:HI.bind(null,r),H_:qI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Xw(r))}))),r.ma}function bo(r){return r.fa||(r.fa=(function(i,s,l){const c=xt(i);return c.sa(),new PI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XI.bind(null,r),r_:WI.bind(null,r),ta:QI.bind(null,r),na:KI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await vf(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Go,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new Bp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(As("AsyncQueue",`${e}: ${r}`),Jl(r))return new et(Ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=zu(),this.sortedSet=new Xn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class M0{constructor(){this.ga=new Xn(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Yl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Yl(e,i,Ll.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZI{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=xt(i),c=l.queries;l.queries=N0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new et(Ee.ABORTED,"Firestore shutting down"))}}function N0(){return new Xo((r=>gw(r)),hf)}async function ex(r,e){const i=xt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new JI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Fp(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Hp(i)}async function tx(r,e){const i=xt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function nx(r,e){const i=xt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Hp(i)}function ix(r,e,i){const s=xt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var tp,D0;(D0=tp||(tp={})).Ma="default",D0.Cache="cache";class rx{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}class $w{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class ax{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wt(),this.mutatedKeys=Wt(),this.eu=yw(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new M0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,L)=>{const q=l.get(x),ne=ff(this.query,L)?L:null,z=!!q&&this.mutatedKeys.has(q.key),Oe=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let Re=!1;q&&ne?q.data.isEqual(ne.data)?z!==Oe&&(s.track({type:3,doc:ne}),Re=!0):this.su(q,ne)||(s.track({type:2,doc:ne}),Re=!0,(w&&this.eu(ne,w)>0||E&&this.eu(ne,E)<0)&&(b=!0)):!q&&ne?(s.track({type:0,doc:ne}),Re=!0):q&&!ne&&(s.track({type:1,doc:q}),Re=!0,(w||E)&&(b=!0)),Re&&(ne?(p=p.add(ne),c=Oe?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,L)=>(function(ne,z){const Oe=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:Re})}};return Oe(ne)-Oe(z)})(x.type,L.type)||this.eu(x.doc,L.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Yl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Wt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Jw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new $w(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Wt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class sx{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class ox{constructor(e){this.key=e,this.hu=!1}}class lx{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Xo((b=>gw(b)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new Xn(pt.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ux(r,e,i=!0){const s=r1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Zw(s,e,i,!0),l}async function cx(r,e){const i=r1(r);await Zw(i,e,!0,!1)}async function Zw(r,e,i,s){const l=await CI(r.localStore,Pa(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await hx(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Gw(r.remoteStore,l),b}async function hx(r,e,i,s,l){r.pu=(L,q,ne)=>(async function(Oe,Re,Ue,He){let Ge=Re.view.ru(Ue);Ge.Cs&&(Ge=await A0(Oe.localStore,Re.query,!1).then((({documents:F})=>Re.view.ru(F,Ge))));const Ke=He&&He.targetChanges.get(Re.targetId),ht=He&&He.targetMismatches.get(Re.targetId)!=null,ot=Re.view.applyChanges(Ge,Oe.isPrimaryClient,Ke,ht);return V0(Oe,Re.targetId,ot.au),ot.snapshot})(r,L,q,ne);const c=await A0(r.localStore,e,!0),p=new ax(e,c.Qs),b=p.ru(c.documents),w=fc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);V0(r,i,E.au);const x=new sx(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function fx(r,e,i){const s=xt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!hf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Zm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Lp(s.remoteStore,l.targetId),np(s,l.targetId)})).catch($l)):(np(s,l.targetId),await Zm(s.localStore,l.targetId,!0))}async function dx(r,e){const i=xt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(i.remoteStore,s.targetId))}async function mx(r,e,i){const s=wx(r);try{const l=await(function(p,b){const w=xt(p),E=Ln.now(),x=b.reduce(((ne,z)=>ne.add(z.key)),Wt());let L,q;return w.persistence.runTransaction("Locally write mutations","readwrite",(ne=>{let z=Ss(),Oe=Wt();return w.Ns.getEntries(ne,x).next((Re=>{z=Re,z.forEach(((Ue,He)=>{He.isValidDocument()||(Oe=Oe.add(Ue))}))})).next((()=>w.localDocuments.getOverlayedDocuments(ne,z))).next((Re=>{L=Re;const Ue=[];for(const He of b){const Ge=RC(He,L.get(He.key).overlayedDocument);Ge!=null&&Ue.push(new Qo(He.key,Ge,ow(Ge.value.mapValue),_s.exists(!0)))}return w.mutationQueue.addMutationBatch(ne,E,Ue,b)})).next((Re=>{q=Re;const Ue=Re.applyToLocalDocumentSet(L,Oe);return w.documentOverlayCache.saveOverlays(ne,Re.batchId,Ue)}))})).then((()=>({batchId:q.batchId,changes:_w(L)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Xn(Kt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await mc(s,l.changes),await vf(s.remoteStore)}catch(l){const c=Fp(l,"Failed to persist write");i.reject(c)}}async function e1(r,e){const i=xt(r);try{const s=await AI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?vn(p.hu,14607):l.removedDocuments.size>0&&(vn(p.hu,42227),p.hu=!1))})),await mc(i,s,e)}catch(s){await $l(s)}}function O0(r,e,i){const s=xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=xt(p);w.onlineState=b;let E=!1;w.queries.forEach(((x,L)=>{for(const q of L.Sa)q.va(b)&&(E=!0)})),E&&Hp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function px(r,e,i){const s=xt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Xn(pt.comparator);p=p.insert(c,Ki.newNoDocument(c,Rt.min()));const b=Wt().add(c),w=new pf(Rt.min(),new Map,new Xn(Kt),p,b);await e1(s,w),s.du=s.du.remove(c),s.Au.delete(e),Gp(s)}else await Zm(s.localStore,e,!1).then((()=>np(s,e,i))).catch($l)}async function gx(r,e){const i=xt(r),s=e.batch.batchId;try{const l=await TI(i.localStore,e);n1(i,s,null),t1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mc(i,l)}catch(l){await $l(l)}}async function yx(r,e,i){const s=xt(r);try{const l=await(function(p,b){const w=xt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return w.mutationQueue.lookupMutationBatch(E,b).next((L=>(vn(L!==null,37113),x=L.keys(),w.mutationQueue.removeMutationBatch(E,L)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,x,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>w.localDocuments.getDocuments(E,x)))}))})(s.localStore,e);n1(s,e,i),t1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mc(s,l)}catch(l){await $l(l)}}function t1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function n1(r,e,i){const s=xt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function np(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||i1(r,s)}))}function i1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Lp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Gp(r))}function V0(r,e,i){for(const s of i)s instanceof $w?(r.Ru.addReference(s.key,e),vx(r,s)):s instanceof Jw?(rt(qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||i1(r,s.key)):wt(19791,{wu:s})}function vx(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(qp,"New document in limbo: "+i),r.Eu.add(s),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(Mn.fromString(e)),s=r.fu.next();r.Au.set(s,new ox(i)),r.du=r.du.insert(i,s),Gw(r.remoteStore,new lo(Pa(mw(i.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function mc(r,e,i){const s=xt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const x=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,x?"current":"not-current")}if(E){l.push(E);const x=kp.As(w.targetId,E);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const x=xt(w);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Ce.forEach(E,(q=>Ce.forEach(q.Es,(ne=>x.persistence.referenceDelegate.addReference(L,q.targetId,ne))).next((()=>Ce.forEach(q.ds,(ne=>x.persistence.referenceDelegate.removeReference(L,q.targetId,ne)))))))))}catch(L){if(!Jl(L))throw L;rt(Pp,"Failed to update sequence numbers: "+L)}for(const L of E){const q=L.targetId;if(!L.fromCache){const ne=x.Ms.get(q),z=ne.snapshotVersion,Oe=ne.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(q,Oe)}}})(s.localStore,c))}async function _x(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){rt(qp,"User change. New user:",e.toKey());const s=await Bw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new et(Ee.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(i,s.Ls)}}function bx(r,e){const i=xt(r),s=i.Au.get(e);if(s&&s.hu)return Wt().add(s.key);{let l=Wt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function r1(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Pu.H_=nx.bind(null,e.eventManager),e.Pu.yu=ix.bind(null,e.eventManager),e}function wx(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yx.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return EI(this.persistence,new _I,e.initialUser,this.serializer)}Cu(e){return new zw(Vp.mi,this.serializer)}Du(e){return new xI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class Ex extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){vn(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new zw((s=>Jh.mi(s,i)),this.serializer)}}class ip{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZI})()}createDatastore(e){const i=gf(e.databaseInfo.databaseId),s=(function(c){return new VI(c)})(e.databaseInfo);return(function(c,p,b,w){return new UI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new zI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>O0(this.syncEngine,i,0)),(function(){return C0.v()?new C0:new MI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,x){const L=new lx(l,c,p,b,w,E);return x&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=xt(i);rt(Go,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ip.provider={build:()=>new ip};class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const wo="FirestoreClient";class Ax{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Qi.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{rt(wo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(rt(wo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Fp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),rt(wo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Bw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function k0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Sx(r);rt(wo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>x0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>x0(e.remoteStore,l))),r._onlineComponents=e}async function Sx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(wo,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ee.FAILED_PRECONDITION||l.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bl("Error using user provided cache. Falling back to memory cache: "+i),await xm(r,new ef)}}else rt(wo,"Using default OfflineComponentProvider"),await xm(r,new Ex(void 0));return r._offlineComponents}async function a1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(wo,"Using user provided OnlineComponentProvider"),await k0(r,r._uninitializedComponentsProvider._online)):(rt(wo,"Using default OnlineComponentProvider"),await k0(r,new ip))),r._onlineComponents}function Rx(r){return a1(r).then((e=>e.syncEngine))}async function Cx(r){const e=await a1(r),i=e.eventManager;return i.onListen=ux.bind(null,e.syncEngine),i.onUnlisten=fx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=cx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=dx.bind(null,e.syncEngine),i}function Ix(r,e,i={}){const s=new mo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const x=new Tx({next:q=>{x.Nu(),p.enqueueAndForget((()=>tx(c,L))),q.fromCache&&w.source==="server"?E.reject(new et(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(q)},error:q=>E.reject(q)}),L=new rx(b,x,{includeMetadataChanges:!0,qa:!0});return ex(c,L)})(await Cx(r),r.asyncQueue,e,i,s))),s.promise}function s1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const P0=new Map;const o1="firestore.googleapis.com",L0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=L0}else this.host=e.host,this.ssl=e.ssl??L0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nI)throw new et(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xR;switch(s.type){case"firstParty":return new OR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new et(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=P0.get(i);s&&(rt("ComponentProvider","Removing Datastore"),P0.delete(i),s.terminate())})(this),Promise.resolve()}}function xx(r,e,i,s={}){r=Hh(r,_f);const l=Xl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(ib(`https://${b}`),rb("Firestore",!0)),c.host!==o1&&c.host!==b&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Bo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,x;if(typeof s.mockUserToken=="string")E=s.mockUserToken,x=Qi.MOCK_USER;else{E=JT(s.mockUserToken,r._app?.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new et(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Qi(L)}r._authCredentials=new MR(new Kb(E,x))}}class Eo{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class wi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}toJSON(){return{type:wi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,wi._jsonSchema))return new wi(e,s||null,new pt(Mn.fromString(i.referencePath)))}}wi._jsonSchemaVersion="firestore/documentReference/1.0",wi._jsonSchema={type:fi("string",wi._jsonSchemaVersion),referencePath:fi("string")};class po extends Eo{constructor(e,i,s){super(e,i,mw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new pt(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function rp(r,e,...i){if(r=Br(r),Wb("collection","path",e),r instanceof _f){const s=Mn.fromString(e,...i);return $_(s),new po(r,null,s)}{if(!(r instanceof wi||r instanceof po))throw new et(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Mn.fromString(e,...i));return $_(s),new po(r.firestore,null,s)}}function Mx(r,e,...i){if(r=Br(r),arguments.length===1&&(e=Tp.newId()),Wb("doc","path",e),r instanceof _f){const s=Mn.fromString(e,...i);return W_(s),new wi(r,null,new pt(s))}{if(!(r instanceof wi||r instanceof po))throw new et(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Mn.fromString(e,...i));return W_(s),new wi(r.firestore,r instanceof po?r.converter:null,new pt(s))}}const j0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hw(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&rt(j0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;rt(j0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",B0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Bp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&wt(47125,{Pc:B0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yp extends _f{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new z0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function Nx(r,e){const i=typeof r=="object"?r:lb(),s=typeof r=="string"?r:Gh,l=dp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=WT("firestore");c&&xx(l,...c)}return l}function l1(r){if(r._terminated)throw new et(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Dx(r),r._firestoreClient}function Dx(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new $R(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,s1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Ax(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(ki.fromBase64String(e))}catch(i){throw new et(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ra(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ra._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,ra._jsonSchema))return ra.fromBase64String(e.bytes)}}ra._jsonSchemaVersion="firestore/bytes/1.0",ra._jsonSchema={type:fi("string",ra._jsonSchemaVersion),bytes:fi("string")};class Xp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new et(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class u1{constructor(e){this._methodName=e}}class Ua{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new et(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new et(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Ua._jsonSchema))return new Ua(e.latitude,e.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:fi("string",Ua._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};class ja{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ja(e.vectorValues);throw new et(Ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ja._jsonSchemaVersion="firestore/vectorValue/1.0",ja._jsonSchema={type:fi("string",ja._jsonSchemaVersion),vectorValues:fi("object")};const Ox=/^__.*__$/;class Vx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,i,this.fieldTransforms):new hc(e,this.data,i,this.fieldTransforms)}}function c1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:r})}}class Qp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c1(this.Ac)&&Ox.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||gf(e)}Cc(e,i,s,l=!1){return new Qp({Ac:e,methodName:i,Dc:s,path:Vi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h1(r){const e=r._freezeSettings(),i=gf(r._databaseId);return new kx(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Px(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);m1("Data must be an object, but it was:",p,s);const b=f1(s,p);let w,E;if(c.merge)w=new ga(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const q=Ux(e,L,i);if(!p.contains(q))throw new et(Ee.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);zx(x,q)||x.push(q)}w=new ga(x),E=p.fieldTransforms.filter((L=>w.covers(L.field)))}else w=null,E=p.fieldTransforms;return new Vx(new ia(b),w,E)}function Lx(r,e,i,s=!1){return Kp(i,r.Cc(s?4:3,e))}function Kp(r,e){if(d1(r=Br(r)))return m1("Unsupported field value:",e,r),f1(r,e);if(r instanceof u1)return(function(s,l){if(!c1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Kp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Br(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ln.fromDate(s);return{timestampValue:$h(l.serializer,c)}}if(s instanceof Ln){const c=new Ln(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(l.serializer,c)}}if(s instanceof Ua)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ra)return{bytesValue:Dw(l.serializer,s._byteString)};if(s instanceof wi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ja)return(function(p,b){return{mapValue:{fields:{[aw]:{stringValue:sw},[Yh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return xp(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${of(s)}`)})(r,e)}function f1(r,e){const i={};return Zb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(r,((s,l)=>{const c=Kp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function d1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ln||r instanceof Ua||r instanceof ra||r instanceof wi||r instanceof u1||r instanceof ja)}function m1(r,e,i){if(!d1(i)||!$b(i)){const s=of(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Ux(r,e,i){if((e=Br(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return p1(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,i)}const jx=new RegExp("[~\\*/\\[\\]]");function p1(r,e,i){if(e.search(jx)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Xp(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function tf(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new et(Ee.INVALID_ARGUMENT,b+r+w)}function zx(r,e){return r.some((i=>i.isEqual(e)))}class g1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(bf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bx extends g1{data(){return super.data()}}function bf(r,e){return typeof e=="string"?p1(r,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}function Fx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class $p extends Wp{}function ap(r,e,...i){let s=[];e instanceof Wp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof Jp)).length,b=c.filter((w=>w instanceof wf)).length;if(p>1||p>0&&b>0)throw new et(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class wf extends $p{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new wf(e,i,s)}_apply(e){const i=this._parse(e);return y1(e._query,i),new Eo(e.firestore,e.converter,Qm(e._query,i))}_parse(e){const i=h1(e.firestore);return(function(c,p,b,w,E,x,L){let q;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new et(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){H0(L,x);const z=[];for(const Oe of L)z.push(F0(w,c,Oe));q={arrayValue:{values:z}}}else q=F0(w,c,L)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||H0(L,x),q=Lx(b,p,L,x==="in"||x==="not-in");return hi.create(E,x,q)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function sp(r,e,i){const s=e,l=bf("where",r);return wf._create(l,s,i)}class Jp extends Wp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Jp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ya.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)y1(p,w),p=Qm(p,w)})(e._query,i),new Eo(e.firestore,e.converter,Qm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends $p{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Zp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new et(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,p)})(e._query,this._field,this._direction);return new Eo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Zl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Ol(r,e="asc"){const i=e,s=bf("orderBy",r);return Zp._create(s,i)}class eg extends $p{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new eg(e,i,s)}_apply(e){return new Eo(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function op(r){return zR("limit",r),eg._create("limit",r,"F")}function F0(r,e,i){if(typeof(i=Br(i))=="string"){if(i==="")throw new et(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pw(e)&&i.indexOf("/")!==-1)throw new et(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Mn.fromString(i));if(!pt.isDocumentKey(s))throw new et(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a0(r,new pt(s))}if(i instanceof wi)return a0(r,i._key);throw new et(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(i)}.`)}function H0(r,e){if(!Array.isArray(r)||r.length===0)throw new et(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new et(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Hx{convertValue(e,i="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Yh].arrayValue?.values?.map((s=>ii(s.doubleValue)));return new ja(i)}convertGeoPoint(e){return new Ua(ii(e.latitude),ii(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const i=yo(e);return new Ln(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Mn.fromString(e);vn(Uw(s),9688,{name:e});const l=new Ju(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Eh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends g1{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(bf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ul._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ul._jsonSchema={type:fi("string",Ul._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class Vh extends Ul{data(e={}){return super.data(e)}}class jl{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Eh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Vh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Vh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Gx(b.type),doc:w,oldIndex:E,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Gx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:fi("string",jl._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class Yx extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,i)}}function v1(r){r=Hh(r,Eo);const e=Hh(r.firestore,Yp),i=l1(e),s=new Yx(e);return Fx(r._query),Ix(i,r._query).then((l=>new jl(e,s,r,l)))}function Xx(r,e){const i=Hh(r.firestore,Yp),s=Mx(r),l=qx(r.converter,e);return Qx(i,[Px(h1(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function Qx(r,e){return(function(s,l){const c=new mo;return s.asyncQueue.enqueueAndForget((async()=>mx(await Rx(s),l,c))),c.promise})(l1(r),e)}(function(e,i=!0){(function(l){Wl=l})(Ql),zl(new Fo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Yp(new NR(s.getProvider("auth-internal")),new VR(p,s.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new et(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(E.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),ho(Y_,X_,e),ho(Y_,X_,"esm2020")})();const Kx={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},Wx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Kx,_1=ob(Wx),Mm=CR(_1),lp=Nx(_1),up=typeof __app_id<"u"?__app_id:"long-jump-game",bt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ta=5,_i=50,cp=30,Da=40,b1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},$x=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),q0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],G0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Ef=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Tf=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},Jx=()=>new Date().toISOString().split("T")[0],Zx=r=>{const e=Tf(r),i=Ef(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ta),b=Math.floor(i()*_i);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let x=1;E>.5&&(x=2),E>.8&&(x=3),s.push({r:p,c:b,val:x})}}return s},eM=r=>{const e=Tf(r+"OBSTACLES"),i=Ef(e),s=[],l=5,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ta),b=Math.floor(i()*_i);if(b===0)continue;const w=`${p},${b}`;c.has(w)||(c.add(w),s.push({r:p,c:b}))}return s},tM=(r,e)=>{const i=Tf(r+"WILDCARDS_V3"),s=Ef(i),l=[];let c=0;for(;c<100;){const p=Math.floor(s()*ta),b=5,E=Math.floor(s()*(29-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}for(c=0;c<100;){const p=Math.floor(s()*ta),b=30,E=Math.floor(s()*(40-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}return l},nM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],iM=r=>{const e=Tf(r),i=Ef(e);let s=[];Object.entries(b1).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=cp;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},rM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},aM=()=>{const r=dt.useRef(null);return dt.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",bt.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),G.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},Y0=()=>{const{RiveComponent:r}=oo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return G.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},X0=({trigger:r})=>{const{rive:e,RiveComponent:i}=oo.useRive({src:"fan.riv",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return dt.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}catch(s){console.error("Error firing trigger:",s)}},[r,e]),G.jsx("div",{style:{width:`${Da}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:G.jsx("div",{style:{width:"39px",height:"60px"},children:G.jsx(i,{})})})},Nm=({highlightName:r,user:e,onRankFound:i,lastUpdated:s})=>{const[l,c]=dt.useState([]),[p,b]=dt.useState(!0),[w,E]=dt.useState("daily"),[x,L]=dt.useState(null),q=async()=>{if(!e)return;b(!0),L(null);const ne=rp(lp,"artifacts",up,"public","data","scores"),z=new Date,Oe=z.toISOString().split("T")[0],Re=z.getDay(),Ue=z.getDate()-Re+(Re===0?-6:1),Ge=new Date(z.setDate(Ue)).toISOString().split("T")[0];let Ke;try{w==="daily"?Ke=ap(ne,sp("date","==",Oe),Ol("score","desc"),Ol("timestamp","asc"),op(100)):Ke=ap(ne,sp("date",">=",Ge),Ol("date","desc"),Ol("score","desc"),op(500));const ht=await v1(Ke);if(ht.empty){c([]),b(!1);return}let ot=ht.docs.map(F=>({id:F.id,...F.data()}));if(w==="weekly"){const F=new Map;ot.forEach(U=>{const V=F.get(U.name);V?(U.score>V.score||U.score===V.score&&U.timestamp<V.timestamp)&&F.set(U.name,U):F.set(U.name,U)}),ot=Array.from(F.values()),ot.sort((U,V)=>V.score!==U.score?V.score-U.score:U.timestamp-V.timestamp),ot=ot.slice(0,100)}if(c(ot),b(!1),r&&i){const F=ot.findIndex(U=>U.name===r);F!==-1&&i(F+1)}}catch(ht){console.error(" FIRESTORE ERROR:",ht),L(ht.message),b(!1)}};return dt.useEffect(()=>{q()},[e,w,r,s]),G.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[x&&x.includes("index")&&G.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[G.jsx(fT,{className:"text-red-500 mb-2",size:32}),G.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),G.jsx("button",{onClick:q,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),G.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(Om,{size:20,className:"text-yellow-500"}),G.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:w==="daily"?"Today's Top":"Weekly Best"})]}),G.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[G.jsx("button",{onClick:()=>E("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),G.jsx("button",{onClick:()=>E("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),G.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:p?G.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):l.length===0?G.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",G.jsx("br",{}),"Be the first!"]}):G.jsx("div",{className:"space-y-1",children:l.map((ne,z)=>{const Oe=ne.score>=40;return G.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${ne.name===r?`bg-[${bt.accentPrimary}]/10 border-[${bt.accentPrimary}]/20`:Oe?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:`font-black w-5 text-center ${z===0?"text-yellow-500 text-lg":z===1?"text-gray-400 text-base":z===2?"text-orange-700 text-base":"text-gray-500"}`,children:z+1}),G.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[Oe&&G.jsx(Om,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),G.jsx("span",{className:`font-bold truncate max-w-[90px] ${ne.name===r?"text-black":Oe?"text-amber-900":"text-gray-700"}`,children:ne.name}),w==="weekly"&&G.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(ne.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),G.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${Oe?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[ne.score,"m"]})]},z)})})})]})},Q0=()=>{const r=q0[Math.floor(Math.random()*q0.length)],e=G0[Math.floor(Math.random()*G0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},K0=()=>Array(ta).fill(null).map(()=>Array(_i).fill(null)),Dm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Th=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e});function sM(){const[r,e]=dt.useState("menu"),[i,s]=dt.useState(()=>Q0()),[l,c]=dt.useState(()=>K0()),[p,b]=dt.useState([]),[w,E]=dt.useState([]),[x,L]=dt.useState(0),[q,ne]=dt.useState(!1),[z,Oe]=dt.useState([]),[Re,Ue]=dt.useState(0),[He,Ge]=dt.useState([]),[Ke,ht]=dt.useState([]),[ot,F]=dt.useState([]),[U,V]=dt.useState([]),[B,I]=dt.useState(null),[k,C]=dt.useState(null),[X,re]=dt.useState([]),[H,ee]=dt.useState(0),[ye,de]=dt.useState(0),[xe,P]=dt.useState(null),[se,Se]=dt.useState(!1),[be,Ie]=dt.useState(!1),[qe,We]=dt.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[ut,_t]=dt.useState(!1),[Ct,nn]=dt.useState(!1),[ft,Et]=dt.useState(!1),[Lt,Ut]=dt.useState(!1),[Nn,ri]=dt.useState(!1),[yt,at]=dt.useState(!1),[un,Zt]=dt.useState(!1),[$i,Un]=dt.useState(!1),[Vt,mn]=dt.useState(null),[R,g]=dt.useState(null),[_,D]=dt.useState(!1),[K,pe]=dt.useState(null);dt.useEffect(()=>{(async()=>{try{const ie=rp(lp,"artifacts",up,"public","data","scores"),fe=new Date().toISOString().split("T")[0],Ae=ap(ie,sp("date","==",fe),Ol("score","desc"),Ol("timestamp","asc"),op(1)),Me=await v1(Ae);Me.empty||pe(Me.docs[0].data())}catch(ie){console.error("Error fetching leader:",ie)}})()},[x]);const Te=dt.useRef(null),[$e,tt]=dt.useState(!1),[Xe,nt]=dt.useState(0),[$t,Cn]=dt.useState(0),cn=l.some(J=>J.some(ie=>ie!==null));dt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await d2(Mm,__initial_auth_token):await l2(Mm)})();const ie=g2(Mm,g);return()=>ie()},[]),dt.useEffect(()=>{if(ye===H)return;const J=500,ie=performance.now(),fe=ye,Ae=H,Me=Le=>{const ke=Le-ie,Ne=Math.min(ke/J,1),Pe=1-Math.pow(1-Ne,3),je=Math.floor(fe+(Ae-fe)*Pe);de(je),Ne<1&&requestAnimationFrame(Me)};requestAnimationFrame(Me)},[H]),dt.useEffect(()=>{Sn()},[]);const Sn=()=>{const J=Jx(),ie=iM(J);Oe(ie);const fe=ie.slice(0,cp).map(Me=>Th(Me,!1)).sort((Me,Le)=>Me.letter.localeCompare(Le.letter));b(fe),Ue(cp),c(K0()),re([]),E([]),ee(0),de(0),P(null),Se(!1),Ie(!1),Ge(Zx(J));const Ae=eM(J);ht(Ae),F(tM(J,Ae)),V(nM()),We({text:"Goal: Get as far right as you can.",type:"neutral"}),at(!1),nn(!1),Ut(!1),ri(!1),D(!1),Zt(!1),Et(!1),ne(!1),I(null),C(null),Te.current&&(Te.current.scrollLeft=0)},Fn=()=>{i.trim()||s(Q0()),e("playing"),H>0&&Sn(),Ut(!0)},Bt=()=>{e("menu"),Sn()},In=()=>{if(w.length===0)return;const J=w[w.length-1],ie=w.slice(0,-1);c(J.grid),b(J.hand),ee(J.score),Ue(J.drawCount),E(ie),re([]),We({text:"Move undone",type:"info"})},Dn=J=>{const ie=J.toUpperCase();return[...p].reverse().find(fe=>fe.letter===ie)},jn=J=>{if(!k){C({r:2,c:H});return}let{r:ie,c:fe}=k;J==="ArrowUp"&&(ie=Math.max(0,ie-1)),J==="ArrowDown"&&(ie=Math.min(ta-1,ie+1)),J==="ArrowLeft"&&(fe=Math.max(0,fe-1)),J==="ArrowRight"&&(fe=Math.min(_i-1,fe+1)),C({r:ie,c:fe})};dt.useEffect(()=>{const J=ie=>{if(!(r!=="playing"||yt||Nn||Lt||Ct||$i||ft)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ie.key)){ie.preventDefault(),jn(ie.key);return}if(ie.key==="Backspace"||ie.key==="Delete"){if(k){const{r:fe,c:Ae}=k;X.find(Le=>Le.r===fe&&Le.c===Ae)?zn(fe,Ae):jn("ArrowLeft")}return}if(ie.key==="Enter"){X.length>0&&zi();return}if(/^[a-zA-Z]$/.test(ie.key)){if(!k){C({r:2,c:H});return}const{r:fe,c:Ae}=k;if(l[fe]&&l[fe][Ae]||Ke.some(Le=>Le.r===fe&&Le.c===Ae)){jn("ArrowRight");return}const Me=Dn(ie.key);Me?(Hr(Me,fe,Ae),C({r:fe,c:Math.min(_i-1,Ae+1)})):(We({text:`No '${ie.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>We({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[r,yt,k,p,X,Nn,Lt,Ct,$i,ft]),dt.useEffect(()=>{if(k&&Te.current){const J=Te.current,ie=k.c*Da,fe=ie+Da,Ae=J.scrollLeft,Me=Ae+J.clientWidth,Le=100;ie<Ae?J.scrollTo({left:Math.max(0,ie-Le),behavior:"smooth"}):fe>Me&&J.scrollTo({left:fe-J.clientWidth+Le,behavior:"smooth"})}},[k]);const Pi=()=>nn(!0),gt=async()=>{if(nn(!1),at(!0),D(!0),R)try{const fe=new Date().toISOString().split("T")[0],Ae=rp(lp,"artifacts",up,"public","data","scores");await Xx(Ae,{name:i||"Anonymous",score:H,date:fe,timestamp:Date.now(),userId:R.uid}),L(Date.now())}catch(fe){console.error("Error saving score:",fe)}D(!1);const J=H*50+800;setTimeout(()=>{e("gameOver"),at(!1)},Math.max(J,2500))},Hn=()=>nn(!1),St=()=>r==="playing"?Et(!0):e("menu"),Ji=()=>{Et(!1),e("menu"),Sn()},Zi=async()=>{const J=xe?rM(xe):"top",ie="https://www.longjump.co.za";let fe=xe?`${i} placed ${J} in Long-Jump with a distance of ${H}m. How far can you get? ${ie}`:`${i} got a distance of ${H}m in Long-Jump. How far can you get? ${ie}`;try{await navigator.clipboard.writeText(fe),Se(!0),setTimeout(()=>Se(!1),1e3)}catch(Ae){console.error("Failed to copy: ",Ae),We({text:"Failed to copy result.",type:"error"})}},Ba=J=>{J.target.closest('[draggable="true"]')||J.target.tagName==="BUTTON"||(tt(!0),nt(J.pageX-Te.current.offsetLeft),Cn(Te.current.scrollLeft))},Rr=()=>tt(!1),Fr=()=>tt(!1),Qe=J=>{if(!$e)return;J.preventDefault();const fe=(J.pageX-Te.current.offsetLeft-Xe)*1.5;Te.current.scrollLeft=$t-fe},Hr=(J,ie,fe)=>{if(J.letter==="*"){mn({r:ie,c:fe,tileId:J.id}),Un(!0);return}Li(J,ie,fe)},Li=(J,ie,fe,Ae=!1,Me=null)=>{if(l.every(Pe=>Pe.every(je=>je===null))&&X.length===0&&fe!==0){Zt(!0),setTimeout(()=>Zt(!1),3e3);return}const ke=Me||J.letter,Ne=[...X,{r:ie,c:fe,letter:ke,isWild:Ae,id:J.id}];if(!Dm(Ne)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}re(Ne),b(Pe=>Pe.filter(je=>je.id!==J.id)),Zt(!1),qe.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})},er=J=>{if(Vt){const ie={id:Vt.tileId,letter:"*"};Li(ie,Vt.r,Vt.c,!0,J),C({r:Vt.r,c:Math.min(_i-1,Vt.c+1)}),Un(!1),mn(null),I(null)}},pn=J=>{if(!yt&&r==="playing"){if(k){const{r:ie,c:fe}=k;if(!(l[ie]&&l[ie][fe]||Ke.some(Me=>Me.r===ie&&Me.c===fe))){const Me=p.find(Le=>Le.id===J);Me&&(Hr(Me,ie,fe),C({r:ie,c:Math.min(_i-1,fe+1)}));return}}I(B===J?null:J)}},zn=(J,ie)=>{if($e||yt||r!=="playing"||l[J]&&l[J][ie]||Ke.some(Ae=>Ae.r===J&&Ae.c===ie))return;const fe=X.findIndex(Ae=>Ae.r===J&&Ae.c===ie);if(fe!==-1){const Ae=X[fe],Me=[...X];Me.splice(fe,1),re(Me);const Le=Ae.isWild?"*":Ae.letter,ke={id:Ae.id||Math.random().toString(),letter:Le,isNew:!1};b(Ne=>[...Ne,ke].sort((Pe,je)=>Pe.letter!==je.letter?Pe.letter.localeCompare(je.letter):Pe.isNew===je.isNew?0:Pe.isNew?1:-1)),I(null),C({r:J,c:ie});return}if(B){const Ae=p.find(Me=>Me.id===B);Ae&&(Hr(Ae,J,ie),I(null),C({r:J,c:Math.min(_i-1,ie+1)}))}else C({r:J,c:ie})},Ui=(J,ie)=>{yt||r!=="playing"||(J.dataTransfer.setData("text/plain",JSON.stringify(ie)),J.dataTransfer.effectAllowed="move")},ur=J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},Cs=(J,ie,fe)=>{if(yt||r!=="playing"||(J.preventDefault(),J.stopPropagation(),Ke.some(Me=>Me.r===ie&&Me.c===fe)))return;const Ae=J.dataTransfer.getData("text/plain");if(Ae)try{const Me=JSON.parse(Ae);if(l[ie]&&l[ie][fe])return;const Le=X.findIndex(ke=>ke.r===ie&&ke.c===fe);if(Me.type==="hand"){const ke=Me.tile;if(ke.letter==="*"){mn({r:ie,c:fe,tileId:ke.id}),Un(!0);return}if(l.every(Pe=>Pe.every(je=>je===null))&&X.length===0&&fe!==0){Zt(!0),setTimeout(()=>Zt(!1),3e3);return}if(Le!==-1){const Pe=X[Le],je=[...X],hn=Pe.isWild?"*":Pe.letter,Jn={id:Pe.id||Math.random().toString(),letter:hn,isNew:!1};je.splice(Le,1,{r:ie,c:fe,letter:ke.letter,isWild:!1,id:ke.id}),re(je),b(_n=>[..._n.filter(di=>di.id!==ke.id),Jn].sort((di,Gn)=>di.letter!==Gn.letter?di.letter.localeCompare(Gn.letter):di.isNew===Gn.isNew?0:di.isNew?1:-1))}else{const Pe=[...X,{r:ie,c:fe,letter:ke.letter,isWild:!1,id:ke.id}];if(!Dm(Pe)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}re(Pe),b(je=>je.filter(hn=>hn.id!==ke.id))}Zt(!1),I(null),C({r:ie,c:Math.min(_i-1,fe+1)}),qe.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Me.type==="board"){if(Me.r===ie&&Me.c===fe)return;const ke=X.findIndex(je=>je.r===Me.r&&je.c===Me.c);if(ke===-1)return;const Ne=X[ke],Pe=[...X];if(Le!==-1){const je=X[Le];Pe[Le]={...je,r:Me.r,c:Me.c},Pe[ke]={...Ne,r:ie,c:fe}}else Pe[ke]={...Ne,r:ie,c:fe};if(!Dm(Pe)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}re(Pe),C({r:ie,c:Math.min(_i-1,fe+1)})}}catch{}},Fa=J=>{if(yt||r!=="playing")return;J.preventDefault(),J.stopPropagation();const ie=J.dataTransfer.getData("text/plain");if(ie)try{const fe=JSON.parse(ie);if(fe.type==="board"){const Ae=X.find(ke=>ke.r===fe.r&&ke.c===fe.c),Me=Ae&&Ae.isWild?"*":fe.letter,Le={id:Ae?.id||Math.random().toString(),letter:Me,isNew:!1};re(ke=>ke.filter(Ne=>!(Ne.r===fe.r&&Ne.c===fe.c))),b(ke=>[...ke,Le].sort((Ne,Pe)=>Ne.letter!==Pe.letter?Ne.letter.localeCompare(Pe.letter):Ne.isNew===Pe.isNew?0:Ne.isNew?1:-1))}}catch{}},aa=(J,ie)=>{if(!l||!l[J])return null;if(l[J][ie])return{letter:l[J][ie],type:"locked"};const fe=X.find(Ae=>Ae.r===J&&Ae.c===ie);return fe?{letter:fe.letter,type:"temp",isWild:fe.isWild}:null},ji=(J,ie)=>He.find(fe=>fe.r===J&&fe.c===ie),Ei=(J,ie)=>Ke.find(fe=>fe.r===J&&fe.c===ie),zi=async()=>{if(X.length===0)return;_t(!0),We({text:"Validating...",type:"info"});const J=l.map(ke=>[...ke]);if(X.forEach(ke=>{J[ke.r]&&(J[ke.r][ke.c]=ke.letter)}),X.length>1){const ke=[...X].sort((je,hn)=>je.r-hn.r||je.c-hn.c),Ne=ke[0],Pe=ke[ke.length-1];if(Ne.r===Pe.r){for(let je=Ne.c;je<=Pe.c;je++)if(!J[Ne.r][je]){Kn("Cannot leave gaps between tiles.");return}}else for(let je=Ne.r;je<=Pe.r;je++)if(!J[je][Ne.c]){Kn("Cannot leave gaps between tiles.");return}}const ie=l.every(ke=>ke.every(Ne=>Ne===null));let fe=!1,Ae=!1;if(X.forEach(ke=>{ke.c===0&&(fe=!0),[{r:ke.r+1,c:ke.c},{r:ke.r-1,c:ke.c},{r:ke.r,c:ke.c+1},{r:ke.r,c:ke.c-1}].forEach(Pe=>{Pe.r>=0&&Pe.r<ta&&Pe.c>=0&&Pe.c<_i&&l[Pe.r]&&l[Pe.r][Pe.c]&&(Ae=!0)})}),ie&&!fe){Kn("First word must start in Column 1.");return}if(!ie&&!Ae){Kn("Tiles must connect to existing words.");return}const Le=Ti(J).filter(ke=>ke.cells.some(Ne=>X.some(Pe=>Pe.r===Ne.r&&Pe.c===Ne.c)));if(Le.length===0){Kn("Words must be at least 2 letters.");return}try{const ke=[];for(const Ne of Le)await Bi(Ne.word)||ke.push(Ne.word);if(ke.length>0){Kn(`Invalid word(s): ${ke.join(", ")}`,ke[0]);return}On(J,Le)}catch(ke){console.error(ke),Kn("Error checking dictionary. Try again.")}},Bi=async J=>{const ie=J.toUpperCase();if($x.has(ie)||ie.length===2)return!0;try{const fe=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${J}`);if(!fe.ok)return!1;const Ae=await fe.json();return Array.isArray(Ae)&&Ae.length>0}catch{return!0}},Ti=J=>{let ie=[];for(let fe=0;fe<ta;fe++){let Ae="",Me=[];for(let Le=0;Le<_i;Le++)J[fe]&&J[fe][Le]?(Ae+=J[fe][Le],Me.push({r:fe,c:Le})):(Ae.length>1&&ie.push({word:Ae,cells:[...Me],type:"H"}),Ae="",Me=[]);Ae.length>1&&ie.push({word:Ae,cells:[...Me],type:"H"})}for(let fe=0;fe<_i;fe++){let Ae="",Me=[];for(let Le=0;Le<ta;Le++)J[Le]&&J[Le][fe]?(Ae+=J[Le][fe],Me.push({r:Le,c:fe})):(Ae.length>1&&ie.push({word:Ae,cells:[...Me],type:"V"}),Ae="",Me=[]);Ae.length>1&&ie.push({word:Ae,cells:[...Me],type:"V"})}return ie},Kn=(J,ie=null)=>{We({text:J,type:"error",invalidWord:ie}),_t(!1)},On=(J,ie)=>{const fe=JSON.parse(JSON.stringify(l)),Ae=X.map(Pe=>({id:Pe.id||Math.random().toString(),letter:Pe.isWild?"*":Pe.letter,isNew:!1})),Me=[...p,...Ae].sort((Pe,je)=>Pe.letter!==je.letter?Pe.letter.localeCompare(je.letter):Pe.isNew===je.isNew?0:Pe.isNew?1:-1);E(Pe=>[...Pe,{grid:fe,hand:Me,score:H,drawCount:Re}]),c(J),Ie(!0),setTimeout(()=>Ie(!1),200);let Le=0,ke=!1;if(ie.forEach(Pe=>{Pe.cells.forEach(je=>{const hn=ji(je.r,je.c),Jn=X.some(_n=>_n.r===je.r&&_n.c===je.c);hn&&Jn&&(Le+=hn.val),ot.some(_n=>_n.r===je.r&&_n.c===je.c)&&(ke=!0)})}),Le>0){const je=z.slice(Re,Re+Le).map(hn=>Th(hn,!0));b(hn=>[...hn,...je].sort((_n,jt)=>_n.letter!==jt.letter?_n.letter.localeCompare(jt.letter):_n.isNew===jt.isNew?0:_n.isNew?1:-1)),Ue(hn=>hn+Le)}if(ke){const Pe=Th("*",!0);b(je=>[...je,Pe].sort((Jn,_n)=>Jn.letter!==_n.letter?Jn.letter.localeCompare(_n.letter):Jn.isNew===_n.isNew?0:Jn.isNew?1:-1))}if(Le>0||ke){const Pe=ke?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${Le} Bonus Tiles!`;We({text:Pe,type:"success"})}else We({text:"Valid move!",type:"success"});let Ne=H-1;X.forEach(Pe=>{Pe.c>Ne&&(Ne=Pe.c)});for(let Pe=0;Pe<ta;Pe++)for(let je=0;je<_i;je++)J[Pe]&&J[Pe][je]&&je>Ne&&(Ne=je);ee(Ne+1),re([]),_t(!1),C(null)},sa=()=>b(J=>[...J].sort(()=>Math.random()-.5)),Ai=()=>b(J=>[...J].sort((ie,fe)=>ie.letter!==fe.letter?ie.letter.localeCompare(fe.letter):ie.isNew===fe.isNew?0:ie.isNew?1:-1)),Si=p.reduce((J,ie)=>(J[ie.letter]||(J[ie.letter]=[]),J[ie.letter].push(ie),J),{}),qn=Array.from(new Set(p.map(J=>J.letter))),va=qn.length>=6,Cr=Math.ceil(qn.length/2),_a=va?qn.slice(0,Cr):qn,Ha=va?qn.slice(Cr):[],Fi=({letter:J})=>{const ie=Si[J]||[],fe=ie.length,Ae=ie[fe-1],Me=Ae&&B===Ae.id,Le=Math.min(fe,15),ke=6,Ne=40+(Le>1?(Le-1)*ke:0);return G.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Ne}px`},children:[[...Array(Le-1)].map((Pe,je)=>{const Jn=(J.charCodeAt(0)+je)%7-3;return G.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${je*ke}px`,zIndex:je,transform:`rotate(${Jn}deg)`}},je)}),G.jsxs("button",{draggable:!yt&&r==="playing",onDragStart:Pe=>Ui(Pe,{type:"hand",tile:Ae}),onClick:()=>pn(Ae.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(Le-1)*ke}px`,zIndex:Le,backgroundColor:Me?bt.accentPrimary:J==="*"?bt.tileTemp:"white",color:Me?"white":bt.textMain,transform:Me?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Me?0:J.charCodeAt(0)%5-2}deg)`},children:[Ae&&Ae.isNew&&G.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),J==="*"?G.jsx(ph,{size:20,fill:bt.starPurple,className:"text-purple-500"}):J]})]})};return r==="menu"?G.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:bt.background,color:bt.textMain},children:[G.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[G.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[G.jsx(Y0,{}),G.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[G.jsx("span",{children:"Refreshed Daily"}),G.jsx(gm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),G.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:bt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."})]}),G.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[G.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:bt.textSub},children:"Enter your name"}),G.jsx("input",{type:"text",value:i,onChange:J=>s(J.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:bt.textMain,borderColor:"transparent"},onFocus:J=>J.target.style.borderColor=bt.accentPrimary,onBlur:J=>J.target.style.borderColor="transparent",onKeyDown:J=>J.key==="Enter"&&Fn()})]}),G.jsx("button",{onClick:Fn,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:bt.accentPrimary},children:G.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",G.jsx(ST,{size:24,fill:"currentColor"})]})}),G.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[G.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[G.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5 whitespace-nowrap",children:"By Richard Bolland"}),G.jsx("span",{className:"text-gray-300",children:"|"}),G.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[G.jsx(yT,{size:14,className:"fill-pink-600"}),G.jsx("span",{children:"Tip Jar"})]})]}),G.jsx("span",{className:"text-[10px] text-gray-400 text-center max-w-xs leading-tight",children:"Help cover server costs & keep the game running."})]}),G.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:G.jsx(Nm,{user:R,lastUpdated:x})})]}),G.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:G.jsx(Nm,{user:R,lastUpdated:x})})]}):G.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:bt.background,color:bt.textMain},children:[r==="gameOver"&&!q&&G.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[G.jsx(aM,{}),G.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col justify-center lg:h-[600px] z-[101] relative",children:[G.jsx("div",{className:"w-48 h-16 mx-auto mb-4",children:G.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),G.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:bt.accentPrimary},children:"Complete"}),G.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[G.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:bt.textSub},children:"Athlete"}),G.jsx("div",{className:"text-3xl font-black mb-6",style:{color:bt.textMain},children:i}),G.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:bt.textSub},children:"Distance"}),G.jsxs("div",{className:"text-6xl font-black",style:{color:bt.accentSecondary},children:[ye,"m"]})]}),G.jsx("div",{className:"flex gap-2 mb-3",children:G.jsx("button",{onClick:Zi,className:"flex-1 py-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:se?G.jsxs(G.Fragment,{children:[G.jsx(rT,{size:20})," Copied"]}):G.jsxs(G.Fragment,{children:[G.jsx(NT,{size:20})," Share Result"]})})}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("button",{onClick:Bt,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"}),G.jsx("button",{onClick:()=>ne(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:G.jsx(pT,{size:24})})]})]}),G.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:G.jsx(Nm,{highlightName:i,user:R,onRankFound:P,lastUpdated:x})})]}),$i&&G.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:G.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[G.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),G.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(b1).filter(J=>J!=="*").map(J=>G.jsx("button",{onClick:()=>er(J),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:bt.textMain},children:J},J))}),G.jsx("button",{onClick:()=>{Un(!1),mn(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Lt||Nn)&&G.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:G.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[G.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:G.jsx(nT,{size:48,style:{color:bt.accentPrimary}})}),G.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),G.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[G.jsxs("p",{className:"flex gap-2",children:[G.jsx("span",{className:"font-bold text-black",children:""}),G.jsxs("span",{children:["This is a ",G.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),G.jsxs("p",{className:"flex gap-2",children:[G.jsx("span",{className:"font-bold text-black",children:""}),G.jsxs("span",{children:["Place words ",G.jsx("strong",{children:"Left to Right"})," or ",G.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),G.jsxs("p",{className:"flex gap-2",children:[G.jsx("span",{className:"font-bold text-black",children:""}),G.jsxs("span",{children:["Minimum ",G.jsx("strong",{children:"2 letter"})," words."]})]}),G.jsxs("p",{className:"flex gap-2",children:[G.jsx("span",{className:"font-bold text-black",children:""}),G.jsxs("span",{children:["Start in ",G.jsx("strong",{children:"Column 1"})," (left)."]})]}),G.jsxs("p",{className:"flex gap-2 items-center",children:[G.jsx(gm,{size:16,className:"text-yellow-500 fill-yellow-500"}),G.jsxs("span",{children:[G.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),G.jsxs("p",{className:"flex gap-2 items-center",children:[G.jsx(ph,{size:16,className:"text-purple-500 fill-purple-500"}),G.jsxs("span",{children:[G.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),G.jsx("button",{onClick:()=>{Ut(!1),ri(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:bt.accentPrimary},children:Lt?"Let's Jump!":"Close"})]})}),ft&&G.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:G.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[G.jsx("div",{className:"flex justify-center mb-4",children:G.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:G.jsx(wT,{size:32,className:"text-red-500"})})}),G.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),G.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),G.jsxs("div",{className:"flex gap-3",children:[G.jsx("button",{onClick:()=>Et(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),G.jsx("button",{onClick:Ji,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),Ct&&G.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:G.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[G.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),G.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",G.jsx("strong",{style:{color:bt.accentPrimary},children:H}),". This will end your current run."]}),G.jsxs("div",{className:"flex gap-3",children:[G.jsx("button",{onClick:Hn,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),G.jsx("button",{onClick:gt,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:bt.accentPrimary},children:"Confirm"})]})]})}),G.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[G.jsxs("div",{className:"flex flex-col items-start",children:[G.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),K&&G.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[G.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-widest",children:"Current Leader"}),G.jsx(Om,{size:12,className:"text-yellow-500 fill-yellow-500"}),G.jsx("span",{className:"font-bold text-gray-700",children:K.name}),G.jsxs("span",{className:"font-mono text-gray-400",children:[K.score,"m"]})]}),G.jsxs("div",{className:"block md:hidden",children:[H>0&&r==="playing"&&G.jsxs("button",{onClick:Pi,disabled:yt||ut,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",G.jsx(m_,{size:10,style:{color:bt.starGold}})]}),r==="gameOver"&&q&&G.jsxs("button",{onClick:()=>ne(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:bt.accentPrimary,color:"white"},children:[G.jsx(d_,{size:12})," RESULTS"]})]})]}),G.jsxs("div",{className:"flex flex-col items-center flex-1",children:[G.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:St,children:G.jsx(Y0,{})}),G.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&H>0&&G.jsxs("button",{onClick:Pi,disabled:yt||ut,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",G.jsx(m_,{size:10,style:{color:bt.starGold}})]}),r==="gameOver"&&q&&G.jsxs("button",{onClick:()=>ne(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:bt.accentPrimary},children:[G.jsx(d_,{size:14})," BACK TO RESULTS"]})]})]}),G.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[G.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:bt.accentPrimary},children:i||"PLAYER 1"}),G.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:bt.accentPrimary},children:[G.jsx(xT,{size:16})," ",ye,"m"]}),G.jsxs("button",{onClick:()=>ri(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",G.jsx(_T,{size:12})]})]})]}),G.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Ba,onMouseLeave:Rr,onMouseUp:Fr,onMouseMove:Qe,children:G.jsx("div",{ref:Te,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${$e?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:G.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[G.jsx("div",{className:"flex relative mb-3",style:{width:`${_i*Da}px`,height:"24px"},children:Array(_i).fill(0).map((J,ie)=>{const fe=ie===0,Ae=(ie+1)%5===0;if(!fe&&!Ae)return null;const Me=H<3;return G.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ie*Da+Da/2,transform:`translateX(-50%) ${fe&&Me?"translateY(-45px)":"translateY(0)"}`},children:[G.jsx("span",{className:`text-xs tracking-wider ${fe?"text-black font-black":"text-gray-400"}`,children:fe?"START":`${ie+1}m`}),G.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${fe?"bg-black":"bg-gray-300"}`})]},`ruler-${ie}`)})}),G.jsxs("div",{className:"relative",children:[G.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:U.filter(J=>J.type==="top").map((J,ie)=>{const fe=Math.max(J.startCol,H+J.offset);return G.jsx("div",{className:"absolute -top-[55px]",style:{left:`${fe*Da}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:G.jsx(X0,{trigger:be})},`fan-top-${J.id}`)})}),G.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${_i}, ${Da}px)`,gridTemplateRows:`repeat(${ta}, ${Da}px)`,backgroundColor:bt.boardBackground,borderColor:bt.boardLines},children:Array(ta).fill(0).map((J,ie)=>Array(_i).fill(0).map((fe,Ae)=>{const Me=aa(ie,Ae),Le=ji(ie,Ae),ke=Ei(ie,Ae),Ne=ot.some(Gn=>Gn.r===ie&&Gn.c===Ae),je=Ae===0&&!Me&&!cn,hn=Me?.type==="locked",Jn=(Ae+1)%5===0,_n=Ae<ye,jt=k&&k.r===ie&&k.c===Ae,di=yt&&hn?"animate-jump-green":"";return G.jsxs("div",{onClick:()=>zn(ie,Ae),onDragOver:ur,onDrop:Gn=>Cs(Gn,ie,Ae),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Me?Me.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":ke?"cursor-not-allowed":"hover:bg-white/20"}  ${Me?.type==="temp"?`bg-[${bt.tileTemp}] ring-2 ring-[${bt.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Me&&!ke&&_n?"bg-white/20":Ae===0&&!Me?"bg-green-100/40":!Me&&!ke&&!je&&(ie+Ae)%2===0?"bg-black/5":"bg-transparent"} ${jt?"ring-4 ring-blue-400 z-20":""} ${!Me&&jt?"bg-blue-50/20":""} ${!Me&&Jn?"border-r-2 border-r-black/10":"border border-black/5"} ${_n?"animate-pop-green":""} ${di}`,style:hn?{backgroundColor:_n?bt.overlayComplete:bt.tileLocked,color:bt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:yt?`${Ae*50}ms`:"0ms"}:Me?.type==="temp"?{backgroundColor:Me.isWild?bt.tileWildPlaced:bt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:ke?{backgroundColor:bt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Me&&je&&G.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:G.jsx(cT,{size:20,style:{color:bt.startArrow}})}),!Me&&ke&&G.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Me&&Le&&!ke&&!Ne&&G.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[G.jsx(gm,{className:"w-6 h-6",fill:bt.starGold,stroke:bt.starGold}),G.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",Le.val]})]}),!Me&&Ne&&!ke&&G.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:G.jsx(ph,{className:"w-7 h-7",fill:bt.starPurple,stroke:bt.starPurple})}),Me&&G.jsxs("div",{draggable:Me.type==="temp"&&!yt&&r==="playing",onDragStart:Gn=>Ui(Gn,{type:"board",r:ie,c:Ae,letter:Me.letter}),className:`w-full h-full flex items-center justify-center ${Me.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[G.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:Me.letter}),Me.isWild&&G.jsx(ph,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${ie}-${Ae}`)}))}),G.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:U.filter(J=>J.type==="bottom").map((J,ie)=>{const fe=Math.max(J.startCol,H+J.offset);return G.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${fe*Da}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:G.jsx(X0,{trigger:be})},`fan-bottom-${J.id}`)})})]}),un&&G.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:G.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[G.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),G.jsx(lT,{size:16}),"Start Here!"]})})]})})}),G.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[G.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[G.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${qe.type==="error"?"bg-red-100 text-red-700":qe.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[G.jsx("span",{children:ut?"Checking...":qe.text}),qe.type==="error"&&qe.invalidWord&&G.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${qe.invalidWord}&body=The word "${qe.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",G.jsx(TT,{size:10})]})]}),G.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[G.jsx("button",{onClick:In,disabled:yt||w.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:G.jsx(CT,{size:16})}),G.jsxs("button",{onClick:sa,disabled:yt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[G.jsx(OT,{size:16})," Shuffle"]}),G.jsxs("button",{onClick:Ai,disabled:yt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[G.jsx(ZE,{size:16})," Sort A-Z"]}),X.length>0&&G.jsxs("button",{onClick:zi,disabled:ut||yt||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${ut||yt?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:ut||yt?{}:{backgroundColor:bt.accentPrimary,color:"white"},children:[ut?"Checking...":"JUMP"," ",G.jsx(sT,{size:18,strokeWidth:4})]}),X.length>0&&G.jsx("button",{onClick:()=>{const ie=X.map(fe=>fe.isWild?"*":fe.letter).map(fe=>Th(fe,!1));b(fe=>[...fe,...ie].sort((Ae,Me)=>Ae.letter!==Me.letter?Ae.letter.localeCompare(Me.letter):Ae.isNew===Me.isNew?0:Ae.isNew?1:-1)),re([]),setSelectedLetter(null)},disabled:yt||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:G.jsx(UT,{size:16})})]})]}),G.jsxs("div",{onDragOver:ur,onDrop:Fa,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:bt.boardLines},children:[qn.length===0&&G.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),qn.length<6?G.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:qn.map(J=>G.jsx(Fi,{letter:J},J))}):G.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[G.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:_a.map(J=>G.jsx(Fi,{letter:J},J))}),G.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ha.map(J=>G.jsx(Fi,{letter:J},J))})]})]})]}),G.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}YE.createRoot(document.getElementById("root")).render(G.jsx(dt.StrictMode,{children:G.jsx(sM,{})}));
