(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var um={exports:{}},Lu={};var Wv;function LE(){if(Wv)return Lu;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Lu.Fragment=e,Lu.jsx=i,Lu.jsxs=i,Lu}var Kv;function UE(){return Kv||(Kv=1,um.exports=LE()),um.exports}var q=UE(),cm={exports:{}},It={};var $v;function jE(){if($v)return It;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),G=Symbol.iterator;function ne(P){return P===null||typeof P!="object"?null:(P=G&&P[G]||P["@@iterator"],typeof P=="function"?P:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},De=Object.assign,Re={};function Ue(P,se,Se){this.props=P,this.context=se,this.refs=Re,this.updater=Se||z}Ue.prototype.isReactComponent={},Ue.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},Ue.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Fe(){}Fe.prototype=Ue.prototype;function qe(P,se,Se){this.props=P,this.context=se,this.refs=Re,this.updater=Se||z}var Ke=qe.prototype=new Fe;Ke.constructor=qe,De(Ke,Ue.prototype),Ke.isPureReactComponent=!0;var ht=Array.isArray;function ot(){}var F={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(P,se,Se){var be=Se.ref;return{$$typeof:r,type:P,key:se,ref:be!==void 0?be:null,props:Se}}function B(P,se){return V(P.type,se,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Se){return se[Se]})}var I=/\/+/g;function X(P,se){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):se.toString(36)}function re(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ot,ot):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,se,Se,be,Ie){var He=typeof P;(He==="undefined"||He==="boolean")&&(P=null);var We=!1;if(P===null)We=!0;else switch(He){case"bigint":case"string":case"number":We=!0;break;case"object":switch(P.$$typeof){case r:case e:We=!0;break;case x:return We=P._init,H(We(P._payload),se,Se,be,Ie)}}if(We)return Ie=Ie(P),We=be===""?"."+X(P,0):be,ht(Ie)?(Se="",We!=null&&(Se=We.replace(I,"$&/")+"/"),H(Ie,se,Se,"",function(Ct){return Ct})):Ie!=null&&(C(Ie)&&(Ie=B(Ie,Se+(Ie.key==null||P&&P.key===Ie.key?"":(""+Ie.key).replace(I,"$&/")+"/")+We)),se.push(Ie)),1;We=0;var ut=be===""?".":be+":";if(ht(P))for(var _t=0;_t<P.length;_t++)be=P[_t],He=ut+X(be,_t),We+=H(be,se,Se,He,Ie);else if(_t=ne(P),typeof _t=="function")for(P=_t.call(P),_t=0;!(be=P.next()).done;)be=be.value,He=ut+X(be,_t++),We+=H(be,se,Se,He,Ie);else if(He==="object"){if(typeof P.then=="function")return H(re(P),se,Se,be,Ie);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return We}function ee(P,se,Se){if(P==null)return P;var be=[],Ie=0;return H(P,be,"","",function(He){return se.call(Se,He,Ie++)}),be}function ye(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(Se){(P._status===0||P._status===-1)&&(P._status=1,P._result=Se)},function(Se){(P._status===0||P._status===-1)&&(P._status=2,P._result=Se)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var de=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},xe={map:ee,forEach:function(P,se,Se){ee(P,function(){se.apply(this,arguments)},Se)},count:function(P){var se=0;return ee(P,function(){se++}),se},toArray:function(P){return ee(P,function(se){return se})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return It.Activity=L,It.Children=xe,It.Component=Ue,It.Fragment=i,It.Profiler=l,It.PureComponent=qe,It.StrictMode=s,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,It.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(P,se,Se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var be=De({},P.props),Ie=P.key;if(se!=null)for(He in se.key!==void 0&&(Ie=""+se.key),se)!U.call(se,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&se.ref===void 0||(be[He]=se[He]);var He=arguments.length-2;if(He===1)be.children=Se;else if(1<He){for(var We=Array(He),ut=0;ut<He;ut++)We[ut]=arguments[ut+2];be.children=We}return V(P.type,Ie,be)},It.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},It.createElement=function(P,se,Se){var be,Ie={},He=null;if(se!=null)for(be in se.key!==void 0&&(He=""+se.key),se)U.call(se,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ie[be]=se[be]);var We=arguments.length-2;if(We===1)Ie.children=Se;else if(1<We){for(var ut=Array(We),_t=0;_t<We;_t++)ut[_t]=arguments[_t+2];Ie.children=ut}if(P&&P.defaultProps)for(be in We=P.defaultProps,We)Ie[be]===void 0&&(Ie[be]=We[be]);return V(P,He,Ie)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:b,render:P}},It.isValidElement=C,It.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ye}},It.memo=function(P,se){return{$$typeof:E,type:P,compare:se===void 0?null:se}},It.startTransition=function(P){var se=F.T,Se={};F.T=Se;try{var be=P(),Ie=F.S;Ie!==null&&Ie(Se,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(ot,de)}catch(He){de(He)}finally{se!==null&&Se.types!==null&&(se.types=Se.types),F.T=se}},It.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},It.use=function(P){return F.H.use(P)},It.useActionState=function(P,se,Se){return F.H.useActionState(P,se,Se)},It.useCallback=function(P,se){return F.H.useCallback(P,se)},It.useContext=function(P){return F.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,se){return F.H.useDeferredValue(P,se)},It.useEffect=function(P,se){return F.H.useEffect(P,se)},It.useEffectEvent=function(P){return F.H.useEffectEvent(P)},It.useId=function(){return F.H.useId()},It.useImperativeHandle=function(P,se,Se){return F.H.useImperativeHandle(P,se,Se)},It.useInsertionEffect=function(P,se){return F.H.useInsertionEffect(P,se)},It.useLayoutEffect=function(P,se){return F.H.useLayoutEffect(P,se)},It.useMemo=function(P,se){return F.H.useMemo(P,se)},It.useOptimistic=function(P,se){return F.H.useOptimistic(P,se)},It.useReducer=function(P,se,Se){return F.H.useReducer(P,se,Se)},It.useRef=function(P){return F.H.useRef(P)},It.useState=function(P){return F.H.useState(P)},It.useSyncExternalStore=function(P,se,Se){return F.H.useSyncExternalStore(P,se,Se)},It.useTransition=function(){return F.H.useTransition()},It.version="19.2.0",It}var Jv;function tf(){return Jv||(Jv=1,cm.exports=jE()),cm.exports}var dt=tf(),hm={exports:{}},Uu={},fm={exports:{}},dm={};var Zv;function zE(){return Zv||(Zv=1,(function(r){function e(H,ee){var ye=H.length;H.push(ee);e:for(;0<ye;){var de=ye-1>>>1,xe=H[de];if(0<l(xe,ee))H[de]=ee,H[ye]=xe,ye=de;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ee=H[0],ye=H.pop();if(ye!==ee){H[0]=ye;e:for(var de=0,xe=H.length,P=xe>>>1;de<P;){var se=2*(de+1)-1,Se=H[se],be=se+1,Ie=H[be];if(0>l(Se,ye))be<xe&&0>l(Ie,Se)?(H[de]=Ie,H[be]=ye,de=be):(H[de]=Se,H[se]=ye,de=se);else if(be<xe&&0>l(Ie,ye))H[de]=Ie,H[be]=ye,de=be;else break e}}return ee}function l(H,ee){var ye=H.sortIndex-ee.sortIndex;return ye!==0?ye:H.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],x=1,L=null,G=3,ne=!1,z=!1,De=!1,Re=!1,Ue=typeof setTimeout=="function"?setTimeout:null,Fe=typeof clearTimeout=="function"?clearTimeout:null,qe=typeof setImmediate<"u"?setImmediate:null;function Ke(H){for(var ee=i(E);ee!==null;){if(ee.callback===null)s(E);else if(ee.startTime<=H)s(E),ee.sortIndex=ee.expirationTime,e(w,ee);else break;ee=i(E)}}function ht(H){if(De=!1,Ke(H),!z)if(i(w)!==null)z=!0,ot||(ot=!0,k());else{var ee=i(E);ee!==null&&re(ht,ee.startTime-H)}}var ot=!1,F=-1,U=5,V=-1;function B(){return Re?!0:!(r.unstable_now()-V<U)}function C(){if(Re=!1,ot){var H=r.unstable_now();V=H;var ee=!0;try{e:{z=!1,De&&(De=!1,Fe(F),F=-1),ne=!0;var ye=G;try{t:{for(Ke(H),L=i(w);L!==null&&!(L.expirationTime>H&&B());){var de=L.callback;if(typeof de=="function"){L.callback=null,G=L.priorityLevel;var xe=de(L.expirationTime<=H);if(H=r.unstable_now(),typeof xe=="function"){L.callback=xe,Ke(H),ee=!0;break t}L===i(w)&&s(w),Ke(H)}else s(w);L=i(w)}if(L!==null)ee=!0;else{var P=i(E);P!==null&&re(ht,P.startTime-H),ee=!1}}break e}finally{L=null,G=ye,ne=!1}ee=void 0}}finally{ee?k():ot=!1}}}var k;if(typeof qe=="function")k=function(){qe(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,X=I.port2;I.port1.onmessage=C,k=function(){X.postMessage(null)}}else k=function(){Ue(C,0)};function re(H,ee){F=Ue(function(){H(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return G},r.unstable_next=function(H){switch(G){case 1:case 2:case 3:var ee=3;break;default:ee=G}var ye=G;G=ee;try{return H()}finally{G=ye}},r.unstable_requestPaint=function(){Re=!0},r.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ye=G;G=H;try{return ee()}finally{G=ye}},r.unstable_scheduleCallback=function(H,ee,ye){var de=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?de+ye:de):ye=de,H){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ye+xe,H={id:x++,callback:ee,priorityLevel:H,startTime:ye,expirationTime:xe,sortIndex:-1},ye>de?(H.sortIndex=ye,e(E,H),i(w)===null&&H===i(E)&&(De?(Fe(F),F=-1):De=!0,re(ht,ye-de))):(H.sortIndex=xe,e(w,H),z||ne||(z=!0,ot||(ot=!0,k()))),H},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(H){var ee=G;return function(){var ye=G;G=ee;try{return H.apply(this,arguments)}finally{G=ye}}}})(dm)),dm}var e_;function BE(){return e_||(e_=1,fm.exports=zE()),fm.exports}var mm={exports:{}},Gi={};var t_;function FE(){if(t_)return Gi;t_=1;var r=tf();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:w,containerInfo:E,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gi.createPortal=function(w,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,x)},Gi.flushSync=function(w){var E=p.T,x=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=x,s.d.f()}},Gi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},Gi.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},Gi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin),G=typeof E.integrity=="string"?E.integrity:void 0,ne=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:G,fetchPriority:ne}):x==="script"&&s.d.X(w,{crossOrigin:L,integrity:G,fetchPriority:ne,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Gi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},Gi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,L=b(x,E.crossOrigin);s.d.L(w,x,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Gi.preloadModule=function(w,E){if(typeof w=="string")if(E){var x=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},Gi.requestFormReset=function(w){s.d.r(w)},Gi.unstable_batchedUpdates=function(w,E){return w(E)},Gi.useFormState=function(w,E,x){return p.H.useFormState(w,E,x)},Gi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Gi.version="19.2.0",Gi}var n_;function HE(){if(n_)return mm.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=FE(),mm.exports}var i_;function qE(){if(i_)return Uu;i_=1;var r=BE(),e=tf(),i=HE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,G=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),De=Symbol.for("react.fragment"),Re=Symbol.for("react.strict_mode"),Ue=Symbol.for("react.profiler"),Fe=Symbol.for("react.consumer"),qe=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function X(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case De:return"Fragment";case Ue:return"Profiler";case Re:return"StrictMode";case ht:return"Suspense";case ot:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case qe:return t.displayName||"Context";case Fe:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:X(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return X(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function P(t){return{current:t}}function se(t){0>xe||(t.current=de[xe],de[xe]=null,xe--)}function Se(t,n){xe++,de[xe]=t.current,t.current=n}var be=P(null),Ie=P(null),He=P(null),We=P(null);function ut(t,n){switch(Se(He,n),Se(Ie,t),Se(be,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=vv(n),t=_v(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(be),Se(be,t)}function _t(){se(be),se(Ie),se(He)}function Ct(t){t.memoizedState!==null&&Se(We,t);var n=be.current,a=_v(n,t.type);n!==a&&(Se(Ie,t),Se(be,a))}function rn(t){Ie.current===t&&(se(be),se(Ie)),We.current===t&&(se(We),Ou._currentValue=ye)}var ft,Et;function Lt(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",Et=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+Et}var Ut=!1;function On(t,n){if(!t||Ut)return"";Ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var he=ge}Reflect.construct(t,[],Ee)}else{try{Ee.call()}catch(ge){he=ge}t.call(Ee.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Ee=t())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Y=T.split(`
`),ue=M.split(`
`);for(h=o=0;o<Y.length&&!Y[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;if(o===Y.length||h===ue.length)for(o=Y.length-1,h=ue.length-1;1<=o&&0<=h&&Y[o]!==ue[h];)h--;for(;1<=o&&0<=h;o--,h--)if(Y[o]!==ue[h]){if(o!==1||h!==1)do if(o--,h--,0>h||Y[o]!==ue[h]){var ve=`
`+Y[o].replace(" at new "," at ");return t.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",t.displayName)),ve}while(1<=o&&0<=h);break}}}finally{Ut=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Lt(a):""}function ri(t,n){switch(t.tag){case 26:case 27:case 5:return Lt(t.type);case 16:return Lt("Lazy");case 13:return t.child!==n&&n!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return Lt("Activity");default:return""}}function en(t){try{var n="",a=null;do n+=ri(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var at=Object.prototype.hasOwnProperty,bt=r.unstable_scheduleCallback,dn=r.unstable_cancelCallback,Ar=r.unstable_shouldYield,Sn=r.unstable_requestPaint,Gt=r.unstable_now,mn=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,K=r.unstable_IdlePriority,pe=r.log,Ae=r.unstable_setDisableYieldValue,$e=null,tt=null;function Xe(t){if(typeof pe=="function"&&Ae(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode($e,t)}catch{}}var nt=Math.clz32?Math.clz32:cn,Jt=Math.log,In=Math.LN2;function cn(t){return t>>>=0,t===0?32:31-(Jt(t)/In|0)|0}var Rn=256,qn=262144,Bt=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=xn(o):(T&=M,T!==0?h=xn(T):a||(a=M&~t,a!==0&&(h=xn(a))))):(M=o&~m,M!==0?h=xn(M):T!==0?h=xn(T):a||(a=o&~t,a!==0&&(h=xn(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ki(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),t}function Gn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function St(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ki(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,Y=t.expirationTimes,ue=t.hiddenUpdates;for(a=T&~a;0<a;){var ve=31-nt(a),Ee=1<<ve;M[ve]=0,Y[ve]=-1;var he=ue[ve];if(he!==null)for(ue[ve]=null,ve=0;ve<he.length;ve++){var ge=he[ve];ge!==null&&(ge.lane&=-536870913)}a&=~Ee}o!==0&&$i(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function $i(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-nt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ba(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-nt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Sr(t,n){var a=n&-n;return a=(a&42)!==0?1:Br(a),(a&(t.suspendedLanes|n))!==0?0:a}function Br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fr(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function Pi(t,n){var a=ee.p;try{return ee.p=t,n()}finally{ee.p=a}}var Ji=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ji,zn="__reactProps$"+Ji,Li="__reactContainer$"+Ji,or="__reactEvents$"+Ji,Cs="__reactListeners$"+Ji,Fa="__reactHandles$"+Ji,aa="__reactResources$"+Ji,Ui="__reactMarker$"+Ji;function wi(t){delete t[pn],delete t[zn],delete t[or],delete t[Cs],delete t[Fa]}function ji(t){var n=t[pn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Li]||a[pn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Rv(t);t!==null;){if(a=t[pn])return a;t=Rv(t)}return n}t=a,a=t.parentNode}return null}function zi(t){if(t=t[pn]||t[Li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ei(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Kn(t){var n=t[aa];return n||(n=t[aa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function kn(t){t[Ui]=!0}var sa=new Set,Ti={};function Ai(t,n){Yn(t,n),Yn(t+"Capture",n)}function Yn(t,n){for(Ti[t]=n,t=0;t<n.length;t++)sa.add(n[t])}var va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rr={},_a={};function Ha(t){return at.call(_a,t)?!0:at.call(Rr,t)?!1:va.test(t)?_a[t]=!0:(Rr[t]=!0,!1)}function Bi(t,n,a){if(Ha(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function $(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ie(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function we(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ve(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Le(t){if(!t._valueTracker){var n=we(t)?"checked":"value";t._valueTracker=Ve(t,n,""+t[n])}}function ke(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=we(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Me(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pe=/[\n"\\]/g;function Ge(t){return t.replace(Pe,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vt(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+fe(n)):t.value!==""+fe(n)&&(t.value=""+fe(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?_n(t,T,fe(n)):a!=null?_n(t,T,fe(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+fe(M):t.removeAttribute("name")}function Bn(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Le(t);return}a=a!=null?""+fe(a):"",n=n!=null?""+fe(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Le(t)}function _n(t,n,a){n==="number"&&Me(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function jt(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+fe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function di(t,n,a){if(n!=null&&(n=""+fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+fe(a):""}function Xn(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=fe(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Le(t)}function ai(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qa(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||lr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Cr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&qa(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&qa(t,m,n[m])}function Ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ur(){}var Is=null;function cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,Zi=null;function fr(t){var n=zi(t);if(n&&(t=n.stateNode)){var a=t[zn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Vt(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[zn]||null;if(!h)throw Error(s(90));Vt(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ke(o)}break e;case"textarea":di(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&jt(t,!!a.multiple,n,!1)}}}var oa=!1;function dr(t,n,a){if(oa)return t(n,a);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(hr!==null||Zi!==null)&&(Xc(),hr&&(n=hr,t=Zi,Zi=hr=null,fr(n),t)))for(n=0;n<t.length;n++)fr(t[n])}}function Si(t,n){var a=t.stateNode;if(a===null)return null;var o=a[zn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(mi)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Hr=!1}var qr=null,Fi=null,la=null;function Ea(){if(la)return la;var t,n=Fi,a=n.length,o,h="value"in qr?qr.value:qr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return la=h.slice(t,1<o?1-o:void 0)}function ua(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function Mr(){return!1}function pi(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:Mr,this.isPropagationStopped=Mr,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),n}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=pi(mr),Ta=L({},mr,{view:0,detail:0}),Ao=pi(Ta),Nr,Ya,er,Xa=L({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(Nr=t.screenX-er.screenX,Ya=t.screenY-er.screenY):Ya=Nr=0,er=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),xs=pi(Xa),Qa=L({},Xa,{dataTransfer:0}),$o=pi(Qa),Zn=L({},Ta,{relatedTarget:0}),Aa=pi(Zn),tr=L({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=pi(tr),ca=L({},mr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wa=pi(ca),Ms=L({},mr,{data:0}),Dr=pi(Ms),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ds(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=el[t])?!!n[t]:!1}function Sa(){return Ds}var Ri=L({},Ta,{key:function(t){if(t.key){var n=Ns[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(t){return t.type==="keypress"?ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),So=pi(Ri),tl=L({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=pi(tl),u=L({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),y=pi(u),A=L({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=pi(A),ae=L({},Xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),me=pi(ae),je=L({},mr,{newState:0,oldState:0}),At=pi(je),Qn=[9,13,27,32],an=mi&&"CompositionEvent"in window,Nn=null;mi&&"documentMode"in document&&(Nn=document.documentMode);var Hi=mi&&"TextEvent"in window&&!Nn,pr=mi&&(!an||Nn&&8<Nn&&11>=Nn),gr=" ",nr=!1;function Yr(t,n){switch(t){case"keyup":return Qn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Tf(t,n){switch(t){case"compositionend":return Ka(n);case"keypress":return n.which!==32?null:(nr=!0,gr);case"textInput":return t=n.data,t===gr&&nr?null:t;default:return null}}function pc(t,n){if($a)return t==="compositionend"||!an&&Yr(t,n)?(t=Ea(),la=Fi=qr=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pr&&n.locale!=="ko"?null:n.data;default:return null}}var nl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nl[t.type]:n==="textarea"}function Pn(t,n,a,o){hr?Zi?Zi.push(o):Zi=[o]:hr=o,n=eh(n,"onChange"),0<n.length&&(a=new Gr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ir=null,Ja=null;function gc(t){fv(t,0)}function Ro(t){var n=Ei(t);if(ke(n))return t}function nu(t,n){if(t==="change")return n}var iu=!1;if(mi){var Os;if(mi){var il="oninput"in document;if(!il){var f=document.createElement("div");f.setAttribute("oninput","return;"),il=typeof f.oninput=="function"}Os=il}else Os=!1;iu=Os&&(!document.documentMode||9<document.documentMode)}function d(){ir&&(ir.detachEvent("onpropertychange",_),Ja=ir=null)}function _(t){if(t.propertyName==="value"&&Ro(Ja)){var n=[];Pn(n,Ja,t,cr(t)),dr(gc,n)}}function S(t,n,a){t==="focusin"?(d(),ir=n,Ja=a,ir.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(Ja)}function j(t,n){if(t==="click")return Ro(n)}function W(t,n){if(t==="input"||t==="change")return Ro(n)}function J(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ce=typeof Object.is=="function"?Object.is:J;function le(t,n){if(ce(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!at.call(n,h)||!ce(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var a=Oe(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oe(a)}}function st(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?st(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Z(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Me(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Me(t.document)}return n}function ze(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var it=mi&&"documentMode"in document&&11>=document.documentMode,Be=null,on=null,Ze=null,kt=!1;function gn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kt||Be==null||Be!==Me(o)||(o=Be,"selectionStart"in o&&ze(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&le(Ze,o)||(Ze=o,o=eh(on,"onSelect"),0<o.length&&(n=new Gr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Be)))}function ei(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var yr={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},zt={},Or={};mi&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Za(t){if(zt[t])return zt[t];if(!yr[t])return t;var n=yr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Or)return zt[t]=n[a];return t}var Ne=Za("animationend"),Ye=Za("animationiteration"),Pt=Za("animationstart"),Yt=Za("transitionrun"),Mt=Za("transitionstart"),Ft=Za("transitioncancel"),tn=Za("transitionend"),sn=new Map,rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rr.push("scrollEnd");function yn(t,n){sn.set(t,n),Ai(n,[t])}var Ci=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hn=[],es=0,rl=0;function Ra(){for(var t=es,n=rl=es=0;n<t;){var a=hn[n];hn[n++]=null;var o=hn[n];hn[n++]=null;var h=hn[n];hn[n++]=null;var m=hn[n];if(hn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&ru(a,h,m)}}function Ca(t,n,a,o){hn[es++]=t,hn[es++]=n,hn[es++]=a,hn[es++]=o,rl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function fa(t,n,a,o){return Ca(t,n,a,o),Co(t)}function ar(t,n){return Ca(t,null,null,n),Co(t)}function ru(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-nt(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function Co(t){if(50<Ru)throw Ru=0,Od=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Vr={};function Af(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(t,n,a,o){return new Af(t,n,a,o)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var a=t.alternate;return a===null?(a=qi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")Sf(t)&&(T=1);else if(typeof t=="string")T=SE(t,a,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=qi(31,a,n,h),t.elementType=V,t.lanes=m,t;case De:return Io(a.children,h,m,n);case Re:T=8,h|=24;break;case Ue:return t=qi(12,a,n,h|2),t.elementType=Ue,t.lanes=m,t;case ht:return t=qi(13,a,n,h),t.elementType=ht,t.lanes=m,t;case ot:return t=qi(19,a,n,h),t.elementType=ot,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qe:T=10;break e;case Fe:T=9;break e;case Ke:T=11;break e;case F:T=14;break e;case U:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=qi(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Io(t,n,a,o){return t=qi(7,t,o,n),t.lanes=a,t}function Rf(t,n,a){return t=qi(6,t,null,n),t.lanes=a,t}function Wp(t){var n=qi(18,null,null,0);return n.stateNode=t,n}function Cf(t,n,a){return n=qi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Kp=new WeakMap;function Xr(t,n){if(typeof t=="object"&&t!==null){var a=Kp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:en(n)},Kp.set(t,n),n)}return{value:t,source:n,stack:en(n)}}var al=[],sl=0,vc=null,au=0,Qr=[],Wr=0,Vs=null,Ia=1,xa="";function ns(t,n){al[sl++]=au,al[sl++]=vc,vc=t,au=n}function $p(t,n,a){Qr[Wr++]=Ia,Qr[Wr++]=xa,Qr[Wr++]=Vs,Vs=t;var o=Ia;t=xa;var h=32-nt(o)-1;o&=~(1<<h),a+=1;var m=32-nt(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ia=1<<32-nt(n)+h|a<<h|o,xa=m+t}else Ia=1<<m|a<<h|o,xa=t}function If(t){t.return!==null&&(ns(t,1),$p(t,1,0))}function xf(t){for(;t===vc;)vc=al[--sl],al[sl]=null,au=al[--sl],al[sl]=null;for(;t===Vs;)Vs=Qr[--Wr],Qr[Wr]=null,xa=Qr[--Wr],Qr[Wr]=null,Ia=Qr[--Wr],Qr[Wr]=null}function Jp(t,n){Qr[Wr++]=Ia,Qr[Wr++]=xa,Qr[Wr++]=Vs,Ia=n.id,xa=n.overflow,Vs=t}var Ii=null,Ln=null,Zt=!1,ks=null,Kr=!1,Mf=Error(s(519));function Ps(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Xr(n,t)),Mf}function Zp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[pn]=t,n[zn]=o,a){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<Iu.length;a++)qt(Iu[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":qt("invalid",n),Bn(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qt("invalid",n);break;case"textarea":qt("invalid",n),Xn(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||gv(n.textContent,a)?(o.popover!=null&&(qt("beforetoggle",n),qt("toggle",n)),o.onScroll!=null&&qt("scroll",n),o.onScrollEnd!=null&&qt("scrollend",n),o.onClick!=null&&(n.onclick=ur),n=!0):n=!1,n||Ps(t,!0)}function eg(t){for(Ii=t.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:Ii=Ii.return}}function ol(t){if(t!==Ii)return!1;if(!Zt)return eg(t),Zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&Ln&&Ps(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ln=Sv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ln=Sv(t)}else n===27?(n=Ln,Ks(t.type)?(t=Zd,Zd=null,Ln=t):Ln=n):Ln=Ii?Jr(t.stateNode.nextSibling):null;return!0}function xo(){Ln=Ii=null,Zt=!1}function Nf(){var t=ks;return t!==null&&(wr===null?wr=t:wr.push.apply(wr,t),ks=null),t}function su(t){ks===null?ks=[t]:ks.push(t)}var Df=P(null),Mo=null,is=null;function Ls(t,n,a){Se(Df,n._currentValue),n._currentValue=a}function rs(t){t._currentValue=Df.current,se(Df)}function Of(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Vf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var Y=0;Y<n.length;Y++)if(M.context===n[Y]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),Of(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Of(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ll(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;ce(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===We.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ou):t=[Ou])}h=h.return}t!==null&&Vf(n,t,a,o),n.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!ce(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function No(t){Mo=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xi(t){return tg(Mo,t)}function bc(t,n){return Mo===null&&No(t),tg(t,n)}function tg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return a}var w1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},E1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,si={$$typeof:qe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new w1,data:new Map,refCount:0}}function ou(t){t.refCount--,t.refCount===0&&E1(T1,function(){t.controller.abort()})}var lu=null,Pf=0,ul=0,cl=null;function A1(t,n){if(lu===null){var a=lu=[];Pf=0,ul=jd(),cl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Pf++,n.then(ng,ng),n}function ng(){if(--Pf===0&&lu!==null){cl!==null&&(cl.status="fulfilled");var t=lu;lu=null,ul=0,cl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function S1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ig=H.S;H.S=function(t,n){zy=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(t,n),ig!==null&&ig(t,n)};var Do=P(null);function Lf(){var t=Do.current;return t!==null?t:Cn.pooledCache}function wc(t,n){n===null?Se(Do,Do.current):Se(Do,n.pool)}function rg(){var t=Lf();return t===null?null:{parent:si._currentValue,pool:t}}var hl=Error(s(460)),Uf=Error(s(474)),Ec=Error(s(542)),Tc={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ur,ur),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(ur,ur);else{if(t=Cn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Vo=n,hl}}function Oo(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vo=a,hl):a}}var Vo=null;function og(){if(Vo===null)throw Error(s(459));var t=Vo;return Vo=null,t}function lg(t){if(t===hl||t===Ec)throw Error(s(483))}var fl=null,uu=0;function Ac(t){var n=uu;return uu+=1,fl===null&&(fl=[]),sg(fl,t,n)}function cu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sc(t,n){throw n.$$typeof===G?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(te,Q){if(t){var oe=te.deletions;oe===null?(te.deletions=[Q],te.flags|=16):oe.push(Q)}}function a(te,Q){if(!t)return null;for(;Q!==null;)n(te,Q),Q=Q.sibling;return null}function o(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function h(te,Q){return te=ts(te,Q),te.index=0,te.sibling=null,te}function m(te,Q,oe){return te.index=oe,t?(oe=te.alternate,oe!==null?(oe=oe.index,oe<Q?(te.flags|=67108866,Q):oe):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function T(te){return t&&te.alternate===null&&(te.flags|=67108866),te}function M(te,Q,oe,_e){return Q===null||Q.tag!==6?(Q=Rf(oe,te.mode,_e),Q.return=te,Q):(Q=h(Q,oe),Q.return=te,Q)}function Y(te,Q,oe,_e){var mt=oe.type;return mt===De?ve(te,Q,oe.props.children,_e,oe.key):Q!==null&&(Q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&Oo(mt)===Q.type)?(Q=h(Q,oe.props),cu(Q,oe),Q.return=te,Q):(Q=yc(oe.type,oe.key,oe.props,null,te.mode,_e),cu(Q,oe),Q.return=te,Q)}function ue(te,Q,oe,_e){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=Cf(oe,te.mode,_e),Q.return=te,Q):(Q=h(Q,oe.children||[]),Q.return=te,Q)}function ve(te,Q,oe,_e,mt){return Q===null||Q.tag!==7?(Q=Io(oe,te.mode,_e,mt),Q.return=te,Q):(Q=h(Q,oe),Q.return=te,Q)}function Ee(te,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Rf(""+Q,te.mode,oe),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ne:return oe=yc(Q.type,Q.key,Q.props,null,te.mode,oe),cu(oe,Q),oe.return=te,oe;case z:return Q=Cf(Q,te.mode,oe),Q.return=te,Q;case U:return Q=Oo(Q),Ee(te,Q,oe)}if(re(Q)||k(Q))return Q=Io(Q,te.mode,oe,null),Q.return=te,Q;if(typeof Q.then=="function")return Ee(te,Ac(Q),oe);if(Q.$$typeof===qe)return Ee(te,bc(te,Q),oe);Sc(te,Q)}return null}function he(te,Q,oe,_e){var mt=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return mt!==null?null:M(te,Q,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ne:return oe.key===mt?Y(te,Q,oe,_e):null;case z:return oe.key===mt?ue(te,Q,oe,_e):null;case U:return oe=Oo(oe),he(te,Q,oe,_e)}if(re(oe)||k(oe))return mt!==null?null:ve(te,Q,oe,_e,null);if(typeof oe.then=="function")return he(te,Q,Ac(oe),_e);if(oe.$$typeof===qe)return he(te,Q,bc(te,oe),_e);Sc(te,oe)}return null}function ge(te,Q,oe,_e,mt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return te=te.get(oe)||null,M(Q,te,""+_e,mt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ne:return te=te.get(_e.key===null?oe:_e.key)||null,Y(Q,te,_e,mt);case z:return te=te.get(_e.key===null?oe:_e.key)||null,ue(Q,te,_e,mt);case U:return _e=Oo(_e),ge(te,Q,oe,_e,mt)}if(re(_e)||k(_e))return te=te.get(oe)||null,ve(Q,te,_e,mt,null);if(typeof _e.then=="function")return ge(te,Q,oe,Ac(_e),mt);if(_e.$$typeof===qe)return ge(te,Q,oe,bc(Q,_e),mt);Sc(Q,_e)}return null}function lt(te,Q,oe,_e){for(var mt=null,ln=null,ct=Q,Ot=Q=0,Qt=null;ct!==null&&Ot<oe.length;Ot++){ct.index>Ot?(Qt=ct,ct=null):Qt=ct.sibling;var un=he(te,ct,oe[Ot],_e);if(un===null){ct===null&&(ct=Qt);break}t&&ct&&un.alternate===null&&n(te,ct),Q=m(un,Q,Ot),ln===null?mt=un:ln.sibling=un,ln=un,ct=Qt}if(Ot===oe.length)return a(te,ct),Zt&&ns(te,Ot),mt;if(ct===null){for(;Ot<oe.length;Ot++)ct=Ee(te,oe[Ot],_e),ct!==null&&(Q=m(ct,Q,Ot),ln===null?mt=ct:ln.sibling=ct,ln=ct);return Zt&&ns(te,Ot),mt}for(ct=o(ct);Ot<oe.length;Ot++)Qt=ge(ct,te,Ot,oe[Ot],_e),Qt!==null&&(t&&Qt.alternate!==null&&ct.delete(Qt.key===null?Ot:Qt.key),Q=m(Qt,Q,Ot),ln===null?mt=Qt:ln.sibling=Qt,ln=Qt);return t&&ct.forEach(function(to){return n(te,to)}),Zt&&ns(te,Ot),mt}function yt(te,Q,oe,_e){if(oe==null)throw Error(s(151));for(var mt=null,ln=null,ct=Q,Ot=Q=0,Qt=null,un=oe.next();ct!==null&&!un.done;Ot++,un=oe.next()){ct.index>Ot?(Qt=ct,ct=null):Qt=ct.sibling;var to=he(te,ct,un.value,_e);if(to===null){ct===null&&(ct=Qt);break}t&&ct&&to.alternate===null&&n(te,ct),Q=m(to,Q,Ot),ln===null?mt=to:ln.sibling=to,ln=to,ct=Qt}if(un.done)return a(te,ct),Zt&&ns(te,Ot),mt;if(ct===null){for(;!un.done;Ot++,un=oe.next())un=Ee(te,un.value,_e),un!==null&&(Q=m(un,Q,Ot),ln===null?mt=un:ln.sibling=un,ln=un);return Zt&&ns(te,Ot),mt}for(ct=o(ct);!un.done;Ot++,un=oe.next())un=ge(ct,te,Ot,un.value,_e),un!==null&&(t&&un.alternate!==null&&ct.delete(un.key===null?Ot:un.key),Q=m(un,Q,Ot),ln===null?mt=un:ln.sibling=un,ln=un);return t&&ct.forEach(function(PE){return n(te,PE)}),Zt&&ns(te,Ot),mt}function An(te,Q,oe,_e){if(typeof oe=="object"&&oe!==null&&oe.type===De&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ne:e:{for(var mt=oe.key;Q!==null;){if(Q.key===mt){if(mt=oe.type,mt===De){if(Q.tag===7){a(te,Q.sibling),_e=h(Q,oe.props.children),_e.return=te,te=_e;break e}}else if(Q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===U&&Oo(mt)===Q.type){a(te,Q.sibling),_e=h(Q,oe.props),cu(_e,oe),_e.return=te,te=_e;break e}a(te,Q);break}else n(te,Q);Q=Q.sibling}oe.type===De?(_e=Io(oe.props.children,te.mode,_e,oe.key),_e.return=te,te=_e):(_e=yc(oe.type,oe.key,oe.props,null,te.mode,_e),cu(_e,oe),_e.return=te,te=_e)}return T(te);case z:e:{for(mt=oe.key;Q!==null;){if(Q.key===mt)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){a(te,Q.sibling),_e=h(Q,oe.children||[]),_e.return=te,te=_e;break e}else{a(te,Q);break}else n(te,Q);Q=Q.sibling}_e=Cf(oe,te.mode,_e),_e.return=te,te=_e}return T(te);case U:return oe=Oo(oe),An(te,Q,oe,_e)}if(re(oe))return lt(te,Q,oe,_e);if(k(oe)){if(mt=k(oe),typeof mt!="function")throw Error(s(150));return oe=mt.call(oe),yt(te,Q,oe,_e)}if(typeof oe.then=="function")return An(te,Q,Ac(oe),_e);if(oe.$$typeof===qe)return An(te,Q,bc(te,oe),_e);Sc(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Q!==null&&Q.tag===6?(a(te,Q.sibling),_e=h(Q,oe),_e.return=te,te=_e):(a(te,Q),_e=Rf(oe,te.mode,_e),_e.return=te,te=_e),T(te)):a(te,Q)}return function(te,Q,oe,_e){try{uu=0;var mt=An(te,Q,oe,_e);return fl=null,mt}catch(ct){if(ct===hl||ct===Ec)throw ct;var ln=qi(29,ct,null,te.mode);return ln.lanes=_e,ln.return=te,ln}finally{}}}var ko=ug(!0),cg=ug(!1),Us=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(fn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Co(t),ru(t,null,a),n}return Ca(t,o,n,a),Co(t)}function hu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ba(t,a)}}function Bf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ff=!1;function fu(){if(Ff){var t=cl;if(t!==null)throw t}}function du(t,n,a,o){Ff=!1;var h=t.updateQueue;Us=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var Y=M,ue=Y.next;Y.next=null,T===null?m=ue:T.next=ue,T=Y;var ve=t.alternate;ve!==null&&(ve=ve.updateQueue,M=ve.lastBaseUpdate,M!==T&&(M===null?ve.firstBaseUpdate=ue:M.next=ue,ve.lastBaseUpdate=Y))}if(m!==null){var Ee=h.baseState;T=0,ve=ue=Y=null,M=m;do{var he=M.lane&-536870913,ge=he!==M.lane;if(ge?(Xt&he)===he:(o&he)===he){he!==0&&he===ul&&(Ff=!0),ve!==null&&(ve=ve.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var lt=t,yt=M;he=n;var An=a;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Ee=lt.call(An,Ee,he);break e}Ee=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,he=typeof lt=="function"?lt.call(An,Ee,he):lt,he==null)break e;Ee=L({},Ee,he);break e;case 2:Us=!0}}he=M.callback,he!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ve===null?(ue=ve=ge,Y=Ee):ve=ve.next=ge,T|=he;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);ve===null&&(Y=Ee),h.baseState=Y,h.firstBaseUpdate=ue,h.lastBaseUpdate=ve,m===null&&(h.shared.lanes=0),Gs|=T,t.lanes=T,t.memoizedState=Ee}}function hg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function fg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hg(a[t],n)}var dl=P(null),Rc=P(0);function dg(t,n){t=ds,Se(Rc,t),Se(dl,n),ds=t|n.baseLanes}function Hf(){Se(Rc,ds),Se(dl,dl.current)}function qf(){ds=Rc.current,se(dl),se(Rc)}var kr=P(null),$r=null;function Bs(t){var n=t.alternate;Se(ti,ti.current&1),Se(kr,t),$r===null&&(n===null||dl.current!==null||n.memoizedState!==null)&&($r=t)}function Gf(t){Se(ti,ti.current),Se(kr,t),$r===null&&($r=t)}function mg(t){t.tag===22?(Se(ti,ti.current),Se(kr,t),$r===null&&($r=t)):Fs()}function Fs(){Se(ti,ti.current),Se(kr,kr.current)}function Pr(t){se(kr),$r===t&&($r=null),se(ti)}var ti=P(0);function Cc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$d(a)||Jd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Dt=null,En=null,oi=null,Ic=!1,ml=!1,Po=!1,xc=0,mu=0,pl=null,R1=0;function $n(){throw Error(s(321))}function Yf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ce(t[a],n[a]))return!1;return!0}function Xf(t,n,a,o,h,m){return as=m,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?$g:ld,Po=!1,m=a(o,h),Po=!1,ml&&(m=gg(n,a,o,h)),pg(t),m}function pg(t){H.H=yu;var n=En!==null&&En.next!==null;if(as=0,oi=En=Dt=null,Ic=!1,mu=0,pl=null,n)throw Error(s(300));t===null||li||(t=t.dependencies,t!==null&&_c(t)&&(li=!0))}function gg(t,n,a,o){Dt=t;var h=0;do{if(ml&&(pl=null),mu=0,ml=!1,25<=h)throw Error(s(301));if(h+=1,oi=En=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Jg,m=n(a,o)}while(ml);return m}function C1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?pu(n):n,t=t.useState()[0],(En!==null?En.memoizedState:null)!==t&&(Dt.flags|=1024),n}function Qf(){var t=xc!==0;return xc=0,t}function Wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Kf(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}as=0,oi=En=Dt=null,ml=!1,mu=xc=0,pl=null}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Dt.memoizedState=oi=t:oi=oi.next=t,oi}function ni(){if(En===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var n=oi===null?Dt.memoizedState:oi.next;if(n!==null)oi=n,En=t;else{if(t===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},oi===null?Dt.memoizedState=oi=t:oi=oi.next=t}return oi}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var n=mu;return mu+=1,pl===null&&(pl=[]),t=sg(pl,t,n),n=Dt,(oi===null?n.memoizedState:oi.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$g:ld),t}function Nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===qe)return xi(t)}throw Error(s(438,String(t)))}function $f(t){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mc(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=B;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=ni();return Jf(n,En,t)}function Jf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,Y=null,ue=n,ve=!1;do{var Ee=ue.lane&-536870913;if(Ee!==ue.lane?(Xt&Ee)===Ee:(as&Ee)===Ee){var he=ue.revertLane;if(he===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ee===ul&&(ve=!0);else if((as&he)===he){ue=ue.next,he===ul&&(ve=!0);continue}else Ee={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(M=Y=Ee,T=m):Y=Y.next=Ee,Dt.lanes|=he,Gs|=he;Ee=ue.action,Po&&a(m,Ee),m=ue.hasEagerState?ue.eagerState:a(m,Ee)}else he={lane:Ee,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(M=Y=he,T=m):Y=Y.next=he,Dt.lanes|=Ee,Gs|=Ee;ue=ue.next}while(ue!==null&&ue!==n);if(Y===null?T=m:Y.next=M,!ce(m,t.memoizedState)&&(li=!0,ve&&(a=cl,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=Y,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Zf(t){var n=ni(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ce(m,n.memoizedState)||(li=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function yg(t,n,a){var o=Dt,h=ni(),m=Zt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ce((En||h).memoizedState,a);if(T&&(h.memoizedState=a,li=!0),h=h.queue,nd(bg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||oi!==null&&oi.memoizedState.tag&1){if(o.flags|=2048,gl(9,{destroy:void 0},_g.bind(null,o,h,a,n),null),Cn===null)throw Error(s(349));m||(as&127)!==0||vg(o,n,a)}return a}function vg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=Mc(),Dt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function _g(t,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Eg(t)}function bg(t,n,a){return a(function(){wg(n)&&Eg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ce(t,a)}catch{return!0}}function Eg(t){var n=ar(t,2);n!==null&&Er(n,t,2)}function ed(t){var n=sr();if(typeof t=="function"){var a=t;if(t=a(),Po){Xe(!0);try{a()}finally{Xe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Tg(t,n,a,o){return t.baseState=a,Jf(t,En,typeof o=="function"?o:ss)}function I1(t,n,a,o,h){if(kc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};H.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,Ag(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Ag(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=H.T,T={};H.T=T;try{var M=a(h,o),Y=H.S;Y!==null&&Y(T,M),Sg(t,n,M)}catch(ue){td(t,n,ue)}finally{m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}else try{m=a(h,o),Sg(t,n,m)}catch(ue){td(t,n,ue)}}function Sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Rg(t,n,o)},function(o){return td(t,n,o)}):Rg(t,n,a)}function Rg(t,n,a){n.status="fulfilled",n.value=a,Cg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ag(t,a)))}function td(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Cg(n),n=n.next;while(n!==o)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function xg(t,n){if(Zt){var a=Cn.formState;if(a!==null){e:{var o=Dt;if(Zt){if(Ln){t:{for(var h=Ln,m=Kr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Jr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ln=Jr(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(n=a[0])}}return a=sr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},a.queue=o,a=Qg.bind(null,Dt,o),o.dispatch=a,o=ed(!1),m=od.bind(null,Dt,!1,o.queue),o=sr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=I1.bind(null,Dt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Mg(t){var n=ni();return Ng(n,En,t)}function Ng(t,n,a){if(n=Jf(t,n,Ig)[0],t=Dc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pu(n)}catch(T){throw T===hl?Ec:T}else o=n;n=ni();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,gl(9,{destroy:void 0},x1.bind(null,h,a),null)),[o,m,t]}function x1(t,n){t.action=n}function Dg(t){var n=ni(),a=En;if(a!==null)return Ng(n,a,t);ni(),n=n.memoizedState,a=ni();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function gl(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Mc(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Og(){return ni().memoizedState}function Oc(t,n,a,o){var h=sr();Dt.flags|=t,h.memoizedState=gl(1|n,{destroy:void 0},a,o===void 0?null:o)}function Vc(t,n,a,o){var h=ni();o=o===void 0?null:o;var m=h.memoizedState.inst;En!==null&&o!==null&&Yf(o,En.memoizedState.deps)?h.memoizedState=gl(n,m,a,o):(Dt.flags|=t,h.memoizedState=gl(1|n,m,a,o))}function Vg(t,n){Oc(8390656,8,t,n)}function nd(t,n){Vc(2048,8,t,n)}function M1(t){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Mc(),Dt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function kg(t){var n=ni().memoizedState;return M1({ref:n,nextImpl:t}),function(){if((fn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return Vc(4,2,t,n)}function Lg(t,n){return Vc(4,4,t,n)}function Ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,a){a=a!=null?a.concat([t]):null,Vc(4,4,Ug.bind(null,n,t),a)}function id(){}function zg(t,n){var a=ni();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Yf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Bg(t,n){var a=ni();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Yf(n,o[1]))return o[0];if(o=t(),Po){Xe(!0);try{t()}finally{Xe(!1)}}return a.memoizedState=[o,n],o}function rd(t,n,a){return a===void 0||(as&1073741824)!==0&&(Xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Dt.lanes|=t,Gs|=t,a)}function Fg(t,n,a,o){return ce(a,n)?a:dl.current!==null?(t=rd(t,a,o),ce(t,n)||(li=!0),t):(as&42)===0||(as&1073741824)!==0&&(Xt&261930)===0?(li=!0,t.memoizedState=a):(t=Fy(),Dt.lanes|=t,Gs|=t,n)}function Hg(t,n,a,o,h){var m=ee.p;ee.p=m!==0&&8>m?m:8;var T=H.T,M={};H.T=M,od(t,!1,n,a);try{var Y=h(),ue=H.S;if(ue!==null&&ue(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ve=S1(Y,o);gu(t,n,ve,jr(t))}else gu(t,n,o,jr(t))}catch(Ee){gu(t,n,{then:function(){},status:"rejected",reason:Ee},jr())}finally{ee.p=m,T!==null&&M.types!==null&&(T.types=M.types),H.T=T}}function N1(){}function ad(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=qg(t).queue;Hg(t,h,n,ye,a===null?N1:function(){return Gg(t),a(o)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),gu(t,n.next.queue,{},jr())}function sd(){return xi(Ou)}function Yg(){return ni().memoizedState}function Xg(){return ni().memoizedState}function D1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jr();t=js(a);var o=zs(n,t,a);o!==null&&(Er(o,n,a),hu(o,n,a)),n={cache:kf()},t.payload=n;return}n=n.return}}function O1(t,n,a){var o=jr();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?Wg(n,a):(a=fa(t,n,a,o),a!==null&&(Er(a,t,o),Kg(a,n,o)))}function Qg(t,n,a){var o=jr();gu(t,n,a,o)}function gu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))Wg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,ce(M,T))return Ca(t,n,h,0),Cn===null&&Ra(),!1}catch{}finally{}if(a=fa(t,n,h,o),a!==null)return Er(a,t,o),Kg(a,n,o),!0}return!1}function od(t,n,a,o){if(o={lane:2,revertLane:jd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(s(479))}else n=fa(t,a,o,2),n!==null&&Er(n,t,2)}function kc(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function Wg(t,n){ml=Ic=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Kg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ba(t,a)}}var yu={readContext:xi,use:Nc,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};yu.useEffectEvent=$n;var $g={readContext:xi,use:Nc,useCallback:function(t,n){return sr().memoizedState=[t,n===void 0?null:n],t},useContext:xi,useEffect:Vg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,Ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var a=sr();n=n===void 0?null:n;var o=t();if(Po){Xe(!0);try{t()}finally{Xe(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=sr();if(a!==void 0){var h=a(n);if(Po){Xe(!0);try{a(n)}finally{Xe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=O1.bind(null,Dt,t),[o.memoizedState,t]},useRef:function(t){var n=sr();return t={current:t},n.memoizedState=t},useState:function(t){t=ed(t);var n=t.queue,a=Qg.bind(null,Dt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:id,useDeferredValue:function(t,n){var a=sr();return rd(a,t,n)},useTransition:function(){var t=ed(!1);return t=Hg.bind(null,Dt,t.queue,!0,!1),sr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Dt,h=sr();if(Zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Cn===null)throw Error(s(349));(Xt&127)!==0||vg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,Vg(bg.bind(null,o,m,t),[t]),o.flags|=2048,gl(9,{destroy:void 0},_g.bind(null,o,m,a,n),null),a},useId:function(){var t=sr(),n=Cn.identifierPrefix;if(Zt){var a=xa,o=Ia;a=(o&~(1<<32-nt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=xc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=R1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sd,useFormState:xg,useActionState:xg,useOptimistic:function(t){var n=sr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=od.bind(null,Dt,!0,a),a.dispatch=n,[t,n]},useMemoCache:$f,useCacheRefresh:function(){return sr().memoizedState=D1.bind(null,Dt)},useEffectEvent:function(t){var n=sr(),a={impl:t};return n.memoizedState=a,function(){if((fn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:xi,use:Nc,useCallback:zg,useContext:xi,useEffect:nd,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Dc,useRef:Og,useState:function(){return Dc(ss)},useDebugValue:id,useDeferredValue:function(t,n){var a=ni();return Fg(a,En.memoizedState,t,n)},useTransition:function(){var t=Dc(ss)[0],n=ni().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:sd,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var a=ni();return Tg(a,En,t,n)},useMemoCache:$f,useCacheRefresh:Xg};ld.useEffectEvent=kg;var Jg={readContext:xi,use:Nc,useCallback:zg,useContext:xi,useEffect:nd,useImperativeHandle:jg,useInsertionEffect:Pg,useLayoutEffect:Lg,useMemo:Bg,useReducer:Zf,useRef:Og,useState:function(){return Zf(ss)},useDebugValue:id,useDeferredValue:function(t,n){var a=ni();return En===null?rd(a,t,n):Fg(a,En.memoizedState,t,n)},useTransition:function(){var t=Zf(ss)[0],n=ni().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:yg,useId:Yg,useHostTransitionStatus:sd,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var a=ni();return En!==null?Tg(a,En,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:$f,useCacheRefresh:Xg};Jg.useEffectEvent=kg;function ud(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=jr(),h=js(o);h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Er(n,t,o),hu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=jr(),h=js(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Er(n,t,o),hu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jr(),o=js(a);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,a),n!==null&&(Er(n,t,a),hu(n,t,a))}};function Zg(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!le(a,o)||!le(h,m):!0}function ey(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&cd.enqueueReplaceState(n,n.state,null)}function Lo(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=L({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ty(t){Ci(t)}function ny(t){console.error(t)}function iy(t){Ci(t)}function Pc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ry(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hd(t,n,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,n)},a}function ay(t){return t=js(t),t.tag=3,t}function sy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){ry(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ry(n,a,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function V1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ll(n,a,h,!0),a=kr.current,a!==null){switch(a.tag){case 31:case 13:return $r===null?Qc():a.alternate===null&&Jn===0&&(Jn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Pd(t,o,h)),!1;case 22:return a.flags|=65536,o===Tc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Pd(t,o,h)),!1}throw Error(s(435,a.tag))}return Pd(t,o,h),Qc(),!1}if(Zt)return n=kr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Mf&&(t=Error(s(422),{cause:o}),su(Xr(t,a)))):(o!==Mf&&(n=Error(s(423),{cause:o}),su(Xr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xr(o,a),h=hd(t.stateNode,o,h),Bf(t,h),Jn!==4&&(Jn=2)),!1;var m=Error(s(520),{cause:o});if(m=Xr(m,a),Su===null?Su=[m]:Su.push(m),Jn!==4&&(Jn=2),n===null)return!0;o=Xr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hd(a.stateNode,o,t),Bf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),sy(h,t,a,o),Bf(a,h),!1}a=a.return}while(a!==null);return!1}var fd=Error(s(461)),li=!1;function Mi(t,n,a,o){n.child=t===null?cg(n,null,a,o):ko(n,t.child,a,o)}function oy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return No(n),o=Xf(t,n,a,T,m,h),M=Qf(),t!==null&&!li?(Wf(t,n,h),os(t,n,h)):(Zt&&M&&If(n),n.flags|=1,Mi(t,n,o,h),n.child)}function ly(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!Sf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,uy(t,n,m,o,h)):(t=yc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!bd(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:le,a(T,o)&&t.ref===n.ref)return os(t,n,h)}return n.flags|=1,t=ts(m,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(le(m,o)&&t.ref===n.ref)if(li=!1,n.pendingProps=o=m,bd(t,h))(t.flags&131072)!==0&&(li=!0);else return n.lanes=t.lanes,os(t,n,h)}return dd(t,n,a,o,h)}function cy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return hy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(n,m!==null?m.cachePool:null),m!==null?dg(n,m):Hf(),mg(n);else return o=n.lanes=536870912,hy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(wc(n,m.cachePool),dg(n,m),Fs(),n.memoizedState=null):(t!==null&&wc(n,null),Hf(),Fs());return Mi(t,n,h,a),n.child}function vu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,a,o,h){var m=Lf();return m=m===null?null:{parent:si._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&wc(n,null),Hf(),mg(n),t!==null&&ll(t,n,o,!0),n.childLanes=h,null}function Lc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,a){return ko(n,t.child,null,a),t=Lc(n,n.pendingProps),t.flags|=2,Pr(n),n.memoizedState=null,t}function k1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Zt){if(o.mode==="hidden")return t=Lc(n,o),n.lanes=536870912,vu(null,t);if(Gf(n),(t=Ln)?(t=Av(t,Kr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ia,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,Ii=n,Ln=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return Lc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Gf(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(li||ll(t,n,a,!1),h=(a&t.childLanes)!==0,li||h){if(o=Cn,o!==null&&(T=Sr(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,ar(t,T),Er(o,t,T),fd;Qc(),n=fy(t,n,a)}else t=m.treeContext,Ln=Jr(T.nextSibling),Ii=n,Zt=!0,ks=null,Kr=!1,t!==null&&Jp(n,t),n=Lc(n,o),n.flags|=4096;return n}return t=ts(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function dd(t,n,a,o,h){return No(n),a=Xf(t,n,a,o,void 0,h),o=Qf(),t!==null&&!li?(Wf(t,n,h),os(t,n,h)):(Zt&&o&&If(n),n.flags|=1,Mi(t,n,a,h),n.child)}function dy(t,n,a,o,h,m){return No(n),n.updateQueue=null,a=gg(n,o,a,h),pg(t),o=Qf(),t!==null&&!li?(Wf(t,n,m),os(t,n,m)):(Zt&&o&&If(n),n.flags|=1,Mi(t,n,a,m),n.child)}function my(t,n,a,o,h){if(No(n),n.stateNode===null){var m=Vr,T=a.contextType;typeof T=="object"&&T!==null&&(m=xi(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},jf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?xi(T):Vr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(ud(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&cd.enqueueReplaceState(m,m.state,null),du(n,o,m,h),fu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Y=Lo(a,M);m.props=Y;var ue=m.context,ve=a.contextType;T=Vr,typeof ve=="object"&&ve!==null&&(T=xi(ve));var Ee=a.getDerivedStateFromProps;ve=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ue!==T)&&ey(n,m,o,T),Us=!1;var he=n.memoizedState;m.state=he,du(n,o,m,h),fu(),ue=n.memoizedState,M||he!==ue||Us?(typeof Ee=="function"&&(ud(n,a,Ee,o),ue=n.memoizedState),(Y=Us||Zg(n,a,Y,o,he,ue,T))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ue),m.props=o,m.state=ue,m.context=T,o=Y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,zf(t,n),T=n.memoizedProps,ve=Lo(a,T),m.props=ve,Ee=n.pendingProps,he=m.context,ue=a.contextType,Y=Vr,typeof ue=="object"&&ue!==null&&(Y=xi(ue)),M=a.getDerivedStateFromProps,(ue=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ee||he!==Y)&&ey(n,m,o,Y),Us=!1,he=n.memoizedState,m.state=he,du(n,o,m,h),fu();var ge=n.memoizedState;T!==Ee||he!==ge||Us||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof M=="function"&&(ud(n,a,M,o),ge=n.memoizedState),(ve=Us||Zg(n,a,ve,o,he,ge,Y)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(ue||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,Y)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=Y,o=ve):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=ko(n,t.child,null,h),n.child=ko(n,null,a,h)):Mi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=os(t,n,h),t}function py(t,n,a,o){return xo(),n.flags|=256,Mi(t,n,a,o),n.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:rg()}}function gd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ur),t}function gy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ti.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(Zt){if(h?Bs(n):Fs(),(t=Ln)?(t=Av(t,Kr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ia,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,Ii=n,Ln=null)):t=null,t===null)throw Ps(n);return Jd(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Fs(),h=n.mode,M=jc({mode:"hidden",children:M},h),o=Io(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=pd(a),o.childLanes=gd(t,T,a),n.memoizedState=md,vu(null,o)):(Bs(n),yd(n,M))}var Y=t.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(m)n.flags&256?(Bs(n),n.flags&=-257,n=vd(t,n,a)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),M=o.fallback,h=n.mode,o=jc({mode:"visible",children:o.children},h),M=Io(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,ko(n,t.child,null,a),o=n.child,o.memoizedState=pd(a),o.childLanes=gd(t,T,a),n.memoizedState=md,n=vu(null,o));else if(Bs(n),Jd(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ue=T.dgst;T=ue,o=Error(s(419)),o.stack="",o.digest=T,su({value:o,source:null,stack:null}),n=vd(t,n,a)}else if(li||ll(t,n,a,!1),T=(a&t.childLanes)!==0,li||T){if(T=Cn,T!==null&&(o=Sr(T,a),o!==0&&o!==Y.retryLane))throw Y.retryLane=o,ar(t,o),Er(T,t,o),fd;$d(M)||Qc(),n=vd(t,n,a)}else $d(M)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,Ln=Jr(M.nextSibling),Ii=n,Zt=!0,ks=null,Kr=!1,t!==null&&Jp(n,t),n=yd(n,o.children),n.flags|=4096);return n}return h?(Fs(),M=o.fallback,h=n.mode,Y=t.child,ue=Y.sibling,o=ts(Y,{mode:"hidden",children:o.children}),o.subtreeFlags=Y.subtreeFlags&65011712,ue!==null?M=ts(ue,M):(M=Io(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,vu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=pd(a):(h=M.cachePool,h!==null?(Y=si._currentValue,h=h.parent!==Y?{parent:Y,pool:Y}:h):h=rg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=gd(t,T,a),n.memoizedState=md,vu(t.child,o)):(Bs(n),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function yd(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=qi(22,t,null,n),t.lanes=0,t}function vd(t,n,a){return ko(n,t.child,null,a),t=yd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Of(t.return,n,a)}function _d(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function vy(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ti.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Se(ti,T),Mi(t,n,o,a),o=Zt?au:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,n);else if(t.tag===19)yy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),_d(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(n,!0,a,null,m,o);break;case"together":_d(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ll(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ts(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function bd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function P1(t,n,a){switch(n.tag){case 3:ut(n,n.stateNode.containerInfo),Ls(n,si,t.memoizedState.cache),xo();break;case 27:case 5:Ct(n);break;case 4:ut(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(t,n,a):(Bs(n),t=os(t,n,a),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ll(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return vy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Se(ti,ti.current),o)break;return null;case 22:return n.lanes=0,cy(t,n,a,n.pendingProps);case 24:Ls(n,si,t.memoizedState.cache)}return os(t,n,a)}function _y(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)li=!0;else{if(!bd(t,a)&&(n.flags&128)===0)return li=!1,P1(t,n,a);li=(t.flags&131072)!==0}else li=!1,Zt&&(n.flags&1048576)!==0&&$p(n,au,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oo(n.elementType),n.type=t,typeof t=="function")Sf(t)?(o=Lo(t,o),n.tag=1,n=my(null,n,t,o,a)):(n.tag=0,n=dd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=oy(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=ly(null,n,t,o,a);break e}}throw n=X(t)||t,Error(s(306,n,""))}}return n;case 0:return dd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Lo(o,n.pendingProps),my(t,n,o,h,a);case 3:e:{if(ut(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,zf(t,n),du(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ls(n,si,o),o!==m.cache&&Vf(n,[si],a,!0),fu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=py(t,n,o,a);break e}else if(o!==h){h=Xr(Error(s(424)),n),su(h),n=py(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ln=Jr(t.firstChild),Ii=n,Zt=!0,ks=null,Kr=!0,a=cg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xo(),o===h){n=os(t,n,a);break e}Mi(t,n,o,a)}n=n.child}return n;case 26:return Uc(t,n),t===null?(a=Mv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Zt||(a=n.type,t=n.pendingProps,o=th(He.current).createElement(a),o[pn]=n,o[zn]=t,Ni(o,a,t),kn(o),n.stateNode=o):n.memoizedState=Mv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ct(n),t===null&&Zt&&(o=n.stateNode=Cv(n.type,n.pendingProps,He.current),Ii=n,Kr=!0,h=Ln,Ks(n.type)?(Zd=h,Ln=Jr(o.firstChild)):Ln=h),Mi(t,n,n.pendingProps.children,a),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Zt&&((h=o=Ln)&&(o=fE(o,n.type,n.pendingProps,Kr),o!==null?(n.stateNode=o,Ii=n,Ln=Jr(o.firstChild),Kr=!1,h=!0):h=!1),h||Ps(n)),Ct(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Qd(h,m)?o=null:T!==null&&Qd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Xf(t,n,C1,null,null,a),Ou._currentValue=h),Uc(t,n),Mi(t,n,o,a),n.child;case 6:return t===null&&Zt&&((t=a=Ln)&&(a=dE(a,n.pendingProps,Kr),a!==null?(n.stateNode=a,Ii=n,Ln=null,t=!0):t=!1),t||Ps(n)),null;case 13:return gy(t,n,a);case 4:return ut(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ko(n,null,o,a):Mi(t,n,o,a),n.child;case 11:return oy(t,n,n.type,n.pendingProps,a);case 7:return Mi(t,n,n.pendingProps,a),n.child;case 8:return Mi(t,n,n.pendingProps.children,a),n.child;case 12:return Mi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),Mi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,No(n),h=xi(h),o=o(h),n.flags|=1,Mi(t,n,o,a),n.child;case 14:return ly(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return vy(t,n,a);case 31:return k1(t,n,a);case 22:return cy(t,n,a,n.pendingProps);case 24:return No(n),o=xi(si),t===null?(h=Lf(),h===null&&(h=Cn,m=kf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},jf(n),Ls(n,si,h)):((t.lanes&a)!==0&&(zf(t,n),du(n,null,null,a),fu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,si,o)):(o=m.cache,Ls(n,si,o),o!==h.cache&&Vf(n,[si],a,!0))),Mi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ls(t){t.flags|=4}function wd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw Vo=Tc,Uf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kv(n))if(Yy())t.flags|=8192;else throw Vo=Tc,Uf}function zc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gt():536870912,t.lanes|=n,bl|=n)}function _u(t,n){if(!Zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Un(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function L1(t,n,a){var o=n.pendingProps;switch(xf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(n),null;case 1:return Un(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(si),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nf())),Un(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ls(n),m!==null?(Un(n),by(n,m)):(Un(n),wd(n,h,null,o,a))):m?m!==t.memoizedState?(ls(n),Un(n),by(n,m)):(Un(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ls(n),Un(n),wd(n,h,t,o,a)),null;case 27:if(rn(n),a=He.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Un(n),null}t=be.current,ol(n)?Zp(n):(t=Cv(h,o,a),n.stateNode=t,ls(n))}return Un(n),null;case 5:if(rn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Un(n),null}if(m=be.current,ol(n))Zp(n);else{var T=th(He.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[pn]=n,m[zn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Ni(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return Un(n),wd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=He.current,ol(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ii,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[pn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||gv(t.nodeValue,a)),t||Ps(n,!0)}else t=th(t).createTextNode(o),t[pn]=n,n.stateNode=t}return Un(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ol(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Un(n),t=!1}else a=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Pr(n),n):(Pr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Un(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[pn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Un(n),h=!1}else h=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pr(n),n):(Pr(n),null)}return Pr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),zc(n,n.updateQueue),Un(n),null);case 4:return _t(),t===null&&Hd(n.stateNode.containerInfo),Un(n),null;case 10:return rs(n.type),Un(n),null;case 19:if(se(ti),o=n.memoizedState,o===null)return Un(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)_u(o,!1);else{if(Jn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Cc(t),m!==null){for(n.flags|=128,_u(o,!1),t=m.updateQueue,n.updateQueue=t,zc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qp(a,t),a=a.sibling;return Se(ti,ti.current&1|2),Zt&&ns(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Gt()>Gc&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304)}else{if(!h)if(t=Cc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,zc(n,t),_u(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Zt)return Un(n),null}else 2*Gt()-o.renderingStartTime>Gc&&a!==536870912&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Gt(),t.sibling=null,a=ti.current,Se(ti,h?a&1|2:a&1),Zt&&ns(n,o.treeForkCount),t):(Un(n),null);case 22:case 23:return Pr(n),qf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Un(n),n.subtreeFlags&6&&(n.flags|=8192)):Un(n),a=n.updateQueue,a!==null&&zc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&se(Do),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),rs(si),Un(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function U1(t,n){switch(xf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(si),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return rn(n),null;case 31:if(n.memoizedState!==null){if(Pr(n),n.alternate===null)throw Error(s(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return se(ti),null;case 4:return _t(),null;case 10:return rs(n.type),null;case 22:case 23:return Pr(n),qf(),t!==null&&se(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(si),null;case 25:return null;default:return null}}function wy(t,n){switch(xf(n),n.tag){case 3:rs(si),_t();break;case 26:case 27:case 5:rn(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Pr(n);break;case 13:Pr(n);break;case 19:se(ti);break;case 10:rs(n.type);break;case 22:case 23:Pr(n),qf(),t!==null&&se(Do);break;case 24:rs(si)}}function bu(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){wn(n,n.return,M)}}function Hs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var Y=a,ue=M;try{ue()}catch(ve){wn(h,Y,ve)}}}o=o.next}while(o!==m)}}catch(ve){wn(n,n.return,ve)}}function Ey(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{fg(n,a)}catch(o){wn(t,t.return,o)}}}function Ty(t,n,a){a.props=Lo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){wn(t,n,o)}}function wu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){wn(t,n,h)}}function Ma(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){wn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){wn(t,n,h)}else a.current=null}function Ay(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){wn(t,t.return,h)}}function Ed(t,n,a){try{var o=t.stateNode;sE(o,t.type,a,n),o[zn]=n}catch(h){wn(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ur));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ad(t,n,a),t=t.sibling;t!==null;)Ad(t,n,a),t=t.sibling}function Bc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,n,a),t=t.sibling;t!==null;)Bc(t,n,a),t=t.sibling}function Ry(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ni(n,o,a),n[pn]=t,n[zn]=a}catch(m){wn(t,t.return,m)}}var us=!1,ui=!1,Sd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,vi=null;function j1(t,n){if(t=t.containerInfo,Yd=lh,t=Z(t),ze(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,Y=-1,ue=0,ve=0,Ee=t,he=null;t:for(;;){for(var ge;Ee!==a||h!==0&&Ee.nodeType!==3||(M=T+h),Ee!==m||o!==0&&Ee.nodeType!==3||(Y=T+o),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)he=Ee,Ee=ge;for(;;){if(Ee===t)break t;if(he===a&&++ue===h&&(M=T),he===m&&++ve===o&&(Y=T),(ge=Ee.nextSibling)!==null)break;Ee=he,he=Ee.parentNode}Ee=ge}a=M===-1||Y===-1?null:{start:M,end:Y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},lh=!1,vi=n;vi!==null;)if(n=vi,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,vi=t;else for(;vi!==null;){switch(n=vi,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var lt=Lo(a.type,h);t=o.getSnapshotBeforeUpdate(lt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(yt){wn(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,vi=t;break}vi=n.return}}function Iy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),o&4&&bu(5,a);break;case 1:if(hs(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){wn(a,a.return,T)}else{var h=Lo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){wn(a,a.return,T)}}o&64&&Ey(a),o&512&&wu(a,a.return);break;case 3:if(hs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{fg(t,n)}catch(T){wn(a,a.return,T)}}break;case 27:n===null&&o&4&&Ry(a);case 26:case 5:hs(t,a),n===null&&o&4&&Ay(a),o&512&&wu(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),o&4&&Ny(t,a);break;case 13:hs(t,a),o&4&&Dy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Q1.bind(null,a),mE(t,a))));break;case 22:if(o=a.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||ui,h=us;var m=ui;us=o,(ui=n)&&!m?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,ui=m}break;case 30:break;default:hs(t,a)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Fn=null,vr=!1;function cs(t,n,a){for(a=a.child;a!==null;)My(t,n,a),a=a.sibling}function My(t,n,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount($e,a)}catch{}switch(a.tag){case 26:ui||Ma(a,n),cs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ui||Ma(a,n);var o=Fn,h=vr;Ks(a.type)&&(Fn=a.stateNode,vr=!1),cs(t,n,a),Mu(a.stateNode),Fn=o,vr=h;break;case 5:ui||Ma(a,n);case 6:if(o=Fn,h=vr,Fn=null,cs(t,n,a),Fn=o,vr=h,Fn!==null)if(vr)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(a.stateNode)}catch(m){wn(a,n,m)}else try{Fn.removeChild(a.stateNode)}catch(m){wn(a,n,m)}break;case 18:Fn!==null&&(vr?(t=Fn,Ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):Ev(Fn,a.stateNode));break;case 4:o=Fn,h=vr,Fn=a.stateNode.containerInfo,vr=!0,cs(t,n,a),Fn=o,vr=h;break;case 0:case 11:case 14:case 15:Hs(2,a,n),ui||Hs(4,a,n),cs(t,n,a);break;case 1:ui||(Ma(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),cs(t,n,a);break;case 21:cs(t,n,a);break;case 22:ui=(o=ui)||a.memoizedState!==null,cs(t,n,a),ui=o;break;default:cs(t,n,a)}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Il(t)}catch(a){wn(n,n.return,a)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){wn(n,n.return,a)}}function z1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(s(435,t.tag))}}function Fc(t,n){var a=z1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=W1.bind(null,t,o);o.then(h,h)}})}function _r(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ks(M.type)){Fn=M.stateNode,vr=!1;break e}break;case 5:Fn=M.stateNode,vr=!1;break e;case 3:case 4:Fn=M.stateNode.containerInfo,vr=!0;break e}M=M.return}if(Fn===null)throw Error(s(160));My(m,T,h),Fn=null,vr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var da=null;function Oy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_r(n,t),br(t),o&4&&(Hs(3,t,t.return),bu(3,t),Hs(5,t,t.return));break;case 1:_r(n,t),br(t),o&512&&(ui||a===null||Ma(a,a.return)),o&64&&us&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=da;if(_r(n,t),br(t),o&512&&(ui||a===null||Ma(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ui]||m[pn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Ni(m,o,a),m[pn]=t,kn(m),o=m;break e;case"link":var T=Ov("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Ni(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Ov("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Ni(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[pn]=t,kn(m),o=m}t.stateNode=o}else Vv(h,t.type,t.stateNode);else t.stateNode=Dv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Vv(h,t.type,t.stateNode):Dv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:_r(n,t),br(t),o&512&&(ui||a===null||Ma(a,a.return)),a!==null&&o&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_r(n,t),br(t),o&512&&(ui||a===null||Ma(a,a.return)),t.flags&32){h=t.stateNode;try{ai(h,"")}catch(lt){wn(t,t.return,lt)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Sd=!0);break;case 6:if(_r(n,t),br(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(lt){wn(t,t.return,lt)}}break;case 3:if(rh=null,h=da,da=nh(n.containerInfo),_r(n,t),da=h,br(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(lt){wn(t,t.return,lt)}Sd&&(Sd=!1,Vy(t));break;case 4:o=da,da=nh(t.stateNode.containerInfo),_r(n,t),br(t),da=o;break;case 12:_r(n,t),br(t);break;case 31:_r(n,t),br(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 13:_r(n,t),br(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qc=Gt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 22:h=t.memoizedState!==null;var Y=a!==null&&a.memoizedState!==null,ue=us,ve=ui;if(us=ue||h,ui=ve||Y,_r(n,t),ui=ve,us=ue,br(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||Y||us||ui||Uo(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){Y=a=n;try{if(m=Y.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Y.stateNode;var Ee=Y.memoizedProps.style,he=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(lt){wn(Y,Y.return,lt)}}}else if(n.tag===6){if(a===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(lt){wn(Y,Y.return,lt)}}}else if(n.tag===18){if(a===null){Y=n;try{var ge=Y.stateNode;h?Tv(ge,!0):Tv(Y.stateNode,!1)}catch(lt){wn(Y,Y.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fc(t,a))));break;case 19:_r(n,t),br(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fc(t,o)));break;case 30:break;case 21:break;default:_r(n,t),br(t)}}function br(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Td(t);Bc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(ai(T,""),a.flags&=-33);var M=Td(t);Bc(t,M,T);break;case 3:case 4:var Y=a.stateNode.containerInfo,ue=Td(t);Ad(t,ue,Y);break;default:throw Error(s(161))}}catch(ve){wn(t,t.return,ve)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function Uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Uo(n);break;case 1:Ma(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Uo(n);break;case 27:Mu(n.stateNode);case 26:case 5:Ma(n,n.return),Uo(n);break;case 22:n.memoizedState===null&&Uo(n);break;case 30:Uo(n);break;default:Uo(n)}t=t.sibling}}function fs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:fs(h,m,a),bu(4,m);break;case 1:if(fs(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ue){wn(o,o.return,ue)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)hg(Y[h],M)}catch(ue){wn(o,o.return,ue)}}a&&T&64&&Ey(m),wu(m,m.return);break;case 27:Ry(m);case 26:case 5:fs(h,m,a),a&&o===null&&T&4&&Ay(m),wu(m,m.return);break;case 12:fs(h,m,a);break;case 31:fs(h,m,a),a&&T&4&&Ny(h,m);break;case 13:fs(h,m,a),a&&T&4&&Dy(h,m);break;case 22:m.memoizedState===null&&fs(h,m,a),wu(m,m.return);break;case 30:break;default:fs(h,m,a)}n=n.sibling}}function Rd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ou(a))}function Cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t))}function ma(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(t,n,a,o),n=n.sibling}function ky(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n,a,o),h&2048&&bu(9,n);break;case 1:ma(t,n,a,o);break;case 3:ma(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t)));break;case 12:if(h&2048){ma(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){wn(n,n.return,Y)}}else ma(t,n,a,o);break;case 31:ma(t,n,a,o);break;case 13:ma(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ma(t,n,a,o):Eu(t,n):m._visibility&2?ma(t,n,a,o):(m._visibility|=2,yl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Rd(T,n);break;case 24:ma(t,n,a,o),h&2048&&Cd(n.alternate,n);break;default:ma(t,n,a,o)}}function yl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,Y=o,ue=T.flags;switch(T.tag){case 0:case 11:case 15:yl(m,T,M,Y,h),bu(8,T);break;case 23:break;case 22:var ve=T.stateNode;T.memoizedState!==null?ve._visibility&2?yl(m,T,M,Y,h):Eu(m,T):(ve._visibility|=2,yl(m,T,M,Y,h)),h&&ue&2048&&Rd(T.alternate,T);break;case 24:yl(m,T,M,Y,h),h&&ue&2048&&Cd(T.alternate,T);break;default:yl(m,T,M,Y,h)}n=n.sibling}}function Eu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Eu(a,o),h&2048&&Rd(o.alternate,o);break;case 24:Eu(a,o),h&2048&&Cd(o.alternate,o);break;default:Eu(a,o)}n=n.sibling}}var Tu=8192;function vl(t,n,a){if(t.subtreeFlags&Tu)for(t=t.child;t!==null;)Py(t,n,a),t=t.sibling}function Py(t,n,a){switch(t.tag){case 26:vl(t,n,a),t.flags&Tu&&t.memoizedState!==null&&RE(a,da,t.memoizedState,t.memoizedProps);break;case 5:vl(t,n,a);break;case 3:case 4:var o=da;da=nh(t.stateNode.containerInfo),vl(t,n,a),da=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Tu,Tu=16777216,vl(t,n,a),Tu=o):vl(t,n,a));break;default:vl(t,n,a)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];vi=o,jy(o,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:Au(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:Au(t);break;case 12:Au(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hc(t)):Au(t);break;default:Au(t)}}function Hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];vi=o,jy(o,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),Hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(n));break;default:Hc(n)}t=t.sibling}}function jy(t,n){for(;vi!==null;){var a=vi;switch(a.tag){case 0:case 11:case 15:Hs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ou(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,vi=o;else e:for(a=t;vi!==null;){o=vi;var h=o.sibling,m=o.return;if(xy(o),o===a){vi=null;break e}if(h!==null){h.return=m,vi=h;break e}vi=m}}}var B1={getCacheForType:function(t){var n=xi(si),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return xi(si).controller.signal}},F1=typeof WeakMap=="function"?WeakMap:Map,fn=0,Cn=null,Ht=null,Xt=0,bn=0,Lr=null,qs=!1,_l=!1,Id=!1,ds=0,Jn=0,Gs=0,jo=0,xd=0,Ur=0,bl=0,Su=null,wr=null,Md=!1,qc=0,zy=0,Gc=1/0,Yc=null,Ys=null,gi=0,Xs=null,wl=null,ms=0,Nd=0,Dd=null,By=null,Ru=0,Od=null;function jr(){return(fn&2)!==0&&Xt!==0?Xt&-Xt:H.T!==null?jd():Fr()}function Fy(){if(Ur===0)if((Xt&536870912)===0||Zt){var t=qn;qn<<=1,(qn&3932160)===0&&(qn=262144),Ur=t}else Ur=536870912;return t=kr.current,t!==null&&(t.flags|=32),Ur}function Er(t,n,a){(t===Cn&&(bn===2||bn===9)||t.cancelPendingCommit!==null)&&(El(t,0),Qs(t,Xt,Ur,!1)),St(t,a),((fn&2)===0||t!==Cn)&&(t===Cn&&((fn&2)===0&&(jo|=a),Jn===4&&Qs(t,Xt,Ur,!1)),Na(t))}function Hy(t,n,a){if((fn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),h=o?G1(t,n):kd(t,n,!0),m=o;do{if(h===0){_l&&!o&&Qs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!H1(a)){h=kd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Su;var Y=M.current.memoizedState.isDehydrated;if(Y&&(El(M,T).flags|=256),T=kd(M,T,!1),T!==2){if(Id&&!Y){M.errorRecoveryDisabledLanes|=m,jo|=m,h=4;break e}m=wr,wr=h,m!==null&&(wr===null?wr=m:wr.push.apply(wr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){El(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,Ur,!qs);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=qc+300-Gt(),10<h)){if(Qs(o,n,Ur,!qs),Vn(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=bv(qy.bind(null,o,a,wr,Yc,Md,n,Ur,jo,bl,qs,m,"Throttled",-0,0),h);break e}qy(o,a,wr,Yc,Md,n,Ur,jo,bl,qs,m,null,-0,0)}}break}while(!0);Na(t)}function qy(t,n,a,o,h,m,T,M,Y,ue,ve,Ee,he,ge){if(t.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ur},Py(n,m,Ee);var lt=(m&62914560)===m?qc-Gt():(m&4194048)===m?zy-Gt():0;if(lt=CE(Ee,lt),lt!==null){ms=m,t.cancelPendingCommit=lt(Jy.bind(null,t,n,m,a,o,h,T,M,Y,ve,Ee,null,he,ge)),Qs(t,m,T,!ue);return}}Jy(t,n,m,a,o,h,T,M,Y)}function H1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ce(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,a,o){n&=~xd,n&=~jo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-nt(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&$i(t,a,n)}function Xc(){return(fn&6)===0?(Cu(0),!1):!0}function Vd(){if(Ht!==null){if(bn===0)var t=Ht.return;else t=Ht,is=Mo=null,Kf(t),fl=null,uu=0,t=Ht;for(;t!==null;)wy(t.alternate,t),t=t.return;Ht=null}}function El(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,Vd(),Cn=t,Ht=a=ts(t.current,null),Xt=n,bn=0,Lr=null,qs=!1,_l=Mn(t,n),Id=!1,bl=Ur=xd=jo=Gs=Jn=0,wr=Su=null,Md=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-nt(o),m=1<<h;n|=t[h],o&=~m}return ds=n,Ra(),a}function Gy(t,n){Dt=null,H.H=yu,n===hl||n===Ec?(n=og(),bn=3):n===Uf?(n=og(),bn=4):bn=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lr=n,Ht===null&&(Jn=1,Pc(t,Xr(n,t.current)))}function Yy(){var t=kr.current;return t===null?!0:(Xt&4194048)===Xt?$r===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?t===$r:!1}function Xy(){var t=H.H;return H.H=yu,t===null?yu:t}function Qy(){var t=H.A;return H.A=B1,t}function Qc(){Jn=4,qs||(Xt&4194048)!==Xt&&kr.current!==null||(_l=!0),(Gs&134217727)===0&&(jo&134217727)===0||Cn===null||Qs(Cn,Xt,Ur,!1)}function kd(t,n,a){var o=fn;fn|=2;var h=Xy(),m=Qy();(Cn!==t||Xt!==n)&&(Yc=null,El(t,n)),n=!1;var T=Jn;e:do try{if(bn!==0&&Ht!==null){var M=Ht,Y=Lr;switch(bn){case 8:Vd(),T=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(n=!0);var ue=bn;if(bn=0,Lr=null,Tl(t,M,Y,ue),a&&_l){T=0;break e}break;default:ue=bn,bn=0,Lr=null,Tl(t,M,Y,ue)}}q1(),T=Jn;break}catch(ve){Gy(t,ve)}while(!0);return n&&t.shellSuspendCounter++,is=Mo=null,fn=o,H.H=h,H.A=m,Ht===null&&(Cn=null,Xt=0,Ra()),T}function q1(){for(;Ht!==null;)Wy(Ht)}function G1(t,n){var a=fn;fn|=2;var o=Xy(),h=Qy();Cn!==t||Xt!==n?(Yc=null,Gc=Gt()+500,El(t,n)):_l=Mn(t,n);e:do try{if(bn!==0&&Ht!==null){n=Ht;var m=Lr;t:switch(bn){case 1:bn=0,Lr=null,Tl(t,n,m,1);break;case 2:case 9:if(ag(m)){bn=0,Lr=null,Ky(n);break}n=function(){bn!==2&&bn!==9||Cn!==t||(bn=7),Na(t)},m.then(n,n);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:ag(m)?(bn=0,Lr=null,Ky(n)):(bn=0,Lr=null,Tl(t,n,m,7));break;case 5:var T=null;switch(Ht.tag){case 26:T=Ht.memoizedState;case 5:case 27:var M=Ht;if(T?kv(T):M.stateNode.complete){bn=0,Lr=null;var Y=M.sibling;if(Y!==null)Ht=Y;else{var ue=M.return;ue!==null?(Ht=ue,Wc(ue)):Ht=null}break t}}bn=0,Lr=null,Tl(t,n,m,5);break;case 6:bn=0,Lr=null,Tl(t,n,m,6);break;case 8:Vd(),Jn=6;break e;default:throw Error(s(462))}}Y1();break}catch(ve){Gy(t,ve)}while(!0);return is=Mo=null,H.H=o,H.A=h,fn=a,Ht!==null?0:(Cn=null,Xt=0,Ra(),Jn)}function Y1(){for(;Ht!==null&&!Ar();)Wy(Ht)}function Wy(t){var n=_y(t.alternate,t,ds);t.memoizedProps=t.pendingProps,n===null?Wc(t):Ht=n}function Ky(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=dy(a,n,n.pendingProps,n.type,void 0,Xt);break;case 11:n=dy(a,n,n.pendingProps,n.type.render,n.ref,Xt);break;case 5:Kf(n);default:wy(a,n),n=Ht=Qp(n,ds),n=_y(a,n,ds)}t.memoizedProps=t.pendingProps,n===null?Wc(t):Ht=n}function Tl(t,n,a,o){is=Mo=null,Kf(n),fl=null,uu=0;var h=n.return;try{if(V1(t,h,n,a,Xt)){Jn=1,Pc(t,Xr(a,t.current)),Ht=null;return}}catch(m){if(h!==null)throw Ht=h,m;Jn=1,Pc(t,Xr(a,t.current)),Ht=null;return}n.flags&32768?(Zt||o===1?t=!0:_l||(Xt&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kr.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,t)):Wc(n)}function Wc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,qs);return}t=n.return;var a=L1(n.alternate,n,ds);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=t}while(n!==null);Jn===0&&(Jn=5)}function $y(t,n){do{var a=U1(t.alternate,t);if(a!==null){a.flags&=32767,Ht=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=a}while(t!==null);Jn=6,Ht=null}function Jy(t,n,a,o,h,m,T,M,Y){t.cancelPendingCommit=null;do Kc();while(gi!==0);if((fn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=rl,Ki(t,a,m,T,M,Y),t===Cn&&(Ht=Cn=null,Xt=0),wl=n,Xs=t,ms=a,Nd=m,Dd=h,By=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,K1(v,function(){return iv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ee.p,ee.p=2,T=fn,fn|=4;try{j1(t,n,a)}finally{fn=T,ee.p=h,H.T=o}}gi=1,Zy(),ev(),tv()}}function Zy(){if(gi===1){gi=0;var t=Xs,n=wl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=fn;fn|=4;try{Oy(n,t);var m=Xd,T=Z(t.containerInfo),M=m.focusedElem,Y=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&st(M.ownerDocument.documentElement,M)){if(Y!==null&&ze(M)){var ue=Y.start,ve=Y.end;if(ve===void 0&&(ve=ue),"selectionStart"in M)M.selectionStart=ue,M.selectionEnd=Math.min(ve,M.value.length);else{var Ee=M.ownerDocument||document,he=Ee&&Ee.defaultView||window;if(he.getSelection){var ge=he.getSelection(),lt=M.textContent.length,yt=Math.min(Y.start,lt),An=Y.end===void 0?yt:Math.min(Y.end,lt);!ge.extend&&yt>An&&(T=An,An=yt,yt=T);var te=Je(M,yt),Q=Je(M,An);if(te&&Q&&(ge.rangeCount!==1||ge.anchorNode!==te.node||ge.anchorOffset!==te.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var oe=Ee.createRange();oe.setStart(te.node,te.offset),ge.removeAllRanges(),yt>An?(ge.addRange(oe),ge.extend(Q.node,Q.offset)):(oe.setEnd(Q.node,Q.offset),ge.addRange(oe))}}}}for(Ee=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var _e=Ee[M];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}lh=!!Yd,Xd=Yd=null}finally{fn=h,ee.p=o,H.T=a}}t.current=n,gi=2}}function ev(){if(gi===2){gi=0;var t=Xs,n=wl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=ee.p;ee.p=2;var h=fn;fn|=4;try{Iy(t,n.alternate,n)}finally{fn=h,ee.p=o,H.T=a}}gi=3}}function tv(){if(gi===4||gi===3){gi=0,Sn();var t=Xs,n=wl,a=ms,o=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gi=5:(gi=0,wl=Xs=null,nv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Qe(a),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot($e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{H.T=n,ee.p=h}}(ms&3)!==0&&Kc(),Na(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Od?Ru++:(Ru=0,Od=t):Ru=0,Cu(0)}}function nv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ou(n)))}function Kc(){return Zy(),ev(),tv(),iv()}function iv(){if(gi!==5)return!1;var t=Xs,n=Nd;Nd=0;var a=Qe(ms),o=H.T,h=ee.p;try{ee.p=32>a?32:a,H.T=null,a=Dd,Dd=null;var m=Xs,T=ms;if(gi=0,wl=Xs=null,ms=0,(fn&6)!==0)throw Error(s(331));var M=fn;if(fn|=4,Uy(m.current),ky(m,m.current,T,a),fn=M,Cu(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot($e,m)}catch{}return!0}finally{ee.p=h,H.T=o,nv(t,n)}}function rv(t,n,a){n=Xr(a,n),n=hd(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(St(t,2),Na(t))}function wn(t,n,a){if(t.tag===3)rv(t,t,a);else for(;n!==null;){if(n.tag===3){rv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Xr(a,t),a=ay(2),o=zs(n,a,2),o!==null&&(sy(a,o,n,t),St(o,2),Na(o));break}}n=n.return}}function Pd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new F1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Id=!0,h.add(a),t=X1.bind(null,t,n,a),n.then(t,t))}function X1(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Cn===t&&(Xt&a)===a&&(Jn===4||Jn===3&&(Xt&62914560)===Xt&&300>Gt()-qc?(fn&2)===0&&El(t,0):xd|=a,bl===Xt&&(bl=0)),Na(t)}function av(t,n){n===0&&(n=gt()),t=ar(t,n),t!==null&&(St(t,n),Na(t))}function Q1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),av(t,a)}function W1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),av(t,a)}function K1(t,n){return bt(t,n)}var $c=null,Al=null,Ld=!1,Jc=!1,Ud=!1,Ws=0;function Na(t){t!==Al&&t.next===null&&(Al===null?$c=Al=t:Al=Al.next=t),Jc=!0,Ld||(Ld=!0,J1())}function Cu(t,n){if(!Ud&&Jc){Ud=!0;do for(var a=!1,o=$c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-nt(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,uv(o,m))}else m=Xt,m=Vn(o,o===Cn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Mn(o,m)||(a=!0,uv(o,m));o=o.next}while(a);Ud=!1}}function $1(){sv()}function sv(){Jc=Ld=!1;var t=0;Ws!==0&&lE()&&(t=Ws);for(var n=Gt(),a=null,o=$c;o!==null;){var h=o.next,m=ov(o,n);m===0?(o.next=null,a===null?$c=h:a.next=h,h===null&&(Al=a)):(a=o,(t!==0||(m&3)!==0)&&(Jc=!0)),o=h}gi!==0&&gi!==5||Cu(t),Ws!==0&&(Ws=0)}function ov(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-nt(m),M=1<<T,Y=h[T];Y===-1?((M&a)===0||(M&o)!==0)&&(h[T]=ki(M,n)):Y<=n&&(t.expiredLanes|=M),m&=~M}if(n=Cn,a=Xt,a=Vn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(bn===2||bn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&dn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&dn(o),Qe(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=K;break;default:a=v}return o=lv.bind(null,t),a=bt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&dn(o),t.callbackPriority=2,t.callbackNode=null,2}function lv(t,n){if(gi!==0&&gi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var o=Xt;return o=Vn(t,t===Cn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Hy(t,o,n),ov(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?lv.bind(null,t):null)}function uv(t,n){if(Kc())return null;Hy(t,n,!0)}function J1(){cE(function(){(fn&6)!==0?bt(R,$1):sv()})}function jd(){if(Ws===0){var t=ul;t===0&&(t=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),Ws=t}return Ws}function cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function hv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Z1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=cv((h[zn]||null).action),T=o.submitter;T&&(n=(n=T[zn]||null)?cv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Gr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var Y=T?hv(h,T):new FormData(h);ad(a,{pending:!0,data:Y,method:h.method,action:m},null,Y)}}else typeof m=="function"&&(M.preventDefault(),Y=T?hv(h,T):new FormData(h),ad(a,{pending:!0,data:Y,method:h.method,action:m},m,Y))},currentTarget:h}]})}}for(var zd=0;zd<rr.length;zd++){var Bd=rr[zd],eE=Bd.toLowerCase(),tE=Bd[0].toUpperCase()+Bd.slice(1);yn(eE,"on"+tE)}yn(Ne,"onAnimationEnd"),yn(Ye,"onAnimationIteration"),yn(Pt,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Yt,"onTransitionRun"),yn(Mt,"onTransitionStart"),yn(Ft,"onTransitionCancel"),yn(tn,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function fv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Y=M.instance,ue=M.currentTarget;if(M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ue;try{m(h)}catch(ve){Ci(ve)}h.currentTarget=null,m=Y}else for(T=0;T<o.length;T++){if(M=o[T],Y=M.instance,ue=M.currentTarget,M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ue;try{m(h)}catch(ve){Ci(ve)}h.currentTarget=null,m=Y}}}}function qt(t,n){var a=n[or];a===void 0&&(a=n[or]=new Set);var o=t+"__bubble";a.has(o)||(dv(n,t,2,!1),a.add(o))}function Fd(t,n,a){var o=0;n&&(o|=4),dv(a,t,o,n)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Zc]){t[Zc]=!0,sa.forEach(function(a){a!=="selectionchange"&&(nE.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zc]||(n[Zc]=!0,Fd("selectionchange",!1,n))}}function dv(t,n,a,o){switch(Fv(n)){case 2:var h=ME;break;case 8:h=NE;break;default:h=rm}a=h.bind(null,n,a,t),h=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function qd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=ji(M),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){o=m=T;continue e}M=M.parentNode}}o=o.return}dr(function(){var ue=m,ve=cr(a),Ee=[];e:{var he=sn.get(t);if(he!==void 0){var ge=Gr,lt=t;switch(t){case"keypress":if(ua(a)===0)break e;case"keydown":case"keyup":ge=So;break;case"focusin":lt="focus",ge=Aa;break;case"focusout":lt="blur",ge=Aa;break;case"beforeblur":case"afterblur":ge=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case Ne:case Ye:case Pt:ge=Jo;break;case tn:ge=O;break;case"scroll":case"scrollend":ge=Ao;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ha;break;case"toggle":case"beforetoggle":ge=At}var yt=(n&4)!==0,An=!yt&&(t==="scroll"||t==="scrollend"),te=yt?he!==null?he+"Capture":null:he;yt=[];for(var Q=ue,oe;Q!==null;){var _e=Q;if(oe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||oe===null||te===null||(_e=Si(Q,te),_e!=null&&yt.push(xu(Q,_e,oe))),An)break;Q=Q.return}0<yt.length&&(he=new ge(he,lt,null,a,ve),Ee.push({event:he,listeners:yt}))}}if((n&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",he&&a!==Is&&(lt=a.relatedTarget||a.fromElement)&&(ji(lt)||lt[Li]))break e;if((ge||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(lt=a.relatedTarget||a.toElement,ge=ue,lt=lt?ji(lt):null,lt!==null&&(An=c(lt),yt=lt.tag,lt!==An||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(ge=null,lt=ue),ge!==lt)){if(yt=xs,_e="onMouseLeave",te="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(yt=ha,_e="onPointerLeave",te="onPointerEnter",Q="pointer"),An=ge==null?he:Ei(ge),oe=lt==null?he:Ei(lt),he=new yt(_e,Q+"leave",ge,a,ve),he.target=An,he.relatedTarget=oe,_e=null,ji(ve)===ue&&(yt=new yt(te,Q+"enter",lt,a,ve),yt.target=oe,yt.relatedTarget=An,_e=yt),An=_e,ge&&lt)t:{for(yt=iE,te=ge,Q=lt,oe=0,_e=te;_e;_e=yt(_e))oe++;_e=0;for(var mt=Q;mt;mt=yt(mt))_e++;for(;0<oe-_e;)te=yt(te),oe--;for(;0<_e-oe;)Q=yt(Q),_e--;for(;oe--;){if(te===Q||Q!==null&&te===Q.alternate){yt=te;break t}te=yt(te),Q=yt(Q)}yt=null}else yt=null;ge!==null&&mv(Ee,he,ge,yt,!1),lt!==null&&An!==null&&mv(Ee,An,lt,yt,!0)}}e:{if(he=ue?Ei(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var ln=nu;else if(tu(he))if(iu)ln=W;else{ln=N;var ct=S}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&Ga(ue.elementType)&&(ln=nu):ln=j;if(ln&&(ln=ln(t,ue))){Pn(Ee,ln,a,ve);break e}ct&&ct(t,he,ue),t==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&_n(he,"number",he.value)}switch(ct=ue?Ei(ue):window,t){case"focusin":(tu(ct)||ct.contentEditable==="true")&&(Be=ct,on=ue,Ze=null);break;case"focusout":Ze=on=Be=null;break;case"mousedown":kt=!0;break;case"contextmenu":case"mouseup":case"dragend":kt=!1,gn(Ee,a,ve);break;case"selectionchange":if(it)break;case"keydown":case"keyup":gn(Ee,a,ve)}var Ot;if(an)e:{switch(t){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else $a?Yr(t,a)&&(Qt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qt="onCompositionStart");Qt&&(pr&&a.locale!=="ko"&&($a||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&$a&&(Ot=Ea()):(qr=ve,Fi="value"in qr?qr.value:qr.textContent,$a=!0)),ct=eh(ue,Qt),0<ct.length&&(Qt=new Dr(Qt,t,null,a,ve),Ee.push({event:Qt,listeners:ct}),Ot?Qt.data=Ot:(Ot=Ka(a),Ot!==null&&(Qt.data=Ot)))),(Ot=Hi?Tf(t,a):pc(t,a))&&(Qt=eh(ue,"onBeforeInput"),0<Qt.length&&(ct=new Dr("onBeforeInput","beforeinput",null,a,ve),Ee.push({event:ct,listeners:Qt}),ct.data=Ot)),Z1(Ee,t,ue,a,ve)}fv(Ee,n)})}function xu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function eh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Si(t,a),h!=null&&o.unshift(xu(t,h,m)),h=Si(t,n),h!=null&&o.push(xu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function iE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mv(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,Y=M.alternate,ue=M.stateNode;if(M=M.tag,Y!==null&&Y===o)break;M!==5&&M!==26&&M!==27||ue===null||(Y=ue,h?(ue=Si(a,m),ue!=null&&T.unshift(xu(a,ue,Y))):h||(ue=Si(a,m),ue!=null&&T.push(xu(a,ue,Y)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var rE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace(rE,`
`).replace(aE,"")}function gv(t,n){return n=pv(n),pv(t)===n}function Tn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ai(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ai(t,""+o);break;case"className":$(t,"class",o);break;case"tabIndex":$(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$(t,a,o);break;case"style":Cr(t,o,m);break;case"data":if(n!=="object"){$(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Tn(t,n,"name",h.name,h,null),Tn(t,n,"formEncType",h.formEncType,h,null),Tn(t,n,"formMethod",h.formMethod,h,null),Tn(t,n,"formTarget",h.formTarget,h,null)):(Tn(t,n,"encType",h.encType,h,null),Tn(t,n,"method",h.method,h,null),Tn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ur);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":qt("beforetoggle",t),qt("toggle",t),Bi(t,"popover",o);break;case"xlinkActuate":ie(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ie(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ie(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ie(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ie(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ie(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ie(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ie(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ie(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Bi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ba.get(a)||a,Bi(t,a,o))}}function Gd(t,n,a,o,h,m){switch(a){case"style":Cr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ai(t,o):(typeof o=="number"||typeof o=="bigint")&&ai(t,""+o);break;case"onScroll":o!=null&&qt("scroll",t);break;case"onScrollEnd":o!=null&&qt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ti.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[zn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Bi(t,a,o)}}}function Ni(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Tn(t,n,m,T,a,null)}}h&&Tn(t,n,"srcSet",a.srcSet,a,null),o&&Tn(t,n,"src",a.src,a,null);return;case"input":qt("invalid",t);var M=m=T=h=null,Y=null,ue=null;for(o in a)if(a.hasOwnProperty(o)){var ve=a[o];if(ve!=null)switch(o){case"name":h=ve;break;case"type":T=ve;break;case"checked":Y=ve;break;case"defaultChecked":ue=ve;break;case"value":m=ve;break;case"defaultValue":M=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,n));break;default:Tn(t,n,o,ve,a,null)}}Bn(t,m,M,Y,ue,T,h,!1);return;case"select":qt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Tn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?jt(t,!!o,n,!1):a!=null&&jt(t,!!o,a,!0);return;case"textarea":qt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Tn(t,n,T,M,a,null)}Xn(t,o,h,m);return;case"option":for(Y in a)if(a.hasOwnProperty(Y)&&(o=a[Y],o!=null))switch(Y){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Tn(t,n,Y,o,a,null)}return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(o=0;o<Iu.length;o++)qt(Iu[o],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in a)if(a.hasOwnProperty(ue)&&(o=a[ue],o!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Tn(t,n,ue,o,a,null)}return;default:if(Ga(n)){for(ve in a)a.hasOwnProperty(ve)&&(o=a[ve],o!==void 0&&Gd(t,n,ve,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Tn(t,n,M,o,a,null))}function sE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,Y=null,ue=null,ve=null;for(ge in a){var Ee=a[ge];if(a.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Y=Ee;default:o.hasOwnProperty(ge)||Tn(t,n,ge,null,o,Ee)}}for(var he in o){var ge=o[he];if(Ee=a[he],o.hasOwnProperty(he)&&(ge!=null||Ee!=null))switch(he){case"type":m=ge;break;case"name":h=ge;break;case"checked":ue=ge;break;case"defaultChecked":ve=ge;break;case"value":T=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==Ee&&Tn(t,n,he,ge,o,Ee)}}Vt(t,T,M,Y,ue,ve,m,h);return;case"select":ge=T=M=he=null;for(m in a)if(Y=a[m],a.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":ge=Y;default:o.hasOwnProperty(m)||Tn(t,n,m,null,o,Y)}for(h in o)if(m=o[h],Y=a[h],o.hasOwnProperty(h)&&(m!=null||Y!=null))switch(h){case"value":he=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Y&&Tn(t,n,h,m,o,Y)}n=M,a=T,o=ge,he!=null?jt(t,!!a,he,!1):!!o!=!!a&&(n!=null?jt(t,!!a,n,!0):jt(t,!!a,a?[]:"",!1));return;case"textarea":ge=he=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Tn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":he=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Tn(t,n,T,h,o,m)}di(t,he,ge);return;case"option":for(var lt in a)if(he=a[lt],a.hasOwnProperty(lt)&&he!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Tn(t,n,lt,null,o,he)}for(Y in o)if(he=o[Y],ge=a[Y],o.hasOwnProperty(Y)&&he!==ge&&(he!=null||ge!=null))switch(Y){case"selected":t.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Tn(t,n,Y,he,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)he=a[yt],a.hasOwnProperty(yt)&&he!=null&&!o.hasOwnProperty(yt)&&Tn(t,n,yt,null,o,he);for(ue in o)if(he=o[ue],ge=a[ue],o.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,n));break;default:Tn(t,n,ue,he,o,ge)}return;default:if(Ga(n)){for(var An in a)he=a[An],a.hasOwnProperty(An)&&he!==void 0&&!o.hasOwnProperty(An)&&Gd(t,n,An,void 0,o,he);for(ve in o)he=o[ve],ge=a[ve],!o.hasOwnProperty(ve)||he===ge||he===void 0&&ge===void 0||Gd(t,n,ve,he,o,ge);return}}for(var te in a)he=a[te],a.hasOwnProperty(te)&&he!=null&&!o.hasOwnProperty(te)&&Tn(t,n,te,null,o,he);for(Ee in o)he=o[Ee],ge=a[Ee],!o.hasOwnProperty(Ee)||he===ge||he==null&&ge==null||Tn(t,n,Ee,he,o,ge)}function yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&yv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var Y=a[o],ue=Y.startTime;if(ue>M)break;var ve=Y.transferSize,Ee=Y.initiatorType;ve&&yv(Ee)&&(Y=Y.responseEnd,T+=ve*(Y<M?1:(M-ue)/(Y-ue)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,Xd=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wd=null;function lE(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var bv=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(hE)}:bv;function hE(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function Ev(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Il(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Mu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Mu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[Ui]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Mu(t.ownerDocument.body);a=h}while(a);Il(n)}function Tv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Kd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Jr(t.nextSibling),t===null)break}return null}function dE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jr(t.nextSibling),t===null))return null;return t}function Av(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jr(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Zd=null;function Sv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Jr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Rv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Cv(t,n,a){switch(n=th(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Mu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wi(t)}var Zr=new Map,Iv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=ee.d;ee.d={f:pE,r:gE,D:yE,C:vE,L:_E,m:bE,X:EE,S:wE,M:TE};function pE(){var t=ps.f(),n=Xc();return t||n}function gE(t){var n=zi(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):ps.r(t)}var Sl=typeof document>"u"?null:document;function xv(t,n,a){var o=Sl;if(o&&typeof n=="string"&&n){var h=Ge(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Iv.has(h)||(Iv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ni(n,"link",t),kn(n),o.head.appendChild(n)))}}function yE(t){ps.D(t),xv("dns-prefetch",t,null)}function vE(t,n){ps.C(t,n),xv("preconnect",t,n)}function _E(t,n,a){ps.L(t,n,a);var o=Sl;if(o&&t&&n){var h='link[rel="preload"][as="'+Ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ge(a.imageSizes)+'"]')):h+='[href="'+Ge(t)+'"]';var m=h;switch(n){case"style":m=Rl(t);break;case"script":m=Cl(t)}Zr.has(m)||(t=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zr.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Nu(m))||n==="script"&&o.querySelector(Du(m))||(n=o.createElement("link"),Ni(n,"link",t),kn(n),o.head.appendChild(n)))}}function bE(t,n){ps.m(t,n);var a=Sl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ge(o)+'"][href="'+Ge(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(t)}if(!Zr.has(m)&&(t=L({rel:"modulepreload",href:t},n),Zr.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Du(m)))return}o=a.createElement("link"),Ni(o,"link",t),kn(o),a.head.appendChild(o)}}}function wE(t,n,a){ps.S(t,n,a);var o=Sl;if(o&&t){var h=Kn(o).hoistableStyles,m=Rl(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Nu(m)))M.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zr.get(m))&&em(t,a);var Y=T=o.createElement("link");kn(Y),Ni(Y,"link",t),Y._p=new Promise(function(ue,ve){Y.onload=ue,Y.onerror=ve}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ih(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function EE(t,n){ps.X(t,n);var a=Sl;if(a&&t){var o=Kn(a).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0},n),(n=Zr.get(h))&&tm(t,n),m=a.createElement("script"),kn(m),Ni(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function TE(t,n){ps.M(t,n);var a=Sl;if(a&&t){var o=Kn(a).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=a.querySelector(Du(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=Zr.get(h))&&tm(t,n),m=a.createElement("script"),kn(m),Ni(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Mv(t,n,a,o){var h=(h=He.current)?nh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Rl(a.href),a=Kn(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rl(a.href);var m=Kn(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Nu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Zr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zr.set(t,a),m||AE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cl(a),a=Kn(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rl(t){return'href="'+Ge(t)+'"'}function Nu(t){return'link[rel="stylesheet"]['+t+"]"}function Nv(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function AE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ni(n,"link",a),kn(n),t.head.appendChild(n))}function Cl(t){return'[src="'+Ge(t)+'"]'}function Du(t){return"script[async]"+t}function Dv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Ge(a.href)+'"]');if(o)return n.instance=o,kn(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),kn(o),Ni(o,"style",h),ih(o,a.precedence,t),n.instance=o;case"stylesheet":h=Rl(a.href);var m=t.querySelector(Nu(h));if(m)return n.state.loading|=4,n.instance=m,kn(m),m;o=Nv(a),(h=Zr.get(h))&&em(o,h),m=(t.ownerDocument||t).createElement("link"),kn(m);var T=m;return T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Ni(m,"link",o),n.state.loading|=4,ih(m,a.precedence,t),n.instance=m;case"script":return m=Cl(a.src),(h=t.querySelector(Du(m)))?(n.instance=h,kn(h),h):(o=a,(h=Zr.get(m))&&(o=L({},a),tm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),kn(h),Ni(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ih(o,a.precedence,t));return n.instance}function ih(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function em(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var rh=null;function Ov(t,n,a){if(rh===null){var o=new Map,h=rh=new Map;h.set(a,o)}else h=rh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Ui]||m[pn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Vv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function SE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function RE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Rl(o.href),m=n.querySelector(Nu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ah.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,kn(m);return}m=n.ownerDocument||n,o=Nv(o),(h=Zr.get(h))&&em(o,h),m=m.createElement("link"),kn(m);var T=m;T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Ni(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var nm=0;function CE(t,n){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&nm===0&&(nm=62500*oE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>nm?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function oh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,n.forEach(IE,t),sh=null,ah.call(t))}function IE(t,n){if(!(n.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=ah.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ou={$$typeof:qe,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function xE(t,n,a,o,h,m,T,M,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Pv(t,n,a,o,h,m,T,M,Y,ue,ve,Ee){return t=new xE(t,n,a,T,Y,ue,ve,Ee,M),n=1,m===!0&&(n|=24),m=qi(3,null,null,n),t.current=m,m.stateNode=t,n=kf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},jf(m),t}function Lv(t){return t?(t=Vr,t):Vr}function Uv(t,n,a,o,h,m){h=Lv(h),o.context===null?o.context=h:o.pendingContext=h,o=js(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=zs(t,o,n),a!==null&&(Er(a,t,n),hu(a,t,n))}function jv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function im(t,n){jv(t,n),(t=t.alternate)&&jv(t,n)}function zv(t){if(t.tag===13||t.tag===31){var n=ar(t,67108864);n!==null&&Er(n,t,67108864),im(t,67108864)}}function Bv(t){if(t.tag===13||t.tag===31){var n=jr();n=Br(n);var a=ar(t,n);a!==null&&Er(a,t,n),im(t,n)}}var lh=!0;function ME(t,n,a,o){var h=H.T;H.T=null;var m=ee.p;try{ee.p=2,rm(t,n,a,o)}finally{ee.p=m,H.T=h}}function NE(t,n,a,o){var h=H.T;H.T=null;var m=ee.p;try{ee.p=8,rm(t,n,a,o)}finally{ee.p=m,H.T=h}}function rm(t,n,a,o){if(lh){var h=am(o);if(h===null)qd(t,n,o,uh,a),Hv(t,o);else if(OE(h,t,n,a,o))o.stopPropagation();else if(Hv(t,o),n&4&&-1<DE.indexOf(t)){for(;h!==null;){var m=zi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=xn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Y=1<<31-nt(T);M.entanglements[1]|=Y,T&=~Y}Na(m),(fn&6)===0&&(Gc=Gt()+500,Cu(0))}}break;case 31:case 13:M=ar(m,2),M!==null&&Er(M,m,2),Xc(),im(m,2)}if(m=am(o),m===null&&qd(t,n,o,uh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else qd(t,n,o,null,a)}}function am(t){return t=cr(t),sm(t)}var uh=null;function sm(t){if(uh=null,t=ji(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uh=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case R:return 2;case g:return 8;case v:case D:return 32;case K:return 268435456;default:return 32}default:return 32}}var om=!1,$s=null,Js=null,Zs=null,Vu=new Map,ku=new Map,eo=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Vu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(n.pointerId)}}function Pu(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=zi(n),n!==null&&zv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function OE(t,n,a,o,h){switch(n){case"focusin":return $s=Pu($s,t,n,a,o,h),!0;case"dragenter":return Js=Pu(Js,t,n,a,o,h),!0;case"mouseover":return Zs=Pu(Zs,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Vu.set(m,Pu(Vu.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,ku.set(m,Pu(ku.get(m)||null,t,n,a,o,h)),!0}return!1}function qv(t){var n=ji(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Pi(t.priority,function(){Bv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Pi(t.priority,function(){Bv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Is=o,a.target.dispatchEvent(o),Is=null}else return n=zi(a),n!==null&&zv(n),t.blockedOn=a,!1;n.shift()}return!0}function Gv(t,n,a){ch(t)&&a.delete(n)}function VE(){om=!1,$s!==null&&ch($s)&&($s=null),Js!==null&&ch(Js)&&(Js=null),Zs!==null&&ch(Zs)&&(Zs=null),Vu.forEach(Gv),ku.forEach(Gv)}function hh(t,n){t.blockedOn===n&&(t.blockedOn=null,om||(om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VE)))}var fh=null;function Yv(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(sm(o||a)===null)continue;break}var m=zi(a);m!==null&&(t.splice(n,3),n-=3,ad(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Il(t){function n(Y){return hh(Y,t)}$s!==null&&hh($s,t),Js!==null&&hh(Js,t),Zs!==null&&hh(Zs,t),Vu.forEach(n),ku.forEach(n);for(var a=0;a<eo.length;a++){var o=eo[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<eo.length&&(a=eo[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&eo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[zn]||null;if(typeof m=="function")T||Yv(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[zn]||null)M=T.formAction;else if(sm(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),Yv(a)}}}function Xv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function lm(t){this._internalRoot=t}dh.prototype.render=lm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=jr();Uv(a,o,t,n,null,null)},dh.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uv(t.current,2,null,t,null,null),Xc(),n[Li]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<eo.length&&n!==0&&n<eo[a].priority;a++);eo.splice(a,0,t),a===0&&qv(t)}};var Qv=e.version;if(Qv!=="19.2.0")throw Error(s(527,Qv,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var kE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{$e=mh.inject(kE),tt=mh}catch{}}return Uu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=ty,m=ny,T=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Pv(t,1,!1,null,null,a,o,null,h,m,T,Xv),t[Li]=n.current,Hd(t),new lm(n)},Uu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=ty,T=ny,M=iy,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(Y=a.formState)),n=Pv(t,1,!0,n,a??null,o,h,Y,m,T,M,Xv),n.context=Lv(null),a=n.current,o=jr(),o=Br(o),h=js(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,St(n,a),Na(n),t[Li]=n.current,Hd(t),new dh(n)},Uu.version="19.2.0",Uu}var r_;function GE(){if(r_)return hm.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=qE(),hm.exports}var YE=GE();const XE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),a_=r=>{const e=QE(r);return e.charAt(0).toUpperCase()+e.slice(1)},Q0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),WE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $E=dt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>dt.createElement("svg",{ref:w,...KE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:Q0("lucide",l),...!c&&!WE(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,x])=>dt.createElement(E,x)),...Array.isArray(c)?c:[c]]));const Hn=(r,e)=>{const i=dt.forwardRef(({className:s,...l},c)=>dt.createElement($E,{ref:c,iconNode:e,className:Q0(`lucide-${XE(a_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=a_(r),i};const JE=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],ZE=Hn("arrow-down-a-z",JE);const eT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s_=Hn("arrow-left",eT);const tT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nT=Hn("book-open",tT);const iT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],rT=Hn("check-check",iT);const aT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sT=Hn("check",aT);const oT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lT=Hn("chevron-left",oT);const uT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cT=Hn("chevron-right",uT);const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fT=Hn("circle-alert",hT);const dT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],o_=Hn("crown",dT);const mT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pT=Hn("eye",mT);const gT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],l_=Hn("file-text",gT);const yT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vT=Hn("info",yT);const _T=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],bT=Hn("keyboard",_T);const wT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ET=Hn("log-out",wT);const TT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AT=Hn("mail",TT);const ST=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],RT=Hn("play",ST);const CT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],IT=Hn("rotate-ccw",CT);const xT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],MT=Hn("ruler",xT);const NT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],DT=Hn("share-2",NT);const OT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],VT=Hn("shuffle",OT);const kT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pm=Hn("sparkles",kT);const PT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gm=Hn("star",PT);const LT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],u_=Hn("trophy",LT);const UT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jT=Hn("x",UT);var ym={},Th={exports:{}},zT=Th.exports,c_;function BT(){return c_||(c_=1,(function(r,e){(function(s,l){r.exports=l()})(zT,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>x});var E=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var ne,z=G,De,Re,Ue=new Promise((f,d)=>{De=f,Re=d}),Fe=typeof window=="object",qe=typeof importScripts=="function";function Ke(){function f(W){const J=S;_=d=0,S=new Map,J.forEach(ce=>{try{ce(W)}catch(le){console.error(le)}}),this.nb(),N&&N.Pb()}let d=0,_=0,S=new Map,N=null,j=null;this.requestAnimationFrame=function(W){d||=requestAnimationFrame(f.bind(this));const J=++_;return S.set(J,W),J},this.cancelAnimationFrame=function(W){S.delete(W),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(W){j&&(document.body.remove(j),j=null),W||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",W=function(J){j.innerHTML="RIVE FPS "+J.toFixed(1)},document.body.appendChild(j)),N=new function(){let J=0,ce=0;this.Pb=function(){var le=performance.now();ce?(++J,le-=ce,1e3<le&&(W(1e3*J/le),J=ce=0)):(ce=le,J=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),N=null},this.nb=function(){}}function ht(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const ot=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){ot&&ot();let f=z.decodeAudio;z.decodeAudio=function(N,j){N=f(N),j(N)};let d=z.decodeFont;z.decodeFont=function(N,j){N=d(N),j(N)};const _=z.FileAssetLoader;z.ptrToAsset=N=>{let j=z.ptrToFileAsset(N);return j.isImage?z.ptrToImageAsset(N):j.isFont?z.ptrToFontAsset(N):j.isAudio?z.ptrToAudioAsset(N):j},z.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,j){return N=z.ptrToAsset(N),this.Db(N,j)}}),z.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let j=z.ptrToAsset(N);return N=j.cdnUuid,N===""?!1:((function(W,J){var ce=new XMLHttpRequest;ce.responseType="arraybuffer",ce.onreadystatechange=function(){ce.readyState==4&&ce.status==200&&J(ce)},ce.open("GET",W,!0),ce.send(null)})(j.cdnBaseUrl+"/"+N,W=>{j.decode(new Uint8Array(W.response))}),!0)}}),z.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,j){for(let W of this.jb)if(W.loadContents(N,j))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(N,j,W,J,ce=1){return S.call(this,N,j,W,J,ce)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),U=new function(){function f(){if(!d){let on=function(Ze,kt,gn){if(kt=Be.createShader(kt),Be.shaderSource(kt,gn),Be.compileShader(kt),gn=Be.getShaderInfoLog(kt),0<(gn||"").length)throw gn;Be.attachShader(Ze,kt)};var it=on,Z=document.createElement("canvas"),ze={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Be;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Be=Z.getContext("webgl",ze),_=1,!Be)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Be=Z.getContext("webgl2",ze))_=2;else if(Be=Z.getContext("webgl",ze))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Be=new Proxy(Be,{get(Ze,kt){if(Ze.isContextLost()){if(ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",kt),ce=!0),typeof Ze[kt]=="function")return function(){}}else return typeof Ze[kt]=="function"?function(...gn){return Ze[kt].apply(Ze,gn)}:Ze[kt]},set(Ze,kt,gn){if(Ze.isContextLost())ce||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+kt),ce=!0);else return Ze[kt]=gn,!0}}),S=Math.min(Be.getParameter(Be.MAX_RENDERBUFFER_SIZE),Be.getParameter(Be.MAX_TEXTURE_SIZE)),Z=Be.createProgram(),on(Z,Be.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),on(Z,Be.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Be.bindAttribLocation(Z,0,"vertex"),Be.bindAttribLocation(Z,1,"uv"),Be.linkProgram(Z),ze=Be.getProgramInfoLog(Z),0<(ze||"").trim().length)throw ze;N=Be.getUniformLocation(Z,"mat"),j=Be.getUniformLocation(Z,"translate"),Be.useProgram(Z),Be.bindBuffer(Be.ARRAY_BUFFER,Be.createBuffer()),Be.enableVertexAttribArray(0),Be.enableVertexAttribArray(1),Be.bindBuffer(Be.ELEMENT_ARRAY_BUFFER,Be.createBuffer()),Be.uniform1i(Be.getUniformLocation(Z,"image"),0),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Be}return!0}let d=null,_=0,S=0,N=null,j=null,W=0,J=0,ce=!1;f(),this.ac=function(){return f(),S},this.Jb=function(Z){d.deleteTexture&&d.deleteTexture(Z)},this.Ib=function(Z){if(!f())return null;const ze=d.createTexture();return ze?(d.bindTexture(d.TEXTURE_2D,ze),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,Z),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),ze):null};const le=new ht(8),Oe=new ht(8),Je=new ht(10),st=new ht(10);this.Mb=function(Z,ze,it,Be,on){if(f()){var Ze=le.push(Z),kt=Oe.push(ze);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=kt)&&(d.canvas.width=Ze,d.canvas.height=kt),d.viewport(0,kt-ze,Z,ze),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),it.sort((zt,Or)=>Or.ub-zt.ub),Ze=Je.push(Be),W!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),W=Ze),Ze=0;for(var gn of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,gn.Sa),Ze+=4*gn.Sa.length;console.assert(Ze==4*Be);for(var ei of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,ei.Ab),Ze+=4*ei.Ab.length;console.assert(Ze==8*Be),Ze=st.push(on),J!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),J=Ze),gn=0;for(var yr of it)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,gn,yr.indices),gn+=2*yr.indices.length;console.assert(gn==2*on),yr=0,ei=!0,Ze=gn=0;for(const zt of it){zt.image.Ia!=yr&&(d.bindTexture(d.TEXTURE_2D,zt.image.Ha||null),yr=zt.image.Ia),zt.fc?(d.scissor(zt.Ya,kt-zt.Za-zt.ib,zt.tc,zt.ib),ei=!0):ei&&(d.scissor(0,kt-ze,Z,ze),ei=!1),it=2/Z;const Or=-2/ze;d.uniform4f(N,zt.ga[0]*it*zt.za,zt.ga[1]*Or*zt.Aa,zt.ga[2]*it*zt.za,zt.ga[3]*Or*zt.Aa),d.uniform2f(j,zt.ga[4]*it*zt.za+it*(zt.Ya-zt.bc*zt.za)-1,zt.ga[5]*Or*zt.Aa+Or*(zt.Za-zt.cc*zt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*Be),d.drawElements(d.TRIANGLES,zt.indices.length,d.UNSIGNED_SHORT,gn),Ze+=4*zt.Sa.length,gn+=2*zt.indices.length}console.assert(Ze==4*Be),console.assert(gn==2*on)}}},this.canvas=function(){return f()&&d.canvas}},V=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function f(Ne){switch(Ne){case le.srcOver:return"source-over";case le.screen:return"screen";case le.overlay:return"overlay";case le.darken:return"darken";case le.lighten:return"lighten";case le.colorDodge:return"color-dodge";case le.colorBurn:return"color-burn";case le.hardLight:return"hard-light";case le.softLight:return"soft-light";case le.difference:return"difference";case le.exclusion:return"exclusion";case le.multiply:return"multiply";case le.hue:return"hue";case le.saturation:return"saturation";case le.color:return"color";case le.luminosity:return"luminosity"}}function d(Ne){return"rgba("+((16711680&Ne)>>>16)+","+((65280&Ne)>>>8)+","+((255&Ne)>>>0)+","+((4278190080&Ne)>>>24)/255+")"}function _(){0<kt.length&&(U.Mb(Ze.drawWidth(),Ze.drawHeight(),kt,gn,ei),kt=[],ei=gn=0,Ze.reset(512,512));for(const Ne of on){for(const Ye of Ne.H)Ye();Ne.H=[]}on.clear()}V&&V();var S=z.RenderPaintStyle;const N=z.RenderPath,j=z.RenderPaint,W=z.Renderer,J=z.StrokeCap,ce=z.StrokeJoin,le=z.BlendMode,Oe=S.fill,Je=S.stroke,st=z.FillRule.evenOdd;let Z=1;var ze=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Ne,va:Ye}={}){this.__parent.__construct.call(this),this.Ia=Z,Z=Z+1&2147483647||1,this.ka=Ne,this.va=Ye},__destruct:function(){this.Ha&&(U.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Ne){var Ye=this;Ye.va&&Ye.va(Ye);var Pt=new Image;Ye.Va=URL.createObjectURL(new Blob([Ne],{type:"image/png"})),Pt.onload=function(){Ye.Cb=Pt,Ye.Ha=U.Ib(Pt),Ye.size(Pt.width,Pt.height),Ye.ka&&Ye.ka(Ye)},Pt.src=Ye.Va}}),it=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Ne,Ye,Pt,Yt,Mt,Ft,tn){var sn=this.T,rr=sn.addPath;Ne=Ne.T;const yn=new DOMMatrix;yn.a=Ye,yn.b=Pt,yn.c=Yt,yn.d=Mt,yn.e=Ft,yn.f=tn,rr.call(sn,Ne,yn)},fillRule:function(Ne){this.Ua=Ne},moveTo:function(Ne,Ye){this.T.moveTo(Ne,Ye)},lineTo:function(Ne,Ye){this.T.lineTo(Ne,Ye)},cubicTo:function(Ne,Ye,Pt,Yt,Mt,Ft){this.T.bezierCurveTo(Ne,Ye,Pt,Yt,Mt,Ft)},close:function(){this.T.closePath()}}),Be=j.extend("CanvasRenderPaint",{color:function(Ne){this.Wa=d(Ne)},thickness:function(Ne){this.Fb=Ne},join:function(Ne){switch(Ne){case ce.miter:this.Ga="miter";break;case ce.round:this.Ga="round";break;case ce.bevel:this.Ga="bevel"}},cap:function(Ne){switch(Ne){case J.butt:this.Fa="butt";break;case J.round:this.Fa="round";break;case J.square:this.Fa="square"}},style:function(Ne){this.Eb=Ne},blendMode:function(Ne){this.Bb=f(Ne)},clearGradient:function(){this.ia=null},linearGradient:function(Ne,Ye,Pt,Yt){this.ia={wb:Ne,xb:Ye,bb:Pt,cb:Yt,Pa:[]}},radialGradient:function(Ne,Ye,Pt,Yt){this.ia={wb:Ne,xb:Ye,bb:Pt,cb:Yt,Pa:[],$b:!0}},addStop:function(Ne,Ye){this.ia.Pa.push({color:Ne,stop:Ye})},completeGradient:function(){},draw:function(Ne,Ye,Pt){let Yt=this.Eb;var Mt=this.Wa,Ft=this.ia;if(Ne.globalCompositeOperation=this.Bb,Ft!=null){Mt=Ft.wb;var tn=Ft.xb;const rr=Ft.bb;var sn=Ft.cb;const yn=Ft.Pa;Ft.$b?(Ft=rr-Mt,sn-=tn,Mt=Ne.createRadialGradient(Mt,tn,0,Mt,tn,Math.sqrt(Ft*Ft+sn*sn))):Mt=Ne.createLinearGradient(Mt,tn,rr,sn);for(let Ci=0,hn=yn.length;Ci<hn;Ci++)tn=yn[Ci],Mt.addColorStop(tn.stop,d(tn.color));this.Wa=Mt,this.ia=null}switch(Yt){case Je:Ne.strokeStyle=Mt,Ne.lineWidth=this.Fb,Ne.lineCap=this.Fa,Ne.lineJoin=this.Ga,Ne.stroke(Ye);break;case Oe:Ne.fillStyle=Mt,Ne.fill(Ye,Pt)}}});const on=new Set;let Ze=null,kt=[],gn=0,ei=0;var yr=z.CanvasRenderer=W.extend("Renderer",{__construct:function(Ne){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Ne.getContext("2d"),this.Ta=Ne,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Ne=this.S.length-6;if(6>Ne)throw"restore() called without matching save().";this.S.splice(Ne),this.H.push(this.B.restore.bind(this.B))},transform:function(Ne,Ye,Pt,Yt,Mt,Ft){const tn=this.S,sn=tn.length-6;tn.splice(sn,6,tn[sn]*Ne+tn[sn+2]*Ye,tn[sn+1]*Ne+tn[sn+3]*Ye,tn[sn]*Pt+tn[sn+2]*Yt,tn[sn+1]*Pt+tn[sn+3]*Yt,tn[sn]*Mt+tn[sn+2]*Ft+tn[sn+4],tn[sn+1]*Mt+tn[sn+3]*Ft+tn[sn+5]),this.H.push(this.B.transform.bind(this.B,Ne,Ye,Pt,Yt,Mt,Ft))},rotate:function(Ne){const Ye=Math.sin(Ne);Ne=Math.cos(Ne),this.transform(Ne,Ye,-Ye,Ne,0,0)},_drawPath:function(Ne,Ye){this.H.push(Ye.draw.bind(Ye,this.B,Ne.T,Ne.Ua===st?"evenodd":"nonzero"))},_drawRiveImage:function(Ne,Ye,Pt,Yt){var Mt=Ne.Cb;if(Mt){var Ft=this.B,tn=f(Pt);this.H.push(function(){Ft.globalCompositeOperation=tn,Ft.globalAlpha=Yt,Ft.drawImage(Mt,0,0),Ft.globalAlpha=1})}},_getMatrix:function(Ne){const Ye=this.S,Pt=Ye.length-6;for(let Yt=0;6>Yt;++Yt)Ne[Yt]=Ye[Pt+Yt]},_drawImageMesh:function(Ne,Ye,Pt,Yt,Mt,Ft,tn,sn,rr,yn,Ci){Ye=this.B.canvas.width;var hn=this.B.canvas.height;const es=yn-sn,rl=Ci-rr;sn=Math.max(sn,0),rr=Math.max(rr,0),yn=Math.min(yn,Ye),Ci=Math.min(Ci,hn);const Ra=yn-sn,Ca=Ci-rr;if(console.assert(Ra<=Math.min(es,Ye)),console.assert(Ca<=Math.min(rl,hn)),!(0>=Ra||0>=Ca)){yn=Ra<es||Ca<rl,Ye=Ci=1;var fa=Math.ceil(Ra*Ci),ar=Math.ceil(Ca*Ye);hn=U.ac(),fa>hn&&(Ci*=hn/fa,fa=hn),ar>hn&&(Ye*=hn/ar,ar=hn),Ze||(Ze=new z.DynamicRectanizer(hn),Ze.reset(512,512)),hn=Ze.addRect(fa,ar),0>hn&&(_(),on.add(this),hn=Ze.addRect(fa,ar),console.assert(0<=hn));var ru=hn&65535,Co=hn>>16;kt.push({ga:this.S.slice(this.S.length-6),image:Ne,Ya:ru,Za:Co,bc:sn,cc:rr,tc:fa,ib:ar,za:Ci,Aa:Ye,Sa:new Float32Array(Mt),Ab:new Float32Array(Ft),indices:new Uint16Array(tn),fc:yn,ub:Ne.Ia<<1|(yn?1:0)}),gn+=Mt.length,ei+=tn.length;var Vr=this.B,Af=f(Pt);this.H.push(function(){Vr.save(),Vr.resetTransform(),Vr.globalCompositeOperation=Af,Vr.globalAlpha=Yt;const qi=U.canvas();qi&&Vr.drawImage(qi,ru,Co,fa,ar,sn,rr,Ra,Ca),Vr.restore()})}},_clipPath:function(Ne){this.H.push(this.B.clip.bind(this.B,Ne.T,Ne.Ua===st?"evenodd":"nonzero"))},clear:function(){on.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Ne,Ye){this.transform(1,0,0,1,Ne,Ye)}});z.makeRenderer=function(Ne){const Ye=new yr(Ne),Pt=Ye.B;return new Proxy(Ye,{get(Yt,Mt){if(typeof Yt[Mt]=="function")return function(...Ft){return Yt[Mt].apply(Yt,Ft)};if(typeof Pt[Mt]=="function"){if(-1<F.indexOf(Mt))throw Error("RiveException: Method call to '"+Mt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Ft){Ye.H.push(Pt[Mt].bind(Pt,...Ft))}}return Yt[Mt]},set(Yt,Mt,Ft){if(Mt in Pt)return Ye.H.push(()=>{Pt[Mt]=Ft}),!0}})},z.decodeImage=function(Ne,Ye){new ze({ka:Ye}).decode(Ne)},z.renderFactory={makeRenderPaint:function(){return new Be},makeRenderPath:function(){return new it},makeRenderImage:function(){let Ne=Or;return new ze({va:()=>{Ne.total++},ka:()=>{if(Ne.loaded++,Ne.loaded===Ne.total){const Ye=Ne.ready;Ye&&(Ye(),Ne.ready=null)}}})}};let zt=z.load,Or=null;z.load=function(Ne,Ye,Pt=!0){const Yt=new z.FallbackFileAssetLoader;return Ye!==void 0&&Yt.addLoader(Ye),Pt&&(Ye=new z.CDNFileAssetLoader,Yt.addLoader(Ye)),new Promise(function(Mt){let Ft=null;Or={total:0,loaded:0,ready:function(){Mt(Ft)}},Ft=zt(Ne,Yt),Or.total==0&&Mt(Ft)})};let Za=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(Ne,Ye,Pt,Yt,Mt=1){Za.call(this,Ne,Ye,Pt,Yt,Mt)},S=new Ke,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=_,z.resolveAnimationFrame=_,z.cleanup=function(){Ze&&Ze.delete()}};var B=Object.assign({},z),C="./this.program",k="",I,X;(Fe||qe)&&(qe?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),L&&(k=L),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),qe&&(X=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(ri(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,_)});var re=z.print||console.log.bind(console),H=z.printErr||console.error.bind(console);Object.assign(z,B),B=null,z.thisProgram&&(C=z.thisProgram);var ee;z.wasmBinary&&(ee=z.wasmBinary);var ye,de=!1,xe,P,se,Se,be,Ie,He,We;function ut(){var f=ye.buffer;z.HEAP8=xe=new Int8Array(f),z.HEAP16=se=new Int16Array(f),z.HEAPU8=P=new Uint8Array(f),z.HEAPU16=Se=new Uint16Array(f),z.HEAP32=be=new Int32Array(f),z.HEAPU32=Ie=new Uint32Array(f),z.HEAPF32=He=new Float32Array(f),z.HEAPF64=We=new Float64Array(f)}var _t=[],Ct=[],rn=[];function ft(){var f=z.preRun.shift();_t.unshift(f)}var Et=0,Lt=null;function Ut(f){throw z.onAbort?.(f),f="Aborted("+f+")",H(f),de=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Re(f),f}var On=f=>f.startsWith("data:application/octet-stream;base64,"),ri=f=>f.startsWith("file://"),en;function at(f){if(f==en&&ee)return new Uint8Array(ee);if(X)return X(f);throw"both async and sync fetching of the wasm failed"}function bt(f){return ee?Promise.resolve().then(()=>at(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(at(f))}catch(S){_(S)}})})}function dn(f,d,_){return bt(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{H(`failed to asynchronously prepare wasm: ${S}`),Ut(S)})}function Ar(f,d){var _=en;return ee||typeof WebAssembly.instantiateStreaming!="function"||On(_)||ri(_)||typeof fetch!="function"?dn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return H(`wasm streaming compile failed: ${N}`),H("falling back to ArrayBuffer instantiation"),dn(_,f,d)}))}var Sn,Gt,mn={464256:(f,d,_,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let j=window.h;j.D=[],j.rc=function(W){for(var J=0;J<j.D.length;++J)if(j.D[J]==null)return j.D[J]=W,J;return j.D.push(W),j.D.length-1},j.zb=function(W){for(j.D[W]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(W){for(var J=0;J<j.D.length;++J)if(j.D[J]==W)return j.zb(J)},j.pa=function(W){return j.D[W]},j.Ra=["touchend","click"],j.unlock=function(){for(var W=0;W<j.D.length;++W){var J=j.D[W];J!=null&&J.K!=null&&J.state===j.fa.vb&&J.K.resume().then(()=>{Ro(J.ob)},ce=>{console.error("Failed to resume audiocontext",ce)})}j.Ra.map(function(ce){document.removeEventListener(ce,j.unlock,!0)})},j.Ra.map(function(W){document.addEventListener(W,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,N,j)=>{if(typeof window.h>"u")return-1;var W={},J={};return f==window.h.I.wa&&_!=0&&(J.sampleRate=_),W.K=new(window.AudioContext||window.webkitAudioContext)(J),W.K.suspend(),W.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),W.Y=W.K.createScriptProcessor(S,_,d),W.Y.onaudioprocess=function(ce){if((W.qa==null||W.qa.length==0)&&(W.qa=new Float32Array(He.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var le=0;le<d;le+=1)for(var Oe=ce.inputBuffer.getChannelData(le),Je=W.qa,st=0;st<S;st+=1)Je[st*d+le]=Oe[st];nu(j,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(iu(j,S,N),le=0;le<ce.outputBuffer.numberOfChannels;++le)for(Oe=ce.outputBuffer.getChannelData(le),Je=W.qa,st=0;st<S;st+=1)Oe[st]=Je[st*d+le];else for(le=0;le<ce.outputBuffer.numberOfChannels;++le)ce.outputBuffer.getChannelData(le).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ce){W.Ba=W.K.createMediaStreamSource(ce),W.Ba.connect(W.Y),W.Y.connect(W.K.destination)}).catch(function(ce){console.log("Failed to get user media: "+ce)}),f==window.h.I.wa&&W.Y.connect(W.K.destination),W.ob=j,window.h.rc(W)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(z)};function g(){var f=be[+we>>2];return we+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},K=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},pe=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ae=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Ut("initRandomDevice")},$e=f=>($e=Ae())(f),tt=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(N=>!!N),!_).join("/"),(_?"/":"")+d||"."},Xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,nt=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&Xe)return Xe.decode(f.subarray(d,_));for(S="";d<_;){var N=f[d++];if(N&128){var j=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|j);else{var W=f[d++]&63;N=(N&240)==224?(N&15)<<12|j<<6|W:(N&7)<<18|j<<12|W<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},Jt=[],In=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},cn=(f,d,_,S)=>{if(!(0<S))return 0;var N=_;S=_+S-1;for(var j=0;j<f.length;++j){var W=f.charCodeAt(j);if(55296<=W&&57343>=W){var J=f.charCodeAt(++j);W=65536+((W&1023)<<10)|J&1023}if(127>=W){if(_>=S)break;d[_++]=W}else{if(2047>=W){if(_+1>=S)break;d[_++]=192|W>>6}else{if(65535>=W){if(_+2>=S)break;d[_++]=224|W>>12}else{if(_+3>=S)break;d[_++]=240|W>>18,d[_++]=128|W>>12&63}d[_++]=128|W>>6&63}d[_++]=128|W&63}}return d[_]=0,_-N};function Rn(f,d){var _=Array(In(f)+1);return f=cn(f,_,0,_.length),d&&(_.length=f),_}var qn=[];function Bt(f,d){qn[f]={input:[],G:[],V:d},Kn(f,xn)}var xn={open(f){var d=qn[f.node.xa];if(!d)throw new Qe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Qe(60);for(var N=0,j=0;j<S;j++){try{var W=f.s.V.hb(f.s)}catch{throw new Qe(29)}if(W===void 0&&N===0)throw new Qe(6);if(W==null)break;N++,d[_+j]=W}return N&&(f.node.timestamp=Date.now()),N},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Qe(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[_+N])}catch{throw new Qe(29)}return S&&(f.node.timestamp=Date.now()),N}},Vn={hb(){e:{if(!Jt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Jt=Rn(f,!0)}f=Jt.shift()}return f},Ma(f,d){d===null||d===10?(re(nt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(re(nt(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Mn={Ma(f,d){d===null||d===10?(H(nt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(H(nt(f.G,0)),f.G=[])}};function ki(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var gt={N:null,U(){return gt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Qe(63);return gt.N||(gt.N={dir:{node:{X:gt.j.X,P:gt.j.P,ja:gt.j.ja,ta:gt.j.ta,sb:gt.j.sb,yb:gt.j.yb,tb:gt.j.tb,rb:gt.j.rb,Ca:gt.j.Ca},stream:{aa:gt.m.aa}},file:{node:{X:gt.j.X,P:gt.j.P},stream:{aa:gt.m.aa,read:gt.m.read,write:gt.m.write,Xa:gt.m.Xa,kb:gt.m.kb,mb:gt.m.mb}},link:{node:{X:gt.j.X,P:gt.j.P,la:gt.j.la},stream:{}},$a:{node:{X:gt.j.X,P:gt.j.P},stream:Ei}}),_=Cs(f,d,_,S),(_.mode&61440)===16384?(_.j=gt.N.dir.node,_.m=gt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=gt.N.file.node,_.m=gt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=gt.N.link.node,_.m=gt.N.link.stream):(_.mode&61440)===8192&&(_.j=gt.N.$a.node,_.m=gt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw Fr[44]},ta(f,d,_,S){return gt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=or(d,_)}catch{}if(S)for(var N in S.l)throw new Qe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=or(f,d),S;for(S in _.l)throw new Qe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=gt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Qe(28);return f.link}},m:{read(f,d,_,S,N){var j=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&j.subarray)d.set(j.subarray(N,N+f),_);else for(S=0;S<f;S++)d[_+S]=j[N+S];return f},write(f,d,_,S,N,j){if(d.buffer===xe.buffer&&(j=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(j)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(_,_+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(_,_+S),N),S}if(ki(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),N);else for(j=0;j<S;j++)f.l[N+j]=d[_+j];return f.v=Math.max(f.v,N+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Qe(28);return d},Xa(f,d,_){ki(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,N){if((f.node.mode&61440)!==32768)throw new Qe(43);if(f=f.node.l,N&2||f.buffer!==xe.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Ut(),d=void 0,!d)throw new Qe(48);xe.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return gt.m.write(f,d,0,S,_,!1),0}}},Gn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},St=null,Ki={},$i=[],Ba=1,Sr=null,Br=!0,Qe=class{constructor(f){this.name="ErrnoError",this.$=f}},Fr={},Pi=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Ji=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=Ba++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function pn(f,d={}){if(f=tt(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Qe(32);f=f.split("/").filter(W=>!!W);for(var _=St,S="/",N=0;N<f.length;N++){var j=N===f.length-1;if(j&&d.parent)break;if(_=or(_,f[N]),S=D(S+"/"+f[N]),_.ua&&(!j||j&&d.gb)&&(_=_.ua.root),!j||d.fb){for(j=0;(_.mode&61440)===40960;)if(_=va(S),S=tt(K(S),_),_=pn(S,{Oa:d.Oa+1}).node,40<j++)throw new Qe(32)}}return{path:S,node:_}}function zn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Li(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Sr.length}function or(f,d){var _=(f.mode&61440)===16384?(_=aa(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Qe(_);for(_=Sr[Li(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Cs(f,d,_,S){return f=new Ji(f,d,_,S),d=Li(f.parent.id,f.name),f.ec=Sr[d],Sr[d]=f}function Fa(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function aa(f,d){if(Br)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Ui(f,d){try{return or(f,d),20}catch{}return aa(f,"wx")}function wi(f){if(f=$i[f],!f)throw new Qe(8);return f}function ji(f,d=-1){if(f=Object.assign(new Pi,f),d==-1)e:{for(d=0;4096>=d;d++)if(!$i[d])break e;throw new Qe(33)}return f.W=d,$i[d]=f}function zi(f,d=-1){return f=ji(f,d),f.m?.Ec?.(f),f}var Ei={open(f){f.m=Ki[f.node.xa].m,f.m.open?.(f)},aa(){throw new Qe(70)}};function Kn(f,d){Ki[f]={m:d}}function kn(f,d){var _=d==="/";if(_&&St)throw new Qe(10);if(!_&&d){var S=pn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Qe(10);if((S.mode&61440)!==16384)throw new Qe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?St=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function sa(f,d,_){var S=pn(f,{parent:!0}).node;if(f=pe(f),!f||f==="."||f==="..")throw new Qe(28);var N=Ui(S,f);if(N)throw new Qe(N);if(!S.j.ta)throw new Qe(63);return S.j.ta(S,f,d,_)}function Ti(f){return sa(f,16895,0)}function Ai(f,d,_){typeof _>"u"&&(_=d,d=438),sa(f,d|8192,_)}function Yn(f,d){if(!tt(f))throw new Qe(44);var _=pn(d,{parent:!0}).node;if(!_)throw new Qe(44);d=pe(d);var S=Ui(_,d);if(S)throw new Qe(S);if(!_.j.Ca)throw new Qe(63);_.j.Ca(_,d,f)}function va(f){if(f=pn(f).node,!f)throw new Qe(44);if(!f.j.la)throw new Qe(28);return tt(zn(f.parent),f.j.la(f))}function Rr(f,d,_){if(f==="")throw new Qe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var N=f;else{f=D(f);try{N=pn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Qe(20)}else N=sa(f,_,0),S=!0;if(!N)throw new Qe(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Qe(54);if(!S&&(_=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(Fa(d)!=="r"||d&512)?31:aa(N,Fa(d)):44))throw new Qe(_);if(d&512&&!S){if(_=N,_=typeof _=="string"?pn(_,{fb:!0}).node:_,!_.j.P)throw new Qe(63);if((_.mode&61440)===16384)throw new Qe(31);if((_.mode&61440)!==32768)throw new Qe(28);if(S=aa(_,"w"))throw new Qe(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,N=ji({node:N,path:zn(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!z.logReadFiles||d&1||(fe||={},f in fe||(fe[f]=1)),N}function _a(f,d,_){if(f.W===null)throw new Qe(8);if(!f.seekable||!f.m.aa)throw new Qe(70);if(_!=0&&_!=1&&_!=2)throw new Qe(28);f.position=f.m.aa(f,d,_),f.sc=[]}var Ha;function Bi(f,d,_){f=D("/dev/"+f);var S=Gn(!!d,!!_);$||=64;var N=$++<<8|0;Kn(N,{open(j){j.seekable=!1},close(){_?.buffer?.length&&_(10)},read(j,W,J,ce){for(var le=0,Oe=0;Oe<ce;Oe++){try{var Je=d()}catch{throw new Qe(29)}if(Je===void 0&&le===0)throw new Qe(6);if(Je==null)break;le++,W[J+Oe]=Je}return le&&(j.node.timestamp=Date.now()),le},write(j,W,J,ce){for(var le=0;le<ce;le++)try{_(W[J+le])}catch{throw new Qe(29)}return ce&&(j.node.timestamp=Date.now()),le}}),Ai(f,S,N)}var $,ie={},fe,we=void 0,Ve=(f,d)=>Object.defineProperty(d,"name",{value:f}),Le=[],ke=[],Me,Pe=f=>{if(!f)throw new Me("Cannot use deleted val. handle = "+f);return ke[f]},Ge=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Le.pop()||ke.length;return ke[d]=f,ke[d+1]=1,d}},Vt=f=>{var d=Error,_=Ve(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Bn,_n,jt=f=>{for(var d="";P[f];)d+=_n[P[f++]];return d},di=[],Xn=()=>{for(;di.length;){var f=di.pop();f.g.ea=!1,f.delete()}},ai,lr={},qa=(f,d)=>{if(d===void 0)throw new Me("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Cr={},Ga=f=>{f=gc(f);var d=jt(f);return ir(f),d},ba=(f,d)=>{var _=Cr[f];if(_===void 0)throw f=`${d} has unknown type ${Ga(f)}`,new Me(f);return _},Ir=()=>{},wa=!1,ur=(f,d,_)=>d===_?f:_.C===void 0?null:(f=ur(f,d,_.C),f===null?null:_.Lb(f)),Is={},cr=(f,d)=>(d=qa(f,d),lr[d]),hr,Zi=(f,d)=>{if(!d.u||!d.o)throw new hr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new hr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},fr(Object.create(f,{g:{value:d,writable:!0}}))},fr=f=>typeof FinalizationRegistry>"u"?(fr=d=>d,f):(wa=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),fr=d=>{var _=d.g;return _.F&&wa.register(d,{g:_},d),d},Ir=d=>{wa.unregister(d)},fr(f)),oa={},dr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Si(f){return this.fromWireType(Ie[f>>2])}var mi={},Hr={},Nt=(f,d,_)=>{function S(J){if(J=_(J),J.length!==f.length)throw new hr("Mismatched type converter count");for(var ce=0;ce<f.length;++ce)Fi(f[ce],J[ce])}f.forEach(function(J){Hr[J]=d});var N=Array(d.length),j=[],W=0;d.forEach((J,ce)=>{Cr.hasOwnProperty(J)?N[ce]=Cr[J]:(j.push(J),mi.hasOwnProperty(J)||(mi[J]=[]),mi[J].push(()=>{N[ce]=Cr[J],++W,W===j.length&&S(N)}))}),j.length===0&&S(N)};function qr(f,d,_={}){var S=d.name;if(!f)throw new Me(`type "${S}" must have a positive integer typeid pointer`);if(Cr.hasOwnProperty(f)){if(_.Vb)return;throw new Me(`Cannot register type '${S}' twice`)}Cr[f]=d,delete Hr[f],mi.hasOwnProperty(f)&&(d=mi[f],delete mi[f],d.forEach(N=>N()))}function Fi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return qr(f,d,_)}var la=f=>{throw new Me(f.g.u.i.name+" instance already deleted")};function Ea(){}var ua=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new Me(`Function '${_}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},xr=(f,d,_)=>{if(z.hasOwnProperty(f)){if(_===void 0||z[f].A!==void 0&&z[f].A[_]!==void 0)throw new Me(`Cannot register public name '${f}' twice`);if(ua(z,f,f),z.hasOwnProperty(_))throw new Me(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);z[f].A[_]=d}else z[f]=d,_!==void 0&&(z[f].Lc=_)},Mr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function pi(f,d,_,S,N,j,W,J){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=N,this.Qb=j,this.ma=W,this.Lb=J,this.pb=[]}var mr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new Me(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Gr(f,d){if(d===null){if(this.La)throw new Me(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new Me(`Cannot pass "${Ds(d)}" as a ${this.name}`);if(!d.g.o)throw new Me(`Cannot pass deleted object as a pointer of type ${this.name}`);return mr(d.g.o,d.g.u.i,this.i)}function Ta(f,d){if(d===null){if(this.La)throw new Me(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new Me(`Cannot pass "${Ds(d)}" as a ${this.name}`);if(!d.g.o)throw new Me(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new Me(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=mr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new Me("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new Me(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Ge(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new Me("Unsupporting sharing policy")}}return _}function Ao(f,d){if(d===null){if(this.La)throw new Me(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new Me(`Cannot pass "${Ds(d)}" as a ${this.name}`);if(!d.g.o)throw new Me(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new Me(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return mr(d.g.o,d.g.u.i,this.i)}function Nr(f,d,_,S,N,j,W,J,ce,le,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=N,this.hc=j,this.mc=W,this.qb=J,this.Na=ce,this.ic=le,this.O=Oe,N||d.C!==void 0?this.toWireType=Ta:(this.toWireType=S?Gr:Ao,this.L=null)}var Ya=(f,d,_)=>{if(!z.hasOwnProperty(f))throw new hr("Replacing nonexistent public symbol");z[f].A!==void 0&&_!==void 0?z[f].A[_]=d:(z[f]=d,z[f].da=_)},er=[],Xa,xs=f=>{var d=er[f];return d||(f>=er.length&&(er.length=f+1),er[f]=d=Xa.get(f)),d},Qa=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,z["dynCall_"+f])(d,..._)):d=xs(d)(..._),d),$o=(f,d)=>(..._)=>Qa(f,d,_),Zn=(f,d)=>{f=jt(f);var _=f.includes("j")?$o(f,d):xs(d);if(typeof _!="function")throw new Me(`unknown function pointer with signature ${f}: ${d}`);return _},Aa,tr=(f,d)=>{function _(j){N[j]||Cr[j]||(Hr[j]?Hr[j].forEach(_):(S.push(j),N[j]=!0))}var S=[],N={};throw d.forEach(_),new Aa(`${f}: `+S.map(Ga).join([", "]))};function Jo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ca(f,d,_,S,N){var j=d.length;if(2>j)throw new Me("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=d[1]!==null&&_!==null,J=Jo(d),ce=d[0].name!=="void",le=j-2,Oe=Array(le),Je=[],st=[];return Ve(f,function(...Z){if(Z.length!==le)throw new Me(`function ${f} called with ${Z.length} arguments, expected ${le}`);if(st.length=0,Je.length=W?2:1,Je[0]=N,W){var ze=d[1].toWireType(st,this);Je[1]=ze}for(var it=0;it<le;++it)Oe[it]=d[it+2].toWireType(st,Z[it]),Je.push(Oe[it]);if(Z=S(...Je),J)dr(st);else for(it=W?1:2;it<d.length;it++){var Be=it===1?ze:Oe[it-2];d[it].L!==null&&d[it].L(Be)}return ze=ce?d[0].fromWireType(Z):void 0,ze})}var Wa=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Ie[d+4*S>>2]);return _},Ms=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Dr=(f,d,_)=>{if(!(f instanceof Object))throw new Me(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new Me(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new Me(`cannot call emscripten binding method ${_} on deleted object`);return mr(f.g.o,f.g.u.i,d.i)},Ns=f=>{9<f&&--ke[f+1]===0&&(ke[f]=void 0,Le.push(f))},Zo={name:"emscripten::val",fromWireType:f=>{var d=Pe(f);return Ns(f),d},toWireType:(f,d)=>Ge(d),argPackAdvance:8,readValueFromPointer:Si,L:null},el=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(xe[S])}:function(S){return this.fromWireType(P[S])};case 2:return _?function(S){return this.fromWireType(se[S>>1])}:function(S){return this.fromWireType(Se[S>>1])};case 4:return _?function(S){return this.fromWireType(be[S>>2])}:function(S){return this.fromWireType(Ie[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ds=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Sa=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(He[_>>2])};case 8:return function(_){return this.fromWireType(We[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ri=(f,d,_)=>{switch(d){case 1:return _?S=>xe[S]:S=>P[S];case 2:return _?S=>se[S>>1]:S=>Se[S>>1];case 4:return _?S=>be[S>>2]:S=>Ie[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},So=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,tl=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Se[_];)++_;if(_<<=1,32<_-f&&So)return So.decode(P.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var N=se[f+2*S>>1];if(N==0)break;_+=String.fromCharCode(N)}return _},ha=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var N=0;N<_;++N)se[d>>1]=f.charCodeAt(N),d+=2;return se[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var N=be[f+4*_>>2];if(N==0)break;++_,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var N=0;N<f.length;++N){var j=f.charCodeAt(N);if(55296<=j&&57343>=j){var W=f.charCodeAt(++N);j=65536+((j&1023)<<10)|W&1023}if(be[d>>2]=j,d+=4,d+4>_)break}return be[d>>2]=0,d-S},O=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ae=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Ie[d>>2]=Ge(S)),f},me={},je=f=>{var d=me[f];return d===void 0?jt(f):d},At=[],Qn=f=>{var d=At.length;return At.push(f),d},an=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=ba(Ie[d+4*S>>2],"parameter "+S);return _},Nn=Reflect.construct,Hi=[],pr={},gr=()=>{if(!nr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in pr)pr[d]===void 0?delete f[d]:f[d]=pr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);nr=_}return nr},nr,Yr=f=>f%4===0&&(f%100!==0||f%400===0),Ka=[31,29,31,30,31,30,31,31,30,31,30,31],$a=[31,28,31,30,31,30,31,31,30,31,30,31],Tf=(f,d,_,S)=>{function N(Z,ze,it){for(Z=typeof Z=="number"?Z.toString():Z||"";Z.length<ze;)Z=it[0]+Z;return Z}function j(Z,ze){return N(Z,ze,"0")}function W(Z,ze){function it(on){return 0>on?-1:0<on?1:0}var Be;return(Be=it(Z.getFullYear()-ze.getFullYear()))===0&&(Be=it(Z.getMonth()-ze.getMonth()))===0&&(Be=it(Z.getDate()-ze.getDate())),Be}function J(Z){switch(Z.getDay()){case 0:return new Date(Z.getFullYear()-1,11,29);case 1:return Z;case 2:return new Date(Z.getFullYear(),0,3);case 3:return new Date(Z.getFullYear(),0,2);case 4:return new Date(Z.getFullYear(),0,1);case 5:return new Date(Z.getFullYear()-1,11,31);case 6:return new Date(Z.getFullYear()-1,11,30)}}function ce(Z){var ze=Z.ba;for(Z=new Date(new Date(Z.ca+1900,0,1).getTime());0<ze;){var it=Z.getMonth(),Be=(Yr(Z.getFullYear())?Ka:$a)[it];if(ze>Be-Z.getDate())ze-=Be-Z.getDate()+1,Z.setDate(1),11>it?Z.setMonth(it+1):(Z.setMonth(0),Z.setFullYear(Z.getFullYear()+1));else{Z.setDate(Z.getDate()+ze);break}}return it=new Date(Z.getFullYear()+1,0,4),ze=J(new Date(Z.getFullYear(),0,4)),it=J(it),0>=W(ze,Z)?0>=W(it,Z)?Z.getFullYear()+1:Z.getFullYear():Z.getFullYear()-1}var le=Ie[S+40>>2];S={pc:be[S>>2],oc:be[S+4>>2],Da:be[S+8>>2],Qa:be[S+12>>2],Ea:be[S+16>>2],ca:be[S+20>>2],R:be[S+24>>2],ba:be[S+28>>2],Nc:be[S+32>>2],nc:be[S+36>>2],qc:le&&le?nt(P,le):""},_=_?nt(P,_):"",le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in le)_=_.replace(new RegExp(Oe,"g"),le[Oe]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");le={"%a":Z=>Je[Z.R].substring(0,3),"%A":Z=>Je[Z.R],"%b":Z=>st[Z.Ea].substring(0,3),"%B":Z=>st[Z.Ea],"%C":Z=>j((Z.ca+1900)/100|0,2),"%d":Z=>j(Z.Qa,2),"%e":Z=>N(Z.Qa,2," "),"%g":Z=>ce(Z).toString().substring(2),"%G":ce,"%H":Z=>j(Z.Da,2),"%I":Z=>(Z=Z.Da,Z==0?Z=12:12<Z&&(Z-=12),j(Z,2)),"%j":Z=>{for(var ze=0,it=0;it<=Z.Ea-1;ze+=(Yr(Z.ca+1900)?Ka:$a)[it++]);return j(Z.Qa+ze,3)},"%m":Z=>j(Z.Ea+1,2),"%M":Z=>j(Z.oc,2),"%n":()=>`
`,"%p":Z=>0<=Z.Da&&12>Z.Da?"AM":"PM","%S":Z=>j(Z.pc,2),"%t":()=>"	","%u":Z=>Z.R||7,"%U":Z=>j(Math.floor((Z.ba+7-Z.R)/7),2),"%V":Z=>{var ze=Math.floor((Z.ba+7-(Z.R+6)%7)/7);if(2>=(Z.R+371-Z.ba-2)%7&&ze++,ze)ze==53&&(it=(Z.R+371-Z.ba)%7,it==4||it==3&&Yr(Z.ca)||(ze=1));else{ze=52;var it=(Z.R+7-Z.ba-1)%7;(it==4||it==5&&Yr(Z.ca%400-1))&&ze++}return j(ze,2)},"%w":Z=>Z.R,"%W":Z=>j(Math.floor((Z.ba+7-(Z.R+6)%7)/7),2),"%y":Z=>(Z.ca+1900).toString().substring(2),"%Y":Z=>Z.ca+1900,"%z":Z=>{Z=Z.nc;var ze=0<=Z;return Z=Math.abs(Z)/60,(ze?"+":"-")+("0000"+(Z/60*100+Z%60)).slice(-4)},"%Z":Z=>Z.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in le)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),le[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=Rn(_,!1),Oe.length>d?0:(xe.set(Oe,f),Oe.length-1)};[44].forEach(f=>{Fr[f]=new Qe(f),Fr[f].stack="<generic error, no stack>"}),Sr=Array(4096),kn(gt,"/"),Ti("/tmp"),Ti("/home"),Ti("/home/web_user"),(function(){Ti("/dev"),Kn(259,{read:()=>0,write:(S,N,j,W)=>W}),Ai("/dev/null",259),Bt(1280,Vn),Bt(1536,Mn),Ai("/dev/tty",1280),Ai("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=$e(f).byteLength),f[--d]);Bi("random",_),Bi("urandom",_),Ti("/dev/shm"),Ti("/dev/shm/tmp")})(),(function(){Ti("/proc");var f=Ti("/proc/self");Ti("/proc/self/fd"),kn({U(){var d=Cs(f,"fd",16895,73);return d.j={ja(_,S){var N=wi(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},_.parent=_}},d}},"/proc/self/fd")})(),Me=z.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},ke.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>ke.length/2-5-Le.length,Bn=z.PureVirtualError=Vt("PureVirtualError");for(var pc=Array(256),nl=0;256>nl;++nl)pc[nl]=String.fromCharCode(nl);_n=pc,z.getInheritedInstanceCount=()=>Object.keys(lr).length,z.getLiveInheritedInstances=()=>{var f=[],d;for(d in lr)lr.hasOwnProperty(d)&&f.push(lr[d]);return f},z.flushPendingDeletes=Xn,z.setDelayFunction=f=>{ai=f,di.length&&ai&&ai(Xn)},hr=z.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ea.prototype,{isAliasOf:function(f){if(!(this instanceof Ea&&f instanceof Ea))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||la(this),this.g.ha)return this.g.count.value+=1,this;var f=fr,d=Object,_=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(_.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new Me("Object already scheduled for deletion");Ir(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||la(this),this.g.ea&&!this.g.ha)throw new Me("Object already scheduled for deletion");return di.push(this),di.length===1&&ai&&ai(Xn),this.g.ea=!0,this}}),Object.assign(Nr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Si,fromWireType:function(f){function d(){return this.sa?Zi(this.i.M,{u:this.hc,o:_,J:this,F:f}):Zi(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=cr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Is[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=ur(_,this.i,S.i);return N===null?d.call(this):this.sa?Zi(S.i.M,{u:S,o:N,J:this,F:f}):Zi(S.i.M,{u:S,o:N})}}),Aa=z.UnboundTypeError=Vt("UnboundTypeError");var tu={__syscall_fcntl64:function(f,d,_){we=_;try{var S=wi(f);switch(d){case 0:var N=g();if(0>N)break;for(;$i[N];)N++;return zi(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),se[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof ie>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(f,d,_){we=_;try{var S=wi(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();be[N>>2]=25856,be[N+4>>2]=5,be[N+8>>2]=191,be[N+12>>2]=35387;for(var j=0;32>j;j++)xe[N+j+17]=f[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],j=0;32>j;j++)f.push(xe[N+j+17]);return 0;case 21519:return S.s?(N=g(),be[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Qe(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],N=g(),se[N>>1]=j[0],se[N+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(W){if(typeof ie>"u"||W.name!=="ErrnoError")throw W;return-W.$}},__syscall_openat:function(f,d,_,S){we=S;try{d=d?nt(P,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var j=f===-100?"/":wi(f).path;if(N.length==0)throw new Qe(44);d=D(j+"/"+N)}var W=S?g():0;return Rr(d,_,W).W}catch(J){if(typeof ie>"u"||J.name!=="ErrnoError")throw J;return-J.$}},_abort_js:()=>{Ut("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=jt(f),d=ba(d,"wrapper"),_=Pe(_);var S=d.i,N=S.M,j=S.C.M,W=S.C.constructor;return f=Ve(f,function(...J){S.C.pb.forEach((function(ce){if(this[ce]===j[ce])throw new Bn(`Pure virtual function ${ce} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...J)}),N.__construct=function(...J){if(this===N)throw new Me("Pass correct 'this' to __construct");J=W.implement(this,...J),Ir(J);var ce=J.g;if(J.notifyOnDestruction(),ce.ha=!0,Object.defineProperties(this,{g:{value:ce}}),fr(this),J=ce.o,J=qa(S,J),lr.hasOwnProperty(J))throw new Me(`Tried to register registered instance: ${J}`);lr[J]=this},N.__destruct=function(){if(this===N)throw new Me("Pass correct 'this' to __destruct");Ir(this);var J=this.g.o;if(J=qa(S,J),lr.hasOwnProperty(J))delete lr[J];else throw new Me(`Tried to unregister unregistered instance: ${J}`)},f.prototype=Object.create(N),Object.assign(f.prototype,_),Ge(f)},_embind_finalize_value_object:f=>{var d=oa[f];delete oa[f];var _=d.Na,S=d.O,N=d.eb,j=N.map(W=>W.Ub).concat(N.map(W=>W.kc));Nt([f],j,W=>{var J={};return N.forEach((ce,le)=>{var Oe=W[le],Je=ce.Sb,st=ce.Tb,Z=W[le+N.length],ze=ce.jc,it=ce.lc;J[ce.Ob]={read:Be=>Oe.fromWireType(Je(st,Be)),write:(Be,on)=>{var Ze=[];ze(it,Be,Z.toWireType(Ze,on)),dr(Ze)}}}),[{name:d.name,fromWireType:ce=>{var le={},Oe;for(Oe in J)le[Oe]=J[Oe].read(ce);return S(ce),le},toWireType:(ce,le)=>{for(var Oe in J)if(!(Oe in le))throw new TypeError(`Missing field: "${Oe}"`);var Je=_();for(Oe in J)J[Oe].write(Je,le[Oe]);return ce!==null&&ce.push(S,Je),Je},argPackAdvance:8,readValueFromPointer:Si,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=jt(d),Fi(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,j){return j?_:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(P[N])},L:null})},_embind_register_class:(f,d,_,S,N,j,W,J,ce,le,Oe,Je,st)=>{Oe=jt(Oe),j=Zn(N,j),J&&=Zn(W,J),le&&=Zn(ce,le),st=Zn(Je,st);var Z=Mr(Oe);xr(Z,function(){tr(`Cannot construct ${Oe} due to unbound types`,[S])}),Nt([f,d,_],S?[S]:[],ze=>{if(ze=ze[0],S)var it=ze.i,Be=it.M;else Be=Ea.prototype;ze=Ve(Oe,function(...gn){if(Object.getPrototypeOf(this)!==on)throw new Me("Use 'new' to construct "+Oe);if(Ze.Z===void 0)throw new Me(Oe+" has no accessible constructor");var ei=Ze.Z[gn.length];if(ei===void 0)throw new Me(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${gn.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return ei.apply(this,gn)});var on=Object.create(Be,{constructor:{value:ze}});ze.prototype=on;var Ze=new pi(Oe,ze,on,st,it,j,J,le);if(Ze.C){var kt;(kt=Ze.C).na??(kt.na=[]),Ze.C.na.push(Ze)}return it=new Nr(Oe,Ze,!0,!1,!1),kt=new Nr(Oe+"*",Ze,!1,!1,!1),Be=new Nr(Oe+" const*",Ze,!1,!0,!1),Is[f]={pointerType:kt,Hb:Be},Ya(Z,ze),[it,kt,Be]})},_embind_register_class_class_function:(f,d,_,S,N,j,W)=>{var J=Wa(_,S);d=jt(d),d=Ms(d),j=Zn(N,j),Nt([],[f],ce=>{function le(){tr(`Cannot call ${Oe} due to unbound types`,J)}ce=ce[0];var Oe=`${ce.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=ce.i.constructor;return Je[d]===void 0?(le.da=_-1,Je[d]=le):(ua(Je,d,Oe),Je[d].A[_-1]=le),Nt([],J,st=>{if(st=ca(Oe,[st[0],null].concat(st.slice(1)),null,j,W),Je[d].A===void 0?(st.da=_-1,Je[d]=st):Je[d].A[_-1]=st,ce.i.na)for(const Z of ce.i.na)Z.constructor.hasOwnProperty(d)||(Z.constructor[d]=st);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,N,j,W,J)=>{d=jt(d),j=Zn(N,j),Nt([],[f],ce=>{ce=ce[0];var le=`${ce.name}.${d}`,Oe={get(){tr(`Cannot access ${le} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=J?()=>{tr(`Cannot access ${le} due to unbound types`,[_])}:()=>{throw new Me(`${le} is a read-only property`)},Object.defineProperty(ce.i.constructor,d,Oe),Nt([],[_],Je=>{Je=Je[0];var st={get(){return Je.fromWireType(j(S))},enumerable:!0};return J&&(J=Zn(W,J),st.set=Z=>{var ze=[];J(S,Je.toWireType(ze,Z)),dr(ze)}),Object.defineProperty(ce.i.constructor,d,st),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,N,j)=>{var W=Wa(d,_);N=Zn(S,N),Nt([],[f],J=>{J=J[0];var ce=`constructor ${J.name}`;if(J.i.Z===void 0&&(J.i.Z=[]),J.i.Z[d-1]!==void 0)throw new Me(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${J.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return J.i.Z[d-1]=()=>{tr(`Cannot construct ${J.name} due to unbound types`,W)},Nt([],W,le=>(le.splice(1,0,null),J.i.Z[d-1]=ca(ce,le,null,N,j),[])),[]})},_embind_register_class_function:(f,d,_,S,N,j,W,J)=>{var ce=Wa(_,S);d=jt(d),d=Ms(d),j=Zn(N,j),Nt([],[f],le=>{function Oe(){tr(`Cannot call ${Je} due to unbound types`,ce)}le=le[0];var Je=`${le.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),J&&le.i.pb.push(d);var st=le.i.M,Z=st[d];return Z===void 0||Z.A===void 0&&Z.className!==le.name&&Z.da===_-2?(Oe.da=_-2,Oe.className=le.name,st[d]=Oe):(ua(st,d,Je),st[d].A[_-2]=Oe),Nt([],ce,ze=>(ze=ca(Je,ze,le,j,W),st[d].A===void 0?(ze.da=_-2,st[d]=ze):st[d].A[_-2]=ze,[])),[]})},_embind_register_class_property:(f,d,_,S,N,j,W,J,ce,le)=>{d=jt(d),N=Zn(S,N),Nt([],[f],Oe=>{Oe=Oe[0];var Je=`${Oe.name}.${d}`,st={get(){tr(`Cannot access ${Je} due to unbound types`,[_,W])},enumerable:!0,configurable:!0};return st.set=ce?()=>tr(`Cannot access ${Je} due to unbound types`,[_,W]):()=>{throw new Me(Je+" is a read-only property")},Object.defineProperty(Oe.i.M,d,st),Nt([],ce?[_,W]:[_],Z=>{var ze=Z[0],it={get(){var on=Dr(this,Oe,Je+" getter");return ze.fromWireType(N(j,on))},enumerable:!0};if(ce){ce=Zn(J,ce);var Be=Z[1];it.set=function(on){var Ze=Dr(this,Oe,Je+" setter"),kt=[];ce(le,Ze,Be.toWireType(kt,on)),dr(kt)}}return Object.defineProperty(Oe.i.M,d,it),[]}),[]})},_embind_register_emval:f=>Fi(f,Zo),_embind_register_enum:(f,d,_,S)=>{function N(){}d=jt(d),N.values={},Fi(f,{name:d,constructor:N,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,W)=>W.value,argPackAdvance:8,readValueFromPointer:el(d,_,S),L:null}),xr(d,N)},_embind_register_enum_value:(f,d,_)=>{var S=ba(f,"enum");d=jt(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:Ve(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=jt(d),Fi(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:Sa(d,_),L:null})},_embind_register_function:(f,d,_,S,N,j)=>{var W=Wa(d,_);f=jt(f),f=Ms(f),N=Zn(S,N),xr(f,function(){tr(`Cannot call ${f} due to unbound types`,W)},d-1),Nt([],W,J=>(Ya(f,ca(f,[J[0],null].concat(J.slice(1)),null,N,j),d-1),[]))},_embind_register_integer:(f,d,_,S,N)=>{if(d=jt(d),N===-1&&(N=4294967295),N=J=>J,S===0){var j=32-8*_;N=J=>J<<j>>>j}var W=d.includes("unsigned")?function(J,ce){return ce>>>0}:function(J,ce){return ce};Fi(f,{name:d,fromWireType:N,toWireType:W,argPackAdvance:8,readValueFromPointer:Ri(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(j){return new N(xe.buffer,Ie[j+4>>2],Ie[j>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=jt(_),Fi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=jt(d);var _=d==="std::string";Fi(f,{name:d,fromWireType:function(S){var N=Ie[S>>2],j=S+4;if(_)for(var W=j,J=0;J<=N;++J){var ce=j+J;if(J==N||P[ce]==0){if(W=W?nt(P,W,ce-W):"",le===void 0)var le=W;else le+="\0",le+=W;W=ce+1}}else{for(le=Array(N),J=0;J<N;++J)le[J]=String.fromCharCode(P[j+J]);le=le.join("")}return ir(S),le},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var j=typeof N=="string";if(!(j||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new Me("Cannot pass non-string to std::string");var W=_&&j?In(N):N.length,J=Ja(4+W+1),ce=J+4;if(Ie[J>>2]=W,_&&j)cn(N,P,ce,W+1);else if(j)for(j=0;j<W;++j){var le=N.charCodeAt(j);if(255<le)throw ir(ce),new Me("String has UTF-16 code units that do not fit in 8 bits");P[ce+j]=le}else for(j=0;j<W;++j)P[ce+j]=N[j];return S!==null&&S.push(ir,J),J},argPackAdvance:8,readValueFromPointer:Si,L(S){ir(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=jt(_),d===2)var S=tl,N=ha,j=u,W=J=>Se[J>>1];else d===4&&(S=y,N=A,j=O,W=J=>Ie[J>>2]);Fi(f,{name:_,fromWireType:J=>{for(var ce=Ie[J>>2],le,Oe=J+4,Je=0;Je<=ce;++Je){var st=J+4+Je*d;(Je==ce||W(st)==0)&&(Oe=S(Oe,st-Oe),le===void 0?le=Oe:(le+="\0",le+=Oe),Oe=st+d)}return ir(J),le},toWireType:(J,ce)=>{if(typeof ce!="string")throw new Me(`Cannot pass non-string to C++ string type ${_}`);var le=j(ce),Oe=Ja(4+le+d);return Ie[Oe>>2]=le/d,N(ce,Oe+4,le+d),J!==null&&J.push(ir,Oe),Oe},argPackAdvance:8,readValueFromPointer:Si,L(J){ir(J)}})},_embind_register_value_object:(f,d,_,S,N,j)=>{oa[f]={name:jt(d),Na:Zn(_,S),O:Zn(N,j),eb:[]}},_embind_register_value_object_field:(f,d,_,S,N,j,W,J,ce,le)=>{oa[f].eb.push({Ob:jt(d),Ub:_,Sb:Zn(S,N),Tb:j,kc:W,jc:Zn(J,ce),lc:le})},_embind_register_void:(f,d)=>{d=jt(d),Fi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>P.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=Pe(f),d=ba(d,"emval::as"),ae(d,_,f)),_emval_call_method:(f,d,_,S,N)=>(f=At[f],d=Pe(d),_=je(_),f(d,d[_],S,N)),_emval_decref:Ns,_emval_get_method_caller:(f,d,_)=>{var S=an(f,d),N=S.shift();f--;var j=Array(f);return d=`methodCaller<(${S.map(W=>W.name).join(", ")}) => ${N.name}>`,Qn(Ve(d,(W,J,ce,le)=>{for(var Oe=0,Je=0;Je<f;++Je)j[Je]=S[Je].readValueFromPointer(le+Oe),Oe+=S[Je].argPackAdvance;return W=_===1?Nn(J,j):J.apply(W,j),ae(N,ce,W)}))},_emval_get_module_property:f=>(f=je(f),Ge(z[f])),_emval_get_property:(f,d)=>(f=Pe(f),d=Pe(d),Ge(f[d])),_emval_incref:f=>{9<f&&(ke[f+1]+=1)},_emval_new_array:()=>Ge([]),_emval_new_cstring:f=>Ge(je(f)),_emval_new_object:()=>Ge({}),_emval_run_destructors:f=>{var d=Pe(f);dr(d),Ns(f)},_emval_set_property:(f,d,_)=>{f=Pe(f),d=Pe(d),_=Pe(_),f[d]=_},_emval_take_value:(f,d)=>(f=ba(f,"_emval_take_value"),f=f.readValueFromPointer(d),Ge(f)),emscripten_asm_const_int:(f,d,_)=>{Hi.length=0;for(var S;S=P[d++];){var N=S!=105;N&=S!=112,_+=N&&_%8?4:0,Hi.push(S==112?Ie[_>>2]:S==105?be[_>>2]:We[_>>3]),_+=N?8:4}return mn[f](...Hi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(N),ut();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(f,d)=>{var _=0;return gr().forEach((S,N)=>{var j=d+_;for(N=Ie[f+4*N>>2]=j,j=0;j<S.length;++j)xe[N++]=S.charCodeAt(j);xe[N]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=gr();Ie[f>>2]=_.length;var S=0;return _.forEach(N=>S+=N.length+1),Ie[d>>2]=S,0},fd_close:function(f){try{var d=wi(f);if(d.W===null)throw new Qe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{$i[d.W]=null}return d.W=null,0}catch(_){if(typeof ie>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var N=wi(f);f=d;for(var j,W=d=0;W<_;W++){var J=Ie[f>>2],ce=Ie[f+4>>2];f+=8;var le=N,Oe=j,Je=xe;if(0>ce||0>Oe)throw new Qe(28);if(le.W===null)throw new Qe(8);if((le.flags&2097155)===1)throw new Qe(8);if((le.node.mode&61440)===16384)throw new Qe(31);if(!le.m.read)throw new Qe(28);var st=typeof Oe<"u";if(!st)Oe=le.position;else if(!le.seekable)throw new Qe(70);var Z=le.m.read(le,Je,J,ce,Oe);st||(le.position+=Z);var ze=Z;if(0>ze){var it=-1;break e}if(d+=ze,ze<ce)break;typeof j<"u"&&(j+=ze)}it=d}return Ie[S>>2]=it,0}catch(Be){if(typeof ie>"u"||Be.name!=="ErrnoError")throw Be;return Be.$}},fd_seek:function(f,d,_,S,N){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var j=wi(f);return _a(j,d,S),Gt=[j.position>>>0,(Sn=j.position,1<=+Math.abs(Sn)?0<Sn?+Math.floor(Sn/4294967296)>>>0:~~+Math.ceil((Sn-+(~~Sn>>>0))/4294967296)>>>0:0)],be[N>>2]=Gt[0],be[N+4>>2]=Gt[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(W){if(typeof ie>"u"||W.name!=="ErrnoError")throw W;return W.$}},fd_write:function(f,d,_,S){try{e:{var N=wi(f);f=d;for(var j,W=d=0;W<_;W++){var J=Ie[f>>2],ce=Ie[f+4>>2];f+=8;var le=N,Oe=J,Je=ce,st=j,Z=xe;if(0>Je||0>st)throw new Qe(28);if(le.W===null)throw new Qe(8);if((le.flags&2097155)===0)throw new Qe(8);if((le.node.mode&61440)===16384)throw new Qe(31);if(!le.m.write)throw new Qe(28);le.seekable&&le.flags&1024&&_a(le,0,2);var ze=typeof st<"u";if(!ze)st=le.position;else if(!le.seekable)throw new Qe(70);var it=le.m.write(le,Z,Oe,Je,st,void 0);ze||(le.position+=it);var Be=it;if(0>Be){var on=-1;break e}d+=Be,typeof j<"u"&&(j+=Be)}on=d}return Ie[S>>2]=on,0}catch(Ze){if(typeof ie>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},strftime_l:(f,d,_,S)=>Tf(f,d,_,S)},Pn=(function(){function f(_){return Pn=_.exports,ye=Pn.memory,ut(),Xa=Pn.__indirect_function_table,Ct.unshift(Pn.__wasm_call_ctors),Et--,z.monitorRunDependencies?.(Et),Et==0&&Lt&&(_=Lt,Lt=null,_()),Pn}var d={env:tu,wasi_snapshot_preview1:tu};if(Et++,z.monitorRunDependencies?.(Et),z.instantiateWasm)try{return z.instantiateWasm(d,f)}catch(_){H(`Module.instantiateWasm callback failed with error: ${_}`),Re(_)}return en||=On("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",k):k+"canvas_advanced.wasm",Ar(d,function(_){f(_.instance)}).catch(Re),{}})(),ir=f=>(ir=Pn.free)(f),Ja=f=>(Ja=Pn.malloc)(f),gc=f=>(gc=Pn.__getTypeName)(f),Ro=z._ma_device__on_notification_unlocked=f=>(Ro=z._ma_device__on_notification_unlocked=Pn.ma_device__on_notification_unlocked)(f);z._ma_malloc_emscripten=(f,d)=>(z._ma_malloc_emscripten=Pn.ma_malloc_emscripten)(f,d),z._ma_free_emscripten=(f,d)=>(z._ma_free_emscripten=Pn.ma_free_emscripten)(f,d);var nu=z._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(nu=z._ma_device_process_pcm_frames_capture__webaudio=Pn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),iu=z._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(iu=z._ma_device_process_pcm_frames_playback__webaudio=Pn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);z.dynCall_iiji=(f,d,_,S,N)=>(z.dynCall_iiji=Pn.dynCall_iiji)(f,d,_,S,N),z.dynCall_jiji=(f,d,_,S,N)=>(z.dynCall_jiji=Pn.dynCall_jiji)(f,d,_,S,N),z.dynCall_iiiji=(f,d,_,S,N,j)=>(z.dynCall_iiiji=Pn.dynCall_iiiji)(f,d,_,S,N,j),z.dynCall_iij=(f,d,_,S)=>(z.dynCall_iij=Pn.dynCall_iij)(f,d,_,S),z.dynCall_jii=(f,d,_)=>(z.dynCall_jii=Pn.dynCall_jii)(f,d,_),z.dynCall_viijii=(f,d,_,S,N,j,W)=>(z.dynCall_viijii=Pn.dynCall_viijii)(f,d,_,S,N,j,W),z.dynCall_iiiiij=(f,d,_,S,N,j,W)=>(z.dynCall_iiiiij=Pn.dynCall_iiiiij)(f,d,_,S,N,j,W),z.dynCall_iiiiijj=(f,d,_,S,N,j,W,J,ce)=>(z.dynCall_iiiiijj=Pn.dynCall_iiiiijj)(f,d,_,S,N,j,W,J,ce),z.dynCall_iiiiiijj=(f,d,_,S,N,j,W,J,ce,le)=>(z.dynCall_iiiiiijj=Pn.dynCall_iiiiiijj)(f,d,_,S,N,j,W,J,ce,le);var Os;Lt=function f(){Os||il(),Os||(Lt=f)};function il(){function f(){if(!Os&&(Os=!0,z.calledRun=!0,!de)){if(z.noFSInit||Ha||(Ha=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?Bi("stdin",z.stdin):Yn("/dev/tty","/dev/stdin"),z.stdout?Bi("stdout",null,z.stdout):Yn("/dev/tty","/dev/stdout"),z.stderr?Bi("stderr",null,z.stderr):Yn("/dev/tty1","/dev/stderr"),Rr("/dev/stdin",0),Rr("/dev/stdout",1),Rr("/dev/stderr",1)),Br=!1,R(Ct),De(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();rn.unshift(d)}R(rn)}}if(!(0<Et)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)ft();R(_t),0<Et||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),f()},1)):f())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return il(),ne=Ue,ne})})();const x=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function x(L,G,ne,z){this.animation=L,this.artboard=G,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new ne.LinearAnimationInstance(L,G)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(L){this.instance.apply(L)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var E=w(6),x=w(7),L=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>L});var E=void 0,x=function(G,ne,z){var De,Re,Ue=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((De=G.changedTouches)===null||De===void 0)&&De.length)){ne||G.preventDefault();for(var Fe=0,qe=z?G.changedTouches.length:1;Fe<qe;){var Ke=G.changedTouches[Fe];Ue.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),Fe++}}else if(G.type==="touchend"&&(!((Re=G.changedTouches)===null||Re===void 0)&&Re.length))for(var Fe=0,qe=z?G.changedTouches.length:1;Fe<qe;){var Ke=G.changedTouches[Fe];Ue.push({clientX:Ke.clientX,clientY:Ke.clientY,identifier:Ke.identifier}),Fe++}else Ue.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return Ue},L=function(G){var ne=G.canvas,z=G.artboard,De=G.stateMachines,Re=De===void 0?[]:De,Ue=G.renderer,Fe=G.rive,qe=G.fit,Ke=G.alignment,ht=G.isTouchScrollEnabled,ot=ht===void 0?!1:ht,F=G.dispatchPointerExit,U=F===void 0?!0:F,V=G.enableMultiTouch,B=V===void 0?!1:V,C=G.layoutScaleFactor,k=C===void 0?1:C;if(!ne||!Re.length||!Ue||!Fe||!z||typeof window>"u")return null;var I=null,X=!1,re=function(ee){if(X&&ee instanceof MouseEvent){ee.type=="mouseup"&&(X=!1);return}X=ot&&ee.type==="touchend"&&I==="touchstart",I=ee.type;var ye=ee.currentTarget.getBoundingClientRect(),de=x(ee,ot,B),xe=Fe.computeAlignment(qe,Ke,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},z.bounds,k),P=new Fe.Mat2D;switch(xe.invert(P),de.forEach(function(en){var at=en.clientX,bt=en.clientY;if(!(!at&&!bt)){var dn=at-ye.left,Ar=bt-ye.top,Sn=new Fe.Vec2D(dn,Ar),Gt=Fe.mapXY(P,Sn),mn=Gt.x(),R=Gt.y();en.transformedX=mn,en.transformedY=R,Gt.delete(),Sn.delete()}}),P.delete(),xe.delete(),ee.type){case"mouseout":for(var se=function(en){U?de.forEach(function(at){en.pointerExit(at.transformedX,at.transformedY,at.identifier)}):de.forEach(function(at){en.pointerMove(at.transformedX,at.transformedY,at.identifier)})},Se=0,be=Re;Se<be.length;Se++){var Ie=be[Se];se(Ie)}break;case"touchmove":case"mouseover":case"mousemove":{for(var He=function(en){de.forEach(function(at){en.pointerMove(at.transformedX,at.transformedY,at.identifier)})},We=0,ut=Re;We<ut.length;We++){var Ie=ut[We];He(Ie)}break}case"touchstart":case"mousedown":{for(var _t=function(en){de.forEach(function(at){en.pointerDown(at.transformedX,at.transformedY,at.identifier)})},Ct=0,rn=Re;Ct<rn.length;Ct++){var Ie=rn[Ct];_t(Ie)}break}case"touchend":{for(var ft=function(en){de.forEach(function(at){en.pointerUp(at.transformedX,at.transformedY,at.identifier),en.pointerExit(at.transformedX,at.transformedY,at.identifier)})},Et=0,Lt=Re;Et<Lt.length;Et++){var Ie=Lt[Et];ft(Ie)}break}case"mouseup":{for(var Ut=function(en){de.forEach(function(at){en.pointerUp(at.transformedX,at.transformedY,at.identifier)})},On=0,ri=Re;On<ri.length;On++){var Ie=ri[On];Ut(Ie)}break}}},H=re.bind(E);return ne.addEventListener("mouseover",H),ne.addEventListener("mouseout",H),ne.addEventListener("mousemove",H),ne.addEventListener("mousedown",H),ne.addEventListener("mouseup",H),ne.addEventListener("touchmove",H,{passive:ot}),ne.addEventListener("touchstart",H,{passive:ot}),ne.addEventListener("touchend",H),function(){ne.removeEventListener("mouseover",H),ne.removeEventListener("mouseout",H),ne.removeEventListener("mousemove",H),ne.removeEventListener("mousedown",H),ne.removeEventListener("mouseup",H),ne.removeEventListener("touchmove",H),ne.removeEventListener("touchstart",H),ne.removeEventListener("touchend",H)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>De,sanitizeUrl:()=>Fe});var E=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ne=/^.+(:|&colon;)/gim,z=[".","/"],De="about:blank";function Re(qe){return z.indexOf(qe[0])>-1}function Ue(qe){var Ke=qe.replace(G,"");return Ke.replace(x,function(ht,ot){return String.fromCharCode(ot)})}function Fe(qe){if(!qe)return De;var Ke=Ue(qe).replace(L,"").replace(G,"").trim();if(!Ke)return De;if(Re(Ke))return Ke;var ht=Ke.match(ne);if(!ht)return Ke;var ot=ht[0];return E.test(ot)?De:Ke}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>qe,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>Re,FileAssetWrapper:()=>Ue,FileFinalizer:()=>x,FontAssetWrapper:()=>Ke,FontWrapper:()=>De,ImageAssetWrapper:()=>Fe,ImageWrapper:()=>ne,createFinalization:()=>U,finalizationRegistry:()=>F});var E=(function(){var V=function(B,C){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,I){k.__proto__=I}||function(k,I){for(var X in I)Object.prototype.hasOwnProperty.call(I,X)&&(k[X]=I[X])},V(B,C)};return function(B,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");V(B,C);function k(){this.constructor=B}B.prototype=C===null?Object.create(C):(k.prototype=C.prototype,new k)}})(),x=(function(){function V(B){this.selfUnref=!1,this._file=B}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),L=(function(){function V(B){this._finalizableObject=B}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),G=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),ne=(function(V){E(B,V);function B(C){var k=V.call(this)||this;return k._nativeImage=C,k}return Object.defineProperty(B.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},B})(G),z=(function(V){E(B,V);function B(C){var k=V.call(this)||this;return k._nativeAudio=C,k}return Object.defineProperty(B.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},B})(G),De=(function(V){E(B,V);function B(C){var k=V.call(this)||this;return k._nativeFont=C,k}return Object.defineProperty(B.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},B})(G),Re=(function(){function V(B,C){this._assetLoaderCallback=C,this.assetLoader=new B.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(B,C){var k;return B.isImage?k=new Fe(B):B.isAudio?k=new qe(B):B.isFont&&(k=new Ke(B)),this._assetLoaderCallback(k,C)},V})(),Ue=(function(){function V(B){this._nativeFileAsset=B}return V.prototype.decode=function(B){this._nativeFileAsset.decode(B)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Fe=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},B})(Ue),qe=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},B})(Ue),Ke=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},B})(Ue),ht=(function(){function V(B){}return V.prototype.register=function(B){B.selfUnref=!0},V.prototype.unregister=function(B){},V})(),ot=typeof FinalizationRegistry<"u"?FinalizationRegistry:ht,F=new ot(function(V){V?.unref()}),U=function(V,B){var C=new L(B);F.register(V,C)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Fe,DataEnum:()=>We,EventType:()=>I,Fit:()=>Ue,Layout:()=>qe,LoopType:()=>X,Rive:()=>Ie,RiveEventType:()=>F,RiveFile:()=>be,RuntimeLoader:()=>Ke,StateMachineInput:()=>ot,StateMachineInputType:()=>ht,Testing:()=>Ar,ViewModel:()=>He,ViewModelInstance:()=>_t,ViewModelInstanceArtboard:()=>at,ViewModelInstanceAssetImage:()=>en,ViewModelInstanceBoolean:()=>Et,ViewModelInstanceColor:()=>ri,ViewModelInstanceEnum:()=>Ut,ViewModelInstanceList:()=>On,ViewModelInstanceNumber:()=>ft,ViewModelInstanceString:()=>rn,ViewModelInstanceTrigger:()=>Lt,ViewModelInstanceValue:()=>Ct,decodeAudio:()=>Sn,decodeFont:()=>mn,decodeImage:()=>Gt});var p=l(1),b=l(2),w=l(3),E=l(5),x=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,K){D.__proto__=K}||function(D,K){for(var pe in K)Object.prototype.hasOwnProperty.call(K,pe)&&(D[pe]=K[pe])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),L=function(){return L=Object.assign||function(R){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var K in g)Object.prototype.hasOwnProperty.call(g,K)&&(R[K]=g[K])}return R},L.apply(this,arguments)},G=function(R,g,v,D){function K(pe){return pe instanceof v?pe:new v(function(Ae){Ae(pe)})}return new(v||(v=Promise))(function(pe,Ae){function $e(nt){try{Xe(D.next(nt))}catch(Jt){Ae(Jt)}}function tt(nt){try{Xe(D.throw(nt))}catch(Jt){Ae(Jt)}}function Xe(nt){nt.done?pe(nt.value):K(nt.value).then($e,tt)}Xe((D=D.apply(R,g||[])).next())})},ne=function(R,g){var v={label:0,sent:function(){if(pe[0]&1)throw pe[1];return pe[1]},trys:[],ops:[]},D,K,pe,Ae=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ae.next=$e(0),Ae.throw=$e(1),Ae.return=$e(2),typeof Symbol=="function"&&(Ae[Symbol.iterator]=function(){return this}),Ae;function $e(Xe){return function(nt){return tt([Xe,nt])}}function tt(Xe){if(D)throw new TypeError("Generator is already executing.");for(;Ae&&(Ae=0,Xe[0]&&(v=0)),v;)try{if(D=1,K&&(pe=Xe[0]&2?K.return:Xe[0]?K.throw||((pe=K.return)&&pe.call(K),0):K.next)&&!(pe=pe.call(K,Xe[1])).done)return pe;switch(K=0,pe&&(Xe=[Xe[0]&2,pe.value]),Xe[0]){case 0:case 1:pe=Xe;break;case 4:return v.label++,{value:Xe[1],done:!1};case 5:v.label++,K=Xe[1],Xe=[0];continue;case 7:Xe=v.ops.pop(),v.trys.pop();continue;default:if(pe=v.trys,!(pe=pe.length>0&&pe[pe.length-1])&&(Xe[0]===6||Xe[0]===2)){v=0;continue}if(Xe[0]===3&&(!pe||Xe[1]>pe[0]&&Xe[1]<pe[3])){v.label=Xe[1];break}if(Xe[0]===6&&v.label<pe[1]){v.label=pe[1],pe=Xe;break}if(pe&&v.label<pe[2]){v.label=pe[2],v.ops.push(Xe);break}pe[2]&&v.ops.pop(),v.trys.pop();continue}Xe=g.call(R,v)}catch(nt){Xe=[6,nt],K=0}finally{D=pe=0}if(Xe[0]&5)throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}},z=function(R,g,v){if(v||arguments.length===2)for(var D=0,K=g.length,pe;D<K;D++)(pe||!(D in g))&&(pe||(pe=Array.prototype.slice.call(g,0,D)),pe[D]=g[D]);return R.concat(pe||Array.prototype.slice.call(g))},De=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Re=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Ue;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Ue||(Ue={}));var Fe;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Fe||(Fe={}));var qe=(function(){function R(g){var v,D,K,pe,Ae,$e,tt;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Ue.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:Fe.Center,this.layoutScaleFactor=(K=g?.layoutScaleFactor)!==null&&K!==void 0?K:1,this.minX=(pe=g?.minX)!==null&&pe!==void 0?pe:0,this.minY=(Ae=g?.minY)!==null&&Ae!==void 0?Ae:0,this.maxX=($e=g?.maxX)!==null&&$e!==void 0?$e:0,this.maxY=(tt=g?.maxY)!==null&&tt!==void 0?tt:0}return R.new=function(g){var v=g.fit,D=g.alignment,K=g.minX,pe=g.minY,Ae=g.maxX,$e=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:D,minX:K,minY:pe,maxX:Ae,maxY:$e})},R.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,K=g.layoutScaleFactor,pe=g.minX,Ae=g.minY,$e=g.maxX,tt=g.maxY;return new R({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:K??this.layoutScaleFactor,minX:pe??this.minX,minY:Ae??this.minY,maxX:$e??this.maxX,maxY:tt??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Ue.Cover?v=g.Fit.cover:this.fit===Ue.Contain?v=g.Fit.contain:this.fit===Ue.Fill?v=g.Fit.fill:this.fit===Ue.FitWidth?v=g.Fit.fitWidth:this.fit===Ue.FitHeight?v=g.Fit.fitHeight:this.fit===Ue.ScaleDown?v=g.Fit.scaleDown:this.fit===Ue.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Fe.TopLeft?v=g.Alignment.topLeft:this.alignment===Fe.TopCenter?v=g.Alignment.topCenter:this.alignment===Fe.TopRight?v=g.Alignment.topRight:this.alignment===Fe.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Fe.CenterRight?v=g.Alignment.centerRight:this.alignment===Fe.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Fe.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Fe.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),Ke=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(D),R.loadRuntime();else{var K=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(K)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),ht;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(ht||(ht={}));var ot=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===ht.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var U=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){x(g,R);function g(v,D){var K=R.call(this,!1)||this;return K.nativeArtboard=v,K.file=D,K}return g})(U),B=(function(R){x(g,R);function g(v){var D=R.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(U),C=(function(){function R(g,v,D,K){this.stateMachine=g,this.playing=D,this.artboard=K,this.inputs=[],this.instance=new v.StateMachineInstance(g,K),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new ot(ht.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new ot(ht.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new ot(ht.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),k=(function(){function R(g,v,D,K,pe){K===void 0&&(K=[]),pe===void 0&&(pe=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=K,this.stateMachines=pe}return R.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=dn(g),g.length===0)this.animations.forEach(function(cn){return cn.playing=v}),this.stateMachines.forEach(function(cn){return cn.playing=v});else for(var K=this.animations.map(function(cn){return cn.name}),pe=this.stateMachines.map(function(cn){return cn.name}),Ae=0;Ae<g.length;Ae++){var $e=K.indexOf(g[Ae]),tt=pe.indexOf(g[Ae]);if($e>=0||tt>=0)$e>=0?this.animations[$e].playing=v:this.stateMachines[tt].playing=v;else{var Xe=this.artboard.animationByName(g[Ae]);if(Xe){var nt=new w.Animation(Xe,this.artboard,this.runtime,v);nt.advance(0),nt.apply(1),this.animations.push(nt)}else{var Jt=this.artboard.stateMachineByName(g[Ae]);if(Jt){var In=new C(Jt,this.runtime,v,this.artboard);this.stateMachines.push(In)}}}}return D&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function(tt){return tt.name}),K=0;K<g.length;K++){var pe=D.indexOf(g[K]);if(pe>=0)this.animations[pe].playing=v;else{var Ae=this.artboard.animationByName(g[K]);if(Ae){var $e=new w.Animation(Ae,this.artboard,this.runtime,v);$e.advance(0),$e.apply(1),this.animations.push($e)}else console.error("Animation with name ".concat(g[K]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function(tt){return tt.name}),K=0;K<g.length;K++){var pe=D.indexOf(g[K]);if(pe>=0)this.stateMachines[pe].playing=v;else{var Ae=this.artboard.stateMachineByName(g[K]);if(Ae){var $e=new C(Ae,this.runtime,v,this.artboard);this.stateMachines.push($e)}else console.warn("State Machine with name ".concat(g[K]," not found.")),this.initLinearAnimations([g[K]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var D=this.animations.filter(function(K){return g.includes(K.name)});return D.forEach(function(K){return K.scrubTo=v}),D.map(function(K){return K.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=dn(g);var D=[];if(g.length===0)D=this.animations.map(function(Ae){return Ae.name}).concat(this.stateMachines.map(function(Ae){return Ae.name})),this.animations.forEach(function(Ae){return Ae.cleanup()}),this.stateMachines.forEach(function(Ae){return Ae.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var K=this.animations.filter(function(Ae){return g.includes(Ae.name)});K.forEach(function(Ae){Ae.cleanup(),v.animations.splice(v.animations.indexOf(Ae),1)});var pe=this.stateMachines.filter(function(Ae){return g.includes(Ae.name)});pe.forEach(function(Ae){Ae.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ae),1)}),D=K.map(function(Ae){return Ae.name}).concat(pe.map(function(Ae){return Ae.name}))}return this.eventManager.fire({type:I.Stop,data:D}),D},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(K){return K.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:X.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:X.PingPong}}),D.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(pe){return pe.playing});v<D.length;v++){var K=D[v];g.push.apply(g,K.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var X;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(X||(X={}));var re=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},R})(),H=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),ee;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(ee||(ee={}));var ye=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=ee.UNAVAILABLE,v}return g.prototype.delay=function(v){return G(this,void 0,void 0,function(){return ne(this,function(D){return[2,new Promise(function(K){return setTimeout(K,v)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return ne(this,function(v){return[2,new Promise(function(D,K){return setTimeout(K,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return ne(this,function(v){return this._enabled||(this._enabled=!0,this._status=ee.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return ne(this,function(v){switch(v.label){case 0:if(!(this._status===ee.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return ne(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==ee.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return G(v,void 0,void 0,function(){return ne(this,function(K){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return ne(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===ee.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(re),de=new ye,xe=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),P=globalThis.ResizeObserver||xe,se=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return R.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Se=new se,be=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new re,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,v,D,K,pe;return ne(this,function(Ae){switch(Ae.label){case 0:return this.src?(g=this,[4,bt(this.src)]):[3,2];case 1:g.buffer=Ae.sent(),Ae.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),K=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return K.file=Ae.sent(),pe=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,pe),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return G(this,void 0,void 0,function(){var g,v;return ne(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,Ke.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new B(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Ie=(function(){function R(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(K){var pe=v._hasZeroSize!==K;v._hasZeroSize=K,K?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():pe&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Se.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new qe,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new re,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new H(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,D=g.src,K=g.buffer,pe=g.riveFile,Ae=g.animations,$e=g.stateMachines,tt=g.artboard,Xe=g.autoplay,nt=Xe===void 0?!1:Xe,Jt=g.useOffscreenRenderer,In=Jt===void 0?!1:Jt,cn=g.autoBind,Rn=cn===void 0?!1:cn;if(!this.destroyed){if(this.src=D,this.buffer=K,this.riveFile=pe,!this.src&&!this.buffer&&!this.riveFile)throw new De(R.missingErrorMessage);var qn=dn(Ae),Bt=dn($e);this.loaded=!1,this.readyForPlaying=!1,Ke.awaitInstance().then(function(xn){v.destroyed||(v.runtime=xn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,In),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(tt,qn,Bt,nt,Rn).then(function(Vn){if(Vn)return v.setupRiveListeners()}).catch(function(Vn){console.error(Vn)}))}).catch(function(xn){console.error(xn)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function($e){return $e.playing&&v.runtime.hasListeners($e.instance)}).map(function($e){return $e.instance}),K=this.isTouchScrollEnabled,pe=this.dispatchPointerExit,Ae=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(K=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:K,dispatchPointerExit:pe,enableMultiTouch:Ae,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;de.status==ee.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},de.add(this._audioEventListener),de.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,D,K,pe){return G(this,void 0,void 0,function(){var Ae,$e,tt,Xe;return ne(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ae=new be({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ae,[4,Ae.init()]);case 1:if(nt.sent(),this.destroyed)return Ae.destroyIfUnused(),[2,!1];nt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,K,pe),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(Xe=this.src)!==null&&Xe!==void 0?Xe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return $e=nt.sent(),tt=Re($e),console.warn(tt),this.eventManager.fire({type:I.LoadError,data:tt}),[2,Promise.reject(tt)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,D,K,pe){if(this.file){var Ae=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ae){var $e="Invalid artboard name or no default artboard";console.warn($e),this.eventManager.fire({type:I.LoadError,data:$e});return}this.artboard=Ae,Ae.volume=this._volume*de.systemVolume,this.animator=new k(this.runtime,this.artboard,this.eventManager);var tt;if(v.length>0||D.length>0?(tt=v.concat(D),this.animator.initLinearAnimations(v,K),this.animator.initStateMachines(D,K)):tt=[this.animator.atLeastOne(K,!1)],this.taskQueue.add({event:{type:K?I.Play:I.Pause,data:tt}}),pe){var Xe=this.file.defaultArtboardViewModel(Ae);if(Xe!==null){var nt=Xe.defaultInstance();if(nt!==null){var Jt=new _t(nt,null);(0,E.createFinalization)(Jt,Jt.runtimeInstance),this.bindViewModelInstance(Jt)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var D;this.frameRequestId=null;var K=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var pe=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ae=this.animator.animations.filter(function(Ki){return Ki.playing||Ki.needsScrub}).sort(function(Ki){return Ki.needsScrub?-1:1}),$e=0,tt=Ae;$e<tt.length;$e++){var Xe=tt[$e];Xe.advance(pe),Xe.instance.didLoop&&(Xe.loopCount+=1),Xe.apply(1)}for(var nt=this.animator.stateMachines.filter(function(Ki){return Ki.playing}),Jt=0,In=nt;Jt<In.length;Jt++){var cn=In[Jt],Rn=cn.reportedEventCount();if(Rn)for(var qn=0;qn<Rn;qn++){var Bt=cn.reportedEventAt(qn);if(Bt)if(Bt.type===F.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:Bt}),this.automaticallyHandleEvents){var xn=document.createElement("a"),Vn=Bt,Mn=Vn.url,ki=Vn.target,gt=(0,E.sanitizeUrl)(Mn);Mn&&xn.setAttribute("href",gt),ki&&xn.setAttribute("target",ki),gt&&gt!==E.BLANK_URL&&xn.click()}}else this.eventManager.fire({type:I.RiveEvent,data:Bt})}cn.advanceAndApply(pe)}this.animator.stateMachines.length==0&&this.artboard.advance(pe);var Gn=this.renderer;Gn.clear(),Gn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Gn),Gn.restore(),Gn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(pe),this.frameCount++;var St=performance.now();for(this.frameTimes.push(St),this.durations.push(St-K);this.frameTimes[0]<=St-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,K=g._layout,pe=g.artboard;v.align(K.runtimeFit(D),K.runtimeAlignment(D),{minX:K.minX,minY:K.minY,maxX:K.maxX,maxY:K.maxY},pe.bounds,this._devicePixelRatioUsed*K.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Se.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(de.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},R.prototype.play=function(g,v){var D=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var D=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=dn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,D,K=g?.artboard,pe=dn(g?.animations),Ae=dn(g?.stateMachines),$e=(v=g?.autoplay)!==null&&v!==void 0?v:!1,tt=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(K,pe,Ae,$e,tt),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,K=v.height,pe=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=pe,this.canvas.width=pe*D,this.canvas.height=pe*K,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Ue.Layout){var Ae=this._layout.layoutScaleFactor;this.artboard.width=D/Ae,this.artboard.height=K/Ae}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.setBooleanStateAtPath=function(g,v,D){var K=this.retrieveInputAtPath(g,D);K&&(K.type===ht.Boolean?K.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,D){var K=this.retrieveInputAtPath(g,D);K&&(K.type===ht.Number?K.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===ht.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},R.prototype.setTextRunValueAtPath=function(g,v,D){var K=this.retrieveTextAtPath(g,D);if(!K){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}K.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),K={name:D.name,animations:[],stateMachines:[]},pe=0;pe<D.animationCount();pe++){var Ae=D.animationByIndex(pe);K.animations.push(Ae.name)}for(var $e=0;$e<D.stateMachineCount();$e++){for(var tt=D.stateMachineByIndex($e),Xe=tt.name,nt=new this.runtime.StateMachineInstance(tt,D),Jt=[],In=0;In<nt.inputCount();In++){var cn=nt.input(In);Jt.push({name:cn.name,type:cn.type})}K.stateMachines.push({name:Xe,inputs:Jt})}g.artboards.push(K)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*de.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new He(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new He(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new We(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new He(g)}return null},R.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),He=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new _t(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new _t(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new _t(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new _t(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),We=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ut;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ut||(ut={}));var _t=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,D){var K,pe,Ae,$e,tt,Xe,nt,Jt,In,cn,Rn,qn,Bt,xn,Vn,Mn,ki,gt;if(v<g.length-1){var Gn=this.internalViewModelInstance(g[v]);return Gn!==null?Gn.propertyFromPathSegments(g,v+1,D):null}var St=null;switch(D){case ut.Number:if(St=(pe=(K=this._runtimeInstance)===null||K===void 0?void 0:K.number(g[v]))!==null&&pe!==void 0?pe:null,St!==null)return new ft(St,this);break;case ut.String:if(St=($e=(Ae=this._runtimeInstance)===null||Ae===void 0?void 0:Ae.string(g[v]))!==null&&$e!==void 0?$e:null,St!==null)return new rn(St,this);break;case ut.Boolean:if(St=(Xe=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.boolean(g[v]))!==null&&Xe!==void 0?Xe:null,St!==null)return new Et(St,this);break;case ut.Color:if(St=(Jt=(nt=this._runtimeInstance)===null||nt===void 0?void 0:nt.color(g[v]))!==null&&Jt!==void 0?Jt:null,St!==null)return new ri(St,this);break;case ut.Trigger:if(St=(cn=(In=this._runtimeInstance)===null||In===void 0?void 0:In.trigger(g[v]))!==null&&cn!==void 0?cn:null,St!==null)return new Lt(St,this);break;case ut.Enum:if(St=(qn=(Rn=this._runtimeInstance)===null||Rn===void 0?void 0:Rn.enum(g[v]))!==null&&qn!==void 0?qn:null,St!==null)return new Ut(St,this);break;case ut.List:if(St=(xn=(Bt=this._runtimeInstance)===null||Bt===void 0?void 0:Bt.list(g[v]))!==null&&xn!==void 0?xn:null,St!==null)return new On(St,this);break;case ut.Image:if(St=(Mn=(Vn=this._runtimeInstance)===null||Vn===void 0?void 0:Vn.image(g[v]))!==null&&Mn!==void 0?Mn:null,St!==null)return new en(St,this);break;case ut.Artboard:if(St=(gt=(ki=this._runtimeInstance)===null||ki===void 0?void 0:ki.artboard(g[v]))!==null&&gt!==void 0?gt:null,St!==null)return new at(St,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var K=new R(D,this);return(0,E.createFinalization)(K,D),K.internalIncrementReferenceCount(),this._viewModelInstances.set(g,K),K}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ut.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ut.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ut.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ut.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ut.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ut.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ut.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ut.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ut.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var K=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if(K){v.internalIncrementReferenceCount();var pe=this.internalViewModelInstance(g);pe!==null&&(pe.removeParent(this),this._children.includes(pe)&&(this._children=this._children.filter(function(Ae){return Ae!==pe})),pe.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return K}return!1},R.prototype.replaceViewModel=function(g,v){var D,K=g.split("/"),pe=K.length>1?this.viewModelFromPathSegments(K.slice(0,K.length-1),0):this;return(D=pe?.internalReplaceViewModel(K[K.length-1],v))!==null&&D!==void 0?D:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return L({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(pe){pe.cleanup()}),this._viewModelInstances.clear();var D=z([],this._children,!0);this._children.length=0;var K=z([],this._parents,!0);this._parents.length=0,D.forEach(function(pe){pe.removeParent(g)}),K.forEach(function(pe){pe.removeFromViewModelCallbacks(g)})}},R})(),Ct=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),rn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ct),ft=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ct),Et=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ct),Lt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Ct),Ut=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ct),On=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var K=new _t(D,this._parentViewModel);return(0,E.createFinalization)(K,D),K}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(Ct),ri=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,K){this._viewModelInstanceValue.rgb(v,D,K)},g.prototype.rgba=function(v,D,K,pe){this._viewModelInstanceValue.argb(pe,v,D,K)},g.prototype.argb=function(v,D,K,pe){this._viewModelInstanceValue.argb(v,D,K,pe)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ct),en=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Ct),at=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,K;v.isBindableArtboard?K=v:K=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=K?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Ct),bt=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(K){switch(K.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=K.sent(),[4,v.arrayBuffer()];case 2:return D=K.sent(),[2,D]}})})},dn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Ar={EventManager:re,TaskQueueManager:H},Sn=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(K){switch(K.label){case 0:return g=new Promise(function(pe){return Ke.getInstance(function(Ae){Ae.decodeAudio(R,pe)})}),[4,g];case 1:return v=K.sent(),D=new E.AudioWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},Gt=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(K){switch(K.label){case 0:return g=new Promise(function(pe){return Ke.getInstance(function(Ae){Ae.decodeImage(R,pe)})}),[4,g];case 1:return v=K.sent(),D=new E.ImageWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},mn=function(R){return G(void 0,void 0,void 0,function(){var g,v,D;return ne(this,function(K){switch(K.label){case 0:return g=new Promise(function(pe){return Ke.getInstance(function(Ae){Ae.decodeFont(R,pe)})}),[4,g];case 1:return v=K.sent(),D=new E.FontWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Th)),Th.exports}var h_;function FT(){return h_||(h_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=tf(),i=BT();function s(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=s(e),c=function(){return c=Object.assign||function(C){for(var k,I=1,X=arguments.length;I<X;I++)for(var re in k=arguments[I])Object.prototype.hasOwnProperty.call(k,re)&&(C[re]=k[re]);return C},c.apply(this,arguments)};function p(C,k){var I={};for(var X in C)Object.prototype.hasOwnProperty.call(C,X)&&k.indexOf(X)<0&&(I[X]=C[X]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var re=0;for(X=Object.getOwnPropertySymbols(C);re<X.length;re++)k.indexOf(X[re])<0&&Object.prototype.propertyIsEnumerable.call(C,X[re])&&(I[X[re]]=C[X[re]])}return I}function b(C,k,I,X){return new(I||(I=Promise))(function(re,H){function ee(xe){try{de(X.next(xe))}catch(P){H(P)}}function ye(xe){try{de(X.throw(xe))}catch(P){H(P)}}function de(xe){var P;xe.done?re(xe.value):(P=xe.value,P instanceof I?P:new I(function(se){se(P)})).then(ee,ye)}de((X=X.apply(C,[])).next())})}function w(C,k){var I,X,re,H,ee={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return H={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function ye(de){return function(xe){return(function(P){if(I)throw new TypeError("Generator is already executing.");for(;ee;)try{if(I=1,X&&(re=2&P[0]?X.return:P[0]?X.throw||((re=X.return)&&re.call(X),0):X.next)&&!(re=re.call(X,P[1])).done)return re;switch(X=0,re&&(P=[2&P[0],re.value]),P[0]){case 0:case 1:re=P;break;case 4:return ee.label++,{value:P[1],done:!1};case 5:ee.label++,X=P[1],P=[0];continue;case 7:P=ee.ops.pop(),ee.trys.pop();continue;default:if(re=ee.trys,!((re=re.length>0&&re[re.length-1])||P[0]!==6&&P[0]!==2)){ee=0;continue}if(P[0]===3&&(!re||P[1]>re[0]&&P[1]<re[3])){ee.label=P[1];break}if(P[0]===6&&ee.label<re[1]){ee.label=re[1],re=P;break}if(re&&ee.label<re[2]){ee.label=re[2],ee.ops.push(P);break}re[2]&&ee.ops.pop(),ee.trys.pop();continue}P=k.call(C,ee)}catch(se){P=[6,se],X=0}finally{I=re=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([de,xe])}}}function E(C){var k=C||x(),I=e.useState(k),X=I[0],re=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var H=function(){var ye=C||x();re(ye)},ee=window.matchMedia("screen and (resolution: ".concat(X,"dppx)"));return ee.hasOwnProperty("addEventListener")?ee.addEventListener("change",H):ee.addListener(H),function(){ee.hasOwnProperty("removeEventListener")?ee.removeEventListener("change",H):ee.removeListener(H)}}},[X,C]),X}function x(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var L=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),G=globalThis.ResizeObserver||L,ne=globalThis.ResizeObserver!==void 0,z=!ne;function De(C,k){k===void 0&&(k=!0);var I=e.useState({width:0,height:0}),X=I[0],re=I[1];e.useEffect(function(){if(typeof window<"u"&&k){var xe=function(){re({width:window.innerWidth,height:window.innerHeight})};return z&&(xe(),window.addEventListener("resize",xe)),function(){return window.removeEventListener("resize",xe)}}},[]);var H,ee,ye,de=e.useRef(new G((H=function(xe){ne&&re({width:xe[xe.length-1].contentRect.width,height:xe[xe.length-1].contentRect.height})},ee=0,ye=0,function(){for(var xe=this,P=[],se=0;se<arguments.length;se++)P[se]=arguments[se];clearTimeout(ye),ye=window.setTimeout(function(){return H.apply(xe,P)},ee)})));return e.useEffect(function(){var xe=de.current;if(k){var P=C.current;return C.current&&ne&&xe.observe(C.current),function(){xe.disconnect(),P&&ne&&xe.unobserve(P)}}xe.disconnect()},[C,de]),X}var Re={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Ue(C){return Object.assign({},Re,C)}function Fe(C){var k=C.riveLoaded,I=k!==void 0&&k,X=C.canvasElem,re=C.containerRef,H=C.options,ee=H===void 0?{}:H,ye=C.onCanvasHasResized,de=C.artboardBounds,xe=Ue(ee),P=e.useState({height:0,width:0}),se=P[0],Se=se.height,be=se.width,Ie=P[1],He=e.useState({height:0,width:0}),We=He[0],ut=We.height,_t=We.width,Ct=He[1],rn=e.useState(!0),ft=rn[0],Et=rn[1],Lt=xe.fitCanvasToArtboardHeight,Ut=xe.shouldResizeCanvasToContainer,On=xe.useDevicePixelRatio,ri=xe.customDevicePixelRatio,en=De(re,Ut),at=E(ri),bt=de??{},dn=bt.maxX,Ar=bt.maxY,Sn=e.useCallback(function(){var Gt,mn,R,g,v=(mn=(Gt=re.current)===null||Gt===void 0?void 0:Gt.clientWidth)!==null&&mn!==void 0?mn:0,D=(g=(R=re.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Lt&&de?{width:v,height:v*(de.maxY/de.maxX)}:{width:v,height:D}},[re,Lt,dn,Ar]);e.useEffect(function(){if(Ut&&re.current&&I){var Gt=Sn(),mn=Gt.width,R=Gt.height,g=!1;if(X){var v=mn!==be||R!==Se;if(xe.fitCanvasToArtboardHeight&&v&&(re.current.style.height=R+"px",g=!0),xe.useDevicePixelRatio){if(v||mn*at!==_t||R*at!==ut){var D=at*mn,K=at*R;X.width=D,X.height=K,X.style.width=mn+"px",X.style.height=R+"px",Ct({width:D,height:K}),g=!0}}else v&&(X.width=mn,X.height=R,Ct({width:mn,height:R}),g=!0);Ie({width:mn,height:R})}ye&&(ft||g)&&ye&&ye(),ft&&Et(!1)}},[X,re,en,at,Sn,ft,Et,ut,_t,Se,be,ye,Ut,Lt,On,I]),e.useEffect(function(){Ct({width:0,height:0})},[X])}var qe,Ke=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),ht=globalThis.IntersectionObserver||Ke,ot=(function(){function C(){var k=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(X){var re=k.elementsMap.get(X.target);re&&re(X)})},this.observer=new ht(this.onObserved)}return C.prototype.registerCallback=function(k,I){this.observer.observe(k),this.elementsMap.set(k,I)},C.prototype.removeCallback=function(k){this.observer.unobserve(k),this.elementsMap.delete(k)},C})(),F=function(){return qe||(qe=new ot),qe};function U(C){var k=C.setContainerRef,I=C.setCanvasRef,X=C.className,re=X===void 0?"":X,H=C.style,ee=C.children,ye=p(C,["setContainerRef","setCanvasRef","className","style","children"]),de=c({width:"100%",height:"100%"},H);return l.default.createElement("div",c({ref:k,className:re},!re&&{style:de}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ye),ee))}function V(C,k){k===void 0&&(k={});var I=e.useState(null),X=I[0],re=I[1],H=e.useRef(null),ee=e.useRef(null),ye=e.useState(null),de=ye[0],xe=ye[1],P=!!C,se=Ue(k),Se=E(),be=e.useCallback(function(){if(de){if(de.layout&&de.layout.fit===i.Fit.Layout&&X){var ft=Se*de.layout.layoutScaleFactor;de.devicePixelRatioUsed=Se,de.artboardWidth=X?.width/ft,de.artboardHeight=X?.height/ft}de.startRendering(),de.resizeToCanvas()}},[de,Se]);Fe({riveLoaded:!!de,canvasElem:X,containerRef:H,options:se,onCanvasHasResized:be,artboardBounds:de?.bounds});var Ie=e.useCallback(function(ft){ft===null&&X&&(X.height=0,X.width=0),re(ft)},[]);e.useEffect(function(){if(X&&C){var ft,Et=de!=null;if(de==null){var Lt=se.useOffscreenRenderer,Ut=C.onRiveReady,On=p(C,["onRiveReady"]);ft=new i.Rive(c(c({useOffscreenRenderer:Lt},On),{canvas:X})),ee.current!=null&&ee.current.cleanup(),ee.current=ft,ft.on(i.EventType.Load,function(){Et=!0,Ut&&Ut(ft),X?xe(ft):ft.cleanup()})}return function(){Et||ft==null||ft.cleanup()}}},[X,P,de]);var He=e.useCallback(function(ft){H.current=ft},[]),We={observe:e.useCallback(function(ft,Et){F().registerCallback(ft,Et)},[]),unobserve:e.useCallback(function(ft){F().removeCallback(ft)},[])},ut=We.observe,_t=We.unobserve;e.useEffect(function(){var ft,Et=!1,Lt=function(){if(X&&Et){var Ut=X.getBoundingClientRect();Ut.width>0&&Ut.height>0&&Ut.top<(window.innerHeight||document.documentElement.clientHeight)&&Ut.bottom>0&&Ut.left<(window.innerWidth||document.documentElement.clientWidth)&&Ut.right>0&&(de?.startRendering(),Et=!1)}};return X&&se.shouldUseIntersectionObserver!==!1&&ut(X,function(Ut){Ut.isIntersecting?de&&de.startRendering():de&&de.stopRendering(),Et=!Ut.isIntersecting,clearTimeout(ft),Ut.isIntersecting||Ut.boundingClientRect.width!==0||(ft=setTimeout(Lt,10))}),function(){X&&_t(X)}},[ut,_t,de,X,se.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){de&&(de.cleanup(),xe(null))}},[de,X]),e.useEffect(function(){return function(){ee.current!=null&&ee.current.cleanup()}},[]);var Ct=C?.animations;e.useEffect(function(){de&&Ct&&(de.isPlaying?(de.stop(de.animationNames),de.play(Ct)):de.isPaused&&(de.stop(de.animationNames),de.pause(Ct)))},[Ct,de]);var rn=e.useCallback(function(ft){return l.default.createElement(U,c({setContainerRef:He,setCanvasRef:Ie},ft))},[Ie,He]);return{canvas:X,container:H.current,setCanvasRef:Ie,setContainerRef:He,rive:de,RiveComponent:rn}}function B(C,k,I){var X=e.useState(null),re=X[0],H=X[1],ee=e.useState(I.defaultValue),ye=ee[0],de=ee[1],xe=e.useState(null),P=xe[0],se=xe[1],Se=e.useRef(null),be=e.useRef(C),Ie=e.useRef(I);e.useEffect(function(){Ie.current=I},[I]);var He=e.useCallback(function(){var Ct=Se.current,rn=be.current,ft=Ie.current;if(!Ct||!rn)return H(null),de(ft.defaultValue),se(null),function(){};var Et=ft.getProperty(Ct,rn);if(Et){H(Et),de(ft.getValue(Et)),ft.getExtendedData&&se(ft.getExtendedData(Et));var Lt=function(){de(ft.getValue(Et)),ft.getExtendedData&&se(ft.getExtendedData(Et)),ft.onPropertyEvent&&ft.onPropertyEvent()};return Et.on(Lt),function(){Et.off(Lt)}}return function(){}},[]);e.useEffect(function(){return Se.current=k,be.current=C,He()},[k,C,He]);var We=e.useCallback(function(Ct){if(re&&Se.current===k)try{return Ct(re),void(Ie.current.getExtendedData&&se(Ie.current.getExtendedData(re)))}catch{}if(Se.current)try{var rn=Ie.current.getProperty(Se.current,be.current);rn&&(H(rn),Ct(rn),Ie.current.getExtendedData&&se(Ie.current.getExtendedData(rn)))}catch{}},[re,k]),ut=e.useMemo(function(){return Ie.current.buildPropertyOperations(We)},[We]),_t=c({value:ye},ut);return I.getExtendedData&&(_t.extendedData=P),_t}r.default=function(C){var k=C.src,I=C.artboard,X=C.animations,re=C.stateMachines,H=C.layout,ee=C.useOffscreenRenderer,ye=ee===void 0||ee,de=C.shouldDisableRiveListeners,xe=de!==void 0&&de,P=C.shouldResizeCanvasToContainer,se=P===void 0||P,Se=C.automaticallyHandleEvents,be=Se!==void 0&&Se,Ie=C.children,He=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),We=V({src:k,artboard:I,animations:X,layout:H,stateMachines:re,autoplay:!0,shouldDisableRiveListeners:xe,automaticallyHandleEvents:be},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:se}).RiveComponent;return l.default.createElement(We,c({},He),Ie)},r.useResizeCanvas=Fe,r.useRive=V,r.useRiveFile=function(C){var k=this,I=e.useState(null),X=I[0],re=I[1],H=e.useState("idle"),ee=H[0],ye=H[1];return e.useEffect(function(){var de=null;return b(k,void 0,void 0,function(){return w(this,function(xe){try{ye("loading"),(de=new i.RiveFile(C)).init(),de.on(i.EventType.Load,function(){de?.getInstance(),re(de),ye("success")}),de.on(i.EventType.LoadError,function(){ye("failed")}),re(de)}catch(P){console.error(P),ye("failed")}return[2]})}),function(){de?.cleanup()}},[C.src,C.buffer]),{riveFile:X,status:ee}},r.useStateMachineInput=function(C,k,I,X){var re=e.useState(null),H=re[0],ee=re[1];return e.useEffect(function(){function ye(){if(C&&k&&I||ee(null),C&&k&&I){var de=C.stateMachineInputs(k);if(de){var xe=de.find(function(P){return P.name===I});X!==void 0&&xe&&(xe.value=X),ee(xe||null)}}else ee(null)}ye(),C&&C.on(i.EventType.Load,function(){ye()})},[C]),H},r.useViewModel=function(C,k){var I=k??{},X=I.name,re=I.useDefault,H=re!==void 0&&re,ee=e.useState(null),ye=ee[0],de=ee[1];return e.useEffect(function(){function xe(){var P;if(C){var se=null;se=X!=null?((P=C.viewModelByName)===null||P===void 0?void 0:P.call(C,X))||null:C.defaultViewModel()||null,de(se)}else de(null)}return xe(),C&&C.on(i.EventType.Load,xe),function(){C&&C.off(i.EventType.Load,xe)}},[C,X,H]),ye},r.useViewModelInstance=function(C,k){var I=k??{},X=I.name,re=I.useDefault,H=re!==void 0&&re,ee=I.useNew,ye=ee!==void 0&&ee,de=I.rive,xe=e.useState(null),P=xe[0],se=xe[1];return e.useEffect(function(){var Se,be,Ie;if(C){var He=null;He=X!=null?C.instanceByName(X)||null:H?((Se=C.defaultInstance)===null||Se===void 0?void 0:Se.call(C))||null:ye?((be=C.instance)===null||be===void 0?void 0:be.call(C))||null:((Ie=C.defaultInstance)===null||Ie===void 0?void 0:Ie.call(C))||null,se(He),de&&He&&de.viewModelInstance!==He&&de.bindViewModelInstance(He)}else se(null)},[C,X,H,ye,de]),P},r.useViewModelInstanceArtboard=function(C,k){return{setValue:B(C,k,{getProperty:e.useCallback(function(I,X){return I.artboard(X)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(X){I(function(re){re.value=X})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(X,re){return X.boolean(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceColor=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(X,re){return X.color(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})},setRgb:function(re,H,ee){X(function(ye){ye.rgb(re,H,ee)})},setRgba:function(re,H,ee,ye){X(function(de){de.rgba(re,H,ee,ye)})},setAlpha:function(re){X(function(H){H.alpha(re)})},setOpacity:function(re){X(function(H){H.opacity(re)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},r.useViewModelInstanceEnum=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(X,re){return X.enum(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(X){return X.values},[]),buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},r.useViewModelInstanceImage=function(C,k){return{setValue:B(C,k,{getProperty:e.useCallback(function(I,X){return I.image(X)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(X){I(function(re){re.value=X})}}},[])}).setValue}},r.useViewModelInstanceList=function(C,k){var I,X=e.useState(0)[1],re=B(C,k,{getProperty:e.useCallback(function(H,ee){return H.list(ee)},[]),getValue:e.useCallback(function(H){return H.length},[]),defaultValue:null,onPropertyEvent:function(){X(function(H){return H+1})},buildPropertyOperations:e.useCallback(function(H){return{addInstance:function(ee){H(function(ye){return ye.addInstance(ee)})},addInstanceAt:function(ee,ye){var de=!1;return H(function(xe){de=xe.addInstanceAt(ee,ye)}),de},removeInstance:function(ee){H(function(ye){return ye.removeInstance(ee)})},removeInstanceAt:function(ee){H(function(ye){return ye.removeInstanceAt(ee)})},getInstanceAt:function(ee){var ye=null;return H(function(de){ye=de.instanceAt(ee)}),ye},swap:function(ee,ye){H(function(de){return de.swap(ee,ye)})}}},[])});return{length:(I=re.value)!==null&&I!==void 0?I:0,addInstance:re.addInstance,addInstanceAt:re.addInstanceAt,removeInstance:re.removeInstance,removeInstanceAt:re.removeInstanceAt,getInstanceAt:re.getInstanceAt,swap:re.swap}},r.useViewModelInstanceNumber=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(X,re){return X.number(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceString=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(X,re){return X.string(re)},[]),getValue:e.useCallback(function(X){return X.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(X){return{setValue:function(re){X(function(H){H.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceTrigger=function(C,k,I){var X=(I??{}).onTrigger;return{trigger:B(C,k,{getProperty:e.useCallback(function(re,H){return re.trigger(H)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:X,buildPropertyOperations:e.useCallback(function(re){return{trigger:function(){re(function(H){H.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||r.hasOwnProperty(C)||Object.defineProperty(r,C,{enumerable:!0,get:function(){return i[C]}})})})(ym)),ym}var lo=FT();const HT=()=>{};var f_={};const W0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},qT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,x=c>>2,L=(c&3)<<4|b>>4;let G=(b&15)<<2|E>>6,ne=E&63;w||(ne=64,p||(G=64)),s.push(i[x],i[L],i[G],i[ne])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(W0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||L==null)throw new GT;const G=c<<2|b>>4;if(s.push(G),E!==64){const ne=b<<4&240|E>>2;if(s.push(ne),L!==64){const z=E<<6&192|L;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(r){const e=W0(r);return K0.encodeByteArray(e,!0)},Vh=function(r){return YT(r).replace(/\./g,"")},$0=function(r){try{return K0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QT=()=>XT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof f_>"u")return;const r=f_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$0(r[1]);return e&&JSON.parse(e)},nf=()=>{try{return HT()||QT()||WT()||KT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},J0=r=>nf()?.emulatorHosts?.[r],$T=r=>{const e=J0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Z0=()=>nf()?.config,eb=r=>nf()?.[`_${r}`];class JT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(r){return(await fetch(r,{credentials:"include"})).ok}function ZT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Vh(JSON.stringify(i)),Vh(JSON.stringify(p)),""].join(".")}const Fu={};function eA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function tA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let d_=!1;function nb(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||Fu[r]===e||Fu[r]||d_)return;Fu[r]=e;function i(G){return`__firebase__banner__${G}`}const s="__firebase__banner",c=eA().prod.length>0;function p(){const G=document.getElementById(s);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function w(G,ne){G.setAttribute("width","24"),G.setAttribute("id",ne),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function E(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{d_=!0,p()},G}function x(G,ne){G.setAttribute("id",ne),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function L(){const G=tA(s),ne=i("text"),z=document.getElementById(ne)||document.createElement("span"),De=i("learnmore"),Re=document.getElementById(De)||document.createElement("a"),Ue=i("preprendIcon"),Fe=document.getElementById(Ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const qe=G.element;b(qe),x(Re,De);const Ke=E();w(Fe,Ue),qe.append(Fe,z,Re,Ke),document.body.appendChild(qe)}c?(z.innerText="Preview backend disconnected.",Fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",ne)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function Wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wi())}function iA(){const r=nf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const r=Wi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const hA="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=hA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?fA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Rs(l,b,s)}}function fA(r,e){return r.replace(dA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const dA=/\{\$([^}]+)}/g;function mA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(m_(c)&&m_(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pA(r,e){const i=new gA(r,e);return i.subscribe.bind(i)}class gA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");yA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=vm),l.error===void 0&&(l.error=vm),l.complete===void 0&&(l.complete=vm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function vm(){}function zr(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class vA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new JT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bA(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_A(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _A(r){return r===zo?void 0:r}function bA(r){return r.instantiationMode==="EAGER"}class wA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Wt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Wt||(Wt={}));const EA={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},TA=Wt.INFO,AA={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},SA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=AA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=TA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const RA=(r,e)=>e.some(i=>r instanceof i);let p_,g_;function CA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IA(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,Om=new WeakMap,rb=new WeakMap,_m=new WeakMap,ap=new WeakMap;function xA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(co(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&ib.set(i,r)}).catch(()=>{}),ap.set(e,r),e}function MA(r){if(Om.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Om.set(r,e)}let Vm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rb.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return co(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NA(r){Vm=r(Vm)}function DA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(bm(this),e,...i);return rb.set(s,e.sort?e.sort():[e]),co(s)}:IA().includes(r)?function(...e){return r.apply(bm(this),e),co(ib.get(this))}:function(...e){return co(r.apply(bm(this),e))}}function OA(r){return typeof r=="function"?DA(r):(r instanceof IDBTransaction&&MA(r),RA(r,CA())?new Proxy(r,Vm):r)}function co(r){if(r instanceof IDBRequest)return xA(r);if(_m.has(r))return _m.get(r);const e=OA(r);return e!==r&&(_m.set(r,e),ap.set(e,r)),e}const bm=r=>ap.get(r);function VA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=co(p);return s&&p.addEventListener("upgradeneeded",w=>{s(co(p.result),w.oldVersion,w.newVersion,co(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const kA=["get","getKey","getAll","getAllKeys","count"],PA=["put","add","delete","clear"],wm=new Map;function y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=PA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||kA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return wm.set(e,c),c}NA(r=>({...r,get:(e,i,s)=>y_(e,i)||r.get(e,i,s),has:(e,i)=>!!y_(e,i)||r.has(e,i)}));class LA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function UA(r){return r.getComponent()?.type==="VERSION"}const km="@firebase/app",v_="0.14.6";const bs=new rp("@firebase/app"),jA="@firebase/app-compat",zA="@firebase/analytics-compat",BA="@firebase/analytics",FA="@firebase/app-check-compat",HA="@firebase/app-check",qA="@firebase/auth",GA="@firebase/auth-compat",YA="@firebase/database",XA="@firebase/data-connect",QA="@firebase/database-compat",WA="@firebase/functions",KA="@firebase/functions-compat",$A="@firebase/installations",JA="@firebase/installations-compat",ZA="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",iS="@firebase/remote-config",rS="@firebase/remote-config-compat",aS="@firebase/storage",sS="@firebase/storage-compat",oS="@firebase/firestore",lS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",hS="12.6.0";const Pm="[DEFAULT]",fS={[km]:"fire-core",[jA]:"fire-core-compat",[BA]:"fire-analytics",[zA]:"fire-analytics-compat",[HA]:"fire-app-check",[FA]:"fire-app-check-compat",[qA]:"fire-auth",[GA]:"fire-auth-compat",[YA]:"fire-rtdb",[XA]:"fire-data-connect",[QA]:"fire-rtdb-compat",[WA]:"fire-fn",[KA]:"fire-fn-compat",[$A]:"fire-iid",[JA]:"fire-iid-compat",[ZA]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[iS]:"fire-rc",[rS]:"fire-rc-compat",[aS]:"fire-gcs",[sS]:"fire-gcs-compat",[oS]:"fire-fst",[uS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};const kh=new Map,dS=new Map,Lm=new Map;function __(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function zl(r){const e=r.name;if(Lm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,r);for(const i of kh.values())__(i,r);for(const i of dS.values())__(i,r);return!0}function sp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function na(r){return r==null?!1:r.settings!==void 0}const mS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new ic("app","Firebase",mS);class pS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const Ql=hS;function ab(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Pm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ho.create("bad-app-name",{appName:String(l)});if(i||(i=Z0()),!i)throw ho.create("no-options");const c=kh.get(l);if(c){if(Fo(i,c.options)&&Fo(s,c.config))return c;throw ho.create("duplicate-app",{appName:l})}const p=new wA(l);for(const w of Lm.values())p.addComponent(w);const b=new pS(i,s,p);return kh.set(l,b),b}function sb(r=Pm){const e=kh.get(r);if(!e&&r===Pm&&Z0())return ab();if(!e)throw ho.create("no-app",{appName:r});return e}function fo(r,e,i){let s=fS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}zl(new Ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const gS="firebase-heartbeat-database",yS=1,Qu="firebase-heartbeat-store";let Em=null;function ob(){return Em||(Em=VA(gS,yS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Qu)}catch(i){console.warn(i)}}}}).catch(r=>{throw ho.create("idb-open",{originalErrorMessage:r.message})})),Em}async function vS(r){try{const i=(await ob()).transaction(Qu),s=await i.objectStore(Qu).get(lb(r));return await i.done,s}catch(e){if(e instanceof Rs)bs.warn(e.message);else{const i=ho.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function b_(r,e){try{const s=(await ob()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,lb(r)),await s.done}catch(i){if(i instanceof Rs)bs.warn(i.message);else{const s=ho.create("idb-set",{originalErrorMessage:i?.message});bs.warn(s.message)}}}function lb(r){return`${r.name}!${r.options.appId}`}const _S=1024,bS=30;class wS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new TS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>bS){const l=AS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:i,unsentEntries:s}=ES(this._heartbeatsCache.heartbeats),l=Vh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function w_(){return new Date().toISOString().substring(0,10)}function ES(r,e=_S){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),E_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),E_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class TS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E_(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function AS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function SS(r){zl(new Ho("platform-logger",e=>new LA(e),"PRIVATE")),zl(new Ho("heartbeat",e=>new wS(e),"PRIVATE")),fo(km,v_,r),fo(km,v_,"esm2020"),fo("fire-js","")}SS("");var RS="firebase",CS="12.6.0";fo(RS,CS,"app");function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IS=ub,cb=new ic("auth","Firebase",ub());const Ph=new rp("@firebase/auth");function xS(r,...e){Ph.logLevel<=Wt.WARN&&Ph.warn(`Auth (${Ql}): ${r}`,...e)}function Ah(r,...e){Ph.logLevel<=Wt.ERROR&&Ph.error(`Auth (${Ql}): ${r}`,...e)}function ws(r,...e){throw op(r,...e)}function Va(r,...e){return op(r,...e)}function hb(r,e,i){const s={...IS(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function vs(r){return hb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return cb.create(r,...e)}function Tt(r,e,...i){if(!r)throw op(e,...i)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function Es(r,e){r||gs(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function MS(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MS()||aA()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=nA()||sA()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(r,e){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class fb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Wl(r,e,i,s,l={}){return db(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return rA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(E.credentials="include"),fb.fetch()(await mb(r,r.config.apiHost,i,b),E)})}async function db(r,e,i){r._canInitEmulator=!1;const s={...OS,...e};try{const l=new PS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw ph(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw ph(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw ph(r,"user-disabled",p);const x=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw hb(r,x,E);ws(r,x)}}catch(l){if(l instanceof Rs)throw l;ws(r,"network-request-failed",{message:String(l)})}}async function up(r,e,i,s,l={}){const c=await Wl(r,e,i,s,l);return"mfaPendingCredential"in c&&ws(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function mb(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?lp(r.config,l):`${r.config.apiScheme}://${l}`;return VS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class PS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Va(this.auth,"network-request-failed")),kS.get())})}}function ph(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Va(r,e,s);return l.customData._tokenResponse=i,l}async function LS(r,e){return Wl(r,"POST","/v1/accounts:delete",e)}async function Lh(r,e){return Wl(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function US(r,e=!1){const i=zr(r),s=await i.getIdToken(e),l=cp(s);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Hu(Tm(l.auth_time)),issuedAtTime:Hu(Tm(l.iat)),expirationTime:Hu(Tm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Tm(r){return Number(r)*1e3}function cp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const l=$0(i);return l?JSON.parse(l):(Ah("Failed to decode base64 JWT payload"),null)}catch(l){return Ah("Caught error parsing JWT payload as JSON",l?.toString()),null}}function A_(r){const e=cp(r);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Rs&&jS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function jS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(r){const e=r.auth,i=await r.getIdToken(),s=await Wu(r,Lh(e,{idToken:i}));Tt(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?pb(l.providerUserInfo):[],p=FS(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,x)}async function BS(r){const e=zr(r);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function pb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HS(r,e){const i=await db(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await mb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(w.credentials="include"),fb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qS(r,e){return Wl(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const i=A_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await HS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Vl;return s&&(Tt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return gs("not implemented")}}function no(r,e){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pa{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new zS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return US(this,e)}reload(){return BS(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(na(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Wu(this,LS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:L,emailVerified:G,isAnonymous:ne,providerData:z,stsTokenManager:De}=i;Tt(L&&De,e,"internal-error");const Re=Vl.fromJSON(this.name,De);Tt(typeof L=="string",e,"internal-error"),no(s,e.name),no(l,e.name),Tt(typeof G=="boolean",e,"internal-error"),Tt(typeof ne=="boolean",e,"internal-error"),no(c,e.name),no(p,e.name),no(b,e.name),no(w,e.name),no(E,e.name),no(x,e.name);const Ue=new pa({uid:L,auth:e,email:l,emailVerified:G,displayName:s,isAnonymous:ne,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Re,createdAt:E,lastLoginAt:x});return z&&Array.isArray(z)&&(Ue.providerData=z.map(Fe=>({...Fe}))),w&&(Ue._redirectEventId=w),Ue}static async _fromIdTokenResponse(e,i,s=!1){const l=new Vl;l.updateFromServerResponse(i);const c=new pa({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Uh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?pb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Vl;b.updateFromIdToken(s);const w=new pa({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const S_=new Map;function ys(r){Es(r instanceof Function,"Expected a class definition");let e=S_.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,S_.set(r,e),e)}class gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}gb.type="NONE";const R_=gb;function Sh(r,e,i){return`firebase:${r}:${e}:${i}`}class kl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Sh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Lh(this.auth,{idToken:e}).catch(()=>{});return i?pa._fromGetAccountInfoResponse(this.auth,i,e):null}return pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new kl(ys(R_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||ys(R_);const p=Sh(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const x=await E._get(p);if(x){let L;if(typeof x=="string"){const G=await Lh(e,{idToken:x}).catch(()=>{});if(!G)break;L=await pa._fromGetAccountInfoResponse(e,G,x)}else L=pa._fromJSON(e,x);E!==c&&(b=L),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new kl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new kl(c,e,s))}}function C_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eb(e))return"Blackberry";if(Tb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(wb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function yb(r=Wi()){return/firefox\//i.test(r)}function vb(r=Wi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(r=Wi()){return/crios\//i.test(r)}function bb(r=Wi()){return/iemobile/i.test(r)}function wb(r=Wi()){return/android/i.test(r)}function Eb(r=Wi()){return/blackberry/i.test(r)}function Tb(r=Wi()){return/webos/i.test(r)}function hp(r=Wi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GS(r=Wi()){return hp(r)&&!!window.navigator?.standalone}function YS(){return oA()&&document.documentMode===10}function Ab(r=Wi()){return hp(r)||wb(r)||Tb(r)||Eb(r)||/windows phone/i.test(r)||bb(r)}function Sb(r,e=[]){let i;switch(r){case"Browser":i=C_(Wi());break;case"Worker":i=`${C_(Wi())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ql}/${s}`}class XS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QS(r,e={}){return Wl(r,"GET","/v2/passwordPolicy",sc(r,e))}const WS=6;class KS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $S{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new XS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Lh(this,{idToken:e}),s=await pa._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(na(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(na(this.app))return Promise.reject(vs(this));const i=e?zr(e):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return na(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return na(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QS(this),i=new KS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await qS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return zr(r)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pA(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JS(r){fp=r}function ZS(r){return fp.loadJS(r)}function e2(){return fp.gapiScript}function t2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function n2(r,e){const i=sp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fo(c,e??{}))return l;ws(l,"already-initialized")}return i.initialize({options:e})}function i2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function r2(r,e,i){const s=oc(r);Tt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Rb(e),{host:p,port:b}=a2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Fo(E,s.config.emulator)&&Fo(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Xl(p)?(tb(`${c}//${p}${w}`),nb("Auth",!0)):s2()}function Rb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function a2(r){const e=Rb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:x_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:x_(p)}}}function x_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function s2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Cb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function Pl(r,e){return up(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const o2="http://localhost";class qo extends Cb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new qo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Pl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ro extends lc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";class ao extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ao.credential(i,s)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";class so extends lc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";class oo extends lc{constructor(){super("twitter.com")}static credential(e,i){return qo._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return oo.credential(i,s)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";async function l2(r,e){return up(r,"POST","/v1/accounts:signUp",sc(r,e))}class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await pa._fromIdTokenResponse(e,s,l),p=M_(s);return new Ts({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=M_(s);return new Ts({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function M_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function u2(r){if(na(r.app))return Promise.reject(vs(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ts({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await l2(e,{returnSecureToken:!0}),s=await Ts._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class jh extends Rs{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new jh(e,i,s,l)}}function xb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,c,e,s):c})}async function c2(r,e,i=!1){const s=await Wu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",s)}async function h2(r,e,i=!1){const{auth:s}=r;if(na(s.app))return Promise.reject(vs(s));const l="reauthenticate";try{const c=await Wu(r,xb(s,l,e,r),i);Tt(c.idToken,s,"internal-error");const p=cp(c.idToken);Tt(p,s,"internal-error");const{sub:b}=p;return Tt(r.uid===b,s,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(s,"user-mismatch"),c}}async function f2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s="signIn",l=await xb(r,s,e),c=await Ts._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function d2(r,e){return up(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function m2(r,e){if(na(r.app))return Promise.reject(vs(r));const i=oc(r),s=await d2(i,{token:e,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function p2(r,e,i,s){return zr(r).onIdTokenChanged(e,i,s)}function g2(r,e,i){return zr(r).beforeAuthStateChanged(e,i)}function y2(r,e,i,s){return zr(r).onAuthStateChanged(e,i,s)}const zh="__sak";class Mb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,_2=10;class Nb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);YS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,_2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nb.type="LOCAL";const b2=Nb;class Db extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Db.type="SESSION";const Ob=Db;function w2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await w2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];function dp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=dp("",20);l.port1.start();const x=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(L){const G=L;if(G.data.eventId===E)switch(G.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(x),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function ka(){return window}function T2(r){ka().location.href=r}function Vb(){return typeof ka().WorkerGlobalScope<"u"&&typeof ka().importScripts=="function"}async function A2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){return navigator?.serviceWorker?.controller||null}function R2(){return Vb()?self:null}const kb="firebaseLocalStorageDb",C2=1,Bh="firebaseLocalStorage",Pb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function af(r,e){return r.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function I2(){const r=indexedDB.deleteDatabase(kb);return new uc(r).toPromise()}function zm(){const r=indexedDB.open(kb,C2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bh,{keyPath:Pb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await I2(),e(await zm()))})})}async function N_(r,e,i){const s=af(r,!0).put({[Pb]:e,value:i});return new uc(s).toPromise()}async function x2(r,e){const i=af(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function D_(r,e){const i=af(r,!0).delete(e);return new uc(i).toPromise()}const M2=800,N2=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>N2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await N_(e,zh,"1"),await D_(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>N_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>x2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>D_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=af(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const D2=Lb;new ac(3e4,6e4);function O2(r,e){return e?ys(e):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class mp extends Cb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function V2(r){return f2(r.auth,new mp(r),r.bypassAuthState)}function k2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),h2(i,new mp(r),r.bypassAuthState)}async function P2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),c2(i,new mp(r),r.bypassAuthState)}class Ub{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:ws(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L2=new ac(2e3,1e4);class Ol extends Ub{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L2.get())};e()}}Ol.currentPopupAction=null;const U2="pendingRedirect",Rh=new Map;class j2 extends Ub{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await z2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z2(r,e){const i=H2(e),s=F2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function B2(r,e){Rh.set(r._key(),e)}function F2(r){return ys(r._redirectPersistence)}function H2(r){return Sh(U2,r.config.apiKey,r.name)}async function q2(r,e,i=!1){if(na(r.app))return Promise.reject(vs(r));const s=oc(r),l=O2(s,e),p=await new j2(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const G2=600*1e3;class Y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!jb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Va(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function X2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(r);default:return!1}}async function Q2(r,e={}){return Wl(r,"GET","/v1/projects",e)}const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function $2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Q2(r);for(const i of e)try{if(J2(i))return}catch{}ws(r,"unauthorized-domain")}function J2(r){const e=Um(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!K2.test(i))return!1;if(W2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const Z2=new ac(3e4,6e4);function V_(){const r=ka().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function eR(r){return new Promise((e,i)=>{function s(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),i(Va(r,"network-request-failed"))},timeout:Z2.get()})}if(ka().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ka().gapi?.load)s();else{const l=t2("iframefcb");return ka()[l]=()=>{gapi.load?s():i(Va(r,"network-request-failed"))},ZS(`${e2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function tR(r){return Ch=Ch||eR(r),Ch}const nR=new ac(5e3,15e3),iR="__/auth/iframe",rR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(r){const e=r.config;Tt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?lp(e,rR):`https://${r.config.authDomain}/${iR}`,s={apiKey:e.apiKey,appName:r.name,v:Ql},l=sR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function lR(r){const e=await tR(r),i=ka().gapi;return Tt(i,r,"internal-error"),e.open({where:document.body,url:oR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Va(r,"network-request-failed"),b=ka().setTimeout(()=>{c(p)},nR.get());function w(){ka().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const uR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cR=500,hR=600,fR="_blank",dR="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(r,e,i,s=cR,l=hR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...uR,width:s.toString(),height:l.toString(),top:c,left:p},E=Wi().toLowerCase();i&&(b=_b(E)?fR:i),yb(E)&&(e=e||dR,w.scrollbars="yes");const x=Object.entries(w).reduce((G,[ne,z])=>`${G}${ne}=${z},`,"");if(GS(E)&&b!=="_self")return pR(e||"",b),new k_(null);const L=window.open(e||"",b,x);Tt(L,r,"popup-blocked");try{L.focus()}catch{}return new k_(L)}function pR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const gR="__/auth/handler",yR="emulator/auth/handler",vR=encodeURIComponent("fac");async function P_(r,e,i,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Ql,eventId:l};if(e instanceof Ib){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",mA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,L]of Object.entries({}))p[x]=L}if(e instanceof lc){const x=e.getScopes().filter(L=>L!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const w=await r._getAppCheckToken(),E=w?`#${vR}=${encodeURIComponent(w)}`:"";return`${_R(r)}?${rc(b).slice(1)}${E}`}function _R({config:r}){return r.emulator?lp(r,yR):`https://${r.authDomain}/${gR}`}const Am="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ob,this._completeRedirectFn=q2,this._overrideRedirectResult=B2}async _openPopup(e,i,s,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await P_(e,i,s,Um(),l);return mR(e,c,dp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await P_(e,i,s,Um(),l);return T2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await lR(e),s=new Y2(e);return i.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Am,{type:Am},l=>{const c=l?.[0]?.[Am];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ab()||vb()||hp()}}const wR=bR;var L_="@firebase/auth",U_="1.11.1";class ER{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AR(r){zl(new Ho("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(r)},E=new $S(s,l,c,w);return i2(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),zl(new Ho("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new ER(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(L_,U_,TR(r)),fo(L_,U_,"esm2020")}const SR=300,RR=eb("authIdTokenMaxAge")||SR;let j_=null;const CR=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>RR)return;const l=i?.token;j_!==l&&(j_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function IR(r=sb()){const e=sp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=n2(r,{popupRedirectResolver:wR,persistence:[D2,b2,Ob]}),s=eb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=CR(c.toString());g2(i,p,()=>p(i.currentUser)),p2(i,b=>p(b))}}const l=J0("auth");return l&&r2(i,`http://${l}`),i}function xR(){return document.getElementsByTagName("head")?.[0]??document}JS({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Va("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",xR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AR("Browser");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mo,zb;(function(){var r;function e(F,U){function V(){}V.prototype=U.prototype,F.F=U.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(B,C,k){for(var I=Array(arguments.length-2),X=2;X<arguments.length;X++)I[X-2]=arguments[X];return U.prototype[C].apply(B,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,U,V){V||(V=0);const B=Array(16);if(typeof U=="string")for(var C=0;C<16;++C)B[C]=U.charCodeAt(V++)|U.charCodeAt(V++)<<8|U.charCodeAt(V++)<<16|U.charCodeAt(V++)<<24;else for(C=0;C<16;++C)B[C]=U[V++]|U[V++]<<8|U[V++]<<16|U[V++]<<24;U=F.g[0],V=F.g[1],C=F.g[2];let k=F.g[3],I;I=U+(k^V&(C^k))+B[0]+3614090360&4294967295,U=V+(I<<7&4294967295|I>>>25),I=k+(C^U&(V^C))+B[1]+3905402710&4294967295,k=U+(I<<12&4294967295|I>>>20),I=C+(V^k&(U^V))+B[2]+606105819&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(U^C&(k^U))+B[3]+3250441966&4294967295,V=C+(I<<22&4294967295|I>>>10),I=U+(k^V&(C^k))+B[4]+4118548399&4294967295,U=V+(I<<7&4294967295|I>>>25),I=k+(C^U&(V^C))+B[5]+1200080426&4294967295,k=U+(I<<12&4294967295|I>>>20),I=C+(V^k&(U^V))+B[6]+2821735955&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(U^C&(k^U))+B[7]+4249261313&4294967295,V=C+(I<<22&4294967295|I>>>10),I=U+(k^V&(C^k))+B[8]+1770035416&4294967295,U=V+(I<<7&4294967295|I>>>25),I=k+(C^U&(V^C))+B[9]+2336552879&4294967295,k=U+(I<<12&4294967295|I>>>20),I=C+(V^k&(U^V))+B[10]+4294925233&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(U^C&(k^U))+B[11]+2304563134&4294967295,V=C+(I<<22&4294967295|I>>>10),I=U+(k^V&(C^k))+B[12]+1804603682&4294967295,U=V+(I<<7&4294967295|I>>>25),I=k+(C^U&(V^C))+B[13]+4254626195&4294967295,k=U+(I<<12&4294967295|I>>>20),I=C+(V^k&(U^V))+B[14]+2792965006&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(U^C&(k^U))+B[15]+1236535329&4294967295,V=C+(I<<22&4294967295|I>>>10),I=U+(C^k&(V^C))+B[1]+4129170786&4294967295,U=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(U^V))+B[6]+3225465664&4294967295,k=U+(I<<9&4294967295|I>>>23),I=C+(U^V&(k^U))+B[11]+643717713&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^U&(C^k))+B[0]+3921069994&4294967295,V=C+(I<<20&4294967295|I>>>12),I=U+(C^k&(V^C))+B[5]+3593408605&4294967295,U=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(U^V))+B[10]+38016083&4294967295,k=U+(I<<9&4294967295|I>>>23),I=C+(U^V&(k^U))+B[15]+3634488961&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^U&(C^k))+B[4]+3889429448&4294967295,V=C+(I<<20&4294967295|I>>>12),I=U+(C^k&(V^C))+B[9]+568446438&4294967295,U=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(U^V))+B[14]+3275163606&4294967295,k=U+(I<<9&4294967295|I>>>23),I=C+(U^V&(k^U))+B[3]+4107603335&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^U&(C^k))+B[8]+1163531501&4294967295,V=C+(I<<20&4294967295|I>>>12),I=U+(C^k&(V^C))+B[13]+2850285829&4294967295,U=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(U^V))+B[2]+4243563512&4294967295,k=U+(I<<9&4294967295|I>>>23),I=C+(U^V&(k^U))+B[7]+1735328473&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^U&(C^k))+B[12]+2368359562&4294967295,V=C+(I<<20&4294967295|I>>>12),I=U+(V^C^k)+B[5]+4294588738&4294967295,U=V+(I<<4&4294967295|I>>>28),I=k+(U^V^C)+B[8]+2272392833&4294967295,k=U+(I<<11&4294967295|I>>>21),I=C+(k^U^V)+B[11]+1839030562&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^U)+B[14]+4259657740&4294967295,V=C+(I<<23&4294967295|I>>>9),I=U+(V^C^k)+B[1]+2763975236&4294967295,U=V+(I<<4&4294967295|I>>>28),I=k+(U^V^C)+B[4]+1272893353&4294967295,k=U+(I<<11&4294967295|I>>>21),I=C+(k^U^V)+B[7]+4139469664&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^U)+B[10]+3200236656&4294967295,V=C+(I<<23&4294967295|I>>>9),I=U+(V^C^k)+B[13]+681279174&4294967295,U=V+(I<<4&4294967295|I>>>28),I=k+(U^V^C)+B[0]+3936430074&4294967295,k=U+(I<<11&4294967295|I>>>21),I=C+(k^U^V)+B[3]+3572445317&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^U)+B[6]+76029189&4294967295,V=C+(I<<23&4294967295|I>>>9),I=U+(V^C^k)+B[9]+3654602809&4294967295,U=V+(I<<4&4294967295|I>>>28),I=k+(U^V^C)+B[12]+3873151461&4294967295,k=U+(I<<11&4294967295|I>>>21),I=C+(k^U^V)+B[15]+530742520&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^U)+B[2]+3299628645&4294967295,V=C+(I<<23&4294967295|I>>>9),I=U+(C^(V|~k))+B[0]+4096336452&4294967295,U=V+(I<<6&4294967295|I>>>26),I=k+(V^(U|~C))+B[7]+1126891415&4294967295,k=U+(I<<10&4294967295|I>>>22),I=C+(U^(k|~V))+B[14]+2878612391&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~U))+B[5]+4237533241&4294967295,V=C+(I<<21&4294967295|I>>>11),I=U+(C^(V|~k))+B[12]+1700485571&4294967295,U=V+(I<<6&4294967295|I>>>26),I=k+(V^(U|~C))+B[3]+2399980690&4294967295,k=U+(I<<10&4294967295|I>>>22),I=C+(U^(k|~V))+B[10]+4293915773&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~U))+B[1]+2240044497&4294967295,V=C+(I<<21&4294967295|I>>>11),I=U+(C^(V|~k))+B[8]+1873313359&4294967295,U=V+(I<<6&4294967295|I>>>26),I=k+(V^(U|~C))+B[15]+4264355552&4294967295,k=U+(I<<10&4294967295|I>>>22),I=C+(U^(k|~V))+B[6]+2734768916&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~U))+B[13]+1309151649&4294967295,V=C+(I<<21&4294967295|I>>>11),I=U+(C^(V|~k))+B[4]+4149444226&4294967295,U=V+(I<<6&4294967295|I>>>26),I=k+(V^(U|~C))+B[11]+3174756917&4294967295,k=U+(I<<10&4294967295|I>>>22),I=C+(U^(k|~V))+B[2]+718787259&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~U))+B[9]+3951481745&4294967295,F.g[0]=F.g[0]+U&4294967295,F.g[1]=F.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,F.g[2]=F.g[2]+C&4294967295,F.g[3]=F.g[3]+k&4294967295}s.prototype.v=function(F,U){U===void 0&&(U=F.length);const V=U-this.blockSize,B=this.C;let C=this.h,k=0;for(;k<U;){if(C==0)for(;k<=V;)l(this,F,k),k+=this.blockSize;if(typeof F=="string"){for(;k<U;)if(B[C++]=F.charCodeAt(k++),C==this.blockSize){l(this,B),C=0;break}}else for(;k<U;)if(B[C++]=F[k++],C==this.blockSize){l(this,B),C=0;break}}this.h=C,this.o+=U},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var U=1;U<F.length-8;++U)F[U]=0;U=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=U&255,U/=256;for(this.v(F),F=Array(16),U=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)F[U++]=this.g[V]>>>B&255;return F};function c(F,U){var V=b;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=U(F)}function p(F,U){this.h=U;const V=[];let B=!0;for(let C=F.length-1;C>=0;C--){const k=F[C]|0;B&&k==U||(V[C]=k,B=!1)}this.g=V}var b={};function w(F){return-128<=F&&F<128?c(F,function(U){return new p([U|0],U<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return L;if(F<0)return Re(E(-F));const U=[];let V=1;for(let B=0;F>=V;B++)U[B]=F/V|0,V*=4294967296;return new p(U,0)}function x(F,U){if(F.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(F.charAt(0)=="-")return Re(x(F.substring(1),U));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(U,8));let B=L;for(let k=0;k<F.length;k+=8){var C=Math.min(8,F.length-k);const I=parseInt(F.substring(k,k+C),U);C<8?(C=E(Math.pow(U,C)),B=B.j(C).add(E(I))):(B=B.j(V),B=B.add(E(I)))}return B}var L=w(0),G=w(1),ne=w(16777216);r=p.prototype,r.m=function(){if(De(this))return-Re(this).m();let F=0,U=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);F+=(B>=0?B:4294967296+B)*U,U*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(z(this))return"0";if(De(this))return"-"+Re(this).toString(F);const U=E(Math.pow(F,6));var V=this;let B="";for(;;){const C=Ke(V,U).g;V=Ue(V,C.j(U));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=C,z(V))return k+B;for(;k.length<6;)k="0"+k;B=k+B}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function z(F){if(F.h!=0)return!1;for(let U=0;U<F.g.length;U++)if(F.g[U]!=0)return!1;return!0}function De(F){return F.h==-1}r.l=function(F){return F=Ue(this,F),De(F)?-1:z(F)?0:1};function Re(F){const U=F.g.length,V=[];for(let B=0;B<U;B++)V[B]=~F.g[B];return new p(V,~F.h).add(G)}r.abs=function(){return De(this)?Re(this):this},r.add=function(F){const U=Math.max(this.g.length,F.g.length),V=[];let B=0;for(let C=0;C<=U;C++){let k=B+(this.i(C)&65535)+(F.i(C)&65535),I=(k>>>16)+(this.i(C)>>>16)+(F.i(C)>>>16);B=I>>>16,k&=65535,I&=65535,V[C]=I<<16|k}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Ue(F,U){return F.add(Re(U))}r.j=function(F){if(z(this)||z(F))return L;if(De(this))return De(F)?Re(this).j(Re(F)):Re(Re(this).j(F));if(De(F))return Re(this.j(Re(F)));if(this.l(ne)<0&&F.l(ne)<0)return E(this.m()*F.m());const U=this.g.length+F.g.length,V=[];for(var B=0;B<2*U;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let C=0;C<F.g.length;C++){const k=this.i(B)>>>16,I=this.i(B)&65535,X=F.i(C)>>>16,re=F.i(C)&65535;V[2*B+2*C]+=I*re,Fe(V,2*B+2*C),V[2*B+2*C+1]+=k*re,Fe(V,2*B+2*C+1),V[2*B+2*C+1]+=I*X,Fe(V,2*B+2*C+1),V[2*B+2*C+2]+=k*X,Fe(V,2*B+2*C+2)}for(F=0;F<U;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=U;F<2*U;F++)V[F]=0;return new p(V,0)};function Fe(F,U){for(;(F[U]&65535)!=F[U];)F[U+1]+=F[U]>>>16,F[U]&=65535,U++}function qe(F,U){this.g=F,this.h=U}function Ke(F,U){if(z(U))throw Error("division by zero");if(z(F))return new qe(L,L);if(De(F))return U=Ke(Re(F),U),new qe(Re(U.g),Re(U.h));if(De(U))return U=Ke(F,Re(U)),new qe(Re(U.g),U.h);if(F.g.length>30){if(De(F)||De(U))throw Error("slowDivide_ only works with positive integers.");for(var V=G,B=U;B.l(F)<=0;)V=ht(V),B=ht(B);var C=ot(V,1),k=ot(B,1);for(B=ot(B,2),V=ot(V,2);!z(B);){var I=k.add(B);I.l(F)<=0&&(C=C.add(V),k=I),B=ot(B,1),V=ot(V,1)}return U=Ue(F,C.j(U)),new qe(C,U)}for(C=L;F.l(U)>=0;){for(V=Math.max(1,Math.floor(F.m()/U.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),k=E(V),I=k.j(U);De(I)||I.l(F)>0;)V-=B,k=E(V),I=k.j(U);z(k)&&(k=G),C=C.add(k),F=Ue(F,I)}return new qe(C,F)}r.B=function(F){return Ke(this,F).h},r.and=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)&F.i(B);return new p(V,this.h&F.h)},r.or=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)|F.i(B);return new p(V,this.h|F.h)},r.xor=function(F){const U=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<U;B++)V[B]=this.i(B)^F.i(B);return new p(V,this.h^F.h)};function ht(F){const U=F.g.length+1,V=[];for(let B=0;B<U;B++)V[B]=F.i(B)<<1|F.i(B-1)>>>31;return new p(V,F.h)}function ot(F,U){const V=U>>5;U%=32;const B=F.g.length-V,C=[];for(let k=0;k<B;k++)C[k]=U>0?F.i(k+V)>>>U|F.i(k+V+1)<<32-U:F.i(k+V);return new p(C,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=x,mo=p}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bb,ju,Fb,Ih,Bm,Hb,qb,Gb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var O=0;O<u.length-1;O++){var ae=u[O];if(!(ae in A))break e;A=A[ae]}u=u[u.length-1],O=A[u],y=y(O),y!=O&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],O;for(O in y)Object.prototype.hasOwnProperty.call(y,O)&&A.push([O,y[O]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(O,ae,me){for(var je=Array(arguments.length-2),At=2;At<arguments.length;At++)je[At-2]=arguments[At];return y.prototype[ae].apply(O,je)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ne(u){const y=u.length;if(y>0){const A=Array(y);for(let O=0;O<y;O++)A[O]=u[O];return A}return[]}function z(u,y){for(let O=1;O<arguments.length;O++){const ae=arguments[O];var A=typeof ae;if(A=A!="object"?A:ae?Array.isArray(ae)?"array":A:"null",A=="array"||A=="object"&&typeof ae.length=="number"){A=u.length||0;const me=ae.length||0;u.length=A+me;for(let je=0;je<me;je++)u[A+je]=ae[je]}else u.push(ae)}}class De{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Re(u){p.setTimeout(()=>{throw u},0)}function Ue(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Fe{constructor(){this.h=this.g=null}add(y,A){const O=qe.get();O.set(y,A),this.h?this.h.next=O:this.g=O,this.h=O}}var qe=new De(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ot=!1,F=new Fe,U=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(V)}};function V(){for(var u;u=Ue();){try{u.h.call(u.g)}catch(A){Re(A)}var y=qe;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ot=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function X(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(X,C),X.prototype.init=function(u,y){const A=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function ee(u,y,A,O,ae){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!O,this.ha=ae,this.key=++H,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function de(u,y,A){for(const O in u)y.call(A,u[O],O,u)}function xe(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(u,y){let A,O;for(let ae=1;ae<arguments.length;ae++){O=arguments[ae];for(A in O)u[A]=O[A];for(let me=0;me<se.length;me++)A=se[me],Object.prototype.hasOwnProperty.call(O,A)&&(u[A]=O[A])}}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,y,A,O,ae){const me=u.toString();u=this.g[me],u||(u=this.g[me]=[],this.h++);const je=He(u,y,O,ae);return je>-1?(y=u[je],A||(y.fa=!1)):(y=new ee(y,this.src,me,!!O,ae),y.fa=A,u.push(y)),y};function Ie(u,y){const A=y.type;if(A in u.g){var O=u.g[A],ae=Array.prototype.indexOf.call(O,y,void 0),me;(me=ae>=0)&&Array.prototype.splice.call(O,ae,1),me&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function He(u,y,A,O){for(let ae=0;ae<u.length;++ae){const me=u[ae];if(!me.da&&me.listener==y&&me.capture==!!A&&me.ha==O)return ae}return-1}var We="closure_lm_"+(Math.random()*1e6|0),ut={};function _t(u,y,A,O,ae){if(Array.isArray(y)){for(let me=0;me<y.length;me++)_t(u,y[me],A,O,ae);return null}return A=en(A),u&&u[re]?u.J(y,A,b(O)?!!O.capture:!1,ae):Ct(u,y,A,!1,O,ae)}function Ct(u,y,A,O,ae,me){if(!y)throw Error("Invalid event type");const je=b(ae)?!!ae.capture:!!ae;let At=On(u);if(At||(u[We]=At=new be(u)),A=At.add(y,A,O,je,me),A.proxy)return A;if(O=rn(),A.proxy=O,O.src=u,O.listener=A,u.addEventListener)k||(ae=je),ae===void 0&&(ae=!1),u.addEventListener(y.toString(),O,ae);else if(u.attachEvent)u.attachEvent(Lt(y.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function rn(){function u(A){return y.call(u.src,u.listener,A)}const y=Ut;return u}function ft(u,y,A,O,ae){if(Array.isArray(y))for(var me=0;me<y.length;me++)ft(u,y[me],A,O,ae);else O=b(O)?!!O.capture:!!O,A=en(A),u&&u[re]?(u=u.i,me=String(y).toString(),me in u.g&&(y=u.g[me],A=He(y,A,O,ae),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[me],u.h--)))):u&&(u=On(u))&&(y=u.g[y.toString()],u=-1,y&&(u=He(y,A,O,ae)),(A=u>-1?y[u]:null)&&Et(A))}function Et(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[re])Ie(y.i,u);else{var A=u.type,O=u.proxy;y.removeEventListener?y.removeEventListener(A,O,u.capture):y.detachEvent?y.detachEvent(Lt(A),O):y.addListener&&y.removeListener&&y.removeListener(O),(A=On(y))?(Ie(A,u),A.h==0&&(A.src=null,y[We]=null)):ye(u)}}}function Lt(u){return u in ut?ut[u]:ut[u]="on"+u}function Ut(u,y){if(u.da)u=!0;else{y=new X(y,this);const A=u.listener,O=u.ha||u.src;u.fa&&Et(u),u=A.call(O,y)}return u}function On(u){return u=u[We],u instanceof be?u:null}var ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(u){return typeof u=="function"?u:(u[ri]||(u[ri]=function(y){return u.handleEvent(y)}),u[ri])}function at(){B.call(this),this.i=new be(this),this.M=this,this.G=null}L(at,B),at.prototype[re]=!0,at.prototype.removeEventListener=function(u,y,A,O){ft(this,u,y,A,O)};function bt(u,y){var A,O=u.G;if(O)for(A=[];O;O=O.G)A.push(O);if(u=u.M,O=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var ae=y;y=new C(O,u),Se(y,ae)}ae=!0;let me,je;if(A)for(je=A.length-1;je>=0;je--)me=y.g=A[je],ae=dn(me,O,!0,y)&&ae;if(me=y.g=u,ae=dn(me,O,!0,y)&&ae,ae=dn(me,O,!1,y)&&ae,A)for(je=0;je<A.length;je++)me=y.g=A[je],ae=dn(me,O,!1,y)&&ae}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let O=0;O<A.length;O++)ye(A[O]);delete u.g[y],u.h--}}this.G=null},at.prototype.J=function(u,y,A,O){return this.i.add(String(u),y,!1,A,O)},at.prototype.K=function(u,y,A,O){return this.i.add(String(u),y,!0,A,O)};function dn(u,y,A,O){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ae=!0;for(let me=0;me<y.length;++me){const je=y[me];if(je&&!je.da&&je.capture==A){const At=je.listener,Qn=je.ha||je.src;je.fa&&Ie(u.i,je),ae=At.call(Qn,O)!==!1&&ae}}return ae&&!O.defaultPrevented}function Ar(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Sn(u){u.g=Ar(()=>{u.g=null,u.i&&(u.i=!1,Sn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Gt extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Sn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(u){B.call(this),this.h=u,this.g={}}L(mn,B);var R=[];function g(u){de(u.g,function(y,A){this.g.hasOwnProperty(A)&&Et(y)},u),u.g={}}mn.prototype.N=function(){mn.Z.N.call(this),g(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,K=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function pe(){}function Ae(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tt(){C.call(this,"d")}L(tt,C);function Xe(){C.call(this,"c")}L(Xe,C);var nt={},Jt=null;function In(){return Jt=Jt||new at}nt.Ia="serverreachability";function cn(u){C.call(this,nt.Ia,u)}L(cn,C);function Rn(u){const y=In();bt(y,new cn(y))}nt.STAT_EVENT="statevent";function qn(u,y){C.call(this,nt.STAT_EVENT,u),this.stat=y}L(qn,C);function Bt(u){const y=In();bt(y,new qn(y,u))}nt.Ja="timingevent";function xn(u,y){C.call(this,nt.Ja,u),this.size=y}L(xn,C);function Vn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function ki(u,y,A,O,ae,me){u.info(function(){if(u.g)if(me){var je="",At=me.split("&");for(let an=0;an<At.length;an++){var Qn=At[an].split("=");if(Qn.length>1){const Nn=Qn[0];Qn=Qn[1];const Hi=Nn.split("_");je=Hi.length>=2&&Hi[1]=="type"?je+(Nn+"="+Qn+"&"):je+(Nn+"=redacted&")}}}else je=null;else je=me;return"XMLHTTP REQ ("+O+") [attempt "+ae+"]: "+y+`
`+A+`
`+je})}function gt(u,y,A,O,ae,me,je){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ae+"]: "+y+`
`+A+`
`+me+" "+je})}function Gn(u,y,A,O){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ki(u,A)+(O?" "+O:"")})}function St(u,y){u.info(function(){return"TIMEOUT: "+y})}Mn.prototype.info=function(){};function Ki(u,y){if(!u.g)return y;if(!y)return null;try{const me=JSON.parse(y);if(me){for(u=0;u<me.length;u++)if(Array.isArray(me[u])){var A=me[u];if(!(A.length<2)){var O=A[1];if(Array.isArray(O)&&!(O.length<1)){var ae=O[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let je=1;je<O.length;je++)O[je]=""}}}}return v(me)}catch{return y}}var $i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ba={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sr;function Br(){}L(Br,pe),Br.prototype.g=function(){return new XMLHttpRequest},Sr=new Br;function Qe(u){return encodeURIComponent(String(u))}function Fr(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Pi(u,y,A,O){this.j=u,this.i=y,this.l=A,this.S=O||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var pn={},zn={};function Li(u,y,A){u.M=1,u.A=ke(ie(y)),u.u=A,u.R=!0,or(u,null)}function or(u,y){u.F=Date.now(),Ui(u),u.B=ie(u.A);var A=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),Ga(A.i,"t",O),u.C=0,A=u.j.L,u.h=new Ji,u.g=el(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Gt(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,O=u.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(R[0]=ae.toString()),ae=R);for(let me=0;me<ae.length;me++){const je=_t(A,ae[me],O||y.handleEvent,!1,y.h||y);if(!je)break;y.g[je.key]=je}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Rn(),ki(u.i,u.v,u.B,u.l,u.S,u.u)}Pi.prototype.ba=function(u){u=u.target;const y=this.O;y&&Mr(u)==3?y.j():this.Y(u)},Pi.prototype.Y=function(u){try{if(u==this.g)e:{const At=Mr(this.g),Qn=this.g.ya(),an=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||pi(this.g)))){this.K||At!=4||Qn==7||(Qn==8||an<=0?Rn(3):Rn(2)),ji(this);var y=this.g.ca();this.X=y;var A=Cs(this);if(this.o=y==200,gt(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){t:{if(this.g){var O,ae=this.g;if((O=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(O)){var me=O;break t}}me=null}if(u=me)Gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kn(this,u);else{this.o=!1,this.m=3,Bt(12),Ei(this),zi(this);break e}}if(this.R){u=!0;let Nn;for(;!this.K&&this.C<A.length;)if(Nn=aa(this,A),Nn==zn){At==4&&(this.m=4,Bt(14),u=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==pn){this.m=4,Bt(15),Gn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Gn(this.i,this.l,Nn,null),Kn(this,Nn);if(Fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||A.length!=0||this.h.h||(this.m=1,Bt(16),u=!1),this.o=this.o&&u,!u)Gn(this.i,this.l,A,"[Invalid Chunked Response]"),Ei(this),zi(this);else if(A.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),tr(je),je.P=!0,Bt(11))}}else Gn(this.i,this.l,A,null),Kn(this,A);At==4&&Ei(this),this.o&&!this.K&&(At==4?Wa(this.j,this):(this.o=!1,Ui(this)))}else mr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Ei(this),zi(this)}}}catch{}finally{}};function Cs(u){if(!Fa(u))return u.g.la();const y=pi(u.g);if(y==="")return"";let A="";const O=y.length,ae=Mr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ei(u),zi(u),"";u.h.i=new p.TextDecoder}for(let me=0;me<O;me++)u.h.h=!0,A+=u.h.i.decode(y[me],{stream:!(ae&&me==O-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Fa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function aa(u,y){var A=u.C,O=y.indexOf(`
`,A);return O==-1?zn:(A=Number(y.substring(A,O)),isNaN(A)?pn:(O+=1,O+A>y.length?zn:(y=y.slice(O,O+A),u.C=O+A,y)))}Pi.prototype.cancel=function(){this.K=!0,Ei(this)};function Ui(u){u.T=Date.now()+u.H,wi(u,u.H)}function wi(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Vn(E(u.aa,u),y)}function ji(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Pi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(St(this.i,this.B),this.M!=2&&(Rn(),Bt(17)),Ei(this),this.m=2,zi(this)):wi(this,this.T-u)};function zi(u){u.j.I==0||u.K||Wa(u.j,u)}function Ei(u){ji(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Kn(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Yn(A.h,u))){if(!u.L&&Yn(A.h,u)&&A.I==3){try{var O=A.Ba.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ae=O;if(ae[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ca(A),Nr(A);else break e;Aa(A),Bt(18)}}else A.xa=ae[1],0<A.xa-A.K&&ae[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Vn(E(A.Va,A),6e3));Ai(A.h)<=1&&A.ta&&(A.ta=void 0)}else Dr(A,11)}else if((u.L||A.g==u)&&ca(A),!I(y))for(ae=A.Ba.g.parse(y),y=0;y<ae.length;y++){let an=ae[y];const Nn=an[0];if(!(Nn<=A.K))if(A.K=Nn,an=an[1],A.I==2)if(an[0]=="c"){A.M=an[1],A.ba=an[2];const Hi=an[3];Hi!=null&&(A.ka=Hi,A.j.info("VER="+A.ka));const pr=an[4];pr!=null&&(A.za=pr,A.j.info("SVER="+A.za));const gr=an[5];gr!=null&&typeof gr=="number"&&gr>0&&(O=1.5*gr,A.O=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const nr=u.g;if(nr){const Yr=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var me=O.h;me.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(va(me,me.h),me.h=null))}if(O.G){const Ka=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(O.wa=Ka,Le(O.J,O.G,Ka))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),O=A;var je=u;if(O.na=Zo(O,O.L?O.ba:null,O.W),je.L){Rr(O.h,je);var At=je,Qn=O.O;Qn&&(At.H=Qn),At.D&&(ji(At),Ui(At)),O.g=je}else Zn(O);A.i.length>0&&er(A)}else an[0]!="stop"&&an[0]!="close"||Dr(A,7);else A.I==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?Dr(A,7):Ao(A):an[0]!="noop"&&A.l&&A.l.qa(an),A.A=0)}}Rn(4)}catch{}}var kn=class{constructor(u,y){this.g=u,this.map=y}};function sa(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ti(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function Yn(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function va(u,y){u.g?u.g.add(y):u.h=y}function Rr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}sa.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _a(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ne(u.i)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bi(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const O=u[A].indexOf("=");let ae,me=null;O>=0?(ae=u[A].substring(0,O),me=u[A].substring(O+1)):ae=u[A],y(ae,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function $(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof $?(this.l=u.l,fe(this,u.j),this.o=u.o,this.g=u.g,we(this,u.u),this.h=u.h,Ve(this,ba(u.i)),this.m=u.m):u&&(y=String(u).match(Ha))?(this.l=!1,fe(this,y[1]||"",!0),this.o=Me(y[2]||""),this.g=Me(y[3]||"",!0),we(this,y[4]),this.h=Me(y[5]||"",!0),Ve(this,y[6]||"",!0),this.m=Me(y[7]||"")):(this.l=!1,this.i=new Xn(null,this.l))}$.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Pe(y,Vt,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Pe(y,Vt,!0),"@"),u.push(Qe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(Pe(A,A.charAt(0)=="/"?_n:Bn,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",Pe(A,di)),u.join("")},$.prototype.resolve=function(u){const y=ie(this);let A=!!u.j;A?fe(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var O=u.h;if(A)we(y,u.u);else if(A=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var ae=y.h.lastIndexOf("/");ae!=-1&&(O=y.h.slice(0,ae+1)+O)}if(ae=O,ae==".."||ae==".")O="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){O=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const me=[];for(let je=0;je<ae.length;){const At=ae[je++];At=="."?O&&je==ae.length&&me.push(""):At==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),O&&je==ae.length&&me.push("")):(me.push(At),O=!0)}O=me.join("/")}else O=ae}return A?y.h=O:A=u.i.toString()!=="",A?Ve(y,ba(u.i)):A=!!u.m,A&&(y.m=u.m),y};function ie(u){return new $(u)}function fe(u,y,A){u.j=A?Me(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function we(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Ve(u,y,A){y instanceof Xn?(u.i=y,wa(u.i,u.l)):(A||(y=Pe(y,jt)),u.i=new Xn(y,u.l))}function Le(u,y,A){u.i.set(y,A)}function ke(u){return Le(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Me(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pe(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Ge),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ge(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vt=/[#\/\?@]/g,Bn=/[#\?:]/g,_n=/[#\?]/g,jt=/[#\?@]/g,di=/#/g;function Xn(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ai(u){u.g||(u.g=new Map,u.h=0,u.i&&Bi(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Xn.prototype,r.add=function(u,y){ai(this),this.i=null,u=Ir(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function lr(u,y){ai(u),y=Ir(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function qa(u,y){return ai(u),y=Ir(u,y),u.g.has(y)}r.forEach=function(u,y){ai(this),this.g.forEach(function(A,O){A.forEach(function(ae){u.call(y,ae,O,this)},this)},this)};function Cr(u,y){ai(u);let A=[];if(typeof y=="string")qa(u,y)&&(A=A.concat(u.g.get(Ir(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ai(this),this.i=null,u=Ir(this,u),qa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Cr(this,u),u.length>0?String(u[0]):y):y};function Ga(u,y,A){lr(u,y),A.length>0&&(u.i=null,u.g.set(Ir(u,y),ne(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let O=0;O<y.length;O++){var A=y[O];const ae=Qe(A);A=Cr(this,A);for(let me=0;me<A.length;me++){let je=ae;A[me]!==""&&(je+="="+Qe(A[me])),u.push(je)}}return this.i=u.join("&")};function ba(u){const y=new Xn;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ir(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function wa(u,y){y&&!u.j&&(ai(u),u.i=null,u.g.forEach(function(A,O){const ae=O.toLowerCase();O!=ae&&(lr(this,O),Ga(this,ae,A))},u)),u.j=y}function ur(u,y){const A=new Mn;if(p.Image){const O=new Image;O.onload=x(cr,A,"TestLoadImage: loaded",!0,y,O),O.onerror=x(cr,A,"TestLoadImage: error",!1,y,O),O.onabort=x(cr,A,"TestLoadImage: abort",!1,y,O),O.ontimeout=x(cr,A,"TestLoadImage: timeout",!1,y,O),p.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else y(!1)}function Is(u,y){const A=new Mn,O=new AbortController,ae=setTimeout(()=>{O.abort(),cr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:O.signal}).then(me=>{clearTimeout(ae),me.ok?cr(A,"TestPingServer: ok",!0,y):cr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),cr(A,"TestPingServer: error",!1,y)})}function cr(u,y,A,O,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),O(A)}catch{}}function hr(){this.g=new K}function Zi(u){this.i=u.Sb||null,this.h=u.ab||!1}L(Zi,pe),Zi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,y){at.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(fr,at),r=fr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?dr(this):Si(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,dr(this))},r.Na=function(u){this.g&&(this.response=u,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Si(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mi(u){let y="";return de(u,function(A,O){y+=O,y+=":",y+=A,y+=`\r
`}),y}function Hr(u,y,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=mi(A),typeof u=="string"?A!=null&&Qe(A):Le(u,y,A))}function Nt(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(Nt,at);var qr=/^https?$/i,Fi=["POST","PUT"];r=Nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sr.g(),this.g.onreadystatechange=G(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(me){la(this,me);return}if(u=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ae in O)A.set(ae,O[ae]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const me of O.keys())A.set(me,O.get(me));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),ae=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Fi,y,void 0)>=0)||O||ae||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,je]of A)this.g.setRequestHeader(me,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(me){la(this,me)}};function la(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ea(u),xr(u)}function Ea(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,bt(this,"complete"),bt(this,"abort"),xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},r.Xa=function(){ua(this)};function ua(u){if(u.h&&typeof c<"u"){if(u.v&&Mr(u)==4)setTimeout(u.Ca.bind(u),0);else if(bt(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const me=u.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var O;if(O=me===0){let je=String(u.D).match(Ha)[1]||null;!je&&p.self&&p.self.location&&(je=p.self.location.protocol.slice(0,-1)),O=!qr.test(je?je.toLowerCase():"")}A=O}if(A)bt(u,"complete"),bt(u,"success");else{u.o=6;try{var ae=Mr(u)>2?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.ca()+"]",Ea(u)}}finally{xr(u)}}}}function xr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||bt(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Mr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function pi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(u){const y={};u=(u.g&&Mr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(I(u[O]))continue;var A=Fr(u[O]);const ae=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=y[ae]||[];y[ae]=me,me.push(A)}xe(y,function(O){return O.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ta(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,u),this.Za=Gr("retryDelaySeedMs",1e4,u),this.Ta=Gr("forwardChannelMaxRetries",2,u),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new sa(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ta.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,O){Bt(0),this.W=u,this.H=y||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.J=Zo(this,null,this.W),er(this)};function Ao(u){if(Ya(u),u.I==3){var y=u.V++,A=ie(u.J);if(Le(A,"SID",u.M),Le(A,"RID",y),Le(A,"TYPE","terminate"),Qa(u,A),y=new Pi(u,u.j,y),y.M=2,y.A=ke(ie(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=el(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ui(y)}Ns(u)}function Nr(u){u.g&&(tr(u),u.g.cancel(),u.g=null)}function Ya(u){Nr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function er(u){if(!Ti(u.h)&&!u.m){u.m=!0;var y=u.Ea;ht||U(),ot||(ht(),ot=!0),F.add(y,u),u.D=0}}function Xa(u,y){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Vn(E(u.Ea,u,y),Ms(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ae=new Pi(this,this.j,u);let me=this.o;if(this.U&&(me?(me=P(me),Se(me,this.U)):me=this.U),this.u!==null||this.R||(ae.J=me,me=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=$o(this,ae,y),A=ie(this.J),Le(A,"RID",u),Le(A,"CVER",22),this.G&&Le(A,"X-HTTP-Session-Id",this.G),Qa(this,A),me&&(this.R?y="headers="+Qe(mi(me))+"&"+y:this.u&&Hr(A,this.u,me)),va(this.h,ae),this.Ra&&Le(A,"TYPE","init"),this.S?(Le(A,"$req",y),Le(A,"SID","null"),ae.U=!0,Li(ae,A,null)):Li(ae,A,y),this.I=2}}else this.I==3&&(u?xs(this,u):this.i.length==0||Ti(this.h)||xs(this))};function xs(u,y){var A;y?A=y.l:A=u.V++;const O=ie(u.J);Le(O,"SID",u.M),Le(O,"RID",A),Le(O,"AID",u.K),Qa(u,O),u.u&&u.o&&Hr(O,u.u,u.o),A=new Pi(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=$o(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),va(u.h,A),Li(A,O,y)}function Qa(u,y){u.H&&de(u.H,function(A,O){Le(y,O,A)}),u.l&&de({},function(A,O){Le(y,O,A)})}function $o(u,y,A){A=Math.min(u.i.length,A);const O=u.l?E(u.l.Ka,u.l,u):null;e:{var ae=u.i;let At=-1;for(;;){const Qn=["count="+A];At==-1?A>0?(At=ae[0].g,Qn.push("ofs="+At)):At=0:Qn.push("ofs="+At);let an=!0;for(let Nn=0;Nn<A;Nn++){var me=ae[Nn].g;const Hi=ae[Nn].map;if(me-=At,me<0)At=Math.max(0,ae[Nn].g-100),an=!1;else try{me="req"+me+"_"||"";try{var je=Hi instanceof Map?Hi:Object.entries(Hi);for(const[pr,gr]of je){let nr=gr;b(gr)&&(nr=v(gr)),Qn.push(me+pr+"="+encodeURIComponent(nr))}}catch(pr){throw Qn.push(me+"type="+encodeURIComponent("_badmap")),pr}}catch{O&&O(Hi)}}if(an){je=Qn.join("&");break e}}je=void 0}return u=u.i.splice(0,A),y.G=u,je}function Zn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ht||U(),ot||(ht(),ot=!0),F.add(y,u),u.A=0}}function Aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Vn(E(u.Da,u),Ms(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Vn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Nr(this),Jo(this))};function tr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new Pi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=ie(u.na);Le(y,"RID","rpc"),Le(y,"SID",u.M),Le(y,"AID",u.K),Le(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Le(y,"TO",u.ia),Le(y,"TYPE","xmlhttp"),Qa(u,y),u.u&&u.o&&Hr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=ke(ie(y)),A.u=null,A.R=!0,or(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),Aa(this),Bt(19))};function ca(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Wa(u,y){var A=null;if(u.g==y){ca(u),tr(u),u.g=null;var O=2}else if(Yn(u.h,y))A=y.G,Rr(u.h,y),O=1;else return;if(u.I!=0){if(y.o)if(O==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ae=u.D;O=In(),bt(O,new xn(O,A)),er(u)}else Zn(u);else if(ae=y.m,ae==3||ae==0&&y.X>0||!(O==1&&Xa(u,y)||O==2&&Aa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ae){case 1:Dr(u,5);break;case 4:Dr(u,10);break;case 3:Dr(u,6);break;default:Dr(u,2)}}}function Ms(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Dr(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),O=u.Ua;const ae=!O;O=new $(O||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||fe(O,"https"),ke(O),ae?ur(O.toString(),A):Is(O.toString(),A)}else Bt(2);u.I=0,u.l&&u.l.pa(y),Ns(u),Ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ns(u){if(u.I=0,u.ja=[],u.l){const y=_a(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,ne(u.i),u.i.length=0),u.l.oa()}}function Zo(u,y,A){var O=A instanceof $?ie(A):new $(A);if(O.g!="")y&&(O.g=y+"."+O.g),we(O,O.u);else{var ae=p.location;O=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;const me=new $(null);O&&fe(me,O),y&&(me.g=y),ae&&we(me,ae),A&&(me.h=A),O=me}return A=u.G,y=u.wa,A&&y&&Le(O,A,y),Le(O,"VER",u.ka),Qa(u,O),O}function el(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Nt(new Zi({ab:A})):new Nt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ds(){}r=Ds.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sa(){}Sa.prototype.g=function(u,y){return new Ri(u,y)};function Ri(u,y){at.call(this),this.g=new Ta(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ha(this)}L(Ri,at),Ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ri.prototype.close=function(){Ao(this.g)},Ri.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new kn(y.Ya++,u)),y.I==3&&er(y)},Ri.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Ri.Z.N.call(this)};function So(u){tt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(So,tt);function tl(){Xe.call(this),this.status=1}L(tl,Xe);function ha(u){this.g=u}L(ha,Ds),ha.prototype.ra=function(){bt(this.g,"a")},ha.prototype.qa=function(u){bt(this.g,new So(u))},ha.prototype.pa=function(u){bt(this.g,new tl)},ha.prototype.oa=function(){bt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Ri.prototype.send=Ri.prototype.o,Ri.prototype.open=Ri.prototype.m,Ri.prototype.close=Ri.prototype.close,Gb=function(){return new Sa},qb=function(){return In()},Hb=nt,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Ih=$i,Ba.COMPLETE="complete",Fb=Ba,Ae.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",at.prototype.listen=at.prototype.J,ju=Ae,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,Bb=Nt}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",F_="4.9.2";class Xi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let Kl="12.3.0";const Go=new rp("@firebase/firestore");function xl(){return Go.logLevel}function rt(r,...e){if(Go.logLevel<=Wt.DEBUG){const i=e.map(pp);Go.debug(`Firestore (${Kl}): ${r}`,...i)}}function As(r,...e){if(Go.logLevel<=Wt.ERROR){const i=e.map(pp);Go.error(`Firestore (${Kl}): ${r}`,...i)}}function Bl(r,...e){if(Go.logLevel<=Wt.WARN){const i=e.map(pp);Go.warn(`Firestore (${Kl}): ${r}`,...i)}}function pp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function wt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Yb(r,s,i)}function Yb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw As(s),new Error(s)}function vn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Yb(e,l,s)}function xt(r,e){return r}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class po{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Xb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xi.UNAUTHENTICATED)))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class DR{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){vn(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new po;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new po,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new po)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vn(typeof s.accessToken=="string",31837,{l:s}),new Xb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new Xi(e)}}class OR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,na(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){vn(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(vn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new H_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=PR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Kt(r,e){return r<e?-1:r>e?1:0}function Fm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Sm(l)===Sm(c)?Kt(l,c):Sm(l)?1:-1}return Kt(r.length,e.length)}const LR=55296,UR=57343;function Sm(r){const e=r.charCodeAt(0);return e>=LR&&e<=UR}function Fl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const q_="__name__";class Oa{constructor(e,i,s){i===void 0?i=0:i>e.length&&wt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&wt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Oa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Kt(e.length,i.length)}static compareSegments(e,i){const s=Oa.isNumericId(e),l=Oa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Oa.extractNumericId(e).compare(Oa.extractNumericId(i)):Fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class Dn extends Oa{construct(e,i,s){return new Dn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new et(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Dn(i)}static emptyPath(){return new Dn([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends Oa{construct(e,i,s){return new Oi(e,i,s)}static isValidIdentifier(e){return jR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new Oi([q_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new et(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new et(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new et(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(i)}static emptyPath(){return new Oi([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Dn.fromString(e))}static fromName(e){return new pt(Dn.fromString(e).popFirst(5))}static empty(){return new pt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Dn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Dn(e.slice()))}}function Qb(r,e,i){if(!i)throw new et(Te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zR(r,e,i,s){if(e===!0&&s===!0)throw new et(Te.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function G_(r){if(!pt.isDocumentKey(r))throw new et(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y_(r){if(pt.isDocumentKey(r))throw new et(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function Fh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new et(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=sf(r);throw new et(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function BR(r,e){if(e<=0)throw new et(Te.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function fi(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Wb(r))throw new et(Te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new et(Te.INVALID_ARGUMENT,i);return!0}const X_=-62135596800,Q_=1e6;class jn{static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Q_);return new jn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new et(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<X_)throw new et(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,jn._jsonSchema))return new jn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jn._jsonSchemaVersion="firestore/timestamp/1.0",jn._jsonSchema={type:fi("string",jn._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new jn(0,0))}static max(){return new Rt(new jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function FR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new jn(i+1,0):new jn(i,s));return new yo(l,pt.empty(),e)}function HR(r){return new yo(r.readTime,r.key,Ku)}class yo{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new yo(Rt.min(),pt.empty(),Ku)}static max(){return new yo(Rt.max(),pt.empty(),Ku)}}function qR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Kt(r.largestBatchId,e.largestBatchId))}const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $l(r){if(r.code!==Te.FAILED_PRECONDITION||r.message!==GR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ce(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Ce?i:Ce.resolve(i)}catch(i){return Ce.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Ce.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Ce.reject(i)}static resolve(e){return new Ce(((i,s)=>{i(e)}))}static reject(e){return new Ce(((i,s)=>{s(e)}))}static waitFor(e){return new Ce(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Ce.resolve(!1);for(const s of e)i=i.next((l=>l?Ce.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Ce(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((x=>{p[E]=x,++b,b===c&&s(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Ce(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function XR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(r){return r.name==="IndexedDbTransactionError"}class of{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}of.ce=-1;const yp=-1;function lf(r){return r==null}function Hh(r){return r===0&&1/r==-1/0}function QR(r){return typeof r=="number"&&Number.isInteger(r)&&!Hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Kb="";function WR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=W_(e)),e=KR(r.get(i),e);return W_(e)}function KR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Kb:i+="";break;default:i+=c}}return i}function W_(r){return r+Kb+""}function K_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function $b(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Wn{constructor(e,i){this.comparator=e,this.root=i||Di.EMPTY}insert(e,i){return new Wn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new Wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Di.RED,this.left=l??Di.EMPTY,this.right=c??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Di(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Di.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Di(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(e){this.comparator=e,this.data=new Wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new yi(this.comparator);return i.data=e,i}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ga{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new ga([])}unionWith(e){let i=new yi(Oi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ga(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jb("Invalid base64 string: "+c):c}})(e);return new Vi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Vi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(r){if(vn(!!r,39018),typeof r=="string"){let e=0;const i=$R.exec(r);if(vn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ii(r.seconds),nanos:ii(r.nanos)}}function ii(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _o(r){return typeof r=="string"?Vi.fromBase64String(r):Vi.fromUint8Array(r)}const Zb="server_timestamp",ew="__type__",tw="__previous_value__",nw="__local_write_time__";function vp(r){return(r?.mapValue?.fields||{})[ew]?.stringValue===Zb}function uf(r){const e=r.mapValue.fields[tw];return vp(e)?uf(e):e}function $u(r){const e=vo(r.mapValue.fields[nw].timestampValue);return new jn(e.seconds,e.nanos)}class JR{constructor(e,i,s,l,c,p,b,w,E,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=x}}const qh="(default)";class Ju{constructor(e,i){this.projectId=e,this.database=i||qh}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}const iw="__type__",ZR="__max__",vh={mapValue:{}},rw="__vector__",Gh="value";function bo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:tC(r)?9007199254740991:eC(r)?10:11:wt(28295,{value:r})}function za(r,e){if(r===e)return!0;const i=bo(r);if(i!==bo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $u(r).isEqual($u(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=vo(l.timestampValue),b=vo(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return _o(l.bytesValue).isEqual(_o(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ii(l.geoPointValue.latitude)===ii(c.geoPointValue.latitude)&&ii(l.geoPointValue.longitude)===ii(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ii(l.integerValue)===ii(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ii(l.doubleValue),b=ii(c.doubleValue);return p===b?Hh(p)===Hh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Fl(r.arrayValue.values||[],e.arrayValue.values||[],za);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(K_(p)!==K_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!za(p[w],b[w])))return!1;return!0})(r,e);default:return wt(52216,{left:r})}}function Zu(r,e){return(r.values||[]).find((i=>za(i,e)))!==void 0}function Hl(r,e){if(r===e)return 0;const i=bo(r),s=bo(e);if(i!==s)return Kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ii(c.integerValue||c.doubleValue),w=ii(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return J_(r.timestampValue,e.timestampValue);case 4:return J_($u(r),$u(e));case 5:return Fm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=_o(c),w=_o(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const x=Kt(b[E],w[E]);if(x!==0)return x}return Kt(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Kt(ii(c.latitude),ii(p.latitude));return b!==0?b:Kt(ii(c.longitude),ii(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Z_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Gh]?.arrayValue,x=w[Gh]?.arrayValue,L=Kt(E?.values?.length||0,x?.values?.length||0);return L!==0?L:Z_(E,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===vh.mapValue&&p===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(p===vh.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},x=Object.keys(E);w.sort(),x.sort();for(let L=0;L<w.length&&L<x.length;++L){const G=Fm(w[L],x[L]);if(G!==0)return G;const ne=Hl(b[w[L]],E[x[L]]);if(ne!==0)return ne}return Kt(w.length,x.length)})(r.mapValue,e.mapValue);default:throw wt(23264,{he:i})}}function J_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Kt(r,e);const i=vo(r),s=vo(e),l=Kt(i.seconds,s.seconds);return l!==0?l:Kt(i.nanos,s.nanos)}function Z_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Hl(i[l],s[l]);if(c)return c}return Kt(i.length,s.length)}function ql(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=vo(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _o(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Hm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Hm(i.fields[p])}`;return l+"}"})(r.mapValue):wt(61005,{value:r})}function xh(r){switch(bo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(r);return e?16+xh(e):16;case 5:return 2*r.stringValue.length;case 6:return _o(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+xh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xo(s.fields,((c,p)=>{l+=c.length+xh(p)})),l})(r.mapValue);default:throw wt(13486,{value:r})}}function e0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function t0(r){return!!r&&"nullValue"in r}function n0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function eC(r){return(r?.mapValue?.fields||{})[iw]?.stringValue===rw}function qu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=qu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=qu(r.arrayValue.values[i]);return e}return{...r}}function tC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}class ia{constructor(e){this.value=e}static empty(){return new ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Mh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(i)}setAll(e){let i=Oi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=qu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Mh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Mh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Xo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new ia(qu(this.value))}}function aw(r){const e=[];return Xo(r.fields,((i,s)=>{const l=new Oi([i]);if(Mh(s)){const c=aw(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ga(e)}class Qi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Qi(e,0,Rt.min(),Rt.min(),Rt.min(),ia.empty(),0)}static newFoundDocument(e,i,s,l){return new Qi(e,1,i,Rt.min(),s,l,0)}static newNoDocument(e,i){return new Qi(e,2,i,Rt.min(),Rt.min(),ia.empty(),0)}static newUnknownDocument(e,i){return new Qi(e,3,i,Rt.min(),Rt.min(),ia.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yh{constructor(e,i){this.position=e,this.inclusive=i}}function i0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(p.referenceValue),i.key):s=Hl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function r0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!za(r.position[i],e.position[i]))return!1;return!0}class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function nC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sw{}class hi extends sw{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new rC(e,i,s):i==="array-contains"?new oC(e,s):i==="in"?new lC(e,s):i==="not-in"?new uC(e,s):i==="array-contains-any"?new cC(e,s):new hi(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new aC(e,s):new sC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hl(i,this.value)):i!==null&&bo(this.value)===bo(i)&&this.matchesComparison(Hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ya extends sw{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ya(e,i)}matches(e){return ow(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ow(r){return r.op==="and"}function lw(r){return iC(r)&&ow(r)}function iC(r){for(const e of r.filters)if(e instanceof ya)return!1;return!0}function Gm(r){if(r instanceof hi)return r.field.canonicalString()+r.op.toString()+ql(r.value);if(lw(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((i=>Gm(i))).join(",");return`${r.op}(${e})`}}function uw(r,e){return r instanceof hi?(function(s,l){return l instanceof hi&&s.op===l.op&&s.field.isEqual(l.field)&&za(s.value,l.value)})(r,e):r instanceof ya?(function(s,l){return l instanceof ya&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&uw(p,l.filters[b])),!0):!1})(r,e):void wt(19439)}function cw(r){return r instanceof hi?(function(i){return`${i.field.canonicalString()} ${i.op} ${ql(i.value)}`})(r):r instanceof ya?(function(i){return i.op.toString()+" {"+i.getFilters().map(cw).join(" ,")+"}"})(r):"Filter"}class rC extends hi{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class aC extends hi{constructor(e,i){super(e,"in",i),this.keys=hw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class sC extends hi{constructor(e,i){super(e,"not-in",i),this.keys=hw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hw(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class oC extends hi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return _p(i)&&Zu(i.arrayValue,this.value)}}class lC extends hi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zu(this.value.arrayValue,i)}}class uC extends hi{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zu(this.value.arrayValue,i)}}class cC extends hi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!_p(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zu(this.value.arrayValue,s)))}}class hC{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function a0(r,e=null,i=[],s=[],l=null,c=null,p=null){return new hC(r,e,i,s,l,c,p)}function bp(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Gm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),lf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ql(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ql(s))).join(",")),e.Te=i}return e.Te}function wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nC(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!uw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r0(r.startAt,e.startAt)&&r0(r.endAt,e.endAt)}function Ym(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zl{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fC(r,e,i,s,l,c,p,b){return new Zl(r,e,i,s,l,c,p,b)}function fw(r){return new Zl(r)}function s0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dw(r){return r.collectionGroup!==null}function Gu(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new yi(Oi.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,s))})),i.has(Oi.keyField().canonicalString())||e.Ie.push(new ec(Oi.keyField(),s))}return e.Ie}function Pa(r){const e=xt(r);return e.Ee||(e.Ee=dC(e,Gu(r))),e.Ee}function dC(r,e){if(r.limitType==="F")return a0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const i=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return a0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Xm(r,e){const i=r.filters.concat([e]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Xh(r,e,i){return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function cf(r,e){return wp(Pa(r),Pa(e))&&r.limitType===e.limitType}function mw(r){return`${bp(Pa(r))}|lt:${r.limitType}`}function Ml(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>cw(l))).join(", ")}]`),lf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ql(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ql(l))).join(",")),`Target(${s})`})(Pa(r))}; limitType=${r.limitType})`}function hf(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Gu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=i0(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Gu(s),l)||s.endAt&&!(function(p,b,w){const E=i0(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Gu(s),l))})(r,e)}function mC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pw(r){return(e,i)=>{let s=!1;for(const l of Gu(r)){const c=pC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function pC(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Hl(w,E):wt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}class Qo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return $b(this.inner)}size(){return this.innerSize}}const gC=new Wn(pt.comparator);function Ss(){return gC}const gw=new Wn(pt.comparator);function zu(...r){let e=gw;for(const i of r)e=e.insert(i.key,i);return e}function yw(r){let e=gw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Bo(){return Yu()}function vw(){return Yu()}function Yu(){return new Qo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const yC=new Wn(pt.comparator),vC=new yi(pt.comparator);function $t(...r){let e=vC;for(const i of r)e=e.add(i);return e}const _C=new yi(Kt);function bC(){return _C}function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function _w(r){return{integerValue:""+r}}function wC(r,e){return QR(e)?_w(e):Ep(r,e)}class ff{constructor(){this._=void 0}}function EC(r,e,i){return r instanceof Qh?(function(l,c){const p={fields:{[ew]:{stringValue:Zb},[nw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vp(c)&&(c=uf(c)),c&&(p.fields[tw]=c),{mapValue:p}})(i,e):r instanceof tc?ww(r,e):r instanceof nc?Ew(r,e):(function(l,c){const p=bw(l,c),b=o0(p)+o0(l.Ae);return qm(p)&&qm(l.Ae)?_w(b):Ep(l.serializer,b)})(r,e)}function TC(r,e,i){return r instanceof tc?ww(r,e):r instanceof nc?Ew(r,e):i}function bw(r,e){return r instanceof Wh?(function(s){return qm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Qh extends ff{}class tc extends ff{constructor(e){super(),this.elements=e}}function ww(r,e){const i=Tw(e);for(const s of r.elements)i.some((l=>za(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends ff{constructor(e){super(),this.elements=e}}function Ew(r,e){let i=Tw(e);for(const s of r.elements)i=i.filter((l=>!za(l,s)));return{arrayValue:{values:i}}}class Wh extends ff{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function o0(r){return ii(r.integerValue||r.doubleValue)}function Tw(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function AC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Fl(s.elements,l.elements,za):s instanceof Wh&&l instanceof Wh?za(s.Ae,l.Ae):s instanceof Qh&&l instanceof Qh})(r.transform,e.transform)}class SC{constructor(e,i){this.version=e,this.transformResults=i}}class _s{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class df{}function Aw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rw(r.key,_s.none()):new hc(r.key,r.data,_s.none());{const i=r.data,s=ia.empty();let l=new yi(Oi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Wo(r.key,s,new ga(l.toArray()),_s.none())}}function RC(r,e,i){r instanceof hc?(function(l,c,p){const b=l.value.clone(),w=u0(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Wo?(function(l,c,p){if(!Nh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=u0(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(Sw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Xu(r,e,i,s){return r instanceof hc?(function(c,p,b,w){if(!Nh(c.precondition,p))return b;const E=c.value.clone(),x=c0(c.fieldTransforms,w,p);return E.setAll(x),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Wo?(function(c,p,b,w){if(!Nh(c.precondition,p))return b;const E=c0(c.fieldTransforms,w,p),x=p.data;return x.setAll(Sw(c)),x.setAll(E),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,s):(function(c,p,b){return Nh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function CC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=bw(s.transform,l||null);c!=null&&(i===null&&(i=ia.empty()),i.set(s.field,c))}return i||null}function l0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fl(s,l,((c,p)=>AC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hc extends df{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wo extends df{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Sw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function u0(r,e,i){const s=new Map;vn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,TC(p,b,i[l]))}return s}function c0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,EC(c,p,e))}return s}class Rw extends df{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends df{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&RC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=vw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=Aw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$t())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((i,s)=>l0(i,s)))&&Fl(this.baseMutations,e.baseMutations,((i,s)=>l0(i,s)))}}class Tp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){vn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return yC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Tp(e,i,s,l)}}class MC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NC{constructor(e,i){this.count=e,this.unchangedNames=i}}var ci,nn;function DC(r){switch(r){case Te.OK:return wt(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function Cw(r){if(r===void 0)return As("GRPC error has no .code"),Te.UNKNOWN;switch(r){case ci.OK:return Te.OK;case ci.CANCELLED:return Te.CANCELLED;case ci.UNKNOWN:return Te.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Te.INTERNAL;case ci.UNAVAILABLE:return Te.UNAVAILABLE;case ci.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case ci.NOT_FOUND:return Te.NOT_FOUND;case ci.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case ci.ABORTED:return Te.ABORTED;case ci.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case ci.DATA_LOSS:return Te.DATA_LOSS;default:return wt(39323,{code:r})}}(nn=ci||(ci={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";function OC(){return new TextEncoder}const VC=new mo([4294967295,4294967295],0);function h0(r){const e=OC().encode(r),i=new zb;return i.update(e),new Uint8Array(i.digest())}function f0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mo([i,s],0),new mo([l,c],0)]}class Ap{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bu(`Invalid padding: ${i}`);if(s<0)throw new Bu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mo.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(mo.fromNumber(s)));return l.compare(VC)===1&&(l=new mo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=h0(e),[s,l]=f0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Ap(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=h0(e),[s,l]=f0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new mf(Rt.min(),l,new Wn(Kt),Ss(),$t())}}class fc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fc(s,i,$t(),$t(),$t())}}class Dh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Iw{constructor(e,i){this.targetId=e,this.Ce=i}}class xw{constructor(e,i,s=Vi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=Vi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$t(),i=$t(),s=$t();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:wt(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=m0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=_h(),this.He=_h(),this.Ye=new Wn(Kt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Ym(c))if(s===0){const p=new pt(c.path);this.et(i,p,Qi.newNoDocument(p,Rt.min()))}else vn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=_o(s).toUint8Array()}catch(w){if(w instanceof Jb)return Bl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new Ap(p,l,c)}catch(w){return Bl(w instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Ym(b.target)){const w=new pt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Qi.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=$t();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new mf(e,i,this.Ye,this.je,s);return this.je=Ss(),this.Je=_h(),this.He=_h(),this.Ye=new Wn(Kt),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new d0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new yi(Kt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new yi(Kt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function _h(){return new Wn(pt.comparator)}function m0(){return new Wn(pt.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},LC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class jC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qm(r,e){return r.useProto3Json||lf(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zC(r,e){return Kh(r,e.toTimestamp())}function La(r){return vn(!!r,49232),Rt.fromTimestamp((function(i){const s=vo(i);return new jn(s.seconds,s.nanos)})(r))}function Sp(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const i=(function(l){return new Dn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Nw(r){const e=Dn.fromString(r);return vn(Pw(e),10190,{key:e.toString()}),e}function Km(r,e){return Sp(r.databaseId,e.path)}function Rm(r,e){const i=Nw(e);if(i.get(1)!==r.databaseId.projectId)throw new et(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new et(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(Ow(i))}function Dw(r,e){return Sp(r.databaseId,e)}function BC(r){const e=Nw(r);return e.length===4?Dn.emptyPath():Ow(e)}function $m(r){return new Dn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ow(r){return vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function p0(r,e,i){return{name:Km(r,e),fields:i.value.mapValue.fields}}function FC(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:wt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,x){return E.useProto3Json?(vn(x===void 0||typeof x=="string",58123),Vi.fromBase64String(x||"")):(vn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vi.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const x=E.code===void 0?Te.UNKNOWN:Cw(E.code);return new et(x,E.message||"")})(p);i=new xw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Rm(r,s.document.name),c=La(s.document.updateTime),p=s.document.createTime?La(s.document.createTime):Rt.min(),b=new ia({mapValue:{fields:s.document.fields}}),w=Qi.newFoundDocument(l,c,p,b),E=s.targetIds||[],x=s.removedTargetIds||[];i=new Dh(E,x,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Rm(r,s.document),c=s.readTime?La(s.readTime):Rt.min(),p=Qi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Dh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Rm(r,s.document),c=s.removedTargetIds||[];i=new Dh([],c,l,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new NC(l,c),b=s.targetId;i=new Iw(b,p)}}return i}function HC(r,e){let i;if(e instanceof hc)i={update:p0(r,e.key,e.value)};else if(e instanceof Rw)i={delete:Km(r,e.key)};else if(e instanceof Wo)i={update:p0(r,e.key,e.data),updateMask:JC(e.fieldMask)};else{if(!(e instanceof IC))return wt(16599,{Vt:e.type});i={verify:Km(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Qh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Wh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw wt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(r,e.precondition)),i}function qC(r,e){return r&&r.length>0?(vn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?La(l.updateTime):La(c);return p.isEqual(Rt.min())&&(p=La(c)),new SC(p,l.transformResults||[])})(i,e)))):[]}function GC(r,e){return{documents:[Dw(r,e.path)]}}function YC(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Dw(r,l);const c=(function(E){if(E.length!==0)return kw(ya.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((x=>(function(G){return{field:Nl(G.field),direction:WC(G.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Qm(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function XC(r){let e=BC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){vn(s===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(L){const G=Vw(L);return G instanceof ya&&lw(G)?G.getFilters():[G]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((G=>(function(z){return new ec(Dl(z.field),(function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(G)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let G;return G=typeof L=="object"?L.value:L,lf(G)?null:G})(i.limit));let w=null;i.startAt&&(w=(function(L){const G=!!L.before,ne=L.values||[];return new Yh(ne,G)})(i.startAt));let E=null;return i.endAt&&(E=(function(L){const G=!L.before,ne=L.values||[];return new Yh(ne,G)})(i.endAt)),fC(e,l,p,c,b,"F",w,E)}function QC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Dl(i.unaryFilter.field);return hi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Dl(i.unaryFilter.field);return hi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return hi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Dl(i.unaryFilter.field);return hi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return hi.create(Dl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ya.create(i.compositeFilter.filters.map((s=>Vw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(i.compositeFilter.op))})(r):wt(30097,{filter:r})}function WC(r){return PC[r]}function KC(r){return LC[r]}function $C(r){return UC[r]}function Nl(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Oi.fromServerFormat(r.fieldPath)}function kw(r){return r instanceof hi?(function(i){if(i.op==="=="){if(n0(i.value))return{unaryFilter:{field:Nl(i.field),op:"IS_NAN"}};if(t0(i.value))return{unaryFilter:{field:Nl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(n0(i.value))return{unaryFilter:{field:Nl(i.field),op:"IS_NOT_NAN"}};if(t0(i.value))return{unaryFilter:{field:Nl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(i.field),op:KC(i.op),value:i.value}}})(r):r instanceof ya?(function(i){const s=i.getFilters().map((l=>kw(l)));return s.length===1?s[0]:{compositeFilter:{op:$C(i.op),filters:s}}})(r):wt(54877,{filter:r})}function JC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Pw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class uo{constructor(e,i,s,l,c=Rt.min(),p=Rt.min(),b=Vi.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZC{constructor(e){this.yt=e}}function eI(r){const e=XC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xh(e,e.limit,"L"):e}class tI{constructor(){this.Cn=new nI}addToCollectionParentIndex(e,i){return this.Cn.add(i),Ce.resolve()}getCollectionParents(e,i){return Ce.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Ce.resolve()}deleteFieldIndex(e,i){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,i){return Ce.resolve()}getDocumentsMatchingTarget(e,i){return Ce.resolve(null)}getIndexType(e,i){return Ce.resolve(0)}getFieldIndexes(e,i){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,i){return Ce.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,i){return Ce.resolve(yo.min())}updateCollectionGroup(e,i,s){return Ce.resolve()}updateIndexEntries(e,i){return Ce.resolve()}}class nI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new yi(Dn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new yi(Dn.comparator)).toArray()}}const g0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lw=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(Lw,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}const y0="LruGarbageCollector",iI=1048576;function v0([r,e],[i,s]){const l=Kt(r,i);return l===0?Kt(e,s):l}class rI{constructor(e){this.Ir=e,this.buffer=new yi(v0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();v0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jl(i)?rt(y0,"Ignoring IndexedDB error during garbage collection: ",i):await $l(i)}await this.Vr(3e5)}))}}class sI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Ce.resolve(of.ce);const s=new rI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(g0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(s=L,b=Date.now(),this.removeTargets(e,s,i)))).next((L=>(c=L,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((L=>(E=Date.now(),xl()<=Wt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${L} documents in `+(E-w)+`ms
Total Duration: ${E-x}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function oI(r,e){return new sI(r,e)}class lI{constructor(){this.changes=new Qo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Ce.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class cI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Xu(s.mutation,l,ga.empty(),jn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,$t()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=$t()){const l=Bo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=zu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=Bo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,$t())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ss();const p=Yu(),b=(function(){return Yu()})();return i.forEach(((w,E)=>{const x=s.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof Wo)?c=c.insert(E.key,E):x!==void 0?(p.set(E.key,x.mutation.getFieldMask()),Xu(x.mutation,E,x.mutation.getFieldMask(),jn.now())):p.set(E.key,ga.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,x)=>p.set(E,x))),i.forEach(((E,x)=>b.set(E,new uI(x,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Yu();let l=new Wn(((p,b)=>p-b)),c=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let x=s.get(w)||ga.empty();x=b.applyToLocalView(E,x),s.set(w,x);const L=(l.get(b.batchId)||$t()).add(w);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,x=w.value,L=vw();x.forEach((G=>{if(!c.has(G)){const ne=Aw(i.get(G),s.get(G));ne!==null&&L.set(G,ne),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return Ce.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return pt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Ce.resolve(Bo());let b=Ku,w=c;return p.next((E=>Ce.forEach(E,((x,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(x)?Ce.resolve():this.remoteDocumentCache.getEntry(e,x).next((G=>{w=w.insert(x,G)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,$t()))).next((x=>({batchId:b,changes:yw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let l=zu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=zu();return this.indexManager.getCollectionParents(e,c).next((b=>Ce.forEach(b,(w=>{const E=(function(L,G){return new Zl(G,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((x=>{x.forEach(((L,G)=>{p=p.insert(L,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const x=E.getKey();p.get(x)===null&&(p=p.insert(x,Qi.newInvalidDocument(x)))}));let b=zu();return p.forEach(((w,E)=>{const x=c.get(w);x!==void 0&&Xu(x.mutation,E,ga.empty(),jn.now()),hf(i,E)&&(b=b.insert(w,E))})),b}))}}class hI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Ce.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:La(l.createTime)}})(i)),Ce.resolve()}getNamedQuery(e,i){return Ce.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:eI(l.bundledQuery),readTime:La(l.readTime)}})(i)),Ce.resolve()}}class fI{constructor(){this.overlays=new Wn(pt.comparator),this.qr=new Map}getOverlay(e,i){return Ce.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Bo();return Ce.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Ce.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ce.resolve()}getOverlaysForCollection(e,i,s){const l=Bo(),c=i.length+1,p=new pt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Ce.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Wn(((E,x)=>E-x));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let x=c.get(E.largestBatchId);x===null&&(x=Bo(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const b=Bo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,x)=>b.set(E,x))),!(b.size()>=l)););return Ce.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new MC(i,s));let c=this.qr.get(i);c===void 0&&(c=$t(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class dI{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Ce.resolve()}}class Rp{constructor(){this.Qr=new yi(_i.$r),this.Ur=new yi(_i.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new _i(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new _i(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new Dn([])),s=new _i(i,e),l=new _i(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new Dn([])),s=new _i(i,e),l=new _i(i,e+1);let c=$t();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new _i(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class _i{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Kt(e.Yr,i.Yr)}static Kr(e,i){return Kt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}class mI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new yi(_i.$r)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new xC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new _i(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ce.resolve(p)}lookupMutationBatch(e,i){return Ce.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?yp:this.tr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new _i(i,0),l=new _i(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new yi(Kt);return i.forEach((l=>{const c=new _i(l,0),p=new _i(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Ce.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const p=new _i(new pt(c),0);let b=new yi(Kt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Ce.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){vn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ce.forEach(i.mutations,(l=>{const c=new _i(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new _i(i,0),l=this.Zr.firstAfterOrEqual(s);return Ce.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pI{constructor(e){this.ri=e,this.docs=(function(){return new Wn(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Ce.resolve(s?s.document.mutableCopy():Qi.newInvalidDocument(i))}getEntries(e,i){let s=Ss();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qi.newInvalidDocument(l))})),Ce.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ss();const p=i.path,b=new pt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:x}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||qR(HR(x),s)<=0||(l.has(x.key)||hf(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Ce.resolve(c)}getAllFromCollectionGroup(e,i,s,l){wt(9500)}ii(e,i){return Ce.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new gI(this)}getSize(e){return Ce.resolve(this.size)}}class gI extends lI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ce.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class yI{constructor(e){this.persistence=e,this.si=new Qo((i=>bp(i)),wp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Ce.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Gl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Ce.resolve()}updateTargetData(e,i){return this.Pr(i),Ce.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ce.waitFor(c).next((()=>l))}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Ce.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Ce.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ce.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Ce.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Ce.resolve(s)}containsKey(e,i){return Ce.resolve(this._i.containsKey(i))}}class Uw{constructor(e,i){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new dI,this.referenceDelegate=e(this),this.Pi=new yI(this),this.indexManager=new tI,this.remoteDocumentCache=(function(l){return new pI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZC(i),this.Ii=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new mI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const l=new vI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Ce.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class vI extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class Cp{constructor(e){this.persistence=e,this.Ri=new Rp,this.Vi=null}static mi(e){return new Cp(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Ce.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Ce.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Ce.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,(s=>{const l=pt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class $h{constructor(e,i){this.persistence=e,this.pi=new Qo((s=>WR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=oI(this,i)}static mi(e,i){return new $h(e,i)}Ei(){}di(e){return Ce.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Ce.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Ce.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,Rt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ce.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Ce.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xh(e.data.value)),i}br(e,i,s){return Ce.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Ce.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ip{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=$t(),l=$t();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ip(e,i.fromCache,s,l)}}class _I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lA()?8:XR(Wi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new _I;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(xl()<=Wt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ml(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(xl()<=Wt.DEBUG&&rt("QueryEngine","Query:",Ml(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(xl()<=Wt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ml(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pa(i))):Ce.resolve())}ys(e,i){if(s0(i))return Ce.resolve(null);let s=Pa(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xh(i,null,"F"),s=Pa(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=$t(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Xh(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return s0(i)||l.isEqual(Rt.min())?Ce.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Ce.resolve(null):(xl()<=Wt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(i)),this.vs(e,p,i,FR(l,Ku)).next((b=>b)))}))}Ds(e,i){let s=new yi(pw(e));return i.forEach(((l,c)=>{hf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return xl()<=Wt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ml(i)),this.ps.getDocumentsMatchingQuery(e,i,yo.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const xp="LocalStore",wI=3e8;class EI{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Wn(Kt),this.xs=new Qo((c=>bp(c)),wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function TI(r,e,i,s){return new EI(r,e,i,s)}async function jw(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=$t();for(const E of l){p.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}for(const E of c){b.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function AI(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,x){const L=E.batch,G=L.keys();let ne=Ce.resolve();return G.forEach((z=>{ne=ne.next((()=>x.getEntry(w,z))).next((De=>{const Re=E.docVersions.get(z);vn(Re!==null,48541),De.version.compareTo(Re)<0&&(L.applyToRemoteDocument(De,E),De.isValidDocument()&&(De.setReadTime(E.commitVersion),x.addEntry(De)))}))})),ne.next((()=>b.mutationQueue.removeMutationBatch(w,L)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=$t();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function zw(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function SI(r,e){const i=xt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,L)=>{const G=l.get(L);if(!G)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,L))));let ne=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?ne=ne.withResumeToken(Vi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):x.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(x.resumeToken,s)),l=l.insert(L,ne),(function(De,Re,Ue){return De.resumeToken.approximateByteSize()===0||Re.snapshotVersion.toMicroseconds()-De.snapshotVersion.toMicroseconds()>=wI?!0:Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0})(G,ne,x)&&b.push(i.Pi.updateTargetData(c,ne))}));let w=Ss(),E=$t();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(RI(c,p,e.documentUpdates).next((x=>{w=x.ks,E=x.qs}))),!s.isEqual(Rt.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(x)}return Ce.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function RI(r,e,i){let s=$t(),l=$t();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ss();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Rt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):rt(xp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function CI(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=yp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function II(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Ce.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new uo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Jm(r,e,i){const s=xt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Jl(p))throw p;rt(xp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function _0(r,e,i){const s=xt(r);let l=Rt.min(),c=$t();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,x){const L=xt(w),G=L.xs.get(x);return G!==void 0?Ce.resolve(L.Ms.get(G)):L.Pi.getTargetData(E,x)})(s,p,Pa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:Rt.min(),i?c:$t()))).next((b=>(xI(s,mC(e),b),{documents:b,Qs:c})))))}function xI(r,e,i){let s=r.Os.get(e)||Rt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class b0{constructor(){this.activeTargetIds=bC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MI{constructor(){this.Mo=new b0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NI{Oo(e){}shutdown(){}}const w0="ConnectivityMonitor";class E0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(w0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bh=null;function Zm(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}const Cm="RestConnection",DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=Zm(),b=this.zo(e,i.toUriEncodedString());rt(Cm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),x=Xl(E);return this.Jo(e,b,w,s,x).then((L=>(rt(Cm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw Bl(Cm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",s),L}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=DI[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class VI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Yi="WebChannelConnection";class kI extends OI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=Zm();return new Promise(((b,w)=>{const E=new Bb;E.setWithCredentials(!0),E.listenOnce(Fb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Ih.NO_ERROR:const L=E.getResponseJson();rt(Yi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case Ih.TIMEOUT:rt(Yi,`RPC '${e}' ${p} timed out`),w(new et(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const G=E.getStatus();if(rt(Yi,`RPC '${e}' ${p} failed with status:`,G,"response text:",E.getResponseText()),G>0){let ne=E.getResponseJson();Array.isArray(ne)&&(ne=ne[0]);const z=ne?.error;if(z&&z.status&&z.message){const De=(function(Ue){const Fe=Ue.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Fe)>=0?Fe:Te.UNKNOWN})(z.status);w(new et(De,z.message))}else w(new et(Te.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new et(Te.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{rt(Yi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);rt(Yi,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",x,s,15)}))}T_(e,i,s){const l=Zm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Gb(),b=qb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const x=c.join("");rt(Yi,`Creating RPC '${e}' stream ${l}: ${x}`,w);const L=p.createWebChannel(x,w);this.I_(L);let G=!1,ne=!1;const z=new VI({Yo:Re=>{ne?rt(Yi,`Not sending because RPC '${e}' stream ${l} is closed:`,Re):(G||(rt(Yi,`Opening RPC '${e}' stream ${l} transport.`),L.open(),G=!0),rt(Yi,`RPC '${e}' stream ${l} sending:`,Re),L.send(Re))},Zo:()=>L.close()}),De=(Re,Ue,Fe)=>{Re.listen(Ue,(qe=>{try{Fe(qe)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return De(L,ju.EventType.OPEN,(()=>{ne||(rt(Yi,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),De(L,ju.EventType.CLOSE,(()=>{ne||(ne=!0,rt(Yi,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(L))})),De(L,ju.EventType.ERROR,(Re=>{ne||(ne=!0,Bl(Yi,`RPC '${e}' stream ${l} transport errored. Name:`,Re.name,"Message:",Re.message),z.a_(new et(Te.UNAVAILABLE,"The operation could not be completed")))})),De(L,ju.EventType.MESSAGE,(Re=>{if(!ne){const Ue=Re.data[0];vn(!!Ue,16349);const Fe=Ue,qe=Fe?.error||Fe[0]?.error;if(qe){rt(Yi,`RPC '${e}' stream ${l} received error:`,qe);const Ke=qe.status;let ht=(function(U){const V=ci[U];if(V!==void 0)return Cw(V)})(Ke),ot=qe.message;ht===void 0&&(ht=Te.INTERNAL,ot="Unknown error status: "+Ke+" with message "+qe.message),ne=!0,z.a_(new et(ht,ot)),L.close()}else rt(Yi,`RPC '${e}' stream ${l} received:`,Ue),z.u_(Ue)}})),De(b,Hb.STAT_EVENT,(Re=>{Re.stat===Bm.PROXY?rt(Yi,`RPC '${e}' stream ${l} detected buffering proxy`):Re.stat===Bm.NOPROXY&&rt(Yi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Im(){return typeof document<"u"?document:null}function pf(r){return new jC(r,!0)}class Bw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const T0="PersistentStream";class Fw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Te.RESOURCE_EXHAUSTED?(As(i.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new et(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PI extends Fw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Rt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rt.min():p.readTime?La(p.readTime):Rt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=$m(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Ym(w)?{documents:GC(c,w)}:{query:YC(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Mw(c,p.resumeToken);const E=Qm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Rt.min())>0){b.readTime=Kh(c,p.snapshotVersion.toTimestamp());const E=Qm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=QC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=$m(this.serializer),i.removeTarget=e,this.q_(i)}}class LI extends Fw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=qC(e.writeResults,e.commitTime),s=La(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>HC(this.serializer,s)))};this.q_(i)}}class UI{}class jI extends UI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Wm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Te.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Wm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Te.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class BI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Ko(this)&&(rt(Yo,"Restarting streams for network reachability change."),await(async function(w){const E=xt(w);E.Ea.add(4),await dc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await gf(E)})(this))}))})),this.Ra=new zI(s,l)}}async function gf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function dc(r){for(const e of r.da)await e(!1)}function Hw(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Op(i)?Dp(i):eu(i).O_()&&Np(i,e))}function Mp(r,e){const i=xt(r),s=eu(i);i.Ia.delete(e),s.O_()&&qw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ko(i)&&i.Ra.set("Unknown"))}function Np(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eu(r).Y_(e)}function qw(r,e){r.Va.Ue(e),eu(r).Z_(e)}function Dp(r){r.Va=new kC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),eu(r).start(),r.Ra.ua()}function Op(r){return Ko(r)&&!eu(r).x_()&&r.Ia.size>0}function Ko(r){return xt(r).Ea.size===0}function Gw(r){r.Va=void 0}async function FI(r){r.Ra.set("Online")}async function HI(r){r.Ia.forEach(((e,i)=>{Np(r,e)}))}async function qI(r,e){Gw(r),Op(r)?(r.Ra.ha(e),Dp(r)):r.Ra.set("Unknown")}async function GI(r,e,i){if(r.Ra.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){rt(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(r,s)}else if(e instanceof Dh?r.Va.Ze(e):e instanceof Iw?r.Va.st(e):r.Va.tt(e),!i.isEqual(Rt.min()))try{const s=await zw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const x=c.Ia.get(E);x&&c.Ia.set(E,x.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const x=c.Ia.get(w);if(!x)return;c.Ia.set(w,x.withResumeToken(Vi.EMPTY_BYTE_STRING,x.snapshotVersion)),qw(c,w);const L=new uo(x.target,w,E,x.sequenceNumber);Np(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){rt(Yo,"Failed to raise snapshot:",s),await Jh(r,s)}}async function Jh(r,e,i){if(!Jl(e))throw e;r.Ea.add(1),await dc(r),r.Ra.set("Offline"),i||(i=()=>zw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Yo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await gf(r)}))}function Yw(r,e){return e().catch((i=>Jh(r,i,e)))}async function yf(r){const e=xt(r),i=wo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yp;for(;YI(e);)try{const l=await CI(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,XI(e,l)}catch(l){await Jh(e,l)}Xw(e)&&Qw(e)}function YI(r){return Ko(r)&&r.Ta.length<10}function XI(r,e){r.Ta.push(e);const i=wo(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Xw(r){return Ko(r)&&!wo(r).x_()&&r.Ta.length>0}function Qw(r){wo(r).start()}async function QI(r){wo(r).ra()}async function WI(r){const e=wo(r);for(const i of r.Ta)e.ea(i.mutations)}async function KI(r,e,i){const s=r.Ta.shift(),l=Tp.from(s,e,i);await Yw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await yf(r)}async function $I(r,e){e&&wo(r).X_&&await(async function(s,l){if((function(p){return DC(p)&&p!==Te.ABORTED})(l.code)){const c=s.Ta.shift();wo(s).B_(),await Yw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yf(s)}})(r,e),Xw(r)&&Qw(r)}async function A0(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),rt(Yo,"RemoteStore received new credentials");const s=Ko(i);i.Ea.add(3),await dc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await gf(i)}async function JI(r,e){const i=xt(r);e?(i.Ea.delete(2),await gf(i)):e||(i.Ea.add(2),await dc(i),i.Ra.set("Unknown"))}function eu(r){return r.ma||(r.ma=(function(i,s,l){const c=xt(i);return c.sa(),new PI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:FI.bind(null,r),t_:HI.bind(null,r),r_:qI.bind(null,r),H_:GI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Op(r)?Dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Gw(r))}))),r.ma}function wo(r){return r.fa||(r.fa=(function(i,s,l){const c=xt(i);return c.sa(),new LI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,r),r_:$I.bind(null,r),ta:WI.bind(null,r),na:KI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await yf(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new Vp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(r,e){if(As("AsyncQueue",`${e}: ${r}`),Jl(r))return new et(Te.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=zu(),this.sortedSet=new Wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class S0{constructor(){this.ga=new Wn(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Yl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Yl(e,i,Ll.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class ZI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ex{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=xt(i),c=l.queries;l.queries=R0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new et(Te.ABORTED,"Firestore shutting down"))}}function R0(){return new Qo((r=>mw(r)),cf)}async function tx(r,e){const i=xt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new ZI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=kp(p,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Pp(i)}async function nx(r,e){const i=xt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ix(r,e){const i=xt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Pp(i)}function rx(r,e,i){const s=xt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Pp(r){r.Ca.forEach((e=>{e.next()}))}var ep,C0;(C0=ep||(ep={})).Ma="default",C0.Cache="cache";class ax{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Yl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}class Ww{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class sx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=pw(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new S0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,L)=>{const G=l.get(x),ne=hf(this.query,L)?L:null,z=!!G&&this.mutatedKeys.has(G.key),De=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let Re=!1;G&&ne?G.data.isEqual(ne.data)?z!==De&&(s.track({type:3,doc:ne}),Re=!0):this.su(G,ne)||(s.track({type:2,doc:ne}),Re=!0,(w&&this.eu(ne,w)>0||E&&this.eu(ne,E)<0)&&(b=!0)):!G&&ne?(s.track({type:0,doc:ne}),Re=!0):G&&!ne&&(s.track({type:1,doc:G}),Re=!0,(w||E)&&(b=!0)),Re&&(ne?(p=p.add(ne),c=De?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,L)=>(function(ne,z){const De=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:Re})}};return De(ne)-De(z)})(x.type,L.type)||this.eu(x.doc,L.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Yl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$t(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Kw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Ww(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=$t();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lp="SyncEngine";class ox{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class lx{constructor(e){this.key=e,this.hu=!1}}class ux{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Qo((b=>mw(b)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new Wn(pt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cx(r,e,i=!0){const s=n1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $w(s,e,i,!0),l}async function hx(r,e){const i=n1(r);await $w(i,e,!0,!1)}async function $w(r,e,i,s){const l=await II(r.localStore,Pa(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await fx(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Hw(r.remoteStore,l),b}async function fx(r,e,i,s,l){r.pu=(L,G,ne)=>(async function(De,Re,Ue,Fe){let qe=Re.view.ru(Ue);qe.Cs&&(qe=await _0(De.localStore,Re.query,!1).then((({documents:F})=>Re.view.ru(F,qe))));const Ke=Fe&&Fe.targetChanges.get(Re.targetId),ht=Fe&&Fe.targetMismatches.get(Re.targetId)!=null,ot=Re.view.applyChanges(qe,De.isPrimaryClient,Ke,ht);return x0(De,Re.targetId,ot.au),ot.snapshot})(r,L,G,ne);const c=await _0(r.localStore,e,!0),p=new sx(e,c.Qs),b=p.ru(c.documents),w=fc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);x0(r,i,E.au);const x=new ox(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function dx(r,e,i){const s=xt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!cf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Mp(s.remoteStore,l.targetId),tp(s,l.targetId)})).catch($l)):(tp(s,l.targetId),await Jm(s.localStore,l.targetId,!0))}async function mx(r,e){const i=xt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(i.remoteStore,s.targetId))}async function px(r,e,i){const s=Ex(r);try{const l=await(function(p,b){const w=xt(p),E=jn.now(),x=b.reduce(((ne,z)=>ne.add(z.key)),$t());let L,G;return w.persistence.runTransaction("Locally write mutations","readwrite",(ne=>{let z=Ss(),De=$t();return w.Ns.getEntries(ne,x).next((Re=>{z=Re,z.forEach(((Ue,Fe)=>{Fe.isValidDocument()||(De=De.add(Ue))}))})).next((()=>w.localDocuments.getOverlayedDocuments(ne,z))).next((Re=>{L=Re;const Ue=[];for(const Fe of b){const qe=CC(Fe,L.get(Fe.key).overlayedDocument);qe!=null&&Ue.push(new Wo(Fe.key,qe,aw(qe.value.mapValue),_s.exists(!0)))}return w.mutationQueue.addMutationBatch(ne,E,Ue,b)})).next((Re=>{G=Re;const Ue=Re.applyToLocalDocumentSet(L,De);return w.documentOverlayCache.saveOverlays(ne,Re.batchId,Ue)}))})).then((()=>({batchId:G.batchId,changes:yw(L)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Wn(Kt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await mc(s,l.changes),await yf(s.remoteStore)}catch(l){const c=kp(l,"Failed to persist write");i.reject(c)}}async function Jw(r,e){const i=xt(r);try{const s=await SI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?vn(p.hu,14607):l.removedDocuments.size>0&&(vn(p.hu,42227),p.hu=!1))})),await mc(i,s,e)}catch(s){await $l(s)}}function I0(r,e,i){const s=xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=xt(p);w.onlineState=b;let E=!1;w.queries.forEach(((x,L)=>{for(const G of L.Sa)G.va(b)&&(E=!0)})),E&&Pp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gx(r,e,i){const s=xt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Wn(pt.comparator);p=p.insert(c,Qi.newNoDocument(c,Rt.min()));const b=$t().add(c),w=new mf(Rt.min(),new Map,new Wn(Kt),p,b);await Jw(s,w),s.du=s.du.remove(c),s.Au.delete(e),Up(s)}else await Jm(s.localStore,e,!1).then((()=>tp(s,e,i))).catch($l)}async function yx(r,e){const i=xt(r),s=e.batch.batchId;try{const l=await AI(i.localStore,e);e1(i,s,null),Zw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mc(i,l)}catch(l){await $l(l)}}async function vx(r,e,i){const s=xt(r);try{const l=await(function(p,b){const w=xt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return w.mutationQueue.lookupMutationBatch(E,b).next((L=>(vn(L!==null,37113),x=L.keys(),w.mutationQueue.removeMutationBatch(E,L)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,x,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>w.localDocuments.getDocuments(E,x)))}))})(s.localStore,e);e1(s,e,i),Zw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mc(s,l)}catch(l){await $l(l)}}function Zw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function e1(r,e,i){const s=xt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function tp(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||t1(r,s)}))}function t1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Mp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Up(r))}function x0(r,e,i){for(const s of i)s instanceof Ww?(r.Ru.addReference(s.key,e),_x(r,s)):s instanceof Kw?(rt(Lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||t1(r,s.key)):wt(19791,{wu:s})}function _x(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(Lp,"New document in limbo: "+i),r.Eu.add(s),Up(r))}function Up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(Dn.fromString(e)),s=r.fu.next();r.Au.set(s,new lx(i)),r.du=r.du.insert(i,s),Hw(r.remoteStore,new uo(Pa(fw(i.path)),s,"TargetPurposeLimboResolution",of.ce))}}async function mc(r,e,i){const s=xt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const x=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,x?"current":"not-current")}if(E){l.push(E);const x=Ip.As(w.targetId,E);c.push(x)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const x=xt(w);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Ce.forEach(E,(G=>Ce.forEach(G.Es,(ne=>x.persistence.referenceDelegate.addReference(L,G.targetId,ne))).next((()=>Ce.forEach(G.ds,(ne=>x.persistence.referenceDelegate.removeReference(L,G.targetId,ne)))))))))}catch(L){if(!Jl(L))throw L;rt(xp,"Failed to update sequence numbers: "+L)}for(const L of E){const G=L.targetId;if(!L.fromCache){const ne=x.Ms.get(G),z=ne.snapshotVersion,De=ne.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(G,De)}}})(s.localStore,c))}async function bx(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){rt(Lp,"User change. New user:",e.toKey());const s=await jw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new et(Te.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mc(i,s.Ls)}}function wx(r,e){const i=xt(r),s=i.Au.get(e);if(s&&s.hu)return $t().add(s.key);{let l=$t();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function n1(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gx.bind(null,e),e.Pu.H_=ix.bind(null,e.eventManager),e.Pu.yu=rx.bind(null,e.eventManager),e}function Ex(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vx.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TI(this.persistence,new bI,e.initialUser,this.serializer)}Cu(e){return new Uw(Cp.mi,this.serializer)}Du(e){return new MI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class Tx extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){vn(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new Uw((s=>$h.mi(s,i)),this.serializer)}}class np{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await JI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ex})()}createDatastore(e){const i=pf(e.databaseInfo.databaseId),s=(function(c){return new kI(c)})(e.databaseInfo);return(function(c,p,b,w){return new jI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new BI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>I0(this.syncEngine,i,0)),(function(){return E0.v()?new E0:new NI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,x){const L=new ux(l,c,p,b,w,E);return x&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=xt(i);rt(Yo,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}np.provider={build:()=>new np};class Ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Eo="FirestoreClient";class Sx{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Xi.UNAUTHENTICATED,this.clientId=gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{rt(Eo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(rt(Eo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=kp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),rt(Eo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await jw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function M0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Rx(r);rt(Eo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>A0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>A0(e.remoteStore,l))),r._onlineComponents=e}async function Rx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Eo,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Te.FAILED_PRECONDITION||l.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bl("Error using user provided cache. Falling back to memory cache: "+i),await xm(r,new Zh)}}else rt(Eo,"Using default OfflineComponentProvider"),await xm(r,new Tx(void 0));return r._offlineComponents}async function i1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Eo,"Using user provided OnlineComponentProvider"),await M0(r,r._uninitializedComponentsProvider._online)):(rt(Eo,"Using default OnlineComponentProvider"),await M0(r,new np))),r._onlineComponents}function Cx(r){return i1(r).then((e=>e.syncEngine))}async function Ix(r){const e=await i1(r),i=e.eventManager;return i.onListen=cx.bind(null,e.syncEngine),i.onUnlisten=dx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mx.bind(null,e.syncEngine),i}function xx(r,e,i={}){const s=new po;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const x=new Ax({next:G=>{x.Nu(),p.enqueueAndForget((()=>nx(c,L))),G.fromCache&&w.source==="server"?E.reject(new et(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(G)},error:G=>E.reject(G)}),L=new ax(b,x,{includeMetadataChanges:!0,qa:!0});return tx(c,L)})(await Ix(r),r.asyncQueue,e,i,s))),s.promise}function r1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const N0=new Map;const a1="firestore.googleapis.com",D0=!0;class O0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iI)throw new et(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MR;switch(s.type){case"firstParty":return new VR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new et(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=N0.get(i);s&&(rt("ComponentProvider","Removing Datastore"),N0.delete(i),s.terminate())})(this),Promise.resolve()}}function Mx(r,e,i,s={}){r=Fh(r,vf);const l=Xl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(tb(`https://${b}`),nb("Firestore",!0)),c.host!==a1&&c.host!==b&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Fo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,x;if(typeof s.mockUserToken=="string")E=s.mockUserToken,x=Xi.MOCK_USER;else{E=ZT(s.mockUserToken,r._app?.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new et(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Xi(L)}r._authCredentials=new NR(new Xb(E,x))}}class To{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class bi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bi(this.firestore,e,this._key)}toJSON(){return{type:bi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,bi._jsonSchema))return new bi(e,s||null,new pt(Dn.fromString(i.referencePath)))}}bi._jsonSchemaVersion="firestore/documentReference/1.0",bi._jsonSchema={type:fi("string",bi._jsonSchemaVersion),referencePath:fi("string")};class go extends To{constructor(e,i,s){super(e,i,fw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new pt(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function s1(r,e,...i){if(r=zr(r),Qb("collection","path",e),r instanceof vf){const s=Dn.fromString(e,...i);return Y_(s),new go(r,null,s)}{if(!(r instanceof bi||r instanceof go))throw new et(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Dn.fromString(e,...i));return Y_(s),new go(r.firestore,null,s)}}function Nx(r,e,...i){if(r=zr(r),arguments.length===1&&(e=gp.newId()),Qb("doc","path",e),r instanceof vf){const s=Dn.fromString(e,...i);return G_(s),new bi(r,null,new pt(s))}{if(!(r instanceof bi||r instanceof go))throw new et(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Dn.fromString(e,...i));return G_(s),new bi(r.firestore,r instanceof go?r.converter:null,new pt(s))}}const V0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bw(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&rt(V0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new po;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;rt(V0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",P0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Vp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&wt(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function P0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class jp extends vf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new k0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function Dx(r,e){const i=typeof r=="object"?r:sb(),s=typeof r=="string"?r:qh,l=sp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=$T("firestore");c&&Mx(l,...c)}return l}function o1(r){if(r._terminated)throw new et(Te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Ox(r),r._firestoreClient}function Ox(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new JR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,r1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Sx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Vi.fromBase64String(e))}catch(i){throw new et(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ra(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ra._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,ra._jsonSchema))return ra.fromBase64String(e.bytes)}}ra._jsonSchemaVersion="firestore/bytes/1.0",ra._jsonSchema={type:fi("string",ra._jsonSchemaVersion),bytes:fi("string")};class zp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new et(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l1{constructor(e){this._methodName=e}}class Ua{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new et(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new et(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Ua._jsonSchema))return new Ua(e.latitude,e.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:fi("string",Ua._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};class ja{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ja._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,ja._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ja(e.vectorValues);throw new et(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ja._jsonSchemaVersion="firestore/vectorValue/1.0",ja._jsonSchema={type:fi("string",ja._jsonSchemaVersion),vectorValues:fi("object")};const Vx=/^__.*__$/;class kx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,i,this.fieldTransforms):new hc(e,this.data,i,this.fieldTransforms)}}function u1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:r})}}class Bp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u1(this.Ac)&&Vx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Px{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||pf(e)}Cc(e,i,s,l=!1){return new Bp({Ac:e,methodName:i,Dc:s,path:Oi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c1(r){const e=r._freezeSettings(),i=pf(r._databaseId);return new Px(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Lx(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);d1("Data must be an object, but it was:",p,s);const b=h1(s,p);let w,E;if(c.merge)w=new ga(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const L of c.mergeFields){const G=jx(e,L,i);if(!p.contains(G))throw new et(Te.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);Bx(x,G)||x.push(G)}w=new ga(x),E=p.fieldTransforms.filter((L=>w.covers(L.field)))}else w=null,E=p.fieldTransforms;return new kx(new ia(b),w,E)}function Ux(r,e,i,s=!1){return Fp(i,r.Cc(s?4:3,e))}function Fp(r,e){if(f1(r=zr(r)))return d1("Unsupported field value:",e,r),h1(r,e);if(r instanceof l1)return(function(s,l){if(!u1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Fp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=zr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=jn.fromDate(s);return{timestampValue:Kh(l.serializer,c)}}if(s instanceof jn){const c=new jn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(l.serializer,c)}}if(s instanceof Ua)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ra)return{bytesValue:Mw(l.serializer,s._byteString)};if(s instanceof bi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Sp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ja)return(function(p,b){return{mapValue:{fields:{[iw]:{stringValue:rw},[Gh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Ep(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${sf(s)}`)})(r,e)}function h1(r,e){const i={};return $b(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(r,((s,l)=>{const c=Fp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function f1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jn||r instanceof Ua||r instanceof ra||r instanceof bi||r instanceof l1||r instanceof ja)}function d1(r,e,i){if(!f1(i)||!Wb(i)){const s=sf(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function jx(r,e,i){if((e=zr(e))instanceof zp)return e._internalPath;if(typeof e=="string")return m1(r,e);throw ef("Field path arguments must be of type string or ",r,!1,void 0,i)}const zx=new RegExp("[~\\*/\\[\\]]");function m1(r,e,i){if(e.search(zx)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new zp(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ef(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new et(Te.INVALID_ARGUMENT,b+r+w)}function Bx(r,e){return r.some((i=>i.isEqual(e)))}class p1{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(_f("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Fx extends p1{data(){return super.data()}}function _f(r,e){return typeof e=="string"?m1(r,e):e instanceof zp?e._internalPath:e._delegate._internalPath}function Hx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class qp extends Hp{}function L0(r,e,...i){let s=[];e instanceof Hp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof Gp)).length,b=c.filter((w=>w instanceof bf)).length;if(p>1||p>0&&b>0)throw new et(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class bf extends qp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new bf(e,i,s)}_apply(e){const i=this._parse(e);return g1(e._query,i),new To(e.firestore,e.converter,Xm(e._query,i))}_parse(e){const i=c1(e.firestore);return(function(c,p,b,w,E,x,L){let G;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new et(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){B0(L,x);const z=[];for(const De of L)z.push(z0(w,c,De));G={arrayValue:{values:z}}}else G=z0(w,c,L)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||B0(L,x),G=Ux(b,p,L,x==="in"||x==="not-in");return hi.create(E,x,G)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function U0(r,e,i){const s=e,l=_f("where",r);return bf._create(l,s,i)}class Gp extends Hp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Gp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ya.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)g1(p,w),p=Xm(p,w)})(e._query,i),new To(e.firestore,e.converter,Xm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends qp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Yp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new et(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,p)})(e._query,this._field,this._direction);return new To(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Zl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function wh(r,e="asc"){const i=e,s=_f("orderBy",r);return Yp._create(s,i)}class Xp extends qp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Xp(e,i,s)}_apply(e){return new To(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function j0(r){return BR("limit",r),Xp._create("limit",r,"F")}function z0(r,e,i){if(typeof(i=zr(i))=="string"){if(i==="")throw new et(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(e)&&i.indexOf("/")!==-1)throw new et(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Dn.fromString(i));if(!pt.isDocumentKey(s))throw new et(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return e0(r,new pt(s))}if(i instanceof bi)return e0(r,i._key);throw new et(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(i)}.`)}function B0(r,e){if(!Array.isArray(r)||r.length===0)throw new et(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new et(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class qx{convertValue(e,i="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Gh].arrayValue?.values?.map((s=>ii(s.doubleValue)));return new ja(i)}convertGeoPoint(e){return new Ua(ii(e.latitude),ii(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const i=vo(e);return new jn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Dn.fromString(e);vn(Pw(s),9688,{name:e});const l=new Ju(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return l.isEqual(i)||As(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Gx(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Eh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends p1{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(_f("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ul._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ul._jsonSchema={type:fi("string",Ul._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class Oh extends Ul{data(e={}){return super.data(e)}}class jl{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Eh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Oh(this._firestore,this._userDataWriter,s.key,s,new Eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Oh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Oh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Eh(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Yx(b.type),doc:w,oldIndex:E,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:fi("string",jl._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class Xx extends qx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,i)}}function Qx(r){r=Fh(r,To);const e=Fh(r.firestore,jp),i=o1(e),s=new Xx(e);return Hx(r._query),xx(i,r._query).then((l=>new jl(e,s,r,l)))}function Wx(r,e){const i=Fh(r.firestore,jp),s=Nx(r),l=Gx(r.converter,e);return Kx(i,[Lx(c1(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function Kx(r,e){return(function(s,l){const c=new po;return s.asyncQueue.enqueueAndForget((async()=>px(await Cx(s),l,c))),c.promise})(o1(r),e)}(function(e,i=!0){(function(l){Kl=l})(Ql),zl(new Ho("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new jp(new DR(s.getProvider("auth-internal")),new kR(p,s.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new et(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(E.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),fo(B_,F_,e),fo(B_,F_,"esm2020")})();const $x={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},Jx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):$x,y1=ab(Jx),Mm=IR(y1),v1=Dx(y1),_1=typeof __app_id<"u"?__app_id:"long-jump-game",vt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ta=5,ea=50,ip=30,Da=40,b1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},F0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],H0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Zx=[{version:"5.50",date:"Nov 27",changes:["UI: Game Over screen now correctly covers the Draw Pile.","FIX: Resolved Z-Index layering issues on result screens."]},{version:"5.40",date:"Nov 27",changes:["FIX: Mobile 'End Run' button is now interactable (Header Layering).","UI: Ensured Top Navigation sits above the Game Board."]},{version:"5.30",date:"Nov 27",changes:["FIX: Mobile buttons (Shuffle/Sort/Jump) are now clickable.","RANKING: Tie-breaker rules applied (First to score wins)."]}],wf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Ef=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},eM=()=>new Date().toISOString().split("T")[0],tM=r=>{const e=Ef(r),i=wf(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ta),b=Math.floor(i()*ea);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let x=1;E>.5&&(x=2),E>.8&&(x=3),s.push({r:p,c:b,val:x})}}return s},nM=r=>{const e=Ef(r+"OBSTACLES"),i=wf(e),s=[],l=5,c=new Set;for(;s.length<l;){const p=Math.floor(i()*ta),b=Math.floor(i()*ea);if(b===0)continue;const w=`${p},${b}`;c.has(w)||(c.add(w),s.push({r:p,c:b}))}return s},iM=(r,e)=>{const i=Ef(r+"WILDCARDS_V3"),s=wf(i),l=[];let c=0;for(;c<100;){const p=Math.floor(s()*ta),b=5,E=Math.floor(s()*(29-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}for(c=0;c<100;){const p=Math.floor(s()*ta),b=30,E=Math.floor(s()*(40-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}return l},rM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],aM=r=>{const e=Ef(r),i=wf(e);let s=[];Object.entries(b1).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=ip;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},sM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},oM=()=>{const r=dt.useRef(null);return dt.useEffect(()=>{const e=r.current,i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",vt.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*s),i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),q.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-50"})},q0=()=>{const{RiveComponent:r}=lo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new lo.Layout({fit:lo.Fit.Contain,alignment:lo.Alignment.Center})});return q.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto"}})},G0=({trigger:r})=>{const{rive:e,RiveComponent:i}=lo.useRive({src:"fan.riv",autoplay:!0,layout:new lo.Layout({fit:lo.Fit.Contain,alignment:lo.Alignment.Center})});return dt.useEffect(()=>{if(r&&e)try{if(e.viewModelInstance){const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}}catch(s){console.error("Error firing trigger:",s)}},[r,e]),q.jsx("div",{style:{width:`${Da}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:q.jsx("div",{style:{width:"39px",height:"60px"},children:q.jsx(i,{})})})},Nm=({highlightName:r,user:e,onRankFound:i,lastUpdated:s})=>{const[l,c]=dt.useState([]),[p,b]=dt.useState(!0),[w,E]=dt.useState("daily"),[x,L]=dt.useState(null),G=async()=>{if(!e)return;b(!0),L(null);const ne=s1(v1,"artifacts",_1,"public","data","scores"),z=new Date,De=z.toISOString().split("T")[0],Re=z.getDay(),Ue=z.getDate()-Re+(Re===0?-6:1),qe=new Date(z.setDate(Ue)).toISOString().split("T")[0];let Ke;try{w==="daily"?Ke=L0(ne,U0("date","==",De),wh("score","desc"),wh("timestamp","asc"),j0(100)):Ke=L0(ne,U0("date",">=",qe),wh("date","desc"),wh("score","desc"),j0(500));const ht=await Qx(Ke);if(ht.empty){c([]),b(!1);return}let ot=ht.docs.map(F=>({id:F.id,...F.data()}));if(w==="weekly"){const F=new Map;ot.forEach(U=>{const V=F.get(U.name);V?(U.score>V.score||U.score===V.score&&U.timestamp<V.timestamp)&&F.set(U.name,U):F.set(U.name,U)}),ot=Array.from(F.values()),ot.sort((U,V)=>V.score!==U.score?V.score-U.score:U.timestamp-V.timestamp),ot=ot.slice(0,100)}if(c(ot),b(!1),r&&i){const F=ot.findIndex(U=>U.name===r);F!==-1&&i(F+1)}}catch(ht){console.error(" FIRESTORE ERROR:",ht),L(ht.message),b(!1)}};return dt.useEffect(()=>{G()},[e,w,r,s]),q.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[x&&x.includes("index")&&q.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[q.jsx(fT,{className:"text-red-500 mb-2",size:32}),q.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),q.jsx("p",{className:"text-[10px] text-gray-500 mb-4",children:"Open browser console (F12) and click the Firebase link to create index."}),q.jsx("button",{onClick:G,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),q.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx(o_,{size:20,className:"text-yellow-500"}),q.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:w==="daily"?"Today's Top":"Weekly Best"})]}),q.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[q.jsx("button",{onClick:()=>E("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),q.jsx("button",{onClick:()=>E("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${w==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),q.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:p?q.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):l.length===0?q.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",q.jsx("br",{}),"Be the first!"]}):q.jsx("div",{className:"space-y-1",children:l.map((ne,z)=>{const De=ne.score>=40;return q.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${ne.name===r?`bg-[${vt.accentPrimary}]/10 border-[${vt.accentPrimary}]/20`:De?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[q.jsxs("div",{className:"flex items-center gap-2",children:[q.jsx("span",{className:`font-black w-5 text-center ${z===0?"text-yellow-500 text-lg":z===1?"text-gray-400 text-base":z===2?"text-orange-700 text-base":"text-gray-300"}`,children:z+1}),q.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[De&&q.jsx(o_,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),q.jsx("span",{className:`font-bold truncate max-w-[90px] ${ne.name===r?"text-black":De?"text-amber-900":"text-gray-700"}`,children:ne.name}),w==="weekly"&&q.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(ne.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),q.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${De?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[ne.score,"m"]})]},z)})})})]})},Y0=()=>{const r=F0[Math.floor(Math.random()*F0.length)],e=H0[Math.floor(Math.random()*H0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},X0=()=>Array(ta).fill(null).map(()=>Array(ea).fill(null)),Dm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},io=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15),letter:r,isNew:e});function lM(){const[r,e]=dt.useState("menu"),[i,s]=dt.useState(()=>Y0()),[l,c]=dt.useState(()=>X0()),[p,b]=dt.useState([]),[w,E]=dt.useState([]),[x,L]=dt.useState(0),[G,ne]=dt.useState(!1),[z,De]=dt.useState([]),[Re,Ue]=dt.useState(0),[Fe,qe]=dt.useState([]),[Ke,ht]=dt.useState([]),[ot,F]=dt.useState([]),[U,V]=dt.useState([]),[B,C]=dt.useState(null),[k,I]=dt.useState(null),[X,re]=dt.useState([]),[H,ee]=dt.useState(0),[ye,de]=dt.useState(0),[xe,P]=dt.useState(null),[se,Se]=dt.useState(!1),[be,Ie]=dt.useState(!1),[He,We]=dt.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[ut,_t]=dt.useState(!1),[Ct,rn]=dt.useState(!1),[ft,Et]=dt.useState(!1),[Lt,Ut]=dt.useState(!1),[On,ri]=dt.useState(!1),[en,at]=dt.useState(!1),[bt,dn]=dt.useState(!1),[Ar,Sn]=dt.useState(!1),[Gt,mn]=dt.useState(!1),[R,g]=dt.useState(null),[v,D]=dt.useState(null),[K,pe]=dt.useState(!1),Ae=dt.useRef(null),[$e,tt]=dt.useState(!1),[Xe,nt]=dt.useState(0),[Jt,In]=dt.useState(0),cn=l.some($=>$.some(ie=>ie!==null));dt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await m2(Mm,__initial_auth_token):await u2(Mm)})();const ie=y2(Mm,D);return()=>ie()},[]),dt.useEffect(()=>{if(ye===H)return;const $=500,ie=performance.now(),fe=ye,we=H,Ve=Le=>{const ke=Le-ie,Me=Math.min(ke/$,1),Pe=1-Math.pow(1-Me,3),Ge=Math.floor(fe+(we-fe)*Pe);de(Ge),Me<1&&requestAnimationFrame(Ve)};requestAnimationFrame(Ve)},[H]),dt.useEffect(()=>{Rn()},[]);const Rn=()=>{const $=eM(),ie=aM($);De(ie);const fe=ie.slice(0,ip).map(Ve=>io(Ve,!1)).sort((Ve,Le)=>Ve.letter.localeCompare(Le.letter));b(fe),Ue(ip),c(X0()),re([]),E([]),ee(0),de(0),P(null),Se(!1),Ie(!1),qe(tM($));const we=nM($);ht(we),F(iM($,we)),V(rM()),We({text:"Goal: Get as far right as you can.",type:"neutral"}),dn(!1),rn(!1),Ut(!1),ri(!1),at(!1),pe(!1),Sn(!1),Et(!1),ne(!1),C(null),I(null),Ae.current&&(Ae.current.scrollLeft=0)},qn=()=>{i.trim()||s(Y0()),e("playing"),H>0&&Rn(),Ut(!0)},Bt=()=>{e("menu"),Rn()},xn=()=>{if(w.length===0)return;const $=w[w.length-1],ie=w.slice(0,-1);c($.grid),b($.hand),ee($.score),Ue($.drawCount),E(ie),re([]),We({text:"Move undone",type:"info"})},Vn=$=>{const ie=$.toUpperCase();return[...p].reverse().find(fe=>fe.letter===ie)},Mn=$=>{if(!k){I({r:2,c:H});return}let{r:ie,c:fe}=k;$==="ArrowUp"&&(ie=Math.max(0,ie-1)),$==="ArrowDown"&&(ie=Math.min(ta-1,ie+1)),$==="ArrowLeft"&&(fe=Math.max(0,fe-1)),$==="ArrowRight"&&(fe=Math.min(ea-1,fe+1)),I({r:ie,c:fe})};dt.useEffect(()=>{const $=ie=>{if(!(r!=="playing"||bt||On||Lt||en||Ct||Gt||ft)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ie.key)){ie.preventDefault(),Mn(ie.key);return}if(ie.key==="Backspace"||ie.key==="Delete"){if(k){const{r:fe,c:we}=k;X.find(Le=>Le.r===fe&&Le.c===we)?zn(fe,we):Mn("ArrowLeft")}return}if(ie.key==="Enter"){X.length>0&&ji();return}if(/^[a-zA-Z]$/.test(ie.key)){if(!k){I({r:2,c:H});return}const{r:fe,c:we}=k;if(l[fe]&&l[fe][we]||Ke.some(Le=>Le.r===fe&&Le.c===we)){Mn("ArrowRight");return}const Ve=Vn(ie.key);Ve?(Fr(Ve,fe,we),Mn("ArrowRight")):(We({text:`No '${ie.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>We({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[r,bt,k,p,X,On,Lt,Ct,Gt,ft]),dt.useEffect(()=>{if(k&&Ae.current){const $=Ae.current,ie=k.c*Da,fe=ie+Da,we=$.scrollLeft,Ve=we+$.clientWidth,Le=100;ie<we?$.scrollTo({left:Math.max(0,ie-Le),behavior:"smooth"}):fe>Ve&&$.scrollTo({left:fe-$.clientWidth+Le,behavior:"smooth"})}},[k]);const ki=()=>{rn(!0)},gt=async()=>{if(rn(!1),dn(!0),pe(!0),v)try{const fe=new Date().toISOString().split("T")[0],we=s1(v1,"artifacts",_1,"public","data","scores");await Wx(we,{name:i||"Anonymous",score:H,date:fe,timestamp:Date.now(),userId:v.uid}),L(Date.now())}catch(fe){console.error("Error saving score:",fe)}pe(!1);const $=H*50+800;setTimeout(()=>{e("gameOver"),dn(!1)},Math.max($,2500))},Gn=()=>{rn(!1)},St=()=>{r==="playing"?Et(!0):e("menu")},Ki=()=>{Et(!1),e("menu"),Rn()},$i=async()=>{const $=xe?sM(xe):"top",ie="https://www.longjump.co.za";let fe;xe?fe=`${i} placed ${$} in Long-Jump with a distance of ${H}m. How far can you get? ${ie}`:fe=`${i} got a distance of ${H}m in Long-Jump. How far can you get? ${ie}`;try{await navigator.clipboard.writeText(fe),Se(!0),setTimeout(()=>Se(!1),1e3)}catch(we){console.error("Failed to copy: ",we),We({text:"Failed to copy result.",type:"error"})}},Ba=$=>{$.target.closest('[draggable="true"]')||$.target.tagName==="BUTTON"||(tt(!0),nt($.pageX-Ae.current.offsetLeft),In(Ae.current.scrollLeft))},Sr=()=>{tt(!1)},Br=()=>{tt(!1)},Qe=$=>{if(!$e)return;$.preventDefault();const fe=($.pageX-Ae.current.offsetLeft-Xe)*1.5;Ae.current.scrollLeft=Jt-fe},Fr=($,ie,fe)=>{if($.letter==="*"){g({r:ie,c:fe,tileId:$.id}),mn(!0);return}Pi($,ie,fe)},Pi=($,ie,fe,we=!1,Ve=null)=>{if(l.every(Pe=>Pe.every(Ge=>Ge===null))&&X.length===0&&fe!==0){Sn(!0),setTimeout(()=>Sn(!1),3e3);return}const ke=Ve||$.letter,Me=[...X,{r:ie,c:fe,letter:ke,isWild:we}];if(!Dm(Me)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}re(Me),b(Pe=>Pe.filter(Ge=>Ge.id!==$.id)),Sn(!1),He.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})},Ji=$=>{if(R){const ie={id:R.tileId,letter:"*"};Pi(ie,R.r,R.c,!0,$),mn(!1),g(null),C(null)}},pn=$=>{if(!bt&&r==="playing"){if(k){const{r:ie,c:fe}=k;if(l[ie]&&l[ie][fe]||Ke.some(we=>we.r===ie&&we.c===fe)){We({text:"Spot is blocked",type:"error"});return}Fr($,ie,fe),Mn("ArrowRight");return}B===$.letter?C(null):C($.letter)}},zn=($,ie)=>{if($e||bt||r!=="playing"||l[$]&&l[$][ie]||Ke.some(we=>we.r===$&&we.c===ie))return;const fe=X.findIndex(we=>we.r===$&&we.c===ie);if(fe!==-1){const we=X[fe],Ve=[...X];Ve.splice(fe,1),re(Ve);const Le=we.isWild?"*":we.letter,ke=io(Le,!1);b(Me=>[...Me,ke].sort((Pe,Ge)=>Pe.letter!==Ge.letter?Pe.letter.localeCompare(Ge.letter):Pe.isNew===Ge.isNew?0:Pe.isNew?1:-1)),C(null),I({r:$,c:ie});return}if(B!==null){const we=p.filter(Ve=>Ve.letter===B);if(we.length>0){const Ve=we[we.length-1];Fr(Ve,$,ie),we.length<=1&&C(null)}}else k&&k.r===$&&k.c===ie||I({r:$,c:ie})},Li=($,ie)=>{bt||r!=="playing"||($.dataTransfer.setData("text/plain",JSON.stringify(ie)),$.dataTransfer.effectAllowed="move")},or=$=>{$.preventDefault(),$.dataTransfer.dropEffect="move"},Cs=($,ie,fe)=>{if(bt||r!=="playing"||($.preventDefault(),$.stopPropagation(),Ke.some(Ve=>Ve.r===ie&&Ve.c===fe)))return;const we=$.dataTransfer.getData("text/plain");if(!(!we||!we.trim()||!we.trim().startsWith("{")))try{const Ve=JSON.parse(we);if(l[ie]&&l[ie][fe])return;const Le=X.findIndex(ke=>ke.r===ie&&ke.c===fe);if(Ve.type==="hand"){const ke=Ve.tile;if(ke.letter==="*"){g({r:ie,c:fe,tileId:ke.id}),mn(!0);return}if(l.every(Pe=>Pe.every(Ge=>Ge===null))&&X.length===0&&fe!==0){Sn(!0),setTimeout(()=>Sn(!1),3e3);return}if(Le!==-1){const Pe=X[Le],Ge=[...X],Vt=Pe.isWild?"*":Pe.letter,Bn=io(Vt,!1);Ge.splice(Le,1,{r:ie,c:fe,letter:ke.letter,isWild:!1}),re(Ge),b(_n=>[..._n.filter(di=>di.id!==ke.id),Bn].sort((di,Xn)=>di.letter!==Xn.letter?di.letter.localeCompare(Xn.letter):di.isNew===Xn.isNew?0:di.isNew?1:-1))}else{const Pe=[...X,{r:ie,c:fe,letter:ke.letter,isWild:!1}];if(!Dm(Pe)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}re(Pe),b(Ge=>Ge.filter(Vt=>Vt.id!==ke.id))}Sn(!1),p.filter(Pe=>Pe.letter===ke.letter).length<=1&&C(null),I({r:ie,c:fe}),He.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ve.type==="board"){if(Ve.r===ie&&Ve.c===fe)return;const ke=X.findIndex(Ge=>Ge.r===Ve.r&&Ge.c===Ve.c);if(ke===-1)return;const Me=X[ke],Pe=[...X];if(Le!==-1){const Ge=X[Le];Pe[Le]={...Ge,r:Ve.r,c:Ve.c},Pe[ke]={...Me,r:ie,c:fe}}else Pe[ke]={...Me,r:ie,c:fe};if(!Dm(Pe)){We({text:" Tiles must be placed in a single row or column",type:"error"});return}re(Pe),I({r:ie,c:fe})}}catch{}},Fa=$=>{if(bt||r!=="playing")return;$.preventDefault(),$.stopPropagation();const ie=$.dataTransfer.getData("text/plain");if(!(!ie||!ie.trim()||!ie.trim().startsWith("{")))try{const fe=JSON.parse(ie);if(fe.type==="board"){const we=X.find(ke=>ke.r===fe.r&&ke.c===fe.c),Ve=we&&we.isWild?"*":fe.letter,Le=io(Ve,!1);re(ke=>ke.filter(Me=>!(Me.r===fe.r&&Me.c===fe.c))),b(ke=>[...ke,Le].sort((Me,Pe)=>Me.letter!==Pe.letter?Me.letter.localeCompare(Pe.letter):Me.isNew===Pe.isNew?0:Me.isNew?1:-1))}}catch{}},aa=($,ie)=>{if(!l||!l[$])return null;if(l[$][ie])return{letter:l[$][ie],type:"locked"};const fe=X.find(we=>we.r===$&&we.c===ie);return fe?{letter:fe.letter,type:"temp",isWild:fe.isWild}:null},Ui=($,ie)=>Fe.find(fe=>fe.r===$&&fe.c===ie),wi=($,ie)=>Ke.find(fe=>fe.r===$&&fe.c===ie),ji=async()=>{if(X.length===0)return;_t(!0),We({text:"Validating...",type:"info"});const $=l.map(ke=>[...ke]);if(X.forEach(ke=>{$[ke.r]&&($[ke.r][ke.c]=ke.letter)}),X.length>1){const ke=[...X].sort((Vt,Bn)=>Vt.r-Bn.r||Vt.c-Bn.c),Me=ke[0],Pe=ke[ke.length-1];if(Me.r===Pe.r){for(let Vt=Me.c;Vt<=Pe.c;Vt++)if(!$[Me.r][Vt]){Kn("Cannot leave gaps between tiles.");return}}else for(let Vt=Me.r;Vt<=Pe.r;Vt++)if(!$[Vt][Me.c]){Kn("Cannot leave gaps between tiles.");return}}const ie=l.every(ke=>ke.every(Me=>Me===null));let fe=!1,we=!1;if(X.forEach(ke=>{ke.c===0&&(fe=!0),[{r:ke.r+1,c:ke.c},{r:ke.r-1,c:ke.c},{r:ke.r,c:ke.c+1},{r:ke.r,c:ke.c-1}].forEach(Pe=>{Pe.r>=0&&Pe.r<ta&&Pe.c>=0&&Pe.c<ea&&l[Pe.r]&&l[Pe.r][Pe.c]&&(we=!0)})}),ie&&!fe){Kn("First word must start in Column 1.");return}if(!ie&&!we){Kn("Tiles must connect to existing words.");return}const Le=Ei($).filter(ke=>ke.cells.some(Me=>X.some(Pe=>Pe.r===Me.r&&Pe.c===Me.c)));if(Le.length===0){Kn("Words must be at least 2 letters.");return}try{const ke=[];for(const Me of Le)await zi(Me.word)||ke.push(Me.word);if(ke.length>0){Kn(`Invalid word(s): ${ke.join(", ")}`,ke[0]);return}kn($,Le)}catch(ke){console.error(ke),Kn("Error checking dictionary. Try again.")}},zi=async $=>{const ie=$.toUpperCase();if(ie.length===2||["NET","OUR"].includes(ie))return["AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","NET","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","OUR","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"].includes(ie);try{const fe=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${$}`);if(!fe.ok)return!1;const we=await fe.json();return Array.isArray(we)&&we.length>0}catch{return!0}},Ei=$=>{let ie=[];for(let fe=0;fe<ta;fe++){let we="",Ve=[];for(let Le=0;Le<ea;Le++)$[fe]&&$[fe][Le]?(we+=$[fe][Le],Ve.push({r:fe,c:Le})):(we.length>1&&ie.push({word:we,cells:[...Ve],type:"H"}),we="",Ve=[]);we.length>1&&ie.push({word:we,cells:[...Ve],type:"H"})}for(let fe=0;fe<ea;fe++){let we="",Ve=[];for(let Le=0;Le<ta;Le++)$[Le]&&$[Le][fe]?(we+=$[Le][fe],Ve.push({r:Le,c:fe})):(we.length>1&&ie.push({word:we,cells:[...Ve],type:"V"}),we="",Ve=[]);we.length>1&&ie.push({word:we,cells:[...Ve],type:"V"})}return ie},Kn=($,ie=null)=>{We({text:$,type:"error",invalidWord:ie}),_t(!1)},kn=($,ie)=>{const fe=JSON.parse(JSON.stringify(l)),we=X.map(Pe=>io(Pe.isWild?"*":Pe.letter,!1)),Ve=[...p,...we].sort((Pe,Ge)=>Pe.letter!==Ge.letter?Pe.letter.localeCompare(Ge.letter):Pe.isNew===Ge.isNew?0:Pe.isNew?1:-1);E(Pe=>[...Pe,{grid:fe,hand:Ve,score:H,drawCount:Re}]),c($),Ie(!0),setTimeout(()=>Ie(!1),200);let Le=0,ke=!1;if(ie.forEach(Pe=>{Pe.cells.forEach(Ge=>{const Vt=Ui(Ge.r,Ge.c),Bn=X.some(_n=>_n.r===Ge.r&&_n.c===Ge.c);Vt&&Bn&&(Le+=Vt.val),ot.some(_n=>_n.r===Ge.r&&_n.c===Ge.c)&&(ke=!0)})}),Le>0){const Ge=z.slice(Re,Re+Le).map(Vt=>io(Vt,!0));b(Vt=>[...Vt,...Ge].sort((_n,jt)=>_n.letter!==jt.letter?_n.letter.localeCompare(jt.letter):_n.isNew===jt.isNew?0:_n.isNew?1:-1)),Ue(Vt=>Vt+Le)}if(ke){const Pe=io("*",!0);b(Ge=>[...Ge,Pe].sort((Bn,_n)=>Bn.letter!==_n.letter?Bn.letter.localeCompare(_n.letter):Bn.isNew===_n.isNew?0:Bn.isNew?1:-1))}if(Le>0||ke){const Pe=ke?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${Le} Bonus Tiles!`;We({text:Pe,type:"success"})}else We({text:"Valid move!",type:"success"});let Me=H-1;X.forEach(Pe=>{Pe.c>Me&&(Me=Pe.c)});for(let Pe=0;Pe<ta;Pe++)for(let Ge=0;Ge<ea;Ge++)$[Pe]&&$[Pe][Ge]&&Ge>Me&&(Me=Ge);ee(Me+1),re([]),_t(!1),I(null)},sa=()=>{b($=>[...$].sort(()=>Math.random()-.5))},Ti=()=>{b($=>[...$].sort((ie,fe)=>ie.letter!==fe.letter?ie.letter.localeCompare(fe.letter):ie.isNew===fe.isNew?0:ie.isNew?1:-1))},Ai=p.reduce(($,ie)=>($[ie.letter]||($[ie.letter]=[]),$[ie.letter].push(ie),$),{}),Yn=Array.from(new Set(p.map($=>$.letter))),va=Yn.length>=6,Rr=Math.ceil(Yn.length/2),_a=va?Yn.slice(0,Rr):Yn,Ha=va?Yn.slice(Rr):[],Bi=({letter:$})=>{const ie=Ai[$]||[],fe=ie.length,we=ie[fe-1],Ve=B===$,Le=Math.min(fe,15),ke=6,Me=40+(Le>1?(Le-1)*ke:0);return q.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Me}px`},children:[[...Array(Le-1)].map((Pe,Ge)=>{const Bn=($.charCodeAt(0)+Ge)%7-3;return q.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${Ge*ke}px`,zIndex:Ge,transform:`rotate(${Bn}deg)`}},Ge)}),q.jsxs("button",{draggable:!bt&&r==="playing",onDragStart:Pe=>Li(Pe,{type:"hand",tile:we}),onClick:()=>pn(we),className:`
                    absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}
                `,style:{bottom:`${(Le-1)*ke}px`,zIndex:Le,backgroundColor:Ve?vt.accentPrimary:$==="*"?vt.tileTemp:"white",color:Ve?"white":vt.textMain,transform:Ve?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ve?0:$.charCodeAt(0)%5-2}deg)`},children:[we&&we.isNew&&q.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),$==="*"?q.jsx(pm,{size:20,fill:vt.starPurple,className:"text-purple-500"}):$]})]})};return r==="menu"?q.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:vt.background,color:vt.textMain},children:[en&&q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative max-h-[80vh] flex flex-col",children:[q.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:q.jsx(l_,{size:48,style:{color:vt.accentPrimary}})}),q.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"What's New"}),q.jsx("div",{className:"flex-1 overflow-y-auto text-left text-gray-600 mb-6 text-sm space-y-6 pr-2",children:Zx.map(($,ie)=>q.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-0 last:pb-0",children:[q.jsxs("div",{className:"flex justify-between items-center mb-2",children:[q.jsxs("span",{className:"font-black text-black text-lg",children:["v",$.version]}),q.jsx("span",{className:"text-xs font-bold bg-gray-100 px-2 py-1 rounded text-gray-500",children:$.date})]}),q.jsx("ul",{className:"space-y-2",children:$.changes.map((fe,we)=>q.jsxs("li",{className:"flex gap-2 items-start",children:[q.jsx("span",{className:"font-bold text-green-500 mt-1",children:""}),q.jsx("span",{children:fe})]},we))})]},ie))}),q.jsx("button",{onClick:()=>at(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg shrink-0",style:{backgroundColor:vt.accentPrimary},children:"Close"})]})}),q.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[q.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[q.jsx(q0,{}),q.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[q.jsx("span",{children:"Refreshed Daily"}),q.jsx(gm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),q.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:vt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),q.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[q.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5",children:"A word game by Richard Bolland"}),q.jsxs("button",{onClick:()=>at(!0),className:"text-[10px] font-bold text-gray-400 hover:text-green-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:["What's New ",q.jsx(l_,{size:10})]})]})]}),q.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[q.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:vt.textSub},children:"Enter your name"}),q.jsx("input",{type:"text",value:i,onChange:$=>s($.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:vt.textMain,borderColor:"transparent"},onFocus:$=>$.target.style.borderColor=vt.accentPrimary,onBlur:$=>$.target.style.borderColor="transparent",onKeyDown:$=>$.key==="Enter"&&qn()})]}),q.jsx("button",{onClick:qn,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:vt.accentPrimary},children:q.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",q.jsx(RT,{size:24,fill:"currentColor"})]})}),q.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:q.jsx(Nm,{user:v,lastUpdated:x})})]}),q.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:q.jsx(Nm,{user:v,lastUpdated:x})})]}):q.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:vt.background,color:vt.textMain},children:[r==="gameOver"&&!G&&q.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[q.jsx(oM,{}),q.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col justify-center lg:h-[600px]",children:[q.jsx("div",{className:"hidden md:block w-48 h-16 mx-auto mb-4",children:q.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),q.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:vt.accentPrimary},children:"Complete"}),q.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[q.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:vt.textSub},children:"Athlete"}),q.jsx("div",{className:"text-3xl font-black mb-6",style:{color:vt.textMain},children:i}),q.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:vt.textSub},children:"Distance"}),q.jsxs("div",{className:"text-6xl font-black",style:{color:vt.accentSecondary},children:[ye,"m"]})]}),q.jsx("div",{className:"flex gap-2 mb-3",children:q.jsx("button",{onClick:$i,className:"flex-1 py-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:se?q.jsxs(q.Fragment,{children:[q.jsx(rT,{size:20})," Copied"]}):q.jsxs(q.Fragment,{children:[q.jsx(DT,{size:20})," Share Result"]})})}),q.jsxs("div",{className:"flex gap-2",children:[q.jsx("button",{onClick:Bt,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"}),q.jsx("button",{onClick:()=>ne(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:q.jsx(pT,{size:24})})]})]}),q.jsx("div",{className:"w-full max-w-sm lg:h-[600px]",children:q.jsx(Nm,{highlightName:i,user:v,onRankFound:P,lastUpdated:x})})]}),Gt&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[q.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),q.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(b1).filter($=>$!=="*").map($=>q.jsx("button",{onClick:()=>Ji($),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:vt.textMain},children:$},$))}),q.jsx("button",{onClick:()=>{mn(!1),g(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(Lt||On)&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[q.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:q.jsx(nT,{size:48,style:{color:vt.accentPrimary}})}),q.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),q.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["This is a ",q.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["Place words ",q.jsx("strong",{children:"Left to Right"})," or ",q.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["Minimum ",q.jsx("strong",{children:"2 letter"})," words."]})]}),q.jsxs("p",{className:"flex gap-2",children:[q.jsx("span",{className:"font-bold text-black",children:""}),q.jsxs("span",{children:["Start in ",q.jsx("strong",{children:"Column 1"})," (left)."]})]}),q.jsxs("div",{className:"flex gap-2 items-start bg-gray-50 p-2 rounded-lg border border-gray-100",children:[q.jsx(bT,{size:16,className:"mt-0.5 shrink-0 text-gray-400"}),q.jsxs("span",{className:"text-xs",children:[q.jsx("strong",{children:"Keyboard Supported:"}),q.jsx("br",{}),"Use Arrows to move.",q.jsx("br",{}),"Type A-Z to place tiles.",q.jsx("br",{}),"Backspace to delete/move back."]})]}),q.jsx("hr",{className:"border-gray-100 my-2"}),q.jsxs("p",{className:"flex gap-2 items-center",children:[q.jsx(gm,{size:16,className:"text-yellow-500 fill-yellow-500"}),q.jsxs("span",{children:[q.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),q.jsxs("p",{className:"flex gap-2 items-center",children:[q.jsx(pm,{size:16,className:"text-purple-500 fill-purple-500"}),q.jsxs("span",{children:[q.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),q.jsx("button",{onClick:()=>{Ut(!1),ri(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:vt.accentPrimary},children:Lt?"Let's Jump!":"Close"})]})}),ft&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[q.jsx("div",{className:"flex justify-center mb-4",children:q.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:q.jsx(ET,{size:32,className:"text-red-500"})})}),q.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),q.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),q.jsxs("div",{className:"flex gap-3",children:[q.jsx("button",{onClick:()=>Et(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),q.jsx("button",{onClick:Ki,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),Ct&&q.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:q.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[q.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),q.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",q.jsx("strong",{style:{color:vt.accentPrimary},children:H}),". This will end your current run."]}),q.jsxs("div",{className:"flex gap-3",children:[q.jsx("button",{onClick:Gn,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),q.jsx("button",{onClick:gt,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:vt.accentPrimary},children:"Confirm"})]})]})}),q.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[q.jsxs("div",{className:"w-32 flex flex-col items-start",children:[q.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),q.jsxs("div",{className:"block md:hidden",children:[H>0&&r==="playing"&&q.jsxs("button",{onClick:ki,disabled:bt||ut,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",q.jsx(u_,{size:10,style:{color:vt.starGold}})]}),r==="gameOver"&&G&&q.jsxs("button",{onClick:()=>ne(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:vt.accentPrimary,color:"white"},children:[q.jsx(s_,{size:12})," RESULTS"]})]})]}),q.jsxs("div",{className:"flex flex-col items-center flex-1",children:[q.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:St,children:q.jsx(q0,{})}),q.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&H>0&&q.jsxs("button",{onClick:ki,disabled:bt||ut,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",q.jsx(u_,{size:10,style:{color:vt.starGold}})]}),r==="gameOver"&&G&&q.jsxs("button",{onClick:()=>ne(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:vt.accentPrimary},children:[q.jsx(s_,{size:14})," BACK TO RESULTS"]})]})]}),q.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[q.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:vt.accentPrimary},children:i||"PLAYER 1"}),q.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:vt.accentPrimary},children:[q.jsx(MT,{size:16})," ",ye,"m"]}),q.jsxs("button",{onClick:()=>ri(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",q.jsx(vT,{size:12})]})]})]}),q.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Ba,onMouseLeave:Sr,onMouseUp:Br,onMouseMove:Qe,children:q.jsx("div",{ref:Ae,className:`
            w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0
            ${$e?"cursor-grabbing":"cursor-grab"}
            
            /* UPDATED PADDING: Removed massive desktop padding, added reasonable spacing */
            py-4 
          `,style:{userSelect:"none"},children:q.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[q.jsx("div",{className:"flex relative mb-3",style:{width:`${ea*Da}px`,height:"24px"},children:Array(ea).fill(0).map(($,ie)=>{const fe=ie===0,we=(ie+1)%5===0;if(!fe&&!we)return null;const Ve=H<3;return q.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ie*Da+Da/2,transform:`translateX(-50%) ${fe&&Ve?"translateY(-45px)":"translateY(0)"}`},children:[q.jsx("span",{className:`text-xs tracking-wider ${fe?"text-black font-black":"text-gray-400"}`,children:fe?"START":`${ie+1}m`}),q.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${fe?"bg-black":"bg-gray-300"}`})]},`ruler-${ie}`)})}),q.jsxs("div",{className:"relative",children:[q.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:U.filter($=>$.type==="top").map(($,ie)=>{const fe=Math.max($.startCol,H+$.offset);return q.jsx("div",{className:"absolute -top-[55px]",style:{left:`${fe*Da}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:q.jsx(G0,{trigger:be})},`fan-top-${$.id}`)})}),q.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${ea}, ${Da}px)`,gridTemplateRows:`repeat(${ta}, ${Da}px)`,backgroundColor:vt.boardBackground,borderColor:vt.boardLines},children:Array(ta).fill(0).map(($,ie)=>Array(ea).fill(0).map((fe,we)=>{const Ve=aa(ie,we),Le=Ui(ie,we),ke=wi(ie,we),Me=ot.some(Xn=>Xn.r===ie&&Xn.c===we),Ge=we===0&&!Ve&&!cn,Vt=Ve?.type==="locked",Bn=(we+1)%5===0,_n=we<ye,jt=k&&k.r===ie&&k.c===we,di=bt&&Vt?"animate-jump-green":"";return q.jsxs("div",{onClick:()=>zn(ie,we),onDragOver:or,onDrop:Xn=>Cs(Xn,ie,we),className:`
                                relative flex items-center justify-center transition-all duration-300 w-full h-full
                                ${Ve?Ve.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":ke?"cursor-not-allowed":"hover:bg-white/20"}

                                
                                ${Ve?.type==="temp"?`bg-[${vt.tileTemp}] ring-2 ring-[${vt.tileTempRing}] -translate-y-[2px] z-10`:""}
                                
                                ${!Ve&&!ke&&_n?"bg-white/20":we===0&&!Ve?"bg-green-100/40":!Ve&&!ke&&!Ge&&(ie+we)%2===0?"bg-black/5":"bg-transparent"}

                                ${jt?"ring-4 ring-blue-400 z-20":""}
                                ${!Ve&&jt?"bg-blue-50/20":""}
                                ${!Ve&&Bn?"border-r-2 border-r-black/10":"border border-black/5"}

                                ${_n?"animate-pop-green":""}
                                ${di}
                                `,style:Vt?{backgroundColor:_n?vt.overlayComplete:vt.tileLocked,color:vt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:bt?`${we*50}ms`:"0ms"}:Ve?.type==="temp"?{backgroundColor:Ve.isWild?vt.tileWildPlaced:vt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:ke?{backgroundColor:vt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ve&&Ge&&q.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:q.jsx(cT,{size:20,style:{color:vt.startArrow}})}),!Ve&&ke&&q.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ve&&Le&&!ke&&!Me&&q.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[q.jsx(gm,{className:"w-6 h-6",fill:vt.starGold,stroke:vt.starGold}),q.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",Le.val]})]}),!Ve&&Me&&!ke&&q.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:q.jsx(pm,{className:"w-7 h-7",fill:vt.starPurple,stroke:vt.starPurple})}),Ve&&q.jsx("span",{draggable:Ve.type==="temp"&&!bt&&r==="playing",onDragStart:Xn=>Li(Xn,{type:"board",r:ie,c:we,letter:Ve.letter}),className:`tile-text text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center z-10 relative ${Ve.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:Ve.letter})]},`${ie}-${we}`)}))}),q.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:U.filter($=>$.type==="bottom").map(($,ie)=>{const fe=Math.max($.startCol,H+$.offset);return q.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${fe*Da}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:q.jsx(G0,{trigger:be})},`fan-bottom-${$.id}`)})})]}),Ar&&q.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:q.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[q.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),q.jsx(lT,{size:16}),"Start Here!"]})})]})})}),q.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[q.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[q.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${He.type==="error"?"bg-red-100 text-red-700":He.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[q.jsx("span",{children:ut?"Checking...":He.text}),He.type==="error"&&He.invalidWord&&q.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${He.invalidWord}&body=The word "${He.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",q.jsx(AT,{size:10})]})]}),q.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[q.jsx("button",{onClick:xn,disabled:bt||w.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:q.jsx(IT,{size:16})}),q.jsxs("button",{onClick:sa,disabled:bt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[q.jsx(VT,{size:16})," Shuffle"]}),q.jsxs("button",{onClick:Ti,disabled:bt||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[q.jsx(ZE,{size:16})," Sort A-Z"]}),X.length>0&&q.jsxs("button",{onClick:ji,disabled:ut||bt||r!=="playing",className:`
                    flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                    ${ut||bt?"bg-gray-400 text-gray-200 cursor-wait":""}
                    `,style:ut||bt?{}:{backgroundColor:vt.accentPrimary,color:"white"},children:[ut?"Checking...":"JUMP"," ",q.jsx(sT,{size:18,strokeWidth:4})]}),X.length>0&&q.jsx("button",{onClick:()=>{const ie=X.map(fe=>fe.isWild?"*":fe.letter).map(fe=>io(fe,!1));b(fe=>[...fe,...ie].sort((we,Ve)=>we.letter!==Ve.letter?we.letter.localeCompare(Ve.letter):we.isNew===Ve.isNew?0:we.isNew?1:-1)),re([]),C(null)},disabled:bt||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:q.jsx(jT,{size:16})})]})]}),q.jsxs("div",{onDragOver:or,onDrop:Fa,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:vt.boardLines},children:[Yn.length===0&&q.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Yn.length<6?q.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Yn.map($=>q.jsx(Bi,{letter:$},$))}):q.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[q.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:_a.map($=>q.jsx(Bi,{letter:$},$))}),q.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ha.map($=>q.jsx(Bi,{letter:$},$))})]})]})]}),q.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }

        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        .animate-jump-green {
            animation: jump-green 0.6s ease-in-out forwards;
        }
        
        /* Hint Animation */
        .animate-bounce-horizontal {
            animation: bounce-horizontal 1s infinite;
        }
        @keyframes bounce-horizontal {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(25%); }
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes jump-green {
            0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
            20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; }
            80% { background-color: #59AD20; color: white; }
            100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}YE.createRoot(document.getElementById("root")).render(q.jsx(dt.StrictMode,{children:q.jsx(lM,{})}));
