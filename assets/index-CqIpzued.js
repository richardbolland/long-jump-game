(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var dm={exports:{}},Uu={};var s0;function GE(){if(s0)return Uu;s0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Uu.Fragment=e,Uu.jsx=i,Uu.jsxs=i,Uu}var a0;function YE(){return a0||(a0=1,dm.exports=GE()),dm.exports}var I=YE(),mm={exports:{}},Dt={};var o0;function XE(){if(o0)return Dt;o0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.iterator;function re(j){return j===null||typeof j!="object"?null:(j=G&&j[G]||j["@@iterator"],typeof j=="function"?j:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ke=Object.assign,Se={};function Ue(j,oe,Re){this.props=j,this.context=oe,this.refs=Se,this.updater=Re||z}Ue.prototype.isReactComponent={},Ue.prototype.setState=function(j,oe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,oe,"setState")},Ue.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=Ue.prototype;function Pe(j,oe,Re){this.props=j,this.context=oe,this.refs=Se,this.updater=Re||z}var tt=Pe.prototype=new B;tt.constructor=Pe,ke(tt,Ue.prototype),tt.isPureReactComponent=!0;var nt=Array.isArray;function lt(){}var Y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function P(j,oe,Re){var Ae=Re.ref;return{$$typeof:r,type:j,key:oe,ref:Ae!==void 0?Ae:null,props:Re}}function H(j,oe){return P(j.type,oe,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function L(j){var oe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Re){return oe[Re]})}var R=/\/+/g;function $(j,oe){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):oe.toString(36)}function ie(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(lt,lt):(j.status="pending",j.then(function(oe){j.status==="pending"&&(j.status="fulfilled",j.value=oe)},function(oe){j.status==="pending"&&(j.status="rejected",j.reason=oe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,oe,Re,Ae,Me){var Qe=typeof j;(Qe==="undefined"||Qe==="boolean")&&(j=null);var dt=!1;if(j===null)dt=!0;else switch(Qe){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(j.$$typeof){case r:case e:dt=!0;break;case N:return dt=j._init,q(dt(j._payload),oe,Re,Ae,Me)}}if(dt)return Me=Me(j),dt=Ae===""?"."+$(j,0):Ae,nt(Me)?(Re="",dt!=null&&(Re=dt.replace(R,"$&/")+"/"),q(Me,oe,Re,"",function(Rt){return Rt})):Me!=null&&(x(Me)&&(Me=H(Me,Re+(Me.key==null||j&&j.key===Me.key?"":(""+Me.key).replace(R,"$&/")+"/")+dt)),oe.push(Me)),1;dt=0;var pt=Ae===""?".":Ae+":";if(nt(j))for(var bt=0;bt<j.length;bt++)Ae=j[bt],Qe=pt+$(Ae,bt),dt+=q(Ae,oe,Re,Qe,Me);else if(bt=re(j),typeof bt=="function")for(j=bt.call(j),bt=0;!(Ae=j.next()).done;)Ae=Ae.value,Qe=pt+$(Ae,bt++),dt+=q(Ae,oe,Re,Qe,Me);else if(Qe==="object"){if(typeof j.then=="function")return q(ie(j),oe,Re,Ae,Me);throw oe=String(j),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return dt}function Q(j,oe,Re){if(j==null)return j;var Ae=[],Me=0;return q(j,Ae,"","",function(Qe){return oe.call(Re,Qe,Me++)}),Ae}function ye(j){if(j._status===-1){var oe=j._result;oe=oe(),oe.then(function(Re){(j._status===0||j._status===-1)&&(j._status=1,j._result=Re)},function(Re){(j._status===0||j._status===-1)&&(j._status=2,j._result=Re)}),j._status===-1&&(j._status=0,j._result=oe)}if(j._status===1)return j._result.default;throw j._result}var he=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ee={map:Q,forEach:function(j,oe,Re){Q(j,function(){oe.apply(this,arguments)},Re)},count:function(j){var oe=0;return Q(j,function(){oe++}),oe},toArray:function(j){return Q(j,function(oe){return oe})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Dt.Activity=O,Dt.Children=Ee,Dt.Component=Ue,Dt.Fragment=i,Dt.Profiler=l,Dt.PureComponent=Pe,Dt.StrictMode=s,Dt.Suspense=w,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},Dt.cache=function(j){return function(){return j.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(j,oe,Re){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Ae=ke({},j.props),Me=j.key;if(oe!=null)for(Qe in oe.key!==void 0&&(Me=""+oe.key),oe)!F.call(oe,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&oe.ref===void 0||(Ae[Qe]=oe[Qe]);var Qe=arguments.length-2;if(Qe===1)Ae.children=Re;else if(1<Qe){for(var dt=Array(Qe),pt=0;pt<Qe;pt++)dt[pt]=arguments[pt+2];Ae.children=dt}return P(j.type,Me,Ae)},Dt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Dt.createElement=function(j,oe,Re){var Ae,Me={},Qe=null;if(oe!=null)for(Ae in oe.key!==void 0&&(Qe=""+oe.key),oe)F.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Me[Ae]=oe[Ae]);var dt=arguments.length-2;if(dt===1)Me.children=Re;else if(1<dt){for(var pt=Array(dt),bt=0;bt<dt;bt++)pt[bt]=arguments[bt+2];Me.children=pt}if(j&&j.defaultProps)for(Ae in dt=j.defaultProps,dt)Me[Ae]===void 0&&(Me[Ae]=dt[Ae]);return P(j,Qe,Me)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(j){return{$$typeof:b,render:j}},Dt.isValidElement=x,Dt.lazy=function(j){return{$$typeof:N,_payload:{_status:-1,_result:j},_init:ye}},Dt.memo=function(j,oe){return{$$typeof:E,type:j,compare:oe===void 0?null:oe}},Dt.startTransition=function(j){var oe=Y.T,Re={};Y.T=Re;try{var Ae=j(),Me=Y.S;Me!==null&&Me(Re,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(lt,he)}catch(Qe){he(Qe)}finally{oe!==null&&Re.types!==null&&(oe.types=Re.types),Y.T=oe}},Dt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Dt.use=function(j){return Y.H.use(j)},Dt.useActionState=function(j,oe,Re){return Y.H.useActionState(j,oe,Re)},Dt.useCallback=function(j,oe){return Y.H.useCallback(j,oe)},Dt.useContext=function(j){return Y.H.useContext(j)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(j,oe){return Y.H.useDeferredValue(j,oe)},Dt.useEffect=function(j,oe){return Y.H.useEffect(j,oe)},Dt.useEffectEvent=function(j){return Y.H.useEffectEvent(j)},Dt.useId=function(){return Y.H.useId()},Dt.useImperativeHandle=function(j,oe,Re){return Y.H.useImperativeHandle(j,oe,Re)},Dt.useInsertionEffect=function(j,oe){return Y.H.useInsertionEffect(j,oe)},Dt.useLayoutEffect=function(j,oe){return Y.H.useLayoutEffect(j,oe)},Dt.useMemo=function(j,oe){return Y.H.useMemo(j,oe)},Dt.useOptimistic=function(j,oe){return Y.H.useOptimistic(j,oe)},Dt.useReducer=function(j,oe,Re){return Y.H.useReducer(j,oe,Re)},Dt.useRef=function(j){return Y.H.useRef(j)},Dt.useState=function(j){return Y.H.useState(j)},Dt.useSyncExternalStore=function(j,oe,Re){return Y.H.useSyncExternalStore(j,oe,Re)},Dt.useTransition=function(){return Y.H.useTransition()},Dt.version="19.2.0",Dt}var l0;function af(){return l0||(l0=1,mm.exports=XE()),mm.exports}var ze=af(),pm={exports:{}},zu={},gm={exports:{}},ym={};var u0;function QE(){return u0||(u0=1,(function(r){function e(q,Q){var ye=q.length;q.push(Q);e:for(;0<ye;){var he=ye-1>>>1,Ee=q[he];if(0<l(Ee,Q))q[he]=Q,q[ye]=Ee,ye=he;else break e}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Q=q[0],ye=q.pop();if(ye!==Q){q[0]=ye;e:for(var he=0,Ee=q.length,j=Ee>>>1;he<j;){var oe=2*(he+1)-1,Re=q[oe],Ae=oe+1,Me=q[Ae];if(0>l(Re,ye))Ae<Ee&&0>l(Me,Re)?(q[he]=Me,q[Ae]=ye,he=Ae):(q[he]=Re,q[oe]=ye,he=oe);else if(Ae<Ee&&0>l(Me,ye))q[he]=Me,q[Ae]=ye,he=Ae;else break e}}return Q}function l(q,Q){var ye=q.sortIndex-Q.sortIndex;return ye!==0?ye:q.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],N=1,O=null,G=3,re=!1,z=!1,ke=!1,Se=!1,Ue=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;function tt(q){for(var Q=i(E);Q!==null;){if(Q.callback===null)s(E);else if(Q.startTime<=q)s(E),Q.sortIndex=Q.expirationTime,e(w,Q);else break;Q=i(E)}}function nt(q){if(ke=!1,tt(q),!z)if(i(w)!==null)z=!0,lt||(lt=!0,L());else{var Q=i(E);Q!==null&&ie(nt,Q.startTime-q)}}var lt=!1,Y=-1,F=5,P=-1;function H(){return Se?!0:!(r.unstable_now()-P<F)}function x(){if(Se=!1,lt){var q=r.unstable_now();P=q;var Q=!0;try{e:{z=!1,ke&&(ke=!1,B(Y),Y=-1),re=!0;var ye=G;try{t:{for(tt(q),O=i(w);O!==null&&!(O.expirationTime>q&&H());){var he=O.callback;if(typeof he=="function"){O.callback=null,G=O.priorityLevel;var Ee=he(O.expirationTime<=q);if(q=r.unstable_now(),typeof Ee=="function"){O.callback=Ee,tt(q),Q=!0;break t}O===i(w)&&s(w),tt(q)}else s(w);O=i(w)}if(O!==null)Q=!0;else{var j=i(E);j!==null&&ie(nt,j.startTime-q),Q=!1}}break e}finally{O=null,G=ye,re=!1}Q=void 0}}finally{Q?L():lt=!1}}}var L;if(typeof Pe=="function")L=function(){Pe(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=x,L=function(){$.postMessage(null)}}else L=function(){Ue(x,0)};function ie(q,Q){Y=Ue(function(){q(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return G},r.unstable_next=function(q){switch(G){case 1:case 2:case 3:var Q=3;break;default:Q=G}var ye=G;G=Q;try{return q()}finally{G=ye}},r.unstable_requestPaint=function(){Se=!0},r.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=G;G=q;try{return Q()}finally{G=ye}},r.unstable_scheduleCallback=function(q,Q,ye){var he=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?he+ye:he):ye=he,q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ye+Ee,q={id:N++,callback:Q,priorityLevel:q,startTime:ye,expirationTime:Ee,sortIndex:-1},ye>he?(q.sortIndex=ye,e(E,q),i(w)===null&&q===i(E)&&(ke?(B(Y),Y=-1):ke=!0,ie(nt,ye-he))):(q.sortIndex=Ee,e(w,q),z||re||(z=!0,lt||(lt=!0,L()))),q},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(q){var Q=G;return function(){var ye=G;G=Q;try{return q.apply(this,arguments)}finally{G=ye}}}})(ym)),ym}var c0;function WE(){return c0||(c0=1,gm.exports=QE()),gm.exports}var vm={exports:{}},dr={};var h0;function KE(){if(h0)return dr;h0=1;var r=af();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)E+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,N){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:w,containerInfo:E,implementation:N}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dr.createPortal=function(w,E){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,N)},dr.flushSync=function(w){var E=p.T,N=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=N,s.d.f()}},dr.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},dr.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},dr.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var N=E.as,O=b(N,E.crossOrigin),G=typeof E.integrity=="string"?E.integrity:void 0,re=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;N==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:O,integrity:G,fetchPriority:re}):N==="script"&&s.d.X(w,{crossOrigin:O,integrity:G,fetchPriority:re,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},dr.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var N=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},dr.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var N=E.as,O=b(N,E.crossOrigin);s.d.L(w,N,{crossOrigin:O,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},dr.preloadModule=function(w,E){if(typeof w=="string")if(E){var N=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},dr.requestFormReset=function(w){s.d.r(w)},dr.unstable_batchedUpdates=function(w,E){return w(E)},dr.useFormState=function(w,E,N){return p.H.useFormState(w,E,N)},dr.useFormStatus=function(){return p.H.useHostTransitionStatus()},dr.version="19.2.0",dr}var f0;function $E(){if(f0)return vm.exports;f0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=KE(),vm.exports}var d0;function JE(){if(d0)return zu;d0=1;var r=WE(),e=af(),i=$E();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===a){T=!0,a=h,o=m;break}if(M===o){T=!0,o=h,a=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===a){T=!0,a=m,o=h;break}if(M===o){T=!0,o=m,a=h;break}M=M.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function N(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=N(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,G=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Ue=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Pe=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ke:return"Fragment";case Ue:return"Profiler";case Se:return"StrictMode";case nt:return"Suspense";case lt:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case Pe:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:$(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return $(t(n))}catch{}}return null}var ie=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},he=[],Ee=-1;function j(t){return{current:t}}function oe(t){0>Ee||(t.current=he[Ee],he[Ee]=null,Ee--)}function Re(t,n){Ee++,he[Ee]=t.current,t.current=n}var Ae=j(null),Me=j(null),Qe=j(null),dt=j(null);function pt(t,n){switch(Re(Qe,n),Re(Me,t),Re(Ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rv(n),t=Iv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Ae),Re(Ae,t)}function bt(){oe(Ae),oe(Me),oe(Qe)}function Rt(t){t.memoizedState!==null&&Re(dt,t);var n=Ae.current,a=Iv(n,t.type);n!==a&&(Re(Me,t),Re(Ae,a))}function bn(t){Me.current===t&&(oe(Ae),oe(Me)),dt.current===t&&(oe(dt),Vu._currentValue=ye)}var mt,Tt;function nn(t){if(mt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);mt=n&&n[1]||"",Tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+Tt}var qt=!1;function Zn(t,n){if(!t||qt)return"";qt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ge){var de=ge}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ge){de=ge}t.call(Ce.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var W=T.split(`
`),ce=M.split(`
`);for(h=o=0;o<W.length&&!W[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ce.length&&!ce[h].includes("DetermineComponentFrameRoot");)h++;if(o===W.length||h===ce.length)for(o=W.length-1,h=ce.length-1;1<=o&&0<=h&&W[o]!==ce[h];)h--;for(;1<=o&&0<=h;o--,h--)if(W[o]!==ce[h]){if(o!==1||h!==1)do if(o--,h--,0>h||W[o]!==ce[h]){var we=`
`+W[o].replace(" at new "," at ");return t.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",t.displayName)),we}while(1<=o&&0<=h);break}}}finally{qt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?nn(a):""}function bi(t,n){switch(t.tag){case 26:case 27:case 5:return nn(t.type);case 16:return nn("Lazy");case 13:return t.child!==n&&n!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return Zn(t.type,!1);case 11:return Zn(t.type.render,!1);case 1:return Zn(t.type,!0);case 31:return nn("Activity");default:return""}}function ln(t){try{var n="",a=null;do n+=bi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var at=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Vt=r.unstable_cancelCallback,jn=r.unstable_shouldYield,vt=r.unstable_requestPaint,It=r.unstable_now,Mt=r.unstable_getCurrentPriorityLevel,C=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,k=r.unstable_LowPriority,J=r.unstable_IdlePriority,pe=r.log,Ne=r.unstable_setDisableYieldValue,et=null,it=null;function qe(t){if(typeof pe=="function"&&Ne(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(et,t)}catch{}}var Be=Math.clz32?Math.clz32:un,Lt=Math.log,Rn=Math.LN2;function un(t){return t>>>=0,t===0?32:31-(Lt(t)/Rn|0)|0}var On=256,Wn=262144,zt=4194304;function Sn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=Sn(o):(T&=M,T!==0?h=Sn(T):a||(a=M&~t,a!==0&&(h=Sn(a))))):(M=o&~m,M!==0?h=Sn(M):T!==0?h=Sn(T):a||(a=o&~t,a!==0&&(h=Sn(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ni(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var t=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),t}function Bn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ct(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ai(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,W=t.expirationTimes,ce=t.hiddenUpdates;for(a=T&~a;0<a;){var we=31-Be(a),Ce=1<<we;M[we]=0,W[we]=-1;var de=ce[we];if(de!==null)for(ce[we]=null,we=0;we<de.length;we++){var ge=de[we];ge!==null&&(ge.lane&=-536870913)}a&=~Ce}o!==0&&Di(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Di(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Be(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function ns(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Be(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Si(t,n){var a=n&-n;return a=(a&42)!==0?1:vr(a),(a&(t.suspendedLanes|n))!==0?0:a}function vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ge(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Os(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Jv(t.type))}function Rr(t,n){var a=Q.p;try{return Q.p=t,n()}finally{Q.p=a}}var Oi=Math.random().toString(36).slice(2),fn="__reactFiber$"+Oi,ei="__reactProps$"+Oi,Zi="__reactContainer$"+Oi,Ir="__reactEvents$"+Oi,er="__reactListeners$"+Oi,Ks="__reactHandles$"+Oi,_s="__reactResources$"+Oi,tr="__reactMarker$"+Oi;function ki(t){delete t[fn],delete t[ei],delete t[Ir],delete t[er],delete t[Ks]}function Vi(t){var n=t[fn];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Zi]||a[fn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Pv(t);t!==null;){if(a=t[fn])return a;t=Pv(t)}return n}t=a,a=t.parentNode}return null}function Pi(t){if(t=t[fn]||t[Zi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ci(t){var n=t[_s];return n||(n=t[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Vn(t){t[tr]=!0}var bs=new Set,Li={};function ji(t,n){nr(t,n),nr(t+"Capture",n)}function nr(t,n){for(Li[t]=n,t=0;t<n.length;t++)bs.add(n[t])}var $s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},In={};function is(t){return at.call(In,t)?!0:at.call(Mr,t)?!1:$s.test(t)?In[t]=!0:(Mr[t]=!0,!1)}function _r(t,n,a){if(is(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function xi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function wn(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function $n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ui(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ir(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Wt(t){if(!t._valueTracker){var n=Ui(t)?"checked":"value";t._valueTracker=ir(t,n,""+t[n])}}function wi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Ui(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ht(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fi=/[\n"\\]/g;function Pn(t){return t.replace(fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ws(t,n,a,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$n(n)):t.value!==""+$n(n)&&(t.value=""+$n(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?ks(t,T,$n(n)):a!=null?ks(t,T,$n(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+$n(M):t.removeAttribute("name")}function Js(t,n,a,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Wt(t);return}a=a!=null?""+$n(a):"",n=n!=null?""+$n(n):a,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Wt(t)}function ks(t,n,a){n==="number"&&ht(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function dn(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+$n(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function rs(t,n,a){if(n!=null&&(n=""+$n(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$n(a):""}function rr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$n(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Wt(t)}function ti(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Es(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||sr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ar(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Es(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Es(t,m,n[m])}function ss(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function or(){}var Ts=null;function lr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,Bi=null;function ur(t){var n=Pi(t);if(n&&(t=n.stateNode)){var a=t[ei]||null;e:switch(t=n.stateNode,n.type){case"input":if(ws(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[ei]||null;if(!h)throw Error(s(90));ws(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&wi(o)}break e;case"textarea":rs(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&dn(t,!!a.multiple,n,!1)}}}var Hr=!1;function cr(t,n,a){if(Hr)return t(n,a);Hr=!0;try{var o=t(n);return o}finally{if(Hr=!1,(zi!==null||Bi!==null)&&($c(),zi&&(n=zi,t=Bi,Bi=zi=null,ur(n),t)))for(n=0;n<t.length;n++)ur(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[ei]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(oi)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{wr=!1}var Nr=null,qn=null,Dr=null;function qr(){if(Dr)return Dr;var t,n=qn,a=n.length,o,h="value"in Nr?Nr.value:Nr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return Dr=h.slice(t,1<o?1-o:void 0)}function Gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function Fi(){return!1}function X(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Er:Fi,this.isPropagationStopped=Fi,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),n}var se={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ve=X(se),be=O({},se,{view:0,detail:0}),_e=X(be),Fe,We,Ve,wt=O({},be,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ve&&(Ve&&t.type==="mousemove"?(Fe=t.screenX-Ve.screenX,We=t.screenY-Ve.screenY):We=Fe=0,Ve=t),Fe)},movementY:function(t){return"movementY"in t?t.movementY:We}}),Ye=X(wt),ft=O({},wt,{dataTransfer:0}),rn=X(ft),Gt=O({},be,{relatedTarget:0}),Ei=X(Gt),Hi=O({},se,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=X(Hi),As=O({},se,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zs=X(As),Na=O({},se,{data:0}),Xr=X(Na),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Vs(){return Oa}var qi=O({},be,{key:function(t){if(t.key){var n=Da[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),So=X(qi),Zo=O({},wt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=X(Zo),u=O({},be,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),y=X(u),A=O({},se,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=X(A),ae=O({},wt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),me=X(ae),Le=O({},se,{newState:0,oldState:0}),St=X(Le),ni=[9,13,27,32],cn=oi&&"CompositionEvent"in window,Un=null;oi&&"documentMode"in document&&(Un=document.documentMode);var hr=oi&&"TextEvent"in window&&!Un,Or=oi&&(!cn||Un&&8<Un&&11>=Un),kr=" ",Tr=!1;function os(t,n){switch(t){case"keyup":return ni.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function xf(t,n){switch(t){case"compositionend":return ea(n);case"keypress":return n.which!==32?null:(Tr=!0,kr);case"textInput":return t=n.data,t===kr&&Tr?null:t;default:return null}}function _c(t,n){if(ta)return t==="compositionend"||!cn&&os(t,n)?(t=qr(),Dr=qn=Nr=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Or&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function Gn(t,n,a,o){zi?Bi?Bi.push(o):Bi=[o]:zi=o,n=rh(n,"onChange"),0<n.length&&(a=new ve("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Ar=null,na=null;function bc(t){Ev(t,0)}function Co(t){var n=Fn(t);if(wi(n))return t}function ru(t,n){if(t==="change")return n}var su=!1;if(oi){var ka;if(oi){var tl="oninput"in document;if(!tl){var f=document.createElement("div");f.setAttribute("oninput","return;"),tl=typeof f.oninput=="function"}ka=tl}else ka=!1;su=ka&&(!document.documentMode||9<document.documentMode)}function d(){Ar&&(Ar.detachEvent("onpropertychange",_),na=Ar=null)}function _(t){if(t.propertyName==="value"&&Co(na)){var n=[];Gn(n,na,t,lr(t)),cr(bc,n)}}function S(t,n,a){t==="focusin"?(d(),Ar=n,na=a,Ar.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(na)}function U(t,n){if(t==="click")return Co(n)}function Z(t,n){if(t==="input"||t==="change")return Co(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fe=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(fe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!at.call(n,h)||!fe(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $e(t,n){var a=Oe(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oe(a)}}function ot(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ot(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function te(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ht(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ht(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rt=oi&&"documentMode"in document&&11>=document.documentMode,He=null,mn=null,Je=null,Bt=!1;function En(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bt||He==null||He!==ht(o)||(o=He,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Je&&ue(Je,o)||(Je=o,o=rh(mn,"onSelect"),0<o.length&&(n=new ve("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=He)))}function li(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Vr={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Ht={},Qr={};oi&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function ia(t){if(Ht[t])return Ht[t];if(!Vr[t])return t;var n=Vr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qr)return Ht[t]=n[a];return t}var De=ia("animationend"),Xe=ia("animationiteration"),Ft=ia("animationstart"),Kt=ia("transitionrun"),kt=ia("transitionstart"),Yt=ia("transitioncancel"),an=ia("transitionend"),hn=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sr.push("scrollEnd");function Tn(t,n){hn.set(t,n),ji(n,[t])}var Gi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yn=[],ra=0,nl=0;function Ps(){for(var t=ra,n=nl=ra=0;n<t;){var a=yn[n];yn[n++]=null;var o=yn[n];yn[n++]=null;var h=yn[n];yn[n++]=null;var m=yn[n];if(yn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&au(a,h,m)}}function Ls(t,n,a,o){yn[ra++]=t,yn[ra++]=n,yn[ra++]=a,yn[ra++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Cs(t,n,a,o){return Ls(t,n,a,o),xo(t)}function Cr(t,n){return Ls(t,null,null,n),xo(t)}function au(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-Be(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function xo(t){if(50<Ru)throw Ru=0,Ld=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wr={};function Rf(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,n,a,o){return new Rf(t,n,a,o)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sa(t,n){var a=t.alternate;return a===null?(a=fr(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")If(t)&&(T=1);else if(typeof t=="string")T=OE(t,a,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=fr(31,a,n,h),t.elementType=P,t.lanes=m,t;case ke:return Ro(a.children,h,m,n);case Se:T=8,h|=24;break;case Ue:return t=fr(12,a,n,h|2),t.elementType=Ue,t.lanes=m,t;case nt:return t=fr(13,a,n,h),t.elementType=nt,t.lanes=m,t;case lt:return t=fr(19,a,n,h),t.elementType=lt,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pe:T=10;break e;case B:T=9;break e;case tt:T=11;break e;case Y:T=14;break e;case F:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=fr(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Ro(t,n,a,o){return t=fr(7,t,o,n),t.lanes=a,t}function Mf(t,n,a){return t=fr(6,t,null,n),t.lanes=a,t}function sg(t){var n=fr(18,null,null,0);return n.stateNode=t,n}function Nf(t,n,a){return n=fr(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ag=new WeakMap;function ls(t,n){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ln(n)},ag.set(t,n),n)}return{value:t,source:n,stack:ln(n)}}var il=[],rl=0,Ec=null,ou=0,us=[],cs=0,Va=null,js=1,Us="";function aa(t,n){il[rl++]=ou,il[rl++]=Ec,Ec=t,ou=n}function og(t,n,a){us[cs++]=js,us[cs++]=Us,us[cs++]=Va,Va=t;var o=js;t=Us;var h=32-Be(o)-1;o&=~(1<<h),a+=1;var m=32-Be(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,js=1<<32-Be(n)+h|a<<h|o,Us=m+t}else js=1<<m|a<<h|o,Us=t}function Df(t){t.return!==null&&(aa(t,1),og(t,1,0))}function Of(t){for(;t===Ec;)Ec=il[--rl],il[rl]=null,ou=il[--rl],il[rl]=null;for(;t===Va;)Va=us[--cs],us[cs]=null,Us=us[--cs],us[cs]=null,js=us[--cs],us[cs]=null}function lg(t,n){us[cs++]=js,us[cs++]=Us,us[cs++]=Va,js=n.id,Us=n.overflow,Va=t}var Yi=null,Yn=null,sn=!1,Pa=null,hs=!1,kf=Error(s(519));function La(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(ls(n,t)),kf}function ug(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[fn]=t,n[ei]=o,a){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(a=0;a<Mu.length;a++)Qt(Mu[a],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":Qt("invalid",n),Js(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Qt("invalid",n);break;case"textarea":Qt("invalid",n),rr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Cv(n.textContent,a)?(o.popover!=null&&(Qt("beforetoggle",n),Qt("toggle",n)),o.onScroll!=null&&Qt("scroll",n),o.onScrollEnd!=null&&Qt("scrollend",n),o.onClick!=null&&(n.onclick=or),n=!0):n=!1,n||La(t,!0)}function cg(t){for(Yi=t.return;Yi;)switch(Yi.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:Yi=Yi.return}}function sl(t){if(t!==Yi)return!1;if(!sn)return cg(t),sn=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&Yn&&La(t),cg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Yn=Vv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Yn=Vv(t)}else n===27?(n=Yn,$a(t.type)?(t=im,im=null,Yn=t):Yn=n):Yn=Yi?ds(t.stateNode.nextSibling):null;return!0}function Io(){Yn=Yi=null,sn=!1}function Vf(){var t=Pa;return t!==null&&(Ur===null?Ur=t:Ur.push.apply(Ur,t),Pa=null),t}function lu(t){Pa===null?Pa=[t]:Pa.push(t)}var Pf=j(null),Mo=null,oa=null;function ja(t,n,a){Re(Pf,n._currentValue),n._currentValue=a}function la(t){t._currentValue=Pf.current,oe(Pf)}function Lf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function jf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var W=0;W<n.length;W++)if(M.context===n[W]){m.lanes|=a,M=m.alternate,M!==null&&(M.lanes|=a),Lf(m.return,a,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Lf(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function al(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var M=h.type;fe(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===dt.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vu):t=[Vu])}h=h.return}t!==null&&jf(n,t,a,o),n.flags|=262144}function Tc(t){for(t=t.firstContext;t!==null;){if(!fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function No(t){Mo=t,oa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xi(t){return hg(Mo,t)}function Ac(t,n){return Mo===null&&No(t),hg(t,n)}function hg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},oa===null){if(t===null)throw Error(s(308));oa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else oa=oa.next=n;return a}var Iw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Mw=r.unstable_scheduleCallback,Nw=r.unstable_NormalPriority,di={$$typeof:Pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new Iw,data:new Map,refCount:0}}function uu(t){t.refCount--,t.refCount===0&&Mw(Nw,function(){t.controller.abort()})}var cu=null,zf=0,ol=0,ll=null;function Dw(t,n){if(cu===null){var a=cu=[];zf=0,ol=Hd(),ll={status:"pending",value:void 0,then:function(o){a.push(o)}}}return zf++,n.then(fg,fg),n}function fg(){if(--zf===0&&cu!==null){ll!==null&&(ll.status="fulfilled");var t=cu;cu=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ow(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dg=q.S;q.S=function(t,n){Ky=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Dw(t,n),dg!==null&&dg(t,n)};var Do=j(null);function Bf(){var t=Do.current;return t!==null?t:Ln.pooledCache}function Sc(t,n){n===null?Re(Do,Do.current):Re(Do,n.pool)}function mg(){var t=Bf();return t===null?null:{parent:di._currentValue,pool:t}}var ul=Error(s(460)),Ff=Error(s(474)),Cc=Error(s(542)),xc={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(or,or),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t;default:if(typeof n.status=="string")n.then(or,or);else{if(t=Ln,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t}throw ko=n,ul}}function Oo(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ko=a,ul):a}}var ko=null;function yg(){if(ko===null)throw Error(s(459));var t=ko;return ko=null,t}function vg(t){if(t===ul||t===Cc)throw Error(s(483))}var cl=null,hu=0;function Rc(t){var n=hu;return hu+=1,cl===null&&(cl=[]),gg(cl,t,n)}function fu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ic(t,n){throw n.$$typeof===G?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(ne,K){if(t){var le=ne.deletions;le===null?(ne.deletions=[K],ne.flags|=16):le.push(K)}}function a(ne,K){if(!t)return null;for(;K!==null;)n(ne,K),K=K.sibling;return null}function o(ne){for(var K=new Map;ne!==null;)ne.key!==null?K.set(ne.key,ne):K.set(ne.index,ne),ne=ne.sibling;return K}function h(ne,K){return ne=sa(ne,K),ne.index=0,ne.sibling=null,ne}function m(ne,K,le){return ne.index=le,t?(le=ne.alternate,le!==null?(le=le.index,le<K?(ne.flags|=67108866,K):le):(ne.flags|=67108866,K)):(ne.flags|=1048576,K)}function T(ne){return t&&ne.alternate===null&&(ne.flags|=67108866),ne}function M(ne,K,le,Te){return K===null||K.tag!==6?(K=Mf(le,ne.mode,Te),K.return=ne,K):(K=h(K,le),K.return=ne,K)}function W(ne,K,le,Te){var gt=le.type;return gt===ke?we(ne,K,le.props.children,Te,le.key):K!==null&&(K.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===F&&Oo(gt)===K.type)?(K=h(K,le.props),fu(K,le),K.return=ne,K):(K=wc(le.type,le.key,le.props,null,ne.mode,Te),fu(K,le),K.return=ne,K)}function ce(ne,K,le,Te){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Nf(le,ne.mode,Te),K.return=ne,K):(K=h(K,le.children||[]),K.return=ne,K)}function we(ne,K,le,Te,gt){return K===null||K.tag!==7?(K=Ro(le,ne.mode,Te,gt),K.return=ne,K):(K=h(K,le),K.return=ne,K)}function Ce(ne,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Mf(""+K,ne.mode,le),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case re:return le=wc(K.type,K.key,K.props,null,ne.mode,le),fu(le,K),le.return=ne,le;case z:return K=Nf(K,ne.mode,le),K.return=ne,K;case F:return K=Oo(K),Ce(ne,K,le)}if(ie(K)||L(K))return K=Ro(K,ne.mode,le,null),K.return=ne,K;if(typeof K.then=="function")return Ce(ne,Rc(K),le);if(K.$$typeof===Pe)return Ce(ne,Ac(ne,K),le);Ic(ne,K)}return null}function de(ne,K,le,Te){var gt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return gt!==null?null:M(ne,K,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case re:return le.key===gt?W(ne,K,le,Te):null;case z:return le.key===gt?ce(ne,K,le,Te):null;case F:return le=Oo(le),de(ne,K,le,Te)}if(ie(le)||L(le))return gt!==null?null:we(ne,K,le,Te,null);if(typeof le.then=="function")return de(ne,K,Rc(le),Te);if(le.$$typeof===Pe)return de(ne,K,Ac(ne,le),Te);Ic(ne,le)}return null}function ge(ne,K,le,Te,gt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ne=ne.get(le)||null,M(K,ne,""+Te,gt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case re:return ne=ne.get(Te.key===null?le:Te.key)||null,W(K,ne,Te,gt);case z:return ne=ne.get(Te.key===null?le:Te.key)||null,ce(K,ne,Te,gt);case F:return Te=Oo(Te),ge(ne,K,le,Te,gt)}if(ie(Te)||L(Te))return ne=ne.get(le)||null,we(K,ne,Te,gt,null);if(typeof Te.then=="function")return ge(ne,K,le,Rc(Te),gt);if(Te.$$typeof===Pe)return ge(ne,K,le,Ac(K,Te),gt);Ic(K,Te)}return null}function ut(ne,K,le,Te){for(var gt=null,pn=null,ct=K,jt=K=0,Jt=null;ct!==null&&jt<le.length;jt++){ct.index>jt?(Jt=ct,ct=null):Jt=ct.sibling;var gn=de(ne,ct,le[jt],Te);if(gn===null){ct===null&&(ct=Jt);break}t&&ct&&gn.alternate===null&&n(ne,ct),K=m(gn,K,jt),pn===null?gt=gn:pn.sibling=gn,pn=gn,ct=Jt}if(jt===le.length)return a(ne,ct),sn&&aa(ne,jt),gt;if(ct===null){for(;jt<le.length;jt++)ct=Ce(ne,le[jt],Te),ct!==null&&(K=m(ct,K,jt),pn===null?gt=ct:pn.sibling=ct,pn=ct);return sn&&aa(ne,jt),gt}for(ct=o(ct);jt<le.length;jt++)Jt=ge(ct,ne,jt,le[jt],Te),Jt!==null&&(t&&Jt.alternate!==null&&ct.delete(Jt.key===null?jt:Jt.key),K=m(Jt,K,jt),pn===null?gt=Jt:pn.sibling=Jt,pn=Jt);return t&&ct.forEach(function(no){return n(ne,no)}),sn&&aa(ne,jt),gt}function _t(ne,K,le,Te){if(le==null)throw Error(s(151));for(var gt=null,pn=null,ct=K,jt=K=0,Jt=null,gn=le.next();ct!==null&&!gn.done;jt++,gn=le.next()){ct.index>jt?(Jt=ct,ct=null):Jt=ct.sibling;var no=de(ne,ct,gn.value,Te);if(no===null){ct===null&&(ct=Jt);break}t&&ct&&no.alternate===null&&n(ne,ct),K=m(no,K,jt),pn===null?gt=no:pn.sibling=no,pn=no,ct=Jt}if(gn.done)return a(ne,ct),sn&&aa(ne,jt),gt;if(ct===null){for(;!gn.done;jt++,gn=le.next())gn=Ce(ne,gn.value,Te),gn!==null&&(K=m(gn,K,jt),pn===null?gt=gn:pn.sibling=gn,pn=gn);return sn&&aa(ne,jt),gt}for(ct=o(ct);!gn.done;jt++,gn=le.next())gn=ge(ct,ne,jt,gn.value,Te),gn!==null&&(t&&gn.alternate!==null&&ct.delete(gn.key===null?jt:gn.key),K=m(gn,K,jt),pn===null?gt=gn:pn.sibling=gn,pn=gn);return t&&ct.forEach(function(qE){return n(ne,qE)}),sn&&aa(ne,jt),gt}function Dn(ne,K,le,Te){if(typeof le=="object"&&le!==null&&le.type===ke&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case re:e:{for(var gt=le.key;K!==null;){if(K.key===gt){if(gt=le.type,gt===ke){if(K.tag===7){a(ne,K.sibling),Te=h(K,le.props.children),Te.return=ne,ne=Te;break e}}else if(K.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===F&&Oo(gt)===K.type){a(ne,K.sibling),Te=h(K,le.props),fu(Te,le),Te.return=ne,ne=Te;break e}a(ne,K);break}else n(ne,K);K=K.sibling}le.type===ke?(Te=Ro(le.props.children,ne.mode,Te,le.key),Te.return=ne,ne=Te):(Te=wc(le.type,le.key,le.props,null,ne.mode,Te),fu(Te,le),Te.return=ne,ne=Te)}return T(ne);case z:e:{for(gt=le.key;K!==null;){if(K.key===gt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){a(ne,K.sibling),Te=h(K,le.children||[]),Te.return=ne,ne=Te;break e}else{a(ne,K);break}else n(ne,K);K=K.sibling}Te=Nf(le,ne.mode,Te),Te.return=ne,ne=Te}return T(ne);case F:return le=Oo(le),Dn(ne,K,le,Te)}if(ie(le))return ut(ne,K,le,Te);if(L(le)){if(gt=L(le),typeof gt!="function")throw Error(s(150));return le=gt.call(le),_t(ne,K,le,Te)}if(typeof le.then=="function")return Dn(ne,K,Rc(le),Te);if(le.$$typeof===Pe)return Dn(ne,K,Ac(ne,le),Te);Ic(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(a(ne,K.sibling),Te=h(K,le),Te.return=ne,ne=Te):(a(ne,K),Te=Mf(le,ne.mode,Te),Te.return=ne,ne=Te),T(ne)):a(ne,K)}return function(ne,K,le,Te){try{hu=0;var gt=Dn(ne,K,le,Te);return cl=null,gt}catch(ct){if(ct===ul||ct===Cc)throw ct;var pn=fr(29,ct,null,ne.mode);return pn.lanes=Te,pn.return=ne,pn}finally{}}}var Vo=_g(!0),bg=_g(!1),Ua=!1;function Hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function za(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(vn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xo(t),au(t,null,a),n}return Ls(t,o,n,a),xo(t)}function du(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,ns(t,a)}}function Gf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Yf=!1;function mu(){if(Yf){var t=ll;if(t!==null)throw t}}function pu(t,n,a,o){Yf=!1;var h=t.updateQueue;Ua=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var W=M,ce=W.next;W.next=null,T===null?m=ce:T.next=ce,T=W;var we=t.alternate;we!==null&&(we=we.updateQueue,M=we.lastBaseUpdate,M!==T&&(M===null?we.firstBaseUpdate=ce:M.next=ce,we.lastBaseUpdate=W))}if(m!==null){var Ce=h.baseState;T=0,we=ce=W=null,M=m;do{var de=M.lane&-536870913,ge=de!==M.lane;if(ge?($t&de)===de:(o&de)===de){de!==0&&de===ol&&(Yf=!0),we!==null&&(we=we.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ut=t,_t=M;de=n;var Dn=a;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){Ce=ut.call(Dn,Ce,de);break e}Ce=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,de=typeof ut=="function"?ut.call(Dn,Ce,de):ut,de==null)break e;Ce=O({},Ce,de);break e;case 2:Ua=!0}}de=M.callback,de!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},we===null?(ce=we=ge,W=Ce):we=we.next=ge,T|=de;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);we===null&&(W=Ce),h.baseState=W,h.firstBaseUpdate=ce,h.lastBaseUpdate=we,m===null&&(h.shared.lanes=0),Ya|=T,t.lanes=T,t.memoizedState=Ce}}function wg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Eg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],n)}var hl=j(null),Mc=j(0);function Tg(t,n){t=ya,Re(Mc,t),Re(hl,n),ya=t|n.baseLanes}function Xf(){Re(Mc,ya),Re(hl,hl.current)}function Qf(){ya=Mc.current,oe(hl),oe(Mc)}var Kr=j(null),fs=null;function Fa(t){var n=t.alternate;Re(ui,ui.current&1),Re(Kr,t),fs===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(fs=t)}function Wf(t){Re(ui,ui.current),Re(Kr,t),fs===null&&(fs=t)}function Ag(t){t.tag===22?(Re(ui,ui.current),Re(Kr,t),fs===null&&(fs=t)):Ha()}function Ha(){Re(ui,ui.current),Re(Kr,Kr.current)}function $r(t){oe(Kr),fs===t&&(fs=null),oe(ui)}var ui=j(0);function Nc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ua=0,Pt=null,Mn=null,mi=null,Dc=!1,fl=!1,Po=!1,Oc=0,gu=0,dl=null,kw=0;function ri(){throw Error(s(321))}function Kf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fe(t[a],n[a]))return!1;return!0}function $f(t,n,a,o,h,m){return ua=m,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?oy:fd,Po=!1,m=a(o,h),Po=!1,fl&&(m=Cg(n,a,o,h)),Sg(t),m}function Sg(t){q.H=_u;var n=Mn!==null&&Mn.next!==null;if(ua=0,mi=Mn=Pt=null,Dc=!1,gu=0,dl=null,n)throw Error(s(300));t===null||pi||(t=t.dependencies,t!==null&&Tc(t)&&(pi=!0))}function Cg(t,n,a,o){Pt=t;var h=0;do{if(fl&&(dl=null),gu=0,fl=!1,25<=h)throw Error(s(301));if(h+=1,mi=Mn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=ly,m=n(a,o)}while(fl);return m}function Vw(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?yu(n):n,t=t.useState()[0],(Mn!==null?Mn.memoizedState:null)!==t&&(Pt.flags|=1024),n}function Jf(){var t=Oc!==0;return Oc=0,t}function Zf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function ed(t){if(Dc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Dc=!1}ua=0,mi=Mn=Pt=null,fl=!1,gu=Oc=0,dl=null}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Pt.memoizedState=mi=t:mi=mi.next=t,mi}function ci(){if(Mn===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var n=mi===null?Pt.memoizedState:mi.next;if(n!==null)mi=n,Mn=t;else{if(t===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},mi===null?Pt.memoizedState=mi=t:mi=mi.next=t}return mi}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(t){var n=gu;return gu+=1,dl===null&&(dl=[]),t=gg(dl,t,n),n=Pt,(mi===null?n.memoizedState:mi.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?oy:fd),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yu(t);if(t.$$typeof===Pe)return Xi(t)}throw Error(s(438,String(t)))}function td(t){var n=null,a=Pt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=kc(),Pt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=H;return n.index++,a}function ca(t,n){return typeof n=="function"?n(t):n}function Pc(t){var n=ci();return nd(n,Mn,t)}function nd(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,W=null,ce=n,we=!1;do{var Ce=ce.lane&-536870913;if(Ce!==ce.lane?($t&Ce)===Ce:(ua&Ce)===Ce){var de=ce.revertLane;if(de===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ce===ol&&(we=!0);else if((ua&de)===de){ce=ce.next,de===ol&&(we=!0);continue}else Ce={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},W===null?(M=W=Ce,T=m):W=W.next=Ce,Pt.lanes|=de,Ya|=de;Ce=ce.action,Po&&a(m,Ce),m=ce.hasEagerState?ce.eagerState:a(m,Ce)}else de={lane:Ce,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},W===null?(M=W=de,T=m):W=W.next=de,Pt.lanes|=Ce,Ya|=Ce;ce=ce.next}while(ce!==null&&ce!==n);if(W===null?T=m:W.next=M,!fe(m,t.memoizedState)&&(pi=!0,we&&(a=ll,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=W,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function id(t){var n=ci(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);fe(m,n.memoizedState)||(pi=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function xg(t,n,a){var o=Pt,h=ci(),m=sn;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!fe((Mn||h).memoizedState,a);if(T&&(h.memoizedState=a,pi=!0),h=h.queue,ad(Mg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||mi!==null&&mi.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Ig.bind(null,o,h,a,n),null),Ln===null)throw Error(s(349));m||(ua&127)!==0||Rg(o,n,a)}return a}function Rg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Pt.updateQueue,n===null?(n=kc(),Pt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ig(t,n,a,o){n.value=a,n.getSnapshot=o,Ng(n)&&Dg(t)}function Mg(t,n,a){return a(function(){Ng(n)&&Dg(t)})}function Ng(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fe(t,a)}catch{return!0}}function Dg(t){var n=Cr(t,2);n!==null&&zr(n,t,2)}function rd(t){var n=xr();if(typeof t=="function"){var a=t;if(t=a(),Po){qe(!0);try{a()}finally{qe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},n}function Og(t,n,a,o){return t.baseState=a,nd(t,Mn,typeof o=="function"?o:ca)}function Pw(t,n,a,o,h){if(Uc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};q.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,kg(n,m)):(m.next=a.next,n.pending=a.next=m)}}function kg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=q.T,T={};q.T=T;try{var M=a(h,o),W=q.S;W!==null&&W(T,M),Vg(t,n,M)}catch(ce){sd(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),q.T=m}}else try{m=a(h,o),Vg(t,n,m)}catch(ce){sd(t,n,ce)}}function Vg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Pg(t,n,o)},function(o){return sd(t,n,o)}):Pg(t,n,a)}function Pg(t,n,a){n.status="fulfilled",n.value=a,Lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,kg(t,a)))}function sd(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==o)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jg(t,n){return n}function Ug(t,n){if(sn){var a=Ln.formState;if(a!==null){e:{var o=Pt;if(sn){if(Yn){t:{for(var h=Yn,m=hs;h.nodeType!==8;){if(!m){h=null;break t}if(h=ds(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Yn=ds(h.nextSibling),o=h.data==="F!";break e}}La(o)}o=!1}o&&(n=a[0])}}return a=xr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},a.queue=o,a=ry.bind(null,Pt,o),o.dispatch=a,o=rd(!1),m=hd.bind(null,Pt,!1,o.queue),o=xr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Pw.bind(null,Pt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function zg(t){var n=ci();return Bg(n,Mn,t)}function Bg(t,n,a){if(n=nd(t,n,jg)[0],t=Pc(ca)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=yu(n)}catch(T){throw T===ul?Cc:T}else o=n;n=ci();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(Pt.flags|=2048,ml(9,{destroy:void 0},Lw.bind(null,h,a),null)),[o,m,t]}function Lw(t,n){t.action=n}function Fg(t){var n=ci(),a=Mn;if(a!==null)return Bg(n,a,t);ci(),n=n.memoizedState,a=ci();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ml(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Pt.updateQueue,n===null&&(n=kc(),Pt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Hg(){return ci().memoizedState}function Lc(t,n,a,o){var h=xr();Pt.flags|=t,h.memoizedState=ml(1|n,{destroy:void 0},a,o===void 0?null:o)}function jc(t,n,a,o){var h=ci();o=o===void 0?null:o;var m=h.memoizedState.inst;Mn!==null&&o!==null&&Kf(o,Mn.memoizedState.deps)?h.memoizedState=ml(n,m,a,o):(Pt.flags|=t,h.memoizedState=ml(1|n,m,a,o))}function qg(t,n){Lc(8390656,8,t,n)}function ad(t,n){jc(2048,8,t,n)}function jw(t){Pt.flags|=4;var n=Pt.updateQueue;if(n===null)n=kc(),Pt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gg(t){var n=ci().memoizedState;return jw({ref:n,nextImpl:t}),function(){if((vn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Yg(t,n){return jc(4,2,t,n)}function Xg(t,n){return jc(4,4,t,n)}function Qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wg(t,n,a){a=a!=null?a.concat([t]):null,jc(4,4,Qg.bind(null,n,t),a)}function od(){}function Kg(t,n){var a=ci();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Kf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function $g(t,n){var a=ci();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Kf(n,o[1]))return o[0];if(o=t(),Po){qe(!0);try{t()}finally{qe(!1)}}return a.memoizedState=[o,n],o}function ld(t,n,a){return a===void 0||(ua&1073741824)!==0&&($t&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Jy(),Pt.lanes|=t,Ya|=t,a)}function Jg(t,n,a,o){return fe(a,n)?a:hl.current!==null?(t=ld(t,a,o),fe(t,n)||(pi=!0),t):(ua&42)===0||(ua&1073741824)!==0&&($t&261930)===0?(pi=!0,t.memoizedState=a):(t=Jy(),Pt.lanes|=t,Ya|=t,n)}function Zg(t,n,a,o,h){var m=Q.p;Q.p=m!==0&&8>m?m:8;var T=q.T,M={};q.T=M,hd(t,!1,n,a);try{var W=h(),ce=q.S;if(ce!==null&&ce(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var we=Ow(W,o);vu(t,n,we,es(t))}else vu(t,n,o,es(t))}catch(Ce){vu(t,n,{then:function(){},status:"rejected",reason:Ce},es())}finally{Q.p=m,T!==null&&M.types!==null&&(T.types=M.types),q.T=T}}function Uw(){}function ud(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=ey(t).queue;Zg(t,h,n,ye,a===null?Uw:function(){return ty(t),a(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),vu(t,n.next.queue,{},es())}function cd(){return Xi(Vu)}function ny(){return ci().memoizedState}function iy(){return ci().memoizedState}function zw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=es();t=za(a);var o=Ba(n,t,a);o!==null&&(zr(o,n,a),du(o,n,a)),n={cache:Uf()},t.payload=n;return}n=n.return}}function Bw(t,n,a){var o=es();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uc(t)?sy(n,a):(a=Cs(t,n,a,o),a!==null&&(zr(a,t,o),ay(a,n,o)))}function ry(t,n,a){var o=es();vu(t,n,a,o)}function vu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uc(t))sy(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,a);if(h.hasEagerState=!0,h.eagerState=M,fe(M,T))return Ls(t,n,h,0),Ln===null&&Ps(),!1}catch{}finally{}if(a=Cs(t,n,h,o),a!==null)return zr(a,t,o),ay(a,n,o),!0}return!1}function hd(t,n,a,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uc(t)){if(n)throw Error(s(479))}else n=Cs(t,a,o,2),n!==null&&zr(n,t,2)}function Uc(t){var n=t.alternate;return t===Pt||n!==null&&n===Pt}function sy(t,n){fl=Dc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ay(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,ns(t,a)}}var _u={readContext:Xi,use:Vc,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useInsertionEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useSyncExternalStore:ri,useId:ri,useHostTransitionStatus:ri,useFormState:ri,useActionState:ri,useOptimistic:ri,useMemoCache:ri,useCacheRefresh:ri};_u.useEffectEvent=ri;var oy={readContext:Xi,use:Vc,useCallback:function(t,n){return xr().memoizedState=[t,n===void 0?null:n],t},useContext:Xi,useEffect:qg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Lc(4194308,4,Qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Lc(4194308,4,t,n)},useInsertionEffect:function(t,n){Lc(4,2,t,n)},useMemo:function(t,n){var a=xr();n=n===void 0?null:n;var o=t();if(Po){qe(!0);try{t()}finally{qe(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=xr();if(a!==void 0){var h=a(n);if(Po){qe(!0);try{a(n)}finally{qe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Bw.bind(null,Pt,t),[o.memoizedState,t]},useRef:function(t){var n=xr();return t={current:t},n.memoizedState=t},useState:function(t){t=rd(t);var n=t.queue,a=ry.bind(null,Pt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,n){var a=xr();return ld(a,t,n)},useTransition:function(){var t=rd(!1);return t=Zg.bind(null,Pt,t.queue,!0,!1),xr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Pt,h=xr();if(sn){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Ln===null)throw Error(s(349));($t&127)!==0||Rg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,qg(Mg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Ig.bind(null,o,m,a,n),null),a},useId:function(){var t=xr(),n=Ln.identifierPrefix;if(sn){var a=Us,o=js;a=(o&~(1<<32-Be(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Oc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=kw++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:cd,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=xr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=hd.bind(null,Pt,!0,a),a.dispatch=n,[t,n]},useMemoCache:td,useCacheRefresh:function(){return xr().memoizedState=zw.bind(null,Pt)},useEffectEvent:function(t){var n=xr(),a={impl:t};return n.memoizedState=a,function(){if((vn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:Xi,use:Vc,useCallback:Kg,useContext:Xi,useEffect:ad,useImperativeHandle:Wg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:$g,useReducer:Pc,useRef:Hg,useState:function(){return Pc(ca)},useDebugValue:od,useDeferredValue:function(t,n){var a=ci();return Jg(a,Mn.memoizedState,t,n)},useTransition:function(){var t=Pc(ca)[0],n=ci().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:xg,useId:ny,useHostTransitionStatus:cd,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=ci();return Og(a,Mn,t,n)},useMemoCache:td,useCacheRefresh:iy};fd.useEffectEvent=Gg;var ly={readContext:Xi,use:Vc,useCallback:Kg,useContext:Xi,useEffect:ad,useImperativeHandle:Wg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:$g,useReducer:id,useRef:Hg,useState:function(){return id(ca)},useDebugValue:od,useDeferredValue:function(t,n){var a=ci();return Mn===null?ld(a,t,n):Jg(a,Mn.memoizedState,t,n)},useTransition:function(){var t=id(ca)[0],n=ci().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:xg,useId:ny,useHostTransitionStatus:cd,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,n){var a=ci();return Mn!==null?Og(a,Mn,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:iy};ly.useEffectEvent=Gg;function dd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:O({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var md={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=es(),h=za(o);h.payload=n,a!=null&&(h.callback=a),n=Ba(t,h,o),n!==null&&(zr(n,t,o),du(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=es(),h=za(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ba(t,h,o),n!==null&&(zr(n,t,o),du(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=es(),o=za(a);o.tag=2,n!=null&&(o.callback=n),n=Ba(t,o,a),n!==null&&(zr(n,t,a),du(n,t,a))}};function uy(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(a,o)||!ue(h,m):!0}function cy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&md.enqueueReplaceState(n,n.state,null)}function Lo(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=O({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){Gi(t)}function fy(t){console.error(t)}function dy(t){Gi(t)}function zc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,n,a){return a=za(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(t,n)},a}function py(t){return t=za(t),t.tag=3,t}function gy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){my(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){my(n,a,o),typeof h!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function Fw(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&al(n,a,h,!0),a=Kr.current,a!==null){switch(a.tag){case 31:case 13:return fs===null?Jc():a.alternate===null&&si===0&&(si=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===xc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),zd(t,o,h)),!1;case 22:return a.flags|=65536,o===xc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),zd(t,o,h)),!1}throw Error(s(435,a.tag))}return zd(t,o,h),Jc(),!1}if(sn)return n=Kr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==kf&&(t=Error(s(422),{cause:o}),lu(ls(t,a)))):(o!==kf&&(n=Error(s(423),{cause:o}),lu(ls(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ls(o,a),h=pd(t.stateNode,o,h),Gf(t,h),si!==4&&(si=2)),!1;var m=Error(s(520),{cause:o});if(m=ls(m,a),xu===null?xu=[m]:xu.push(m),si!==4&&(si=2),n===null)return!0;o=ls(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pd(a.stateNode,o,t),Gf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xa===null||!Xa.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,o),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var gd=Error(s(461)),pi=!1;function Qi(t,n,a,o){n.child=t===null?bg(n,null,a,o):Vo(n,t.child,a,o)}function yy(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return No(n),o=$f(t,n,a,T,m,h),M=Jf(),t!==null&&!pi?(Zf(t,n,h),ha(t,n,h)):(sn&&M&&Df(n),n.flags|=1,Qi(t,n,o,h),n.child)}function vy(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!If(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,_y(t,n,m,o,h)):(t=wc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Ad(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:ue,a(T,o)&&t.ref===n.ref)return ha(t,n,h)}return n.flags|=1,t=sa(m,o),t.ref=n.ref,t.return=n,n.child=t}function _y(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(pi=!1,n.pendingProps=o=m,Ad(t,h))(t.flags&131072)!==0&&(pi=!0);else return n.lanes=t.lanes,ha(t,n,h)}return yd(t,n,a,o,h)}function by(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return wy(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(n,m!==null?m.cachePool:null),m!==null?Tg(n,m):Xf(),Ag(n);else return o=n.lanes=536870912,wy(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Sc(n,m.cachePool),Tg(n,m),Ha(),n.memoizedState=null):(t!==null&&Sc(n,null),Xf(),Ha());return Qi(t,n,h,a),n.child}function bu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function wy(t,n,a,o,h){var m=Bf();return m=m===null?null:{parent:di._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&Sc(n,null),Xf(),Ag(n),t!==null&&al(t,n,o,!0),n.childLanes=h,null}function Bc(t,n){return n=Hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ey(t,n,a){return Vo(n,t.child,null,a),t=Bc(n,n.pendingProps),t.flags|=2,$r(n),n.memoizedState=null,t}function Hw(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(sn){if(o.mode==="hidden")return t=Bc(n,o),n.lanes=536870912,bu(null,t);if(Wf(n),(t=Yn)?(t=kv(t,hs),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Va!==null?{id:js,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},a=sg(t),a.return=n,n.child=a,Yi=n,Yn=null)):t=null,t===null)throw La(n);return n.lanes=536870912,null}return Bc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Wf(n),h)if(n.flags&256)n.flags&=-257,n=Ey(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(pi||al(t,n,a,!1),h=(a&t.childLanes)!==0,pi||h){if(o=Ln,o!==null&&(T=Si(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,Cr(t,T),zr(o,t,T),gd;Jc(),n=Ey(t,n,a)}else t=m.treeContext,Yn=ds(T.nextSibling),Yi=n,sn=!0,Pa=null,hs=!1,t!==null&&lg(n,t),n=Bc(n,o),n.flags|=4096;return n}return t=sa(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Fc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function yd(t,n,a,o,h){return No(n),a=$f(t,n,a,o,void 0,h),o=Jf(),t!==null&&!pi?(Zf(t,n,h),ha(t,n,h)):(sn&&o&&Df(n),n.flags|=1,Qi(t,n,a,h),n.child)}function Ty(t,n,a,o,h,m){return No(n),n.updateQueue=null,a=Cg(n,o,a,h),Sg(t),o=Jf(),t!==null&&!pi?(Zf(t,n,m),ha(t,n,m)):(sn&&o&&Df(n),n.flags|=1,Qi(t,n,a,m),n.child)}function Ay(t,n,a,o,h){if(No(n),n.stateNode===null){var m=Wr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Xi(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=md,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Hf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Xi(T):Wr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(dd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&md.enqueueReplaceState(m,m.state,null),pu(n,o,m,h),mu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,W=Lo(a,M);m.props=W;var ce=m.context,we=a.contextType;T=Wr,typeof we=="object"&&we!==null&&(T=Xi(we));var Ce=a.getDerivedStateFromProps;we=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,we||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ce!==T)&&cy(n,m,o,T),Ua=!1;var de=n.memoizedState;m.state=de,pu(n,o,m,h),mu(),ce=n.memoizedState,M||de!==ce||Ua?(typeof Ce=="function"&&(dd(n,a,Ce,o),ce=n.memoizedState),(W=Ua||uy(n,a,W,o,de,ce,T))?(we||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=W):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,qf(t,n),T=n.memoizedProps,we=Lo(a,T),m.props=we,Ce=n.pendingProps,de=m.context,ce=a.contextType,W=Wr,typeof ce=="object"&&ce!==null&&(W=Xi(ce)),M=a.getDerivedStateFromProps,(ce=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ce||de!==W)&&cy(n,m,o,W),Ua=!1,de=n.memoizedState,m.state=de,pu(n,o,m,h),mu();var ge=n.memoizedState;T!==Ce||de!==ge||Ua||t!==null&&t.dependencies!==null&&Tc(t.dependencies)?(typeof M=="function"&&(dd(n,a,M,o),ge=n.memoizedState),(we=Ua||uy(n,a,we,o,de,ge,W)||t!==null&&t.dependencies!==null&&Tc(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,W),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,W)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=W,o=we):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Fc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Vo(n,t.child,null,h),n.child=Vo(n,null,a,h)):Qi(t,n,a,h),n.memoizedState=m.state,t=n.child):t=ha(t,n,h),t}function Sy(t,n,a,o){return Io(),n.flags|=256,Qi(t,n,a,o),n.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:mg()}}function bd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Zr),t}function Cy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ui.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(sn){if(h?Fa(n):Ha(),(t=Yn)?(t=kv(t,hs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Va!==null?{id:js,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},a=sg(t),a.return=n,n.child=a,Yi=n,Yn=null)):t=null,t===null)throw La(n);return nm(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Ha(),h=n.mode,M=Hc({mode:"hidden",children:M},h),o=Ro(o,h,a,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=_d(a),o.childLanes=bd(t,T,a),n.memoizedState=vd,bu(null,o)):(Fa(n),wd(n,M))}var W=t.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(m)n.flags&256?(Fa(n),n.flags&=-257,n=Ed(t,n,a)):n.memoizedState!==null?(Ha(),n.child=t.child,n.flags|=128,n=null):(Ha(),M=o.fallback,h=n.mode,o=Hc({mode:"visible",children:o.children},h),M=Ro(M,h,a,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Vo(n,t.child,null,a),o=n.child,o.memoizedState=_d(a),o.childLanes=bd(t,T,a),n.memoizedState=vd,n=bu(null,o));else if(Fa(n),nm(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(s(419)),o.stack="",o.digest=T,lu({value:o,source:null,stack:null}),n=Ed(t,n,a)}else if(pi||al(t,n,a,!1),T=(a&t.childLanes)!==0,pi||T){if(T=Ln,T!==null&&(o=Si(T,a),o!==0&&o!==W.retryLane))throw W.retryLane=o,Cr(t,o),zr(T,t,o),gd;tm(M)||Jc(),n=Ed(t,n,a)}else tm(M)?(n.flags|=192,n.child=t.child,n=null):(t=W.treeContext,Yn=ds(M.nextSibling),Yi=n,sn=!0,Pa=null,hs=!1,t!==null&&lg(n,t),n=wd(n,o.children),n.flags|=4096);return n}return h?(Ha(),M=o.fallback,h=n.mode,W=t.child,ce=W.sibling,o=sa(W,{mode:"hidden",children:o.children}),o.subtreeFlags=W.subtreeFlags&65011712,ce!==null?M=sa(ce,M):(M=Ro(M,h,a,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,bu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=_d(a):(h=M.cachePool,h!==null?(W=di._currentValue,h=h.parent!==W?{parent:W,pool:W}:h):h=mg(),M={baseLanes:M.baseLanes|a,cachePool:h}),o.memoizedState=M,o.childLanes=bd(t,T,a),n.memoizedState=vd,bu(t.child,o)):(Fa(n),a=t.child,t=a.sibling,a=sa(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function wd(t,n){return n=Hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hc(t,n){return t=fr(22,t,null,n),t.lanes=0,t}function Ed(t,n,a){return Vo(n,t.child,null,a),t=wd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Lf(t.return,n,a)}function Td(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function Ry(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ui.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Re(ui,T),Qi(t,n,o,a),o=sn?ou:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,a,n);else if(t.tag===19)xy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Td(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Nc(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(n,!0,a,null,m,o);break;case"together":Td(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ha(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ya|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(al(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=sa(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=sa(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ad(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tc(t)))}function qw(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),ja(n,di,t.memoizedState.cache),Io();break;case 27:case 5:Rt(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:ja(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Cy(t,n,a):(Fa(n),t=ha(t,n,a),t!==null?t.sibling:null);Fa(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(al(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ry(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Re(ui,ui.current),o)break;return null;case 22:return n.lanes=0,by(t,n,a,n.pendingProps);case 24:ja(n,di,t.memoizedState.cache)}return ha(t,n,a)}function Iy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)pi=!0;else{if(!Ad(t,a)&&(n.flags&128)===0)return pi=!1,qw(t,n,a);pi=(t.flags&131072)!==0}else pi=!1,sn&&(n.flags&1048576)!==0&&og(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oo(n.elementType),n.type=t,typeof t=="function")If(t)?(o=Lo(t,o),n.tag=1,n=Ay(null,n,t,o,a)):(n.tag=0,n=yd(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=yy(null,n,t,o,a);break e}else if(h===Y){n.tag=14,n=vy(null,n,t,o,a);break e}}throw n=$(t)||t,Error(s(306,n,""))}}return n;case 0:return yd(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Lo(o,n.pendingProps),Ay(t,n,o,h,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,qf(t,n),pu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,ja(n,di,o),o!==m.cache&&jf(n,[di],a,!0),mu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Sy(t,n,o,a);break e}else if(o!==h){h=ls(Error(s(424)),n),lu(h),n=Sy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Yn=ds(t.firstChild),Yi=n,sn=!0,Pa=null,hs=!0,a=bg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),o===h){n=ha(t,n,a);break e}Qi(t,n,o,a)}n=n.child}return n;case 26:return Fc(t,n),t===null?(a=zv(n.type,null,n.pendingProps,null))?n.memoizedState=a:sn||(a=n.type,t=n.pendingProps,o=sh(Qe.current).createElement(a),o[fn]=n,o[ei]=t,Wi(o,a,t),Vn(o),n.stateNode=o):n.memoizedState=zv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Rt(n),t===null&&sn&&(o=n.stateNode=Lv(n.type,n.pendingProps,Qe.current),Yi=n,hs=!0,h=Yn,$a(n.type)?(im=h,Yn=ds(o.firstChild)):Yn=h),Qi(t,n,n.pendingProps.children,a),Fc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&sn&&((h=o=Yn)&&(o=bE(o,n.type,n.pendingProps,hs),o!==null?(n.stateNode=o,Yi=n,Yn=ds(o.firstChild),hs=!1,h=!0):h=!1),h||La(n)),Rt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Jd(h,m)?o=null:T!==null&&Jd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=$f(t,n,Vw,null,null,a),Vu._currentValue=h),Fc(t,n),Qi(t,n,o,a),n.child;case 6:return t===null&&sn&&((t=a=Yn)&&(a=wE(a,n.pendingProps,hs),a!==null?(n.stateNode=a,Yi=n,Yn=null,t=!0):t=!1),t||La(n)),null;case 13:return Cy(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vo(n,null,o,a):Qi(t,n,o,a),n.child;case 11:return yy(t,n,n.type,n.pendingProps,a);case 7:return Qi(t,n,n.pendingProps,a),n.child;case 8:return Qi(t,n,n.pendingProps.children,a),n.child;case 12:return Qi(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ja(n,n.type,o.value),Qi(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,No(n),h=Xi(h),o=o(h),n.flags|=1,Qi(t,n,o,a),n.child;case 14:return vy(t,n,n.type,n.pendingProps,a);case 15:return _y(t,n,n.type,n.pendingProps,a);case 19:return Ry(t,n,a);case 31:return Hw(t,n,a);case 22:return by(t,n,a,n.pendingProps);case 24:return No(n),o=Xi(di),t===null?(h=Bf(),h===null&&(h=Ln,m=Uf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Hf(n),ja(n,di,h)):((t.lanes&a)!==0&&(qf(t,n),pu(n,null,null,a),mu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ja(n,di,o)):(o=m.cache,ja(n,di,o),o!==h.cache&&jf(n,[di],a,!0))),Qi(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function fa(t){t.flags|=4}function Sd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(nv())t.flags|=8192;else throw ko=xc,Ff}else t.flags&=-16777217}function My(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gv(n))if(nv())t.flags|=8192;else throw ko=xc,Ff}function qc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ke():536870912,t.lanes|=n,vl|=n)}function wu(t,n){if(!sn)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Xn(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Gw(t,n,a){var o=n.pendingProps;switch(Of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(n),null;case 1:return Xn(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),la(di),bt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(n)?fa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vf())),Xn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(fa(n),m!==null?(Xn(n),My(n,m)):(Xn(n),Sd(n,h,null,o,a))):m?m!==t.memoizedState?(fa(n),Xn(n),My(n,m)):(Xn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&fa(n),Xn(n),Sd(n,h,t,o,a)),null;case 27:if(bn(n),a=Qe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fa(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Xn(n),null}t=Ae.current,sl(n)?ug(n):(t=Lv(h,o,a),n.stateNode=t,fa(n))}return Xn(n),null;case 5:if(bn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fa(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Xn(n),null}if(m=Ae.current,sl(n))ug(n);else{var T=sh(Qe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[fn]=n,m[ei]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Wi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fa(n)}}return Xn(n),Sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&fa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Qe.current,sl(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Yi,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[fn]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Cv(t.nodeValue,a)),t||La(n,!0)}else t=sh(t).createTextNode(o),t[fn]=n,n.stateNode=t}return Xn(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=sl(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[fn]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xn(n),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?($r(n),n):($r(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Xn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[fn]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xn(n),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?($r(n),n):($r(n),null)}return $r(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),qc(n,n.updateQueue),Xn(n),null);case 4:return bt(),t===null&&Xd(n.stateNode.containerInfo),Xn(n),null;case 10:return la(n.type),Xn(n),null;case 19:if(oe(ui),o=n.memoizedState,o===null)return Xn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)wu(o,!1);else{if(si!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Nc(t),m!==null){for(n.flags|=128,wu(o,!1),t=m.updateQueue,n.updateQueue=t,qc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rg(a,t),a=a.sibling;return Re(ui,ui.current&1|2),sn&&aa(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&It()>Wc&&(n.flags|=128,h=!0,wu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Nc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,qc(n,t),wu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!sn)return Xn(n),null}else 2*It()-o.renderingStartTime>Wc&&a!==536870912&&(n.flags|=128,h=!0,wu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=It(),t.sibling=null,a=ui.current,Re(ui,h?a&1|2:a&1),sn&&aa(n,o.treeForkCount),t):(Xn(n),null);case 22:case 23:return $r(n),Qf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Xn(n),n.subtreeFlags&6&&(n.flags|=8192)):Xn(n),a=n.updateQueue,a!==null&&qc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&oe(Do),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),la(di),Xn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Yw(t,n){switch(Of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return la(di),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return bn(n),null;case 31:if(n.memoizedState!==null){if($r(n),n.alternate===null)throw Error(s(340));Io()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if($r(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Io()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(ui),null;case 4:return bt(),null;case 10:return la(n.type),null;case 22:case 23:return $r(n),Qf(),t!==null&&oe(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return la(di),null;case 25:return null;default:return null}}function Ny(t,n){switch(Of(n),n.tag){case 3:la(di),bt();break;case 26:case 27:case 5:bn(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&$r(n);break;case 13:$r(n);break;case 19:oe(ui);break;case 10:la(n.type);break;case 22:case 23:$r(n),Qf(),t!==null&&oe(Do);break;case 24:la(di)}}function Eu(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(M){xn(n,n.return,M)}}function qa(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var W=a,ce=M;try{ce()}catch(we){xn(h,W,we)}}}o=o.next}while(o!==m)}}catch(we){xn(n,n.return,we)}}function Dy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Eg(n,a)}catch(o){xn(t,t.return,o)}}}function Oy(t,n,a){a.props=Lo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){xn(t,n,o)}}function Tu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){xn(t,n,h)}}function zs(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){xn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){xn(t,n,h)}else a.current=null}function ky(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){xn(t,t.return,h)}}function Cd(t,n,a){try{var o=t.stateNode;mE(o,t.type,a,n),o[ei]=n}catch(h){xn(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$a(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$a(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=or));else if(o!==4&&(o===27&&$a(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Rd(t,n,a),t=t.sibling;t!==null;)Rd(t,n,a),t=t.sibling}function Gc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&$a(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gc(t,n,a),t=t.sibling;t!==null;)Gc(t,n,a),t=t.sibling}function Py(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Wi(n,o,a),n[fn]=t,n[ei]=a}catch(m){xn(t,t.return,m)}}var da=!1,gi=!1,Id=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Ri=null;function Xw(t,n){if(t=t.containerInfo,Kd=fh,t=te(t),je(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,M=-1,W=-1,ce=0,we=0,Ce=t,de=null;t:for(;;){for(var ge;Ce!==a||h!==0&&Ce.nodeType!==3||(M=T+h),Ce!==m||o!==0&&Ce.nodeType!==3||(W=T+o),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ge=Ce.firstChild)!==null;)de=Ce,Ce=ge;for(;;){if(Ce===t)break t;if(de===a&&++ce===h&&(M=T),de===m&&++we===o&&(W=T),(ge=Ce.nextSibling)!==null)break;Ce=de,de=Ce.parentNode}Ce=ge}a=M===-1||W===-1?null:{start:M,end:W}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},fh=!1,Ri=n;Ri!==null;)if(n=Ri,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ri=t;else for(;Ri!==null;){switch(n=Ri,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ut=Lo(a.type,h);t=o.getSnapshotBeforeUpdate(ut,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_t){xn(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ri=t;break}Ri=n.return}}function jy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:pa(t,a),o&4&&Eu(5,a);break;case 1:if(pa(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){xn(a,a.return,T)}else{var h=Lo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xn(a,a.return,T)}}o&64&&Dy(a),o&512&&Tu(a,a.return);break;case 3:if(pa(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Eg(t,n)}catch(T){xn(a,a.return,T)}}break;case 27:n===null&&o&4&&Py(a);case 26:case 5:pa(t,a),n===null&&o&4&&ky(a),o&512&&Tu(a,a.return);break;case 12:pa(t,a);break;case 31:pa(t,a),o&4&&By(t,a);break;case 13:pa(t,a),o&4&&Fy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nE.bind(null,a),EE(t,a))));break;case 22:if(o=a.memoizedState!==null||da,!o){n=n!==null&&n.memoizedState!==null||gi,h=da;var m=gi;da=o,(gi=n)&&!m?ga(t,a,(a.subtreeFlags&8772)!==0):pa(t,a),da=h,gi=m}break;case 30:break;default:pa(t,a)}}function Uy(t){var n=t.alternate;n!==null&&(t.alternate=null,Uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jn=null,Pr=!1;function ma(t,n,a){for(a=a.child;a!==null;)zy(t,n,a),a=a.sibling}function zy(t,n,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(et,a)}catch{}switch(a.tag){case 26:gi||zs(a,n),ma(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gi||zs(a,n);var o=Jn,h=Pr;$a(a.type)&&(Jn=a.stateNode,Pr=!1),ma(t,n,a),Du(a.stateNode),Jn=o,Pr=h;break;case 5:gi||zs(a,n);case 6:if(o=Jn,h=Pr,Jn=null,ma(t,n,a),Jn=o,Pr=h,Jn!==null)if(Pr)try{(Jn.nodeType===9?Jn.body:Jn.nodeName==="HTML"?Jn.ownerDocument.body:Jn).removeChild(a.stateNode)}catch(m){xn(a,n,m)}else try{Jn.removeChild(a.stateNode)}catch(m){xn(a,n,m)}break;case 18:Jn!==null&&(Pr?(t=Jn,Dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):Dv(Jn,a.stateNode));break;case 4:o=Jn,h=Pr,Jn=a.stateNode.containerInfo,Pr=!0,ma(t,n,a),Jn=o,Pr=h;break;case 0:case 11:case 14:case 15:qa(2,a,n),gi||qa(4,a,n),ma(t,n,a);break;case 1:gi||(zs(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,n,o)),ma(t,n,a);break;case 21:ma(t,n,a);break;case 22:gi=(o=gi)||a.memoizedState!==null,ma(t,n,a),gi=o;break;default:ma(t,n,a)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(a){xn(n,n.return,a)}}}function Fy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){xn(n,n.return,a)}}function Qw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(s(435,t.tag))}}function Yc(t,n){var a=Qw(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=iE.bind(null,t,o);o.then(h,h)}})}function Lr(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if($a(M.type)){Jn=M.stateNode,Pr=!1;break e}break;case 5:Jn=M.stateNode,Pr=!1;break e;case 3:case 4:Jn=M.stateNode.containerInfo,Pr=!0;break e}M=M.return}if(Jn===null)throw Error(s(160));zy(m,T,h),Jn=null,Pr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var xs=null;function Hy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lr(n,t),jr(t),o&4&&(qa(3,t,t.return),Eu(3,t),qa(5,t,t.return));break;case 1:Lr(n,t),jr(t),o&512&&(gi||a===null||zs(a,a.return)),o&64&&da&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=xs;if(Lr(n,t),jr(t),o&512&&(gi||a===null||zs(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[tr]||m[fn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Wi(m,o,a),m[fn]=t,Vn(m),o=m;break e;case"link":var T=Hv("link","href",h).get(o+(a.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Wi(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Hv("meta","content",h).get(o+(a.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Wi(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[fn]=t,Vn(m),o=m}t.stateNode=o}else qv(h,t.type,t.stateNode);else t.stateNode=Fv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?qv(h,t.type,t.stateNode):Fv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Lr(n,t),jr(t),o&512&&(gi||a===null||zs(a,a.return)),a!==null&&o&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Lr(n,t),jr(t),o&512&&(gi||a===null||zs(a,a.return)),t.flags&32){h=t.stateNode;try{ti(h,"")}catch(ut){xn(t,t.return,ut)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Id=!0);break;case 6:if(Lr(n,t),jr(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ut){xn(t,t.return,ut)}}break;case 3:if(lh=null,h=xs,xs=ah(n.containerInfo),Lr(n,t),xs=h,jr(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(ut){xn(t,t.return,ut)}Id&&(Id=!1,qy(t));break;case 4:o=xs,xs=ah(t.stateNode.containerInfo),Lr(n,t),jr(t),xs=o;break;case 12:Lr(n,t),jr(t);break;case 31:Lr(n,t),jr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 13:Lr(n,t),jr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qc=It()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 22:h=t.memoizedState!==null;var W=a!==null&&a.memoizedState!==null,ce=da,we=gi;if(da=ce||h,gi=we||W,Lr(n,t),gi=we,da=ce,jr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||W||da||gi||jo(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){W=a=n;try{if(m=W.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=W.stateNode;var Ce=W.memoizedProps.style,de=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;M.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ut){xn(W,W.return,ut)}}}else if(n.tag===6){if(a===null){W=n;try{W.stateNode.nodeValue=h?"":W.memoizedProps}catch(ut){xn(W,W.return,ut)}}}else if(n.tag===18){if(a===null){W=n;try{var ge=W.stateNode;h?Ov(ge,!0):Ov(W.stateNode,!1)}catch(ut){xn(W,W.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Yc(t,a))));break;case 19:Lr(n,t),jr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 30:break;case 21:break;default:Lr(n,t),jr(t)}}function jr(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=xd(t);Gc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(ti(T,""),a.flags&=-33);var M=xd(t);Gc(t,M,T);break;case 3:case 4:var W=a.stateNode.containerInfo,ce=xd(t);Rd(t,ce,W);break;default:throw Error(s(161))}}catch(we){xn(t,t.return,we)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function pa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jy(t,n.alternate,n),n=n.sibling}function jo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qa(4,n,n.return),jo(n);break;case 1:zs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Oy(n,n.return,a),jo(n);break;case 27:Du(n.stateNode);case 26:case 5:zs(n,n.return),jo(n);break;case 22:n.memoizedState===null&&jo(n);break;case 30:jo(n);break;default:jo(n)}t=t.sibling}}function ga(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:ga(h,m,a),Eu(4,m);break;case 1:if(ga(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ce){xn(o,o.return,ce)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var W=h.shared.hiddenCallbacks;if(W!==null)for(h.shared.hiddenCallbacks=null,h=0;h<W.length;h++)wg(W[h],M)}catch(ce){xn(o,o.return,ce)}}a&&T&64&&Dy(m),Tu(m,m.return);break;case 27:Py(m);case 26:case 5:ga(h,m,a),a&&o===null&&T&4&&ky(m),Tu(m,m.return);break;case 12:ga(h,m,a);break;case 31:ga(h,m,a),a&&T&4&&By(h,m);break;case 13:ga(h,m,a),a&&T&4&&Fy(h,m);break;case 22:m.memoizedState===null&&ga(h,m,a),Tu(m,m.return);break;case 30:break;default:ga(h,m,a)}n=n.sibling}}function Md(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&uu(a))}function Nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t))}function Rs(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,a,o),n=n.sibling}function Gy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Rs(t,n,a,o),h&2048&&Eu(9,n);break;case 1:Rs(t,n,a,o);break;case 3:Rs(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t)));break;case 12:if(h&2048){Rs(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){xn(n,n.return,W)}}else Rs(t,n,a,o);break;case 31:Rs(t,n,a,o);break;case 13:Rs(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Rs(t,n,a,o):Au(t,n):m._visibility&2?Rs(t,n,a,o):(m._visibility|=2,pl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Md(T,n);break;case 24:Rs(t,n,a,o),h&2048&&Nd(n.alternate,n);break;default:Rs(t,n,a,o)}}function pl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=a,W=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,W,h),Eu(8,T);break;case 23:break;case 22:var we=T.stateNode;T.memoizedState!==null?we._visibility&2?pl(m,T,M,W,h):Au(m,T):(we._visibility|=2,pl(m,T,M,W,h)),h&&ce&2048&&Md(T.alternate,T);break;case 24:pl(m,T,M,W,h),h&&ce&2048&&Nd(T.alternate,T);break;default:pl(m,T,M,W,h)}n=n.sibling}}function Au(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Au(a,o),h&2048&&Md(o.alternate,o);break;case 24:Au(a,o),h&2048&&Nd(o.alternate,o);break;default:Au(a,o)}n=n.sibling}}var Su=8192;function gl(t,n,a){if(t.subtreeFlags&Su)for(t=t.child;t!==null;)Yy(t,n,a),t=t.sibling}function Yy(t,n,a){switch(t.tag){case 26:gl(t,n,a),t.flags&Su&&t.memoizedState!==null&&kE(a,xs,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,a);break;case 3:case 4:var o=xs;xs=ah(t.stateNode.containerInfo),gl(t,n,a),xs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Su,Su=16777216,gl(t,n,a),Su=o):gl(t,n,a));break;default:gl(t,n,a)}}function Xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ri=o,Wy(o,t)}Xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:Cu(t),t.flags&2048&&qa(9,t,t.return);break;case 3:Cu(t);break;case 12:Cu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Xc(t)):Cu(t);break;default:Cu(t)}}function Xc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ri=o,Wy(o,t)}Xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qa(8,n,n.return),Xc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(n));break;default:Xc(n)}t=t.sibling}}function Wy(t,n){for(;Ri!==null;){var a=Ri;switch(a.tag){case 0:case 11:case 15:qa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uu(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ri=o;else e:for(a=t;Ri!==null;){o=Ri;var h=o.sibling,m=o.return;if(Uy(o),o===a){Ri=null;break e}if(h!==null){h.return=m,Ri=h;break e}Ri=m}}}var Ww={getCacheForType:function(t){var n=Xi(di),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Xi(di).controller.signal}},Kw=typeof WeakMap=="function"?WeakMap:Map,vn=0,Ln=null,Xt=null,$t=0,Cn=0,Jr=null,Ga=!1,yl=!1,Dd=!1,ya=0,si=0,Ya=0,Uo=0,Od=0,Zr=0,vl=0,xu=null,Ur=null,kd=!1,Qc=0,Ky=0,Wc=1/0,Kc=null,Xa=null,Ti=0,Qa=null,_l=null,va=0,Vd=0,Pd=null,$y=null,Ru=0,Ld=null;function es(){return(vn&2)!==0&&$t!==0?$t&-$t:q.T!==null?Hd():Os()}function Jy(){if(Zr===0)if(($t&536870912)===0||sn){var t=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),Zr=t}else Zr=536870912;return t=Kr.current,t!==null&&(t.flags|=32),Zr}function zr(t,n,a){(t===Ln&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Wa(t,$t,Zr,!1)),Ct(t,a),((vn&2)===0||t!==Ln)&&(t===Ln&&((vn&2)===0&&(Uo|=a),si===4&&Wa(t,$t,Zr,!1)),Bs(t))}function Zy(t,n,a){if((vn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Kn(t,n),h=o?Zw(t,n):Ud(t,n,!0),m=o;do{if(h===0){yl&&!o&&Wa(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!$w(a)){h=Ud(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=xu;var W=M.current.memoizedState.isDehydrated;if(W&&(bl(M,T).flags|=256),T=Ud(M,T,!1),T!==2){if(Dd&&!W){M.errorRecoveryDisabledLanes|=m,Uo|=m,h=4;break e}m=Ur,Ur=h,m!==null&&(Ur===null?Ur=m:Ur.push.apply(Ur,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bl(t,0),Wa(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wa(o,n,Zr,!Ga);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Qc+300-It(),10<h)){if(Wa(o,n,Zr,!Ga),kn(o,0,!0)!==0)break e;va=n,o.timeoutHandle=Mv(ev.bind(null,o,a,Ur,Kc,kd,n,Zr,Uo,vl,Ga,m,"Throttled",-0,0),h);break e}ev(o,a,Ur,Kc,kd,n,Zr,Uo,vl,Ga,m,null,-0,0)}}break}while(!0);Bs(t)}function ev(t,n,a,o,h,m,T,M,W,ce,we,Ce,de,ge){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},Yy(n,m,Ce);var ut=(m&62914560)===m?Qc-It():(m&4194048)===m?Ky-It():0;if(ut=VE(Ce,ut),ut!==null){va=m,t.cancelPendingCommit=ut(lv.bind(null,t,n,m,a,o,h,T,M,W,we,Ce,null,de,ge)),Wa(t,m,T,!ce);return}}lv(t,n,m,a,o,h,T,M,W)}function $w(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!fe(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wa(t,n,a,o){n&=~Od,n&=~Uo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-Be(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Di(t,a,n)}function $c(){return(vn&6)===0?(Iu(0),!1):!0}function jd(){if(Xt!==null){if(Cn===0)var t=Xt.return;else t=Xt,oa=Mo=null,ed(t),cl=null,hu=0,t=Xt;for(;t!==null;)Ny(t.alternate,t),t=t.return;Xt=null}}function bl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),va=0,jd(),Ln=t,Xt=a=sa(t.current,null),$t=n,Cn=0,Jr=null,Ga=!1,yl=Kn(t,n),Dd=!1,vl=Zr=Od=Uo=Ya=si=0,Ur=xu=null,kd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Be(o),m=1<<h;n|=t[h],o&=~m}return ya=n,Ps(),a}function tv(t,n){Pt=null,q.H=_u,n===ul||n===Cc?(n=yg(),Cn=3):n===Ff?(n=yg(),Cn=4):Cn=n===gd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jr=n,Xt===null&&(si=1,zc(t,ls(n,t.current)))}function nv(){var t=Kr.current;return t===null?!0:($t&4194048)===$t?fs===null:($t&62914560)===$t||($t&536870912)!==0?t===fs:!1}function iv(){var t=q.H;return q.H=_u,t===null?_u:t}function rv(){var t=q.A;return q.A=Ww,t}function Jc(){si=4,Ga||($t&4194048)!==$t&&Kr.current!==null||(yl=!0),(Ya&134217727)===0&&(Uo&134217727)===0||Ln===null||Wa(Ln,$t,Zr,!1)}function Ud(t,n,a){var o=vn;vn|=2;var h=iv(),m=rv();(Ln!==t||$t!==n)&&(Kc=null,bl(t,n)),n=!1;var T=si;e:do try{if(Cn!==0&&Xt!==null){var M=Xt,W=Jr;switch(Cn){case 8:jd(),T=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(n=!0);var ce=Cn;if(Cn=0,Jr=null,wl(t,M,W,ce),a&&yl){T=0;break e}break;default:ce=Cn,Cn=0,Jr=null,wl(t,M,W,ce)}}Jw(),T=si;break}catch(we){tv(t,we)}while(!0);return n&&t.shellSuspendCounter++,oa=Mo=null,vn=o,q.H=h,q.A=m,Xt===null&&(Ln=null,$t=0,Ps()),T}function Jw(){for(;Xt!==null;)sv(Xt)}function Zw(t,n){var a=vn;vn|=2;var o=iv(),h=rv();Ln!==t||$t!==n?(Kc=null,Wc=It()+500,bl(t,n)):yl=Kn(t,n);e:do try{if(Cn!==0&&Xt!==null){n=Xt;var m=Jr;t:switch(Cn){case 1:Cn=0,Jr=null,wl(t,n,m,1);break;case 2:case 9:if(pg(m)){Cn=0,Jr=null,av(n);break}n=function(){Cn!==2&&Cn!==9||Ln!==t||(Cn=7),Bs(t)},m.then(n,n);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:pg(m)?(Cn=0,Jr=null,av(n)):(Cn=0,Jr=null,wl(t,n,m,7));break;case 5:var T=null;switch(Xt.tag){case 26:T=Xt.memoizedState;case 5:case 27:var M=Xt;if(T?Gv(T):M.stateNode.complete){Cn=0,Jr=null;var W=M.sibling;if(W!==null)Xt=W;else{var ce=M.return;ce!==null?(Xt=ce,Zc(ce)):Xt=null}break t}}Cn=0,Jr=null,wl(t,n,m,5);break;case 6:Cn=0,Jr=null,wl(t,n,m,6);break;case 8:jd(),si=6;break e;default:throw Error(s(462))}}eE();break}catch(we){tv(t,we)}while(!0);return oa=Mo=null,q.H=o,q.A=h,vn=a,Xt!==null?0:(Ln=null,$t=0,Ps(),si)}function eE(){for(;Xt!==null&&!jn();)sv(Xt)}function sv(t){var n=Iy(t.alternate,t,ya);t.memoizedProps=t.pendingProps,n===null?Zc(t):Xt=n}function av(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ty(a,n,n.pendingProps,n.type,void 0,$t);break;case 11:n=Ty(a,n,n.pendingProps,n.type.render,n.ref,$t);break;case 5:ed(n);default:Ny(a,n),n=Xt=rg(n,ya),n=Iy(a,n,ya)}t.memoizedProps=t.pendingProps,n===null?Zc(t):Xt=n}function wl(t,n,a,o){oa=Mo=null,ed(n),cl=null,hu=0;var h=n.return;try{if(Fw(t,h,n,a,$t)){si=1,zc(t,ls(a,t.current)),Xt=null;return}}catch(m){if(h!==null)throw Xt=h,m;si=1,zc(t,ls(a,t.current)),Xt=null;return}n.flags&32768?(sn||o===1?t=!0:yl||($t&536870912)!==0?t=!1:(Ga=t=!0,(o===2||o===9||o===3||o===6)&&(o=Kr.current,o!==null&&o.tag===13&&(o.flags|=16384))),ov(n,t)):Zc(n)}function Zc(t){var n=t;do{if((n.flags&32768)!==0){ov(n,Ga);return}t=n.return;var a=Gw(n.alternate,n,ya);if(a!==null){Xt=a;return}if(n=n.sibling,n!==null){Xt=n;return}Xt=n=t}while(n!==null);si===0&&(si=5)}function ov(t,n){do{var a=Yw(t.alternate,t);if(a!==null){a.flags&=32767,Xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xt=t;return}Xt=t=a}while(t!==null);si=6,Xt=null}function lv(t,n,a,o,h,m,T,M,W){t.cancelPendingCommit=null;do eh();while(Ti!==0);if((vn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=nl,ai(t,a,m,T,M,W),t===Ln&&(Xt=Ln=null,$t=0),_l=n,Qa=t,va=a,Vd=m,Pd=h,$y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rE(v,function(){return dv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=Q.p,Q.p=2,T=vn,vn|=4;try{Xw(t,n,a)}finally{vn=T,Q.p=h,q.T=o}}Ti=1,uv(),cv(),hv()}}function uv(){if(Ti===1){Ti=0;var t=Qa,n=_l,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=Q.p;Q.p=2;var h=vn;vn|=4;try{Hy(n,t);var m=$d,T=te(t.containerInfo),M=m.focusedElem,W=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&ot(M.ownerDocument.documentElement,M)){if(W!==null&&je(M)){var ce=W.start,we=W.end;if(we===void 0&&(we=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(we,M.value.length);else{var Ce=M.ownerDocument||document,de=Ce&&Ce.defaultView||window;if(de.getSelection){var ge=de.getSelection(),ut=M.textContent.length,_t=Math.min(W.start,ut),Dn=W.end===void 0?_t:Math.min(W.end,ut);!ge.extend&&_t>Dn&&(T=Dn,Dn=_t,_t=T);var ne=$e(M,_t),K=$e(M,Dn);if(ne&&K&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==K.node||ge.focusOffset!==K.offset)){var le=Ce.createRange();le.setStart(ne.node,ne.offset),ge.removeAllRanges(),_t>Dn?(ge.addRange(le),ge.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ge.addRange(le))}}}}for(Ce=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Ce.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ce.length;M++){var Te=Ce[M];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}fh=!!Kd,$d=Kd=null}finally{vn=h,Q.p=o,q.T=a}}t.current=n,Ti=2}}function cv(){if(Ti===2){Ti=0;var t=Qa,n=_l,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=Q.p;Q.p=2;var h=vn;vn|=4;try{jy(t,n.alternate,n)}finally{vn=h,Q.p=o,q.T=a}}Ti=3}}function hv(){if(Ti===4||Ti===3){Ti=0,vt();var t=Qa,n=_l,a=va,o=$y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ti=5:(Ti=0,_l=Qa=null,fv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xa=null),Ge(a),n=n.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(et,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=Q.p,Q.p=2,q.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{q.T=n,Q.p=h}}(va&3)!==0&&eh(),Bs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ld?Ru++:(Ru=0,Ld=t):Ru=0,Iu(0)}}function fv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,uu(n)))}function eh(){return uv(),cv(),hv(),dv()}function dv(){if(Ti!==5)return!1;var t=Qa,n=Vd;Vd=0;var a=Ge(va),o=q.T,h=Q.p;try{Q.p=32>a?32:a,q.T=null,a=Pd,Pd=null;var m=Qa,T=va;if(Ti=0,_l=Qa=null,va=0,(vn&6)!==0)throw Error(s(331));var M=vn;if(vn|=4,Qy(m.current),Gy(m,m.current,T,a),vn=M,Iu(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(et,m)}catch{}return!0}finally{Q.p=h,q.T=o,fv(t,n)}}function mv(t,n,a){n=ls(a,n),n=pd(t.stateNode,n,2),t=Ba(t,n,2),t!==null&&(Ct(t,2),Bs(t))}function xn(t,n,a){if(t.tag===3)mv(t,t,a);else for(;n!==null;){if(n.tag===3){mv(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xa===null||!Xa.has(o))){t=ls(a,t),a=py(2),o=Ba(n,a,2),o!==null&&(gy(a,o,n,t),Ct(o,2),Bs(o));break}}n=n.return}}function zd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Kw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Dd=!0,h.add(a),t=tE.bind(null,t,n,a),n.then(t,t))}function tE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ln===t&&($t&a)===a&&(si===4||si===3&&($t&62914560)===$t&&300>It()-Qc?(vn&2)===0&&bl(t,0):Od|=a,vl===$t&&(vl=0)),Bs(t)}function pv(t,n){n===0&&(n=Ke()),t=Cr(t,n),t!==null&&(Ct(t,n),Bs(t))}function nE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),pv(t,a)}function iE(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),pv(t,a)}function rE(t,n){return Ut(t,n)}var th=null,El=null,Bd=!1,nh=!1,Fd=!1,Ka=0;function Bs(t){t!==El&&t.next===null&&(El===null?th=El=t:El=El.next=t),nh=!0,Bd||(Bd=!0,aE())}function Iu(t,n){if(!Fd&&nh){Fd=!0;do for(var a=!1,o=th;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-Be(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,_v(o,m))}else m=$t,m=kn(o,o===Ln?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Kn(o,m)||(a=!0,_v(o,m));o=o.next}while(a);Fd=!1}}function sE(){gv()}function gv(){nh=Bd=!1;var t=0;Ka!==0&&gE()&&(t=Ka);for(var n=It(),a=null,o=th;o!==null;){var h=o.next,m=yv(o,n);m===0?(o.next=null,a===null?th=h:a.next=h,h===null&&(El=a)):(a=o,(t!==0||(m&3)!==0)&&(nh=!0)),o=h}Ti!==0&&Ti!==5||Iu(t),Ka!==0&&(Ka=0)}function yv(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Be(m),M=1<<T,W=h[T];W===-1?((M&a)===0||(M&o)!==0)&&(h[T]=Ni(M,n)):W<=n&&(t.expiredLanes|=M),m&=~M}if(n=Ln,a=$t,a=kn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Vt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Vt(o),Ge(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=J;break;default:a=v}return o=vv.bind(null,t),a=Ut(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Vt(o),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,n){if(Ti!==0&&Ti!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eh()&&t.callbackNode!==a)return null;var o=$t;return o=kn(t,t===Ln?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Zy(t,o,n),yv(t,It()),t.callbackNode!=null&&t.callbackNode===a?vv.bind(null,t):null)}function _v(t,n){if(eh())return null;Zy(t,n,!0)}function aE(){vE(function(){(vn&6)!==0?Ut(C,sE):gv()})}function Hd(){if(Ka===0){var t=ol;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),Ka=t}return Ka}function bv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:as(""+t)}function wv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function oE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=bv((h[ei]||null).action),T=o.submitter;T&&(n=(n=T[ei]||null)?bv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new ve("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ka!==0){var W=T?wv(h,T):new FormData(h);ud(a,{pending:!0,data:W,method:h.method,action:m},null,W)}}else typeof m=="function"&&(M.preventDefault(),W=T?wv(h,T):new FormData(h),ud(a,{pending:!0,data:W,method:h.method,action:m},m,W))},currentTarget:h}]})}}for(var qd=0;qd<Sr.length;qd++){var Gd=Sr[qd],lE=Gd.toLowerCase(),uE=Gd[0].toUpperCase()+Gd.slice(1);Tn(lE,"on"+uE)}Tn(De,"onAnimationEnd"),Tn(Xe,"onAnimationIteration"),Tn(Ft,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Kt,"onTransitionRun"),Tn(kt,"onTransitionStart"),Tn(Yt,"onTransitionCancel"),Tn(an,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Ev(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],W=M.instance,ce=M.currentTarget;if(M=M.listener,W!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ce;try{m(h)}catch(we){Gi(we)}h.currentTarget=null,m=W}else for(T=0;T<o.length;T++){if(M=o[T],W=M.instance,ce=M.currentTarget,M=M.listener,W!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=ce;try{m(h)}catch(we){Gi(we)}h.currentTarget=null,m=W}}}}function Qt(t,n){var a=n[Ir];a===void 0&&(a=n[Ir]=new Set);var o=t+"__bubble";a.has(o)||(Tv(n,t,2,!1),a.add(o))}function Yd(t,n,a){var o=0;n&&(o|=4),Tv(a,t,o,n)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[ih]){t[ih]=!0,bs.forEach(function(a){a!=="selectionchange"&&(cE.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ih]||(n[ih]=!0,Yd("selectionchange",!1,n))}}function Tv(t,n,a,o){switch(Jv(n)){case 2:var h=jE;break;case 8:h=UE;break;default:h=lm}a=h.bind(null,n,a,t),h=void 0,!wr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Qd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var W=T.tag;if((W===3||W===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=Vi(M),T===null)return;if(W=T.tag,W===5||W===6||W===26||W===27){o=m=T;continue e}M=M.parentNode}}o=o.return}cr(function(){var ce=m,we=lr(a),Ce=[];e:{var de=hn.get(t);if(de!==void 0){var ge=ve,ut=t;switch(t){case"keypress":if(Gr(a)===0)break e;case"keydown":case"keyup":ge=So;break;case"focusin":ut="focus",ge=Ei;break;case"focusout":ut="blur",ge=Ei;break;case"beforeblur":case"afterblur":ge=Ei;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Ye;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case De:case Xe:case Ft:ge=Yr;break;case an:ge=V;break;case"scroll":case"scrollend":ge=_e;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Ss;break;case"toggle":case"beforetoggle":ge=St}var _t=(n&4)!==0,Dn=!_t&&(t==="scroll"||t==="scrollend"),ne=_t?de!==null?de+"Capture":null:de;_t=[];for(var K=ce,le;K!==null;){var Te=K;if(le=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||le===null||ne===null||(Te=Hn(K,ne),Te!=null&&_t.push(Nu(K,Te,le))),Dn)break;K=K.return}0<_t.length&&(de=new ge(de,ut,null,a,we),Ce.push({event:de,listeners:_t}))}}if((n&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",de&&a!==Ts&&(ut=a.relatedTarget||a.fromElement)&&(Vi(ut)||ut[Zi]))break e;if((ge||de)&&(de=we.window===we?we:(de=we.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(ut=a.relatedTarget||a.toElement,ge=ce,ut=ut?Vi(ut):null,ut!==null&&(Dn=c(ut),_t=ut.tag,ut!==Dn||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(ge=null,ut=ce),ge!==ut)){if(_t=Ye,Te="onMouseLeave",ne="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Ss,Te="onPointerLeave",ne="onPointerEnter",K="pointer"),Dn=ge==null?de:Fn(ge),le=ut==null?de:Fn(ut),de=new _t(Te,K+"leave",ge,a,we),de.target=Dn,de.relatedTarget=le,Te=null,Vi(we)===ce&&(_t=new _t(ne,K+"enter",ut,a,we),_t.target=le,_t.relatedTarget=Dn,Te=_t),Dn=Te,ge&&ut)t:{for(_t=hE,ne=ge,K=ut,le=0,Te=ne;Te;Te=_t(Te))le++;Te=0;for(var gt=K;gt;gt=_t(gt))Te++;for(;0<le-Te;)ne=_t(ne),le--;for(;0<Te-le;)K=_t(K),Te--;for(;le--;){if(ne===K||K!==null&&ne===K.alternate){_t=ne;break t}ne=_t(ne),K=_t(K)}_t=null}else _t=null;ge!==null&&Av(Ce,de,ge,_t,!1),ut!==null&&Dn!==null&&Av(Ce,Dn,ut,_t,!0)}}e:{if(de=ce?Fn(ce):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var pn=ru;else if(iu(de))if(su)pn=Z;else{pn=D;var ct=S}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&ss(ce.elementType)&&(pn=ru):pn=U;if(pn&&(pn=pn(t,ce))){Gn(Ce,pn,a,we);break e}ct&&ct(t,de,ce),t==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&ks(de,"number",de.value)}switch(ct=ce?Fn(ce):window,t){case"focusin":(iu(ct)||ct.contentEditable==="true")&&(He=ct,mn=ce,Je=null);break;case"focusout":Je=mn=He=null;break;case"mousedown":Bt=!0;break;case"contextmenu":case"mouseup":case"dragend":Bt=!1,En(Ce,a,we);break;case"selectionchange":if(rt)break;case"keydown":case"keyup":En(Ce,a,we)}var jt;if(cn)e:{switch(t){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else ta?os(t,a)&&(Jt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Jt="onCompositionStart");Jt&&(Or&&a.locale!=="ko"&&(ta||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&ta&&(jt=qr()):(Nr=we,qn="value"in Nr?Nr.value:Nr.textContent,ta=!0)),ct=rh(ce,Jt),0<ct.length&&(Jt=new Xr(Jt,t,null,a,we),Ce.push({event:Jt,listeners:ct}),jt?Jt.data=jt:(jt=ea(a),jt!==null&&(Jt.data=jt)))),(jt=hr?xf(t,a):_c(t,a))&&(Jt=rh(ce,"onBeforeInput"),0<Jt.length&&(ct=new Xr("onBeforeInput","beforeinput",null,a,we),Ce.push({event:ct,listeners:Jt}),ct.data=jt)),oE(Ce,t,ce,a,we)}Ev(Ce,n)})}function Nu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function rh(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Hn(t,a),h!=null&&o.unshift(Nu(t,h,m)),h=Hn(t,n),h!=null&&o.push(Nu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function hE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Av(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var M=a,W=M.alternate,ce=M.stateNode;if(M=M.tag,W!==null&&W===o)break;M!==5&&M!==26&&M!==27||ce===null||(W=ce,h?(ce=Hn(a,m),ce!=null&&T.unshift(Nu(a,ce,W))):h||(ce=Hn(a,m),ce!=null&&T.push(Nu(a,ce,W)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var fE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(fE,`
`).replace(dE,"")}function Cv(t,n){return n=Sv(n),Sv(t)===n}function Nn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ti(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ti(t,""+o);break;case"className":xi(t,"class",o);break;case"tabIndex":xi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(t,a,o);break;case"style":ar(t,o,m);break;case"data":if(n!=="object"){xi(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=as(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Nn(t,n,"name",h.name,h,null),Nn(t,n,"formEncType",h.formEncType,h,null),Nn(t,n,"formMethod",h.formMethod,h,null),Nn(t,n,"formTarget",h.formTarget,h,null)):(Nn(t,n,"encType",h.encType,h,null),Nn(t,n,"method",h.method,h,null),Nn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=as(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=or);break;case"onScroll":o!=null&&Qt("scroll",t);break;case"onScrollEnd":o!=null&&Qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=as(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Qt("beforetoggle",t),Qt("toggle",t),_r(t,"popover",o);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_r(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fr.get(a)||a,_r(t,a,o))}}function Wd(t,n,a,o,h,m){switch(a){case"style":ar(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ti(t,o):(typeof o=="number"||typeof o=="bigint")&&ti(t,""+o);break;case"onScroll":o!=null&&Qt("scroll",t);break;case"onScrollEnd":o!=null&&Qt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Li.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[ei]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):_r(t,a,o)}}}function Wi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",t),Qt("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Nn(t,n,m,T,a,null)}}h&&Nn(t,n,"srcSet",a.srcSet,a,null),o&&Nn(t,n,"src",a.src,a,null);return;case"input":Qt("invalid",t);var M=m=T=h=null,W=null,ce=null;for(o in a)if(a.hasOwnProperty(o)){var we=a[o];if(we!=null)switch(o){case"name":h=we;break;case"type":T=we;break;case"checked":W=we;break;case"defaultChecked":ce=we;break;case"value":m=we;break;case"defaultValue":M=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,n));break;default:Nn(t,n,o,we,a,null)}}Js(t,m,M,W,ce,T,h,!1);return;case"select":Qt("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(M=a[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Nn(t,n,h,M,a,null)}n=m,a=T,t.multiple=!!o,n!=null?dn(t,!!o,n,!1):a!=null&&dn(t,!!o,a,!0);return;case"textarea":Qt("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(M=a[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Nn(t,n,T,M,a,null)}rr(t,o,h,m);return;case"option":for(W in a)if(a.hasOwnProperty(W)&&(o=a[W],o!=null))switch(W){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nn(t,n,W,o,a,null)}return;case"dialog":Qt("beforetoggle",t),Qt("toggle",t),Qt("cancel",t),Qt("close",t);break;case"iframe":case"object":Qt("load",t);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Qt(Mu[o],t);break;case"image":Qt("error",t),Qt("load",t);break;case"details":Qt("toggle",t);break;case"embed":case"source":case"link":Qt("error",t),Qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in a)if(a.hasOwnProperty(ce)&&(o=a[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Nn(t,n,ce,o,a,null)}return;default:if(ss(n)){for(we in a)a.hasOwnProperty(we)&&(o=a[we],o!==void 0&&Wd(t,n,we,o,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!=null&&Nn(t,n,M,o,a,null))}function mE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,W=null,ce=null,we=null;for(ge in a){var Ce=a[ge];if(a.hasOwnProperty(ge)&&Ce!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":W=Ce;default:o.hasOwnProperty(ge)||Nn(t,n,ge,null,o,Ce)}}for(var de in o){var ge=o[de];if(Ce=a[de],o.hasOwnProperty(de)&&(ge!=null||Ce!=null))switch(de){case"type":m=ge;break;case"name":h=ge;break;case"checked":ce=ge;break;case"defaultChecked":we=ge;break;case"value":T=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==Ce&&Nn(t,n,de,ge,o,Ce)}}ws(t,T,M,W,ce,we,m,h);return;case"select":ge=T=M=de=null;for(m in a)if(W=a[m],a.hasOwnProperty(m)&&W!=null)switch(m){case"value":break;case"multiple":ge=W;default:o.hasOwnProperty(m)||Nn(t,n,m,null,o,W)}for(h in o)if(m=o[h],W=a[h],o.hasOwnProperty(h)&&(m!=null||W!=null))switch(h){case"value":de=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==W&&Nn(t,n,h,m,o,W)}n=M,a=T,o=ge,de!=null?dn(t,!!a,de,!1):!!o!=!!a&&(n!=null?dn(t,!!a,n,!0):dn(t,!!a,a?[]:"",!1));return;case"textarea":ge=de=null;for(M in a)if(h=a[M],a.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Nn(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":de=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Nn(t,n,T,h,o,m)}rs(t,de,ge);return;case"option":for(var ut in a)if(de=a[ut],a.hasOwnProperty(ut)&&de!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Nn(t,n,ut,null,o,de)}for(W in o)if(de=o[W],ge=a[W],o.hasOwnProperty(W)&&de!==ge&&(de!=null||ge!=null))switch(W){case"selected":t.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Nn(t,n,W,de,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)de=a[_t],a.hasOwnProperty(_t)&&de!=null&&!o.hasOwnProperty(_t)&&Nn(t,n,_t,null,o,de);for(ce in o)if(de=o[ce],ge=a[ce],o.hasOwnProperty(ce)&&de!==ge&&(de!=null||ge!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,n));break;default:Nn(t,n,ce,de,o,ge)}return;default:if(ss(n)){for(var Dn in a)de=a[Dn],a.hasOwnProperty(Dn)&&de!==void 0&&!o.hasOwnProperty(Dn)&&Wd(t,n,Dn,void 0,o,de);for(we in o)de=o[we],ge=a[we],!o.hasOwnProperty(we)||de===ge||de===void 0&&ge===void 0||Wd(t,n,we,de,o,ge);return}}for(var ne in a)de=a[ne],a.hasOwnProperty(ne)&&de!=null&&!o.hasOwnProperty(ne)&&Nn(t,n,ne,null,o,de);for(Ce in o)de=o[Ce],ge=a[Ce],!o.hasOwnProperty(Ce)||de===ge||de==null&&ge==null||Nn(t,n,Ce,de,o,ge)}function xv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&xv(T)){for(T=0,M=h.responseEnd,o+=1;o<a.length;o++){var W=a[o],ce=W.startTime;if(ce>M)break;var we=W.transferSize,Ce=W.initiatorType;we&&xv(Ce)&&(W=W.responseEnd,T+=we*(W<M?1:(M-ce)/(W-ce)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,$d=null;function sh(t){return t.nodeType===9?t:t.ownerDocument}function Rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zd=null;function gE(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,yE=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(_E)}:Mv;function _E(t){setTimeout(function(){throw t})}function $a(t){return t==="head"}function Dv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Du(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Du(a);for(var m=a.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[tr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Du(t.ownerDocument.body);a=h}while(a);Cl(n)}function Ov(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function em(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bE(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[tr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ds(t.nextSibling),t===null)break}return null}function wE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ds(t.nextSibling),t===null))return null;return t}function kv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ds(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function EE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ds(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var im=null;function Vv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ds(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Pv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Lv(t,n,a){switch(n=sh(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Du(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var ms=new Map,jv=new Set;function ah(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _a=Q.d;Q.d={f:TE,r:AE,D:SE,C:CE,L:xE,m:RE,X:ME,S:IE,M:NE};function TE(){var t=_a.f(),n=$c();return t||n}function AE(t){var n=Pi(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):_a.r(t)}var Tl=typeof document>"u"?null:document;function Uv(t,n,a){var o=Tl;if(o&&typeof n=="string"&&n){var h=Pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jv.has(h)||(jv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Wi(n,"link",t),Vn(n),o.head.appendChild(n)))}}function SE(t){_a.D(t),Uv("dns-prefetch",t,null)}function CE(t,n){_a.C(t,n),Uv("preconnect",t,n)}function xE(t,n,a){_a.L(t,n,a);var o=Tl;if(o&&t&&n){var h='link[rel="preload"][as="'+Pn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pn(a.imageSizes)+'"]')):h+='[href="'+Pn(t)+'"]';var m=h;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ms.has(m)||(t=O({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ms.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ou(m))||n==="script"&&o.querySelector(ku(m))||(n=o.createElement("link"),Wi(n,"link",t),Vn(n),o.head.appendChild(n)))}}function RE(t,n){_a.m(t,n);var a=Tl;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pn(o)+'"][href="'+Pn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ms.has(m)&&(t=O({rel:"modulepreload",href:t},n),ms.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ku(m)))return}o=a.createElement("link"),Wi(o,"link",t),Vn(o),a.head.appendChild(o)}}}function IE(t,n,a){_a.S(t,n,a);var o=Tl;if(o&&t){var h=Ci(o).hoistableStyles,m=Al(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Ou(m)))M.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ms.get(m))&&rm(t,a);var W=T=o.createElement("link");Vn(W),Wi(W,"link",t),W._p=new Promise(function(ce,we){W.onload=ce,W.onerror=we}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,oh(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function ME(t,n){_a.X(t,n);var a=Tl;if(a&&t){var o=Ci(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(ku(h)),m||(t=O({src:t,async:!0},n),(n=ms.get(h))&&sm(t,n),m=a.createElement("script"),Vn(m),Wi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function NE(t,n){_a.M(t,n);var a=Tl;if(a&&t){var o=Ci(a).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=a.querySelector(ku(h)),m||(t=O({src:t,async:!0,type:"module"},n),(n=ms.get(h))&&sm(t,n),m=a.createElement("script"),Vn(m),Wi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function zv(t,n,a,o){var h=(h=Qe.current)?ah(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Al(a.href),a=Ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Al(a.href);var m=Ci(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Ou(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ms.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ms.set(t,a),m||DE(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(a),a=Ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Al(t){return'href="'+Pn(t)+'"'}function Ou(t){return'link[rel="stylesheet"]['+t+"]"}function Bv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function DE(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Wi(n,"link",a),Vn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+Pn(t)+'"]'}function ku(t){return"script[async]"+t}function Fv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Pn(a.href)+'"]');if(o)return n.instance=o,Vn(o),o;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Vn(o),Wi(o,"style",h),oh(o,a.precedence,t),n.instance=o;case"stylesheet":h=Al(a.href);var m=t.querySelector(Ou(h));if(m)return n.state.loading|=4,n.instance=m,Vn(m),m;o=Bv(a),(h=ms.get(h))&&rm(o,h),m=(t.ownerDocument||t).createElement("link"),Vn(m);var T=m;return T._p=new Promise(function(M,W){T.onload=M,T.onerror=W}),Wi(m,"link",o),n.state.loading|=4,oh(m,a.precedence,t),n.instance=m;case"script":return m=Sl(a.src),(h=t.querySelector(ku(m)))?(n.instance=h,Vn(h),h):(o=a,(h=ms.get(m))&&(o=O({},a),sm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vn(h),Wi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oh(o,a.precedence,t));return n.instance}function oh(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function rm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lh=null;function Hv(t,n,a){if(lh===null){var o=new Map,h=lh=new Map;h.set(a,o)}else h=lh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[tr]||m[fn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function qv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function OE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kE(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Al(o.href),m=n.querySelector(Ou(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=uh.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,Vn(m);return}m=n.ownerDocument||n,o=Bv(o),(h=ms.get(h))&&rm(o,h),m=m.createElement("link"),Vn(m);var T=m;T._p=new Promise(function(M,W){T.onload=M,T.onerror=W}),Wi(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uh.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var am=0;function VE(t,n){return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&am===0&&(am=62500*pE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>am?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function hh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,n.forEach(PE,t),ch=null,uh.call(t))}function PE(t,n){if(!(n.state.loading&4)){var a=ch.get(t);if(a)var o=a.get(null);else{a=new Map,ch.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=uh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Vu={$$typeof:Pe,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function LE(t,n,a,o,h,m,T,M,W){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Yv(t,n,a,o,h,m,T,M,W,ce,we,Ce){return t=new LE(t,n,a,T,W,ce,we,Ce,M),n=1,m===!0&&(n|=24),m=fr(3,null,null,n),t.current=m,m.stateNode=t,n=Uf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Hf(m),t}function Xv(t){return t?(t=Wr,t):Wr}function Qv(t,n,a,o,h,m){h=Xv(h),o.context===null?o.context=h:o.pendingContext=h,o=za(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Ba(t,o,n),a!==null&&(zr(a,t,n),du(a,t,n))}function Wv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function om(t,n){Wv(t,n),(t=t.alternate)&&Wv(t,n)}function Kv(t){if(t.tag===13||t.tag===31){var n=Cr(t,67108864);n!==null&&zr(n,t,67108864),om(t,67108864)}}function $v(t){if(t.tag===13||t.tag===31){var n=es();n=vr(n);var a=Cr(t,n);a!==null&&zr(a,t,n),om(t,n)}}var fh=!0;function jE(t,n,a,o){var h=q.T;q.T=null;var m=Q.p;try{Q.p=2,lm(t,n,a,o)}finally{Q.p=m,q.T=h}}function UE(t,n,a,o){var h=q.T;q.T=null;var m=Q.p;try{Q.p=8,lm(t,n,a,o)}finally{Q.p=m,q.T=h}}function lm(t,n,a,o){if(fh){var h=um(o);if(h===null)Qd(t,n,o,dh,a),Zv(t,o);else if(BE(h,t,n,a,o))o.stopPropagation();else if(Zv(t,o),n&4&&-1<zE.indexOf(t)){for(;h!==null;){var m=Pi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Sn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var W=1<<31-Be(T);M.entanglements[1]|=W,T&=~W}Bs(m),(vn&6)===0&&(Wc=It()+500,Iu(0))}}break;case 31:case 13:M=Cr(m,2),M!==null&&zr(M,m,2),$c(),om(m,2)}if(m=um(o),m===null&&Qd(t,n,o,dh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Qd(t,n,o,null,a)}}function um(t){return t=lr(t),cm(t)}var dh=null;function cm(t){if(dh=null,t=Vi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return dh=t,null}function Jv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case C:return 2;case g:return 8;case v:case k:return 32;case J:return 268435456;default:return 32}default:return 32}}var hm=!1,Ja=null,Za=null,eo=null,Pu=new Map,Lu=new Map,to=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(t,n){switch(t){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Pu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(n.pointerId)}}function ju(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Pi(n),n!==null&&Kv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BE(t,n,a,o,h){switch(n){case"focusin":return Ja=ju(Ja,t,n,a,o,h),!0;case"dragenter":return Za=ju(Za,t,n,a,o,h),!0;case"mouseover":return eo=ju(eo,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Pu.set(m,ju(Pu.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Lu.set(m,ju(Lu.get(m)||null,t,n,a,o,h)),!0}return!1}function e0(t){var n=Vi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,Rr(t.priority,function(){$v(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,Rr(t.priority,function(){$v(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ts=o,a.target.dispatchEvent(o),Ts=null}else return n=Pi(a),n!==null&&Kv(n),t.blockedOn=a,!1;n.shift()}return!0}function t0(t,n,a){mh(t)&&a.delete(n)}function FE(){hm=!1,Ja!==null&&mh(Ja)&&(Ja=null),Za!==null&&mh(Za)&&(Za=null),eo!==null&&mh(eo)&&(eo=null),Pu.forEach(t0),Lu.forEach(t0)}function ph(t,n){t.blockedOn===n&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FE)))}var gh=null;function n0(t){gh!==t&&(gh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(cm(o||a)===null)continue;break}var m=Pi(a);m!==null&&(t.splice(n,3),n-=3,ud(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Cl(t){function n(W){return ph(W,t)}Ja!==null&&ph(Ja,t),Za!==null&&ph(Za,t),eo!==null&&ph(eo,t),Pu.forEach(n),Lu.forEach(n);for(var a=0;a<to.length;a++){var o=to[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<to.length&&(a=to[0],a.blockedOn===null);)e0(a),a.blockedOn===null&&to.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[ei]||null;if(typeof m=="function")T||n0(a);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[ei]||null)M=T.formAction;else if(cm(h)!==null)continue}else M=T.action;typeof M=="function"?a[o+1]=M:(a.splice(o,3),o-=3),n0(a)}}}function i0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function fm(t){this._internalRoot=t}yh.prototype.render=fm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=es();Qv(a,o,t,n,null,null)},yh.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qv(t.current,2,null,t,null,null),$c(),n[Zi]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var n=Os();t={blockedOn:null,target:t,priority:n};for(var a=0;a<to.length&&n!==0&&n<to[a].priority;a++);to.splice(a,0,t),a===0&&e0(t)}};var r0=e.version;if(r0!=="19.2.0")throw Error(s(527,r0,"19.2.0"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var HE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{et=vh.inject(HE),it=vh}catch{}}return zu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=hy,m=fy,T=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Yv(t,1,!1,null,null,a,o,null,h,m,T,i0),t[Zi]=n.current,Xd(t),new fm(n)},zu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=hy,T=fy,M=dy,W=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.formState!==void 0&&(W=a.formState)),n=Yv(t,1,!0,n,a??null,o,h,W,m,T,M,i0),n.context=Xv(null),a=n.current,o=es(),o=vr(o),h=za(o),h.callback=null,Ba(a,h,o),a=o,n.current.lanes=a,Ct(n,a),Bs(n),t[Zi]=n.current,Xd(t),new yh(n)},zu.version="19.2.0",zu}var m0;function ZE(){if(m0)return pm.exports;m0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=JE(),pm.exports}var eT=ZE();const tT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),p0=r=>{const e=nT(r);return e.charAt(0).toUpperCase()+e.slice(1)},ib=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),iT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sT=ze.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>ze.createElement("svg",{ref:w,...rT,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:ib("lucide",l),...!c&&!iT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,N])=>ze.createElement(E,N)),...Array.isArray(c)?c:[c]]));const _n=(r,e)=>{const i=ze.forwardRef(({className:s,...l},c)=>ze.createElement(sT,{ref:c,iconNode:e,className:ib(`lucide-${tT(p0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=p0(r),i};const aT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],oT=_n("arrow-down-a-z",aT);const lT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],g0=_n("arrow-left",lT);const uT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cT=_n("book-open",uT);const hT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],fT=_n("check-check",hT);const dT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mT=_n("check",dT);const pT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gT=_n("chevron-left",pT);const yT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vT=_n("chevron-right",yT);const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bT=_n("circle-alert",_T);const wT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Um=_n("crown",wT);const ET=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TT=_n("download",ET);const AT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ST=_n("eye",AT);const CT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],y0=_n("flag",CT);const xT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],RT=_n("heart",xT);const IT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],MT=_n("info",IT);const NT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],DT=_n("log-out",NT);const OT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kT=_n("moon",OT);const VT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],PT=_n("play",VT);const LT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],v0=_n("rotate-ccw",LT);const jT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],UT=_n("ruler",jT);const zT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],_0=_n("scroll-text",zT);const BT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FT=_n("settings",BT);const HT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qT=_n("share-2",HT);const GT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],YT=_n("shuffle",GT);const XT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_h=_n("sparkles",XT);const QT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_m=_n("star",QT);const WT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],KT=_n("sun",WT);const $T=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],b0=_n("trophy",$T);const JT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ZT=_n("volume-2",JT);const eA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],tA=_n("volume-x",eA);const nA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bm=_n("x",nA);const iA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w0=_n("zap",iA);var wm={},xh={exports:{}},rA=xh.exports,E0;function sA(){return E0||(E0=1,(function(r,e){(function(s,l){r.exports=l()})(rA,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>N});var E=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var re,z=G,ke,Se,Ue=new Promise((f,d)=>{ke=f,Se=d}),B=typeof window=="object",Pe=typeof importScripts=="function";function tt(){function f(Z){const ee=S;_=d=0,S=new Map,ee.forEach(fe=>{try{fe(Z)}catch(ue){console.error(ue)}}),this.nb(),D&&D.Pb()}let d=0,_=0,S=new Map,D=null,U=null;this.requestAnimationFrame=function(Z){d||=requestAnimationFrame(f.bind(this));const ee=++_;return S.set(ee,Z),ee},this.cancelAnimationFrame=function(Z){S.delete(Z),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Z){U&&(document.body.remove(U),U=null),Z||(U=document.createElement("div"),U.style.backgroundColor="black",U.style.position="fixed",U.style.right=0,U.style.top=0,U.style.color="white",U.style.padding="4px",U.innerHTML="RIVE FPS",Z=function(ee){U.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(U)),D=new function(){let ee=0,fe=0;this.Pb=function(){var ue=performance.now();fe?(++ee,ue-=fe,1e3<ue&&(Z(1e3*ee/ue),ee=fe=0)):(fe=ue,ee=0)}}},this.Kb=function(){U&&(document.body.remove(U),U=null),D=null},this.nb=function(){}}function nt(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const lt=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){lt&&lt();let f=z.decodeAudio;z.decodeAudio=function(D,U){D=f(D),U(D)};let d=z.decodeFont;z.decodeFont=function(D,U){D=d(D),U(D)};const _=z.FileAssetLoader;z.ptrToAsset=D=>{let U=z.ptrToFileAsset(D);return U.isImage?z.ptrToImageAsset(D):U.isFont?z.ptrToFontAsset(D):U.isAudio?z.ptrToAudioAsset(D):U},z.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,U){return D=z.ptrToAsset(D),this.Db(D,U)}}),z.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let U=z.ptrToAsset(D);return D=U.cdnUuid,D===""?!1:((function(Z,ee){var fe=new XMLHttpRequest;fe.responseType="arraybuffer",fe.onreadystatechange=function(){fe.readyState==4&&fe.status==200&&ee(fe)},fe.open("GET",Z,!0),fe.send(null)})(U.cdnBaseUrl+"/"+D,Z=>{U.decode(new Uint8Array(Z.response))}),!0)}}),z.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,U){for(let Z of this.jb)if(Z.loadContents(D,U))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(D,U,Z,ee,fe=1){return S.call(this,D,U,Z,ee,fe)}};const Y="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),F=new function(){function f(){if(!d){let mn=function(Je,Bt,En){if(Bt=He.createShader(Bt),He.shaderSource(Bt,En),He.compileShader(Bt),En=He.getShaderInfoLog(Bt),0<(En||"").length)throw En;He.attachShader(Je,Bt)};var rt=mn,te=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let He;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(He=te.getContext("webgl",je),_=1,!He)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(He=te.getContext("webgl2",je))_=2;else if(He=te.getContext("webgl",je))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(He=new Proxy(He,{get(Je,Bt){if(Je.isContextLost()){if(fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Bt),fe=!0),typeof Je[Bt]=="function")return function(){}}else return typeof Je[Bt]=="function"?function(...En){return Je[Bt].apply(Je,En)}:Je[Bt]},set(Je,Bt,En){if(Je.isContextLost())fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Bt),fe=!0);else return Je[Bt]=En,!0}}),S=Math.min(He.getParameter(He.MAX_RENDERBUFFER_SIZE),He.getParameter(He.MAX_TEXTURE_SIZE)),te=He.createProgram(),mn(te,He.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),mn(te,He.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),He.bindAttribLocation(te,0,"vertex"),He.bindAttribLocation(te,1,"uv"),He.linkProgram(te),je=He.getProgramInfoLog(te),0<(je||"").trim().length)throw je;D=He.getUniformLocation(te,"mat"),U=He.getUniformLocation(te,"translate"),He.useProgram(te),He.bindBuffer(He.ARRAY_BUFFER,He.createBuffer()),He.enableVertexAttribArray(0),He.enableVertexAttribArray(1),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,He.createBuffer()),He.uniform1i(He.getUniformLocation(te,"image"),0),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=He}return!0}let d=null,_=0,S=0,D=null,U=null,Z=0,ee=0,fe=!1;f(),this.ac=function(){return f(),S},this.Jb=function(te){d.deleteTexture&&d.deleteTexture(te)},this.Ib=function(te){if(!f())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,te),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const ue=new nt(8),Oe=new nt(8),$e=new nt(10),ot=new nt(10);this.Mb=function(te,je,rt,He,mn){if(f()){var Je=ue.push(te),Bt=Oe.push(je);if(d.canvas){(d.canvas.width!=Je||d.canvas.height!=Bt)&&(d.canvas.width=Je,d.canvas.height=Bt),d.viewport(0,Bt-je,te,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),rt.sort((Ht,Qr)=>Qr.ub-Ht.ub),Je=$e.push(He),Z!=Je&&(d.bufferData(d.ARRAY_BUFFER,8*Je,d.DYNAMIC_DRAW),Z=Je),Je=0;for(var En of rt)d.bufferSubData(d.ARRAY_BUFFER,Je,En.Sa),Je+=4*En.Sa.length;console.assert(Je==4*He);for(var li of rt)d.bufferSubData(d.ARRAY_BUFFER,Je,li.Ab),Je+=4*li.Ab.length;console.assert(Je==8*He),Je=ot.push(mn),ee!=Je&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Je,d.DYNAMIC_DRAW),ee=Je),En=0;for(var Vr of rt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,En,Vr.indices),En+=2*Vr.indices.length;console.assert(En==2*mn),Vr=0,li=!0,Je=En=0;for(const Ht of rt){Ht.image.Ia!=Vr&&(d.bindTexture(d.TEXTURE_2D,Ht.image.Ha||null),Vr=Ht.image.Ia),Ht.fc?(d.scissor(Ht.Ya,Bt-Ht.Za-Ht.ib,Ht.tc,Ht.ib),li=!0):li&&(d.scissor(0,Bt-je,te,je),li=!1),rt=2/te;const Qr=-2/je;d.uniform4f(D,Ht.ga[0]*rt*Ht.za,Ht.ga[1]*Qr*Ht.Aa,Ht.ga[2]*rt*Ht.za,Ht.ga[3]*Qr*Ht.Aa),d.uniform2f(U,Ht.ga[4]*rt*Ht.za+rt*(Ht.Ya-Ht.bc*Ht.za)-1,Ht.ga[5]*Qr*Ht.Aa+Qr*(Ht.Za-Ht.cc*Ht.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Je),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Je+4*He),d.drawElements(d.TRIANGLES,Ht.indices.length,d.UNSIGNED_SHORT,En),Je+=4*Ht.Sa.length,En+=2*Ht.indices.length}console.assert(Je==4*He),console.assert(En==2*mn)}}},this.canvas=function(){return f()&&d.canvas}},P=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function f(De){switch(De){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function _(){0<Bt.length&&(F.Mb(Je.drawWidth(),Je.drawHeight(),Bt,En,li),Bt=[],li=En=0,Je.reset(512,512));for(const De of mn){for(const Xe of De.H)Xe();De.H=[]}mn.clear()}P&&P();var S=z.RenderPaintStyle;const D=z.RenderPath,U=z.RenderPaint,Z=z.Renderer,ee=z.StrokeCap,fe=z.StrokeJoin,ue=z.BlendMode,Oe=S.fill,$e=S.stroke,ot=z.FillRule.evenOdd;let te=1;var je=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:Xe}={}){this.__parent.__construct.call(this),this.Ia=te,te=te+1&2147483647||1,this.ka=De,this.va=Xe},__destruct:function(){this.Ha&&(F.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var Xe=this;Xe.va&&Xe.va(Xe);var Ft=new Image;Xe.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),Ft.onload=function(){Xe.Cb=Ft,Xe.Ha=F.Ib(Ft),Xe.size(Ft.width,Ft.height),Xe.ka&&Xe.ka(Xe)},Ft.src=Xe.Va}}),rt=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,Xe,Ft,Kt,kt,Yt,an){var hn=this.T,Sr=hn.addPath;De=De.T;const Tn=new DOMMatrix;Tn.a=Xe,Tn.b=Ft,Tn.c=Kt,Tn.d=kt,Tn.e=Yt,Tn.f=an,Sr.call(hn,De,Tn)},fillRule:function(De){this.Ua=De},moveTo:function(De,Xe){this.T.moveTo(De,Xe)},lineTo:function(De,Xe){this.T.lineTo(De,Xe)},cubicTo:function(De,Xe,Ft,Kt,kt,Yt){this.T.bezierCurveTo(De,Xe,Ft,Kt,kt,Yt)},close:function(){this.T.closePath()}}),He=U.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case fe.miter:this.Ga="miter";break;case fe.round:this.Ga="round";break;case fe.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=f(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,Xe,Ft,Kt){this.ia={wb:De,xb:Xe,bb:Ft,cb:Kt,Pa:[]}},radialGradient:function(De,Xe,Ft,Kt){this.ia={wb:De,xb:Xe,bb:Ft,cb:Kt,Pa:[],$b:!0}},addStop:function(De,Xe){this.ia.Pa.push({color:De,stop:Xe})},completeGradient:function(){},draw:function(De,Xe,Ft){let Kt=this.Eb;var kt=this.Wa,Yt=this.ia;if(De.globalCompositeOperation=this.Bb,Yt!=null){kt=Yt.wb;var an=Yt.xb;const Sr=Yt.bb;var hn=Yt.cb;const Tn=Yt.Pa;Yt.$b?(Yt=Sr-kt,hn-=an,kt=De.createRadialGradient(kt,an,0,kt,an,Math.sqrt(Yt*Yt+hn*hn))):kt=De.createLinearGradient(kt,an,Sr,hn);for(let Gi=0,yn=Tn.length;Gi<yn;Gi++)an=Tn[Gi],kt.addColorStop(an.stop,d(an.color));this.Wa=kt,this.ia=null}switch(Kt){case $e:De.strokeStyle=kt,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(Xe);break;case Oe:De.fillStyle=kt,De.fill(Xe,Ft)}}});const mn=new Set;let Je=null,Bt=[],En=0,li=0;var Vr=z.CanvasRenderer=Z.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,Xe,Ft,Kt,kt,Yt){const an=this.S,hn=an.length-6;an.splice(hn,6,an[hn]*De+an[hn+2]*Xe,an[hn+1]*De+an[hn+3]*Xe,an[hn]*Ft+an[hn+2]*Kt,an[hn+1]*Ft+an[hn+3]*Kt,an[hn]*kt+an[hn+2]*Yt+an[hn+4],an[hn+1]*kt+an[hn+3]*Yt+an[hn+5]),this.H.push(this.B.transform.bind(this.B,De,Xe,Ft,Kt,kt,Yt))},rotate:function(De){const Xe=Math.sin(De);De=Math.cos(De),this.transform(De,Xe,-Xe,De,0,0)},_drawPath:function(De,Xe){this.H.push(Xe.draw.bind(Xe,this.B,De.T,De.Ua===ot?"evenodd":"nonzero"))},_drawRiveImage:function(De,Xe,Ft,Kt){var kt=De.Cb;if(kt){var Yt=this.B,an=f(Ft);this.H.push(function(){Yt.globalCompositeOperation=an,Yt.globalAlpha=Kt,Yt.drawImage(kt,0,0),Yt.globalAlpha=1})}},_getMatrix:function(De){const Xe=this.S,Ft=Xe.length-6;for(let Kt=0;6>Kt;++Kt)De[Kt]=Xe[Ft+Kt]},_drawImageMesh:function(De,Xe,Ft,Kt,kt,Yt,an,hn,Sr,Tn,Gi){Xe=this.B.canvas.width;var yn=this.B.canvas.height;const ra=Tn-hn,nl=Gi-Sr;hn=Math.max(hn,0),Sr=Math.max(Sr,0),Tn=Math.min(Tn,Xe),Gi=Math.min(Gi,yn);const Ps=Tn-hn,Ls=Gi-Sr;if(console.assert(Ps<=Math.min(ra,Xe)),console.assert(Ls<=Math.min(nl,yn)),!(0>=Ps||0>=Ls)){Tn=Ps<ra||Ls<nl,Xe=Gi=1;var Cs=Math.ceil(Ps*Gi),Cr=Math.ceil(Ls*Xe);yn=F.ac(),Cs>yn&&(Gi*=yn/Cs,Cs=yn),Cr>yn&&(Xe*=yn/Cr,Cr=yn),Je||(Je=new z.DynamicRectanizer(yn),Je.reset(512,512)),yn=Je.addRect(Cs,Cr),0>yn&&(_(),mn.add(this),yn=Je.addRect(Cs,Cr),console.assert(0<=yn));var au=yn&65535,xo=yn>>16;Bt.push({ga:this.S.slice(this.S.length-6),image:De,Ya:au,Za:xo,bc:hn,cc:Sr,tc:Cs,ib:Cr,za:Gi,Aa:Xe,Sa:new Float32Array(kt),Ab:new Float32Array(Yt),indices:new Uint16Array(an),fc:Tn,ub:De.Ia<<1|(Tn?1:0)}),En+=kt.length,li+=an.length;var Wr=this.B,Rf=f(Ft);this.H.push(function(){Wr.save(),Wr.resetTransform(),Wr.globalCompositeOperation=Rf,Wr.globalAlpha=Kt;const fr=F.canvas();fr&&Wr.drawImage(fr,au,xo,Cs,Cr,hn,Sr,Ps,Ls),Wr.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===ot?"evenodd":"nonzero"))},clear:function(){mn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,Xe){this.transform(1,0,0,1,De,Xe)}});z.makeRenderer=function(De){const Xe=new Vr(De),Ft=Xe.B;return new Proxy(Xe,{get(Kt,kt){if(typeof Kt[kt]=="function")return function(...Yt){return Kt[kt].apply(Kt,Yt)};if(typeof Ft[kt]=="function"){if(-1<Y.indexOf(kt))throw Error("RiveException: Method call to '"+kt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Yt){Xe.H.push(Ft[kt].bind(Ft,...Yt))}}return Kt[kt]},set(Kt,kt,Yt){if(kt in Ft)return Xe.H.push(()=>{Ft[kt]=Yt}),!0}})},z.decodeImage=function(De,Xe){new je({ka:Xe}).decode(De)},z.renderFactory={makeRenderPaint:function(){return new He},makeRenderPath:function(){return new rt},makeRenderImage:function(){let De=Qr;return new je({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const Xe=De.ready;Xe&&(Xe(),De.ready=null)}}})}};let Ht=z.load,Qr=null;z.load=function(De,Xe,Ft=!0){const Kt=new z.FallbackFileAssetLoader;return Xe!==void 0&&Kt.addLoader(Xe),Ft&&(Xe=new z.CDNFileAssetLoader,Kt.addLoader(Xe)),new Promise(function(kt){let Yt=null;Qr={total:0,loaded:0,ready:function(){kt(Yt)}},Yt=Ht(De,Kt),Qr.total==0&&kt(Yt)})};let ia=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(De,Xe,Ft,Kt,kt=1){ia.call(this,De,Xe,Ft,Kt,kt)},S=new tt,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=_,z.resolveAnimationFrame=_,z.cleanup=function(){Je&&Je.delete()}};var H=Object.assign({},z),x="./this.program",L="",R,$;(B||Pe)&&(Pe?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),O&&(L=O),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),Pe&&($=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),R=(f,d,_)=>{if(bi(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,_)});var ie=z.print||console.log.bind(console),q=z.printErr||console.error.bind(console);Object.assign(z,H),H=null,z.thisProgram&&(x=z.thisProgram);var Q;z.wasmBinary&&(Q=z.wasmBinary);var ye,he=!1,Ee,j,oe,Re,Ae,Me,Qe,dt;function pt(){var f=ye.buffer;z.HEAP8=Ee=new Int8Array(f),z.HEAP16=oe=new Int16Array(f),z.HEAPU8=j=new Uint8Array(f),z.HEAPU16=Re=new Uint16Array(f),z.HEAP32=Ae=new Int32Array(f),z.HEAPU32=Me=new Uint32Array(f),z.HEAPF32=Qe=new Float32Array(f),z.HEAPF64=dt=new Float64Array(f)}var bt=[],Rt=[],bn=[];function mt(){var f=z.preRun.shift();bt.unshift(f)}var Tt=0,nn=null;function qt(f){throw z.onAbort?.(f),f="Aborted("+f+")",q(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Se(f),f}var Zn=f=>f.startsWith("data:application/octet-stream;base64,"),bi=f=>f.startsWith("file://"),ln;function at(f){if(f==ln&&Q)return new Uint8Array(Q);if($)return $(f);throw"both async and sync fetching of the wasm failed"}function Ut(f){return Q?Promise.resolve().then(()=>at(f)):new Promise((d,_)=>{R(f,S=>d(new Uint8Array(S)),()=>{try{d(at(f))}catch(S){_(S)}})})}function Vt(f,d,_){return Ut(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{q(`failed to asynchronously prepare wasm: ${S}`),qt(S)})}function jn(f,d){var _=ln;return Q||typeof WebAssembly.instantiateStreaming!="function"||Zn(_)||bi(_)||typeof fetch!="function"?Vt(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(D){return q(`wasm streaming compile failed: ${D}`),q("falling back to ArrayBuffer instantiation"),Vt(_,f,d)}))}var vt,It,Mt={464256:(f,d,_,S,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=D;let U=window.h;U.D=[],U.rc=function(Z){for(var ee=0;ee<U.D.length;++ee)if(U.D[ee]==null)return U.D[ee]=Z,ee;return U.D.push(Z),U.D.length-1},U.zb=function(Z){for(U.D[Z]=null;0<U.D.length&&U.D[U.D.length-1]==null;)U.D.pop()},U.Oc=function(Z){for(var ee=0;ee<U.D.length;++ee)if(U.D[ee]==Z)return U.zb(ee)},U.pa=function(Z){return U.D[Z]},U.Ra=["touchend","click"],U.unlock=function(){for(var Z=0;Z<U.D.length;++Z){var ee=U.D[Z];ee!=null&&ee.K!=null&&ee.state===U.fa.vb&&ee.K.resume().then(()=>{Co(ee.ob)},fe=>{console.error("Failed to resume audiocontext",fe)})}U.Ra.map(function(fe){document.removeEventListener(fe,U.unlock,!0)})},U.Ra.map(function(Z){document.addEventListener(Z,U.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,D,U)=>{if(typeof window.h>"u")return-1;var Z={},ee={};return f==window.h.I.wa&&_!=0&&(ee.sampleRate=_),Z.K=new(window.AudioContext||window.webkitAudioContext)(ee),Z.K.suspend(),Z.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),Z.Y=Z.K.createScriptProcessor(S,_,d),Z.Y.onaudioprocess=function(fe){if((Z.qa==null||Z.qa.length==0)&&(Z.qa=new Float32Array(Qe.buffer,D,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var Oe=fe.inputBuffer.getChannelData(ue),$e=Z.qa,ot=0;ot<S;ot+=1)$e[ot*d+ue]=Oe[ot];ru(U,S,D)}if(f==window.h.I.wa||f==window.h.I.Ja)for(su(U,S,D),ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)for(Oe=fe.outputBuffer.getChannelData(ue),$e=Z.qa,ot=0;ot<S;ot+=1)Oe[ot]=$e[ot*d+ue];else for(ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)fe.outputBuffer.getChannelData(ue).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(fe){Z.Ba=Z.K.createMediaStreamSource(fe),Z.Ba.connect(Z.Y),Z.Y.connect(Z.K.destination)}).catch(function(fe){console.log("Failed to get user media: "+fe)}),f==window.h.I.wa&&Z.Y.connect(Z.K.destination),Z.ob=U,window.h.rc(Z)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},C=f=>{for(;0<f.length;)f.shift()(z)};function g(){var f=Ae[+Ui>>2];return Ui+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var D=f[S];D==="."?f.splice(S,1):D===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},k=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},J=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},pe=f=>{if(f==="/")return"/";f=k(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ne=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);qt("initRandomDevice")},et=f=>(et=Ne())(f),it=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(D=>!!D),!_).join("/"),(_?"/":"")+d||"."},qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Be=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&qe)return qe.decode(f.subarray(d,_));for(S="";d<_;){var D=f[d++];if(D&128){var U=f[d++]&63;if((D&224)==192)S+=String.fromCharCode((D&31)<<6|U);else{var Z=f[d++]&63;D=(D&240)==224?(D&15)<<12|U<<6|Z:(D&7)<<18|U<<12|Z<<6|f[d++]&63,65536>D?S+=String.fromCharCode(D):(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else S+=String.fromCharCode(D)}return S},Lt=[],Rn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},un=(f,d,_,S)=>{if(!(0<S))return 0;var D=_;S=_+S-1;for(var U=0;U<f.length;++U){var Z=f.charCodeAt(U);if(55296<=Z&&57343>=Z){var ee=f.charCodeAt(++U);Z=65536+((Z&1023)<<10)|ee&1023}if(127>=Z){if(_>=S)break;d[_++]=Z}else{if(2047>=Z){if(_+1>=S)break;d[_++]=192|Z>>6}else{if(65535>=Z){if(_+2>=S)break;d[_++]=224|Z>>12}else{if(_+3>=S)break;d[_++]=240|Z>>18,d[_++]=128|Z>>12&63}d[_++]=128|Z>>6&63}d[_++]=128|Z&63}}return d[_]=0,_-D};function On(f,d){var _=Array(Rn(f)+1);return f=un(f,_,0,_.length),d&&(_.length=f),_}var Wn=[];function zt(f,d){Wn[f]={input:[],G:[],V:d},Ci(f,Sn)}var Sn={open(f){var d=Wn[f.node.xa];if(!d)throw new Ge(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ge(60);for(var D=0,U=0;U<S;U++){try{var Z=f.s.V.hb(f.s)}catch{throw new Ge(29)}if(Z===void 0&&D===0)throw new Ge(6);if(Z==null)break;D++,d[_+U]=Z}return D&&(f.node.timestamp=Date.now()),D},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ge(60);try{for(var D=0;D<S;D++)f.s.V.Ma(f.s,d[_+D])}catch{throw new Ge(29)}return S&&(f.node.timestamp=Date.now()),D}},kn={hb(){e:{if(!Lt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Lt=On(f,!0)}f=Lt.shift()}return f},Ma(f,d){d===null||d===10?(ie(Be(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ie(Be(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Kn={Ma(f,d){d===null||d===10?(q(Be(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(q(Be(f.G,0)),f.G=[])}};function Ni(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var Ke={N:null,U(){return Ke.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ge(63);return Ke.N||(Ke.N={dir:{node:{X:Ke.j.X,P:Ke.j.P,ja:Ke.j.ja,ta:Ke.j.ta,sb:Ke.j.sb,yb:Ke.j.yb,tb:Ke.j.tb,rb:Ke.j.rb,Ca:Ke.j.Ca},stream:{aa:Ke.m.aa}},file:{node:{X:Ke.j.X,P:Ke.j.P},stream:{aa:Ke.m.aa,read:Ke.m.read,write:Ke.m.write,Xa:Ke.m.Xa,kb:Ke.m.kb,mb:Ke.m.mb}},link:{node:{X:Ke.j.X,P:Ke.j.P,la:Ke.j.la},stream:{}},$a:{node:{X:Ke.j.X,P:Ke.j.P},stream:Fn}}),_=er(f,d,_,S),(_.mode&61440)===16384?(_.j=Ke.N.dir.node,_.m=Ke.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=Ke.N.file.node,_.m=Ke.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=Ke.N.link.node,_.m=Ke.N.link.stream):(_.mode&61440)===8192&&(_.j=Ke.N.$a.node,_.m=Ke.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw Os[44]},ta(f,d,_,S){return Ke.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=Ir(d,_)}catch{}if(S)for(var D in S.l)throw new Ge(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=Ir(f,d),S;for(S in _.l)throw new Ge(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=Ke.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ge(28);return f.link}},m:{read(f,d,_,S,D){var U=f.node.l;if(D>=f.node.v)return 0;if(f=Math.min(f.node.v-D,S),8<f&&U.subarray)d.set(U.subarray(D,D+f),_);else for(S=0;S<f;S++)d[_+S]=U[D+S];return f},write(f,d,_,S,D,U){if(d.buffer===Ee.buffer&&(U=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(U)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&D===0)return f.l=d.slice(_,_+S),f.v=S;if(D+S<=f.v)return f.l.set(d.subarray(_,_+S),D),S}if(Ni(f,D+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),D);else for(U=0;U<S;U++)f.l[D+U]=d[_+U];return f.v=Math.max(f.v,D+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ge(28);return d},Xa(f,d,_){Ni(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,D){if((f.node.mode&61440)!==32768)throw new Ge(43);if(f=f.node.l,D&2||f.buffer!==Ee.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,qt(),d=void 0,!d)throw new Ge(48);Ee.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return Ke.m.write(f,d,0,S,_,!1),0}}},Bn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},Ct=null,ai={},Di=[],ns=1,Si=null,vr=!0,Ge=class{constructor(f){this.name="ErrnoError",this.$=f}},Os={},Rr=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Oi=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=ns++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function fn(f,d={}){if(f=it(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ge(32);f=f.split("/").filter(Z=>!!Z);for(var _=Ct,S="/",D=0;D<f.length;D++){var U=D===f.length-1;if(U&&d.parent)break;if(_=Ir(_,f[D]),S=k(S+"/"+f[D]),_.ua&&(!U||U&&d.gb)&&(_=_.ua.root),!U||d.fb){for(U=0;(_.mode&61440)===40960;)if(_=$s(S),S=it(J(S),_),_=fn(S,{Oa:d.Oa+1}).node,40<U++)throw new Ge(32)}}return{path:S,node:_}}function ei(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function Zi(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Si.length}function Ir(f,d){var _=(f.mode&61440)===16384?(_=_s(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ge(_);for(_=Si[Zi(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function er(f,d,_,S){return f=new Oi(f,d,_,S),d=Zi(f.parent.id,f.name),f.ec=Si[d],Si[d]=f}function Ks(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function _s(f,d){if(vr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function tr(f,d){try{return Ir(f,d),20}catch{}return _s(f,"wx")}function ki(f){if(f=Di[f],!f)throw new Ge(8);return f}function Vi(f,d=-1){if(f=Object.assign(new Rr,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Di[d])break e;throw new Ge(33)}return f.W=d,Di[d]=f}function Pi(f,d=-1){return f=Vi(f,d),f.m?.Ec?.(f),f}var Fn={open(f){f.m=ai[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ge(70)}};function Ci(f,d){ai[f]={m:d}}function Vn(f,d){var _=d==="/";if(_&&Ct)throw new Ge(10);if(!_&&d){var S=fn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ge(10);if((S.mode&61440)!==16384)throw new Ge(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?Ct=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function bs(f,d,_){var S=fn(f,{parent:!0}).node;if(f=pe(f),!f||f==="."||f==="..")throw new Ge(28);var D=tr(S,f);if(D)throw new Ge(D);if(!S.j.ta)throw new Ge(63);return S.j.ta(S,f,d,_)}function Li(f){return bs(f,16895,0)}function ji(f,d,_){typeof _>"u"&&(_=d,d=438),bs(f,d|8192,_)}function nr(f,d){if(!it(f))throw new Ge(44);var _=fn(d,{parent:!0}).node;if(!_)throw new Ge(44);d=pe(d);var S=tr(_,d);if(S)throw new Ge(S);if(!_.j.Ca)throw new Ge(63);_.j.Ca(_,d,f)}function $s(f){if(f=fn(f).node,!f)throw new Ge(44);if(!f.j.la)throw new Ge(28);return it(ei(f.parent),f.j.la(f))}function Mr(f,d,_){if(f==="")throw new Ge(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var D=f;else{f=k(f);try{D=fn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(D){if(d&128)throw new Ge(20)}else D=bs(f,_,0),S=!0;if(!D)throw new Ge(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Ge(54);if(!S&&(_=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(Ks(d)!=="r"||d&512)?31:_s(D,Ks(d)):44))throw new Ge(_);if(d&512&&!S){if(_=D,_=typeof _=="string"?fn(_,{fb:!0}).node:_,!_.j.P)throw new Ge(63);if((_.mode&61440)===16384)throw new Ge(31);if((_.mode&61440)!==32768)throw new Ge(28);if(S=_s(_,"w"))throw new Ge(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,D=Vi({node:D,path:ei(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!z.logReadFiles||d&1||($n||={},f in $n||($n[f]=1)),D}function In(f,d,_){if(f.W===null)throw new Ge(8);if(!f.seekable||!f.m.aa)throw new Ge(70);if(_!=0&&_!=1&&_!=2)throw new Ge(28);f.position=f.m.aa(f,d,_),f.sc=[]}var is;function _r(f,d,_){f=k("/dev/"+f);var S=Bn(!!d,!!_);xi||=64;var D=xi++<<8|0;Ci(D,{open(U){U.seekable=!1},close(){_?.buffer?.length&&_(10)},read(U,Z,ee,fe){for(var ue=0,Oe=0;Oe<fe;Oe++){try{var $e=d()}catch{throw new Ge(29)}if($e===void 0&&ue===0)throw new Ge(6);if($e==null)break;ue++,Z[ee+Oe]=$e}return ue&&(U.node.timestamp=Date.now()),ue},write(U,Z,ee,fe){for(var ue=0;ue<fe;ue++)try{_(Z[ee+ue])}catch{throw new Ge(29)}return fe&&(U.node.timestamp=Date.now()),ue}}),ji(f,S,D)}var xi,wn={},$n,Ui=void 0,ir=(f,d)=>Object.defineProperty(d,"name",{value:f}),Wt=[],wi=[],ht,fi=f=>{if(!f)throw new ht("Cannot use deleted val. handle = "+f);return wi[f]},Pn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Wt.pop()||wi.length;return wi[d]=f,wi[d+1]=1,d}},ws=f=>{var d=Error,_=ir(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Js,ks,dn=f=>{for(var d="";j[f];)d+=ks[j[f++]];return d},rs=[],rr=()=>{for(;rs.length;){var f=rs.pop();f.g.ea=!1,f.delete()}},ti,sr={},Es=(f,d)=>{if(d===void 0)throw new ht("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},ar={},ss=f=>{f=bc(f);var d=dn(f);return Ar(f),d},Fr=(f,d)=>{var _=ar[f];if(_===void 0)throw f=`${d} has unknown type ${ss(f)}`,new ht(f);return _},br=()=>{},as=!1,or=(f,d,_)=>d===_?f:_.C===void 0?null:(f=or(f,d,_.C),f===null?null:_.Lb(f)),Ts={},lr=(f,d)=>(d=Es(f,d),sr[d]),zi,Bi=(f,d)=>{if(!d.u||!d.o)throw new zi("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new zi("Both smartPtrType and smartPtr must be specified");return d.count={value:1},ur(Object.create(f,{g:{value:d,writable:!0}}))},ur=f=>typeof FinalizationRegistry>"u"?(ur=d=>d,f):(as=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),ur=d=>{var _=d.g;return _.F&&as.register(d,{g:_},d),d},br=d=>{as.unregister(d)},ur(f)),Hr={},cr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Hn(f){return this.fromWireType(Me[f>>2])}var oi={},wr={},Nt=(f,d,_)=>{function S(ee){if(ee=_(ee),ee.length!==f.length)throw new zi("Mismatched type converter count");for(var fe=0;fe<f.length;++fe)qn(f[fe],ee[fe])}f.forEach(function(ee){wr[ee]=d});var D=Array(d.length),U=[],Z=0;d.forEach((ee,fe)=>{ar.hasOwnProperty(ee)?D[fe]=ar[ee]:(U.push(ee),oi.hasOwnProperty(ee)||(oi[ee]=[]),oi[ee].push(()=>{D[fe]=ar[ee],++Z,Z===U.length&&S(D)}))}),U.length===0&&S(D)};function Nr(f,d,_={}){var S=d.name;if(!f)throw new ht(`type "${S}" must have a positive integer typeid pointer`);if(ar.hasOwnProperty(f)){if(_.Vb)return;throw new ht(`Cannot register type '${S}' twice`)}ar[f]=d,delete wr[f],oi.hasOwnProperty(f)&&(d=oi[f],delete oi[f],d.forEach(D=>D()))}function qn(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Nr(f,d,_)}var Dr=f=>{throw new ht(f.g.u.i.name+" instance already deleted")};function qr(){}var Gr=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...D){if(!f[d].A.hasOwnProperty(D.length))throw new ht(`Function '${_}' called with an invalid number of arguments (${D.length}) - expects one of (${f[d].A})!`);return f[d].A[D.length].apply(this,D)},f[d].A=[],f[d].A[S.da]=S}},Er=(f,d,_)=>{if(z.hasOwnProperty(f)){if(_===void 0||z[f].A!==void 0&&z[f].A[_]!==void 0)throw new ht(`Cannot register public name '${f}' twice`);if(Gr(z,f,f),z.hasOwnProperty(_))throw new ht(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);z[f].A[_]=d}else z[f]=d,_!==void 0&&(z[f].Lc=_)},Fi=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function X(f,d,_,S,D,U,Z,ee){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=D,this.Qb=U,this.ma=Z,this.Lb=ee,this.pb=[]}var se=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ht(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function ve(f,d){if(d===null){if(this.La)throw new ht(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ht(`Cannot pass "${Oa(d)}" as a ${this.name}`);if(!d.g.o)throw new ht(`Cannot pass deleted object as a pointer of type ${this.name}`);return se(d.g.o,d.g.u.i,this.i)}function be(f,d){if(d===null){if(this.La)throw new ht(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ht(`Cannot pass "${Oa(d)}" as a ${this.name}`);if(!d.g.o)throw new ht(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ht(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=se(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ht("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ht(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Pn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ht("Unsupporting sharing policy")}}return _}function _e(f,d){if(d===null){if(this.La)throw new ht(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ht(`Cannot pass "${Oa(d)}" as a ${this.name}`);if(!d.g.o)throw new ht(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ht(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return se(d.g.o,d.g.u.i,this.i)}function Fe(f,d,_,S,D,U,Z,ee,fe,ue,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=D,this.hc=U,this.mc=Z,this.qb=ee,this.Na=fe,this.ic=ue,this.O=Oe,D||d.C!==void 0?this.toWireType=be:(this.toWireType=S?ve:_e,this.L=null)}var We=(f,d,_)=>{if(!z.hasOwnProperty(f))throw new zi("Replacing nonexistent public symbol");z[f].A!==void 0&&_!==void 0?z[f].A[_]=d:(z[f]=d,z[f].da=_)},Ve=[],wt,Ye=f=>{var d=Ve[f];return d||(f>=Ve.length&&(Ve.length=f+1),Ve[f]=d=wt.get(f)),d},ft=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,z["dynCall_"+f])(d,..._)):d=Ye(d)(..._),d),rn=(f,d)=>(..._)=>ft(f,d,_),Gt=(f,d)=>{f=dn(f);var _=f.includes("j")?rn(f,d):Ye(d);if(typeof _!="function")throw new ht(`unknown function pointer with signature ${f}: ${d}`);return _},Ei,Hi=(f,d)=>{function _(U){D[U]||ar[U]||(wr[U]?wr[U].forEach(_):(S.push(U),D[U]=!0))}var S=[],D={};throw d.forEach(_),new Ei(`${f}: `+S.map(ss).join([", "]))};function Yr(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function As(f,d,_,S,D){var U=d.length;if(2>U)throw new ht("argTypes array size mismatch! Must at least get return value and 'this' types!");var Z=d[1]!==null&&_!==null,ee=Yr(d),fe=d[0].name!=="void",ue=U-2,Oe=Array(ue),$e=[],ot=[];return ir(f,function(...te){if(te.length!==ue)throw new ht(`function ${f} called with ${te.length} arguments, expected ${ue}`);if(ot.length=0,$e.length=Z?2:1,$e[0]=D,Z){var je=d[1].toWireType(ot,this);$e[1]=je}for(var rt=0;rt<ue;++rt)Oe[rt]=d[rt+2].toWireType(ot,te[rt]),$e.push(Oe[rt]);if(te=S(...$e),ee)cr(ot);else for(rt=Z?1:2;rt<d.length;rt++){var He=rt===1?je:Oe[rt-2];d[rt].L!==null&&d[rt].L(He)}return je=fe?d[0].fromWireType(te):void 0,je})}var Zs=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Me[d+4*S>>2]);return _},Na=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Xr=(f,d,_)=>{if(!(f instanceof Object))throw new ht(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ht(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ht(`cannot call emscripten binding method ${_} on deleted object`);return se(f.g.o,f.g.u.i,d.i)},Da=f=>{9<f&&--wi[f+1]===0&&(wi[f]=void 0,Wt.push(f))},$o={name:"emscripten::val",fromWireType:f=>{var d=fi(f);return Da(f),d},toWireType:(f,d)=>Pn(d),argPackAdvance:8,readValueFromPointer:Hn,L:null},Jo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Ee[S])}:function(S){return this.fromWireType(j[S])};case 2:return _?function(S){return this.fromWireType(oe[S>>1])}:function(S){return this.fromWireType(Re[S>>1])};case 4:return _?function(S){return this.fromWireType(Ae[S>>2])}:function(S){return this.fromWireType(Me[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Oa=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Vs=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Qe[_>>2])};case 8:return function(_){return this.fromWireType(dt[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},qi=(f,d,_)=>{switch(d){case 1:return _?S=>Ee[S]:S=>j[S];case 2:return _?S=>oe[S>>1]:S=>Re[S>>1];case 4:return _?S=>Ae[S>>2]:S=>Me[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},So=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Re[_];)++_;if(_<<=1,32<_-f&&So)return So.decode(j.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var D=oe[f+2*S>>1];if(D==0)break;_+=String.fromCharCode(D)}return _},Ss=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var D=0;D<_;++D)oe[d>>1]=f.charCodeAt(D),d+=2;return oe[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var D=Ae[f+4*_>>2];if(D==0)break;++_,65536<=D?(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023)):S+=String.fromCharCode(D)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var D=0;D<f.length;++D){var U=f.charCodeAt(D);if(55296<=U&&57343>=U){var Z=f.charCodeAt(++D);U=65536+((U&1023)<<10)|Z&1023}if(Ae[d>>2]=U,d+=4,d+4>_)break}return Ae[d>>2]=0,d-S},V=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ae=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Me[d>>2]=Pn(S)),f},me={},Le=f=>{var d=me[f];return d===void 0?dn(f):d},St=[],ni=f=>{var d=St.length;return St.push(f),d},cn=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=Fr(Me[d+4*S>>2],"parameter "+S);return _},Un=Reflect.construct,hr=[],Or={},kr=()=>{if(!Tr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"},d;for(d in Or)Or[d]===void 0?delete f[d]:f[d]=Or[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);Tr=_}return Tr},Tr,os=f=>f%4===0&&(f%100!==0||f%400===0),ea=[31,29,31,30,31,30,31,31,30,31,30,31],ta=[31,28,31,30,31,30,31,31,30,31,30,31],xf=(f,d,_,S)=>{function D(te,je,rt){for(te=typeof te=="number"?te.toString():te||"";te.length<je;)te=rt[0]+te;return te}function U(te,je){return D(te,je,"0")}function Z(te,je){function rt(mn){return 0>mn?-1:0<mn?1:0}var He;return(He=rt(te.getFullYear()-je.getFullYear()))===0&&(He=rt(te.getMonth()-je.getMonth()))===0&&(He=rt(te.getDate()-je.getDate())),He}function ee(te){switch(te.getDay()){case 0:return new Date(te.getFullYear()-1,11,29);case 1:return te;case 2:return new Date(te.getFullYear(),0,3);case 3:return new Date(te.getFullYear(),0,2);case 4:return new Date(te.getFullYear(),0,1);case 5:return new Date(te.getFullYear()-1,11,31);case 6:return new Date(te.getFullYear()-1,11,30)}}function fe(te){var je=te.ba;for(te=new Date(new Date(te.ca+1900,0,1).getTime());0<je;){var rt=te.getMonth(),He=(os(te.getFullYear())?ea:ta)[rt];if(je>He-te.getDate())je-=He-te.getDate()+1,te.setDate(1),11>rt?te.setMonth(rt+1):(te.setMonth(0),te.setFullYear(te.getFullYear()+1));else{te.setDate(te.getDate()+je);break}}return rt=new Date(te.getFullYear()+1,0,4),je=ee(new Date(te.getFullYear(),0,4)),rt=ee(rt),0>=Z(je,te)?0>=Z(rt,te)?te.getFullYear()+1:te.getFullYear():te.getFullYear()-1}var ue=Me[S+40>>2];S={pc:Ae[S>>2],oc:Ae[S+4>>2],Da:Ae[S+8>>2],Qa:Ae[S+12>>2],Ea:Ae[S+16>>2],ca:Ae[S+20>>2],R:Ae[S+24>>2],ba:Ae[S+28>>2],Nc:Ae[S+32>>2],nc:Ae[S+36>>2],qc:ue&&ue?Be(j,ue):""},_=_?Be(j,_):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in ue)_=_.replace(new RegExp(Oe,"g"),ue[Oe]);var $e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ot="January February March April May June July August September October November December".split(" ");ue={"%a":te=>$e[te.R].substring(0,3),"%A":te=>$e[te.R],"%b":te=>ot[te.Ea].substring(0,3),"%B":te=>ot[te.Ea],"%C":te=>U((te.ca+1900)/100|0,2),"%d":te=>U(te.Qa,2),"%e":te=>D(te.Qa,2," "),"%g":te=>fe(te).toString().substring(2),"%G":fe,"%H":te=>U(te.Da,2),"%I":te=>(te=te.Da,te==0?te=12:12<te&&(te-=12),U(te,2)),"%j":te=>{for(var je=0,rt=0;rt<=te.Ea-1;je+=(os(te.ca+1900)?ea:ta)[rt++]);return U(te.Qa+je,3)},"%m":te=>U(te.Ea+1,2),"%M":te=>U(te.oc,2),"%n":()=>`
`,"%p":te=>0<=te.Da&&12>te.Da?"AM":"PM","%S":te=>U(te.pc,2),"%t":()=>"	","%u":te=>te.R||7,"%U":te=>U(Math.floor((te.ba+7-te.R)/7),2),"%V":te=>{var je=Math.floor((te.ba+7-(te.R+6)%7)/7);if(2>=(te.R+371-te.ba-2)%7&&je++,je)je==53&&(rt=(te.R+371-te.ba)%7,rt==4||rt==3&&os(te.ca)||(je=1));else{je=52;var rt=(te.R+7-te.ba-1)%7;(rt==4||rt==5&&os(te.ca%400-1))&&je++}return U(je,2)},"%w":te=>te.R,"%W":te=>U(Math.floor((te.ba+7-(te.R+6)%7)/7),2),"%y":te=>(te.ca+1900).toString().substring(2),"%Y":te=>te.ca+1900,"%z":te=>{te=te.nc;var je=0<=te;return te=Math.abs(te)/60,(je?"+":"-")+("0000"+(te/60*100+te%60)).slice(-4)},"%Z":te=>te.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in ue)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),ue[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=On(_,!1),Oe.length>d?0:(Ee.set(Oe,f),Oe.length-1)};[44].forEach(f=>{Os[f]=new Ge(f),Os[f].stack="<generic error, no stack>"}),Si=Array(4096),Vn(Ke,"/"),Li("/tmp"),Li("/home"),Li("/home/web_user"),(function(){Li("/dev"),Ci(259,{read:()=>0,write:(S,D,U,Z)=>Z}),ji("/dev/null",259),zt(1280,kn),zt(1536,Kn),ji("/dev/tty",1280),ji("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=et(f).byteLength),f[--d]);_r("random",_),_r("urandom",_),Li("/dev/shm"),Li("/dev/shm/tmp")})(),(function(){Li("/proc");var f=Li("/proc/self");Li("/proc/self/fd"),Vn({U(){var d=er(f,"fd",16895,73);return d.j={ja(_,S){var D=ki(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},_.parent=_}},d}},"/proc/self/fd")})(),ht=z.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},wi.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>wi.length/2-5-Wt.length,Js=z.PureVirtualError=ws("PureVirtualError");for(var _c=Array(256),el=0;256>el;++el)_c[el]=String.fromCharCode(el);ks=_c,z.getInheritedInstanceCount=()=>Object.keys(sr).length,z.getLiveInheritedInstances=()=>{var f=[],d;for(d in sr)sr.hasOwnProperty(d)&&f.push(sr[d]);return f},z.flushPendingDeletes=rr,z.setDelayFunction=f=>{ti=f,rs.length&&ti&&ti(rr)},zi=z.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(qr.prototype,{isAliasOf:function(f){if(!(this instanceof qr&&f instanceof qr))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||Dr(this),this.g.ha)return this.g.count.value+=1,this;var f=ur,d=Object,_=d.create,S=Object.getPrototypeOf(this),D=this.g;return f=f(_.call(d,S,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||Dr(this),this.g.ea&&!this.g.ha)throw new ht("Object already scheduled for deletion");br(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Dr(this),this.g.ea&&!this.g.ha)throw new ht("Object already scheduled for deletion");return rs.push(this),rs.length===1&&ti&&ti(rr),this.g.ea=!0,this}}),Object.assign(Fe.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Hn,fromWireType:function(f){function d(){return this.sa?Bi(this.i.M,{u:this.hc,o:_,J:this,F:f}):Bi(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=lr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Ts[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var D=or(_,this.i,S.i);return D===null?d.call(this):this.sa?Bi(S.i.M,{u:S,o:D,J:this,F:f}):Bi(S.i.M,{u:S,o:D})}}),Ei=z.UnboundTypeError=ws("UnboundTypeError");var iu={__syscall_fcntl64:function(f,d,_){Ui=_;try{var S=ki(f);switch(d){case 0:var D=g();if(0>D)break;for(;Di[D];)D++;return Pi(S,D).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return D=g(),S.flags|=D,0;case 12:return D=g(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(U){if(typeof wn>"u"||U.name!=="ErrnoError")throw U;return-U.$}},__syscall_ioctl:function(f,d,_){Ui=_;try{var S=ki(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=g();Ae[D>>2]=25856,Ae[D+4>>2]=5,Ae[D+8>>2]=191,Ae[D+12>>2]=35387;for(var U=0;32>U;U++)Ee[D+U+17]=f[U]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(D=g(),f=[],U=0;32>U;U++)f.push(Ee[D+U+17]);return 0;case 21519:return S.s?(D=g(),Ae[D>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(D=g(),!S.m.Wb)throw new Ge(59);return S.m.Wb(S,d,D);case 21523:return S.s?(S.s.V.Zb&&(U=[24,80],D=g(),oe[D>>1]=U[0],oe[D+2>>1]=U[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(Z){if(typeof wn>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},__syscall_openat:function(f,d,_,S){Ui=S;try{d=d?Be(j,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var U=f===-100?"/":ki(f).path;if(D.length==0)throw new Ge(44);d=k(U+"/"+D)}var Z=S?g():0;return Mr(d,_,Z).W}catch(ee){if(typeof wn>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{qt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=dn(f),d=Fr(d,"wrapper"),_=fi(_);var S=d.i,D=S.M,U=S.C.M,Z=S.C.constructor;return f=ir(f,function(...ee){S.C.pb.forEach((function(fe){if(this[fe]===U[fe])throw new Js(`Pure virtual function ${fe} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ee)}),D.__construct=function(...ee){if(this===D)throw new ht("Pass correct 'this' to __construct");ee=Z.implement(this,...ee),br(ee);var fe=ee.g;if(ee.notifyOnDestruction(),fe.ha=!0,Object.defineProperties(this,{g:{value:fe}}),ur(this),ee=fe.o,ee=Es(S,ee),sr.hasOwnProperty(ee))throw new ht(`Tried to register registered instance: ${ee}`);sr[ee]=this},D.__destruct=function(){if(this===D)throw new ht("Pass correct 'this' to __destruct");br(this);var ee=this.g.o;if(ee=Es(S,ee),sr.hasOwnProperty(ee))delete sr[ee];else throw new ht(`Tried to unregister unregistered instance: ${ee}`)},f.prototype=Object.create(D),Object.assign(f.prototype,_),Pn(f)},_embind_finalize_value_object:f=>{var d=Hr[f];delete Hr[f];var _=d.Na,S=d.O,D=d.eb,U=D.map(Z=>Z.Ub).concat(D.map(Z=>Z.kc));Nt([f],U,Z=>{var ee={};return D.forEach((fe,ue)=>{var Oe=Z[ue],$e=fe.Sb,ot=fe.Tb,te=Z[ue+D.length],je=fe.jc,rt=fe.lc;ee[fe.Ob]={read:He=>Oe.fromWireType($e(ot,He)),write:(He,mn)=>{var Je=[];je(rt,He,te.toWireType(Je,mn)),cr(Je)}}}),[{name:d.name,fromWireType:fe=>{var ue={},Oe;for(Oe in ee)ue[Oe]=ee[Oe].read(fe);return S(fe),ue},toWireType:(fe,ue)=>{for(var Oe in ee)if(!(Oe in ue))throw new TypeError(`Missing field: "${Oe}"`);var $e=_();for(Oe in ee)ee[Oe].write($e,ue[Oe]);return fe!==null&&fe.push(S,$e),$e},argPackAdvance:8,readValueFromPointer:Hn,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=dn(d),qn(f,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,U){return U?_:S},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(j[D])},L:null})},_embind_register_class:(f,d,_,S,D,U,Z,ee,fe,ue,Oe,$e,ot)=>{Oe=dn(Oe),U=Gt(D,U),ee&&=Gt(Z,ee),ue&&=Gt(fe,ue),ot=Gt($e,ot);var te=Fi(Oe);Er(te,function(){Hi(`Cannot construct ${Oe} due to unbound types`,[S])}),Nt([f,d,_],S?[S]:[],je=>{if(je=je[0],S)var rt=je.i,He=rt.M;else He=qr.prototype;je=ir(Oe,function(...En){if(Object.getPrototypeOf(this)!==mn)throw new ht("Use 'new' to construct "+Oe);if(Je.Z===void 0)throw new ht(Oe+" has no accessible constructor");var li=Je.Z[En.length];if(li===void 0)throw new ht(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${En.length}) - expected (${Object.keys(Je.Z).toString()}) parameters instead!`);return li.apply(this,En)});var mn=Object.create(He,{constructor:{value:je}});je.prototype=mn;var Je=new X(Oe,je,mn,ot,rt,U,ee,ue);if(Je.C){var Bt;(Bt=Je.C).na??(Bt.na=[]),Je.C.na.push(Je)}return rt=new Fe(Oe,Je,!0,!1,!1),Bt=new Fe(Oe+"*",Je,!1,!1,!1),He=new Fe(Oe+" const*",Je,!1,!0,!1),Ts[f]={pointerType:Bt,Hb:He},We(te,je),[rt,Bt,He]})},_embind_register_class_class_function:(f,d,_,S,D,U,Z)=>{var ee=Zs(_,S);d=dn(d),d=Na(d),U=Gt(D,U),Nt([],[f],fe=>{function ue(){Hi(`Cannot call ${Oe} due to unbound types`,ee)}fe=fe[0];var Oe=`${fe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var $e=fe.i.constructor;return $e[d]===void 0?(ue.da=_-1,$e[d]=ue):(Gr($e,d,Oe),$e[d].A[_-1]=ue),Nt([],ee,ot=>{if(ot=As(Oe,[ot[0],null].concat(ot.slice(1)),null,U,Z),$e[d].A===void 0?(ot.da=_-1,$e[d]=ot):$e[d].A[_-1]=ot,fe.i.na)for(const te of fe.i.na)te.constructor.hasOwnProperty(d)||(te.constructor[d]=ot);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,D,U,Z,ee)=>{d=dn(d),U=Gt(D,U),Nt([],[f],fe=>{fe=fe[0];var ue=`${fe.name}.${d}`,Oe={get(){Hi(`Cannot access ${ue} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=ee?()=>{Hi(`Cannot access ${ue} due to unbound types`,[_])}:()=>{throw new ht(`${ue} is a read-only property`)},Object.defineProperty(fe.i.constructor,d,Oe),Nt([],[_],$e=>{$e=$e[0];var ot={get(){return $e.fromWireType(U(S))},enumerable:!0};return ee&&(ee=Gt(Z,ee),ot.set=te=>{var je=[];ee(S,$e.toWireType(je,te)),cr(je)}),Object.defineProperty(fe.i.constructor,d,ot),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,D,U)=>{var Z=Zs(d,_);D=Gt(S,D),Nt([],[f],ee=>{ee=ee[0];var fe=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new ht(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{Hi(`Cannot construct ${ee.name} due to unbound types`,Z)},Nt([],Z,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=As(fe,ue,null,D,U),[])),[]})},_embind_register_class_function:(f,d,_,S,D,U,Z,ee)=>{var fe=Zs(_,S);d=dn(d),d=Na(d),U=Gt(D,U),Nt([],[f],ue=>{function Oe(){Hi(`Cannot call ${$e} due to unbound types`,fe)}ue=ue[0];var $e=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var ot=ue.i.M,te=ot[d];return te===void 0||te.A===void 0&&te.className!==ue.name&&te.da===_-2?(Oe.da=_-2,Oe.className=ue.name,ot[d]=Oe):(Gr(ot,d,$e),ot[d].A[_-2]=Oe),Nt([],fe,je=>(je=As($e,je,ue,U,Z),ot[d].A===void 0?(je.da=_-2,ot[d]=je):ot[d].A[_-2]=je,[])),[]})},_embind_register_class_property:(f,d,_,S,D,U,Z,ee,fe,ue)=>{d=dn(d),D=Gt(S,D),Nt([],[f],Oe=>{Oe=Oe[0];var $e=`${Oe.name}.${d}`,ot={get(){Hi(`Cannot access ${$e} due to unbound types`,[_,Z])},enumerable:!0,configurable:!0};return ot.set=fe?()=>Hi(`Cannot access ${$e} due to unbound types`,[_,Z]):()=>{throw new ht($e+" is a read-only property")},Object.defineProperty(Oe.i.M,d,ot),Nt([],fe?[_,Z]:[_],te=>{var je=te[0],rt={get(){var mn=Xr(this,Oe,$e+" getter");return je.fromWireType(D(U,mn))},enumerable:!0};if(fe){fe=Gt(ee,fe);var He=te[1];rt.set=function(mn){var Je=Xr(this,Oe,$e+" setter"),Bt=[];fe(ue,Je,He.toWireType(Bt,mn)),cr(Bt)}}return Object.defineProperty(Oe.i.M,d,rt),[]}),[]})},_embind_register_emval:f=>qn(f,$o),_embind_register_enum:(f,d,_,S)=>{function D(){}d=dn(d),D.values={},qn(f,{name:d,constructor:D,fromWireType:function(U){return this.constructor.values[U]},toWireType:(U,Z)=>Z.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Er(d,D)},_embind_register_enum_value:(f,d,_)=>{var S=Fr(f,"enum");d=dn(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:ir(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=dn(d),qn(f,{name:d,fromWireType:S=>S,toWireType:(S,D)=>D,argPackAdvance:8,readValueFromPointer:Vs(d,_),L:null})},_embind_register_function:(f,d,_,S,D,U)=>{var Z=Zs(d,_);f=dn(f),f=Na(f),D=Gt(S,D),Er(f,function(){Hi(`Cannot call ${f} due to unbound types`,Z)},d-1),Nt([],Z,ee=>(We(f,As(f,[ee[0],null].concat(ee.slice(1)),null,D,U),d-1),[]))},_embind_register_integer:(f,d,_,S,D)=>{if(d=dn(d),D===-1&&(D=4294967295),D=ee=>ee,S===0){var U=32-8*_;D=ee=>ee<<U>>>U}var Z=d.includes("unsigned")?function(ee,fe){return fe>>>0}:function(ee,fe){return fe};qn(f,{name:d,fromWireType:D,toWireType:Z,argPackAdvance:8,readValueFromPointer:qi(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(U){return new D(Ee.buffer,Me[U+4>>2],Me[U>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=dn(_),qn(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=dn(d);var _=d==="std::string";qn(f,{name:d,fromWireType:function(S){var D=Me[S>>2],U=S+4;if(_)for(var Z=U,ee=0;ee<=D;++ee){var fe=U+ee;if(ee==D||j[fe]==0){if(Z=Z?Be(j,Z,fe-Z):"",ue===void 0)var ue=Z;else ue+="\0",ue+=Z;Z=fe+1}}else{for(ue=Array(D),ee=0;ee<D;++ee)ue[ee]=String.fromCharCode(j[U+ee]);ue=ue.join("")}return Ar(S),ue},toWireType:function(S,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var U=typeof D=="string";if(!(U||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new ht("Cannot pass non-string to std::string");var Z=_&&U?Rn(D):D.length,ee=na(4+Z+1),fe=ee+4;if(Me[ee>>2]=Z,_&&U)un(D,j,fe,Z+1);else if(U)for(U=0;U<Z;++U){var ue=D.charCodeAt(U);if(255<ue)throw Ar(fe),new ht("String has UTF-16 code units that do not fit in 8 bits");j[fe+U]=ue}else for(U=0;U<Z;++U)j[fe+U]=D[U];return S!==null&&S.push(Ar,ee),ee},argPackAdvance:8,readValueFromPointer:Hn,L(S){Ar(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=dn(_),d===2)var S=Zo,D=Ss,U=u,Z=ee=>Re[ee>>1];else d===4&&(S=y,D=A,U=V,Z=ee=>Me[ee>>2]);qn(f,{name:_,fromWireType:ee=>{for(var fe=Me[ee>>2],ue,Oe=ee+4,$e=0;$e<=fe;++$e){var ot=ee+4+$e*d;($e==fe||Z(ot)==0)&&(Oe=S(Oe,ot-Oe),ue===void 0?ue=Oe:(ue+="\0",ue+=Oe),Oe=ot+d)}return Ar(ee),ue},toWireType:(ee,fe)=>{if(typeof fe!="string")throw new ht(`Cannot pass non-string to C++ string type ${_}`);var ue=U(fe),Oe=na(4+ue+d);return Me[Oe>>2]=ue/d,D(fe,Oe+4,ue+d),ee!==null&&ee.push(Ar,Oe),Oe},argPackAdvance:8,readValueFromPointer:Hn,L(ee){Ar(ee)}})},_embind_register_value_object:(f,d,_,S,D,U)=>{Hr[f]={name:dn(d),Na:Gt(_,S),O:Gt(D,U),eb:[]}},_embind_register_value_object_field:(f,d,_,S,D,U,Z,ee,fe,ue)=>{Hr[f].eb.push({Ob:dn(d),Ub:_,Sb:Gt(S,D),Tb:U,kc:Z,jc:Gt(ee,fe),lc:ue})},_embind_register_void:(f,d)=>{d=dn(d),qn(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>j.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=fi(f),d=Fr(d,"emval::as"),ae(d,_,f)),_emval_call_method:(f,d,_,S,D)=>(f=St[f],d=fi(d),_=Le(_),f(d,d[_],S,D)),_emval_decref:Da,_emval_get_method_caller:(f,d,_)=>{var S=cn(f,d),D=S.shift();f--;var U=Array(f);return d=`methodCaller<(${S.map(Z=>Z.name).join(", ")}) => ${D.name}>`,ni(ir(d,(Z,ee,fe,ue)=>{for(var Oe=0,$e=0;$e<f;++$e)U[$e]=S[$e].readValueFromPointer(ue+Oe),Oe+=S[$e].argPackAdvance;return Z=_===1?Un(ee,U):ee.apply(Z,U),ae(D,fe,Z)}))},_emval_get_module_property:f=>(f=Le(f),Pn(z[f])),_emval_get_property:(f,d)=>(f=fi(f),d=fi(d),Pn(f[d])),_emval_incref:f=>{9<f&&(wi[f+1]+=1)},_emval_new_array:()=>Pn([]),_emval_new_cstring:f=>Pn(Le(f)),_emval_new_object:()=>Pn({}),_emval_run_destructors:f=>{var d=fi(f);cr(d),Da(f)},_emval_set_property:(f,d,_)=>{f=fi(f),d=fi(d),_=fi(_),f[d]=_},_emval_take_value:(f,d)=>(f=Fr(f,"_emval_take_value"),f=f.readValueFromPointer(d),Pn(f)),emscripten_asm_const_int:(f,d,_)=>{hr.length=0;for(var S;S=j[d++];){var D=S!=105;D&=S!=112,_+=D&&_%8?4:0,hr.push(S==112?Me[_>>2]:S==105?Ae[_>>2]:dt[_>>3]),_+=D?8:4}return Mt[f](...hr)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=j.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var D=Math;S=Math.max(f,S);e:{D=(D.min.call(D,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(D),pt();var U=1;break e}catch{}U=void 0}if(U)return!0}return!1},environ_get:(f,d)=>{var _=0;return kr().forEach((S,D)=>{var U=d+_;for(D=Me[f+4*D>>2]=U,U=0;U<S.length;++U)Ee[D++]=S.charCodeAt(U);Ee[D]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=kr();Me[f>>2]=_.length;var S=0;return _.forEach(D=>S+=D.length+1),Me[d>>2]=S,0},fd_close:function(f){try{var d=ki(f);if(d.W===null)throw new Ge(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Di[d.W]=null}return d.W=null,0}catch(_){if(typeof wn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var D=ki(f);f=d;for(var U,Z=d=0;Z<_;Z++){var ee=Me[f>>2],fe=Me[f+4>>2];f+=8;var ue=D,Oe=U,$e=Ee;if(0>fe||0>Oe)throw new Ge(28);if(ue.W===null)throw new Ge(8);if((ue.flags&2097155)===1)throw new Ge(8);if((ue.node.mode&61440)===16384)throw new Ge(31);if(!ue.m.read)throw new Ge(28);var ot=typeof Oe<"u";if(!ot)Oe=ue.position;else if(!ue.seekable)throw new Ge(70);var te=ue.m.read(ue,$e,ee,fe,Oe);ot||(ue.position+=te);var je=te;if(0>je){var rt=-1;break e}if(d+=je,je<fe)break;typeof U<"u"&&(U+=je)}rt=d}return Me[S>>2]=rt,0}catch(He){if(typeof wn>"u"||He.name!=="ErrnoError")throw He;return He.$}},fd_seek:function(f,d,_,S,D){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var U=ki(f);return In(U,d,S),It=[U.position>>>0,(vt=U.position,1<=+Math.abs(vt)?0<vt?+Math.floor(vt/4294967296)>>>0:~~+Math.ceil((vt-+(~~vt>>>0))/4294967296)>>>0:0)],Ae[D>>2]=It[0],Ae[D+4>>2]=It[1],U.Ka&&d===0&&S===0&&(U.Ka=null),0}catch(Z){if(typeof wn>"u"||Z.name!=="ErrnoError")throw Z;return Z.$}},fd_write:function(f,d,_,S){try{e:{var D=ki(f);f=d;for(var U,Z=d=0;Z<_;Z++){var ee=Me[f>>2],fe=Me[f+4>>2];f+=8;var ue=D,Oe=ee,$e=fe,ot=U,te=Ee;if(0>$e||0>ot)throw new Ge(28);if(ue.W===null)throw new Ge(8);if((ue.flags&2097155)===0)throw new Ge(8);if((ue.node.mode&61440)===16384)throw new Ge(31);if(!ue.m.write)throw new Ge(28);ue.seekable&&ue.flags&1024&&In(ue,0,2);var je=typeof ot<"u";if(!je)ot=ue.position;else if(!ue.seekable)throw new Ge(70);var rt=ue.m.write(ue,te,Oe,$e,ot,void 0);je||(ue.position+=rt);var He=rt;if(0>He){var mn=-1;break e}d+=He,typeof U<"u"&&(U+=He)}mn=d}return Me[S>>2]=mn,0}catch(Je){if(typeof wn>"u"||Je.name!=="ErrnoError")throw Je;return Je.$}},strftime_l:(f,d,_,S)=>xf(f,d,_,S)},Gn=(function(){function f(_){return Gn=_.exports,ye=Gn.memory,pt(),wt=Gn.__indirect_function_table,Rt.unshift(Gn.__wasm_call_ctors),Tt--,z.monitorRunDependencies?.(Tt),Tt==0&&nn&&(_=nn,nn=null,_()),Gn}var d={env:iu,wasi_snapshot_preview1:iu};if(Tt++,z.monitorRunDependencies?.(Tt),z.instantiateWasm)try{return z.instantiateWasm(d,f)}catch(_){q(`Module.instantiateWasm callback failed with error: ${_}`),Se(_)}return ln||=Zn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",L):L+"canvas_advanced.wasm",jn(d,function(_){f(_.instance)}).catch(Se),{}})(),Ar=f=>(Ar=Gn.free)(f),na=f=>(na=Gn.malloc)(f),bc=f=>(bc=Gn.__getTypeName)(f),Co=z._ma_device__on_notification_unlocked=f=>(Co=z._ma_device__on_notification_unlocked=Gn.ma_device__on_notification_unlocked)(f);z._ma_malloc_emscripten=(f,d)=>(z._ma_malloc_emscripten=Gn.ma_malloc_emscripten)(f,d),z._ma_free_emscripten=(f,d)=>(z._ma_free_emscripten=Gn.ma_free_emscripten)(f,d);var ru=z._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(ru=z._ma_device_process_pcm_frames_capture__webaudio=Gn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),su=z._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(su=z._ma_device_process_pcm_frames_playback__webaudio=Gn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);z.dynCall_iiji=(f,d,_,S,D)=>(z.dynCall_iiji=Gn.dynCall_iiji)(f,d,_,S,D),z.dynCall_jiji=(f,d,_,S,D)=>(z.dynCall_jiji=Gn.dynCall_jiji)(f,d,_,S,D),z.dynCall_iiiji=(f,d,_,S,D,U)=>(z.dynCall_iiiji=Gn.dynCall_iiiji)(f,d,_,S,D,U),z.dynCall_iij=(f,d,_,S)=>(z.dynCall_iij=Gn.dynCall_iij)(f,d,_,S),z.dynCall_jii=(f,d,_)=>(z.dynCall_jii=Gn.dynCall_jii)(f,d,_),z.dynCall_viijii=(f,d,_,S,D,U,Z)=>(z.dynCall_viijii=Gn.dynCall_viijii)(f,d,_,S,D,U,Z),z.dynCall_iiiiij=(f,d,_,S,D,U,Z)=>(z.dynCall_iiiiij=Gn.dynCall_iiiiij)(f,d,_,S,D,U,Z),z.dynCall_iiiiijj=(f,d,_,S,D,U,Z,ee,fe)=>(z.dynCall_iiiiijj=Gn.dynCall_iiiiijj)(f,d,_,S,D,U,Z,ee,fe),z.dynCall_iiiiiijj=(f,d,_,S,D,U,Z,ee,fe,ue)=>(z.dynCall_iiiiiijj=Gn.dynCall_iiiiiijj)(f,d,_,S,D,U,Z,ee,fe,ue);var ka;nn=function f(){ka||tl(),ka||(nn=f)};function tl(){function f(){if(!ka&&(ka=!0,z.calledRun=!0,!he)){if(z.noFSInit||is||(is=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?_r("stdin",z.stdin):nr("/dev/tty","/dev/stdin"),z.stdout?_r("stdout",null,z.stdout):nr("/dev/tty","/dev/stdout"),z.stderr?_r("stderr",null,z.stderr):nr("/dev/tty1","/dev/stderr"),Mr("/dev/stdin",0),Mr("/dev/stdout",1),Mr("/dev/stderr",1)),vr=!1,C(Rt),ke(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();bn.unshift(d)}C(bn)}}if(!(0<Tt)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)mt();C(bt),0<Tt||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),f()},1)):f())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return tl(),re=Ue,re})})();const N=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function N(O,G,re,z){this.animation=O,this.artboard=G,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new re.LinearAnimationInstance(O,G)}return Object.defineProperty(N.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),N.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},N.prototype.apply=function(O){this.instance.apply(O)},N.prototype.cleanup=function(){this.instance.delete()},N})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>N.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>N.sanitizeUrl});var E=w(6),N=w(7),O=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>O});var E=void 0,N=function(G,re,z){var ke,Se,Ue=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((ke=G.changedTouches)===null||ke===void 0)&&ke.length)){re||G.preventDefault();for(var B=0,Pe=z?G.changedTouches.length:1;B<Pe;){var tt=G.changedTouches[B];Ue.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),B++}}else if(G.type==="touchend"&&(!((Se=G.changedTouches)===null||Se===void 0)&&Se.length))for(var B=0,Pe=z?G.changedTouches.length:1;B<Pe;){var tt=G.changedTouches[B];Ue.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),B++}else Ue.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return Ue},O=function(G){var re=G.canvas,z=G.artboard,ke=G.stateMachines,Se=ke===void 0?[]:ke,Ue=G.renderer,B=G.rive,Pe=G.fit,tt=G.alignment,nt=G.isTouchScrollEnabled,lt=nt===void 0?!1:nt,Y=G.dispatchPointerExit,F=Y===void 0?!0:Y,P=G.enableMultiTouch,H=P===void 0?!1:P,x=G.layoutScaleFactor,L=x===void 0?1:x;if(!re||!Se.length||!Ue||!B||!z||typeof window>"u")return null;var R=null,$=!1,ie=function(Q){if($&&Q instanceof MouseEvent){Q.type=="mouseup"&&($=!1);return}$=lt&&Q.type==="touchend"&&R==="touchstart",R=Q.type;var ye=Q.currentTarget.getBoundingClientRect(),he=N(Q,lt,H),Ee=B.computeAlignment(Pe,tt,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},z.bounds,L),j=new B.Mat2D;switch(Ee.invert(j),he.forEach(function(ln){var at=ln.clientX,Ut=ln.clientY;if(!(!at&&!Ut)){var Vt=at-ye.left,jn=Ut-ye.top,vt=new B.Vec2D(Vt,jn),It=B.mapXY(j,vt),Mt=It.x(),C=It.y();ln.transformedX=Mt,ln.transformedY=C,It.delete(),vt.delete()}}),j.delete(),Ee.delete(),Q.type){case"mouseout":for(var oe=function(ln){F?he.forEach(function(at){ln.pointerExit(at.transformedX,at.transformedY,at.identifier)}):he.forEach(function(at){ln.pointerMove(at.transformedX,at.transformedY,at.identifier)})},Re=0,Ae=Se;Re<Ae.length;Re++){var Me=Ae[Re];oe(Me)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Qe=function(ln){he.forEach(function(at){ln.pointerMove(at.transformedX,at.transformedY,at.identifier)})},dt=0,pt=Se;dt<pt.length;dt++){var Me=pt[dt];Qe(Me)}break}case"touchstart":case"mousedown":{for(var bt=function(ln){he.forEach(function(at){ln.pointerDown(at.transformedX,at.transformedY,at.identifier)})},Rt=0,bn=Se;Rt<bn.length;Rt++){var Me=bn[Rt];bt(Me)}break}case"touchend":{for(var mt=function(ln){he.forEach(function(at){ln.pointerUp(at.transformedX,at.transformedY,at.identifier),ln.pointerExit(at.transformedX,at.transformedY,at.identifier)})},Tt=0,nn=Se;Tt<nn.length;Tt++){var Me=nn[Tt];mt(Me)}break}case"mouseup":{for(var qt=function(ln){he.forEach(function(at){ln.pointerUp(at.transformedX,at.transformedY,at.identifier)})},Zn=0,bi=Se;Zn<bi.length;Zn++){var Me=bi[Zn];qt(Me)}break}}},q=ie.bind(E);return re.addEventListener("mouseover",q),re.addEventListener("mouseout",q),re.addEventListener("mousemove",q),re.addEventListener("mousedown",q),re.addEventListener("mouseup",q),re.addEventListener("touchmove",q,{passive:lt}),re.addEventListener("touchstart",q,{passive:lt}),re.addEventListener("touchend",q),function(){re.removeEventListener("mouseover",q),re.removeEventListener("mouseout",q),re.removeEventListener("mousemove",q),re.removeEventListener("mousedown",q),re.removeEventListener("mouseup",q),re.removeEventListener("touchmove",q),re.removeEventListener("touchstart",q),re.removeEventListener("touchend",q)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>ke,sanitizeUrl:()=>B});var E=/^([^\w]*)(javascript|data|vbscript)/im,N=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,re=/^.+(:|&colon;)/gim,z=[".","/"],ke="about:blank";function Se(Pe){return z.indexOf(Pe[0])>-1}function Ue(Pe){var tt=Pe.replace(G,"");return tt.replace(N,function(nt,lt){return String.fromCharCode(lt)})}function B(Pe){if(!Pe)return ke;var tt=Ue(Pe).replace(O,"").replace(G,"").trim();if(!tt)return ke;if(Se(tt))return tt;var nt=tt.match(re);if(!nt)return tt;var lt=nt[0];return E.test(lt)?ke:tt}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Pe,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>Se,FileAssetWrapper:()=>Ue,FileFinalizer:()=>N,FontAssetWrapper:()=>tt,FontWrapper:()=>ke,ImageAssetWrapper:()=>B,ImageWrapper:()=>re,createFinalization:()=>F,finalizationRegistry:()=>Y});var E=(function(){var P=function(H,x){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&(L[$]=R[$])},P(H,x)};return function(H,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");P(H,x);function L(){this.constructor=H}H.prototype=x===null?Object.create(x):(L.prototype=x.prototype,new L)}})(),N=(function(){function P(H){this.selfUnref=!1,this._file=H}return P.prototype.unref=function(){this._file&&this._file.unref()},P})(),O=(function(){function P(H){this._finalizableObject=H}return P.prototype.unref=function(){this._finalizableObject.unref()},P})(),G=(function(){function P(){this.selfUnref=!1}return P.prototype.unref=function(){},P})(),re=(function(P){E(H,P);function H(x){var L=P.call(this)||this;return L._nativeImage=x,L}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(G),z=(function(P){E(H,P);function H(x){var L=P.call(this)||this;return L._nativeAudio=x,L}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(G),ke=(function(P){E(H,P);function H(x){var L=P.call(this)||this;return L._nativeFont=x,L}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(G),Se=(function(){function P(H,x){this._assetLoaderCallback=x,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return P.prototype.loadContents=function(H,x){var L;return H.isImage?L=new B(H):H.isAudio?L=new Pe(H):H.isFont&&(L=new tt(H)),this._assetLoaderCallback(L,x)},P})(),Ue=(function(){function P(H){this._nativeFileAsset=H}return P.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(P.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),P})(),B=(function(P){E(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setRenderImage=function(x){this._nativeFileAsset.setRenderImage(x.nativeImage)},H})(Ue),Pe=(function(P){E(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setAudioSource=function(x){this._nativeFileAsset.setAudioSource(x.nativeAudio)},H})(Ue),tt=(function(P){E(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setFont=function(x){this._nativeFileAsset.setFont(x.nativeFont)},H})(Ue),nt=(function(){function P(H){}return P.prototype.register=function(H){H.selfUnref=!0},P.prototype.unregister=function(H){},P})(),lt=typeof FinalizationRegistry<"u"?FinalizationRegistry:nt,Y=new lt(function(P){P?.unref()}),F=function(P,H){var x=new O(H);Y.register(P,x)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>B,DataEnum:()=>dt,EventType:()=>R,Fit:()=>Ue,Layout:()=>Pe,LoopType:()=>$,Rive:()=>Me,RiveEventType:()=>Y,RiveFile:()=>Ae,RuntimeLoader:()=>tt,StateMachineInput:()=>lt,StateMachineInputType:()=>nt,Testing:()=>jn,ViewModel:()=>Qe,ViewModelInstance:()=>bt,ViewModelInstanceArtboard:()=>at,ViewModelInstanceAssetImage:()=>ln,ViewModelInstanceBoolean:()=>Tt,ViewModelInstanceColor:()=>bi,ViewModelInstanceEnum:()=>qt,ViewModelInstanceList:()=>Zn,ViewModelInstanceNumber:()=>mt,ViewModelInstanceString:()=>bn,ViewModelInstanceTrigger:()=>nn,ViewModelInstanceValue:()=>Rt,decodeAudio:()=>vt,decodeFont:()=>Mt,decodeImage:()=>It});var p=l(1),b=l(2),w=l(3),E=l(5),N=(function(){var C=function(g,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,J){k.__proto__=J}||function(k,J){for(var pe in J)Object.prototype.hasOwnProperty.call(J,pe)&&(k[pe]=J[pe])},C(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(g,v);function k(){this.constructor=g}g.prototype=v===null?Object.create(v):(k.prototype=v.prototype,new k)}})(),O=function(){return O=Object.assign||function(C){for(var g,v=1,k=arguments.length;v<k;v++){g=arguments[v];for(var J in g)Object.prototype.hasOwnProperty.call(g,J)&&(C[J]=g[J])}return C},O.apply(this,arguments)},G=function(C,g,v,k){function J(pe){return pe instanceof v?pe:new v(function(Ne){Ne(pe)})}return new(v||(v=Promise))(function(pe,Ne){function et(Be){try{qe(k.next(Be))}catch(Lt){Ne(Lt)}}function it(Be){try{qe(k.throw(Be))}catch(Lt){Ne(Lt)}}function qe(Be){Be.done?pe(Be.value):J(Be.value).then(et,it)}qe((k=k.apply(C,g||[])).next())})},re=function(C,g){var v={label:0,sent:function(){if(pe[0]&1)throw pe[1];return pe[1]},trys:[],ops:[]},k,J,pe,Ne=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ne.next=et(0),Ne.throw=et(1),Ne.return=et(2),typeof Symbol=="function"&&(Ne[Symbol.iterator]=function(){return this}),Ne;function et(qe){return function(Be){return it([qe,Be])}}function it(qe){if(k)throw new TypeError("Generator is already executing.");for(;Ne&&(Ne=0,qe[0]&&(v=0)),v;)try{if(k=1,J&&(pe=qe[0]&2?J.return:qe[0]?J.throw||((pe=J.return)&&pe.call(J),0):J.next)&&!(pe=pe.call(J,qe[1])).done)return pe;switch(J=0,pe&&(qe=[qe[0]&2,pe.value]),qe[0]){case 0:case 1:pe=qe;break;case 4:return v.label++,{value:qe[1],done:!1};case 5:v.label++,J=qe[1],qe=[0];continue;case 7:qe=v.ops.pop(),v.trys.pop();continue;default:if(pe=v.trys,!(pe=pe.length>0&&pe[pe.length-1])&&(qe[0]===6||qe[0]===2)){v=0;continue}if(qe[0]===3&&(!pe||qe[1]>pe[0]&&qe[1]<pe[3])){v.label=qe[1];break}if(qe[0]===6&&v.label<pe[1]){v.label=pe[1],pe=qe;break}if(pe&&v.label<pe[2]){v.label=pe[2],v.ops.push(qe);break}pe[2]&&v.ops.pop(),v.trys.pop();continue}qe=g.call(C,v)}catch(Be){qe=[6,Be],J=0}finally{k=pe=0}if(qe[0]&5)throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}},z=function(C,g,v){if(v||arguments.length===2)for(var k=0,J=g.length,pe;k<J;k++)(pe||!(k in g))&&(pe||(pe=Array.prototype.slice.call(g,0,k)),pe[k]=g[k]);return C.concat(pe||Array.prototype.slice.call(g))},ke=(function(C){N(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Se=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},Ue;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(Ue||(Ue={}));var B;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(B||(B={}));var Pe=(function(){function C(g){var v,k,J,pe,Ne,et,it;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Ue.Contain,this.alignment=(k=g?.alignment)!==null&&k!==void 0?k:B.Center,this.layoutScaleFactor=(J=g?.layoutScaleFactor)!==null&&J!==void 0?J:1,this.minX=(pe=g?.minX)!==null&&pe!==void 0?pe:0,this.minY=(Ne=g?.minY)!==null&&Ne!==void 0?Ne:0,this.maxX=(et=g?.maxX)!==null&&et!==void 0?et:0,this.maxY=(it=g?.maxY)!==null&&it!==void 0?it:0}return C.new=function(g){var v=g.fit,k=g.alignment,J=g.minX,pe=g.minY,Ne=g.maxX,et=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:v,alignment:k,minX:J,minY:pe,maxX:Ne,maxY:et})},C.prototype.copyWith=function(g){var v=g.fit,k=g.alignment,J=g.layoutScaleFactor,pe=g.minX,Ne=g.minY,et=g.maxX,it=g.maxY;return new C({fit:v??this.fit,alignment:k??this.alignment,layoutScaleFactor:J??this.layoutScaleFactor,minX:pe??this.minX,minY:Ne??this.minY,maxX:et??this.maxX,maxY:it??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Ue.Cover?v=g.Fit.cover:this.fit===Ue.Contain?v=g.Fit.contain:this.fit===Ue.Fill?v=g.Fit.fill:this.fit===Ue.FitWidth?v=g.Fit.fitWidth:this.fit===Ue.FitHeight?v=g.Fit.fitHeight:this.fit===Ue.ScaleDown?v=g.Fit.scaleDown:this.fit===Ue.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===B.TopLeft?v=g.Alignment.topLeft:this.alignment===B.TopCenter?v=g.Alignment.topCenter:this.alignment===B.TopRight?v=g.Alignment.topRight:this.alignment===B.CenterLeft?v=g.Alignment.centerLeft:this.alignment===B.CenterRight?v=g.Alignment.centerRight:this.alignment===B.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===B.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===B.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},C})(),tt=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var v;for(C.runtime=g;C.callBackQueue.length>0;)(v=C.callBackQueue.shift())===null||v===void 0||v(C.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var k="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==k)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),C.setWasmUrl(k),C.loadRuntime();else{var J=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(k,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(J)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(v){return g(v)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),nt;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(nt||(nt={}));var lt=(function(){function C(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===nt.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),Y;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(Y||(Y={}));var F=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),P=(function(C){N(g,C);function g(v,k){var J=C.call(this,!1)||this;return J.nativeArtboard=v,J.file=k,J}return g})(F),H=(function(C){N(g,C);function g(v){var k=C.call(this,!0)||this;return k.selfUnref=!1,k.nativeArtboard=v,k}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(F),x=(function(){function C(g,v,k,J){this.stateMachine=g,this.playing=k,this.artboard=J,this.inputs=[],this.instance=new v.StateMachineInstance(g,J),this.initInputs(v)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var k=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(k,g))}},C.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new lt(nt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new lt(nt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new lt(nt.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),L=(function(){function C(g,v,k,J,pe){J===void 0&&(J=[]),pe===void 0&&(pe=[]),this.runtime=g,this.artboard=v,this.eventManager=k,this.animations=J,this.stateMachines=pe}return C.prototype.add=function(g,v,k){if(k===void 0&&(k=!0),g=Vt(g),g.length===0)this.animations.forEach(function(un){return un.playing=v}),this.stateMachines.forEach(function(un){return un.playing=v});else for(var J=this.animations.map(function(un){return un.name}),pe=this.stateMachines.map(function(un){return un.name}),Ne=0;Ne<g.length;Ne++){var et=J.indexOf(g[Ne]),it=pe.indexOf(g[Ne]);if(et>=0||it>=0)et>=0?this.animations[et].playing=v:this.stateMachines[it].playing=v;else{var qe=this.artboard.animationByName(g[Ne]);if(qe){var Be=new w.Animation(qe,this.artboard,this.runtime,v);Be.advance(0),Be.apply(1),this.animations.push(Be)}else{var Lt=this.artboard.stateMachineByName(g[Ne]);if(Lt){var Rn=new x(Lt,this.runtime,v,this.artboard);this.stateMachines.push(Rn)}}}}return k&&(v?this.eventManager.fire({type:R.Play,data:this.playing}):this.eventManager.fire({type:R.Pause,data:this.paused})),v?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,v){for(var k=this.animations.map(function(it){return it.name}),J=0;J<g.length;J++){var pe=k.indexOf(g[J]);if(pe>=0)this.animations[pe].playing=v;else{var Ne=this.artboard.animationByName(g[J]);if(Ne){var et=new w.Animation(Ne,this.artboard,this.runtime,v);et.advance(0),et.apply(1),this.animations.push(et)}else console.error("Animation with name ".concat(g[J]," not found."))}}},C.prototype.initStateMachines=function(g,v){for(var k=this.stateMachines.map(function(it){return it.name}),J=0;J<g.length;J++){var pe=k.indexOf(g[J]);if(pe>=0)this.stateMachines[pe].playing=v;else{var Ne=this.artboard.stateMachineByName(g[J]);if(Ne){var et=new x(Ne,this.runtime,v,this.artboard);this.stateMachines.push(et)}else console.warn("State Machine with name ".concat(g[J]," not found.")),this.initLinearAnimations([g[J]],v)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,v){var k=this.animations.filter(function(J){return g.includes(J.name)});return k.forEach(function(J){return J.scrubTo=v}),k.map(function(J){return J.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var v=this;g=Vt(g);var k=[];if(g.length===0)k=this.animations.map(function(Ne){return Ne.name}).concat(this.stateMachines.map(function(Ne){return Ne.name})),this.animations.forEach(function(Ne){return Ne.cleanup()}),this.stateMachines.forEach(function(Ne){return Ne.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var J=this.animations.filter(function(Ne){return g.includes(Ne.name)});J.forEach(function(Ne){Ne.cleanup(),v.animations.splice(v.animations.indexOf(Ne),1)});var pe=this.stateMachines.filter(function(Ne){return g.includes(Ne.name)});pe.forEach(function(Ne){Ne.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ne),1)}),k=J.map(function(Ne){return Ne.name}).concat(pe.map(function(Ne){return Ne.name}))}return this.eventManager.fire({type:R.Stop,data:k}),k},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var k;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([k=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([k=this.artboard.stateMachineByIndex(0).name],g,v)),k},C.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(J){return J.playing});g<v.length;g++){var k=v[g];k.loopValue===0&&k.loopCount?(k.loopCount=0,this.stop(k.name)):k.loopValue===1&&k.loopCount?(this.eventManager.fire({type:R.Loop,data:{animation:k.name,type:$.Loop}}),k.loopCount=0):k.loopValue===2&&k.loopCount>1&&(this.eventManager.fire({type:R.Loop,data:{animation:k.name,type:$.PingPong}}),k.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],v=0,k=this.stateMachines.filter(function(pe){return pe.playing});v<k.length;v++){var J=k[v];g.push.apply(g,J.statesChanged)}g.length>0&&this.eventManager.fire({type:R.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:R.Advance,data:g})},C})(),R;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(R||(R={}));var $;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})($||($={}));var ie=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var k=this.listeners[v];if(k.type===g.type&&k.callback===g.callback){this.listeners.splice(v,1);break}}},C.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(k){return k.type===g}).forEach(function(k){return v.remove(k)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(k){return k.callback(g)})},C})(),q=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),Q;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(Q||(Q={}));var ye=(function(C){N(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=Q.UNAVAILABLE,v}return g.prototype.delay=function(v){return G(this,void 0,void 0,function(){return re(this,function(k){return[2,new Promise(function(J){return setTimeout(J,v)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return[2,new Promise(function(k,J){return setTimeout(J,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:R.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return this._enabled||(this._enabled=!0,this._status=Q.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:if(!(this._status===Q.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==Q.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,k=function(){return G(v,void 0,void 0,function(){return re(this,function(J){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",k,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return re(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===Q.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ie),he=new ye,Ee=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),j=globalThis.ResizeObserver||Ee,oe=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var k=g._elementsMap.get(v.target);k!==null?k.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new j(this._onObserved)}return C.prototype.add=function(g,v){var k={onResize:v,element:g};return this._elementsMap.set(g,k),this._resizeObserver.observe(g),k},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Re=new oe,Ae=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ie,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,v,k,J,pe;return re(this,function(Ne){switch(Ne.label){case 0:return this.src?(g=this,[4,Ut(this.src)]):[3,2];case 1:g.buffer=Ne.sent(),Ne.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(k=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=k.assetLoader),J=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return J.file=Ne.sent(),pe=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,pe),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:R.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return G(this,void 0,void 0,function(){var g,v;return re(this,function(k){switch(k.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];k.label=1;case 1:return k.trys.push([1,4,,5]),g=this,[4,tt.awaitInstance()];case 2:return g.runtime=k.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return k.sent(),[3,5];case 4:return v=k.sent(),this.fireLoadError(v instanceof Error?v.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:R.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var v=new H(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},C.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new P(v,this)},C.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),Me=(function(){function C(g){var v=this,k;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(J){var pe=v._hasZeroSize!==J;v._hasZeroSize=J,J?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():pe&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Re.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(k=g.layout)!==null&&k!==void 0?k:new Pe,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ie,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError),g.onPlay&&this.on(R.Play,g.onPlay),g.onPause&&this.on(R.Pause,g.onPause),g.onStop&&this.on(R.Stop,g.onStop),g.onLoop&&this.on(R.Loop,g.onLoop),g.onStateChange&&this.on(R.StateChange,g.onStateChange),g.onAdvance&&this.on(R.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(R.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(R.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(R.Play,g.onplay),g.onpause&&!g.onPause&&this.on(R.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(R.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(R.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(R.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var v=this,k=g.src,J=g.buffer,pe=g.riveFile,Ne=g.animations,et=g.stateMachines,it=g.artboard,qe=g.autoplay,Be=qe===void 0?!1:qe,Lt=g.useOffscreenRenderer,Rn=Lt===void 0?!1:Lt,un=g.autoBind,On=un===void 0?!1:un;if(!this.destroyed){if(this.src=k,this.buffer=J,this.riveFile=pe,!this.src&&!this.buffer&&!this.riveFile)throw new ke(C.missingErrorMessage);var Wn=Vt(Ne),zt=Vt(et);this.loaded=!1,this.readyForPlaying=!1,tt.awaitInstance().then(function(Sn){v.destroyed||(v.runtime=Sn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Rn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(it,Wn,zt,Be,On).then(function(kn){if(kn)return v.setupRiveListeners()}).catch(function(kn){console.error(kn)}))}).catch(function(Sn){console.error(Sn)})}},C.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var k=(this.animator.stateMachines||[]).filter(function(et){return et.playing&&v.runtime.hasListeners(et.instance)}).map(function(et){return et.instance}),J=this.isTouchScrollEnabled,pe=this.dispatchPointerExit,Ne=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(J=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:k,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:J,dispatchPointerExit:pe,enableMultiTouch:Ne,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,v;he.status==Q.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:R.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,v,k,J,pe){return G(this,void 0,void 0,function(){var Ne,et,it,qe;return re(this,function(Be){switch(Be.label){case 0:return Be.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ne=new Ae({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ne,[4,Ne.init()]);case 1:if(Be.sent(),this.destroyed)return Ne.destroyIfUnused(),[2,!1];Be.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,k,J,pe),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:R.Load,data:(qe=this.src)!==null&&qe!==void 0?qe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return et=Be.sent(),it=Se(et),console.warn(it),this.eventManager.fire({type:R.LoadError,data:it}),[2,Promise.reject(it)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,v,k,J,pe){if(this.file){var Ne=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ne){var et="Invalid artboard name or no default artboard";console.warn(et),this.eventManager.fire({type:R.LoadError,data:et});return}this.artboard=Ne,Ne.volume=this._volume*he.systemVolume,this.animator=new L(this.runtime,this.artboard,this.eventManager);var it;if(v.length>0||k.length>0?(it=v.concat(k),this.animator.initLinearAnimations(v,J),this.animator.initStateMachines(k,J)):it=[this.animator.atLeastOne(J,!1)],this.taskQueue.add({event:{type:J?R.Play:R.Pause,data:it}}),pe){var qe=this.file.defaultArtboardViewModel(Ne);if(qe!==null){var Be=qe.defaultInstance();if(Be!==null){var Lt=new bt(Be,null);(0,E.createFinalization)(Lt,Lt.runtimeInstance),this.bindViewModelInstance(Lt)}}}}},C.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},C.prototype.draw=function(g,v){var k;this.frameRequestId=null;var J=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var pe=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ne=this.animator.animations.filter(function(ai){return ai.playing||ai.needsScrub}).sort(function(ai){return ai.needsScrub?-1:1}),et=0,it=Ne;et<it.length;et++){var qe=it[et];qe.advance(pe),qe.instance.didLoop&&(qe.loopCount+=1),qe.apply(1)}for(var Be=this.animator.stateMachines.filter(function(ai){return ai.playing}),Lt=0,Rn=Be;Lt<Rn.length;Lt++){var un=Rn[Lt],On=un.reportedEventCount();if(On)for(var Wn=0;Wn<On;Wn++){var zt=un.reportedEventAt(Wn);if(zt)if(zt.type===Y.OpenUrl){if(this.eventManager.fire({type:R.RiveEvent,data:zt}),this.automaticallyHandleEvents){var Sn=document.createElement("a"),kn=zt,Kn=kn.url,Ni=kn.target,Ke=(0,E.sanitizeUrl)(Kn);Kn&&Sn.setAttribute("href",Ke),Ni&&Sn.setAttribute("target",Ni),Ke&&Ke!==E.BLANK_URL&&Sn.click()}}else this.eventManager.fire({type:R.RiveEvent,data:zt})}un.advanceAndApply(pe)}this.animator.stateMachines.length==0&&this.artboard.advance(pe);var Bn=this.renderer;Bn.clear(),Bn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Bn),Bn.restore(),Bn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(pe),this.frameCount++;var Ct=performance.now();for(this.frameTimes.push(Ct),this.durations.push(Ct-J);this.frameTimes[0]<=Ct-1e3;)this.frameTimes.shift(),this.durations.shift();(k=this._viewModelInstance)===null||k===void 0||k.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,v=g.renderer,k=g.runtime,J=g._layout,pe=g.artboard;v.align(J.runtimeFit(k),J.runtimeAlignment(k),{minX:J.minX,minY:J.minY,maxX:J.maxX,maxY:J.maxY},pe.bounds,this._devicePixelRatioUsed*J.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Re.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var k=this.artboard.textRun(g);if(!k){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return k},C.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},C.prototype.setTextRunValue=function(g,v){var k=this.retrieveTextRun(g);k&&(k.text=v)},C.prototype.play=function(g,v){var k=this;if(g=Vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var v=this;if(g=Vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,v){var k=this;if(g=Vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},C.prototype.stop=function(g){var v=this;if(g=Vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var v,k,J=g?.artboard,pe=Vt(g?.animations),Ne=Vt(g?.stateMachines),et=(v=g?.autoplay)!==null&&v!==void 0?v:!1,it=(k=g?.autoBind)!==null&&k!==void 0?k:!1;this.cleanupInstances(),this.initArtboard(J,pe,Ne,et,it),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),k=v.width,J=v.height,pe=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=pe,this.canvas.width=pe*k,this.canvas.height=pe*J,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Ue.Layout){var Ne=this._layout.layoutScaleFactor;this.artboard.width=k/Ne,this.artboard.height=J/Ne}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(k){return k.name===g});return v?.inputs}},C.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var k=this.artboard.inputByPath(g,v);if(!k){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k},C.prototype.setBooleanStateAtPath=function(g,v,k){var J=this.retrieveInputAtPath(g,k);J&&(J.type===nt.Boolean?J.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(k,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,v,k){var J=this.retrieveInputAtPath(g,k);J&&(J.type===nt.Number?J.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(k,"' is not a number")))},C.prototype.fireStateAtPath=function(g,v){var k=this.retrieveInputAtPath(g,v);k&&(k.type===nt.Trigger?k.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var k=this.artboard.textByPath(g,v);if(!k){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k},C.prototype.getTextRunValueAtPath=function(g,v){var k=this.retrieveTextAtPath(g,v);if(!k){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k.text},C.prototype.setTextRunValueAtPath=function(g,v,k){var J=this.retrieveTextAtPath(g,k);if(!J){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(k,"'"));return}J.text=v},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var k=this.file.artboardByIndex(v),J={name:k.name,animations:[],stateMachines:[]},pe=0;pe<k.animationCount();pe++){var Ne=k.animationByIndex(pe);J.animations.push(Ne.name)}for(var et=0;et<k.stateMachineCount();et++){for(var it=k.stateMachineByIndex(et),qe=it.name,Be=new this.runtime.StateMachineInstance(it,k),Lt=[],Rn=0;Rn<Be.inputCount();Rn++){var un=Be.input(Rn);Lt.push({name:un.name,type:un.type})}J.stateMachines.push({name:qe,inputs:Lt})}g.artboards.push(J)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(k){return k.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Qe(v):null},C.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Qe(v):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new dt(v)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Qe(g)}return null},C.prototype.getArtboard=function(g){var v,k;return(k=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&k!==void 0?k:null},C.prototype.getBindableArtboard=function(g){var v,k;return(k=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&k!==void 0?k:null},C.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),Qe=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var k=new bt(v,null);return(0,E.createFinalization)(k,v),k}return null},C.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var k=new bt(v,null);return(0,E.createFinalization)(k,v),k}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new bt(g,null);return(0,E.createFinalization)(v,g),v}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new bt(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),dt=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),pt;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(pt||(pt={}));var bt=(function(){function C(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var k=this._parents[v];k.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},C.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(k){k.addToViewModelCallbacks(v)}))},C.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(k){return k!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(k){k.removeFromViewModelCallbacks(v)}))},C.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(k){k.addToViewModelCallbacks(v)}))},C.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(k){return k!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(k){k.removeFromViewModelCallbacks(v)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,v){var k=g.split("/");return this.propertyFromPathSegments(k,0,v)},C.prototype.viewModelFromPathSegments=function(g,v){var k=this.internalViewModelInstance(g[v]);return k!==null?v==g.length-1?k:k.viewModelFromPathSegments(g,v++):null},C.prototype.propertyFromPathSegments=function(g,v,k){var J,pe,Ne,et,it,qe,Be,Lt,Rn,un,On,Wn,zt,Sn,kn,Kn,Ni,Ke;if(v<g.length-1){var Bn=this.internalViewModelInstance(g[v]);return Bn!==null?Bn.propertyFromPathSegments(g,v+1,k):null}var Ct=null;switch(k){case pt.Number:if(Ct=(pe=(J=this._runtimeInstance)===null||J===void 0?void 0:J.number(g[v]))!==null&&pe!==void 0?pe:null,Ct!==null)return new mt(Ct,this);break;case pt.String:if(Ct=(et=(Ne=this._runtimeInstance)===null||Ne===void 0?void 0:Ne.string(g[v]))!==null&&et!==void 0?et:null,Ct!==null)return new bn(Ct,this);break;case pt.Boolean:if(Ct=(qe=(it=this._runtimeInstance)===null||it===void 0?void 0:it.boolean(g[v]))!==null&&qe!==void 0?qe:null,Ct!==null)return new Tt(Ct,this);break;case pt.Color:if(Ct=(Lt=(Be=this._runtimeInstance)===null||Be===void 0?void 0:Be.color(g[v]))!==null&&Lt!==void 0?Lt:null,Ct!==null)return new bi(Ct,this);break;case pt.Trigger:if(Ct=(un=(Rn=this._runtimeInstance)===null||Rn===void 0?void 0:Rn.trigger(g[v]))!==null&&un!==void 0?un:null,Ct!==null)return new nn(Ct,this);break;case pt.Enum:if(Ct=(Wn=(On=this._runtimeInstance)===null||On===void 0?void 0:On.enum(g[v]))!==null&&Wn!==void 0?Wn:null,Ct!==null)return new qt(Ct,this);break;case pt.List:if(Ct=(Sn=(zt=this._runtimeInstance)===null||zt===void 0?void 0:zt.list(g[v]))!==null&&Sn!==void 0?Sn:null,Ct!==null)return new Zn(Ct,this);break;case pt.Image:if(Ct=(Kn=(kn=this._runtimeInstance)===null||kn===void 0?void 0:kn.image(g[v]))!==null&&Kn!==void 0?Kn:null,Ct!==null)return new ln(Ct,this);break;case pt.Artboard:if(Ct=(Ke=(Ni=this._runtimeInstance)===null||Ni===void 0?void 0:Ni.artboard(g[v]))!==null&&Ke!==void 0?Ke:null,Ct!==null)return new at(Ct,this);break}return null},C.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var k=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(k!==null){var J=new C(k,this);return(0,E.createFinalization)(J,k),J.internalIncrementReferenceCount(),this._viewModelInstances.set(g,J),J}return null},C.prototype.number=function(g){var v=this.propertyFromPath(g,pt.Number);return v},C.prototype.string=function(g){var v=this.propertyFromPath(g,pt.String);return v},C.prototype.boolean=function(g){var v=this.propertyFromPath(g,pt.Boolean);return v},C.prototype.color=function(g){var v=this.propertyFromPath(g,pt.Color);return v},C.prototype.trigger=function(g){var v=this.propertyFromPath(g,pt.Trigger);return v},C.prototype.enum=function(g){var v=this.propertyFromPath(g,pt.Enum);return v},C.prototype.list=function(g){var v=this.propertyFromPath(g,pt.List);return v},C.prototype.image=function(g){var v=this.propertyFromPath(g,pt.Image);return v},C.prototype.artboard=function(g){var v=this.propertyFromPath(g,pt.Artboard);return v},C.prototype.viewModel=function(g){var v=g.split("/"),k=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return k!=null?k.internalViewModelInstance(v[v.length-1]):null},C.prototype.internalReplaceViewModel=function(g,v){var k;if(v.runtimeInstance!==null){var J=((k=this._runtimeInstance)===null||k===void 0?void 0:k.replaceViewModel(g,v.runtimeInstance))||!1;if(J){v.internalIncrementReferenceCount();var pe=this.internalViewModelInstance(g);pe!==null&&(pe.removeParent(this),this._children.includes(pe)&&(this._children=this._children.filter(function(Ne){return Ne!==pe})),pe.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return J}return!1},C.prototype.replaceViewModel=function(g,v){var k,J=g.split("/"),pe=J.length>1?this.viewModelFromPathSegments(J.slice(0,J.length-1),0):this;return(k=pe?.internalReplaceViewModel(J[J.length-1],v))!==null&&k!==void 0?k:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return O({},v)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(pe){pe.cleanup()}),this._viewModelInstances.clear();var k=z([],this._children,!0);this._children.length=0;var J=z([],this._parents,!0);this._parents.length=0,k.forEach(function(pe){pe.removeParent(g)}),J.forEach(function(pe){pe.removeFromViewModelCallbacks(g)})}},C})(),Rt=(function(){function C(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),bn=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),mt=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),Tt=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),nn=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Rt),qt=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),Zn=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,k){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,k)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var k=this._viewModelInstanceValue.instanceAt(v);if(k!=null){var J=new bt(k,this._parentViewModel);return(0,E.createFinalization)(J,k),J}return null},g.prototype.swap=function(v,k){this._viewModelInstanceValue.swap(v,k)},g.prototype.internalHandleCallback=function(v){v()},g})(Rt),bi=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,k,J){this._viewModelInstanceValue.rgb(v,k,J)},g.prototype.rgba=function(v,k,J,pe){this._viewModelInstanceValue.argb(pe,v,k,J)},g.prototype.argb=function(v,k,J,pe){this._viewModelInstanceValue.argb(v,k,J,pe)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),ln=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var k;this._viewModelInstanceValue.value((k=v?.nativeImage)!==null&&k!==void 0?k:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Rt),at=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var k,J;v.isBindableArtboard?J=v:J=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((k=J?.nativeArtboard)!==null&&k!==void 0?k:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Rt),Ut=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(J){switch(J.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return v=J.sent(),[4,v.arrayBuffer()];case 2:return k=J.sent(),[2,k]}})})},Vt=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},jn={EventManager:ie,TaskQueueManager:q},vt=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(J){switch(J.label){case 0:return g=new Promise(function(pe){return tt.getInstance(function(Ne){Ne.decodeAudio(C,pe)})}),[4,g];case 1:return v=J.sent(),k=new E.AudioWrapper(v),E.finalizationRegistry.register(k,v),[2,k]}})})},It=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(J){switch(J.label){case 0:return g=new Promise(function(pe){return tt.getInstance(function(Ne){Ne.decodeImage(C,pe)})}),[4,g];case 1:return v=J.sent(),k=new E.ImageWrapper(v),E.finalizationRegistry.register(k,v),[2,k]}})})},Mt=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return re(this,function(J){switch(J.label){case 0:return g=new Promise(function(pe){return tt.getInstance(function(Ne){Ne.decodeFont(C,pe)})}),[4,g];case 1:return v=J.sent(),k=new E.FontWrapper(v),E.finalizationRegistry.register(k,v),[2,k]}})})}})(),c})())})(xh)),xh.exports}var T0;function aA(){return T0||(T0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=af(),i=sA();function s(x){return x&&typeof x=="object"&&"default"in x?x:{default:x}}var l=s(e),c=function(){return c=Object.assign||function(x){for(var L,R=1,$=arguments.length;R<$;R++)for(var ie in L=arguments[R])Object.prototype.hasOwnProperty.call(L,ie)&&(x[ie]=L[ie]);return x},c.apply(this,arguments)};function p(x,L){var R={};for(var $ in x)Object.prototype.hasOwnProperty.call(x,$)&&L.indexOf($)<0&&(R[$]=x[$]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function"){var ie=0;for($=Object.getOwnPropertySymbols(x);ie<$.length;ie++)L.indexOf($[ie])<0&&Object.prototype.propertyIsEnumerable.call(x,$[ie])&&(R[$[ie]]=x[$[ie]])}return R}function b(x,L,R,$){return new(R||(R=Promise))(function(ie,q){function Q(Ee){try{he($.next(Ee))}catch(j){q(j)}}function ye(Ee){try{he($.throw(Ee))}catch(j){q(j)}}function he(Ee){var j;Ee.done?ie(Ee.value):(j=Ee.value,j instanceof R?j:new R(function(oe){oe(j)})).then(Q,ye)}he(($=$.apply(x,[])).next())})}function w(x,L){var R,$,ie,q,Q={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]};return q={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ye(he){return function(Ee){return(function(j){if(R)throw new TypeError("Generator is already executing.");for(;Q;)try{if(R=1,$&&(ie=2&j[0]?$.return:j[0]?$.throw||((ie=$.return)&&ie.call($),0):$.next)&&!(ie=ie.call($,j[1])).done)return ie;switch($=0,ie&&(j=[2&j[0],ie.value]),j[0]){case 0:case 1:ie=j;break;case 4:return Q.label++,{value:j[1],done:!1};case 5:Q.label++,$=j[1],j=[0];continue;case 7:j=Q.ops.pop(),Q.trys.pop();continue;default:if(ie=Q.trys,!((ie=ie.length>0&&ie[ie.length-1])||j[0]!==6&&j[0]!==2)){Q=0;continue}if(j[0]===3&&(!ie||j[1]>ie[0]&&j[1]<ie[3])){Q.label=j[1];break}if(j[0]===6&&Q.label<ie[1]){Q.label=ie[1],ie=j;break}if(ie&&Q.label<ie[2]){Q.label=ie[2],Q.ops.push(j);break}ie[2]&&Q.ops.pop(),Q.trys.pop();continue}j=L.call(x,Q)}catch(oe){j=[6,oe],$=0}finally{R=ie=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}})([he,Ee])}}}function E(x){var L=x||N(),R=e.useState(L),$=R[0],ie=R[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var q=function(){var ye=x||N();ie(ye)},Q=window.matchMedia("screen and (resolution: ".concat($,"dppx)"));return Q.hasOwnProperty("addEventListener")?Q.addEventListener("change",q):Q.addListener(q),function(){Q.hasOwnProperty("removeEventListener")?Q.removeEventListener("change",q):Q.removeListener(q)}}},[$,x]),$}function N(){var x=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,x),3)}var O=(function(){function x(){}return x.prototype.observe=function(){},x.prototype.unobserve=function(){},x.prototype.disconnect=function(){},x})(),G=globalThis.ResizeObserver||O,re=globalThis.ResizeObserver!==void 0,z=!re;function ke(x,L){L===void 0&&(L=!0);var R=e.useState({width:0,height:0}),$=R[0],ie=R[1];e.useEffect(function(){if(typeof window<"u"&&L){var Ee=function(){ie({width:window.innerWidth,height:window.innerHeight})};return z&&(Ee(),window.addEventListener("resize",Ee)),function(){return window.removeEventListener("resize",Ee)}}},[]);var q,Q,ye,he=e.useRef(new G((q=function(Ee){re&&ie({width:Ee[Ee.length-1].contentRect.width,height:Ee[Ee.length-1].contentRect.height})},Q=0,ye=0,function(){for(var Ee=this,j=[],oe=0;oe<arguments.length;oe++)j[oe]=arguments[oe];clearTimeout(ye),ye=window.setTimeout(function(){return q.apply(Ee,j)},Q)})));return e.useEffect(function(){var Ee=he.current;if(L){var j=x.current;return x.current&&re&&Ee.observe(x.current),function(){Ee.disconnect(),j&&re&&Ee.unobserve(j)}}Ee.disconnect()},[x,he]),$}var Se={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Ue(x){return Object.assign({},Se,x)}function B(x){var L=x.riveLoaded,R=L!==void 0&&L,$=x.canvasElem,ie=x.containerRef,q=x.options,Q=q===void 0?{}:q,ye=x.onCanvasHasResized,he=x.artboardBounds,Ee=Ue(Q),j=e.useState({height:0,width:0}),oe=j[0],Re=oe.height,Ae=oe.width,Me=j[1],Qe=e.useState({height:0,width:0}),dt=Qe[0],pt=dt.height,bt=dt.width,Rt=Qe[1],bn=e.useState(!0),mt=bn[0],Tt=bn[1],nn=Ee.fitCanvasToArtboardHeight,qt=Ee.shouldResizeCanvasToContainer,Zn=Ee.useDevicePixelRatio,bi=Ee.customDevicePixelRatio,ln=ke(ie,qt),at=E(bi),Ut=he??{},Vt=Ut.maxX,jn=Ut.maxY,vt=e.useCallback(function(){var It,Mt,C,g,v=(Mt=(It=ie.current)===null||It===void 0?void 0:It.clientWidth)!==null&&Mt!==void 0?Mt:0,k=(g=(C=ie.current)===null||C===void 0?void 0:C.clientHeight)!==null&&g!==void 0?g:0;return nn&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:k}},[ie,nn,Vt,jn]);e.useEffect(function(){if(qt&&ie.current&&R){var It=vt(),Mt=It.width,C=It.height,g=!1;if($){var v=Mt!==Ae||C!==Re;if(Ee.fitCanvasToArtboardHeight&&v&&(ie.current.style.height=C+"px",g=!0),Ee.useDevicePixelRatio){if(v||Mt*at!==bt||C*at!==pt){var k=at*Mt,J=at*C;$.width=k,$.height=J,$.style.width=Mt+"px",$.style.height=C+"px",Rt({width:k,height:J}),g=!0}}else v&&($.width=Mt,$.height=C,Rt({width:Mt,height:C}),g=!0);Me({width:Mt,height:C})}ye&&(mt||g)&&ye&&ye(),mt&&Tt(!1)}},[$,ie,ln,at,vt,mt,Tt,pt,bt,Re,Ae,ye,qt,nn,Zn,R]),e.useEffect(function(){Rt({width:0,height:0})},[$])}var Pe,tt=(function(){function x(){}return x.prototype.observe=function(){},x.prototype.unobserve=function(){},x.prototype.disconnect=function(){},x})(),nt=globalThis.IntersectionObserver||tt,lt=(function(){function x(){var L=this;this.elementsMap=new Map,this.onObserved=function(R){R.forEach(function($){var ie=L.elementsMap.get($.target);ie&&ie($)})},this.observer=new nt(this.onObserved)}return x.prototype.registerCallback=function(L,R){this.observer.observe(L),this.elementsMap.set(L,R)},x.prototype.removeCallback=function(L){this.observer.unobserve(L),this.elementsMap.delete(L)},x})(),Y=function(){return Pe||(Pe=new lt),Pe};function F(x){var L=x.setContainerRef,R=x.setCanvasRef,$=x.className,ie=$===void 0?"":$,q=x.style,Q=x.children,ye=p(x,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},q);return l.default.createElement("div",c({ref:L,className:ie},!ie&&{style:he}),l.default.createElement("canvas",c({ref:R,style:{verticalAlign:"top",width:0,height:0}},ye),Q))}function P(x,L){L===void 0&&(L={});var R=e.useState(null),$=R[0],ie=R[1],q=e.useRef(null),Q=e.useRef(null),ye=e.useState(null),he=ye[0],Ee=ye[1],j=!!x,oe=Ue(L),Re=E(),Ae=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&$){var mt=Re*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Re,he.artboardWidth=$?.width/mt,he.artboardHeight=$?.height/mt}he.startRendering(),he.resizeToCanvas()}},[he,Re]);B({riveLoaded:!!he,canvasElem:$,containerRef:q,options:oe,onCanvasHasResized:Ae,artboardBounds:he?.bounds});var Me=e.useCallback(function(mt){mt===null&&$&&($.height=0,$.width=0),ie(mt)},[]);e.useEffect(function(){if($&&x){var mt,Tt=he!=null;if(he==null){var nn=oe.useOffscreenRenderer,qt=x.onRiveReady,Zn=p(x,["onRiveReady"]);mt=new i.Rive(c(c({useOffscreenRenderer:nn},Zn),{canvas:$})),Q.current!=null&&Q.current.cleanup(),Q.current=mt,mt.on(i.EventType.Load,function(){Tt=!0,qt&&qt(mt),$?Ee(mt):mt.cleanup()})}return function(){Tt||mt==null||mt.cleanup()}}},[$,j,he]);var Qe=e.useCallback(function(mt){q.current=mt},[]),dt={observe:e.useCallback(function(mt,Tt){Y().registerCallback(mt,Tt)},[]),unobserve:e.useCallback(function(mt){Y().removeCallback(mt)},[])},pt=dt.observe,bt=dt.unobserve;e.useEffect(function(){var mt,Tt=!1,nn=function(){if($&&Tt){var qt=$.getBoundingClientRect();qt.width>0&&qt.height>0&&qt.top<(window.innerHeight||document.documentElement.clientHeight)&&qt.bottom>0&&qt.left<(window.innerWidth||document.documentElement.clientWidth)&&qt.right>0&&(he?.startRendering(),Tt=!1)}};return $&&oe.shouldUseIntersectionObserver!==!1&&pt($,function(qt){qt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),Tt=!qt.isIntersecting,clearTimeout(mt),qt.isIntersecting||qt.boundingClientRect.width!==0||(mt=setTimeout(nn,10))}),function(){$&&bt($)}},[pt,bt,he,$,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Ee(null))}},[he,$]),e.useEffect(function(){return function(){Q.current!=null&&Q.current.cleanup()}},[]);var Rt=x?.animations;e.useEffect(function(){he&&Rt&&(he.isPlaying?(he.stop(he.animationNames),he.play(Rt)):he.isPaused&&(he.stop(he.animationNames),he.pause(Rt)))},[Rt,he]);var bn=e.useCallback(function(mt){return l.default.createElement(F,c({setContainerRef:Qe,setCanvasRef:Me},mt))},[Me,Qe]);return{canvas:$,container:q.current,setCanvasRef:Me,setContainerRef:Qe,rive:he,RiveComponent:bn}}function H(x,L,R){var $=e.useState(null),ie=$[0],q=$[1],Q=e.useState(R.defaultValue),ye=Q[0],he=Q[1],Ee=e.useState(null),j=Ee[0],oe=Ee[1],Re=e.useRef(null),Ae=e.useRef(x),Me=e.useRef(R);e.useEffect(function(){Me.current=R},[R]);var Qe=e.useCallback(function(){var Rt=Re.current,bn=Ae.current,mt=Me.current;if(!Rt||!bn)return q(null),he(mt.defaultValue),oe(null),function(){};var Tt=mt.getProperty(Rt,bn);if(Tt){q(Tt),he(mt.getValue(Tt)),mt.getExtendedData&&oe(mt.getExtendedData(Tt));var nn=function(){he(mt.getValue(Tt)),mt.getExtendedData&&oe(mt.getExtendedData(Tt)),mt.onPropertyEvent&&mt.onPropertyEvent()};return Tt.on(nn),function(){Tt.off(nn)}}return function(){}},[]);e.useEffect(function(){return Re.current=L,Ae.current=x,Qe()},[L,x,Qe]);var dt=e.useCallback(function(Rt){if(ie&&Re.current===L)try{return Rt(ie),void(Me.current.getExtendedData&&oe(Me.current.getExtendedData(ie)))}catch{}if(Re.current)try{var bn=Me.current.getProperty(Re.current,Ae.current);bn&&(q(bn),Rt(bn),Me.current.getExtendedData&&oe(Me.current.getExtendedData(bn)))}catch{}},[ie,L]),pt=e.useMemo(function(){return Me.current.buildPropertyOperations(dt)},[dt]),bt=c({value:ye},pt);return R.getExtendedData&&(bt.extendedData=j),bt}r.default=function(x){var L=x.src,R=x.artboard,$=x.animations,ie=x.stateMachines,q=x.layout,Q=x.useOffscreenRenderer,ye=Q===void 0||Q,he=x.shouldDisableRiveListeners,Ee=he!==void 0&&he,j=x.shouldResizeCanvasToContainer,oe=j===void 0||j,Re=x.automaticallyHandleEvents,Ae=Re!==void 0&&Re,Me=x.children,Qe=p(x,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),dt=P({src:L,artboard:R,animations:$,layout:q,stateMachines:ie,autoplay:!0,shouldDisableRiveListeners:Ee,automaticallyHandleEvents:Ae},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(dt,c({},Qe),Me)},r.useResizeCanvas=B,r.useRive=P,r.useRiveFile=function(x){var L=this,R=e.useState(null),$=R[0],ie=R[1],q=e.useState("idle"),Q=q[0],ye=q[1];return e.useEffect(function(){var he=null;return b(L,void 0,void 0,function(){return w(this,function(Ee){try{ye("loading"),(he=new i.RiveFile(x)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),ie(he),ye("success")}),he.on(i.EventType.LoadError,function(){ye("failed")}),ie(he)}catch(j){console.error(j),ye("failed")}return[2]})}),function(){he?.cleanup()}},[x.src,x.buffer]),{riveFile:$,status:Q}},r.useStateMachineInput=function(x,L,R,$){var ie=e.useState(null),q=ie[0],Q=ie[1];return e.useEffect(function(){function ye(){if(x&&L&&R||Q(null),x&&L&&R){var he=x.stateMachineInputs(L);if(he){var Ee=he.find(function(j){return j.name===R});$!==void 0&&Ee&&(Ee.value=$),Q(Ee||null)}}else Q(null)}ye(),x&&x.on(i.EventType.Load,function(){ye()})},[x]),q},r.useViewModel=function(x,L){var R=L??{},$=R.name,ie=R.useDefault,q=ie!==void 0&&ie,Q=e.useState(null),ye=Q[0],he=Q[1];return e.useEffect(function(){function Ee(){var j;if(x){var oe=null;oe=$!=null?((j=x.viewModelByName)===null||j===void 0?void 0:j.call(x,$))||null:x.defaultViewModel()||null,he(oe)}else he(null)}return Ee(),x&&x.on(i.EventType.Load,Ee),function(){x&&x.off(i.EventType.Load,Ee)}},[x,$,q]),ye},r.useViewModelInstance=function(x,L){var R=L??{},$=R.name,ie=R.useDefault,q=ie!==void 0&&ie,Q=R.useNew,ye=Q!==void 0&&Q,he=R.rive,Ee=e.useState(null),j=Ee[0],oe=Ee[1];return e.useEffect(function(){var Re,Ae,Me;if(x){var Qe=null;Qe=$!=null?x.instanceByName($)||null:q?((Re=x.defaultInstance)===null||Re===void 0?void 0:Re.call(x))||null:ye?((Ae=x.instance)===null||Ae===void 0?void 0:Ae.call(x))||null:((Me=x.defaultInstance)===null||Me===void 0?void 0:Me.call(x))||null,oe(Qe),he&&Qe&&he.viewModelInstance!==Qe&&he.bindViewModelInstance(Qe)}else oe(null)},[x,$,q,ye,he]),j},r.useViewModelInstanceArtboard=function(x,L){return{setValue:H(x,L,{getProperty:e.useCallback(function(R,$){return R.artboard($)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function($){R(function(ie){ie.value=$})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(x,L){var R=H(x,L,{getProperty:e.useCallback(function($,ie){return $.boolean(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceColor=function(x,L){var R=H(x,L,{getProperty:e.useCallback(function($,ie){return $.color(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})},setRgb:function(ie,q,Q){$(function(ye){ye.rgb(ie,q,Q)})},setRgba:function(ie,q,Q,ye){$(function(he){he.rgba(ie,q,Q,ye)})},setAlpha:function(ie){$(function(q){q.alpha(ie)})},setOpacity:function(ie){$(function(q){q.opacity(ie)})}}},[])});return{value:R.value,setValue:R.setValue,setRgb:R.setRgb,setRgba:R.setRgba,setAlpha:R.setAlpha,setOpacity:R.setOpacity}},r.useViewModelInstanceEnum=function(x,L){var R=H(x,L,{getProperty:e.useCallback(function($,ie){return $.enum(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,getExtendedData:e.useCallback(function($){return $.values},[]),buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:R.value,values:R.extendedData||[],setValue:R.setValue}},r.useViewModelInstanceImage=function(x,L){return{setValue:H(x,L,{getProperty:e.useCallback(function(R,$){return R.image($)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function($){R(function(ie){ie.value=$})}}},[])}).setValue}},r.useViewModelInstanceList=function(x,L){var R,$=e.useState(0)[1],ie=H(x,L,{getProperty:e.useCallback(function(q,Q){return q.list(Q)},[]),getValue:e.useCallback(function(q){return q.length},[]),defaultValue:null,onPropertyEvent:function(){$(function(q){return q+1})},buildPropertyOperations:e.useCallback(function(q){return{addInstance:function(Q){q(function(ye){return ye.addInstance(Q)})},addInstanceAt:function(Q,ye){var he=!1;return q(function(Ee){he=Ee.addInstanceAt(Q,ye)}),he},removeInstance:function(Q){q(function(ye){return ye.removeInstance(Q)})},removeInstanceAt:function(Q){q(function(ye){return ye.removeInstanceAt(Q)})},getInstanceAt:function(Q){var ye=null;return q(function(he){ye=he.instanceAt(Q)}),ye},swap:function(Q,ye){q(function(he){return he.swap(Q,ye)})}}},[])});return{length:(R=ie.value)!==null&&R!==void 0?R:0,addInstance:ie.addInstance,addInstanceAt:ie.addInstanceAt,removeInstance:ie.removeInstance,removeInstanceAt:ie.removeInstanceAt,getInstanceAt:ie.getInstanceAt,swap:ie.swap}},r.useViewModelInstanceNumber=function(x,L){var R=H(x,L,{getProperty:e.useCallback(function($,ie){return $.number(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceString=function(x,L){var R=H(x,L,{getProperty:e.useCallback(function($,ie){return $.string(ie)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(ie){$(function(q){q.value=ie})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceTrigger=function(x,L,R){var $=(R??{}).onTrigger;return{trigger:H(x,L,{getProperty:e.useCallback(function(ie,q){return ie.trigger(q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:$,buildPropertyOperations:e.useCallback(function(ie){return{trigger:function(){ie(function(q){q.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(x){x==="default"||r.hasOwnProperty(x)||Object.defineProperty(r,x,{enumerable:!0,get:function(){return i[x]}})})})(wm)),wm}var uo=aA();const oA=()=>{};var A0={};const rb=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},lA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,N=c>>2,O=(c&3)<<4|b>>4;let G=(b&15)<<2|E>>6,re=E&63;w||(re=64,p||(G=64)),s.push(i[N],i[O],i[G],i[re])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const O=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||O==null)throw new uA;const G=c<<2|b>>4;if(s.push(G),E!==64){const re=b<<4&240|E>>2;if(s.push(re),O!==64){const z=E<<6&192|O;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(r){const e=rb(r);return sb.encodeByteArray(e,!0)},jh=function(r){return cA(r).replace(/\./g,"")},ab=function(r){try{return sb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof A0>"u")return;const r=A0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ab(r[1]);return e&&JSON.parse(e)},of=()=>{try{return oA()||fA()||dA()||mA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ob=r=>of()?.emulatorHosts?.[r],pA=r=>{const e=ob(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},lb=()=>of()?.config,ub=r=>of()?.[`_${r}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Wl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cb(r){return(await fetch(r,{credentials:"include"})).ok}function yA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jh(JSON.stringify(i)),jh(JSON.stringify(p)),""].join(".")}const Gu={};function vA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?r.emulator.push(e):r.prod.push(e);return r}function _A(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let S0=!1;function hb(r,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||Gu[r]===e||Gu[r]||S0)return;Gu[r]=e;function i(G){return`__firebase__banner__${G}`}const s="__firebase__banner",c=vA().prod.length>0;function p(){const G=document.getElementById(s);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function w(G,re){G.setAttribute("width","24"),G.setAttribute("id",re),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function E(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{S0=!0,p()},G}function N(G,re){G.setAttribute("id",re),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function O(){const G=_A(s),re=i("text"),z=document.getElementById(re)||document.createElement("span"),ke=i("learnmore"),Se=document.getElementById(ke)||document.createElement("a"),Ue=i("preprendIcon"),B=document.getElementById(Ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const Pe=G.element;b(Pe),N(Se,ke);const tt=E();w(B,Ue),Pe.append(B,z,Se,tt),document.body.appendChild(Pe)}c?(z.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",re)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function wA(){const r=of()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const r=yr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function CA(){return!wA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const IA="FirebaseError";class Ma extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=IA,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?MA(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ma(l,b,s)}}function MA(r,e){return r.replace(NA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const NA=/\{\$([^}]+)}/g;function DA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(C0(c)&&C0(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function C0(r){return r!==null&&typeof r=="object"}function lc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function OA(r,e){const i=new kA(r,e);return i.subscribe.bind(i)}class kA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Em(){}function ts(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class PA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new gA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jA(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(r){return r===zo?void 0:r}function jA(r){return r.instantiationMode==="EAGER"}class UA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new PA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Zt||(Zt={}));const zA={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},BA=Zt.INFO,FA={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},HA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=FA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const qA=(r,e)=>e.some(i=>r instanceof i);let x0,R0;function GA(){return x0||(x0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return R0||(R0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fb=new WeakMap,zm=new WeakMap,db=new WeakMap,Tm=new WeakMap,pp=new WeakMap;function XA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(ho(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&fb.set(i,r)}).catch(()=>{}),pp.set(e,r),e}function QA(r){if(zm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});zm.set(r,e)}let Bm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||db.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ho(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WA(r){Bm=r(Bm)}function KA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Am(this),e,...i);return db.set(s,e.sort?e.sort():[e]),ho(s)}:YA().includes(r)?function(...e){return r.apply(Am(this),e),ho(fb.get(this))}:function(...e){return ho(r.apply(Am(this),e))}}function $A(r){return typeof r=="function"?KA(r):(r instanceof IDBTransaction&&QA(r),qA(r,GA())?new Proxy(r,Bm):r)}function ho(r){if(r instanceof IDBRequest)return XA(r);if(Tm.has(r))return Tm.get(r);const e=$A(r);return e!==r&&(Tm.set(r,e),pp.set(e,r)),e}const Am=r=>pp.get(r);function JA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=ho(p);return s&&p.addEventListener("upgradeneeded",w=>{s(ho(p.result),w.oldVersion,w.newVersion,ho(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const ZA=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],Sm=new Map;function I0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=eS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ZA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return Sm.set(e,c),c}WA(r=>({...r,get:(e,i,s)=>I0(e,i)||r.get(e,i,s),has:(e,i)=>!!I0(e,i)||r.has(e,i)}));class tS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function nS(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",M0="0.14.6";const Aa=new mp("@firebase/app"),iS="@firebase/app-compat",rS="@firebase/analytics-compat",sS="@firebase/analytics",aS="@firebase/app-check-compat",oS="@firebase/app-check",lS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",pS="@firebase/installations",gS="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",_S="@firebase/performance",bS="@firebase/performance-compat",wS="@firebase/remote-config",ES="@firebase/remote-config-compat",TS="@firebase/storage",AS="@firebase/storage-compat",SS="@firebase/firestore",CS="@firebase/ai",xS="@firebase/firestore-compat",RS="firebase",IS="12.6.0";const Hm="[DEFAULT]",MS={[Fm]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[rS]:"fire-analytics-compat",[oS]:"fire-app-check",[aS]:"fire-app-check-compat",[lS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[pS]:"fire-iid",[gS]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[_S]:"fire-perf",[bS]:"fire-perf-compat",[wS]:"fire-rc",[ES]:"fire-rc-compat",[TS]:"fire-gcs",[AS]:"fire-gcs-compat",[SS]:"fire-fst",[xS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};const Uh=new Map,NS=new Map,qm=new Map;function N0(r,e){try{r.container.addComponent(e)}catch(i){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Fl(r){const e=r.name;if(qm.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const i of Uh.values())N0(i,r);for(const i of NS.values())N0(i,r);return!0}function gp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function gs(r){return r==null?!1:r.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new oc("app","Firebase",DS);class OS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}const Kl=IS;function mb(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw fo.create("bad-app-name",{appName:String(l)});if(i||(i=lb()),!i)throw fo.create("no-options");const c=Uh.get(l);if(c){if(Fo(i,c.options)&&Fo(s,c.config))return c;throw fo.create("duplicate-app",{appName:l})}const p=new UA(l);for(const w of qm.values())p.addComponent(w);const b=new OS(i,s,p);return Uh.set(l,b),b}function pb(r=Hm){const e=Uh.get(r);if(!e&&r===Hm&&lb())return mb();if(!e)throw fo.create("no-app",{appName:r});return e}function mo(r,e,i){let s=MS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(p.join(" "));return}Fl(new Ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const kS="firebase-heartbeat-database",VS=1,Ju="firebase-heartbeat-store";let Cm=null;function gb(){return Cm||(Cm=JA(kS,VS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ju)}catch(i){console.warn(i)}}}}).catch(r=>{throw fo.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function PS(r){try{const i=(await gb()).transaction(Ju),s=await i.objectStore(Ju).get(yb(r));return await i.done,s}catch(e){if(e instanceof Ma)Aa.warn(e.message);else{const i=fo.create("idb-get",{originalErrorMessage:e?.message});Aa.warn(i.message)}}}async function D0(r,e){try{const s=(await gb()).transaction(Ju,"readwrite");await s.objectStore(Ju).put(e,yb(r)),await s.done}catch(i){if(i instanceof Ma)Aa.warn(i.message);else{const s=fo.create("idb-set",{originalErrorMessage:i?.message});Aa.warn(s.message)}}}function yb(r){return`${r.name}!${r.options.appId}`}const LS=1024,jS=30;class US{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>jS){const l=FS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Aa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O0(),{heartbeatsToSend:i,unsentEntries:s}=zS(this._heartbeatsCache.heartbeats),l=jh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Aa.warn(e),""}}}function O0(){return new Date().toISOString().substring(0,10)}function zS(r,e=LS){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),k0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class BS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function k0(r){return jh(JSON.stringify({version:2,heartbeats:r})).length}function FS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function HS(r){Fl(new Ho("platform-logger",e=>new tS(e),"PRIVATE")),Fl(new Ho("heartbeat",e=>new US(e),"PRIVATE")),mo(Fm,M0,r),mo(Fm,M0,"esm2020"),mo("fire-js","")}HS("");var qS="firebase",GS="12.6.0";mo(qS,GS,"app");function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=vb,_b=new oc("auth","Firebase",vb());const zh=new mp("@firebase/auth");function XS(r,...e){zh.logLevel<=Zt.WARN&&zh.warn(`Auth (${Kl}): ${r}`,...e)}function Rh(r,...e){zh.logLevel<=Zt.ERROR&&zh.error(`Auth (${Kl}): ${r}`,...e)}function Sa(r,...e){throw yp(r,...e)}function Hs(r,...e){return yp(r,...e)}function bb(r,e,i){const s={...YS(),[e]:i};return new oc("auth","Firebase",s).create(e,{appName:r.name})}function Ea(r){return bb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return _b.create(r,...e)}function At(r,e,...i){if(!r)throw yp(e,...i)}function ba(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rh(e),new Error(e)}function Ca(r,e){r||ba(e)}function Gm(){return typeof self<"u"&&self.location?.href||""}function QS(){return V0()==="http:"||V0()==="https:"}function V0(){return typeof self<"u"&&self.location?.protocol||null}function WS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||TA()||"connection"in navigator)?navigator.onLine:!0}function KS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class uc{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ca(i>e,"Short delay should be less than long delay!"),this.isMobile=bA()||AA()}get(){return WS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(r,e){Ca(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class wb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZS=new uc(3e4,6e4);function cc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function $l(r,e,i,s,l={}){return Eb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=lc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return EA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Wl(r.emulatorConfig.host)&&(E.credentials="include"),wb.fetch()(await Tb(r,r.config.apiHost,i,b),E)})}async function Eb(r,e,i){r._canInitEmulator=!1;const s={...$S,...e};try{const l=new e2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw bh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw bh(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw bh(r,"user-disabled",p);const N=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw bb(r,N,E);Sa(r,N)}}catch(l){if(l instanceof Ma)throw l;Sa(r,"network-request-failed",{message:String(l)})}}async function _p(r,e,i,s,l={}){const c=await $l(r,e,i,s,l);return"mfaPendingCredential"in c&&Sa(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Tb(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?vp(r.config,l):`${r.config.apiScheme}://${l}`;return JS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Hs(this.auth,"network-request-failed")),ZS.get())})}}function bh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Hs(r,e,s);return l.customData._tokenResponse=i,l}async function t2(r,e){return $l(r,"POST","/v1/accounts:delete",e)}async function Bh(r,e){return $l(r,"POST","/v1/accounts:lookup",e)}function Yu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(r,e=!1){const i=ts(r),s=await i.getIdToken(e),l=bp(s);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Yu(xm(l.auth_time)),issuedAtTime:Yu(xm(l.iat)),expirationTime:Yu(xm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function bp(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const l=ab(i);return l?JSON.parse(l):(Rh("Failed to decode base64 JWT payload"),null)}catch(l){return Rh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function P0(r){const e=bp(r);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Ma&&i2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function i2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class r2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fh(r){const e=r.auth,i=await r.getIdToken(),s=await Zu(r,Bh(e,{idToken:i}));At(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Ab(l.providerUserInfo):[],p=a2(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,N={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,N)}async function s2(r){const e=ts(r);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Ab(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function o2(r,e){const i=await Eb(r,{},async()=>{const s=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await Tb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Wl(r.emulatorConfig.host)&&(w.credentials="include"),wb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function l2(r,e){return $l(r,"POST","/v2/accounts:revokeToken",cc(r,e))}class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){At(e.length!==0,"internal-error");const i=P0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await o2(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Pl;return s&&(At(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(At(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return ba("not implemented")}}function io(r,e){At(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ms{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return n2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Ea(this.auth));const e=await this.getIdToken();return await Zu(this,t2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,N=i.lastLoginAt??void 0,{uid:O,emailVerified:G,isAnonymous:re,providerData:z,stsTokenManager:ke}=i;At(O&&ke,e,"internal-error");const Se=Pl.fromJSON(this.name,ke);At(typeof O=="string",e,"internal-error"),io(s,e.name),io(l,e.name),At(typeof G=="boolean",e,"internal-error"),At(typeof re=="boolean",e,"internal-error"),io(c,e.name),io(p,e.name),io(b,e.name),io(w,e.name),io(E,e.name),io(N,e.name);const Ue=new Ms({uid:O,auth:e,email:l,emailVerified:G,displayName:s,isAnonymous:re,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Se,createdAt:E,lastLoginAt:N});return z&&Array.isArray(z)&&(Ue.providerData=z.map(B=>({...B}))),w&&(Ue._redirectEventId=w),Ue}static async _fromIdTokenResponse(e,i,s=!1){const l=new Pl;l.updateFromServerResponse(i);const c=new Ms({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Fh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Ab(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Pl;b.updateFromIdToken(s);const w=new Ms({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const L0=new Map;function wa(r){Ca(r instanceof Function,"Expected a class definition");let e=L0.get(r);return e?(Ca(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,L0.set(r,e),e)}class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Sb.type="NONE";const j0=Sb;function Ih(r,e,i){return`firebase:${r}:${e}:${i}`}class Ll{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ih(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ih("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Bh(this.auth,{idToken:e}).catch(()=>{});return i?Ms._fromGetAccountInfoResponse(this.auth,i,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ll(wa(j0),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||wa(j0);const p=Ih(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const N=await E._get(p);if(N){let O;if(typeof N=="string"){const G=await Bh(e,{idToken:N}).catch(()=>{});if(!G)break;O=await Ms._fromGetAccountInfoResponse(e,G,N)}else O=Ms._fromJSON(e,N);E!==c&&(b=O),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new Ll(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new Ll(c,e,s))}}function U0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nb(e))return"Blackberry";if(Db(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Rb(e))&&!e.includes("edge/"))return"Chrome";if(Mb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function Cb(r=yr()){return/firefox\//i.test(r)}function xb(r=yr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rb(r=yr()){return/crios\//i.test(r)}function Ib(r=yr()){return/iemobile/i.test(r)}function Mb(r=yr()){return/android/i.test(r)}function Nb(r=yr()){return/blackberry/i.test(r)}function Db(r=yr()){return/webos/i.test(r)}function wp(r=yr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function u2(r=yr()){return wp(r)&&!!window.navigator?.standalone}function c2(){return SA()&&document.documentMode===10}function Ob(r=yr()){return wp(r)||Mb(r)||Db(r)||Nb(r)||/windows phone/i.test(r)||Ib(r)}function kb(r,e=[]){let i;switch(r){case"Browser":i=U0(yr());break;case"Worker":i=`${U0(yr())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Kl}/${s}`}class h2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function f2(r,e={}){return $l(r,"GET","/v2/passwordPolicy",cc(r,e))}const d2=6;class m2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??d2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class p2{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=wa(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Bh(this,{idToken:e}),s=await Ms._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(Ea(this));const i=e?ts(e):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f2(this),i=new m2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await l2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&wa(e)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[wa(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hc(r){return ts(r)}class z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(r){Ep=r}function y2(r){return Ep.loadJS(r)}function v2(){return Ep.gapiScript}function _2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function b2(r,e){const i=gp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fo(c,e??{}))return l;Sa(l,"already-initialized")}return i.initialize({options:e})}function w2(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(wa);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function E2(r,e,i){const s=hc(r);At(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=Vb(e),{host:p,port:b}=T2(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},N=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Fo(E,s.config.emulator)&&Fo(N,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=N,s.settings.appVerificationDisabledForTesting=!0,Wl(p)?(cb(`${c}//${p}${w}`),hb("Auth",!0)):A2()}function Vb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function T2(r){const e=Vb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:B0(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:B0(p)}}}function B0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function A2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Pb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,i){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}async function jl(r,e){return _p(r,"POST","/v1/accounts:signInWithIdp",cc(r,e))}const S2="http://localhost";class qo extends Pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Sa("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new qo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return jl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,jl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,jl(e,i)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=lc(i)}return e}}class Lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fc extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class so extends fc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";class ao extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ao.credential(i,s)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";class oo extends fc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";class lo extends fc{constructor(){super("twitter.com")}static credential(e,i){return qo._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return lo.credential(i,s)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";async function C2(r,e){return _p(r,"POST","/v1/accounts:signUp",cc(r,e))}class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Ms._fromIdTokenResponse(e,s,l),p=F0(s);return new xa({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=F0(s);return new xa({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function F0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function x2(r){if(gs(r.app))return Promise.reject(Ea(r));const e=hc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xa({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await C2(e,{returnSecureToken:!0}),s=await xa._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Hh extends Ma{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Hh(e,i,s,l)}}function jb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(r,c,e,s):c})}async function R2(r,e,i=!1){const s=await Zu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return xa._forOperation(r,"link",s)}async function I2(r,e,i=!1){const{auth:s}=r;if(gs(s.app))return Promise.reject(Ea(s));const l="reauthenticate";try{const c=await Zu(r,jb(s,l,e,r),i);At(c.idToken,s,"internal-error");const p=bp(c.idToken);At(p,s,"internal-error");const{sub:b}=p;return At(r.uid===b,s,"user-mismatch"),xa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Sa(s,"user-mismatch"),c}}async function M2(r,e,i=!1){if(gs(r.app))return Promise.reject(Ea(r));const s="signIn",l=await jb(r,s,e),c=await xa._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function N2(r,e){return _p(r,"POST","/v1/accounts:signInWithCustomToken",cc(r,e))}async function D2(r,e){if(gs(r.app))return Promise.reject(Ea(r));const i=hc(r),s=await N2(i,{token:e,returnSecureToken:!0}),l=await xa._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function O2(r,e,i,s){return ts(r).onIdTokenChanged(e,i,s)}function k2(r,e,i){return ts(r).beforeAuthStateChanged(e,i)}function V2(r,e,i,s){return ts(r).onAuthStateChanged(e,i,s)}const qh="__sak";class Ub{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P2=1e3,L2=10;class zb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);c2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,L2):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}zb.type="LOCAL";const j2=zb;class Bb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Bb.type="SESSION";const Fb=Bb;function U2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await U2(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];function Tp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=Tp("",20);l.port1.start();const N=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(O){const G=O;if(G.data.eventId===E)switch(G.data.status){case"ack":clearTimeout(N),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(N),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function qs(){return window}function B2(r){qs().location.href=r}function Hb(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function F2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H2(){return navigator?.serviceWorker?.controller||null}function q2(){return Hb()?self:null}const qb="firebaseLocalStorageDb",G2=1,Gh="firebaseLocalStorage",Gb="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uf(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function Y2(){const r=indexedDB.deleteDatabase(qb);return new dc(r).toPromise()}function Xm(){const r=indexedDB.open(qb,G2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gh,{keyPath:Gb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await Y2(),e(await Xm()))})})}async function H0(r,e,i){const s=uf(r,!0).put({[Gb]:e,value:i});return new dc(s).toPromise()}async function X2(r,e){const i=uf(r,!1).get(e),s=await new dc(i).toPromise();return s===void 0?null:s.value}function q0(r,e){const i=uf(r,!0).delete(e);return new dc(i).toPromise()}const Q2=800,W2=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>W2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(q2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await H0(e,qh,"1"),await q0(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>H0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>X2(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>q0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=uf(l,!1).getAll();return new dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const K2=Yb;new uc(3e4,6e4);function $2(r,e){return e?wa(e):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends Pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return jl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function J2(r){return M2(r.auth,new Ap(r),r.bypassAuthState)}function Z2(r){const{auth:e,user:i}=r;return At(i,e,"internal-error"),I2(i,new Ap(r),r.bypassAuthState)}async function eC(r){const{auth:e,user:i}=r;return At(i,e,"internal-error"),R2(i,new Ap(r),r.bypassAuthState)}class Xb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return Z2;default:Sa(this.auth,"internal-error")}}resolve(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tC=new uc(2e3,1e4);class kl extends Xb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Ca(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}kl.currentPopupAction=null;const nC="pendingRedirect",Mh=new Map;class iC extends Xb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await rC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(r,e){const i=oC(e),s=aC(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function sC(r,e){Mh.set(r._key(),e)}function aC(r){return wa(r._redirectPersistence)}function oC(r){return Ih(nC,r.config.apiKey,r.name)}async function lC(r,e,i=!1){if(gs(r.app))return Promise.reject(Ea(r));const s=hc(r),l=$2(s,e),p=await new iC(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const uC=600*1e3;class cC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Qb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Hs(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uC&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(e))}saveEventToCache(e){this.cachedEventUids.add(G0(e)),this.lastProcessedEventTime=Date.now()}}function G0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Qb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function hC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(r);default:return!1}}async function fC(r,e={}){return $l(r,"GET","/v1/projects",e)}const dC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function pC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await fC(r);for(const i of e)try{if(gC(i))return}catch{}Sa(r,"unauthorized-domain")}function gC(r){const e=Gm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!mC.test(i))return!1;if(dC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const yC=new uc(3e4,6e4);function Y0(){const r=qs().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function vC(r){return new Promise((e,i)=>{function s(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),i(Hs(r,"network-request-failed"))},timeout:yC.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)s();else{const l=_2("iframefcb");return qs()[l]=()=>{gapi.load?s():i(Hs(r,"network-request-failed"))},y2(`${v2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function _C(r){return Nh=Nh||vC(r),Nh}const bC=new uc(5e3,15e3),wC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(r){const e=r.config;At(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?vp(e,EC):`https://${r.config.authDomain}/${wC}`,s={apiKey:e.apiKey,appName:r.name,v:Kl},l=AC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${lc(s).slice(1)}`}async function CC(r){const e=await _C(r),i=qs().gapi;return At(i,r,"internal-error"),e.open({where:document.body,url:SC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Hs(r,"network-request-failed"),b=qs().setTimeout(()=>{c(p)},bC.get());function w(){qs().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,MC="_blank",NC="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(r,e,i,s=RC,l=IC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...xC,width:s.toString(),height:l.toString(),top:c,left:p},E=yr().toLowerCase();i&&(b=Rb(E)?MC:i),Cb(E)&&(e=e||NC,w.scrollbars="yes");const N=Object.entries(w).reduce((G,[re,z])=>`${G}${re}=${z},`,"");if(u2(E)&&b!=="_self")return OC(e||"",b),new X0(null);const O=window.open(e||"",b,N);At(O,r,"popup-blocked");try{O.focus()}catch{}return new X0(O)}function OC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const kC="__/auth/handler",VC="emulator/auth/handler",PC=encodeURIComponent("fac");async function Q0(r,e,i,s,l,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Kl,eventId:l};if(e instanceof Lb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",DA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,O]of Object.entries({}))p[N]=O}if(e instanceof fc){const N=e.getScopes().filter(O=>O!=="");N.length>0&&(p.scopes=N.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const N of Object.keys(b))b[N]===void 0&&delete b[N];const w=await r._getAppCheckToken(),E=w?`#${PC}=${encodeURIComponent(w)}`:"";return`${LC(r)}?${lc(b).slice(1)}${E}`}function LC({config:r}){return r.emulator?vp(r,VC):`https://${r.authDomain}/${kC}`}const Rm="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=lC,this._overrideRedirectResult=sC}async _openPopup(e,i,s,l){Ca(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Q0(e,i,s,Gm(),l);return DC(e,c,Tp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await Q0(e,i,s,Gm(),l);return B2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ca(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await CC(e),s=new cC(e);return i.register("authEvent",l=>(At(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Rm,{type:Rm},l=>{const c=l?.[0]?.[Rm];c!==void 0&&i(!!c),Sa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ob()||xb()||wp()}}const UC=jC;var W0="@firebase/auth",K0="1.11.1";class zC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(r){Fl(new Ho("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;At(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kb(r)},E=new p2(s,l,c,w);return w2(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Fl(new Ho("auth-internal",e=>{const i=hc(e.getProvider("auth").getImmediate());return(s=>new zC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(W0,K0,BC(r)),mo(W0,K0,"esm2020")}const HC=300,qC=ub("authIdTokenMaxAge")||HC;let $0=null;const GC=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>qC)return;const l=i?.token;$0!==l&&($0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YC(r=pb()){const e=gp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=b2(r,{popupRedirectResolver:UC,persistence:[K2,j2,Fb]}),s=ub("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=GC(c.toString());k2(i,p,()=>p(i.currentUser)),O2(i,b=>p(b))}}const l=ob("auth");return l&&E2(i,`http://${l}`),i}function XC(){return document.getElementsByTagName("head")?.[0]??document}g2({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Hs("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",XC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var po,Wb;(function(){var r;function e(Y,F){function P(){}P.prototype=F.prototype,Y.F=F.prototype,Y.prototype=new P,Y.prototype.constructor=Y,Y.D=function(H,x,L){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return F.prototype[x].apply(H,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Y,F,P){P||(P=0);const H=Array(16);if(typeof F=="string")for(var x=0;x<16;++x)H[x]=F.charCodeAt(P++)|F.charCodeAt(P++)<<8|F.charCodeAt(P++)<<16|F.charCodeAt(P++)<<24;else for(x=0;x<16;++x)H[x]=F[P++]|F[P++]<<8|F[P++]<<16|F[P++]<<24;F=Y.g[0],P=Y.g[1],x=Y.g[2];let L=Y.g[3],R;R=F+(L^P&(x^L))+H[0]+3614090360&4294967295,F=P+(R<<7&4294967295|R>>>25),R=L+(x^F&(P^x))+H[1]+3905402710&4294967295,L=F+(R<<12&4294967295|R>>>20),R=x+(P^L&(F^P))+H[2]+606105819&4294967295,x=L+(R<<17&4294967295|R>>>15),R=P+(F^x&(L^F))+H[3]+3250441966&4294967295,P=x+(R<<22&4294967295|R>>>10),R=F+(L^P&(x^L))+H[4]+4118548399&4294967295,F=P+(R<<7&4294967295|R>>>25),R=L+(x^F&(P^x))+H[5]+1200080426&4294967295,L=F+(R<<12&4294967295|R>>>20),R=x+(P^L&(F^P))+H[6]+2821735955&4294967295,x=L+(R<<17&4294967295|R>>>15),R=P+(F^x&(L^F))+H[7]+4249261313&4294967295,P=x+(R<<22&4294967295|R>>>10),R=F+(L^P&(x^L))+H[8]+1770035416&4294967295,F=P+(R<<7&4294967295|R>>>25),R=L+(x^F&(P^x))+H[9]+2336552879&4294967295,L=F+(R<<12&4294967295|R>>>20),R=x+(P^L&(F^P))+H[10]+4294925233&4294967295,x=L+(R<<17&4294967295|R>>>15),R=P+(F^x&(L^F))+H[11]+2304563134&4294967295,P=x+(R<<22&4294967295|R>>>10),R=F+(L^P&(x^L))+H[12]+1804603682&4294967295,F=P+(R<<7&4294967295|R>>>25),R=L+(x^F&(P^x))+H[13]+4254626195&4294967295,L=F+(R<<12&4294967295|R>>>20),R=x+(P^L&(F^P))+H[14]+2792965006&4294967295,x=L+(R<<17&4294967295|R>>>15),R=P+(F^x&(L^F))+H[15]+1236535329&4294967295,P=x+(R<<22&4294967295|R>>>10),R=F+(x^L&(P^x))+H[1]+4129170786&4294967295,F=P+(R<<5&4294967295|R>>>27),R=L+(P^x&(F^P))+H[6]+3225465664&4294967295,L=F+(R<<9&4294967295|R>>>23),R=x+(F^P&(L^F))+H[11]+643717713&4294967295,x=L+(R<<14&4294967295|R>>>18),R=P+(L^F&(x^L))+H[0]+3921069994&4294967295,P=x+(R<<20&4294967295|R>>>12),R=F+(x^L&(P^x))+H[5]+3593408605&4294967295,F=P+(R<<5&4294967295|R>>>27),R=L+(P^x&(F^P))+H[10]+38016083&4294967295,L=F+(R<<9&4294967295|R>>>23),R=x+(F^P&(L^F))+H[15]+3634488961&4294967295,x=L+(R<<14&4294967295|R>>>18),R=P+(L^F&(x^L))+H[4]+3889429448&4294967295,P=x+(R<<20&4294967295|R>>>12),R=F+(x^L&(P^x))+H[9]+568446438&4294967295,F=P+(R<<5&4294967295|R>>>27),R=L+(P^x&(F^P))+H[14]+3275163606&4294967295,L=F+(R<<9&4294967295|R>>>23),R=x+(F^P&(L^F))+H[3]+4107603335&4294967295,x=L+(R<<14&4294967295|R>>>18),R=P+(L^F&(x^L))+H[8]+1163531501&4294967295,P=x+(R<<20&4294967295|R>>>12),R=F+(x^L&(P^x))+H[13]+2850285829&4294967295,F=P+(R<<5&4294967295|R>>>27),R=L+(P^x&(F^P))+H[2]+4243563512&4294967295,L=F+(R<<9&4294967295|R>>>23),R=x+(F^P&(L^F))+H[7]+1735328473&4294967295,x=L+(R<<14&4294967295|R>>>18),R=P+(L^F&(x^L))+H[12]+2368359562&4294967295,P=x+(R<<20&4294967295|R>>>12),R=F+(P^x^L)+H[5]+4294588738&4294967295,F=P+(R<<4&4294967295|R>>>28),R=L+(F^P^x)+H[8]+2272392833&4294967295,L=F+(R<<11&4294967295|R>>>21),R=x+(L^F^P)+H[11]+1839030562&4294967295,x=L+(R<<16&4294967295|R>>>16),R=P+(x^L^F)+H[14]+4259657740&4294967295,P=x+(R<<23&4294967295|R>>>9),R=F+(P^x^L)+H[1]+2763975236&4294967295,F=P+(R<<4&4294967295|R>>>28),R=L+(F^P^x)+H[4]+1272893353&4294967295,L=F+(R<<11&4294967295|R>>>21),R=x+(L^F^P)+H[7]+4139469664&4294967295,x=L+(R<<16&4294967295|R>>>16),R=P+(x^L^F)+H[10]+3200236656&4294967295,P=x+(R<<23&4294967295|R>>>9),R=F+(P^x^L)+H[13]+681279174&4294967295,F=P+(R<<4&4294967295|R>>>28),R=L+(F^P^x)+H[0]+3936430074&4294967295,L=F+(R<<11&4294967295|R>>>21),R=x+(L^F^P)+H[3]+3572445317&4294967295,x=L+(R<<16&4294967295|R>>>16),R=P+(x^L^F)+H[6]+76029189&4294967295,P=x+(R<<23&4294967295|R>>>9),R=F+(P^x^L)+H[9]+3654602809&4294967295,F=P+(R<<4&4294967295|R>>>28),R=L+(F^P^x)+H[12]+3873151461&4294967295,L=F+(R<<11&4294967295|R>>>21),R=x+(L^F^P)+H[15]+530742520&4294967295,x=L+(R<<16&4294967295|R>>>16),R=P+(x^L^F)+H[2]+3299628645&4294967295,P=x+(R<<23&4294967295|R>>>9),R=F+(x^(P|~L))+H[0]+4096336452&4294967295,F=P+(R<<6&4294967295|R>>>26),R=L+(P^(F|~x))+H[7]+1126891415&4294967295,L=F+(R<<10&4294967295|R>>>22),R=x+(F^(L|~P))+H[14]+2878612391&4294967295,x=L+(R<<15&4294967295|R>>>17),R=P+(L^(x|~F))+H[5]+4237533241&4294967295,P=x+(R<<21&4294967295|R>>>11),R=F+(x^(P|~L))+H[12]+1700485571&4294967295,F=P+(R<<6&4294967295|R>>>26),R=L+(P^(F|~x))+H[3]+2399980690&4294967295,L=F+(R<<10&4294967295|R>>>22),R=x+(F^(L|~P))+H[10]+4293915773&4294967295,x=L+(R<<15&4294967295|R>>>17),R=P+(L^(x|~F))+H[1]+2240044497&4294967295,P=x+(R<<21&4294967295|R>>>11),R=F+(x^(P|~L))+H[8]+1873313359&4294967295,F=P+(R<<6&4294967295|R>>>26),R=L+(P^(F|~x))+H[15]+4264355552&4294967295,L=F+(R<<10&4294967295|R>>>22),R=x+(F^(L|~P))+H[6]+2734768916&4294967295,x=L+(R<<15&4294967295|R>>>17),R=P+(L^(x|~F))+H[13]+1309151649&4294967295,P=x+(R<<21&4294967295|R>>>11),R=F+(x^(P|~L))+H[4]+4149444226&4294967295,F=P+(R<<6&4294967295|R>>>26),R=L+(P^(F|~x))+H[11]+3174756917&4294967295,L=F+(R<<10&4294967295|R>>>22),R=x+(F^(L|~P))+H[2]+718787259&4294967295,x=L+(R<<15&4294967295|R>>>17),R=P+(L^(x|~F))+H[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+F&4294967295,Y.g[1]=Y.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,Y.g[2]=Y.g[2]+x&4294967295,Y.g[3]=Y.g[3]+L&4294967295}s.prototype.v=function(Y,F){F===void 0&&(F=Y.length);const P=F-this.blockSize,H=this.C;let x=this.h,L=0;for(;L<F;){if(x==0)for(;L<=P;)l(this,Y,L),L+=this.blockSize;if(typeof Y=="string"){for(;L<F;)if(H[x++]=Y.charCodeAt(L++),x==this.blockSize){l(this,H),x=0;break}}else for(;L<F;)if(H[x++]=Y[L++],x==this.blockSize){l(this,H),x=0;break}}this.h=x,this.o+=F},s.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var F=1;F<Y.length-8;++F)Y[F]=0;F=this.o*8;for(var P=Y.length-8;P<Y.length;++P)Y[P]=F&255,F/=256;for(this.v(Y),Y=Array(16),F=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)Y[F++]=this.g[P]>>>H&255;return Y};function c(Y,F){var P=b;return Object.prototype.hasOwnProperty.call(P,Y)?P[Y]:P[Y]=F(Y)}function p(Y,F){this.h=F;const P=[];let H=!0;for(let x=Y.length-1;x>=0;x--){const L=Y[x]|0;H&&L==F||(P[x]=L,H=!1)}this.g=P}var b={};function w(Y){return-128<=Y&&Y<128?c(Y,function(F){return new p([F|0],F<0?-1:0)}):new p([Y|0],Y<0?-1:0)}function E(Y){if(isNaN(Y)||!isFinite(Y))return O;if(Y<0)return Se(E(-Y));const F=[];let P=1;for(let H=0;Y>=P;H++)F[H]=Y/P|0,P*=4294967296;return new p(F,0)}function N(Y,F){if(Y.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(Y.charAt(0)=="-")return Se(N(Y.substring(1),F));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=E(Math.pow(F,8));let H=O;for(let L=0;L<Y.length;L+=8){var x=Math.min(8,Y.length-L);const R=parseInt(Y.substring(L,L+x),F);x<8?(x=E(Math.pow(F,x)),H=H.j(x).add(E(R))):(H=H.j(P),H=H.add(E(R)))}return H}var O=w(0),G=w(1),re=w(16777216);r=p.prototype,r.m=function(){if(ke(this))return-Se(this).m();let Y=0,F=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);Y+=(H>=0?H:4294967296+H)*F,F*=4294967296}return Y},r.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(z(this))return"0";if(ke(this))return"-"+Se(this).toString(Y);const F=E(Math.pow(Y,6));var P=this;let H="";for(;;){const x=tt(P,F).g;P=Ue(P,x.j(F));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(Y);if(P=x,z(P))return L+H;for(;L.length<6;)L="0"+L;H=L+H}},r.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function z(Y){if(Y.h!=0)return!1;for(let F=0;F<Y.g.length;F++)if(Y.g[F]!=0)return!1;return!0}function ke(Y){return Y.h==-1}r.l=function(Y){return Y=Ue(this,Y),ke(Y)?-1:z(Y)?0:1};function Se(Y){const F=Y.g.length,P=[];for(let H=0;H<F;H++)P[H]=~Y.g[H];return new p(P,~Y.h).add(G)}r.abs=function(){return ke(this)?Se(this):this},r.add=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];let H=0;for(let x=0;x<=F;x++){let L=H+(this.i(x)&65535)+(Y.i(x)&65535),R=(L>>>16)+(this.i(x)>>>16)+(Y.i(x)>>>16);H=R>>>16,L&=65535,R&=65535,P[x]=R<<16|L}return new p(P,P[P.length-1]&-2147483648?-1:0)};function Ue(Y,F){return Y.add(Se(F))}r.j=function(Y){if(z(this)||z(Y))return O;if(ke(this))return ke(Y)?Se(this).j(Se(Y)):Se(Se(this).j(Y));if(ke(Y))return Se(this.j(Se(Y)));if(this.l(re)<0&&Y.l(re)<0)return E(this.m()*Y.m());const F=this.g.length+Y.g.length,P=[];for(var H=0;H<2*F;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let x=0;x<Y.g.length;x++){const L=this.i(H)>>>16,R=this.i(H)&65535,$=Y.i(x)>>>16,ie=Y.i(x)&65535;P[2*H+2*x]+=R*ie,B(P,2*H+2*x),P[2*H+2*x+1]+=L*ie,B(P,2*H+2*x+1),P[2*H+2*x+1]+=R*$,B(P,2*H+2*x+1),P[2*H+2*x+2]+=L*$,B(P,2*H+2*x+2)}for(Y=0;Y<F;Y++)P[Y]=P[2*Y+1]<<16|P[2*Y];for(Y=F;Y<2*F;Y++)P[Y]=0;return new p(P,0)};function B(Y,F){for(;(Y[F]&65535)!=Y[F];)Y[F+1]+=Y[F]>>>16,Y[F]&=65535,F++}function Pe(Y,F){this.g=Y,this.h=F}function tt(Y,F){if(z(F))throw Error("division by zero");if(z(Y))return new Pe(O,O);if(ke(Y))return F=tt(Se(Y),F),new Pe(Se(F.g),Se(F.h));if(ke(F))return F=tt(Y,Se(F)),new Pe(Se(F.g),F.h);if(Y.g.length>30){if(ke(Y)||ke(F))throw Error("slowDivide_ only works with positive integers.");for(var P=G,H=F;H.l(Y)<=0;)P=nt(P),H=nt(H);var x=lt(P,1),L=lt(H,1);for(H=lt(H,2),P=lt(P,2);!z(H);){var R=L.add(H);R.l(Y)<=0&&(x=x.add(P),L=R),H=lt(H,1),P=lt(P,1)}return F=Ue(Y,x.j(F)),new Pe(x,F)}for(x=O;Y.l(F)>=0;){for(P=Math.max(1,Math.floor(Y.m()/F.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),L=E(P),R=L.j(F);ke(R)||R.l(Y)>0;)P-=H,L=E(P),R=L.j(F);z(L)&&(L=G),x=x.add(L),Y=Ue(Y,R)}return new Pe(x,Y)}r.B=function(Y){return tt(this,Y).h},r.and=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)&Y.i(H);return new p(P,this.h&Y.h)},r.or=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)|Y.i(H);return new p(P,this.h|Y.h)},r.xor=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)^Y.i(H);return new p(P,this.h^Y.h)};function nt(Y){const F=Y.g.length+1,P=[];for(let H=0;H<F;H++)P[H]=Y.i(H)<<1|Y.i(H-1)>>>31;return new p(P,Y.h)}function lt(Y,F){const P=F>>5;F%=32;const H=Y.g.length-P,x=[];for(let L=0;L<H;L++)x[L]=F>0?Y.i(L+P)>>>F|Y.i(L+P+1)<<32-F:Y.i(L+P);return new p(x,Y.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Wb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=N,po=p}).apply(typeof J0<"u"?J0:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kb,Fu,$b,Dh,Qm,Jb,Zb,e1;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var V=0;V<u.length-1;V++){var ae=u[V];if(!(ae in A))break e;A=A[ae]}u=u[u.length-1],V=A[u],y=y(V),y!=V&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],V;for(V in y)Object.prototype.hasOwnProperty.call(y,V)&&A.push([V,y[V]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function N(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),u.apply(this,V)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(V,ae,me){for(var Le=Array(arguments.length-2),St=2;St<arguments.length;St++)Le[St-2]=arguments[St];return y.prototype[ae].apply(V,Le)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function re(u){const y=u.length;if(y>0){const A=Array(y);for(let V=0;V<y;V++)A[V]=u[V];return A}return[]}function z(u,y){for(let V=1;V<arguments.length;V++){const ae=arguments[V];var A=typeof ae;if(A=A!="object"?A:ae?Array.isArray(ae)?"array":A:"null",A=="array"||A=="object"&&typeof ae.length=="number"){A=u.length||0;const me=ae.length||0;u.length=A+me;for(let Le=0;Le<me;Le++)u[A+Le]=ae[Le]}else u.push(ae)}}class ke{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Se(u){p.setTimeout(()=>{throw u},0)}function Ue(){var u=Y;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,A){const V=Pe.get();V.set(y,A),this.h?this.h.next=V:this.g=V,this.h=V}}var Pe=new ke(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,Y=new B,F=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(P)}};function P(){for(var u;u=Ue();){try{u.h.call(u.g)}catch(A){Se(A)}var y=Pe;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}lt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function $(u,y){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O($,x),$.prototype.init=function(u,y){const A=this.type=u.type,V=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),q=0;function Q(u,y,A,V,ae){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!V,this.ha=ae,this.key=++q,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const V in u)y.call(A,u[V],V,u)}function Ee(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function j(u){const y={};for(const A in u)y[A]=u[A];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(u,y){let A,V;for(let ae=1;ae<arguments.length;ae++){V=arguments[ae];for(A in V)u[A]=V[A];for(let me=0;me<oe.length;me++)A=oe[me],Object.prototype.hasOwnProperty.call(V,A)&&(u[A]=V[A])}}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,y,A,V,ae){const me=u.toString();u=this.g[me],u||(u=this.g[me]=[],this.h++);const Le=Qe(u,y,V,ae);return Le>-1?(y=u[Le],A||(y.fa=!1)):(y=new Q(y,this.src,me,!!V,ae),y.fa=A,u.push(y)),y};function Me(u,y){const A=y.type;if(A in u.g){var V=u.g[A],ae=Array.prototype.indexOf.call(V,y,void 0),me;(me=ae>=0)&&Array.prototype.splice.call(V,ae,1),me&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Qe(u,y,A,V){for(let ae=0;ae<u.length;++ae){const me=u[ae];if(!me.da&&me.listener==y&&me.capture==!!A&&me.ha==V)return ae}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),pt={};function bt(u,y,A,V,ae){if(Array.isArray(y)){for(let me=0;me<y.length;me++)bt(u,y[me],A,V,ae);return null}return A=ln(A),u&&u[ie]?u.J(y,A,b(V)?!!V.capture:!1,ae):Rt(u,y,A,!1,V,ae)}function Rt(u,y,A,V,ae,me){if(!y)throw Error("Invalid event type");const Le=b(ae)?!!ae.capture:!!ae;let St=Zn(u);if(St||(u[dt]=St=new Ae(u)),A=St.add(y,A,V,Le,me),A.proxy)return A;if(V=bn(),A.proxy=V,V.src=u,V.listener=A,u.addEventListener)L||(ae=Le),ae===void 0&&(ae=!1),u.addEventListener(y.toString(),V,ae);else if(u.attachEvent)u.attachEvent(nn(y.toString()),V);else if(u.addListener&&u.removeListener)u.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function bn(){function u(A){return y.call(u.src,u.listener,A)}const y=qt;return u}function mt(u,y,A,V,ae){if(Array.isArray(y))for(var me=0;me<y.length;me++)mt(u,y[me],A,V,ae);else V=b(V)?!!V.capture:!!V,A=ln(A),u&&u[ie]?(u=u.i,me=String(y).toString(),me in u.g&&(y=u.g[me],A=Qe(y,A,V,ae),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[me],u.h--)))):u&&(u=Zn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Qe(y,A,V,ae)),(A=u>-1?y[u]:null)&&Tt(A))}function Tt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ie])Me(y.i,u);else{var A=u.type,V=u.proxy;y.removeEventListener?y.removeEventListener(A,V,u.capture):y.detachEvent?y.detachEvent(nn(A),V):y.addListener&&y.removeListener&&y.removeListener(V),(A=Zn(y))?(Me(A,u),A.h==0&&(A.src=null,y[dt]=null)):ye(u)}}}function nn(u){return u in pt?pt[u]:pt[u]="on"+u}function qt(u,y){if(u.da)u=!0;else{y=new $(y,this);const A=u.listener,V=u.ha||u.src;u.fa&&Tt(u),u=A.call(V,y)}return u}function Zn(u){return u=u[dt],u instanceof Ae?u:null}var bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ln(u){return typeof u=="function"?u:(u[bi]||(u[bi]=function(y){return u.handleEvent(y)}),u[bi])}function at(){H.call(this),this.i=new Ae(this),this.M=this,this.G=null}O(at,H),at.prototype[ie]=!0,at.prototype.removeEventListener=function(u,y,A,V){mt(this,u,y,A,V)};function Ut(u,y){var A,V=u.G;if(V)for(A=[];V;V=V.G)A.push(V);if(u=u.M,V=y.type||y,typeof y=="string")y=new x(y,u);else if(y instanceof x)y.target=y.target||u;else{var ae=y;y=new x(V,u),Re(y,ae)}ae=!0;let me,Le;if(A)for(Le=A.length-1;Le>=0;Le--)me=y.g=A[Le],ae=Vt(me,V,!0,y)&&ae;if(me=y.g=u,ae=Vt(me,V,!0,y)&&ae,ae=Vt(me,V,!1,y)&&ae,A)for(Le=0;Le<A.length;Le++)me=y.g=A[Le],ae=Vt(me,V,!1,y)&&ae}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let V=0;V<A.length;V++)ye(A[V]);delete u.g[y],u.h--}}this.G=null},at.prototype.J=function(u,y,A,V){return this.i.add(String(u),y,!1,A,V)},at.prototype.K=function(u,y,A,V){return this.i.add(String(u),y,!0,A,V)};function Vt(u,y,A,V){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ae=!0;for(let me=0;me<y.length;++me){const Le=y[me];if(Le&&!Le.da&&Le.capture==A){const St=Le.listener,ni=Le.ha||Le.src;Le.fa&&Me(u.i,Le),ae=St.call(ni,V)!==!1&&ae}}return ae&&!V.defaultPrevented}function jn(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function vt(u){u.g=jn(()=>{u.g=null,u.i&&(u.i=!1,vt(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class It extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(u){H.call(this),this.h=u,this.g={}}O(Mt,H);var C=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&Tt(y)},u),u.g={}}Mt.prototype.N=function(){Mt.Z.N.call(this),g(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,k=p.JSON.parse,J=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function pe(){}function Ne(){}var et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function it(){x.call(this,"d")}O(it,x);function qe(){x.call(this,"c")}O(qe,x);var Be={},Lt=null;function Rn(){return Lt=Lt||new at}Be.Ia="serverreachability";function un(u){x.call(this,Be.Ia,u)}O(un,x);function On(u){const y=Rn();Ut(y,new un(y))}Be.STAT_EVENT="statevent";function Wn(u,y){x.call(this,Be.STAT_EVENT,u),this.stat=y}O(Wn,x);function zt(u){const y=Rn();Ut(y,new Wn(y,u))}Be.Ja="timingevent";function Sn(u,y){x.call(this,Be.Ja,u),this.size=y}O(Sn,x);function kn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Ni(u,y,A,V,ae,me){u.info(function(){if(u.g)if(me){var Le="",St=me.split("&");for(let cn=0;cn<St.length;cn++){var ni=St[cn].split("=");if(ni.length>1){const Un=ni[0];ni=ni[1];const hr=Un.split("_");Le=hr.length>=2&&hr[1]=="type"?Le+(Un+"="+ni+"&"):Le+(Un+"=redacted&")}}}else Le=null;else Le=me;return"XMLHTTP REQ ("+V+") [attempt "+ae+"]: "+y+`
`+A+`
`+Le})}function Ke(u,y,A,V,ae,me,Le){u.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ae+"]: "+y+`
`+A+`
`+me+" "+Le})}function Bn(u,y,A,V){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+ai(u,A)+(V?" "+V:"")})}function Ct(u,y){u.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function ai(u,y){if(!u.g)return y;if(!y)return null;try{const me=JSON.parse(y);if(me){for(u=0;u<me.length;u++)if(Array.isArray(me[u])){var A=me[u];if(!(A.length<2)){var V=A[1];if(Array.isArray(V)&&!(V.length<1)){var ae=V[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Le=1;Le<V.length;Le++)V[Le]=""}}}}return v(me)}catch{return y}}var Di={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ns={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function vr(){}O(vr,pe),vr.prototype.g=function(){return new XMLHttpRequest},Si=new vr;function Ge(u){return encodeURIComponent(String(u))}function Os(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Rr(u,y,A,V){this.j=u,this.i=y,this.l=A,this.S=V||1,this.V=new Mt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oi}function Oi(){this.i=null,this.g="",this.h=!1}var fn={},ei={};function Zi(u,y,A){u.M=1,u.A=wi(wn(y)),u.u=A,u.R=!0,Ir(u,null)}function Ir(u,y){u.F=Date.now(),tr(u),u.B=wn(u.A);var A=u.B,V=u.S;Array.isArray(V)||(V=[String(V)]),ss(A.i,"t",V),u.C=0,A=u.j.L,u.h=new Oi,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new It(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,V=u.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(C[0]=ae.toString()),ae=C);for(let me=0;me<ae.length;me++){const Le=bt(A,ae[me],V||y.handleEvent,!1,y.h||y);if(!Le)break;y.g[Le.key]=Le}y=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),On(),Ni(u.i,u.v,u.B,u.l,u.S,u.u)}Rr.prototype.ba=function(u){u=u.target;const y=this.O;y&&Fi(u)==3?y.j():this.Y(u)},Rr.prototype.Y=function(u){try{if(u==this.g)e:{const St=Fi(this.g),ni=this.g.ya(),cn=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||X(this.g)))){this.K||St!=4||ni==7||(ni==8||cn<=0?On(3):On(2)),Vi(this);var y=this.g.ca();this.X=y;var A=er(this);if(this.o=y==200,Ke(this.i,this.v,this.B,this.l,this.S,St,y),this.o){if(this.U&&!this.L){t:{if(this.g){var V,ae=this.g;if((V=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(V)){var me=V;break t}}me=null}if(u=me)Bn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,zt(12),Fn(this),Pi(this);break e}}if(this.R){u=!0;let Un;for(;!this.K&&this.C<A.length;)if(Un=_s(this,A),Un==ei){St==4&&(this.m=4,zt(14),u=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==fn){this.m=4,zt(15),Bn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Bn(this.i,this.l,Un,null),Ci(this,Un);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||A.length!=0||this.h.h||(this.m=1,zt(16),u=!1),this.o=this.o&&u,!u)Bn(this.i,this.l,A,"[Invalid Chunked Response]"),Fn(this),Pi(this);else if(A.length>0&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.aa&&!Le.P&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Hi(Le),Le.P=!0,zt(11))}}else Bn(this.i,this.l,A,null),Ci(this,A);St==4&&Fn(this),this.o&&!this.K&&(St==4?Zs(this.j,this):(this.o=!1,tr(this)))}else se(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Fn(this),Pi(this)}}}catch{}finally{}};function er(u){if(!Ks(u))return u.g.la();const y=X(u.g);if(y==="")return"";let A="";const V=y.length,ae=Fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Fn(u),Pi(u),"";u.h.i=new p.TextDecoder}for(let me=0;me<V;me++)u.h.h=!0,A+=u.h.i.decode(y[me],{stream:!(ae&&me==V-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Ks(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _s(u,y){var A=u.C,V=y.indexOf(`
`,A);return V==-1?ei:(A=Number(y.substring(A,V)),isNaN(A)?fn:(V+=1,V+A>y.length?ei:(y=y.slice(V,V+A),u.C=V+A,y)))}Rr.prototype.cancel=function(){this.K=!0,Fn(this)};function tr(u){u.T=Date.now()+u.H,ki(u,u.H)}function ki(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=kn(E(u.aa,u),y)}function Vi(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Rr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ct(this.i,this.B),this.M!=2&&(On(),zt(17)),Fn(this),this.m=2,Pi(this)):ki(this,this.T-u)};function Pi(u){u.j.I==0||u.K||Zs(u.j,u)}function Fn(u){Vi(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Ci(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||nr(A.h,u))){if(!u.L&&nr(A.h,u)&&A.I==3){try{var V=A.Ba.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ae=V;if(ae[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)As(A),Fe(A);else break e;Ei(A),zt(18)}}else A.xa=ae[1],0<A.xa-A.K&&ae[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=kn(E(A.Va,A),6e3));ji(A.h)<=1&&A.ta&&(A.ta=void 0)}else Xr(A,11)}else if((u.L||A.g==u)&&As(A),!R(y))for(ae=A.Ba.g.parse(y),y=0;y<ae.length;y++){let cn=ae[y];const Un=cn[0];if(!(Un<=A.K))if(A.K=Un,cn=cn[1],A.I==2)if(cn[0]=="c"){A.M=cn[1],A.ba=cn[2];const hr=cn[3];hr!=null&&(A.ka=hr,A.j.info("VER="+A.ka));const Or=cn[4];Or!=null&&(A.za=Or,A.j.info("SVER="+A.za));const kr=cn[5];kr!=null&&typeof kr=="number"&&kr>0&&(V=1.5*kr,A.O=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Tr=u.g;if(Tr){const os=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var me=V.h;me.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&($s(me,me.h),me.h=null))}if(V.G){const ea=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(V.wa=ea,Wt(V.J,V.G,ea))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),V=A;var Le=u;if(V.na=$o(V,V.L?V.ba:null,V.W),Le.L){Mr(V.h,Le);var St=Le,ni=V.O;ni&&(St.H=ni),St.D&&(Vi(St),tr(St)),V.g=Le}else Gt(V);A.i.length>0&&Ve(A)}else cn[0]!="stop"&&cn[0]!="close"||Xr(A,7);else A.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Xr(A,7):_e(A):cn[0]!="noop"&&A.l&&A.l.qa(cn),A.A=0)}}On(4)}catch{}}var Vn=class{constructor(u,y){this.g=u,this.map=y}};function bs(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Li(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ji(u){return u.h?1:u.g?u.g.size:0}function nr(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function $s(u,y){u.g?u.g.add(y):u.h=y}function Mr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}bs.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function In(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return re(u.i)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const V=u[A].indexOf("=");let ae,me=null;V>=0?(ae=u[A].substring(0,V),me=u[A].substring(V+1)):ae=u[A],y(ae,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function xi(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof xi?(this.l=u.l,$n(this,u.j),this.o=u.o,this.g=u.g,Ui(this,u.u),this.h=u.h,ir(this,Fr(u.i)),this.m=u.m):u&&(y=String(u).match(is))?(this.l=!1,$n(this,y[1]||"",!0),this.o=ht(y[2]||""),this.g=ht(y[3]||"",!0),Ui(this,y[4]),this.h=ht(y[5]||"",!0),ir(this,y[6]||"",!0),this.m=ht(y[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}xi.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(fi(y,ws,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(fi(y,ws,!0),"@"),u.push(Ge(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(fi(A,A.charAt(0)=="/"?ks:Js,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",fi(A,rs)),u.join("")},xi.prototype.resolve=function(u){const y=wn(this);let A=!!u.j;A?$n(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var V=u.h;if(A)Ui(y,u.u);else if(A=!!u.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var ae=y.h.lastIndexOf("/");ae!=-1&&(V=y.h.slice(0,ae+1)+V)}if(ae=V,ae==".."||ae==".")V="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){V=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const me=[];for(let Le=0;Le<ae.length;){const St=ae[Le++];St=="."?V&&Le==ae.length&&me.push(""):St==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),V&&Le==ae.length&&me.push("")):(me.push(St),V=!0)}V=me.join("/")}else V=ae}return A?y.h=V:A=u.i.toString()!=="",A?ir(y,Fr(u.i)):A=!!u.m,A&&(y.m=u.m),y};function wn(u){return new xi(u)}function $n(u,y,A){u.j=A?ht(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ui(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ir(u,y,A){y instanceof rr?(u.i=y,as(u.i,u.l)):(A||(y=fi(y,dn)),u.i=new rr(y,u.l))}function Wt(u,y,A){u.i.set(y,A)}function wi(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ht(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fi(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Pn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ws=/[#\/\?@]/g,Js=/[#\?:]/g,ks=/[#\?]/g,dn=/[#\?@]/g,rs=/#/g;function rr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ti(u){u.g||(u.g=new Map,u.h=0,u.i&&_r(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=rr.prototype,r.add=function(u,y){ti(this),this.i=null,u=br(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function sr(u,y){ti(u),y=br(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Es(u,y){return ti(u),y=br(u,y),u.g.has(y)}r.forEach=function(u,y){ti(this),this.g.forEach(function(A,V){A.forEach(function(ae){u.call(y,ae,V,this)},this)},this)};function ar(u,y){ti(u);let A=[];if(typeof y=="string")Es(u,y)&&(A=A.concat(u.g.get(br(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ti(this),this.i=null,u=br(this,u),Es(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=ar(this,u),u.length>0?String(u[0]):y):y};function ss(u,y,A){sr(u,y),A.length>0&&(u.i=null,u.g.set(br(u,y),re(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let V=0;V<y.length;V++){var A=y[V];const ae=Ge(A);A=ar(this,A);for(let me=0;me<A.length;me++){let Le=ae;A[me]!==""&&(Le+="="+Ge(A[me])),u.push(Le)}}return this.i=u.join("&")};function Fr(u){const y=new rr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function br(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function as(u,y){y&&!u.j&&(ti(u),u.i=null,u.g.forEach(function(A,V){const ae=V.toLowerCase();V!=ae&&(sr(this,V),ss(this,ae,A))},u)),u.j=y}function or(u,y){const A=new Kn;if(p.Image){const V=new Image;V.onload=N(lr,A,"TestLoadImage: loaded",!0,y,V),V.onerror=N(lr,A,"TestLoadImage: error",!1,y,V),V.onabort=N(lr,A,"TestLoadImage: abort",!1,y,V),V.ontimeout=N(lr,A,"TestLoadImage: timeout",!1,y,V),p.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=u}else y(!1)}function Ts(u,y){const A=new Kn,V=new AbortController,ae=setTimeout(()=>{V.abort(),lr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:V.signal}).then(me=>{clearTimeout(ae),me.ok?lr(A,"TestPingServer: ok",!0,y):lr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ae),lr(A,"TestPingServer: error",!1,y)})}function lr(u,y,A,V,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),V(A)}catch{}}function zi(){this.g=new J}function Bi(u){this.i=u.Sb||null,this.h=u.ab||!1}O(Bi,pe),Bi.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,y){at.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(ur,at),r=ur.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?cr(this):Hn(this),this.readyState==3&&Hr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cr(this))},r.Na=function(u){this.g&&(this.response=u,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oi(u){let y="";return he(u,function(A,V){y+=V,y+=":",y+=A,y+=`\r
`}),y}function wr(u,y,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=oi(A),typeof u=="string"?A!=null&&Ge(A):Wt(u,y,A))}function Nt(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(Nt,at);var Nr=/^https?$/i,qn=["POST","PUT"];r=Nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=G(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(me){Dr(this,me);return}if(u=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ae in V)A.set(ae,V[ae]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const me of V.keys())A.set(me,V.get(me));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),ae=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(qn,y,void 0)>=0)||V||ae||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Le]of A)this.g.setRequestHeader(me,Le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(me){Dr(this,me)}};function Dr(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,qr(u),Er(u)}function qr(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ut(this,"complete"),Ut(this,"abort"),Er(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),Nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},r.Xa=function(){Gr(this)};function Gr(u){if(u.h&&typeof c<"u"){if(u.v&&Fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ut(u,"readystatechange"),Fi(u)==4){u.h=!1;try{const me=u.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var V;if(V=me===0){let Le=String(u.D).match(is)[1]||null;!Le&&p.self&&p.self.location&&(Le=p.self.location.protocol.slice(0,-1)),V=!Nr.test(Le?Le.toLowerCase():"")}A=V}if(A)Ut(u,"complete"),Ut(u,"success");else{u.o=6;try{var ae=Fi(u)>2?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.ca()+"]",qr(u)}}finally{Er(u)}}}}function Er(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||Ut(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),k(y)}};function X(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function se(u){const y={};u=(u.g&&Fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<u.length;V++){if(R(u[V]))continue;var A=Os(u[V]);const ae=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=y[ae]||[];y[ae]=me,me.push(A)}Ee(y,function(V){return V.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ve(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function be(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ve("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ve("baseRetryDelayMs",5e3,u),this.Za=ve("retryDelaySeedMs",1e4,u),this.Ta=ve("forwardChannelMaxRetries",2,u),this.va=ve("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bs(u&&u.concurrentRequestLimit),this.Ba=new zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=be.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,V){zt(0),this.W=u,this.H=y||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.J=$o(this,null,this.W),Ve(this)};function _e(u){if(We(u),u.I==3){var y=u.V++,A=wn(u.J);if(Wt(A,"SID",u.M),Wt(A,"RID",y),Wt(A,"TYPE","terminate"),ft(u,A),y=new Rr(u,u.j,y),y.M=2,y.A=wi(wn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),tr(y)}Da(u)}function Fe(u){u.g&&(Hi(u),u.g.cancel(),u.g=null)}function We(u){Fe(u),u.v&&(p.clearTimeout(u.v),u.v=null),As(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Ve(u){if(!Li(u.h)&&!u.m){u.m=!0;var y=u.Ea;nt||F(),lt||(nt(),lt=!0),Y.add(y,u),u.D=0}}function wt(u,y){return ji(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=kn(E(u.Ea,u,y),Na(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ae=new Rr(this,this.j,u);let me=this.o;if(this.U&&(me?(me=j(me),Re(me,this.U)):me=this.U),this.u!==null||this.R||(ae.J=me,me=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(y+=V,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=rn(this,ae,y),A=wn(this.J),Wt(A,"RID",u),Wt(A,"CVER",22),this.G&&Wt(A,"X-HTTP-Session-Id",this.G),ft(this,A),me&&(this.R?y="headers="+Ge(oi(me))+"&"+y:this.u&&wr(A,this.u,me)),$s(this.h,ae),this.Ra&&Wt(A,"TYPE","init"),this.S?(Wt(A,"$req",y),Wt(A,"SID","null"),ae.U=!0,Zi(ae,A,null)):Zi(ae,A,y),this.I=2}}else this.I==3&&(u?Ye(this,u):this.i.length==0||Li(this.h)||Ye(this))};function Ye(u,y){var A;y?A=y.l:A=u.V++;const V=wn(u.J);Wt(V,"SID",u.M),Wt(V,"RID",A),Wt(V,"AID",u.K),ft(u,V),u.u&&u.o&&wr(V,u.u,u.o),A=new Rr(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=rn(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),$s(u.h,A),Zi(A,V,y)}function ft(u,y){u.H&&he(u.H,function(A,V){Wt(y,V,A)}),u.l&&he({},function(A,V){Wt(y,V,A)})}function rn(u,y,A){A=Math.min(u.i.length,A);const V=u.l?E(u.l.Ka,u.l,u):null;e:{var ae=u.i;let St=-1;for(;;){const ni=["count="+A];St==-1?A>0?(St=ae[0].g,ni.push("ofs="+St)):St=0:ni.push("ofs="+St);let cn=!0;for(let Un=0;Un<A;Un++){var me=ae[Un].g;const hr=ae[Un].map;if(me-=St,me<0)St=Math.max(0,ae[Un].g-100),cn=!1;else try{me="req"+me+"_"||"";try{var Le=hr instanceof Map?hr:Object.entries(hr);for(const[Or,kr]of Le){let Tr=kr;b(kr)&&(Tr=v(kr)),ni.push(me+Or+"="+encodeURIComponent(Tr))}}catch(Or){throw ni.push(me+"type="+encodeURIComponent("_badmap")),Or}}catch{V&&V(hr)}}if(cn){Le=ni.join("&");break e}}Le=void 0}return u=u.i.splice(0,A),y.G=u,Le}function Gt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;nt||F(),lt||(nt(),lt=!0),Y.add(y,u),u.A=0}}function Ei(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=kn(E(u.Da,u),Na(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Yr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=kn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),Fe(this),Yr(this))};function Hi(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Yr(u){u.g=new Rr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=wn(u.na);Wt(y,"RID","rpc"),Wt(y,"SID",u.M),Wt(y,"AID",u.K),Wt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(y,"TO",u.ia),Wt(y,"TYPE","xmlhttp"),ft(u,y),u.u&&u.o&&wr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=wi(wn(y)),A.u=null,A.R=!0,Ir(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Fe(this),Ei(this),zt(19))};function As(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Zs(u,y){var A=null;if(u.g==y){As(u),Hi(u),u.g=null;var V=2}else if(nr(u.h,y))A=y.G,Mr(u.h,y),V=1;else return;if(u.I!=0){if(y.o)if(V==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ae=u.D;V=Rn(),Ut(V,new Sn(V,A)),Ve(u)}else Gt(u);else if(ae=y.m,ae==3||ae==0&&y.X>0||!(V==1&&wt(u,y)||V==2&&Ei(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ae){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function Na(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Xr(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),V=u.Ua;const ae=!V;V=new xi(V||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||$n(V,"https"),wi(V),ae?or(V.toString(),A):Ts(V.toString(),A)}else zt(2);u.I=0,u.l&&u.l.pa(y),Da(u),We(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Da(u){if(u.I=0,u.ja=[],u.l){const y=In(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,re(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var V=A instanceof xi?wn(A):new xi(A);if(V.g!="")y&&(V.g=y+"."+V.g),Ui(V,V.u);else{var ae=p.location;V=ae.protocol,y=y?y+"."+ae.hostname:ae.hostname,ae=+ae.port;const me=new xi(null);V&&$n(me,V),y&&(me.g=y),ae&&Ui(me,ae),A&&(me.h=A),V=me}return A=u.G,y=u.wa,A&&y&&Wt(V,A,y),Wt(V,"VER",u.ka),ft(u,V),V}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Nt(new Bi({ab:A})):new Nt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}r=Oa.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,y){return new qi(u,y)};function qi(u,y){at.call(this),this.g=new be(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ss(this)}O(qi,at),qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qi.prototype.close=function(){_e(this.g)},qi.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Vn(y.Ya++,u)),y.I==3&&Ve(y)},qi.prototype.N=function(){this.g.l=null,delete this.j,_e(this.g),delete this.g,qi.Z.N.call(this)};function So(u){it.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(So,it);function Zo(){qe.call(this),this.status=1}O(Zo,qe);function Ss(u){this.g=u}O(Ss,Oa),Ss.prototype.ra=function(){Ut(this.g,"a")},Ss.prototype.qa=function(u){Ut(this.g,new So(u))},Ss.prototype.pa=function(u){Ut(this.g,new Zo)},Ss.prototype.oa=function(){Ut(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,qi.prototype.send=qi.prototype.o,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,e1=function(){return new Vs},Zb=function(){return Rn()},Jb=Be,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,Dh=Di,ns.COMPLETE="complete",$b=ns,Ne.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",at.prototype.listen=at.prototype.J,Fu=Ne,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,Kb=Nt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const Z0="@firebase/firestore",e_="4.9.2";class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let Jl="12.3.0";const Go=new mp("@firebase/firestore");function xl(){return Go.logLevel}function st(r,...e){if(Go.logLevel<=Zt.DEBUG){const i=e.map(Sp);Go.debug(`Firestore (${Jl}): ${r}`,...i)}}function Ra(r,...e){if(Go.logLevel<=Zt.ERROR){const i=e.map(Sp);Go.error(`Firestore (${Jl}): ${r}`,...i)}}function Hl(r,...e){if(Go.logLevel<=Zt.WARN){const i=e.map(Sp);Go.warn(`Firestore (${Jl}): ${r}`,...i)}}function Sp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,t1(r,s,i)}function t1(r,e,i){let s=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ra(s),new Error(s)}function An(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||t1(e,l,s)}function Ot(r,e){return r}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Ma{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class n1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pr.UNAUTHENTICATED)))}shutdown(){}}class WC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){An(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new go;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new go,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new go)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(An(typeof s.accessToken=="string",31837,{l:s}),new n1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return An(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class $C{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){An(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(An(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ex(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=ex(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function en(r,e){return r<e?-1:r>e?1:0}function Wm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Im(l)===Im(c)?en(l,c):Im(l)?1:-1}return en(r.length,e.length)}const tx=55296,nx=57343;function Im(r){const e=r.charCodeAt(0);return e>=tx&&e<=nx}function ql(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const n_="__name__";class Fs{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Fs.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return en(e.length,i.length)}static compareSegments(e,i){const s=Fs.isNumericId(e),l=Fs.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Fs.extractNumericId(e).compare(Fs.extractNumericId(i)):Wm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class zn extends Fs{construct(e,i,s){return new zn(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ze(xe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new zn(i)}static emptyPath(){return new zn([])}}const ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Fs{construct(e,i,s){return new $i(e,i,s)}static isValidIdentifier(e){return ix.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new $i([n_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new Ze(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Ze(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Ze(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new Ze(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(i)}static emptyPath(){return new $i([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(zn.fromString(e))}static fromName(e){return new yt(zn.fromString(e).popFirst(5))}static empty(){return new yt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return zn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new zn(e.slice()))}}function i1(r,e,i){if(!i)throw new Ze(xe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rx(r,e,i,s){if(e===!0&&s===!0)throw new Ze(xe.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function i_(r){if(!yt.isDocumentKey(r))throw new Ze(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r_(r){if(yt.isDocumentKey(r))throw new Ze(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function r1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Yh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ze(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cf(r);throw new Ze(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function sx(r,e){if(e<=0)throw new Ze(xe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function _i(r,e){const i={typeString:r};return e&&(i.value=e),i}function mc(r,e){if(!r1(r))throw new Ze(xe.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new Ze(xe.INVALID_ARGUMENT,i);return!0}const s_=-62135596800,a_=1e6;class Qn{static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*a_);return new Qn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Ze(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ze(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<s_)throw new Ze(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,Qn._jsonSchema))return new Qn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qn._jsonSchemaVersion="firestore/timestamp/1.0",Qn._jsonSchema={type:_i("string",Qn._jsonSchemaVersion),seconds:_i("number"),nanoseconds:_i("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Qn(0,0))}static max(){return new xt(new Qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ec=-1;function ax(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=xt.fromTimestamp(s===1e9?new Qn(i+1,0):new Qn(i,s));return new vo(l,yt.empty(),e)}function ox(r){return new vo(r.readTime,r.key,ec)}class vo{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vo(xt.min(),yt.empty(),ec)}static max(){return new vo(xt.max(),yt.empty(),ec)}}function lx(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,e.documentKey),i!==0?i:en(r.largestBatchId,e.largestBatchId))}const ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zl(r){if(r.code!==xe.FAILED_PRECONDITION||r.message!==ux)throw r;st("LocalStore","Unexpectedly lost primary lease")}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Ie(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Ie?i:Ie.resolve(i)}catch(i){return Ie.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Ie.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Ie.reject(i)}static resolve(e){return new Ie(((i,s)=>{i(e)}))}static reject(e){return new Ie(((i,s)=>{s(e)}))}static waitFor(e){return new Ie(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Ie.resolve(!1);for(const s of e)i=i.next((l=>l?Ie.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Ie(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((N=>{p[E]=N,++b,b===c&&s(p)}),(N=>l(N)))}}))}static doWhile(e,i){return new Ie(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function hx(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eu(r){return r.name==="IndexedDbTransactionError"}class hf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;const xp=-1;function ff(r){return r==null}function Xh(r){return r===0&&1/r==-1/0}function fx(r){return typeof r=="number"&&Number.isInteger(r)&&!Xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const s1="";function dx(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=o_(e)),e=mx(r.get(i),e);return o_(e)}function mx(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case s1:i+="";break;default:i+=c}}return i}function o_(r){return r+s1+""}function l_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function a1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ii{constructor(e,i){this.comparator=e,this.root=i||Ki.EMPTY}insert(e,i){return new ii(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Ki.RED,this.left=l??Ki.EMPTY,this.right=c??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Ki(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Ki.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1;Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Ki(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(e){return new u_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ai(this.comparator);return i.data=e,i}}class u_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ns{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new Ns([])}unionWith(e){let i=new Ai($i.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ns(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class o1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ji{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new o1("Invalid base64 string: "+c):c}})(e);return new Ji(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Ji(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(r){if(An(!!r,39018),typeof r=="string"){let e=0;const i=px.exec(r);if(An(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hi(r.seconds),nanos:hi(r.nanos)}}function hi(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bo(r){return typeof r=="string"?Ji.fromBase64String(r):Ji.fromUint8Array(r)}const l1="server_timestamp",u1="__type__",c1="__previous_value__",h1="__local_write_time__";function Rp(r){return(r?.mapValue?.fields||{})[u1]?.stringValue===l1}function df(r){const e=r.mapValue.fields[c1];return Rp(e)?df(e):e}function tc(r){const e=_o(r.mapValue.fields[h1].timestampValue);return new Qn(e.seconds,e.nanos)}class gx{constructor(e,i,s,l,c,p,b,w,E,N){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=N}}const Qh="(default)";class nc{constructor(e,i){this.projectId=e,this.database=i||Qh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const f1="__type__",yx="__max__",Th={mapValue:{}},d1="__vector__",Wh="value";function wo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rp(r)?4:_x(r)?9007199254740991:vx(r)?10:11:Et(28295,{value:r})}function Ws(r,e){if(r===e)return!0;const i=wo(r);if(i!==wo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tc(r).isEqual(tc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=_o(l.timestampValue),b=_o(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return bo(l.bytesValue).isEqual(bo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return hi(l.geoPointValue.latitude)===hi(c.geoPointValue.latitude)&&hi(l.geoPointValue.longitude)===hi(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return hi(l.integerValue)===hi(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=hi(l.doubleValue),b=hi(c.doubleValue);return p===b?Xh(p)===Xh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return ql(r.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(l_(p)!==l_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!Ws(p[w],b[w])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function ic(r,e){return(r.values||[]).find((i=>Ws(i,e)))!==void 0}function Gl(r,e){if(r===e)return 0;const i=wo(r),s=wo(e);if(i!==s)return en(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return en(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=hi(c.integerValue||c.doubleValue),w=hi(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return c_(r.timestampValue,e.timestampValue);case 4:return c_(tc(r),tc(e));case 5:return Wm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=bo(c),w=bo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const N=en(b[E],w[E]);if(N!==0)return N}return en(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=en(hi(c.latitude),hi(p.latitude));return b!==0?b:en(hi(c.longitude),hi(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return h_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Wh]?.arrayValue,N=w[Wh]?.arrayValue,O=en(E?.values?.length||0,N?.values?.length||0);return O!==0?O:h_(E,N)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===Th.mapValue&&p===Th.mapValue)return 0;if(c===Th.mapValue)return 1;if(p===Th.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},N=Object.keys(E);w.sort(),N.sort();for(let O=0;O<w.length&&O<N.length;++O){const G=Wm(w[O],N[O]);if(G!==0)return G;const re=Gl(b[w[O]],E[N[O]]);if(re!==0)return re}return en(w.length,N.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function c_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return en(r,e);const i=_o(r),s=_o(e),l=en(i.seconds,s.seconds);return l!==0?l:en(i.nanos,s.nanos)}function h_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Gl(i[l],s[l]);if(c)return c}return en(i.length,s.length)}function Yl(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=_o(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return bo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Km(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Km(i.fields[p])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function Oh(r){switch(wo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(r);return e?16+Oh(e):16;case 5:return 2*r.stringValue.length;case 6:return bo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Oh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Xo(s.fields,((c,p)=>{l+=c.length+Oh(p)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function f_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $m(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function d_(r){return!!r&&"nullValue"in r}function m_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kh(r){return!!r&&"mapValue"in r}function vx(r){return(r?.mapValue?.fields||{})[f1]?.stringValue===d1}function Xu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Xu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xu(r.arrayValue.values[i]);return e}return{...r}}function _x(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yx}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!kh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(i)}setAll(e){let i=$i.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Xu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());kh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];kh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Xo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new ys(Xu(this.value))}}function m1(r){const e=[];return Xo(r.fields,((i,s)=>{const l=new $i([i]);if(kh(s)){const c=m1(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new Ns(e)}class gr{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new gr(e,0,xt.min(),xt.min(),xt.min(),ys.empty(),0)}static newFoundDocument(e,i,s,l){return new gr(e,1,i,xt.min(),s,l,0)}static newNoDocument(e,i){return new gr(e,2,i,xt.min(),xt.min(),ys.empty(),0)}static newUnknownDocument(e,i){return new gr(e,3,i,xt.min(),xt.min(),ys.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,i){this.position=e,this.inclusive=i}}function p_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=yt.comparator(yt.fromName(p.referenceValue),i.key):s=Gl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function g_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ws(r.position[i],e.position[i]))return!1;return!0}class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function bx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class p1{}class vi extends p1{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Ex(e,i,s):i==="array-contains"?new Sx(e,s):i==="in"?new Cx(e,s):i==="not-in"?new xx(e,s):i==="array-contains-any"?new Rx(e,s):new vi(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Tx(e,s):new Ax(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Gl(i,this.value)):i!==null&&wo(this.value)===wo(i)&&this.matchesComparison(Gl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends p1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ds(e,i)}matches(e){return g1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(r){return r.op==="and"}function y1(r){return wx(r)&&g1(r)}function wx(r){for(const e of r.filters)if(e instanceof Ds)return!1;return!0}function Jm(r){if(r instanceof vi)return r.field.canonicalString()+r.op.toString()+Yl(r.value);if(y1(r))return r.filters.map((e=>Jm(e))).join(",");{const e=r.filters.map((i=>Jm(i))).join(",");return`${r.op}(${e})`}}function v1(r,e){return r instanceof vi?(function(s,l){return l instanceof vi&&s.op===l.op&&s.field.isEqual(l.field)&&Ws(s.value,l.value)})(r,e):r instanceof Ds?(function(s,l){return l instanceof Ds&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&v1(p,l.filters[b])),!0):!1})(r,e):void Et(19439)}function _1(r){return r instanceof vi?(function(i){return`${i.field.canonicalString()} ${i.op} ${Yl(i.value)}`})(r):r instanceof Ds?(function(i){return i.op.toString()+" {"+i.getFilters().map(_1).join(" ,")+"}"})(r):"Filter"}class Ex extends vi{constructor(e,i,s){super(e,i,s),this.key=yt.fromName(s.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Tx extends vi{constructor(e,i){super(e,"in",i),this.keys=b1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Ax extends vi{constructor(e,i){super(e,"not-in",i),this.keys=b1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function b1(r,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class Sx extends vi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ip(i)&&ic(i.arrayValue,this.value)}}class Cx extends vi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ic(this.value.arrayValue,i)}}class xx extends vi{constructor(e,i){super(e,"not-in",i)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ic(this.value.arrayValue,i)}}class Rx extends vi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ip(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ic(this.value.arrayValue,s)))}}class Ix{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function y_(r,e=null,i=[],s=[],l=null,c=null,p=null){return new Ix(r,e,i,s,l,c,p)}function Mp(r){const e=Ot(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Jm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ff(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Yl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Yl(s))).join(",")),e.Te=i}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!bx(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!v1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!g_(r.startAt,e.startAt)&&g_(r.endAt,e.endAt)}function Zm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class tu{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mx(r,e,i,s,l,c,p,b){return new tu(r,e,i,s,l,c,p,b)}function w1(r){return new tu(r)}function v_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E1(r){return r.collectionGroup!==null}function Qu(r){const e=Ot(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Ai($i.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new rc(c,s))})),i.has($i.keyField().canonicalString())||e.Ie.push(new rc($i.keyField(),s))}return e.Ie}function Gs(r){const e=Ot(r);return e.Ee||(e.Ee=Nx(e,Qu(r))),e.Ee}function Nx(r,e){if(r.limitType==="F")return y_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rc(l.field,c)}));const i=r.endAt?new Kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kh(r.startAt.position,r.startAt.inclusive):null;return y_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ep(r,e){const i=r.filters.concat([e]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function $h(r,e,i){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function mf(r,e){return Np(Gs(r),Gs(e))&&r.limitType===e.limitType}function T1(r){return`${Mp(Gs(r))}|lt:${r.limitType}`}function Rl(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>_1(l))).join(", ")}]`),ff(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Yl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Yl(l))).join(",")),`Target(${s})`})(Gs(r))}; limitType=${r.limitType})`}function pf(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):yt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Qu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=p_(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Qu(s),l)||s.endAt&&!(function(p,b,w){const E=p_(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Qu(s),l))})(r,e)}function Dx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function A1(r){return(e,i)=>{let s=!1;for(const l of Qu(r)){const c=Ox(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Ox(r,e,i){const s=r.field.isKeyField()?yt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Gl(w,E):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class Qo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}const kx=new ii(yt.comparator);function Ia(){return kx}const S1=new ii(yt.comparator);function Hu(...r){let e=S1;for(const i of r)e=e.insert(i.key,i);return e}function C1(r){let e=S1;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Bo(){return Wu()}function x1(){return Wu()}function Wu(){return new Qo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Vx=new ii(yt.comparator),Px=new Ai(yt.comparator);function tn(...r){let e=Px;for(const i of r)e=e.add(i);return e}const Lx=new Ai(en);function jx(){return Lx}function Dp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function R1(r){return{integerValue:""+r}}function Ux(r,e){return fx(e)?R1(e):Dp(r,e)}class gf{constructor(){this._=void 0}}function zx(r,e,i){return r instanceof Jh?(function(l,c){const p={fields:{[u1]:{stringValue:l1},[h1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rp(c)&&(c=df(c)),c&&(p.fields[c1]=c),{mapValue:p}})(i,e):r instanceof sc?M1(r,e):r instanceof ac?N1(r,e):(function(l,c){const p=I1(l,c),b=__(p)+__(l.Ae);return $m(p)&&$m(l.Ae)?R1(b):Dp(l.serializer,b)})(r,e)}function Bx(r,e,i){return r instanceof sc?M1(r,e):r instanceof ac?N1(r,e):i}function I1(r,e){return r instanceof Zh?(function(s){return $m(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Jh extends gf{}class sc extends gf{constructor(e){super(),this.elements=e}}function M1(r,e){const i=D1(e);for(const s of r.elements)i.some((l=>Ws(l,s)))||i.push(s);return{arrayValue:{values:i}}}class ac extends gf{constructor(e){super(),this.elements=e}}function N1(r,e){let i=D1(e);for(const s of r.elements)i=i.filter((l=>!Ws(l,s)));return{arrayValue:{values:i}}}class Zh extends gf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function __(r){return hi(r.integerValue||r.doubleValue)}function D1(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Fx(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof sc&&l instanceof sc||s instanceof ac&&l instanceof ac?ql(s.elements,l.elements,Ws):s instanceof Zh&&l instanceof Zh?Ws(s.Ae,l.Ae):s instanceof Jh&&l instanceof Jh})(r.transform,e.transform)}class Hx{constructor(e,i){this.version=e,this.transformResults=i}}class Ta{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ta}static exists(e){return new Ta(void 0,e)}static updateTime(e){return new Ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yf{}function O1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new V1(r.key,Ta.none()):new pc(r.key,r.data,Ta.none());{const i=r.data,s=ys.empty();let l=new Ai($i.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Wo(r.key,s,new Ns(l.toArray()),Ta.none())}}function qx(r,e,i){r instanceof pc?(function(l,c,p){const b=l.value.clone(),w=w_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Wo?(function(l,c,p){if(!Vh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=w_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(k1(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Ku(r,e,i,s){return r instanceof pc?(function(c,p,b,w){if(!Vh(c.precondition,p))return b;const E=c.value.clone(),N=E_(c.fieldTransforms,w,p);return E.setAll(N),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Wo?(function(c,p,b,w){if(!Vh(c.precondition,p))return b;const E=E_(c.fieldTransforms,w,p),N=p.data;return N.setAll(k1(c)),N.setAll(E),p.convertToFoundDocument(p.version,N).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(r,e,i,s):(function(c,p,b){return Vh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function Gx(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=I1(s.transform,l||null);c!=null&&(i===null&&(i=ys.empty()),i.set(s.field,c))}return i||null}function b_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ql(s,l,((c,p)=>Fx(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pc extends yf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wo extends yf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function k1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function w_(r,e,i){const s=new Map;An(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,Bx(p,b,i[l]))}return s}function E_(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,zx(c,p,e))}return s}class V1 extends yf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends yf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xx{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&qx(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ku(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ku(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=x1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=O1(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(xt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),tn())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((i,s)=>b_(i,s)))&&ql(this.baseMutations,e.baseMutations,((i,s)=>b_(i,s)))}}class Op{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){An(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return Vx})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new Op(e,i,s,l)}}class Qx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Wx{constructor(e,i){this.count=e,this.unchangedNames=i}}var yi,on;function Kx(r){switch(r){case xe.OK:return Et(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function P1(r){if(r===void 0)return Ra("GRPC error has no .code"),xe.UNKNOWN;switch(r){case yi.OK:return xe.OK;case yi.CANCELLED:return xe.CANCELLED;case yi.UNKNOWN:return xe.UNKNOWN;case yi.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case yi.INTERNAL:return xe.INTERNAL;case yi.UNAVAILABLE:return xe.UNAVAILABLE;case yi.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case yi.NOT_FOUND:return xe.NOT_FOUND;case yi.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case yi.ABORTED:return xe.ABORTED;case yi.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case yi.DATA_LOSS:return xe.DATA_LOSS;default:return Et(39323,{code:r})}}(on=yi||(yi={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";function $x(){return new TextEncoder}const Jx=new po([4294967295,4294967295],0);function T_(r){const e=$x().encode(r),i=new Wb;return i.update(e),new Uint8Array(i.digest())}function A_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new po([i,s],0),new po([l,c],0)]}class kp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new qu(`Invalid padding: ${i}`);if(s<0)throw new qu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new qu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new qu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=po.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(po.fromNumber(s)));return l.compare(Jx)===1&&(l=new po([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=T_(e),[s,l]=A_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new kp(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=T_(e),[s,l]=A_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new vf(xt.min(),l,new ii(en),Ia(),tn())}}class gc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new gc(s,i,tn(),tn(),tn())}}class Ph{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class L1{constructor(e,i){this.targetId=e,this.Ce=i}}class j1{constructor(e,i,s=Ji.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class S_{constructor(){this.ve=0,this.Fe=C_(),this.Me=Ji.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tn(),i=tn(),s=tn();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Et(38017,{changeType:c})}})),new gc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=C_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,An(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ia(),this.Je=Ah(),this.He=Ah(),this.Ye=new ii(en)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Zm(c))if(s===0){const p=new yt(c.path);this.et(i,p,gr.newNoDocument(p,xt.min()))}else An(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=bo(s).toUint8Array()}catch(w){if(w instanceof o1)return Hl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new kp(p,l,c)}catch(w){return Hl(w instanceof qu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Zm(b.target)){const w=new yt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,gr.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=tn();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new vf(e,i,this.Ye,this.je,s);return this.je=Ia(),this.Je=Ah(),this.He=Ah(),this.Ye=new ii(en),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new S_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ai(en),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ai(en),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ah(){return new ii(yt.comparator)}function C_(){return new ii(yt.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nR={and:"AND",or:"OR"};class iR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function tp(r,e){return r.useProto3Json||ff(e)?e:{value:e}}function ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rR(r,e){return ef(r,e.toTimestamp())}function Ys(r){return An(!!r,49232),xt.fromTimestamp((function(i){const s=_o(i);return new Qn(s.seconds,s.nanos)})(r))}function Vp(r,e){return np(r,e).canonicalString()}function np(r,e){const i=(function(l){return new zn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function z1(r){const e=zn.fromString(r);return An(G1(e),10190,{key:e.toString()}),e}function ip(r,e){return Vp(r.databaseId,e.path)}function Mm(r,e){const i=z1(e);if(i.get(1)!==r.databaseId.projectId)throw new Ze(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new Ze(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(F1(i))}function B1(r,e){return Vp(r.databaseId,e)}function sR(r){const e=z1(r);return e.length===4?zn.emptyPath():F1(e)}function rp(r){return new zn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function F1(r){return An(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x_(r,e,i){return{name:ip(r,e),fields:i.value.mapValue.fields}}function aR(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Et(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,N){return E.useProto3Json?(An(N===void 0||typeof N=="string",58123),Ji.fromBase64String(N||"")):(An(N===void 0||N instanceof Buffer||N instanceof Uint8Array,16193),Ji.fromUint8Array(N||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const N=E.code===void 0?xe.UNKNOWN:P1(E.code);return new Ze(N,E.message||"")})(p);i=new j1(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Mm(r,s.document.name),c=Ys(s.document.updateTime),p=s.document.createTime?Ys(s.document.createTime):xt.min(),b=new ys({mapValue:{fields:s.document.fields}}),w=gr.newFoundDocument(l,c,p,b),E=s.targetIds||[],N=s.removedTargetIds||[];i=new Ph(E,N,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Mm(r,s.document),c=s.readTime?Ys(s.readTime):xt.min(),p=gr.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Ph([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Mm(r,s.document),c=s.removedTargetIds||[];i=new Ph([],c,l,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new Wx(l,c),b=s.targetId;i=new L1(b,p)}}return i}function oR(r,e){let i;if(e instanceof pc)i={update:x_(r,e.key,e.value)};else if(e instanceof V1)i={delete:ip(r,e.key)};else if(e instanceof Wo)i={update:x_(r,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof Yx))return Et(16599,{Vt:e.type});i={verify:ip(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Jh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof sc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ac)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Zh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Et(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:rR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,e.precondition)),i}function lR(r,e){return r&&r.length>0?(An(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?Ys(l.updateTime):Ys(c);return p.isEqual(xt.min())&&(p=Ys(c)),new Hx(p,l.transformResults||[])})(i,e)))):[]}function uR(r,e){return{documents:[B1(r,e.path)]}}function cR(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=B1(r,l);const c=(function(E){if(E.length!==0)return q1(Ds.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((N=>(function(G){return{field:Il(G.field),direction:dR(G.dir)}})(N)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=tp(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function hR(r){let e=sR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){An(s===1,65062);const N=i.from[0];N.allDescendants?l=N.collectionId:e=e.child(N.collectionId)}let c=[];i.where&&(c=(function(O){const G=H1(O);return G instanceof Ds&&y1(G)?G.getFilters():[G]})(i.where));let p=[];i.orderBy&&(p=(function(O){return O.map((G=>(function(z){return new rc(Ml(z.field),(function(Se){switch(Se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(G)))})(i.orderBy));let b=null;i.limit&&(b=(function(O){let G;return G=typeof O=="object"?O.value:O,ff(G)?null:G})(i.limit));let w=null;i.startAt&&(w=(function(O){const G=!!O.before,re=O.values||[];return new Kh(re,G)})(i.startAt));let E=null;return i.endAt&&(E=(function(O){const G=!O.before,re=O.values||[];return new Kh(re,G)})(i.endAt)),Mx(e,l,p,c,b,"F",w,E)}function fR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function H1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ml(i.unaryFilter.field);return vi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return vi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return vi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return vi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return vi.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ds.create(i.compositeFilter.filters.map((s=>H1(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function dR(r){return eR[r]}function mR(r){return tR[r]}function pR(r){return nR[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Ml(r){return $i.fromServerFormat(r.fieldPath)}function q1(r){return r instanceof vi?(function(i){if(i.op==="=="){if(m_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(d_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(m_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(d_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:mR(i.op),value:i.value}}})(r):r instanceof Ds?(function(i){const s=i.getFilters().map((l=>q1(l)));return s.length===1?s[0]:{compositeFilter:{op:pR(i.op),filters:s}}})(r):Et(54877,{filter:r})}function gR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function G1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class co{constructor(e,i,s,l,c=xt.min(),p=xt.min(),b=Ji.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yR{constructor(e){this.yt=e}}function vR(r){const e=hR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$h(e,e.limit,"L"):e}class _R{constructor(){this.Cn=new bR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Ie.resolve()}getCollectionParents(e,i){return Ie.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Ie.resolve()}deleteFieldIndex(e,i){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,i){return Ie.resolve()}getDocumentsMatchingTarget(e,i){return Ie.resolve(null)}getIndexType(e,i){return Ie.resolve(0)}getFieldIndexes(e,i){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,i){return Ie.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,i){return Ie.resolve(vo.min())}updateCollectionGroup(e,i,s){return Ie.resolve()}updateIndexEntries(e,i){return Ie.resolve()}}class bR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Ai(zn.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ai(zn.comparator)).toArray()}}const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y1=41943040;class Br{static withCacheSize(e){return new Br(e,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(Y1,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);class Xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xl(0)}static cr(){return new Xl(-1)}}const I_="LruGarbageCollector",wR=1048576;function M_([r,e],[i,s]){const l=en(r,i);return l===0?en(e,s):l}class ER{constructor(e){this.Ir=e,this.buffer=new Ai(M_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();M_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eu(i)?st(I_,"Ignoring IndexedDB error during garbage collection: ",i):await Zl(i)}await this.Vr(3e5)}))}}class AR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Ie.resolve(hf.ce);const s=new ER(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(R_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(s=O,b=Date.now(),this.removeTargets(e,s,i)))).next((O=>(c=O,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((O=>(E=Date.now(),xl()<=Zt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-N}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${O} documents in `+(E-w)+`ms
Total Duration: ${E-N}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function SR(r,e){return new AR(r,e)}class CR{constructor(){this.changes=new Qo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Ie.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class RR{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Ku(s.mutation,l,Ns.empty(),Qn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,tn()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=tn()){const l=Bo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=Hu();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=Bo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,tn())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=Ia();const p=Wu(),b=(function(){return Wu()})();return i.forEach(((w,E)=>{const N=s.get(E.key);l.has(E.key)&&(N===void 0||N.mutation instanceof Wo)?c=c.insert(E.key,E):N!==void 0?(p.set(E.key,N.mutation.getFieldMask()),Ku(N.mutation,E,N.mutation.getFieldMask(),Qn.now())):p.set(E.key,Ns.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,N)=>p.set(E,N))),i.forEach(((E,N)=>b.set(E,new xR(N,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Wu();let l=new ii(((p,b)=>p-b)),c=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let N=s.get(w)||Ns.empty();N=b.applyToLocalView(E,N),s.set(w,N);const O=(l.get(b.batchId)||tn()).add(w);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,N=w.value,O=x1();N.forEach((G=>{if(!c.has(G)){const re=O1(i.get(G),s.get(G));re!==null&&O.set(G,re),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,O))}return Ie.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return yt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):E1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Ie.resolve(Bo());let b=ec,w=c;return p.next((E=>Ie.forEach(E,((N,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(N)?Ie.resolve():this.remoteDocumentCache.getEntry(e,N).next((G=>{w=w.insert(N,G)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,tn()))).next((N=>({batchId:b,changes:C1(N)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((s=>{let l=Hu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=Hu();return this.indexManager.getCollectionParents(e,c).next((b=>Ie.forEach(b,(w=>{const E=(function(O,G){return new tu(G,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((N=>{N.forEach(((O,G)=>{p=p.insert(O,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const N=E.getKey();p.get(N)===null&&(p=p.insert(N,gr.newInvalidDocument(N)))}));let b=Hu();return p.forEach(((w,E)=>{const N=c.get(w);N!==void 0&&Ku(N.mutation,E,Ns.empty(),Qn.now()),pf(i,E)&&(b=b.insert(w,E))})),b}))}}class IR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Ie.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ys(l.createTime)}})(i)),Ie.resolve()}getNamedQuery(e,i){return Ie.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vR(l.bundledQuery),readTime:Ys(l.readTime)}})(i)),Ie.resolve()}}class MR{constructor(){this.overlays=new ii(yt.comparator),this.qr=new Map}getOverlay(e,i){return Ie.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Bo();return Ie.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Ie.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Ie.resolve()}getOverlaysForCollection(e,i,s){const l=Bo(),c=i.length+1,p=new yt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Ie.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ii(((E,N)=>E-N));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let N=c.get(E.largestBatchId);N===null&&(N=Bo(),c=c.insert(E.largestBatchId,N)),N.set(E.getKey(),E)}}const b=Bo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,N)=>b.set(E,N))),!(b.size()>=l)););return Ie.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Qx(i,s));let c=this.qr.get(i);c===void 0&&(c=tn(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class NR{constructor(){this.sessionToken=Ji.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Ie.resolve()}}class Pp{constructor(){this.Qr=new Ai(Ii.$r),this.Ur=new Ai(Ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ii(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ii(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new yt(new zn([])),s=new Ii(i,e),l=new Ii(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new zn([])),s=new Ii(i,e),l=new Ii(i,e+1);let c=tn();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Ii(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ii{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||en(e.Yr,i.Yr)}static Kr(e,i){return en(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}class DR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ai(Ii.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Xx(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Ii(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ie.resolve(p)}lookupMutationBatch(e,i){return Ie.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ii(i,0),l=new Ii(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ai(en);return i.forEach((l=>{const c=new Ii(l,0),p=new Ii(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;yt.isDocumentKey(c)||(c=c.child(""));const p=new Ii(new yt(c),0);let b=new Ai(en);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Ie.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){An(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ie.forEach(i.mutations,(l=>{const c=new Ii(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ii(i,0),l=this.Zr.firstAfterOrEqual(s);return Ie.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OR{constructor(e){this.ri=e,this.docs=(function(){return new ii(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Ie.resolve(s?s.document.mutableCopy():gr.newInvalidDocument(i))}getEntries(e,i){let s=Ia();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():gr.newInvalidDocument(l))})),Ie.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=Ia();const p=i.path,b=new yt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:N}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||lx(ox(N),s)<=0||(l.has(N.key)||pf(i,N))&&(c=c.insert(N.key,N.mutableCopy()))}return Ie.resolve(c)}getAllFromCollectionGroup(e,i,s,l){Et(9500)}ii(e,i){return Ie.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new kR(this)}getSize(e){return Ie.resolve(this.size)}}class kR extends CR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ie.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class VR{constructor(e){this.persistence=e,this.si=new Qo((i=>Mp(i)),Np),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=Xl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Ie.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Xl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Ie.resolve()}updateTargetData(e,i){return this.Pr(i),Ie.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Ie.waitFor(c).next((()=>l))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Ie.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Ie.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Ie.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Ie.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Ie.resolve(s)}containsKey(e,i){return Ie.resolve(this._i.containsKey(i))}}class X1{constructor(e,i){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new NR,this.referenceDelegate=e(this),this.Pi=new VR(this),this.indexManager=new _R,this.remoteDocumentCache=(function(l){return new OR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new yR(i),this.Ii=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new MR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new DR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const l=new PR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class PR extends cx{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Ie.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Ie.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Ie.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(s=>{const l=yt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,xt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tf{constructor(e,i){this.persistence=e,this.pi=new Qo((s=>dx(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=SR(this,i)}static mi(e,i){return new tf(e,i)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Ie.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Ie.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,xt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Ie.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oh(e.data.value)),i}br(e,i,s){return Ie.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=tn(),l=tn();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jp(e,i.fromCache,s,l)}}class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CA()?8:hx(yr())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new LR;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(xl()<=Zt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(xl()<=Zt.DEBUG&&st("QueryEngine","Query:",Rl(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(xl()<=Zt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(i))):Ie.resolve())}ys(e,i){if(v_(i))return Ie.resolve(null);let s=Gs(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$h(i,null,"F"),s=Gs(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=tn(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,$h(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return v_(i)||l.isEqual(xt.min())?Ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Ie.resolve(null):(xl()<=Zt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Rl(i)),this.vs(e,p,i,ax(l,ec)).next((b=>b)))}))}Ds(e,i){let s=new Ai(A1(e));return i.forEach(((l,c)=>{pf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return xl()<=Zt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Rl(i)),this.ps.getDocumentsMatchingQuery(e,i,vo.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Up="LocalStore",UR=3e8;class zR{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ii(en),this.xs=new Qo((c=>Mp(c)),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function BR(r,e,i,s){return new zR(r,e,i,s)}async function Q1(r,e){const i=Ot(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=tn();for(const E of l){p.push(E.batchId);for(const N of E.mutations)w=w.add(N.key)}for(const E of c){b.push(E.batchId);for(const N of E.mutations)w=w.add(N.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function FR(r,e){const i=Ot(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,N){const O=E.batch,G=O.keys();let re=Ie.resolve();return G.forEach((z=>{re=re.next((()=>N.getEntry(w,z))).next((ke=>{const Se=E.docVersions.get(z);An(Se!==null,48541),ke.version.compareTo(Se)<0&&(O.applyToRemoteDocument(ke,E),ke.isValidDocument()&&(ke.setReadTime(E.commitVersion),N.addEntry(ke)))}))})),re.next((()=>b.mutationQueue.removeMutationBatch(w,O)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=tn();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function W1(r){const e=Ot(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function HR(r,e){const i=Ot(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((N,O)=>{const G=l.get(O);if(!G)return;b.push(i.Pi.removeMatchingKeys(c,N.removedDocuments,O).next((()=>i.Pi.addMatchingKeys(c,N.addedDocuments,O))));let re=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?re=re.withResumeToken(Ji.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):N.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(N.resumeToken,s)),l=l.insert(O,re),(function(ke,Se,Ue){return ke.resumeToken.approximateByteSize()===0||Se.snapshotVersion.toMicroseconds()-ke.snapshotVersion.toMicroseconds()>=UR?!0:Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0})(G,re,N)&&b.push(i.Pi.updateTargetData(c,re))}));let w=Ia(),E=tn();if(e.documentUpdates.forEach((N=>{e.resolvedLimboDocuments.has(N)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,N))})),b.push(qR(c,p,e.documentUpdates).next((N=>{w=N.ks,E=N.qs}))),!s.isEqual(xt.min())){const N=i.Pi.getLastRemoteSnapshotVersion(c).next((O=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(N)}return Ie.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function qR(r,e,i){let s=tn(),l=tn();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=Ia();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(xt.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):st(Up,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function GR(r,e){const i=Ot(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function YR(r,e){const i=Ot(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Ie.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new co(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function sp(r,e,i){const s=Ot(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!eu(p))throw p;st(Up,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function N_(r,e,i){const s=Ot(r);let l=xt.min(),c=tn();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,N){const O=Ot(w),G=O.xs.get(N);return G!==void 0?Ie.resolve(O.Ms.get(G)):O.Pi.getTargetData(E,N)})(s,p,Gs(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:xt.min(),i?c:tn()))).next((b=>(XR(s,Dx(e),b),{documents:b,Qs:c})))))}function XR(r,e,i){let s=r.Os.get(e)||xt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class D_{constructor(){this.activeTargetIds=jx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QR{constructor(){this.Mo=new D_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WR{Oo(e){}shutdown(){}}const O_="ConnectivityMonitor";class k_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(O_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(O_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function ap(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const Nm="RestConnection",KR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Qh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=ap(),b=this.zo(e,i.toUriEncodedString());st(Nm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),N=Wl(E);return this.Jo(e,b,w,s,N).then((O=>(st(Nm,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw Hl(Nm,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",s),O}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=KR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class JR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const mr="WebChannelConnection";class ZR extends $R{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=ap();return new Promise(((b,w)=>{const E=new Kb;E.setWithCredentials(!0),E.listenOnce($b.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Dh.NO_ERROR:const O=E.getResponseJson();st(mr,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case Dh.TIMEOUT:st(mr,`RPC '${e}' ${p} timed out`),w(new Ze(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const G=E.getStatus();if(st(mr,`RPC '${e}' ${p} failed with status:`,G,"response text:",E.getResponseText()),G>0){let re=E.getResponseJson();Array.isArray(re)&&(re=re[0]);const z=re?.error;if(z&&z.status&&z.message){const ke=(function(Ue){const B=Ue.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(B)>=0?B:xe.UNKNOWN})(z.status);w(new Ze(ke,z.message))}else w(new Ze(xe.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new Ze(xe.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{st(mr,`RPC '${e}' ${p} completed.`)}}));const N=JSON.stringify(l);st(mr,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",N,s,15)}))}T_(e,i,s){const l=ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=e1(),b=Zb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const N=c.join("");st(mr,`Creating RPC '${e}' stream ${l}: ${N}`,w);const O=p.createWebChannel(N,w);this.I_(O);let G=!1,re=!1;const z=new JR({Yo:Se=>{re?st(mr,`Not sending because RPC '${e}' stream ${l} is closed:`,Se):(G||(st(mr,`Opening RPC '${e}' stream ${l} transport.`),O.open(),G=!0),st(mr,`RPC '${e}' stream ${l} sending:`,Se),O.send(Se))},Zo:()=>O.close()}),ke=(Se,Ue,B)=>{Se.listen(Ue,(Pe=>{try{B(Pe)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return ke(O,Fu.EventType.OPEN,(()=>{re||(st(mr,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),ke(O,Fu.EventType.CLOSE,(()=>{re||(re=!0,st(mr,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(O))})),ke(O,Fu.EventType.ERROR,(Se=>{re||(re=!0,Hl(mr,`RPC '${e}' stream ${l} transport errored. Name:`,Se.name,"Message:",Se.message),z.a_(new Ze(xe.UNAVAILABLE,"The operation could not be completed")))})),ke(O,Fu.EventType.MESSAGE,(Se=>{if(!re){const Ue=Se.data[0];An(!!Ue,16349);const B=Ue,Pe=B?.error||B[0]?.error;if(Pe){st(mr,`RPC '${e}' stream ${l} received error:`,Pe);const tt=Pe.status;let nt=(function(F){const P=yi[F];if(P!==void 0)return P1(P)})(tt),lt=Pe.message;nt===void 0&&(nt=xe.INTERNAL,lt="Unknown error status: "+tt+" with message "+Pe.message),re=!0,z.a_(new Ze(nt,lt)),O.close()}else st(mr,`RPC '${e}' stream ${l} received:`,Ue),z.u_(Ue)}})),ke(b,Jb.STAT_EVENT,(Se=>{Se.stat===Qm.PROXY?st(mr,`RPC '${e}' stream ${l} detected buffering proxy`):Se.stat===Qm.NOPROXY&&st(mr,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Dm(){return typeof document<"u"?document:null}function _f(r){return new iR(r,!0)}class K1{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const V_="PersistentStream";class $1{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===xe.RESOURCE_EXHAUSTED?(Ra(i.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new Ze(xe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eI extends $1{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=aR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return xt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?xt.min():p.readTime?Ys(p.readTime):xt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=rp(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Zm(w)?{documents:uR(c,w)}:{query:cR(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=U1(c,p.resumeToken);const E=tp(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(xt.min())>0){b.readTime=ef(c,p.snapshotVersion.toTimestamp());const E=tp(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=fR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=rp(this.serializer),i.removeTarget=e,this.q_(i)}}class tI extends $1{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return An(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,An(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){An(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=lR(e.writeResults,e.commitTime),s=Ys(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=rp(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>oR(this.serializer,s)))};this.q_(i)}}class nI{}class iI extends nI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ze(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,np(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(xe.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,np(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ze(xe.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ra(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class sI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Ko(this)&&(st(Yo,"Restarting streams for network reachability change."),await(async function(w){const E=Ot(w);E.Ea.add(4),await yc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await bf(E)})(this))}))})),this.Ra=new rI(s,l)}}async function bf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function yc(r){for(const e of r.da)await e(!1)}function J1(r,e){const i=Ot(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Hp(i)?Fp(i):nu(i).O_()&&Bp(i,e))}function zp(r,e){const i=Ot(r),s=nu(i);i.Ia.delete(e),s.O_()&&Z1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ko(i)&&i.Ra.set("Unknown"))}function Bp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}nu(r).Y_(e)}function Z1(r,e){r.Va.Ue(e),nu(r).Z_(e)}function Fp(r){r.Va=new Zx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),nu(r).start(),r.Ra.ua()}function Hp(r){return Ko(r)&&!nu(r).x_()&&r.Ia.size>0}function Ko(r){return Ot(r).Ea.size===0}function ew(r){r.Va=void 0}async function aI(r){r.Ra.set("Online")}async function oI(r){r.Ia.forEach(((e,i)=>{Bp(r,e)}))}async function lI(r,e){ew(r),Hp(r)?(r.Ra.ha(e),Fp(r)):r.Ra.set("Unknown")}async function uI(r,e,i){if(r.Ra.set("Online"),e instanceof j1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){st(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nf(r,s)}else if(e instanceof Ph?r.Va.Ze(e):e instanceof L1?r.Va.st(e):r.Va.tt(e),!i.isEqual(xt.min()))try{const s=await W1(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const N=c.Ia.get(E);N&&c.Ia.set(E,N.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const N=c.Ia.get(w);if(!N)return;c.Ia.set(w,N.withResumeToken(Ji.EMPTY_BYTE_STRING,N.snapshotVersion)),Z1(c,w);const O=new co(N.target,w,E,N.sequenceNumber);Bp(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){st(Yo,"Failed to raise snapshot:",s),await nf(r,s)}}async function nf(r,e,i){if(!eu(e))throw e;r.Ea.add(1),await yc(r),r.Ra.set("Offline"),i||(i=()=>W1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Yo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bf(r)}))}function tw(r,e){return e().catch((i=>nf(r,i,e)))}async function wf(r){const e=Ot(r),i=Eo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;cI(e);)try{const l=await GR(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,hI(e,l)}catch(l){await nf(e,l)}nw(e)&&iw(e)}function cI(r){return Ko(r)&&r.Ta.length<10}function hI(r,e){r.Ta.push(e);const i=Eo(r);i.O_()&&i.X_&&i.ea(e.mutations)}function nw(r){return Ko(r)&&!Eo(r).x_()&&r.Ta.length>0}function iw(r){Eo(r).start()}async function fI(r){Eo(r).ra()}async function dI(r){const e=Eo(r);for(const i of r.Ta)e.ea(i.mutations)}async function mI(r,e,i){const s=r.Ta.shift(),l=Op.from(s,e,i);await tw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await wf(r)}async function pI(r,e){e&&Eo(r).X_&&await(async function(s,l){if((function(p){return Kx(p)&&p!==xe.ABORTED})(l.code)){const c=s.Ta.shift();Eo(s).B_(),await tw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wf(s)}})(r,e),nw(r)&&iw(r)}async function P_(r,e){const i=Ot(r);i.asyncQueue.verifyOperationInProgress(),st(Yo,"RemoteStore received new credentials");const s=Ko(i);i.Ea.add(3),await yc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bf(i)}async function gI(r,e){const i=Ot(r);e?(i.Ea.delete(2),await bf(i)):e||(i.Ea.add(2),await yc(i),i.Ra.set("Unknown"))}function nu(r){return r.ma||(r.ma=(function(i,s,l){const c=Ot(i);return c.sa(),new eI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:aI.bind(null,r),t_:oI.bind(null,r),r_:lI.bind(null,r),H_:uI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hp(r)?Fp(r):r.Ra.set("Unknown")):(await r.ma.stop(),ew(r))}))),r.ma}function Eo(r){return r.fa||(r.fa=(function(i,s,l){const c=Ot(i);return c.sa(),new tI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fI.bind(null,r),r_:pI.bind(null,r),ta:dI.bind(null,r),na:mI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await wf(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new qp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(Ra("AsyncQueue",`${e}: ${r}`),eu(r))return new Ze(xe.UNAVAILABLE,`${e}: ${r}`);throw r}class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||yt.comparator(i.key,s.key):(i,s)=>yt.comparator(i.key,s.key),this.keyedMap=Hu(),this.sortedSet=new ii(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class L_{constructor(){this.ga=new ii(yt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ql{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Ql(e,i,Ul.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class yI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vI{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ot(i),c=l.queries;l.queries=j_(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new Ze(xe.ABORTED,"Firestore shutting down"))}}function j_(){return new Qo((r=>T1(r)),mf)}async function _I(r,e){const i=Ot(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new yI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Gp(p,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Yp(i)}async function bI(r,e){const i=Ot(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function wI(r,e){const i=Ot(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Yp(i)}function EI(r,e,i){const s=Ot(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Yp(r){r.Ca.forEach((e=>{e.next()}))}var op,U_;(U_=op||(op={})).Ma="default",U_.Cache="cache";class TI{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ql(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}class rw{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class AI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tn(),this.mutatedKeys=tn(),this.eu=A1(e),this.tu=new Ul(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new L_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((N,O)=>{const G=l.get(N),re=pf(this.query,O)?O:null,z=!!G&&this.mutatedKeys.has(G.key),ke=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Se=!1;G&&re?G.data.isEqual(re.data)?z!==ke&&(s.track({type:3,doc:re}),Se=!0):this.su(G,re)||(s.track({type:2,doc:re}),Se=!0,(w&&this.eu(re,w)>0||E&&this.eu(re,E)<0)&&(b=!0)):!G&&re?(s.track({type:0,doc:re}),Se=!0):G&&!re&&(s.track({type:1,doc:G}),Se=!0,(w||E)&&(b=!0)),Se&&(re?(p=p.add(re),c=ke?c.add(N):c.delete(N)):(p=p.delete(N),c=c.delete(N)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const N=this.query.limitType==="F"?p.last():p.first();p=p.delete(N.key),c=c.delete(N.key),s.track({type:1,doc:N})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((N,O)=>(function(re,z){const ke=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:Se})}};return ke(re)-ke(z)})(N.type,O.type)||this.eu(N.doc,O.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Ql(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tn(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new sw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new rw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=tn();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class SI{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class CI{constructor(e){this.key=e,this.hu=!1}}class xI{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Qo((b=>T1(b)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new ii(yt.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=Xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RI(r,e,i=!0){const s=hw(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await aw(s,e,i,!0),l}async function II(r,e){const i=hw(r);await aw(i,e,!0,!1)}async function aw(r,e,i,s){const l=await YR(r.localStore,Gs(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await MI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&J1(r.remoteStore,l),b}async function MI(r,e,i,s,l){r.pu=(O,G,re)=>(async function(ke,Se,Ue,B){let Pe=Se.view.ru(Ue);Pe.Cs&&(Pe=await N_(ke.localStore,Se.query,!1).then((({documents:Y})=>Se.view.ru(Y,Pe))));const tt=B&&B.targetChanges.get(Se.targetId),nt=B&&B.targetMismatches.get(Se.targetId)!=null,lt=Se.view.applyChanges(Pe,ke.isPrimaryClient,tt,nt);return B_(ke,Se.targetId,lt.au),lt.snapshot})(r,O,G,re);const c=await N_(r.localStore,e,!0),p=new AI(e,c.Qs),b=p.ru(c.documents),w=gc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);B_(r,i,E.au);const N=new SI(e,i,p);return r.Tu.set(e,N),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function NI(r,e,i){const s=Ot(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!mf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await sp(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&zp(s.remoteStore,l.targetId),lp(s,l.targetId)})).catch(Zl)):(lp(s,l.targetId),await sp(s.localStore,l.targetId,!0))}async function DI(r,e){const i=Ot(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zp(i.remoteStore,s.targetId))}async function OI(r,e,i){const s=zI(r);try{const l=await(function(p,b){const w=Ot(p),E=Qn.now(),N=b.reduce(((re,z)=>re.add(z.key)),tn());let O,G;return w.persistence.runTransaction("Locally write mutations","readwrite",(re=>{let z=Ia(),ke=tn();return w.Ns.getEntries(re,N).next((Se=>{z=Se,z.forEach(((Ue,B)=>{B.isValidDocument()||(ke=ke.add(Ue))}))})).next((()=>w.localDocuments.getOverlayedDocuments(re,z))).next((Se=>{O=Se;const Ue=[];for(const B of b){const Pe=Gx(B,O.get(B.key).overlayedDocument);Pe!=null&&Ue.push(new Wo(B.key,Pe,m1(Pe.value.mapValue),Ta.exists(!0)))}return w.mutationQueue.addMutationBatch(re,E,Ue,b)})).next((Se=>{G=Se;const Ue=Se.applyToLocalDocumentSet(O,ke);return w.documentOverlayCache.saveOverlays(re,Se.batchId,Ue)}))})).then((()=>({batchId:G.batchId,changes:C1(O)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new ii(en)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await vc(s,l.changes),await wf(s.remoteStore)}catch(l){const c=Gp(l,"Failed to persist write");i.reject(c)}}async function ow(r,e){const i=Ot(r);try{const s=await HR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(An(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?An(p.hu,14607):l.removedDocuments.size>0&&(An(p.hu,42227),p.hu=!1))})),await vc(i,s,e)}catch(s){await Zl(s)}}function z_(r,e,i){const s=Ot(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Ot(p);w.onlineState=b;let E=!1;w.queries.forEach(((N,O)=>{for(const G of O.Sa)G.va(b)&&(E=!0)})),E&&Yp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kI(r,e,i){const s=Ot(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new ii(yt.comparator);p=p.insert(c,gr.newNoDocument(c,xt.min()));const b=tn().add(c),w=new vf(xt.min(),new Map,new ii(en),p,b);await ow(s,w),s.du=s.du.remove(c),s.Au.delete(e),Qp(s)}else await sp(s.localStore,e,!1).then((()=>lp(s,e,i))).catch(Zl)}async function VI(r,e){const i=Ot(r),s=e.batch.batchId;try{const l=await FR(i.localStore,e);uw(i,s,null),lw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await vc(i,l)}catch(l){await Zl(l)}}async function PI(r,e,i){const s=Ot(r);try{const l=await(function(p,b){const w=Ot(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let N;return w.mutationQueue.lookupMutationBatch(E,b).next((O=>(An(O!==null,37113),N=O.keys(),w.mutationQueue.removeMutationBatch(E,O)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,N,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,N))).next((()=>w.localDocuments.getDocuments(E,N)))}))})(s.localStore,e);uw(s,e,i),lw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await vc(s,l)}catch(l){await Zl(l)}}function lw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function uw(r,e,i){const s=Ot(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function lp(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||cw(r,s)}))}function cw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(zp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Qp(r))}function B_(r,e,i){for(const s of i)s instanceof rw?(r.Ru.addReference(s.key,e),LI(r,s)):s instanceof sw?(st(Xp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||cw(r,s.key)):Et(19791,{wu:s})}function LI(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(st(Xp,"New document in limbo: "+i),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new yt(zn.fromString(e)),s=r.fu.next();r.Au.set(s,new CI(i)),r.du=r.du.insert(i,s),J1(r.remoteStore,new co(Gs(w1(i.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function vc(r,e,i){const s=Ot(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const N=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,N?"current":"not-current")}if(E){l.push(E);const N=jp.As(w.targetId,E);c.push(N)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const N=Ot(w);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>Ie.forEach(E,(G=>Ie.forEach(G.Es,(re=>N.persistence.referenceDelegate.addReference(O,G.targetId,re))).next((()=>Ie.forEach(G.ds,(re=>N.persistence.referenceDelegate.removeReference(O,G.targetId,re)))))))))}catch(O){if(!eu(O))throw O;st(Up,"Failed to update sequence numbers: "+O)}for(const O of E){const G=O.targetId;if(!O.fromCache){const re=N.Ms.get(G),z=re.snapshotVersion,ke=re.withLastLimboFreeSnapshotVersion(z);N.Ms=N.Ms.insert(G,ke)}}})(s.localStore,c))}async function jI(r,e){const i=Ot(r);if(!i.currentUser.isEqual(e)){st(Xp,"User change. New user:",e.toKey());const s=await Q1(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new Ze(xe.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vc(i,s.Ls)}}function UI(r,e){const i=Ot(r),s=i.Au.get(e);if(s&&s.hu)return tn().add(s.key);{let l=tn();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function hw(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kI.bind(null,e),e.Pu.H_=wI.bind(null,e.eventManager),e.Pu.yu=EI.bind(null,e.eventManager),e}function zI(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PI.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return BR(this.persistence,new jR,e.initialUser,this.serializer)}Cu(e){return new X1(Lp.mi,this.serializer)}Du(e){return new QR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class BI extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){An(this.persistence.referenceDelegate instanceof tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new TR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new X1((s=>tf.mi(s,i)),this.serializer)}}class up{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>z_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await gI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vI})()}createDatastore(e){const i=_f(e.databaseInfo.databaseId),s=(function(c){return new ZR(c)})(e.databaseInfo);return(function(c,p,b,w){return new iI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new sI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>z_(this.syncEngine,i,0)),(function(){return k_.v()?new k_:new WR})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,N){const O=new xI(l,c,p,b,w,E);return N&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ot(i);st(Yo,"RemoteStore shutting down."),s.Ea.add(5),await yc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}up.provider={build:()=>new up};class FI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const To="FirestoreClient";class HI{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=pr.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{st(To,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(st(To,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Gp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Om(r,e){r.asyncQueue.verifyOperationInProgress(),st(To,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Q1(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function F_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await qI(r);st(To,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>P_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>P_(e.remoteStore,l))),r._onlineComponents=e}async function qI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(To,"Using user provided OfflineComponentProvider");try{await Om(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===xe.FAILED_PRECONDITION||l.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Hl("Error using user provided cache. Falling back to memory cache: "+i),await Om(r,new rf)}}else st(To,"Using default OfflineComponentProvider"),await Om(r,new BI(void 0));return r._offlineComponents}async function fw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(To,"Using user provided OnlineComponentProvider"),await F_(r,r._uninitializedComponentsProvider._online)):(st(To,"Using default OnlineComponentProvider"),await F_(r,new up))),r._onlineComponents}function GI(r){return fw(r).then((e=>e.syncEngine))}async function YI(r){const e=await fw(r),i=e.eventManager;return i.onListen=RI.bind(null,e.syncEngine),i.onUnlisten=NI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=II.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=DI.bind(null,e.syncEngine),i}function XI(r,e,i={}){const s=new go;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,w,E){const N=new FI({next:G=>{N.Nu(),p.enqueueAndForget((()=>bI(c,O))),G.fromCache&&w.source==="server"?E.reject(new Ze(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(G)},error:G=>E.reject(G)}),O=new TI(b,N,{includeMetadataChanges:!0,qa:!0});return _I(c,O)})(await YI(r),r.asyncQueue,e,i,s))),s.promise}function dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const H_=new Map;const mw="firestore.googleapis.com",q_=!0;class G_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mw,this.ssl=q_}else this.host=e.host,this.ssl=e.ssl??q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wR)throw new Ze(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QC;switch(s.type){case"firstParty":return new JC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ze(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=H_.get(i);s&&(st("ComponentProvider","Removing Datastore"),H_.delete(i),s.terminate())})(this),Promise.resolve()}}function QI(r,e,i,s={}){r=Yh(r,Ef);const l=Wl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(cb(`https://${b}`),hb("Firestore",!0)),c.host!==mw&&c.host!==b&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Fo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,N;if(typeof s.mockUserToken=="string")E=s.mockUserToken,N=pr.MOCK_USER;else{E=yA(s.mockUserToken,r._app?.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new Ze(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new pr(O)}r._authCredentials=new WC(new n1(E,N))}}class Ao{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Mi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}toJSON(){return{type:Mi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(mc(i,Mi._jsonSchema))return new Mi(e,s||null,new yt(zn.fromString(i.referencePath)))}}Mi._jsonSchemaVersion="firestore/documentReference/1.0",Mi._jsonSchema={type:_i("string",Mi._jsonSchemaVersion),referencePath:_i("string")};class yo extends Ao{constructor(e,i,s){super(e,i,w1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new yt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Nl(r,e,...i){if(r=ts(r),i1("collection","path",e),r instanceof Ef){const s=zn.fromString(e,...i);return r_(s),new yo(r,null,s)}{if(!(r instanceof Mi||r instanceof yo))throw new Ze(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(zn.fromString(e,...i));return r_(s),new yo(r.firestore,null,s)}}function WI(r,e,...i){if(r=ts(r),arguments.length===1&&(e=Cp.newId()),i1("doc","path",e),r instanceof Ef){const s=zn.fromString(e,...i);return i_(s),new Mi(r,null,new yt(s))}{if(!(r instanceof Mi||r instanceof yo))throw new Ze(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(zn.fromString(e,...i));return i_(s),new Mi(r.firestore,r instanceof yo?r.converter:null,new yt(s))}}const Y_="AsyncQueue";class X_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K1(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&st(Y_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Dm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Dm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eu(e))throw e;st(Y_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ra("INTERNAL UNHANDLED ERROR: ",Q_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=qp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Q_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Wp extends Ef{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new X_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X_(e),this._firestoreClient=void 0,await e}}}function KI(r,e){const i=typeof r=="object"?r:pb(),s=typeof r=="string"?r:Qh,l=gp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=pA("firestore");c&&QI(l,...c)}return l}function pw(r){if(r._terminated)throw new Ze(xe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$I(r),r._firestoreClient}function $I(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new gx(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,dw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new HI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Ji.fromBase64String(e))}catch(i){throw new Ze(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vs(Ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,vs._jsonSchema))return vs.fromBase64String(e.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:_i("string",vs._jsonSchemaVersion),bytes:_i("string")};class Kp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Ze(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gw{constructor(e){this._methodName=e}}class Xs{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Ze(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Ze(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(mc(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:_i("string",Xs._jsonSchemaVersion),latitude:_i("number"),longitude:_i("number")};class Qs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,Qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qs(e.vectorValues);throw new Ze(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:_i("string",Qs._jsonSchemaVersion),vectorValues:_i("object")};const JI=/^__.*__$/;class ZI{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,i,this.fieldTransforms):new pc(e,this.data,i,this.fieldTransforms)}}function yw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class $p{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yw(this.Ac)&&JI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eM{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||_f(e)}Cc(e,i,s,l=!1){return new $p({Ac:e,methodName:i,Dc:s,path:$i.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vw(r){const e=r._freezeSettings(),i=_f(r._databaseId);return new eM(r._databaseId,!!e.ignoreUndefinedProperties,i)}function tM(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);ww("Data must be an object, but it was:",p,s);const b=_w(s,p);let w,E;if(c.merge)w=new Ns(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const N=[];for(const O of c.mergeFields){const G=iM(e,O,i);if(!p.contains(G))throw new Ze(xe.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);sM(N,G)||N.push(G)}w=new Ns(N),E=p.fieldTransforms.filter((O=>w.covers(O.field)))}else w=null,E=p.fieldTransforms;return new ZI(new ys(b),w,E)}function nM(r,e,i,s=!1){return Jp(i,r.Cc(s?4:3,e))}function Jp(r,e){if(bw(r=ts(r)))return ww("Unsupported field value:",e,r),_w(r,e);if(r instanceof gw)return(function(s,l){if(!yw(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Jp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=ts(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ux(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Qn.fromDate(s);return{timestampValue:ef(l.serializer,c)}}if(s instanceof Qn){const c=new Qn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ef(l.serializer,c)}}if(s instanceof Xs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vs)return{bytesValue:U1(l.serializer,s._byteString)};if(s instanceof Mi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Qs)return(function(p,b){return{mapValue:{fields:{[f1]:{stringValue:d1},[Wh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return Dp(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${cf(s)}`)})(r,e)}function _w(r,e){const i={};return a1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(r,((s,l)=>{const c=Jp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function bw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qn||r instanceof Xs||r instanceof vs||r instanceof Mi||r instanceof gw||r instanceof Qs)}function ww(r,e,i){if(!bw(i)||!r1(i)){const s=cf(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function iM(r,e,i){if((e=ts(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return Ew(r,e);throw sf("Field path arguments must be of type string or ",r,!1,void 0,i)}const rM=new RegExp("[~\\*/\\[\\]]");function Ew(r,e,i){if(e.search(rM)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Kp(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sf(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new Ze(xe.INVALID_ARGUMENT,b+r+w)}function sM(r,e){return r.some((i=>i.isEqual(e)))}class Tw{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aM extends Tw{data(){return super.data()}}function Tf(r,e){return typeof e=="string"?Ew(r,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}function oM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ze(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class eg extends Zp{}function cp(r,e,...i){let s=[];e instanceof Zp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof tg)).length,b=c.filter((w=>w instanceof Af)).length;if(p>1||p>0&&b>0)throw new Ze(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Af extends eg{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Af(e,i,s)}_apply(e){const i=this._parse(e);return Aw(e._query,i),new Ao(e.firestore,e.converter,ep(e._query,i))}_parse(e){const i=vw(e.firestore);return(function(c,p,b,w,E,N,O){let G;if(E.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Ze(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){K_(O,N);const z=[];for(const ke of O)z.push(W_(w,c,ke));G={arrayValue:{values:z}}}else G=W_(w,c,O)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||K_(O,N),G=nM(b,p,O,N==="in"||N==="not-in");return vi.create(E,N,G)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Vl(r,e,i){const s=e,l=Tf("where",r);return Af._create(l,s,i)}class tg extends Zp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tg(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Ds.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)Aw(p,w),p=ep(p,w)})(e._query,i),new Ao(e.firestore,e.converter,ep(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends eg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new ng(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new Ze(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ze(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(c,p)})(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new tu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function ro(r,e="asc"){const i=e,s=Tf("orderBy",r);return ng._create(s,i)}class ig extends eg{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new ig(e,i,s)}_apply(e){return new Ao(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function $u(r){return sx("limit",r),ig._create("limit",r,"F")}function W_(r,e,i){if(typeof(i=ts(i))=="string"){if(i==="")throw new Ze(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E1(e)&&i.indexOf("/")!==-1)throw new Ze(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(zn.fromString(i));if(!yt.isDocumentKey(s))throw new Ze(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return f_(r,new yt(s))}if(i instanceof Mi)return f_(r,i._key);throw new Ze(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(i)}.`)}function K_(r,e){if(!Array.isArray(r)||r.length===0)throw new Ze(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aw(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new Ze(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class lM{convertValue(e,i="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Wh].arrayValue?.values?.map((s=>hi(s.doubleValue)));return new Qs(i)}convertGeoPoint(e){return new Xs(hi(e.latitude),hi(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=df(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const i=_o(e);return new Qn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=zn.fromString(e);An(G1(s),9688,{name:e});const l=new nc(s.get(1),s.get(3)),c=new yt(s.popFirst(5));return l.isEqual(i)||Ra(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function uM(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Ch{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zl extends Tw{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Tf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=zl._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zl._jsonSchemaVersion="firestore/documentSnapshot/1.0",zl._jsonSchema={type:_i("string",zl._jsonSchemaVersion),bundleSource:_i("string","DocumentSnapshot"),bundleName:_i("string"),bundle:_i("string")};class Lh extends zl{data(e={}){return super.data(e)}}class Bl{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ch(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Lh(this._firestore,this._userDataWriter,s.key,s,new Ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ze(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Lh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Ch(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Lh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Ch(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,N=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),N=p.indexOf(b.doc.key)),{type:cM(b.type),doc:w,oldIndex:E,newIndex:N}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Bl._jsonSchemaVersion="firestore/querySnapshot/1.0",Bl._jsonSchema={type:_i("string",Bl._jsonSchemaVersion),bundleSource:_i("string","QuerySnapshot"),bundleName:_i("string"),bundle:_i("string")};class hM extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,i)}}function hp(r){r=Yh(r,Ao);const e=Yh(r.firestore,Wp),i=pw(e),s=new hM(e);return oM(r._query),XI(i,r._query).then((l=>new Bl(e,s,r,l)))}function km(r,e){const i=Yh(r.firestore,Wp),s=WI(r),l=uM(r.converter,e);return fM(i,[tM(vw(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ta.exists(!1))]).then((()=>s))}function fM(r,e){return(function(s,l){const c=new go;return s.asyncQueue.enqueueAndForget((async()=>OI(await GI(s),l,c))),c.promise})(pw(r),e)}(function(e,i=!0){(function(l){Jl=l})(Kl),Fl(new Ho("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Wp(new KC(s.getProvider("auth-internal")),new ZC(p,s.getProvider("app-check-internal")),(function(E,N){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ze(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(E.options.projectId,N)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),mo(Z0,e_,e),mo(Z0,e_,"esm2020")})();const dM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},mM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):dM,Sw=mb(mM),Vm=YC(Sw),Dl=KI(Sw),fp=typeof __app_id<"u"?__app_id:"long-jump-game",Pm={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc"},pM={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937"},ps=5,dp=50,gM=25,Cw=30,yM=15,Is=40,xw={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},vM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),$_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],J_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Z_=(r=dp)=>Array(ps).fill(null).map(()=>Array(r).fill(null)),Bu=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e,isPlaced:!1}),Rw=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},_M=r=>{const e=new Date(r),i=e.getDate(),s=e.toLocaleDateString("en-GB",{month:"short"});return`${Rw(i)} ${s}`},Sf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Cf=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},bM=()=>new Date().toISOString().split("T")[0],wM=(r,e)=>{const i=Cf(r),s=Sf(i),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ps),w=Math.floor(s()*e);if(w===0)continue;const E=`${b},${w}`;if(!p.has(E)){p.add(E);const N=s();let O=1;N>.5&&(O=2),N>.8&&(O=3),l.push({r:b,c:w,val:O})}}return l},EM=(r,e)=>{const i=Cf(r+"OBSTACLES"),s=Sf(i),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(s()*ps),w=Math.floor(s()*e);if(w===0)continue;const E=`${b},${w}`;p.has(E)||(p.add(E),l.push({r:b,c:w}))}return l},TM=(r,e,i)=>{const s=Cf(r+"WILDCARDS_V3"),l=Sf(s),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*ps),w=5,E=Math.min(29,i-2);if(E<=w)break;const N=Math.floor(l()*(E-w+1))+w;if(!e.some(O=>O.r===b&&O.c===N)){c.push({r:b,c:N});break}p++}if(i>30)for(p=0;p<100;){const b=Math.floor(l()*ps),w=30,E=i-5,N=Math.floor(l()*(E-w+1))+w;if(!e.some(O=>O.r===b&&O.c===N)){c.push({r:b,c:N});break}p++}return c},AM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],SM=r=>{const e=Cf(r),i=Sf(e);let s=[];Object.entries(xw).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=Cw;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},CM=r=>{const e=new Date().toISOString().split("T")[0],i=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:s,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=i;if(s+=1,p+=r,b!==e){const E=new Date;E.setDate(E.getDate()-1);const N=E.toISOString().split("T")[0];b===N?l+=1:l=1}l>c&&(c=l);const w={gamesPlayed:s,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(w)),w},eb=()=>{const r=$_[Math.floor(Math.random()*$_.length)],e=J_[Math.floor(Math.random()*J_.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},Lm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Ol={ctx:null,init:()=>{Ol.ctx||(Ol.ctx=new(window.AudioContext||window.webkitAudioContext))},play:r=>{Ol.ctx||Ol.init();const e=Ol.ctx,i=e.createOscillator(),s=e.createGain();i.connect(s),s.connect(e.destination);const l=e.currentTime,c=.5+Math.random();r==="pop"?(i.type="triangle",i.frequency.setValueAtTime(600*c,l),i.frequency.exponentialRampToValueAtTime(100*c,l+.15),s.gain.setValueAtTime(.5,l),s.gain.exponentialRampToValueAtTime(.01,l+.15),i.start(l),i.stop(l+.15)):r==="success"?(i.type="sine",i.frequency.setValueAtTime(400*c,l),i.frequency.setValueAtTime(600*c,l+.1),s.gain.setValueAtTime(.3,l),s.gain.linearRampToValueAtTime(0,l+.3),i.start(l),i.stop(l+.3)):r==="error"?(i.type="sawtooth",i.frequency.setValueAtTime(150,l),i.frequency.linearRampToValueAtTime(100,l+.2),s.gain.setValueAtTime(.5,l),s.gain.linearRampToValueAtTime(0,l+.2),i.start(l),i.stop(l+.2)):r==="click"?(i.type="square",i.frequency.setValueAtTime(800,l),s.gain.setValueAtTime(.1,l),s.gain.exponentialRampToValueAtTime(.01,l+.05),i.start(l),i.stop(l+.05)):r==="fanfare"&&(i.type="square",i.frequency.setValueAtTime(261.63,l),i.frequency.setValueAtTime(329.63,l+.1),i.frequency.setValueAtTime(392,l+.2),i.frequency.setValueAtTime(523.25,l+.3),s.gain.setValueAtTime(.2,l),s.gain.setValueAtTime(.2,l+.3),s.gain.exponentialRampToValueAtTime(.01,l+.8),i.start(l),i.stop(l+.8))}},xM=r=>{if(navigator.vibrate)switch(r){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},RM=({theme:r})=>{const e=ze.useRef(null);return ze.useEffect(()=>{const i=e.current;if(!i)return;const s=i.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;i.width=l,i.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",r.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let w;const E=()=>{!s||!i.width||!i.height||(s.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(s.save(),s.translate(O.x,O.y),s.rotate(O.rotation*Math.PI/180),s.fillStyle=O.color,s.fillRect(-O.size/2,-O.size/2,O.size,O.size),s.restore())}),w=requestAnimationFrame(E))};E();const N=()=>{i&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(i.width=l,i.height=c))};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N),w&&cancelAnimationFrame(w)}},[r]),I.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},tb=()=>{const{RiveComponent:r}=uo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return I.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},nb=({trigger:r})=>{const{rive:e,RiveComponent:i}=uo.useRive({src:"fan.riv",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return ze.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l&&l.fire()}}catch(s){console.warn("Rive trigger warning:",s)}},[r,e]),i?I.jsx("div",{style:{width:`${Is}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:I.jsx("div",{style:{width:"39px",height:"60px"},children:I.jsx(i,{})})}):null},jm=({highlightName:r,user:e,onRankFound:i,lastUpdated:s,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,w]=ze.useState([]),[E,N]=ze.useState(!0),[O,G]=ze.useState("daily"),[re,z]=ze.useState(l),[ke,Se]=ze.useState(null);ze.useEffect(()=>{z(l)},[l]);const Ue=async()=>{if(!e)return;N(!0),Se(null);const B=Nl(Dl,"artifacts",fp,"public","data","scores"),Pe=new Date,tt=Pe.toISOString().split("T")[0],nt=Pe.getDay(),lt=Pe.getDate()-nt+(nt===0?-6:1),F=new Date(Pe.setDate(lt)).toISOString().split("T")[0],P=new Date,x=new Date(P.getFullYear(),P.getMonth(),1).toISOString().split("T")[0];let L=[];re==="quick"&&L.push(Vl("mode","==","quick")),O==="daily"?(L.push(Vl("date","==",tt)),L.push(ro("score","desc")),L.push(ro("timestamp","asc")),L.push($u(100))):O==="weekly"?(L.push(Vl("date",">=",F)),L.push(ro("date","desc")),L.push(ro("score","desc")),L.push($u(500))):(L.push(Vl("date",">=",x)),L.push(ro("date","desc")),L.push(ro("score","desc")),L.push($u(500)));try{const R=cp(B,...L),$=await hp(R);if($.empty){w([]),N(!1),c&&O==="daily"&&c(re==="quick"?12:25,re);return}let ie=$.docs.map(q=>({id:q.id,...q.data()}));if(re==="standard"&&(ie=ie.filter(q=>!q.mode||q.mode==="standard")),O==="daily"&&c){const Q=ie.reduce((Ee,j)=>Ee+j.score,0)/ie.length,he=Math.floor(((re==="quick"?12:25)+Q)/2);c(he,re)}if(O==="weekly"||O==="monthly"){const q=new Map;ie.forEach(Q=>{const ye=q.get(Q.name);ye?(Q.score>ye.score||Q.score===ye.score&&Q.timestamp<ye.timestamp)&&q.set(Q.name,Q):q.set(Q.name,Q)}),ie=Array.from(q.values()),ie.sort((Q,ye)=>ye.score!==Q.score?ye.score-Q.score:Q.timestamp-ye.timestamp),ie=ie.slice(0,100)}if(w(ie),N(!1),r&&i){const q=ie.findIndex(Q=>Q.name===r);q!==-1&&i(q+1)}}catch(R){console.error(" FIRESTORE ERROR:",R),Se(R.message),N(!1)}};return ze.useEffect(()=>{Ue()},[e,O,re,r,s]),I.jsxs("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines},children:[ke&&ke.includes("index")&&I.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90",children:[I.jsx(bT,{className:"text-red-500 mb-2",size:32}),I.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),I.jsx("button",{onClick:Ue,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),I.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines},children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Um,{size:20,className:"text-yellow-500"}),I.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub},children:O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best"})]}),I.jsxs("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines},children:[I.jsx("button",{onClick:()=>G("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),I.jsx("button",{onClick:()=>G("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"}),I.jsx("button",{onClick:()=>G("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Monthly"})]})]}),I.jsx("div",{className:"flex justify-center",children:I.jsxs("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines},children:[I.jsx("button",{onClick:()=>z("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${re==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),I.jsx("button",{onClick:()=>z("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${re==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Quick Mode"})]})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:E?I.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):b.length===0?I.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",I.jsx("br",{}),"Be the first!"]}):I.jsx("div",{className:"space-y-1",children:b.map((B,Pe)=>{const tt=B.mode==="quick"?25:40,nt=B.score>=tt;let lt="";return O==="weekly"?lt=new Date(B.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(lt=_M(B.date)),I.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${B.name===r?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:nt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:B.name!==r&&!nt?{borderColor:"transparent"}:{},children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:`font-black w-5 text-center ${Pe===0?"text-yellow-600 text-lg":Pe===1?"text-gray-500 text-base":Pe===2?"text-orange-700 text-base":"text-gray-500"}`,children:Pe+1}),I.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[nt&&I.jsx(Um,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),I.jsx("span",{className:`font-bold truncate max-w-[90px] ${B.name===r?"":nt?"text-amber-900":""}`,style:{color:B.name===r?p.textMain:nt?"#78350f":p.textMain},children:B.name}),lt&&I.jsx("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines},children:lt})]})]}),I.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${nt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`,children:[B.score,"m"]})]},Pe)})})})]})};function IM(){const[r,e]=ze.useState("menu"),[i,s]=ze.useState("standard"),[l,c]=ze.useState(()=>localStorage.getItem("longJumpPlayerName")||eb()),[p,b]=ze.useState(!1),[w,E]=ze.useState(!1),[N,O]=ze.useState(()=>{const X=localStorage.getItem("longJumpShowFans");return X===null?!0:X!=="false"}),[G,re]=ze.useState(()=>{const X=localStorage.getItem("longJumpSound");return X===null?!0:X!=="false"}),[z,ke]=ze.useState(()=>{const X=localStorage.getItem("longJumpHaptics");return X===null?!0:X!=="false"}),[Se,Ue]=ze.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),B=Se?pM:Pm,[Pe,tt]=ze.useState(!1),[nt,lt]=ze.useState(null),[Y,F]=ze.useState(!1),[P,H]=ze.useState(null);ze.useEffect(()=>{window.addEventListener("beforeinstallprompt",X=>{X.preventDefault(),H(X)})},[]);const x=()=>{P&&(P.prompt(),P.userChoice.then(X=>{X.outcome==="accepted"&&console.log("User accepted the install prompt"),H(null)}))},[L,R]=ze.useState(""),[$,ie]=ze.useState("idle"),q=async()=>{if(L.trim()){ie("submitting");try{const X=Nl(Dl,"suggestions");await km(X,{text:L,player:l,date:new Date().toISOString(),version:"8.10"}),ie("success"),R(""),setTimeout(()=>ie("idle"),3e3)}catch(X){console.error("Error submitting suggestion:",X),ie("idle"),Be({text:"Could not send suggestion. Try again.",type:"error"})}}},[Q,ye]=ze.useState(()=>Z_(dp)),[he,Ee]=ze.useState([]),[j,oe]=ze.useState([]),[Re,Ae]=ze.useState(0),[Me,Qe]=ze.useState(!1),[dt,pt]=ze.useState([]),[bt,Rt]=ze.useState(0),[bn,mt]=ze.useState([]),[Tt,nn]=ze.useState([]),[qt,Zn]=ze.useState([]),[bi,ln]=ze.useState([]),[at,Ut]=ze.useState(null),[Vt,jn]=ze.useState(null),[vt,It]=ze.useState([]),[Mt,C]=ze.useState(0),[g,v]=ze.useState(0),[k,J]=ze.useState(null),[pe,Ne]=ze.useState(!1),[et,it]=ze.useState(!1),[qe,Be]=ze.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[Lt,Rn]=ze.useState(!1),[un,On]=ze.useState(!1),[Wn,zt]=ze.useState(!1),[Sn,kn]=ze.useState(!1),[Kn,Ni]=ze.useState(!1),[Ke,Bn]=ze.useState(!1),[Ct,ai]=ze.useState(!1),[Di,ns]=ze.useState(!1),[Si,vr]=ze.useState(null),[Ge,Os]=ze.useState(null),[Rr,Oi]=ze.useState(!1),[fn,ei]=ze.useState(null),[Zi,Ir]=ze.useState(25),[er,Ks]=ze.useState(null),[_s,tr]=ze.useState(new Set),[ki,Vi]=ze.useState(!1),Pi=ze.useRef({standard:25,quick:12}),Fn=ze.useRef(null),[Ci,Vn]=ze.useState(!1),[bs,Li]=ze.useState(0),[ji,nr]=ze.useState(0),$s=Q.some(X=>X.some(se=>se!==null));ze.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),ze.useEffect(()=>{localStorage.setItem("longJumpShowFans",N)},[N]),ze.useEffect(()=>{localStorage.setItem("longJumpSound",G)},[G]),ze.useEffect(()=>{localStorage.setItem("longJumpHaptics",z)},[z]),ze.useEffect(()=>{localStorage.setItem("longJumpDarkMode",Se)},[Se]),ze.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await D2(Vm,__initial_auth_token):await x2(Vm)})();const se=V2(Vm,Os);return()=>se()},[]),ze.useEffect(()=>{(async()=>{try{const se=cp(Nl(Dl,"missing_words")),ve=await hp(se),be=new Set;ve.forEach(_e=>{_e.data().word&&be.add(_e.data().word.toUpperCase())}),tr(be)}catch(se){console.error("Error loading missing words:",se)}})()},[]),ze.useEffect(()=>{if(g===Mt)return;const X=500,se=performance.now(),ve=g,be=Mt,_e=Fe=>{const We=Fe-se,Ve=Math.min(We/X,1),wt=1-Math.pow(1-Ve,3),Ye=Math.floor(ve+(be-ve)*wt);v(Ye),Ve<1&&requestAnimationFrame(_e)};requestAnimationFrame(_e)},[Mt]),ze.useEffect(()=>{(async()=>{try{const se=Nl(Dl,"artifacts",fp,"public","data","scores"),ve=new Date().toISOString().split("T")[0];let be=[Vl("date","==",ve),ro("score","desc"),ro("timestamp","asc")];i==="quick"?(be.push(Vl("mode","==","quick")),be.push($u(1))):be.push($u(50));const _e=cp(se,...be),Fe=await hp(_e);let We=null;if(!Fe.empty){const Ve=Fe.docs.map(wt=>wt.data());i==="quick"?We=Ve[0]:We=Ve.find(wt=>!wt.mode||wt.mode==="standard")}ei(We||null)}catch(se){console.error("Error fetching leader:",se)}})()},[Re,i]);const Mr=ze.useCallback((X,se)=>{(se==="quick"||se==="standard")&&(Pi.current[se]=X),Ir(X)},[]),In=X=>{G&&Ol.play(X==="light"?"pop":X),z&&xM(X)};ze.useEffect(()=>{is("standard")},[]);const is=(X="standard")=>{const se=bM(),ve=SM(se);pt(ve),s(X);const be=X==="quick"?gM:dp,_e=X==="quick"?yM:Cw;let Fe;X==="quick"?(Fe=ve.slice(0,_e-1),Fe.push("*")):Fe=ve.slice(0,_e);const We=Fe.map(Ye=>Bu(Ye,!1)).sort((Ye,ft)=>Ye.letter.localeCompare(ft.letter));Ee(We),Rt(_e),ye(Z_(be)),It([]),oe([]),C(0),v(0),J(null),Ne(!1),it(!1),mt(wM(se,be));const Ve=EM(se,be);nn(Ve),Zn(TM(se,Ve,be)),ln(AM()),Be({text:"Goal: Get as far right as you can.",type:"neutral"}),Bn(!1),On(!1),kn(!1),Ni(!1),Oi(!1),ai(!1),zt(!1),Qe(!1),Ut(null),jn(null),b(!1);const wt=Pi.current[X]||(X==="quick"?12:25);Ir(wt),jn({r:2,c:0}),Vi(!1),Fn.current&&(Fn.current.scrollLeft=0)},_r=X=>{In("click"),l.trim()||c(eb()),e("playing"),is(X),kn(!0)},xi=()=>{In("click"),e("menu"),is("standard")},wn=()=>{if(In("click"),j.length!==0){if(ki){Be({text:"Already used Undo this turn!",type:"error"}),In("error");return}F(!0)}},$n=()=>{const X=j[j.length-1],se=j.slice(0,-1);ye(X.grid),C(X.score),Rt(X.drawCount);const ve=Array.from(new Map(X.hand.map(be=>[be.id,{...be,isPlaced:!1}])).values());Ee(ve),oe(se),It([]),Ut(null),Be({text:"Move undone",type:"info"}),Vi(!0),F(!1)},Ui=X=>{const se=X.toUpperCase();return[...he].reverse().find(ve=>ve.letter===se&&!ve.isPlaced)},ir=X=>{const se=Q[0].length;if(!Vt){jn({r:2,c:Mt});return}let{r:ve,c:be}=Vt;X==="ArrowUp"&&(ve=Math.max(0,ve-1)),X==="ArrowDown"&&(ve=Math.min(ps-1,ve+1)),X==="ArrowLeft"&&(be=Math.max(0,be-1)),X==="ArrowRight"&&(be=Math.min(se-1,be+1)),jn({r:ve,c:be})};ze.useEffect(()=>{const X=se=>{if(!(r!=="playing"||Ke||Kn||Sn||un||Di||Wn||p||Pe||Y)){if(se.code==="Space"){se.preventDefault(),wr();return}if(se.key==="Escape"){if(vt.length>0){const be=vt.map(_e=>_e.isWild?"*":_e.letter).map(_e=>Bu(_e,!1));Ee(_e=>[..._e.filter(We=>!We.isPlaced),...be].sort((We,Ve)=>We.letter!==Ve.letter?We.letter.localeCompare(Ve.letter):We.isNew===Ve.isNew?0:We.isNew?1:-1)),It([]),Ut(null),In("click")}return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(se.key)){se.preventDefault(),ir(se.key);return}if(se.key==="Backspace"||se.key==="Delete"){if(Vt){const{r:ve,c:be}=Vt;vt.find(Fe=>Fe.r===ve&&Fe.c===be)?ar(ve,be):ir("ArrowLeft")}return}if(se.key==="Enter"){vt.length>0&&zi();return}if(/^[a-zA-Z]$/.test(se.key)){const ve=Q[0].length;if(!Vt){jn({r:2,c:Mt});return}const{r:be,c:_e}=Vt;if(Q[be]&&Q[be][_e]||Tt.some(Ve=>Ve.r===be&&Ve.c===_e)){ir("ArrowRight");return}let Fe=Ui(se.key),We=null;if(!Fe){const Ve=Ui("*");Ve&&(Fe=Ve,We=se.key.toUpperCase())}Fe?(rr(Fe,be,_e,We),jn({r:be,c:Math.min(ve-1,_e+1)})):(Be({text:`No '${se.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>Be({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[r,Ke,Vt,he,vt,Kn,Sn,un,Di,Wn,p,Pe,Y]),ze.useEffect(()=>{if(Vt&&Fn.current){const X=Fn.current,se=Vt.c*Is,ve=se+Is,be=X.scrollLeft,_e=be+X.clientWidth,Fe=100;se<be?X.scrollTo({left:Math.max(0,se-Fe),behavior:"smooth"}):ve>_e&&X.scrollTo({left:ve-X.clientWidth+Fe,behavior:"smooth"})}},[Vt]);const Wt=()=>On(!0),wi=async()=>{On(!1),Bn(!0),Oi(!0),In("fanfare");const X=l.trim().toLowerCase()==="test";if(Ge&&!X)try{const _e=new Date().toISOString().split("T")[0],Fe=Nl(Dl,"artifacts",fp,"public","data","scores");await km(Fe,{name:l||"Anonymous",score:Mt,mode:i,date:_e,timestamp:Date.now(),userId:Ge.uid}),Ae(Date.now())}catch(_e){console.error("Error saving score:",_e)}const se=CM(Mt);Ks(se),Oi(!1);const ve=Mt*50+800;setTimeout(()=>{e("gameOver"),Bn(!1)},Math.max(ve,2500))},ht=()=>On(!1),fi=()=>r==="playing"?zt(!0):e("menu"),Pn=()=>{zt(!1),e("menu"),is()},ws=async()=>{const X=k?Rw(k):"top",se="https://www.longjump.co.za";let ve=k?`${l} placed ${X} in Long-Jump with a distance of ${Mt}m. How far can you get? ${se}`:`${l} got a distance of ${Mt}m in Long-Jump. How far can you get? ${se}`;try{await navigator.clipboard.writeText(ve),Ne(!0),setTimeout(()=>Ne(!1),1e3)}catch(be){console.error("Failed to copy: ",be),Be({text:"Failed to copy result.",type:"error"})}},Js=X=>{X.target.closest('[draggable="true"]')||X.target.tagName==="BUTTON"||(Vn(!0),Li(X.pageX-Fn.current.offsetLeft),nr(Fn.current.scrollLeft))},ks=()=>Vn(!1),dn=()=>Vn(!1),rs=X=>{if(!Ci)return;X.preventDefault();const ve=(X.pageX-Fn.current.offsetLeft-bs)*1.5;Fn.current.scrollLeft=ji-ve},rr=(X,se,ve,be=null)=>{if(In("light"),X.letter==="*"&&!be){vr({r:se,c:ve,tileId:X.id}),ns(!0);return}const _e=X.letter==="*";ti(X,se,ve,_e,be)},ti=(X,se,ve,be=!1,_e=null)=>{if(Q.every(wt=>wt.every(Ye=>Ye===null))&&vt.length===0&&ve!==0){ai(!0),setTimeout(()=>ai(!1),3e3);return}const We=_e||X.letter,Ve=[...vt,{r:se,c:ve,letter:We,isWild:be,id:X.id}];if(!Lm(Ve)){Be({text:" Tiles must be placed in a single row or column",type:"error"}),In("error");return}It(Ve),Ee(wt=>wt.map(Ye=>Ye.id===X.id?{...Ye,isPlaced:!0}:Ye)),ai(!1),qe.type==="error"&&Be({text:"Goal: Get as far right as you can.",type:"neutral"})},sr=X=>{if(In("light"),Si){const se={id:Si.tileId,letter:"*"};ti(se,Si.r,Si.c,!0,X),jn({r:Si.r,c:Math.min(Q[0].length-1,Si.c+1)}),ns(!1),vr(null),Ut(null)}},Es=X=>{if(In("light"),!Ke&&r==="playing"){if(Vt){const{r:se,c:ve}=Vt,be=Q[0].length;if(!(Q[se]&&Q[se][ve]||Tt.some(Fe=>Fe.r===se&&Fe.c===ve))){const Fe=he.find(We=>We.id===X);Fe&&(rr(Fe,se,ve),jn({r:se,c:Math.min(be-1,ve+1)}));return}}Ut(at===X?null:X)}},ar=(X,se)=>{if(Ci||Ke||r!=="playing"||Q[X]&&Q[X][se]||Tt.some(be=>be.r===X&&be.c===se))return;const ve=vt.findIndex(be=>be.r===X&&be.c===se);if(ve!==-1){In("light");const be=vt[ve],_e=[...vt];_e.splice(ve,1),It(_e),Ee(Fe=>Fe.map(We=>We.id===be.id?{...We,isPlaced:!1}:We)),Ut(null),jn({r:X,c:se});return}if(at){const be=he.find(_e=>_e.id===at);if(be){const _e=Q[0].length;rr(be,X,se),Ut(null),jn({r:X,c:Math.min(_e-1,se+1)})}}else jn({r:X,c:se})},ss=(X,se)=>{Ke||r!=="playing"||(X.dataTransfer.setData("text/plain",JSON.stringify(se)),X.dataTransfer.effectAllowed="move")},Fr=X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},br=(X,se,ve)=>{if(Ke||r!=="playing"||(X.preventDefault(),X.stopPropagation(),Tt.some(_e=>_e.r===se&&_e.c===ve)))return;const be=X.dataTransfer.getData("text/plain");if(be)try{const _e=JSON.parse(be);if(Q[se]&&Q[se][ve])return;const Fe=vt.findIndex(Ve=>Ve.r===se&&Ve.c===ve),We=Q[0].length;if(_e.type==="hand"){In("light");const Ve=_e.tile;if(Ve.letter==="*"){vr({r:se,c:ve,tileId:Ve.id}),ns(!0);return}if(Q.every(Ye=>Ye.every(ft=>ft===null))&&vt.length===0&&ve!==0){ai(!0),setTimeout(()=>ai(!1),3e3);return}if(Fe!==-1){const Ye=vt[Fe],ft=[...vt];Ee(rn=>rn.map(Gt=>Gt.id===Ve.id?{...Gt,isPlaced:!0}:Gt.id===Ye.id?{...Gt,isPlaced:!1}:Gt)),ft.splice(Fe,1,{r:se,c:ve,letter:Ve.letter,isWild:!1,id:Ve.id}),It(ft)}else{const Ye=[...vt,{r:se,c:ve,letter:Ve.letter,isWild:!1,id:Ve.id}];if(!Lm(Ye)){Be({text:" Tiles must be placed in a single row or column",type:"error"}),In("error");return}It(Ye),Ee(ft=>ft.map(rn=>rn.id===Ve.id?{...rn,isPlaced:!0}:rn))}ai(!1),Ut(null),jn({r:se,c:Math.min(We-1,ve+1)}),qe.type==="error"&&Be({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(_e.type==="board"){if(_e.r===se&&_e.c===ve)return;const Ve=vt.findIndex(ft=>ft.r===_e.r&&ft.c===_e.c);if(Ve===-1)return;const wt=vt[Ve],Ye=[...vt];if(Fe!==-1){const ft=vt[Fe];Ye[Fe]={...ft,r:_e.r,c:_e.c},Ye[Ve]={...wt,r:se,c:ve}}else Ye[Ve]={...wt,r:se,c:ve};if(!Lm(Ye)){Be({text:" Tiles must be placed in a single row or column",type:"error"}),In("error");return}It(Ye),jn({r:se,c:Math.min(We-1,ve+1)})}}catch{}},as=X=>{if(Ke||r!=="playing")return;X.preventDefault(),X.stopPropagation();const se=X.dataTransfer.getData("text/plain");if(se)try{const ve=JSON.parse(se);if(ve.type==="board"){const be=vt.find(_e=>_e.r===ve.r&&_e.c===ve.c);It(_e=>_e.filter(Fe=>!(Fe.r===ve.r&&Fe.c===ve.c))),Ee(_e=>_e.map(Fe=>Fe.id===be.id?{...Fe,isPlaced:!1}:Fe)),In("light")}}catch{}},or=(X,se)=>{if(!Q||!Q[X])return null;if(Q[X][se])return{letter:Q[X][se],type:"locked"};const ve=vt.find(be=>be.r===X&&be.c===se);return ve?{letter:ve.letter,type:"temp",isWild:ve.isWild}:null},Ts=(X,se)=>bn.find(ve=>ve.r===X&&ve.c===se),lr=(X,se)=>Tt.find(ve=>ve.r===X&&ve.c===se),zi=async()=>{if(vt.length===0)return;Rn(!0),Be({text:"Validating...",type:"info"});const X=Q.map(Ve=>[...Ve]);if(vt.forEach(Ve=>{X[Ve.r]&&(X[Ve.r][Ve.c]=Ve.letter)}),vt.length>1){const Ve=[...vt].sort((ft,rn)=>ft.r-rn.r||ft.c-rn.c),wt=Ve[0],Ye=Ve[Ve.length-1];if(wt.r===Ye.r){for(let ft=wt.c;ft<=Ye.c;ft++)if(!X[wt.r][ft]){Hn("Cannot leave gaps between tiles.");return}}else for(let ft=wt.r;ft<=Ye.r;ft++)if(!X[ft][wt.c]){Hn("Cannot leave gaps between tiles.");return}}const se=Q.every(Ve=>Ve.every(wt=>wt===null));let ve=!1,be=!1;const _e=Q[0].length;if(vt.forEach(Ve=>{Ve.c===0&&(ve=!0),[{r:Ve.r+1,c:Ve.c},{r:Ve.r-1,c:Ve.c},{r:Ve.r,c:Ve.c+1},{r:Ve.r,c:Ve.c-1}].forEach(Ye=>{Ye.r>=0&&Ye.r<ps&&Ye.c>=0&&Ye.c<_e&&Q[Ye.r]&&Q[Ye.r][Ye.c]&&(be=!0)})}),se&&!ve){Hn("First word must start in Column 1.");return}if(!se&&!be){Hn("Tiles must connect to existing words.");return}const We=cr(X).filter(Ve=>Ve.cells.some(wt=>vt.some(Ye=>Ye.r===wt.r&&Ye.c===wt.c)));if(We.length===0){Hn("Words must be at least 2 letters.");return}try{const Ve=[];for(const wt of We)await Bi(wt.word)||Ve.push(wt.word);if(Ve.length>0){Hn(`Invalid word(s): ${Ve.join(", ")}`,Ve[0]);return}oi(X,We)}catch(Ve){console.error(Ve),Hn("Error checking dictionary. Try again.")}},Bi=async X=>{const se=X.toUpperCase();if(_s.has(se)||vM.has(se))return!0;if(se.length===2)return!1;try{const ve=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${X}`);if(!ve.ok)return!1;const be=await ve.json();return Array.isArray(be)&&be.length>0}catch{return!0}},ur=X=>{lt(X),tt(!0)},Hr=async()=>{if(nt){try{const X=Nl(Dl,"missing_words");await km(X,{word:nt.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),tr(se=>new Set(se).add(nt.toUpperCase())),Be({text:`Reported '${nt}' - You can use it now!`,type:"success"})}catch(X){console.error("Error reporting word:",X),Be({text:"Could not report word.",type:"error"})}tt(!1),lt(null)}},cr=X=>{let se=[];const ve=Q[0].length;for(let be=0;be<ps;be++){let _e="",Fe=[];for(let We=0;We<ve;We++)X[be]&&X[be][We]?(_e+=X[be][We],Fe.push({r:be,c:We})):(_e.length>1&&se.push({word:_e,cells:[...Fe],type:"H"}),_e="",Fe=[]);_e.length>1&&se.push({word:_e,cells:[...Fe],type:"H"})}for(let be=0;be<ve;be++){let _e="",Fe=[];for(let We=0;We<ps;We++)X[We]&&X[We][be]?(_e+=X[We][be],Fe.push({r:We,c:be})):(_e.length>1&&se.push({word:_e,cells:[...Fe],type:"V"}),_e="",Fe=[]);_e.length>1&&se.push({word:_e,cells:[...Fe],type:"V"})}return se},Hn=(X,se=null)=>{Be({text:X,type:"error",invalidWord:se}),Rn(!1),In("error")},oi=(X,se)=>{In("success");const ve=JSON.parse(JSON.stringify(Q)),be=he.map(Ye=>({...Ye,isPlaced:!1}));oe(Ye=>[...Ye,{grid:ve,hand:be,score:Mt,drawCount:bt}]),ye(X),it(!0),setTimeout(()=>it(!1),200);let _e=0,Fe=!1;se.forEach(Ye=>{Ye.cells.forEach(ft=>{const rn=Ts(ft.r,ft.c),Gt=vt.some(Ei=>Ei.r===ft.r&&Ei.c===ft.c);rn&&Gt&&(_e+=rn.val),qt.some(Ei=>Ei.r===ft.r&&Ei.c===ft.c)&&(Fe=!0)})});let We=he.filter(Ye=>!Ye.isPlaced);if(_e>0){const ft=dt.slice(bt,bt+_e).map(rn=>Bu(rn,!0));We=[...We,...ft].sort((rn,Gt)=>rn.letter!==Gt.letter?rn.letter.localeCompare(Gt.letter):rn.isNew===Gt.isNew?0:rn.isNew?1:-1),Rt(rn=>rn+_e)}if(Fe){const Ye=Bu("*",!0);We=[...We,Ye].sort((ft,rn)=>ft.letter!==rn.letter?ft.letter.localeCompare(rn.letter):ft.isNew===rn.isNew?0:ft.isNew?1:-1)}if(Ee(We),_e>0||Fe){const Ye=Fe?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${_e} Bonus Tiles!`;Be({text:Ye,type:"success"})}else Be({text:"Valid move!",type:"success"});let Ve=Mt-1;const wt=Q[0].length;vt.forEach(Ye=>{Ye.c>Ve&&(Ve=Ye.c)});for(let Ye=0;Ye<ps;Ye++)for(let ft=0;ft<wt;ft++)X[Ye]&&X[Ye][ft]&&ft>Ve&&(Ve=ft);C(Ve+1),It([]),Rn(!1),jn(null),Vi(!1)},wr=()=>{In("click"),Ee(X=>[...X].sort(()=>Math.random()-.5))},Nt=()=>{In("click"),Ee(X=>[...X].sort((se,ve)=>se.letter!==ve.letter?se.letter.localeCompare(ve.letter):se.isNew===ve.isNew?0:se.isNew?1:-1))},Nr=he.reduce((X,se)=>(X[se.letter]||(X[se.letter]=[]),X[se.letter].push(se),X),{}),qn=Array.from(new Set(he.map(X=>X.letter))),Dr=qn.length>=6,qr=Math.ceil(qn.length/2),Gr=Dr?qn.slice(0,qr):qn,Er=Dr?qn.slice(qr):[],Fi=({letter:X})=>{const se=Nr[X]||[],ve=se.filter(wt=>!wt.isPlaced),be=Math.min(ve.length,15),_e=ve[ve.length-1];if(se.length>0&&be===0)return I.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:B.boardBackground+"40",borderColor:B.boardLines}});if(be===0)return null;const Fe=_e&&at===_e.id,We=6,Ve=40+(be>1?(be-1)*We:0);return I.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Ve}px`},children:[[...Array(be-1)].map((wt,Ye)=>{const rn=(X.charCodeAt(0)+Ye)%7-3;return I.jsx("div",{className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${Ye*We}px`,zIndex:Ye,transform:`rotate(${rn}deg)`}},Ye)}),I.jsxs("button",{draggable:!Ke&&r==="playing",onDragStart:wt=>ss(wt,{type:"hand",tile:_e}),onClick:()=>Es(_e.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(be-1)*We}px`,zIndex:be,backgroundColor:Fe?B.accentPrimary:X==="*"?B.tileTemp:"white",color:Fe?"white":"#1f2937",transform:Fe?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Fe?0:X.charCodeAt(0)%5-2}deg)`},children:[_e&&_e.isNew&&I.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),X==="*"?I.jsx(_h,{size:20,fill:B.starPurple,className:"text-purple-500"}):X]})]})};return r==="menu"?I.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:B.background,color:B.textMain},children:[I.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative",children:[I.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[I.jsx(tb,{}),I.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[I.jsx("span",{children:"Refreshed Daily"}),I.jsx(_m,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),I.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[I.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:B.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),I.jsxs("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:B.tileLocked,color:B.accentSecondary,borderColor:B.accentPrimary},children:["Today's Par: ",Zi,"m"]})]})]}),I.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[I.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:B.textSub},children:"Enter your name"}),I.jsx("input",{type:"text",value:l,onChange:X=>c(X.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:B.modalBg,color:B.textMain,borderColor:"transparent"},onFocus:X=>X.target.style.borderColor=B.accentPrimary,onBlur:X=>X.target.style.borderColor="transparent"})]}),I.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[I.jsxs("button",{onClick:()=>_r("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:B.accentPrimary},children:["Play ",I.jsx(PT,{size:20,fill:"currentColor"})]}),I.jsxs("button",{onClick:()=>_r("quick"),className:"flex-1 py-4 bg-blue-500 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",style:{backgroundColor:"#3b82f6"},children:["Quick ",I.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded text-blue-100",style:{backgroundColor:"#2563eb"},children:"25m"})]})]}),I.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[I.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[I.jsx("button",{onClick:()=>E(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:B.tileLocked,color:B.textSub},title:"Updates",children:I.jsx(_0,{size:14})}),I.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:B.textSub},children:"By Richard Bolland"}),I.jsx("span",{style:{color:B.boardLines},children:"|"}),I.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[I.jsx(RT,{size:14,className:"fill-pink-600"}),I.jsx("span",{children:"Tip Jar"})]})]}),I.jsx("span",{className:"text-[10px] text-center max-w-xs leading-tight",style:{color:B.textSub},children:"Help cover server costs & keep the game running."})]}),I.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:I.jsx(jm,{user:Ge,lastUpdated:Re,initialMode:"standard",onParCalculated:Mr,theme:B})})]}),I.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:I.jsx(jm,{user:Ge,lastUpdated:Re,initialMode:"standard",onParCalculated:Mr,theme:B})}),w&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:I.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsxs("h3",{className:"text-xl font-black uppercase flex items-center gap-2",style:{color:B.textMain},children:[I.jsx(_0,{size:20})," What's New"]}),I.jsx("button",{onClick:()=>E(!1),style:{color:B.textSub},children:I.jsx(bm,{size:24})})]}),I.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[I.jsxs("div",{className:"border-l-2 pl-3",style:{borderColor:B.accentPrimary},children:[I.jsx("div",{className:"text-xs font-bold uppercase",style:{color:B.accentPrimary},children:"v8.10"}),I.jsx("div",{className:"font-bold",style:{color:B.textMain},children:"UI Polish"}),I.jsx("p",{className:"text-xs",style:{color:B.textSub},children:"New Report & Undo confirmation windows."})]}),I.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[I.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v8.00"}),I.jsx("div",{className:"font-bold",style:{color:B.textSub},children:"Database Reporting"}),I.jsx("p",{className:"text-xs",style:{color:B.textSub},children:"Word reporting now saves to database. Live missing word loading."})]}),I.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[I.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v7.00"}),I.jsx("div",{className:"font-bold",style:{color:B.textSub},children:"Dark Mode & Install"}),I.jsx("p",{className:"text-xs",style:{color:B.textSub},children:"Added Dark Mode, PWA Install, and Keyboard Shortcuts."})]})]}),I.jsx("button",{onClick:()=>E(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:B.boardLines,color:B.textMain},children:"Close"})]})})]}):I.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:B.background,color:B.textMain},children:[r==="gameOver"&&!Me&&I.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[I.jsx(RM,{theme:B}),I.jsxs("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:B.modalBg+"EE",borderColor:B.boardLines},children:[I.jsx("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:B.textMain},children:"STATISTICS"}),I.jsxs("div",{className:"flex justify-between items-start mb-8 px-1 gap-1",children:[I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:B.textMain},children:er?.gamesPlayed||0}),I.jsx("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:B.textSub},children:"Played"})]}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:B.textMain},children:er?.currentStreak||0}),I.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:B.textSub},children:["Current",I.jsx("br",{}),"Streak"]})]}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:B.textMain},children:er?.maxStreak||0}),I.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:B.textSub},children:["Max",I.jsx("br",{}),"Streak"]})]}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsxs("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:B.textMain},children:[er?.gamesPlayed>0?Math.round(er.totalDistance/er.gamesPlayed):0,"m"]}),I.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:B.textSub},children:["Avg",I.jsx("br",{}),"Dist"]})]}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:B.textMain},children:(er?.totalDistance||0)>=1e3?(er.totalDistance/1e3).toFixed(1)+"k":(er?.totalDistance||0)+"m"}),I.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:B.textSub},children:["Total",I.jsx("br",{}),"Dist"]})]})]}),I.jsxs("div",{className:"rounded-2xl p-6 mb-6 shadow-sm border",style:{backgroundColor:B.settingsBg,borderColor:B.boardLines},children:[I.jsx("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:B.textSub},children:"Athlete"}),I.jsx("div",{className:"text-3xl font-black mb-6",style:{color:B.textMain},children:l}),I.jsx("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:B.textSub},children:"Distance"}),I.jsxs("div",{className:"text-6xl font-black",style:{color:B.accentPrimary},children:[g,"m"]})]}),I.jsxs("div",{className:"flex flex-col gap-3",children:[I.jsx("button",{onClick:ws,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:B.modalBg,borderColor:B.boardLines,color:B.textMain},children:pe?I.jsxs(I.Fragment,{children:[I.jsx(fT,{size:20})," Copied"]}):I.jsxs(I.Fragment,{children:[I.jsx(qT,{size:20})," Share Result"]})}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:xi,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"},children:"Play Again"}),I.jsx("button",{onClick:()=>Qe(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:B.modalBg,borderColor:B.boardLines,color:B.textMain},title:"View Board",children:I.jsx(ST,{size:24})})]})]})]}),I.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:I.jsx(jm,{highlightName:l,user:Ge,onRankFound:J,lastUpdated:Re,initialMode:i,onParCalculated:Mr,theme:B})})]}),Di&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:I.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsx("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:B.textMain},children:"Pick a Letter"}),I.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(xw).filter(X=>X!=="*").map(X=>I.jsx("button",{onClick:()=>sr(X),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:B.tileTemp,borderColor:B.tileTempRing,color:B.textMain},children:X},X))}),I.jsx("button",{onClick:()=>{ns(!1),vr(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:B.textSub},children:"Cancel"})]})}),Pe&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:I.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsx("div",{className:"flex justify-center mb-4",children:I.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:I.jsx(y0,{size:32,className:"text-yellow-600"})})}),I.jsx("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:B.textMain},children:"Report Missing Word"}),I.jsxs("p",{className:"mb-4 text-sm font-bold",style:{color:B.textMain},children:['"',nt,'"']}),I.jsx("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left",children:I.jsxs("p",{className:"text-xs text-red-700 leading-relaxed font-medium",children:[I.jsx("strong",{children:" Warning:"})," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted."]})}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:()=>{tt(!1),lt(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:B.boardLines,color:B.textSub},children:"Cancel"}),I.jsx("button",{onClick:Hr,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600",children:"Report & Add"})]})]})}),Y&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:I.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsx("div",{className:"flex justify-center mb-4",children:I.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:I.jsx(v0,{size:32,className:"text-blue-600"})})}),I.jsx("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:B.textMain},children:"Use Undo?"}),I.jsxs("p",{className:"mb-6 text-sm",style:{color:B.textSub},children:["You can only use Undo ",I.jsx("strong",{style:{color:B.accentPrimary},children:"once per turn"}),". ",I.jsx("br",{}),I.jsx("br",{}),"Are you sure you want to go back?"]}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:B.boardLines,color:B.textSub},children:"Cancel"}),I.jsx("button",{onClick:$n,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600",children:"Confirm Undo"})]})]})}),(Sn||Kn)&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:I.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:B.modalBg},children:I.jsx(cT,{size:48,style:{color:B.accentPrimary}})}),I.jsx("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:B.textMain},children:"Game Rules"}),I.jsxs("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:B.textSub},children:[I.jsxs("p",{className:"flex gap-2",children:[I.jsx("span",{className:"font-bold",style:{color:B.textMain},children:""}),I.jsxs("span",{children:["This is a ",I.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),I.jsxs("p",{className:"flex gap-2",children:[I.jsx("span",{className:"font-bold",style:{color:B.textMain},children:""}),I.jsxs("span",{children:["Place words ",I.jsx("strong",{children:"Left to Right"})," or ",I.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),I.jsxs("p",{className:"flex gap-2",children:[I.jsx("span",{className:"font-bold",style:{color:B.textMain},children:""}),I.jsxs("span",{children:["Minimum ",I.jsx("strong",{children:"2 letter"})," words."]})]}),I.jsxs("p",{className:"flex gap-2",children:[I.jsx("span",{className:"font-bold",style:{color:B.textMain},children:""}),I.jsxs("span",{children:["Start in ",I.jsx("strong",{children:"Column 1"})," (left)."]})]}),I.jsxs("p",{className:"flex gap-2 items-center",children:[I.jsx(_m,{size:16,className:"text-yellow-500 fill-yellow-500"}),I.jsxs("span",{children:[I.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),I.jsxs("p",{className:"flex gap-2 items-center",children:[I.jsx(_h,{size:16,className:"text-purple-500 fill-purple-500"}),I.jsxs("span",{children:[I.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),I.jsx("button",{onClick:()=>{kn(!1),Ni(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:B.accentPrimary},children:Sn?"Let's Jump!":"Close"})]})}),Wn&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:I.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsx("div",{className:"flex justify-center mb-4",children:I.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:I.jsx(DT,{size:32,className:"text-red-500"})})}),I.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:B.textMain},children:"Exit Game?"}),I.jsx("p",{className:"mb-8",style:{color:B.textSub},children:"Are you sure you want to quit? You will lose your current progress."}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:()=>zt(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:B.boardLines,color:B.textSub},children:"Cancel"}),I.jsx("button",{onClick:Pn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),un&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:I.jsxs("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsx("h3",{className:"text-2xl font-black mb-2",style:{color:B.textMain},children:"Submit Score?"}),I.jsxs("p",{className:"mb-8",style:{color:B.textSub},children:["You reached column ",I.jsx("strong",{style:{color:B.accentPrimary},children:Mt}),". This will end your current run."]}),I.jsxs("div",{className:"flex gap-3",children:[I.jsx("button",{onClick:ht,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:B.boardLines,color:B.textSub},children:"Cancel"}),I.jsx("button",{onClick:wi,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:B.accentPrimary},children:"Confirm"})]})]})}),p&&I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:I.jsxs("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:B.modalBg,borderColor:B.boardLines},children:[I.jsxs("div",{className:"flex justify-between items-center mb-6",children:[I.jsx("h3",{className:"text-xl font-black uppercase",style:{color:B.textMain},children:"Settings"}),I.jsx("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:B.textSub},children:I.jsx(bm,{size:24})})]}),I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:B.textSub},children:"Username"}),I.jsx("input",{type:"text",value:l,onChange:X=>c(X.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:B.settingsBg,borderColor:"transparent",color:B.textMain}})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:B.settingsBg},children:[I.jsxs("div",{className:"flex items-center gap-3",children:[Se?I.jsx(kT,{size:20,className:"text-purple-400"}):I.jsx(KT,{size:20,className:"text-yellow-500"}),I.jsx("span",{className:"font-bold text-sm",style:{color:B.textMain},children:"Dark Mode"})]}),I.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[I.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Se,onChange:()=>Ue(!Se)}),I.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:B.settingsBg},children:[I.jsxs("div",{className:"flex items-center gap-3",children:[G?I.jsx(ZT,{size:20,className:"text-blue-500"}):I.jsx(tA,{size:20,className:"text-gray-400"}),I.jsx("span",{className:"font-bold text-sm",style:{color:B.textMain},children:"Sound Effects"})]}),I.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[I.jsx("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>re(!G)}),I.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]}),I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:B.settingsBg},children:[I.jsxs("div",{className:"flex items-center gap-3",children:[z?I.jsx(w0,{size:20,className:"text-orange-500 fill-orange-500"}):I.jsx(w0,{size:20,className:"text-gray-400"}),I.jsx("span",{className:"font-bold text-sm",style:{color:B.textMain},children:"Haptics"})]}),I.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[I.jsx("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>ke(!z)}),I.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),I.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:B.settingsBg},children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("div",{className:"flex flex-col",children:I.jsx("span",{className:"font-bold text-sm",style:{color:B.textMain},children:"Crowd Fans"})})]}),I.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[I.jsx("input",{type:"checkbox",className:"sr-only peer",checked:N,onChange:()=>O(!N)}),I.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})]}),P&&I.jsxs("button",{onClick:x,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:B.accentPrimary},children:[I.jsx(TT,{size:16})," Install App"]}),I.jsxs("div",{className:"pt-4 border-t",style:{borderColor:B.boardLines},children:[I.jsx("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:B.textSub},children:"Make a Suggestion"}),I.jsx("textarea",{value:L,onChange:X=>R(X.target.value),className:"w-full border px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:B.settingsBg,borderColor:"transparent",color:B.textMain},placeholder:"Ideas for new modes, obstacles, or features..."}),I.jsx("button",{onClick:q,disabled:$!=="idle"||!L.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${$==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:$==="submitting"?"Sending...":$==="success"?"Sent! Thanks":"Submit Suggestion"})]})]}),I.jsx("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:B.textSub},children:"Close Settings"})]})}),I.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[I.jsxs("div",{className:"flex flex-col items-start",children:[I.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:B.textSub},children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),fn&&I.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[I.jsx("span",{className:"font-bold uppercase tracking-widest",style:{color:B.textSub},children:i==="quick"?"Quick Leader":"Standard Leader"}),I.jsx(Um,{size:12,className:"text-yellow-500 fill-yellow-500"}),I.jsx("span",{className:"font-bold",style:{color:B.textMain},children:fn.name}),I.jsxs("span",{className:"font-mono",style:{color:B.textSub},children:[fn.score,"m"]})]}),I.jsxs("div",{className:"block md:hidden",children:[Mt>0&&r==="playing"&&I.jsxs("button",{onClick:Wt,disabled:Ke||Lt,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",I.jsx(b0,{size:10,style:{color:Pm.starGold}})]}),r==="gameOver"&&Me&&I.jsxs("button",{onClick:()=>Qe(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:B.accentPrimary,color:"white"},children:[I.jsx(g0,{size:12})," RESULTS"]})]})]}),I.jsxs("div",{className:"flex flex-col items-center flex-1",children:[I.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:fi,children:I.jsx(tb,{})}),I.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&Mt>0&&I.jsxs("button",{onClick:Wt,disabled:Ke||Lt,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",I.jsx(b0,{size:10,style:{color:Pm.starGold}})]}),r==="gameOver"&&Me&&I.jsxs("button",{onClick:()=>Qe(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:B.accentPrimary},children:[I.jsx(g0,{size:14})," BACK TO RESULTS"]})]})]}),I.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[I.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:B.accentPrimary},children:l||"PLAYER 1"}),I.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:B.accentPrimary},children:[I.jsx(UT,{size:16})," ",g,"m"]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsxs("button",{onClick:()=>Ni(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:B.textSub},children:["Rules ",I.jsx(MT,{size:12})]}),I.jsx("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:B.textSub},children:I.jsx(FT,{size:14})})]})]})]}),I.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Js,onMouseLeave:ks,onMouseUp:dn,onMouseMove:rs,children:I.jsx("div",{ref:Fn,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Ci?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:I.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[I.jsx("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${Zi*Is}px`},children:I.jsx("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest",children:"PAR"})}),I.jsx("div",{className:"flex relative mb-3",style:{width:`${Q[0].length*Is}px`,height:"24px"},children:Array(Q[0].length).fill(0).map((X,se)=>{const ve=se===0,be=(se+1)%5===0;if(!ve&&!be)return null;const _e=Mt<3;return I.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:se*Is+Is/2,transform:`translateX(-50%) ${ve&&_e?"translateY(-45px)":"translateY(0)"}`},children:[I.jsx("span",{className:"text-xs tracking-wider",style:{color:ve?B.textMain:B.textSub},children:ve?"START":`${se+1}m`}),I.jsx("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:ve?B.textMain:B.boardLines}})]},`ruler-${se}`)})}),I.jsxs("div",{className:"relative",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:N&&bi.filter(X=>X.type==="top").map((X,se)=>{const ve=Math.max(X.startCol,Mt+X.offset);return I.jsx("div",{className:"absolute -top-[55px]",style:{left:`${ve*Is}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:I.jsx(nb,{trigger:et})},`fan-top-${X.id}`)})}),I.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${Q[0].length}, ${Is}px)`,gridTemplateRows:`repeat(${ps}, ${Is}px)`,backgroundColor:B.boardBackground,borderColor:B.boardLines},children:Array(ps).fill(0).map((X,se)=>Array(Q[0].length).fill(0).map((ve,be)=>{const _e=or(se,be),Fe=Ts(se,be),We=lr(se,be),Ve=qt.some(Yr=>Yr.r===se&&Yr.c===be),Ye=be===0&&!_e&&!$s,ft=_e?.type==="locked",rn=(be+1)%5===0,Gt=be<g,Ei=Vt&&Vt.r===se&&Vt.c===be,Hi=Ke&&ft?"animate-jump-green":"";return I.jsxs("div",{onClick:()=>ar(se,be),onDragOver:Fr,onDrop:Yr=>br(Yr,se,be),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${_e?_e.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":We?"cursor-not-allowed":"hover:bg-white/20"}  ${_e?.type==="temp"?`bg-[${B.tileTemp}] ring-2 ring-[${B.tileTempRing}] -translate-y-[2px] z-10`:""} ${!_e&&!We&&Gt?"bg-white/20":be===0&&!_e?"bg-green-100/40":!_e&&!We&&!Ye&&(se+be)%2===0?"bg-black/5":"bg-transparent"} ${Ei?"ring-4 ring-blue-400 z-20":""} ${!_e&&Ei?"bg-blue-50/20":""} ${!_e&&rn?"border-r-2 border-r-black/10":"border border-black/5"} ${Gt?"animate-pop-green":""} ${Hi}`,style:ft?{backgroundColor:Gt?B.overlayComplete:B.tileLocked,color:B.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:Ke?`${be*50}ms`:"0ms"}:_e?.type==="temp"?{backgroundColor:_e.isWild?B.tileWildPlaced:B.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:We?{backgroundColor:B.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!_e&&Ye&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:I.jsx(vT,{size:20,style:{color:B.startArrow}})}),!_e&&We&&I.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!_e&&Fe&&!We&&!Ve&&I.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[I.jsx(_m,{className:"w-6 h-6",fill:B.starGold,stroke:B.starGold}),I.jsxs("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"},children:["+",Fe.val]})]}),!_e&&Ve&&!We&&I.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:I.jsx(_h,{className:"w-7 h-7",fill:B.starPurple,stroke:B.starPurple})}),_e&&I.jsxs("div",{draggable:_e.type==="temp"&&!Ke&&r==="playing",onDragStart:Yr=>ss(Yr,{type:"board",r:se,c:be,letter:_e.letter}),className:`w-full h-full flex items-center justify-center ${_e.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[I.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:_e.letter}),_e.isWild&&I.jsx(_h,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${se}-${be}`)}))}),I.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:N&&bi.filter(X=>X.type==="bottom").map((X,se)=>{const ve=Math.max(X.startCol,Mt+X.offset);return I.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${ve*Is}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:I.jsx(nb,{trigger:et})},`fan-bottom-${X.id}`)})})]}),Ct&&I.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:I.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[I.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),I.jsx(gT,{size:16}),"Start Here!"]})})]})})}),I.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[I.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[I.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${qe.type==="error"?"bg-red-100 text-red-700":qe.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[I.jsx("span",{children:Lt?"Checking...":qe.text}),qe.type==="error"&&qe.invalidWord&&I.jsxs("button",{onClick:()=>ur(qe.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:B.accentPrimary,color:"white"},children:["Report ",I.jsx(y0,{size:10})]})]}),I.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[I.jsx("button",{onClick:wn,disabled:Ke||j.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:B.modalBg,color:B.textMain},title:"Undo last move",children:I.jsx(v0,{size:16})}),I.jsxs("button",{onClick:wr,disabled:Ke||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:B.modalBg,color:B.textMain},children:[I.jsx(YT,{size:16})," Shuffle"]}),I.jsxs("button",{onClick:Nt,disabled:Ke||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:B.modalBg,color:B.textMain},children:[I.jsx(oT,{size:16})," Sort A-Z"]}),vt.length>0&&I.jsxs("button",{onClick:zi,disabled:Lt||Ke||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${Lt||Ke?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:Lt||Ke?{}:{backgroundColor:B.accentPrimary,color:"white"},children:[Lt?"Checking...":"JUMP"," ",I.jsx(mT,{size:18,strokeWidth:4})]}),vt.length>0&&I.jsx("button",{onClick:()=>{const se=vt.map(ve=>ve.isWild?"*":ve.letter).map(ve=>Bu(ve,!1));Ee(ve=>[...ve,...se].sort((be,_e)=>be.letter!==_e.letter?be.letter.localeCompare(_e.letter):be.isNew===_e.isNew?0:be.isNew?1:-1)),It([]),Ut(null)},disabled:Ke||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:I.jsx(bm,{size:16})})]})]}),I.jsxs("div",{onDragOver:Fr,onDrop:as,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:B.handBg},children:[qn.length===0&&I.jsx("div",{className:"italic",style:{color:B.textSub},children:"Empty Hand"}),qn.length<6?I.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:qn.map(X=>I.jsx(Fi,{letter:X},X))}):I.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[I.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Gr.map(X=>I.jsx(Fi,{letter:X},X))}),I.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Er.map(X=>I.jsx(Fi,{letter:X},X))})]})]})]}),I.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}eT.createRoot(document.getElementById("root")).render(I.jsx(ze.StrictMode,{children:I.jsx(IM,{})}));
