(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function jw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},Dt={};var r0;function Fw(){if(r0)return Dt;r0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.iterator;function ie(U){return U===null||typeof U!="object"?null:(U=G&&U[G]||U["@@iterator"],typeof U=="function"?U:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ke=Object.assign,Se={};function je(U,oe,Ie){this.props=U,this.context=oe,this.refs=Se,this.updater=Ie||B}je.prototype.isReactComponent={},je.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},je.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=je.prototype;function Pe(U,oe,Ie){this.props=U,this.context=oe,this.refs=Se,this.updater=Ie||B}var tt=Pe.prototype=new j;tt.constructor=Pe,ke(tt,je.prototype),tt.isPureReactComponent=!0;var nt=Array.isArray;function lt(){}var Y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function P(U,oe,Ie){var Ae=Ie.ref;return{$$typeof:i,type:U,key:oe,ref:Ae!==void 0?Ae:null,props:Ie}}function H(U,oe){return P(U.type,oe,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function L(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ie){return oe[Ie]})}var I=/\/+/g;function $(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):oe.toString(36)}function re(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(lt,lt):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function q(U,oe,Ie,Ae,Me){var We=typeof U;(We==="undefined"||We==="boolean")&&(U=null);var dt=!1;if(U===null)dt=!0;else switch(We){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(U.$$typeof){case i:case e:dt=!0;break;case N:return dt=U._init,q(dt(U._payload),oe,Ie,Ae,Me)}}if(dt)return Me=Me(U),dt=Ae===""?"."+$(U,0):Ae,nt(Me)?(Ie="",dt!=null&&(Ie=dt.replace(I,"$&/")+"/"),q(Me,oe,Ie,"",function(Mt){return Mt})):Me!=null&&(R(Me)&&(Me=H(Me,Ie+(Me.key==null||U&&U.key===Me.key?"":(""+Me.key).replace(I,"$&/")+"/")+dt)),oe.push(Me)),1;dt=0;var gt=Ae===""?".":Ae+":";if(nt(U))for(var Et=0;Et<U.length;Et++)Ae=U[Et],We=gt+$(Ae,Et),dt+=q(Ae,oe,Ie,We,Me);else if(Et=ie(U),typeof Et=="function")for(U=Et.call(U),Et=0;!(Ae=U.next()).done;)Ae=Ae.value,We=gt+$(Ae,Et++),dt+=q(Ae,oe,Ie,We,Me);else if(We==="object"){if(typeof U.then=="function")return q(re(U),oe,Ie,Ae,Me);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return dt}function X(U,oe,Ie){if(U==null)return U;var Ae=[],Me=0;return q(U,Ae,"","",function(We){return oe.call(Ie,We,Me++)}),Ae}function ye(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(Ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ie)},function(Ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ie)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Te={map:X,forEach:function(U,oe,Ie){X(U,function(){oe.apply(this,arguments)},Ie)},count:function(U){var oe=0;return X(U,function(){oe++}),oe},toArray:function(U){return X(U,function(oe){return oe})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Dt.Activity=O,Dt.Children=Te,Dt.Component=je,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=Pe,Dt.StrictMode=a,Dt.Suspense=E,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Y.H.useMemoCache(U)}},Dt.cache=function(U){return function(){return U.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(U,oe,Ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ae=ke({},U.props),Me=U.key;if(oe!=null)for(We in oe.key!==void 0&&(Me=""+oe.key),oe)!F.call(oe,We)||We==="key"||We==="__self"||We==="__source"||We==="ref"&&oe.ref===void 0||(Ae[We]=oe[We]);var We=arguments.length-2;if(We===1)Ae.children=Ie;else if(1<We){for(var dt=Array(We),gt=0;gt<We;gt++)dt[gt]=arguments[gt+2];Ae.children=dt}return P(U.type,Me,Ae)},Dt.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Dt.createElement=function(U,oe,Ie){var Ae,Me={},We=null;if(oe!=null)for(Ae in oe.key!==void 0&&(We=""+oe.key),oe)F.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Me[Ae]=oe[Ae]);var dt=arguments.length-2;if(dt===1)Me.children=Ie;else if(1<dt){for(var gt=Array(dt),Et=0;Et<dt;Et++)gt[Et]=arguments[Et+2];Me.children=gt}if(U&&U.defaultProps)for(Ae in dt=U.defaultProps,dt)Me[Ae]===void 0&&(Me[Ae]=dt[Ae]);return P(U,We,Me)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(U){return{$$typeof:b,render:U}},Dt.isValidElement=R,Dt.lazy=function(U){return{$$typeof:N,_payload:{_status:-1,_result:U},_init:ye}},Dt.memo=function(U,oe){return{$$typeof:w,type:U,compare:oe===void 0?null:oe}},Dt.startTransition=function(U){var oe=Y.T,Ie={};Y.T=Ie;try{var Ae=U(),Me=Y.S;Me!==null&&Me(Ie,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(lt,fe)}catch(We){fe(We)}finally{oe!==null&&Ie.types!==null&&(oe.types=Ie.types),Y.T=oe}},Dt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Dt.use=function(U){return Y.H.use(U)},Dt.useActionState=function(U,oe,Ie){return Y.H.useActionState(U,oe,Ie)},Dt.useCallback=function(U,oe){return Y.H.useCallback(U,oe)},Dt.useContext=function(U){return Y.H.useContext(U)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(U,oe){return Y.H.useDeferredValue(U,oe)},Dt.useEffect=function(U,oe){return Y.H.useEffect(U,oe)},Dt.useEffectEvent=function(U){return Y.H.useEffectEvent(U)},Dt.useId=function(){return Y.H.useId()},Dt.useImperativeHandle=function(U,oe,Ie){return Y.H.useImperativeHandle(U,oe,Ie)},Dt.useInsertionEffect=function(U,oe){return Y.H.useInsertionEffect(U,oe)},Dt.useLayoutEffect=function(U,oe){return Y.H.useLayoutEffect(U,oe)},Dt.useMemo=function(U,oe){return Y.H.useMemo(U,oe)},Dt.useOptimistic=function(U,oe){return Y.H.useOptimistic(U,oe)},Dt.useReducer=function(U,oe,Ie){return Y.H.useReducer(U,oe,Ie)},Dt.useRef=function(U){return Y.H.useRef(U)},Dt.useState=function(U){return Y.H.useState(U)},Dt.useSyncExternalStore=function(U,oe,Ie){return Y.H.useSyncExternalStore(U,oe,Ie)},Dt.useTransition=function(){return Y.H.useTransition()},Dt.version="19.2.0",Dt}var i0;function ah(){return i0||(i0=1,hm.exports=Fw()),hm.exports}var Be=ah();const x=jw(Be);var dm={exports:{}},zu={},mm={exports:{}},pm={};var a0;function Hw(){return a0||(a0=1,(function(i){function e(q,X){var ye=q.length;q.push(X);e:for(;0<ye;){var fe=ye-1>>>1,Te=q[fe];if(0<l(Te,X))q[fe]=X,q[ye]=Te,ye=fe;else break e}}function r(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var X=q[0],ye=q.pop();if(ye!==X){q[0]=ye;e:for(var fe=0,Te=q.length,U=Te>>>1;fe<U;){var oe=2*(fe+1)-1,Ie=q[oe],Ae=oe+1,Me=q[Ae];if(0>l(Ie,ye))Ae<Te&&0>l(Me,Ie)?(q[fe]=Me,q[Ae]=ye,fe=Ae):(q[fe]=Ie,q[oe]=ye,fe=oe);else if(Ae<Te&&0>l(Me,ye))q[fe]=Me,q[Ae]=ye,fe=Ae;else break e}}return X}function l(q,X){var ye=q.sortIndex-X.sortIndex;return ye!==0?ye:q.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var E=[],w=[],N=1,O=null,G=3,ie=!1,B=!1,ke=!1,Se=!1,je=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;function tt(q){for(var X=r(w);X!==null;){if(X.callback===null)a(w);else if(X.startTime<=q)a(w),X.sortIndex=X.expirationTime,e(E,X);else break;X=r(w)}}function nt(q){if(ke=!1,tt(q),!B)if(r(E)!==null)B=!0,lt||(lt=!0,L());else{var X=r(w);X!==null&&re(nt,X.startTime-q)}}var lt=!1,Y=-1,F=5,P=-1;function H(){return Se?!0:!(i.unstable_now()-P<F)}function R(){if(Se=!1,lt){var q=i.unstable_now();P=q;var X=!0;try{e:{B=!1,ke&&(ke=!1,j(Y),Y=-1),ie=!0;var ye=G;try{t:{for(tt(q),O=r(E);O!==null&&!(O.expirationTime>q&&H());){var fe=O.callback;if(typeof fe=="function"){O.callback=null,G=O.priorityLevel;var Te=fe(O.expirationTime<=q);if(q=i.unstable_now(),typeof Te=="function"){O.callback=Te,tt(q),X=!0;break t}O===r(E)&&a(E),tt(q)}else a(E);O=r(E)}if(O!==null)X=!0;else{var U=r(w);U!==null&&re(nt,U.startTime-q),X=!1}}break e}finally{O=null,G=ye,ie=!1}X=void 0}}finally{X?L():lt=!1}}}var L;if(typeof Pe=="function")L=function(){Pe(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=R,L=function(){$.postMessage(null)}}else L=function(){je(R,0)};function re(q,X){Y=je(function(){q(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return G},i.unstable_next=function(q){switch(G){case 1:case 2:case 3:var X=3;break;default:X=G}var ye=G;G=X;try{return q()}finally{G=ye}},i.unstable_requestPaint=function(){Se=!0},i.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=G;G=q;try{return X()}finally{G=ye}},i.unstable_scheduleCallback=function(q,X,ye){var fe=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?fe+ye:fe):ye=fe,q){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ye+Te,q={id:N++,callback:X,priorityLevel:q,startTime:ye,expirationTime:Te,sortIndex:-1},ye>fe?(q.sortIndex=ye,e(w,q),r(E)===null&&q===r(w)&&(ke?(j(Y),Y=-1):ke=!0,re(nt,ye-fe))):(q.sortIndex=Te,e(E,q),B||ie||(B=!0,lt||(lt=!0,L()))),q},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(q){var X=G;return function(){var ye=G;G=X;try{return q.apply(this,arguments)}finally{G=ye}}}})(pm)),pm}var s0;function qw(){return s0||(s0=1,mm.exports=Hw()),mm.exports}var gm={exports:{}},hi={};var o0;function Gw(){if(o0)return hi;o0=1;var i=ah();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)w+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,N){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:E,containerInfo:w,implementation:N}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hi.createPortal=function(E,w){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,N)},hi.flushSync=function(E){var w=p.T,N=a.p;try{if(p.T=null,a.p=2,E)return E()}finally{p.T=w,a.p=N,a.d.f()}},hi.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,a.d.C(E,w))},hi.prefetchDNS=function(E){typeof E=="string"&&a.d.D(E)},hi.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var N=w.as,O=b(N,w.crossOrigin),G=typeof w.integrity=="string"?w.integrity:void 0,ie=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;N==="style"?a.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:O,integrity:G,fetchPriority:ie}):N==="script"&&a.d.X(E,{crossOrigin:O,integrity:G,fetchPriority:ie,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},hi.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var N=b(w.as,w.crossOrigin);a.d.M(E,{crossOrigin:N,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&a.d.M(E)},hi.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var N=w.as,O=b(N,w.crossOrigin);a.d.L(E,N,{crossOrigin:O,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},hi.preloadModule=function(E,w){if(typeof E=="string")if(w){var N=b(w.as,w.crossOrigin);a.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:N,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else a.d.m(E)},hi.requestFormReset=function(E){a.d.r(E)},hi.unstable_batchedUpdates=function(E,w){return E(w)},hi.useFormState=function(E,w,N){return p.H.useFormState(E,w,N)},hi.useFormStatus=function(){return p.H.useHostTransitionStatus()},hi.version="19.2.0",hi}var l0;function Yw(){if(l0)return gm.exports;l0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=Gw(),gm.exports}var u0;function Xw(){if(u0)return zu;u0=1;var i=qw(),e=ah(),r=Yw();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(a(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return E(f),t;if(m===o)return E(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=m;else{for(var T=!1,M=f.child;M;){if(M===s){T=!0,s=f,o=m;break}if(M===o){T=!0,o=f,s=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===s){T=!0,s=m,o=f;break}if(M===o){T=!0,o=m,s=f;break}M=M.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function N(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=N(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,G=Symbol.for("react.element"),ie=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),ke=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),je=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),Pe=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ke:return"Fragment";case je:return"Profiler";case Se:return"StrictMode";case nt:return"Suspense";case lt:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Pe:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:$(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return $(t(n))}catch{}}return null}var re=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},fe=[],Te=-1;function U(t){return{current:t}}function oe(t){0>Te||(t.current=fe[Te],fe[Te]=null,Te--)}function Ie(t,n){Te++,fe[Te]=t.current,t.current=n}var Ae=U(null),Me=U(null),We=U(null),dt=U(null);function gt(t,n){switch(Ie(We,n),Ie(Me,t),Ie(Ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cv(n),t=Rv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Ae),Ie(Ae,t)}function Et(){oe(Ae),oe(Me),oe(We)}function Mt(t){t.memoizedState!==null&&Ie(dt,t);var n=Ae.current,s=Rv(n,t.type);n!==s&&(Ie(Me,t),Ie(Ae,s))}function _n(t){Me.current===t&&(oe(Ae),oe(Me)),dt.current===t&&(oe(dt),Vu._currentValue=ye)}var mt,At;function nn(t){if(mt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);mt=n&&n[1]||"",At=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+At}var Gt=!1;function er(t,n){if(!t||Gt)return"";Gt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ge){var de=ge}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(ge){de=ge}t.call(Ce.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Q=T.split(`
`),ce=M.split(`
`);for(f=o=0;o<Q.length&&!Q[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ce.length&&!ce[f].includes("DetermineComponentFrameRoot");)f++;if(o===Q.length||f===ce.length)for(o=Q.length-1,f=ce.length-1;1<=o&&0<=f&&Q[o]!==ce[f];)f--;for(;1<=o&&0<=f;o--,f--)if(Q[o]!==ce[f]){if(o!==1||f!==1)do if(o--,f--,0>f||Q[o]!==ce[f]){var _e=`
`+Q[o].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=o&&0<=f);break}}}finally{Gt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?nn(s):""}function wr(t,n){switch(t.tag){case 26:case 27:case 5:return nn(t.type);case 16:return nn("Lazy");case 13:return t.child!==n&&n!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return er(t.type,!1);case 11:return er(t.type.render,!1);case 1:return er(t.type,!0);case 31:return nn("Activity");default:return""}}function on(t){try{var n="",s=null;do n+=wr(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var st=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Pt=i.unstable_cancelCallback,Rn=i.unstable_shouldYield,_t=i.unstable_requestPaint,kt=i.unstable_now,Nt=i.unstable_getCurrentPriorityLevel,C=i.unstable_ImmediatePriority,g=i.unstable_UserBlockingPriority,v=i.unstable_NormalPriority,k=i.unstable_LowPriority,J=i.unstable_IdlePriority,pe=i.log,Ne=i.unstable_setDisableYieldValue,et=null,rt=null;function Ye(t){if(typeof pe=="function"&&Ne(t),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(et,t)}catch{}}var Fe=Math.clz32?Math.clz32:ln,Ut=Math.log,In=Math.LN2;function ln(t){return t>>>=0,t===0?32:31-(Ut(t)/In|0)|0}var On=256,Qn=262144,Bt=4194304;function An(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?f=An(o):(T&=M,T!==0?f=An(T):s||(s=M&~t,s!==0&&(f=An(s))))):(M=o&~m,M!==0?f=An(M):T!==0?f=An(T):s||(s=o&~t,s!==0&&(f=An(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function Wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var t=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),t}function Fn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Rt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function or(t,n,s,o,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,Q=t.expirationTimes,ce=t.hiddenUpdates;for(s=T&~s;0<s;){var _e=31-Fe(s),Ce=1<<_e;M[_e]=0,Q[_e]=-1;var de=ce[_e];if(de!==null)for(ce[_e]=null,_e=0;_e<de.length;_e++){var ge=de[_e];ge!==null&&(ge.lane&=-536870913)}s&=~Ce}o!==0&&Pr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Pr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Fe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function na(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Fe(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function Cr(t,n){var s=n&-n;return s=(s&42)!==0?1:yi(s),(s&(t.suspendedLanes|n))!==0?0:s}function yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Na(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function Ii(t,n){var s=X.p;try{return X.p=t,n()}finally{X.p=s}}var Lr=Math.random().toString(36).slice(2),fn="__reactFiber$"+Lr,tr="__reactProps$"+Lr,ti="__reactContainer$"+Lr,xi="__reactEvents$"+Lr,ni="__reactListeners$"+Lr,Wa="__reactHandles$"+Lr,_a="__reactResources$"+Lr,ri="__reactMarker$"+Lr;function Ur(t){delete t[fn],delete t[tr],delete t[xi],delete t[ni],delete t[Wa]}function zr(t){var n=t[fn];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ti]||s[fn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=kv(t);t!==null;){if(s=t[fn])return s;t=kv(t)}return n}t=s,s=t.parentNode}return null}function Br(t){if(t=t[fn]||t[ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Rr(t){var n=t[_a];return n||(n=t[_a]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Vn(t){t[ri]=!0}var ba=new Set,jr={};function Fr(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(jr[t]=n,t=0;t<n.length;t++)ba.add(n[t])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mi={},xn={};function ra(t){return st.call(xn,t)?!0:st.call(Mi,t)?!1:Ka.test(t)?xn[t]=!0:(Mi[t]=!0,!1)}function vi(t,n,s){if(ra(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ir(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function bn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Kn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _i(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Hr(t)?"checked":"value";t._valueTracker=_i(t,n,""+t[n])}}function hr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Hr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ht(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dr=/[\n"\\]/g;function Pn(t){return t.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,s,o,f,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kn(n)):t.value!==""+Kn(n)&&(t.value=""+Kn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Da(t,T,Kn(n)):s!=null?Da(t,T,Kn(s)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Kn(M):t.removeAttribute("name")}function $a(t,n,s,o,f,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Yt(t);return}s=s!=null?""+Kn(s):"",n=n!=null?""+Kn(n):s,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Yt(t)}function Da(t,n,s){n==="number"&&ht(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function hn(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Kn(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function ia(t,n,s){if(n!=null&&(n=""+Kn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Kn(s):""}function Ni(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(re(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Kn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),Yt(t)}function $n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wa(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||qr.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function bi(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&wa(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&wa(t,m,n[m])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ai=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return ai.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Oa=null;function Gr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,xr=null;function li(t){var n=Br(t);if(n&&(t=n.stateNode)){var s=t[tr]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Pn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[tr]||null;if(!f)throw Error(a(90));Ea(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&hr(o)}break e;case"textarea":ia(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&hn(t,!!s.multiple,n,!1)}}}var Gi=!1;function ui(t,n,s){if(Gi)return t(n,s);Gi=!0;try{var o=t(n);return o}finally{if(Gi=!1,(oi!==null||xr!==null)&&(Wc(),oi&&(n=oi,t=xr,xr=oi=null,li(n),t)))for(n=0;n<t.length;n++)li(t[n])}}function Tr(t,n){var s=t.stateNode;if(s===null)return null;var o=s[tr]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=!1;if(Ln)try{var It={};Object.defineProperty(It,"passive",{get:function(){Di=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{Di=!1}var Oi=null,Mr=null,mr=null;function Yi(){if(mr)return mr;var t,n=Mr,s=n.length,o,f="value"in Oi?Oi.value:Oi.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===f[m-o];o++);return mr=f.slice(t,1<o?1-o:void 0)}function ki(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function wi(){return!1}function nr(t){function n(s,o,f,m,T){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ei:wi,this.isPropagationStopped=wi,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),n}var W={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=nr(W),be=O({},W,{view:0,detail:0}),Ee=nr(be),ve,He,Le,Ve=O({},be,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Le&&(Le&&t.type==="mousemove"?(ve=t.screenX-Le.screenX,He=t.screenY-Le.screenY):He=ve=0,Le=t),ve)},movementY:function(t){return"movementY"in t?t.movementY:He}}),ct=nr(Ve),qe=O({},Ve,{dataTransfer:0}),pt=nr(qe),wt=O({},be,{relatedTarget:0}),zn=nr(wt),Jn=O({},W,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=nr(Jn),Nr=O({},W,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ja=nr(Nr),Ns=O({},W,{data:0}),Xi=nr(Ns),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function ka(){return Os}var Yr=O({},be,{key:function(t){if(t.key){var n=Ds[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(t){return t.type==="keypress"?ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),So=nr(Yr),Zo=O({},Ve,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=nr(Zo),u=O({},be,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),y=nr(u),A=O({},W,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=nr(A),se=O({},Ve,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),me=nr(se),Ue=O({},W,{newState:0,oldState:0}),Ct=nr(Ue),rr=[9,13,27,32],un=Ln&&"CompositionEvent"in window,Bn=null;Ln&&"documentMode"in document&&(Bn=document.documentMode);var ci=Ln&&"TextEvent"in window&&!Bn,Vi=Ln&&(!un||Bn&&8<Bn&&11>=Bn),Pi=" ",Ti=!1;function oa(t,n){switch(t){case"keyup":return rr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function Ch(t,n){switch(t){case"compositionend":return Za(n);case"keypress":return n.which!==32?null:(Ti=!0,Pi);case"textInput":return t=n.data,t===Pi&&Ti?null:t;default:return null}}function yc(t,n){if(es)return t==="compositionend"||!un&&oa(t,n)?(t=Yi(),mr=Mr=Oi=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function qn(t,n,s,o){oi?xr?xr.push(o):xr=[o]:oi=o,n=nf(n,"onChange"),0<n.length&&(s=new ae("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ai=null,ts=null;function vc(t){bv(t,0)}function Co(t){var n=Hn(t);if(hr(n))return t}function iu(t,n){if(t==="change")return n}var au=!1;if(Ln){var ks;if(Ln){var tl="oninput"in document;if(!tl){var h=document.createElement("div");h.setAttribute("oninput","return;"),tl=typeof h.oninput=="function"}ks=tl}else ks=!1;au=ks&&(!document.documentMode||9<document.documentMode)}function d(){Ai&&(Ai.detachEvent("onpropertychange",_),ts=Ai=null)}function _(t){if(t.propertyName==="value"&&Co(ts)){var n=[];qn(n,ts,t,Gr(t)),ui(vc,n)}}function S(t,n,s){t==="focusin"?(d(),Ai=n,ts=s,Ai.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(ts)}function z(t,n){if(t==="click")return Co(n)}function Z(t,n){if(t==="input"||t==="change")return Co(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var he=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(he(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!st.call(n,f)||!he(t[f],n[f]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $e(t,n){var s=Oe(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Oe(s)}}function ot(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ot(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function te(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ht(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ht(t.document)}return n}function ze(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var it=Ln&&"documentMode"in document&&11>=document.documentMode,Ge=null,dn=null,Je=null,Ft=!1;function En(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ft||Ge==null||Ge!==ht(o)||(o=Ge,"selectionStart"in o&&ze(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Je&&ue(Je,o)||(Je=o,o=nf(dn,"onSelect"),0<o.length&&(n=new ae("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ge)))}function lr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Li={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},qt={},Qi={};Ln&&(Qi=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function ns(t){if(qt[t])return qt[t];if(!Li[t])return t;var n=Li[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Qi)return qt[t]=n[s];return t}var De=ns("animationend"),Qe=ns("animationiteration"),Ht=ns("animationstart"),Kt=ns("transitionrun"),Vt=ns("transitionstart"),Xt=ns("transitioncancel"),an=ns("transitionend"),cn=new Map,Si="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Si.push("scrollEnd");function wn(t,n){cn.set(t,n),Fr(n,[t])}var Xr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],rs=0,nl=0;function Va(){for(var t=rs,n=nl=rs=0;n<t;){var s=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var f=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}m!==0&&su(s,f,m)}}function Pa(t,n,s,o){gn[rs++]=t,gn[rs++]=n,gn[rs++]=s,gn[rs++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Aa(t,n,s,o){return Pa(t,n,s,o),Ro(t)}function Ci(t,n){return Pa(t,null,null,n),Ro(t)}function su(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Fe(s),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),m):null}function Ro(t){if(50<Iu)throw Iu=0,Pd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wi={};function Rh(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,n,s,o){return new Rh(t,n,s,o)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,n){var s=t.alternate;return s===null?(s=fi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ng(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function _c(t,n,s,o,f,m){var T=0;if(o=t,typeof t=="function")Ih(t)&&(T=1);else if(typeof t=="string")T=xw(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=fi(31,s,n,f),t.elementType=P,t.lanes=m,t;case ke:return Io(s.children,f,m,n);case Se:T=8,f|=24;break;case je:return t=fi(12,s,n,f|2),t.elementType=je,t.lanes=m,t;case nt:return t=fi(13,s,n,f),t.elementType=nt,t.lanes=m,t;case lt:return t=fi(19,s,n,f),t.elementType=lt,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pe:T=10;break e;case j:T=9;break e;case tt:T=11;break e;case Y:T=14;break e;case F:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=fi(T,s,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Io(t,n,s,o){return t=fi(7,t,o,n),t.lanes=s,t}function xh(t,n,s){return t=fi(6,t,null,n),t.lanes=s,t}function rg(t){var n=fi(18,null,null,0);return n.stateNode=t,n}function Mh(t,n,s){return n=fi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function la(t,n){if(typeof t=="object"&&t!==null){var s=ig.get(t);return s!==void 0?s:(n={value:t,source:n,stack:on(n)},ig.set(t,n),n)}return{value:t,source:n,stack:on(n)}}var rl=[],il=0,bc=null,ou=0,ua=[],ca=0,Vs=null,La=1,Ua="";function as(t,n){rl[il++]=ou,rl[il++]=bc,bc=t,ou=n}function ag(t,n,s){ua[ca++]=La,ua[ca++]=Ua,ua[ca++]=Vs,Vs=t;var o=La;t=Ua;var f=32-Fe(o)-1;o&=~(1<<f),s+=1;var m=32-Fe(n)+f;if(30<m){var T=f-f%5;m=(o&(1<<T)-1).toString(32),o>>=T,f-=T,La=1<<32-Fe(n)+f|s<<f|o,Ua=m+t}else La=1<<m|s<<f|o,Ua=t}function Nh(t){t.return!==null&&(as(t,1),ag(t,1,0))}function Dh(t){for(;t===bc;)bc=rl[--il],rl[il]=null,ou=rl[--il],rl[il]=null;for(;t===Vs;)Vs=ua[--ca],ua[ca]=null,Ua=ua[--ca],ua[ca]=null,La=ua[--ca],ua[ca]=null}function sg(t,n){ua[ca++]=La,ua[ca++]=Ua,ua[ca++]=Vs,La=n.id,Ua=n.overflow,Vs=t}var Qr=null,Gn=null,rn=!1,Ps=null,fa=!1,Oh=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(la(n,t)),Oh}function og(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[fn]=t,n[tr]=o,s){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(s=0;s<Mu.length;s++)Wt(Mu[s],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Wt("invalid",n),$a(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Wt("invalid",n);break;case"textarea":Wt("invalid",n),Ni(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Av(n.textContent,s)?(o.popover!=null&&(Wt("beforetoggle",n),Wt("toggle",n)),o.onScroll!=null&&Wt("scroll",n),o.onScrollEnd!=null&&Wt("scrollend",n),o.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Ls(t,!0)}function lg(t){for(Qr=t.return;Qr;)switch(Qr.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:Qr=Qr.return}}function al(t){if(t!==Qr)return!1;if(!rn)return lg(t),rn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&Gn&&Ls(t),lg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Gn=Ov(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Gn=Ov(t)}else n===27?(n=Gn,$s(t.type)?(t=nm,nm=null,Gn=t):Gn=n):Gn=Qr?da(t.stateNode.nextSibling):null;return!0}function xo(){Gn=Qr=null,rn=!1}function kh(){var t=Ps;return t!==null&&(ji===null?ji=t:ji.push.apply(ji,t),Ps=null),t}function lu(t){Ps===null?Ps=[t]:Ps.push(t)}var Vh=U(null),Mo=null,ss=null;function Us(t,n,s){Ie(Vh,n._currentValue),n._currentValue=s}function os(t){t._currentValue=Vh.current,oe(Vh)}function Ph(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Lh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=f;for(var Q=0;Q<n.length;Q++)if(M.context===n[Q]){m.lanes|=s,M=m.alternate,M!==null&&(M.lanes|=s),Ph(m.return,s,t),o||(T=null);break e}m=M.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),Ph(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function sl(t,n,s,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=f.type;he(f.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(f===dt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Vu):t=[Vu])}f=f.return}t!==null&&Lh(n,t,s,o),n.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!he(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function No(t){Mo=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wr(t){return ug(Mo,t)}function wc(t,n){return Mo===null&&No(t),ug(t,n)}function ug(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return s}var SE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},CE=i.unstable_scheduleCallback,RE=i.unstable_NormalPriority,pr={$$typeof:Pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new SE,data:new Map,refCount:0}}function uu(t){t.refCount--,t.refCount===0&&CE(RE,function(){t.controller.abort()})}var cu=null,zh=0,ol=0,ll=null;function IE(t,n){if(cu===null){var s=cu=[];zh=0,ol=Fd(),ll={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zh++,n.then(cg,cg),n}function cg(){if(--zh===0&&cu!==null){ll!==null&&(ll.status="fulfilled");var t=cu;cu=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var fg=q.S;q.S=function(t,n){Qy=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IE(t,n),fg!==null&&fg(t,n)};var Do=U(null);function Bh(){var t=Do.current;return t!==null?t:Un.pooledCache}function Tc(t,n){n===null?Ie(Do,Do.current):Ie(Do,n.pool)}function hg(){var t=Bh();return t===null?null:{parent:pr._currentValue,pool:t}}var ul=Error(a(460)),jh=Error(a(474)),Ac=Error(a(542)),Sc={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(si,si),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=Un,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t}throw ko=n,ul}}function Oo(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ko=s,ul):s}}var ko=null;function pg(){if(ko===null)throw Error(a(459));var t=ko;return ko=null,t}function gg(t){if(t===ul||t===Ac)throw Error(a(483))}var cl=null,fu=0;function Cc(t){var n=fu;return fu+=1,cl===null&&(cl=[]),mg(cl,t,n)}function hu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Rc(t,n){throw n.$$typeof===G?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yg(t){function n(ne,K){if(t){var le=ne.deletions;le===null?(ne.deletions=[K],ne.flags|=16):le.push(K)}}function s(ne,K){if(!t)return null;for(;K!==null;)n(ne,K),K=K.sibling;return null}function o(ne){for(var K=new Map;ne!==null;)ne.key!==null?K.set(ne.key,ne):K.set(ne.index,ne),ne=ne.sibling;return K}function f(ne,K){return ne=is(ne,K),ne.index=0,ne.sibling=null,ne}function m(ne,K,le){return ne.index=le,t?(le=ne.alternate,le!==null?(le=le.index,le<K?(ne.flags|=67108866,K):le):(ne.flags|=67108866,K)):(ne.flags|=1048576,K)}function T(ne){return t&&ne.alternate===null&&(ne.flags|=67108866),ne}function M(ne,K,le,we){return K===null||K.tag!==6?(K=xh(le,ne.mode,we),K.return=ne,K):(K=f(K,le),K.return=ne,K)}function Q(ne,K,le,we){var yt=le.type;return yt===ke?_e(ne,K,le.props.children,we,le.key):K!==null&&(K.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&Oo(yt)===K.type)?(K=f(K,le.props),hu(K,le),K.return=ne,K):(K=_c(le.type,le.key,le.props,null,ne.mode,we),hu(K,le),K.return=ne,K)}function ce(ne,K,le,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Mh(le,ne.mode,we),K.return=ne,K):(K=f(K,le.children||[]),K.return=ne,K)}function _e(ne,K,le,we,yt){return K===null||K.tag!==7?(K=Io(le,ne.mode,we,yt),K.return=ne,K):(K=f(K,le),K.return=ne,K)}function Ce(ne,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=xh(""+K,ne.mode,le),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ie:return le=_c(K.type,K.key,K.props,null,ne.mode,le),hu(le,K),le.return=ne,le;case B:return K=Mh(K,ne.mode,le),K.return=ne,K;case F:return K=Oo(K),Ce(ne,K,le)}if(re(K)||L(K))return K=Io(K,ne.mode,le,null),K.return=ne,K;if(typeof K.then=="function")return Ce(ne,Cc(K),le);if(K.$$typeof===Pe)return Ce(ne,wc(ne,K),le);Rc(ne,K)}return null}function de(ne,K,le,we){var yt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return yt!==null?null:M(ne,K,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ie:return le.key===yt?Q(ne,K,le,we):null;case B:return le.key===yt?ce(ne,K,le,we):null;case F:return le=Oo(le),de(ne,K,le,we)}if(re(le)||L(le))return yt!==null?null:_e(ne,K,le,we,null);if(typeof le.then=="function")return de(ne,K,Cc(le),we);if(le.$$typeof===Pe)return de(ne,K,wc(ne,le),we);Rc(ne,le)}return null}function ge(ne,K,le,we,yt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ne=ne.get(le)||null,M(K,ne,""+we,yt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case ie:return ne=ne.get(we.key===null?le:we.key)||null,Q(K,ne,we,yt);case B:return ne=ne.get(we.key===null?le:we.key)||null,ce(K,ne,we,yt);case F:return we=Oo(we),ge(ne,K,le,we,yt)}if(re(we)||L(we))return ne=ne.get(le)||null,_e(K,ne,we,yt,null);if(typeof we.then=="function")return ge(ne,K,le,Cc(we),yt);if(we.$$typeof===Pe)return ge(ne,K,le,wc(K,we),yt);Rc(K,we)}return null}function ut(ne,K,le,we){for(var yt=null,mn=null,ft=K,zt=K=0,Jt=null;ft!==null&&zt<le.length;zt++){ft.index>zt?(Jt=ft,ft=null):Jt=ft.sibling;var pn=de(ne,ft,le[zt],we);if(pn===null){ft===null&&(ft=Jt);break}t&&ft&&pn.alternate===null&&n(ne,ft),K=m(pn,K,zt),mn===null?yt=pn:mn.sibling=pn,mn=pn,ft=Jt}if(zt===le.length)return s(ne,ft),rn&&as(ne,zt),yt;if(ft===null){for(;zt<le.length;zt++)ft=Ce(ne,le[zt],we),ft!==null&&(K=m(ft,K,zt),mn===null?yt=ft:mn.sibling=ft,mn=ft);return rn&&as(ne,zt),yt}for(ft=o(ft);zt<le.length;zt++)Jt=ge(ft,ne,zt,le[zt],we),Jt!==null&&(t&&Jt.alternate!==null&&ft.delete(Jt.key===null?zt:Jt.key),K=m(Jt,K,zt),mn===null?yt=Jt:mn.sibling=Jt,mn=Jt);return t&&ft.forEach(function(no){return n(ne,no)}),rn&&as(ne,zt),yt}function bt(ne,K,le,we){if(le==null)throw Error(a(151));for(var yt=null,mn=null,ft=K,zt=K=0,Jt=null,pn=le.next();ft!==null&&!pn.done;zt++,pn=le.next()){ft.index>zt?(Jt=ft,ft=null):Jt=ft.sibling;var no=de(ne,ft,pn.value,we);if(no===null){ft===null&&(ft=Jt);break}t&&ft&&no.alternate===null&&n(ne,ft),K=m(no,K,zt),mn===null?yt=no:mn.sibling=no,mn=no,ft=Jt}if(pn.done)return s(ne,ft),rn&&as(ne,zt),yt;if(ft===null){for(;!pn.done;zt++,pn=le.next())pn=Ce(ne,pn.value,we),pn!==null&&(K=m(pn,K,zt),mn===null?yt=pn:mn.sibling=pn,mn=pn);return rn&&as(ne,zt),yt}for(ft=o(ft);!pn.done;zt++,pn=le.next())pn=ge(ft,ne,zt,pn.value,we),pn!==null&&(t&&pn.alternate!==null&&ft.delete(pn.key===null?zt:pn.key),K=m(pn,K,zt),mn===null?yt=pn:mn.sibling=pn,mn=pn);return t&&ft.forEach(function(Bw){return n(ne,Bw)}),rn&&as(ne,zt),yt}function Dn(ne,K,le,we){if(typeof le=="object"&&le!==null&&le.type===ke&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case ie:e:{for(var yt=le.key;K!==null;){if(K.key===yt){if(yt=le.type,yt===ke){if(K.tag===7){s(ne,K.sibling),we=f(K,le.props.children),we.return=ne,ne=we;break e}}else if(K.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&Oo(yt)===K.type){s(ne,K.sibling),we=f(K,le.props),hu(we,le),we.return=ne,ne=we;break e}s(ne,K);break}else n(ne,K);K=K.sibling}le.type===ke?(we=Io(le.props.children,ne.mode,we,le.key),we.return=ne,ne=we):(we=_c(le.type,le.key,le.props,null,ne.mode,we),hu(we,le),we.return=ne,ne=we)}return T(ne);case B:e:{for(yt=le.key;K!==null;){if(K.key===yt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){s(ne,K.sibling),we=f(K,le.children||[]),we.return=ne,ne=we;break e}else{s(ne,K);break}else n(ne,K);K=K.sibling}we=Mh(le,ne.mode,we),we.return=ne,ne=we}return T(ne);case F:return le=Oo(le),Dn(ne,K,le,we)}if(re(le))return ut(ne,K,le,we);if(L(le)){if(yt=L(le),typeof yt!="function")throw Error(a(150));return le=yt.call(le),bt(ne,K,le,we)}if(typeof le.then=="function")return Dn(ne,K,Cc(le),we);if(le.$$typeof===Pe)return Dn(ne,K,wc(ne,le),we);Rc(ne,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(s(ne,K.sibling),we=f(K,le),we.return=ne,ne=we):(s(ne,K),we=xh(le,ne.mode,we),we.return=ne,ne=we),T(ne)):s(ne,K)}return function(ne,K,le,we){try{fu=0;var yt=Dn(ne,K,le,we);return cl=null,yt}catch(ft){if(ft===ul||ft===Ac)throw ft;var mn=fi(29,ft,null,ne.mode);return mn.lanes=we,mn.return=ne,mn}finally{}}}var Vo=yg(!0),vg=yg(!1),zs=!1;function Fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Ro(t),su(t,null,s),n}return Pa(t,o,n,s),Ro(t)}function du(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,na(t,s)}}function qh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Gh=!1;function mu(){if(Gh){var t=ll;if(t!==null)throw t}}function pu(t,n,s,o){Gh=!1;var f=t.updateQueue;zs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var Q=M,ce=Q.next;Q.next=null,T===null?m=ce:T.next=ce,T=Q;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==T&&(M===null?_e.firstBaseUpdate=ce:M.next=ce,_e.lastBaseUpdate=Q))}if(m!==null){var Ce=f.baseState;T=0,_e=ce=Q=null,M=m;do{var de=M.lane&-536870913,ge=de!==M.lane;if(ge?($t&de)===de:(o&de)===de){de!==0&&de===ol&&(Gh=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ut=t,bt=M;de=n;var Dn=s;switch(bt.tag){case 1:if(ut=bt.payload,typeof ut=="function"){Ce=ut.call(Dn,Ce,de);break e}Ce=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=bt.payload,de=typeof ut=="function"?ut.call(Dn,Ce,de):ut,de==null)break e;Ce=O({},Ce,de);break e;case 2:zs=!0}}de=M.callback,de!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=f.callbacks,ge===null?f.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(ce=_e=ge,Q=Ce):_e=_e.next=ge,T|=de;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ge=M,M=ge.next,ge.next=null,f.lastBaseUpdate=ge,f.shared.pending=null}}while(!0);_e===null&&(Q=Ce),f.baseState=Q,f.firstBaseUpdate=ce,f.lastBaseUpdate=_e,m===null&&(f.shared.lanes=0),Ys|=T,t.lanes=T,t.memoizedState=Ce}}function _g(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function bg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_g(s[t],n)}var fl=U(null),Ic=U(0);function Eg(t,n){t=gs,Ie(Ic,t),Ie(fl,n),gs=t|n.baseLanes}function Yh(){Ie(Ic,gs),Ie(fl,fl.current)}function Xh(){gs=Ic.current,oe(fl),oe(Ic)}var Ki=U(null),ha=null;function Fs(t){var n=t.alternate;Ie(ur,ur.current&1),Ie(Ki,t),ha===null&&(n===null||fl.current!==null||n.memoizedState!==null)&&(ha=t)}function Qh(t){Ie(ur,ur.current),Ie(Ki,t),ha===null&&(ha=t)}function wg(t){t.tag===22?(Ie(ur,ur.current),Ie(Ki,t),ha===null&&(ha=t)):Hs()}function Hs(){Ie(ur,ur.current),Ie(Ki,Ki.current)}function $i(t){oe(Ki),ha===t&&(ha=null),oe(ur)}var ur=U(0);function xc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||em(s)||tm(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,Lt=null,Mn=null,gr=null,Mc=!1,hl=!1,Po=!1,Nc=0,gu=0,dl=null,ME=0;function ar(){throw Error(a(321))}function Wh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!he(t[s],n[s]))return!1;return!0}function Kh(t,n,s,o,f,m){return ls=m,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?ay:fd,Po=!1,m=s(o,f),Po=!1,hl&&(m=Ag(n,s,o,f)),Tg(t),m}function Tg(t){q.H=_u;var n=Mn!==null&&Mn.next!==null;if(ls=0,gr=Mn=Lt=null,Mc=!1,gu=0,dl=null,n)throw Error(a(300));t===null||yr||(t=t.dependencies,t!==null&&Ec(t)&&(yr=!0))}function Ag(t,n,s,o){Lt=t;var f=0;do{if(hl&&(dl=null),gu=0,hl=!1,25<=f)throw Error(a(301));if(f+=1,gr=Mn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=sy,m=n(s,o)}while(hl);return m}function NE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?yu(n):n,t=t.useState()[0],(Mn!==null?Mn.memoizedState:null)!==t&&(Lt.flags|=1024),n}function $h(){var t=Nc!==0;return Nc=0,t}function Jh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Zh(t){if(Mc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Mc=!1}ls=0,gr=Mn=Lt=null,hl=!1,gu=Nc=0,dl=null}function Ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Lt.memoizedState=gr=t:gr=gr.next=t,gr}function cr(){if(Mn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var n=gr===null?Lt.memoizedState:gr.next;if(n!==null)gr=n,Mn=t;else{if(t===null)throw Lt.alternate===null?Error(a(467)):Error(a(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},gr===null?Lt.memoizedState=gr=t:gr=gr.next=t}return gr}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(t){var n=gu;return gu+=1,dl===null&&(dl=[]),t=mg(dl,t,n),n=Lt,(gr===null?n.memoizedState:gr.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?ay:fd),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yu(t);if(t.$$typeof===Pe)return Wr(t)}throw Error(a(438,String(t)))}function ed(t){var n=null,s=Lt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Lt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dc(),Lt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=H;return n.index++,s}function us(t,n){return typeof n=="function"?n(t):n}function kc(t){var n=cr();return td(n,Mn,t)}function td(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var M=T=null,Q=null,ce=n,_e=!1;do{var Ce=ce.lane&-536870913;if(Ce!==ce.lane?($t&Ce)===Ce:(ls&Ce)===Ce){var de=ce.revertLane;if(de===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ce===ol&&(_e=!0);else if((ls&de)===de){ce=ce.next,de===ol&&(_e=!0);continue}else Ce={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?(M=Q=Ce,T=m):Q=Q.next=Ce,Lt.lanes|=de,Ys|=de;Ce=ce.action,Po&&s(m,Ce),m=ce.hasEagerState?ce.eagerState:s(m,Ce)}else de={lane:Ce,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Q===null?(M=Q=de,T=m):Q=Q.next=de,Lt.lanes|=Ce,Ys|=Ce;ce=ce.next}while(ce!==null&&ce!==n);if(Q===null?T=m:Q.next=M,!he(m,t.memoizedState)&&(yr=!0,_e&&(s=ll,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=Q,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function nd(t){var n=cr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);he(m,n.memoizedState)||(yr=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Sg(t,n,s){var o=Lt,f=cr(),m=rn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!he((Mn||f).memoizedState,s);if(T&&(f.memoizedState=s,yr=!0),f=f.queue,ad(Ig.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||gr!==null&&gr.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Rg.bind(null,o,f,s,n),null),Un===null)throw Error(a(349));m||(ls&127)!==0||Cg(o,n,s)}return s}function Cg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Lt.updateQueue,n===null?(n=Dc(),Lt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Rg(t,n,s,o){n.value=s,n.getSnapshot=o,xg(n)&&Mg(t)}function Ig(t,n,s){return s(function(){xg(n)&&Mg(t)})}function xg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!he(t,s)}catch{return!0}}function Mg(t){var n=Ci(t,2);n!==null&&Fi(n,t,2)}function rd(t){var n=Ri();if(typeof t=="function"){var s=t;if(t=s(),Po){Ye(!0);try{s()}finally{Ye(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function Ng(t,n,s,o){return t.baseState=s,td(t,Mn,typeof o=="function"?o:us)}function DE(t,n,s,o,f){if(Lc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};q.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,Dg(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Dg(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=q.T,T={};q.T=T;try{var M=s(f,o),Q=q.S;Q!==null&&Q(T,M),Og(t,n,M)}catch(ce){id(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),q.T=m}}else try{m=s(f,o),Og(t,n,m)}catch(ce){id(t,n,ce)}}function Og(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){kg(t,n,o)},function(o){return id(t,n,o)}):kg(t,n,s)}function kg(t,n,s){n.status="fulfilled",n.value=s,Vg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Dg(t,s)))}function id(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Vg(n),n=n.next;while(n!==o)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pg(t,n){return n}function Lg(t,n){if(rn){var s=Un.formState;if(s!==null){e:{var o=Lt;if(rn){if(Gn){t:{for(var f=Gn,m=fa;f.nodeType!==8;){if(!m){f=null;break t}if(f=da(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gn=da(f.nextSibling),o=f.data==="F!";break e}}Ls(o)}o=!1}o&&(n=s[0])}}return s=Ri(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:n},s.queue=o,s=ny.bind(null,Lt,o),o.dispatch=s,o=rd(!1),m=cd.bind(null,Lt,!1,o.queue),o=Ri(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=DE.bind(null,Lt,f,m,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function Ug(t){var n=cr();return zg(n,Mn,t)}function zg(t,n,s){if(n=td(t,n,Pg)[0],t=kc(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=yu(n)}catch(T){throw T===ul?Ac:T}else o=n;n=cr();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(Lt.flags|=2048,ml(9,{destroy:void 0},OE.bind(null,f,s),null)),[o,m,t]}function OE(t,n){t.action=n}function Bg(t){var n=cr(),s=Mn;if(s!==null)return zg(n,s,t);cr(),n=n.memoizedState,s=cr();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function ml(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=Dc(),Lt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function jg(){return cr().memoizedState}function Vc(t,n,s,o){var f=Ri();Lt.flags|=t,f.memoizedState=ml(1|n,{destroy:void 0},s,o===void 0?null:o)}function Pc(t,n,s,o){var f=cr();o=o===void 0?null:o;var m=f.memoizedState.inst;Mn!==null&&o!==null&&Wh(o,Mn.memoizedState.deps)?f.memoizedState=ml(n,m,s,o):(Lt.flags|=t,f.memoizedState=ml(1|n,m,s,o))}function Fg(t,n){Vc(8390656,8,t,n)}function ad(t,n){Pc(2048,8,t,n)}function kE(t){Lt.flags|=4;var n=Lt.updateQueue;if(n===null)n=Dc(),Lt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Hg(t){var n=cr().memoizedState;return kE({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return Pc(4,2,t,n)}function Gg(t,n){return Pc(4,4,t,n)}function Yg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xg(t,n,s){s=s!=null?s.concat([t]):null,Pc(4,4,Yg.bind(null,n,t),s)}function sd(){}function Qg(t,n){var s=cr();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Wg(t,n){var s=cr();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=t(),Po){Ye(!0);try{t()}finally{Ye(!1)}}return s.memoizedState=[o,n],o}function od(t,n,s){return s===void 0||(ls&1073741824)!==0&&($t&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ky(),Lt.lanes|=t,Ys|=t,s)}function Kg(t,n,s,o){return he(s,n)?s:fl.current!==null?(t=od(t,s,o),he(t,n)||(yr=!0),t):(ls&42)===0||(ls&1073741824)!==0&&($t&261930)===0?(yr=!0,t.memoizedState=s):(t=Ky(),Lt.lanes|=t,Ys|=t,n)}function $g(t,n,s,o,f){var m=X.p;X.p=m!==0&&8>m?m:8;var T=q.T,M={};q.T=M,cd(t,!1,n,s);try{var Q=f(),ce=q.S;if(ce!==null&&ce(M,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var _e=xE(Q,o);vu(t,n,_e,ea(t))}else vu(t,n,o,ea(t))}catch(Ce){vu(t,n,{then:function(){},status:"rejected",reason:Ce},ea())}finally{X.p=m,T!==null&&M.types!==null&&(T.types=M.types),q.T=T}}function VE(){}function ld(t,n,s,o){if(t.tag!==5)throw Error(a(476));var f=Jg(t).queue;$g(t,f,n,ye,s===null?VE:function(){return Zg(t),s(o)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ye},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),vu(t,n.next.queue,{},ea())}function ud(){return Wr(Vu)}function ey(){return cr().memoizedState}function ty(){return cr().memoizedState}function PE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ea();t=Bs(s);var o=js(n,t,s);o!==null&&(Fi(o,n,s),du(o,n,s)),n={cache:Uh()},t.payload=n;return}n=n.return}}function LE(t,n,s){var o=ea();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lc(t)?ry(n,s):(s=Aa(t,n,s,o),s!==null&&(Fi(s,t,o),iy(s,n,o)))}function ny(t,n,s){var o=ea();vu(t,n,s,o)}function vu(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lc(t))ry(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,s);if(f.hasEagerState=!0,f.eagerState=M,he(M,T))return Pa(t,n,f,0),Un===null&&Va(),!1}catch{}finally{}if(s=Aa(t,n,f,o),s!==null)return Fi(s,t,o),iy(s,n,o),!0}return!1}function cd(t,n,s,o){if(o={lane:2,revertLane:Fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lc(t)){if(n)throw Error(a(479))}else n=Aa(t,s,o,2),n!==null&&Fi(n,t,2)}function Lc(t){var n=t.alternate;return t===Lt||n!==null&&n===Lt}function ry(t,n){hl=Mc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function iy(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,na(t,s)}}var _u={readContext:Wr,use:Oc,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};_u.useEffectEvent=ar;var ay={readContext:Wr,use:Oc,useCallback:function(t,n){return Ri().memoizedState=[t,n===void 0?null:n],t},useContext:Wr,useEffect:Fg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vc(4194308,4,Yg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vc(4194308,4,t,n)},useInsertionEffect:function(t,n){Vc(4,2,t,n)},useMemo:function(t,n){var s=Ri();n=n===void 0?null:n;var o=t();if(Po){Ye(!0);try{t()}finally{Ye(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Ri();if(s!==void 0){var f=s(n);if(Po){Ye(!0);try{s(n)}finally{Ye(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=LE.bind(null,Lt,t),[o.memoizedState,t]},useRef:function(t){var n=Ri();return t={current:t},n.memoizedState=t},useState:function(t){t=rd(t);var n=t.queue,s=ny.bind(null,Lt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:sd,useDeferredValue:function(t,n){var s=Ri();return od(s,t,n)},useTransition:function(){var t=rd(!1);return t=$g.bind(null,Lt,t.queue,!0,!1),Ri().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Lt,f=Ri();if(rn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Un===null)throw Error(a(349));($t&127)!==0||Cg(o,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,Fg(Ig.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Rg.bind(null,o,m,s,n),null),s},useId:function(){var t=Ri(),n=Un.identifierPrefix;if(rn){var s=Ua,o=La;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ME++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ud,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var n=Ri();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=cd.bind(null,Lt,!0,s),s.dispatch=n,[t,n]},useMemoCache:ed,useCacheRefresh:function(){return Ri().memoizedState=PE.bind(null,Lt)},useEffectEvent:function(t){var n=Ri(),s={impl:t};return n.memoizedState=s,function(){if((yn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},fd={readContext:Wr,use:Oc,useCallback:Qg,useContext:Wr,useEffect:ad,useImperativeHandle:Xg,useInsertionEffect:qg,useLayoutEffect:Gg,useMemo:Wg,useReducer:kc,useRef:jg,useState:function(){return kc(us)},useDebugValue:sd,useDeferredValue:function(t,n){var s=cr();return Kg(s,Mn.memoizedState,t,n)},useTransition:function(){var t=kc(us)[0],n=cr().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:Sg,useId:ey,useHostTransitionStatus:ud,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var s=cr();return Ng(s,Mn,t,n)},useMemoCache:ed,useCacheRefresh:ty};fd.useEffectEvent=Hg;var sy={readContext:Wr,use:Oc,useCallback:Qg,useContext:Wr,useEffect:ad,useImperativeHandle:Xg,useInsertionEffect:qg,useLayoutEffect:Gg,useMemo:Wg,useReducer:nd,useRef:jg,useState:function(){return nd(us)},useDebugValue:sd,useDeferredValue:function(t,n){var s=cr();return Mn===null?od(s,t,n):Kg(s,Mn.memoizedState,t,n)},useTransition:function(){var t=nd(us)[0],n=cr().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:Sg,useId:ey,useHostTransitionStatus:ud,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var s=cr();return Mn!==null?Ng(s,Mn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ed,useCacheRefresh:ty};sy.useEffectEvent=Hg;function hd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:O({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var dd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=ea(),f=Bs(o);f.payload=n,s!=null&&(f.callback=s),n=js(t,f,o),n!==null&&(Fi(n,t,o),du(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=ea(),f=Bs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=js(t,f,o),n!==null&&(Fi(n,t,o),du(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ea(),o=Bs(s);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,s),n!==null&&(Fi(n,t,s),du(n,t,s))}};function oy(t,n,s,o,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(s,o)||!ue(f,m):!0}function ly(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&dd.enqueueReplaceState(n,n.state,null)}function Lo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=O({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function uy(t){Xr(t)}function cy(t){console.error(t)}function fy(t){Xr(t)}function Uc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(t,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Uc(t,n)},s}function dy(t){return t=Bs(t),t.tag=3,t}function my(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){hy(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){hy(n,s,o),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function UE(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&sl(n,s,f,!0),s=Ki.current,s!==null){switch(s.tag){case 31:case 13:return ha===null?Kc():s.alternate===null&&sr===0&&(sr=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Sc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),zd(t,o,f)),!1;case 22:return s.flags|=65536,o===Sc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),zd(t,o,f)),!1}throw Error(a(435,s.tag))}return zd(t,o,f),Kc(),!1}if(rn)return n=Ki.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Oh&&(t=Error(a(422),{cause:o}),lu(la(t,s)))):(o!==Oh&&(n=Error(a(423),{cause:o}),lu(la(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=la(o,s),f=md(t.stateNode,o,f),qh(t,f),sr!==4&&(sr=2)),!1;var m=Error(a(520),{cause:o});if(m=la(m,s),Ru===null?Ru=[m]:Ru.push(m),sr!==4&&(sr=2),n===null)return!0;o=la(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=md(s.stateNode,o,t),qh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xs===null||!Xs.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=dy(f),my(f,t,s,o),qh(s,f),!1}s=s.return}while(s!==null);return!1}var pd=Error(a(461)),yr=!1;function Kr(t,n,s,o){n.child=t===null?vg(n,null,s,o):Vo(n,t.child,s,o)}function py(t,n,s,o,f){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return No(n),o=Kh(t,n,s,T,m,f),M=$h(),t!==null&&!yr?(Jh(t,n,f),cs(t,n,f)):(rn&&M&&Nh(n),n.flags|=1,Kr(t,n,o,f),n.child)}function gy(t,n,s,o,f){if(t===null){var m=s.type;return typeof m=="function"&&!Ih(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,yy(t,n,m,o,f)):(t=_c(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Td(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ue,s(T,o)&&t.ref===n.ref)return cs(t,n,f)}return n.flags|=1,t=is(m,o),t.ref=n.ref,t.return=n,n.child=t}function yy(t,n,s,o,f){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(yr=!1,n.pendingProps=o=m,Td(t,f))(t.flags&131072)!==0&&(yr=!0);else return n.lanes=t.lanes,cs(t,n,f)}return gd(t,n,s,o,f)}function vy(t,n,s,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return _y(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(n,m!==null?m.cachePool:null),m!==null?Eg(n,m):Yh(),wg(n);else return o=n.lanes=536870912,_y(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Tc(n,m.cachePool),Eg(n,m),Hs(),n.memoizedState=null):(t!==null&&Tc(n,null),Yh(),Hs());return Kr(t,n,f,s),n.child}function bu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _y(t,n,s,o,f){var m=Bh();return m=m===null?null:{parent:pr._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Tc(n,null),Yh(),wg(n),t!==null&&sl(t,n,o,!0),n.childLanes=f,null}function zc(t,n){return n=jc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function by(t,n,s){return Vo(n,t.child,null,s),t=zc(n,n.pendingProps),t.flags|=2,$i(n),n.memoizedState=null,t}function zE(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(rn){if(o.mode==="hidden")return t=zc(n,o),n.lanes=536870912,bu(null,t);if(Qh(n),(t=Gn)?(t=Dv(t,fa),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:La,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},s=rg(t),s.return=n,n.child=s,Qr=n,Gn=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return zc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Qh(n),f)if(n.flags&256)n.flags&=-257,n=by(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(yr||sl(t,n,s,!1),f=(s&t.childLanes)!==0,yr||f){if(o=Un,o!==null&&(T=Cr(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,Ci(t,T),Fi(o,t,T),pd;Kc(),n=by(t,n,s)}else t=m.treeContext,Gn=da(T.nextSibling),Qr=n,rn=!0,Ps=null,fa=!1,t!==null&&sg(n,t),n=zc(n,o),n.flags|=4096;return n}return t=is(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Bc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function gd(t,n,s,o,f){return No(n),s=Kh(t,n,s,o,void 0,f),o=$h(),t!==null&&!yr?(Jh(t,n,f),cs(t,n,f)):(rn&&o&&Nh(n),n.flags|=1,Kr(t,n,s,f),n.child)}function Ey(t,n,s,o,f,m){return No(n),n.updateQueue=null,s=Ag(n,o,s,f),Tg(t),o=$h(),t!==null&&!yr?(Jh(t,n,m),cs(t,n,m)):(rn&&o&&Nh(n),n.flags|=1,Kr(t,n,s,m),n.child)}function wy(t,n,s,o,f){if(No(n),n.stateNode===null){var m=Wi,T=s.contextType;typeof T=="object"&&T!==null&&(m=Wr(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Fh(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?Wr(T):Wi,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(hd(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dd.enqueueReplaceState(m,m.state,null),pu(n,o,m,f),mu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Q=Lo(s,M);m.props=Q;var ce=m.context,_e=s.contextType;T=Wi,typeof _e=="object"&&_e!==null&&(T=Wr(_e));var Ce=s.getDerivedStateFromProps;_e=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,_e||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ce!==T)&&ly(n,m,o,T),zs=!1;var de=n.memoizedState;m.state=de,pu(n,o,m,f),mu(),ce=n.memoizedState,M||de!==ce||zs?(typeof Ce=="function"&&(hd(n,s,Ce,o),ce=n.memoizedState),(Q=zs||oy(n,s,Q,o,de,ce,T))?(_e||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=Q):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Hh(t,n),T=n.memoizedProps,_e=Lo(s,T),m.props=_e,Ce=n.pendingProps,de=m.context,ce=s.contextType,Q=Wi,typeof ce=="object"&&ce!==null&&(Q=Wr(ce)),M=s.getDerivedStateFromProps,(ce=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ce||de!==Q)&&ly(n,m,o,Q),zs=!1,de=n.memoizedState,m.state=de,pu(n,o,m,f),mu();var ge=n.memoizedState;T!==Ce||de!==ge||zs||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof M=="function"&&(hd(n,s,M,o),ge=n.memoizedState),(_e=zs||oy(n,s,_e,o,de,ge,Q)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,Q),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,Q)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=Q,o=_e):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Bc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Vo(n,t.child,null,f),n.child=Vo(n,null,s,f)):Kr(t,n,s,f),n.memoizedState=m.state,t=n.child):t=cs(t,n,f),t}function Ty(t,n,s,o){return xo(),n.flags|=256,Kr(t,n,s,o),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:hg()}}function _d(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Zi),t}function Ay(t,n,s){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ur.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(rn){if(f?Fs(n):Hs(),(t=Gn)?(t=Dv(t,fa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:La,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},s=rg(t),s.return=n,n.child=s,Qr=n,Gn=null)):t=null,t===null)throw Ls(n);return tm(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,f?(Hs(),f=n.mode,M=jc({mode:"hidden",children:M},f),o=Io(o,f,s,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=vd(s),o.childLanes=_d(t,T,s),n.memoizedState=yd,bu(null,o)):(Fs(n),bd(n,M))}var Q=t.memoizedState;if(Q!==null&&(M=Q.dehydrated,M!==null)){if(m)n.flags&256?(Fs(n),n.flags&=-257,n=Ed(t,n,s)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),M=o.fallback,f=n.mode,o=jc({mode:"visible",children:o.children},f),M=Io(M,f,s,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Vo(n,t.child,null,s),o=n.child,o.memoizedState=vd(s),o.childLanes=_d(t,T,s),n.memoizedState=yd,n=bu(null,o));else if(Fs(n),tm(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(a(419)),o.stack="",o.digest=T,lu({value:o,source:null,stack:null}),n=Ed(t,n,s)}else if(yr||sl(t,n,s,!1),T=(s&t.childLanes)!==0,yr||T){if(T=Un,T!==null&&(o=Cr(T,s),o!==0&&o!==Q.retryLane))throw Q.retryLane=o,Ci(t,o),Fi(T,t,o),pd;em(M)||Kc(),n=Ed(t,n,s)}else em(M)?(n.flags|=192,n.child=t.child,n=null):(t=Q.treeContext,Gn=da(M.nextSibling),Qr=n,rn=!0,Ps=null,fa=!1,t!==null&&sg(n,t),n=bd(n,o.children),n.flags|=4096);return n}return f?(Hs(),M=o.fallback,f=n.mode,Q=t.child,ce=Q.sibling,o=is(Q,{mode:"hidden",children:o.children}),o.subtreeFlags=Q.subtreeFlags&65011712,ce!==null?M=is(ce,M):(M=Io(M,f,s,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,bu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=vd(s):(f=M.cachePool,f!==null?(Q=pr._currentValue,f=f.parent!==Q?{parent:Q,pool:Q}:f):f=hg(),M={baseLanes:M.baseLanes|s,cachePool:f}),o.memoizedState=M,o.childLanes=_d(t,T,s),n.memoizedState=yd,bu(t.child,o)):(Fs(n),s=t.child,t=s.sibling,s=is(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function bd(t,n){return n=jc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function jc(t,n){return t=fi(22,t,null,n),t.lanes=0,t}function Ed(t,n,s){return Vo(n,t.child,null,s),t=bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Sy(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ph(t.return,n,s)}function wd(t,n,s,o,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=f,T.treeForkCount=m)}function Cy(t,n,s){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var T=ur.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ie(ur,T),Kr(t,n,o,s),o=rn?ou:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sy(t,s,n);else if(t.tag===19)Sy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&xc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),wd(n,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&xc(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}wd(n,!0,s,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function cs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=is(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=is(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function BE(t,n,s){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Us(n,pr,t.memoizedState.cache),xo();break;case 27:case 5:Mt(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ay(t,n,s):(Fs(n),t=cs(t,n,s),t!==null?t.sibling:null);Fs(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(sl(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Cy(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ie(ur,ur.current),o)break;return null;case 22:return n.lanes=0,vy(t,n,s,n.pendingProps);case 24:Us(n,pr,t.memoizedState.cache)}return cs(t,n,s)}function Ry(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)yr=!0;else{if(!Td(t,s)&&(n.flags&128)===0)return yr=!1,BE(t,n,s);yr=(t.flags&131072)!==0}else yr=!1,rn&&(n.flags&1048576)!==0&&ag(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oo(n.elementType),n.type=t,typeof t=="function")Ih(t)?(o=Lo(t,o),n.tag=1,n=wy(null,n,t,o,s)):(n.tag=0,n=gd(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===tt){n.tag=11,n=py(null,n,t,o,s);break e}else if(f===Y){n.tag=14,n=gy(null,n,t,o,s);break e}}throw n=$(t)||t,Error(a(306,n,""))}}return n;case 0:return gd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Lo(o,n.pendingProps),wy(t,n,o,f,s);case 3:e:{if(gt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Hh(t,n),pu(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Us(n,pr,o),o!==m.cache&&Lh(n,[pr],s,!0),mu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ty(t,n,o,s);break e}else if(o!==f){f=la(Error(a(424)),n),lu(f),n=Ty(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Gn=da(t.firstChild),Qr=n,rn=!0,Ps=null,fa=!0,s=vg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xo(),o===f){n=cs(t,n,s);break e}Kr(t,n,o,s)}n=n.child}return n;case 26:return Bc(t,n),t===null?(s=Uv(n.type,null,n.pendingProps,null))?n.memoizedState=s:rn||(s=n.type,t=n.pendingProps,o=rf(We.current).createElement(s),o[fn]=n,o[tr]=t,$r(o,s,t),Vn(o),n.stateNode=o):n.memoizedState=Uv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mt(n),t===null&&rn&&(o=n.stateNode=Vv(n.type,n.pendingProps,We.current),Qr=n,fa=!0,f=Gn,$s(n.type)?(nm=f,Gn=da(o.firstChild)):Gn=f),Kr(t,n,n.pendingProps.children,s),Bc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&rn&&((f=o=Gn)&&(o=gw(o,n.type,n.pendingProps,fa),o!==null?(n.stateNode=o,Qr=n,Gn=da(o.firstChild),fa=!1,f=!0):f=!1),f||Ls(n)),Mt(n),f=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,$d(f,m)?o=null:T!==null&&$d(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Kh(t,n,NE,null,null,s),Vu._currentValue=f),Bc(t,n),Kr(t,n,o,s),n.child;case 6:return t===null&&rn&&((t=s=Gn)&&(s=yw(s,n.pendingProps,fa),s!==null?(n.stateNode=s,Qr=n,Gn=null,t=!0):t=!1),t||Ls(n)),null;case 13:return Ay(t,n,s);case 4:return gt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vo(n,null,o,s):Kr(t,n,o,s),n.child;case 11:return py(t,n,n.type,n.pendingProps,s);case 7:return Kr(t,n,n.pendingProps,s),n.child;case 8:return Kr(t,n,n.pendingProps.children,s),n.child;case 12:return Kr(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),Kr(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,No(n),f=Wr(f),o=o(f),n.flags|=1,Kr(t,n,o,s),n.child;case 14:return gy(t,n,n.type,n.pendingProps,s);case 15:return yy(t,n,n.type,n.pendingProps,s);case 19:return Cy(t,n,s);case 31:return zE(t,n,s);case 22:return vy(t,n,s,n.pendingProps);case 24:return No(n),o=Wr(pr),t===null?(f=Bh(),f===null&&(f=Un,m=Uh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:o,cache:f},Fh(n),Us(n,pr,f)):((t.lanes&s)!==0&&(Hh(t,n),pu(n,null,null,s),mu()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Us(n,pr,o)):(o=m.cache,Us(n,pr,o),o!==f.cache&&Lh(n,[pr],s,!0))),Kr(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function fs(t){t.flags|=4}function Ad(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ev())t.flags|=8192;else throw ko=Sc,jh}else t.flags&=-16777217}function Iy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hv(n))if(ev())t.flags|=8192;else throw ko=Sc,jh}function Fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ke():536870912,t.lanes|=n,vl|=n)}function Eu(t,n){if(!rn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Yn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function jE(t,n,s){var o=n.pendingProps;switch(Dh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(n),null;case 1:return Yn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),os(pr),Et(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(n)?fs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),Yn(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(fs(n),m!==null?(Yn(n),Iy(n,m)):(Yn(n),Ad(n,f,null,o,s))):m?m!==t.memoizedState?(fs(n),Yn(n),Iy(n,m)):(Yn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&fs(n),Yn(n),Ad(n,f,t,o,s)),null;case 27:if(_n(n),s=We.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yn(n),null}t=Ae.current,al(n)?og(n):(t=Vv(f,o,s),n.stateNode=t,fs(n))}return Yn(n),null;case 5:if(_n(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yn(n),null}if(m=Ae.current,al(n))og(n);else{var T=rf(We.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}m[fn]=n,m[tr]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch($r(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fs(n)}}return Yn(n),Ad(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&fs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=We.current,al(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Qr,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[fn]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Av(t.nodeValue,s)),t||Ls(n,!0)}else t=rf(t).createTextNode(o),t[fn]=n,n.stateNode=t}return Yn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[fn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),t=!1}else s=kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?($i(n),n):($i(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Yn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[fn]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),f=!1}else f=kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?($i(n),n):($i(n),null)}return $i(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Fc(n,n.updateQueue),Yn(n),null);case 4:return Et(),t===null&&Yd(n.stateNode.containerInfo),Yn(n),null;case 10:return os(n.type),Yn(n),null;case 19:if(oe(ur),o=n.memoizedState,o===null)return Yn(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Eu(o,!1);else{if(sr!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=xc(t),m!==null){for(n.flags|=128,Eu(o,!1),t=m.updateQueue,n.updateQueue=t,Fc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ng(s,t),s=s.sibling;return Ie(ur,ur.current&1|2),rn&&as(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&kt()>Xc&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304)}else{if(!f)if(t=xc(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,Fc(n,t),Eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!rn)return Yn(n),null}else 2*kt()-o.renderingStartTime>Xc&&s!==536870912&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,s=ur.current,Ie(ur,f?s&1|2:s&1),rn&&as(n,o.treeForkCount),t):(Yn(n),null);case 22:case 23:return $i(n),Xh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Yn(n),n.subtreeFlags&6&&(n.flags|=8192)):Yn(n),s=n.updateQueue,s!==null&&Fc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(Do),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),os(pr),Yn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function FE(t,n){switch(Dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(pr),Et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _n(n),null;case 31:if(n.memoizedState!==null){if($i(n),n.alternate===null)throw Error(a(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if($i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(ur),null;case 4:return Et(),null;case 10:return os(n.type),null;case 22:case 23:return $i(n),Xh(),t!==null&&oe(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(pr),null;case 25:return null;default:return null}}function xy(t,n){switch(Dh(n),n.tag){case 3:os(pr),Et();break;case 26:case 27:case 5:_n(n);break;case 4:Et();break;case 31:n.memoizedState!==null&&$i(n);break;case 13:$i(n);break;case 19:oe(ur);break;case 10:os(n.type);break;case 22:case 23:$i(n),Xh(),t!==null&&oe(Do);break;case 24:os(pr)}}function wu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==f)}}catch(M){Cn(n,n.return,M)}}function qs(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,f=n;var Q=s,ce=M;try{ce()}catch(_e){Cn(f,Q,_e)}}}o=o.next}while(o!==m)}}catch(_e){Cn(n,n.return,_e)}}function My(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{bg(n,s)}catch(o){Cn(t,t.return,o)}}}function Ny(t,n,s){s.props=Lo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Cn(t,n,o)}}function Tu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){Cn(t,n,f)}}function za(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Cn(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Cn(t,n,f)}else s.current=null}function Dy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Cn(t,t.return,f)}}function Sd(t,n,s){try{var o=t.stateNode;cw(o,t.type,s,n),o[tr]=n}catch(f){Cn(t,t.return,f)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=si));else if(o!==4&&(o===27&&$s(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Rd(t,n,s),t=t.sibling;t!==null;)Rd(t,n,s),t=t.sibling}function Hc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&$s(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Hc(t,n,s),t=t.sibling;t!==null;)Hc(t,n,s),t=t.sibling}function ky(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);$r(n,o,s),n[fn]=t,n[tr]=s}catch(m){Cn(t,t.return,m)}}var hs=!1,vr=!1,Id=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Dr=null;function HE(t,n){if(t=t.containerInfo,Wd=ff,t=te(t),ze(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,M=-1,Q=-1,ce=0,_e=0,Ce=t,de=null;t:for(;;){for(var ge;Ce!==s||f!==0&&Ce.nodeType!==3||(M=T+f),Ce!==m||o!==0&&Ce.nodeType!==3||(Q=T+o),Ce.nodeType===3&&(T+=Ce.nodeValue.length),(ge=Ce.firstChild)!==null;)de=Ce,Ce=ge;for(;;){if(Ce===t)break t;if(de===s&&++ce===f&&(M=T),de===m&&++_e===o&&(Q=T),(ge=Ce.nextSibling)!==null)break;Ce=de,de=Ce.parentNode}Ce=ge}s=M===-1||Q===-1?null:{start:M,end:Q}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kd={focusedElem:t,selectionRange:s},ff=!1,Dr=n;Dr!==null;)if(n=Dr,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Dr=t;else for(;Dr!==null;){switch(n=Dr,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var ut=Lo(s.type,f);t=o.getSnapshotBeforeUpdate(ut,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(bt){Cn(s,s.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Zd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Dr=t;break}Dr=n.return}}function Py(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ms(t,s),o&4&&wu(5,s);break;case 1:if(ms(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Cn(s,s.return,T)}else{var f=Lo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Cn(s,s.return,T)}}o&64&&My(s),o&512&&Tu(s,s.return);break;case 3:if(ms(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{bg(t,n)}catch(T){Cn(s,s.return,T)}}break;case 27:n===null&&o&4&&ky(s);case 26:case 5:ms(t,s),n===null&&o&4&&Dy(s),o&512&&Tu(s,s.return);break;case 12:ms(t,s);break;case 31:ms(t,s),o&4&&zy(t,s);break;case 13:ms(t,s),o&4&&By(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=JE.bind(null,s),vw(t,s))));break;case 22:if(o=s.memoizedState!==null||hs,!o){n=n!==null&&n.memoizedState!==null||vr,f=hs;var m=vr;hs=o,(vr=n)&&!m?ps(t,s,(s.subtreeFlags&8772)!==0):ms(t,s),hs=f,vr=m}break;case 30:break;default:ms(t,s)}}function Ly(t){var n=t.alternate;n!==null&&(t.alternate=null,Ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zn=null,Ui=!1;function ds(t,n,s){for(s=s.child;s!==null;)Uy(t,n,s),s=s.sibling}function Uy(t,n,s){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(et,s)}catch{}switch(s.tag){case 26:vr||za(s,n),ds(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vr||za(s,n);var o=Zn,f=Ui;$s(s.type)&&(Zn=s.stateNode,Ui=!1),ds(t,n,s),Du(s.stateNode),Zn=o,Ui=f;break;case 5:vr||za(s,n);case 6:if(o=Zn,f=Ui,Zn=null,ds(t,n,s),Zn=o,Ui=f,Zn!==null)if(Ui)try{(Zn.nodeType===9?Zn.body:Zn.nodeName==="HTML"?Zn.ownerDocument.body:Zn).removeChild(s.stateNode)}catch(m){Cn(s,n,m)}else try{Zn.removeChild(s.stateNode)}catch(m){Cn(s,n,m)}break;case 18:Zn!==null&&(Ui?(t=Zn,Mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):Mv(Zn,s.stateNode));break;case 4:o=Zn,f=Ui,Zn=s.stateNode.containerInfo,Ui=!0,ds(t,n,s),Zn=o,Ui=f;break;case 0:case 11:case 14:case 15:qs(2,s,n),vr||qs(4,s,n),ds(t,n,s);break;case 1:vr||(za(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ny(s,n,o)),ds(t,n,s);break;case 21:ds(t,n,s);break;case 22:vr=(o=vr)||s.memoizedState!==null,ds(t,n,s),vr=o;break;default:ds(t,n,s)}}function zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(s){Cn(n,n.return,s)}}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){Cn(n,n.return,s)}}function qE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vy),n;default:throw Error(a(435,t.tag))}}function qc(t,n){var s=qE(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=ZE.bind(null,t,o);o.then(f,f)}})}function zi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if($s(M.type)){Zn=M.stateNode,Ui=!1;break e}break;case 5:Zn=M.stateNode,Ui=!1;break e;case 3:case 4:Zn=M.stateNode.containerInfo,Ui=!0;break e}M=M.return}if(Zn===null)throw Error(a(160));Uy(m,T,f),Zn=null,Ui=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,t),n=n.sibling}var Sa=null;function jy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zi(n,t),Bi(t),o&4&&(qs(3,t,t.return),wu(3,t),qs(5,t,t.return));break;case 1:zi(n,t),Bi(t),o&512&&(vr||s===null||za(s,s.return)),o&64&&hs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Sa;if(zi(n,t),Bi(t),o&512&&(vr||s===null||za(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ri]||m[fn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),$r(m,o,s),m[fn]=t,Vn(m),o=m;break e;case"link":var T=jv("link","href",f).get(o+(s.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(M,1);break t}}m=f.createElement(o),$r(m,o,s),f.head.appendChild(m);break;case"meta":if(T=jv("meta","content",f).get(o+(s.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(M,1);break t}}m=f.createElement(o),$r(m,o,s),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[fn]=t,Vn(m),o=m}t.stateNode=o}else Fv(f,t.type,t.stateNode);else t.stateNode=Bv(f,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Fv(f,t.type,t.stateNode):Bv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:zi(n,t),Bi(t),o&512&&(vr||s===null||za(s,s.return)),s!==null&&o&4&&Sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(zi(n,t),Bi(t),o&512&&(vr||s===null||za(s,s.return)),t.flags&32){f=t.stateNode;try{$n(f,"")}catch(ut){Cn(t,t.return,ut)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Sd(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Id=!0);break;case 6:if(zi(n,t),Bi(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ut){Cn(t,t.return,ut)}}break;case 3:if(of=null,f=Sa,Sa=af(n.containerInfo),zi(n,t),Sa=f,Bi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(ut){Cn(t,t.return,ut)}Id&&(Id=!1,Fy(t));break;case 4:o=Sa,Sa=af(t.stateNode.containerInfo),zi(n,t),Bi(t),Sa=o;break;case 12:zi(n,t),Bi(t);break;case 31:zi(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qc(t,o)));break;case 13:zi(n,t),Bi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yc=kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qc(t,o)));break;case 22:f=t.memoizedState!==null;var Q=s!==null&&s.memoizedState!==null,ce=hs,_e=vr;if(hs=ce||f,vr=_e||Q,zi(n,t),vr=_e,hs=ce,Bi(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||Q||hs||vr||Uo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){Q=s=n;try{if(m=Q.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Q.stateNode;var Ce=Q.memoizedProps.style,de=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;M.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ut){Cn(Q,Q.return,ut)}}}else if(n.tag===6){if(s===null){Q=n;try{Q.stateNode.nodeValue=f?"":Q.memoizedProps}catch(ut){Cn(Q,Q.return,ut)}}}else if(n.tag===18){if(s===null){Q=n;try{var ge=Q.stateNode;f?Nv(ge,!0):Nv(Q.stateNode,!1)}catch(ut){Cn(Q,Q.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,qc(t,s))));break;case 19:zi(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,qc(t,o)));break;case 30:break;case 21:break;default:zi(n,t),Bi(t)}}function Bi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Oy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=Cd(t);Hc(t,m,f);break;case 5:var T=s.stateNode;s.flags&32&&($n(T,""),s.flags&=-33);var M=Cd(t);Hc(t,M,T);break;case 3:case 4:var Q=s.stateNode.containerInfo,ce=Cd(t);Rd(t,ce,Q);break;default:throw Error(a(161))}}catch(_e){Cn(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Py(t,n.alternate,n),n=n.sibling}function Uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Uo(n);break;case 1:za(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ny(n,n.return,s),Uo(n);break;case 27:Du(n.stateNode);case 26:case 5:za(n,n.return),Uo(n);break;case 22:n.memoizedState===null&&Uo(n);break;case 30:Uo(n);break;default:Uo(n)}t=t.sibling}}function ps(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:ps(f,m,s),wu(4,m);break;case 1:if(ps(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ce){Cn(o,o.return,ce)}if(o=m,f=o.updateQueue,f!==null){var M=o.stateNode;try{var Q=f.shared.hiddenCallbacks;if(Q!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Q.length;f++)_g(Q[f],M)}catch(ce){Cn(o,o.return,ce)}}s&&T&64&&My(m),Tu(m,m.return);break;case 27:ky(m);case 26:case 5:ps(f,m,s),s&&o===null&&T&4&&Dy(m),Tu(m,m.return);break;case 12:ps(f,m,s);break;case 31:ps(f,m,s),s&&T&4&&zy(f,m);break;case 13:ps(f,m,s),s&&T&4&&By(f,m);break;case 22:m.memoizedState===null&&ps(f,m,s),Tu(m,m.return);break;case 30:break;default:ps(f,m,s)}n=n.sibling}}function xd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&uu(s))}function Md(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t))}function Ca(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(t,n,s,o),n=n.sibling}function Hy(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ca(t,n,s,o),f&2048&&wu(9,n);break;case 1:Ca(t,n,s,o);break;case 3:Ca(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t)));break;case 12:if(f&2048){Ca(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){Cn(n,n.return,Q)}}else Ca(t,n,s,o);break;case 31:Ca(t,n,s,o);break;case 13:Ca(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Ca(t,n,s,o):Au(t,n):m._visibility&2?Ca(t,n,s,o):(m._visibility|=2,pl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&xd(T,n);break;case 24:Ca(t,n,s,o),f&2048&&Md(n.alternate,n);break;default:Ca(t,n,s,o)}}function pl(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=s,Q=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,Q,f),wu(8,T);break;case 23:break;case 22:var _e=T.stateNode;T.memoizedState!==null?_e._visibility&2?pl(m,T,M,Q,f):Au(m,T):(_e._visibility|=2,pl(m,T,M,Q,f)),f&&ce&2048&&xd(T.alternate,T);break;case 24:pl(m,T,M,Q,f),f&&ce&2048&&Md(T.alternate,T);break;default:pl(m,T,M,Q,f)}n=n.sibling}}function Au(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Au(s,o),f&2048&&xd(o.alternate,o);break;case 24:Au(s,o),f&2048&&Md(o.alternate,o);break;default:Au(s,o)}n=n.sibling}}var Su=8192;function gl(t,n,s){if(t.subtreeFlags&Su)for(t=t.child;t!==null;)qy(t,n,s),t=t.sibling}function qy(t,n,s){switch(t.tag){case 26:gl(t,n,s),t.flags&Su&&t.memoizedState!==null&&Mw(s,Sa,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,s);break;case 3:case 4:var o=Sa;Sa=af(t.stateNode.containerInfo),gl(t,n,s),Sa=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Su,Su=16777216,gl(t,n,s),Su=o):gl(t,n,s));break;default:gl(t,n,s)}}function Gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Dr=o,Xy(o,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 0:case 11:case 15:Cu(t),t.flags&2048&&qs(9,t,t.return);break;case 3:Cu(t);break;case 12:Cu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Gc(t)):Cu(t);break;default:Cu(t)}}function Gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Dr=o,Xy(o,t)}Gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),Gc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Gc(n));break;default:Gc(n)}t=t.sibling}}function Xy(t,n){for(;Dr!==null;){var s=Dr;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uu(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Dr=o;else e:for(s=t;Dr!==null;){o=Dr;var f=o.sibling,m=o.return;if(Ly(o),o===s){Dr=null;break e}if(f!==null){f.return=m,Dr=f;break e}Dr=m}}}var GE={getCacheForType:function(t){var n=Wr(pr),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Wr(pr).controller.signal}},YE=typeof WeakMap=="function"?WeakMap:Map,yn=0,Un=null,Qt=null,$t=0,Sn=0,Ji=null,Gs=!1,yl=!1,Nd=!1,gs=0,sr=0,Ys=0,zo=0,Dd=0,Zi=0,vl=0,Ru=null,ji=null,Od=!1,Yc=0,Qy=0,Xc=1/0,Qc=null,Xs=null,Ar=0,Qs=null,_l=null,ys=0,kd=0,Vd=null,Wy=null,Iu=0,Pd=null;function ea(){return(yn&2)!==0&&$t!==0?$t&-$t:q.T!==null?Fd():Na()}function Ky(){if(Zi===0)if(($t&536870912)===0||rn){var t=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),Zi=t}else Zi=536870912;return t=Ki.current,t!==null&&(t.flags|=32),Zi}function Fi(t,n,s){(t===Un&&(Sn===2||Sn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Ws(t,$t,Zi,!1)),Rt(t,s),((yn&2)===0||t!==Un)&&(t===Un&&((yn&2)===0&&(zo|=s),sr===4&&Ws(t,$t,Zi,!1)),Ba(t))}function $y(t,n,s){if((yn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Wn(t,n),f=o?WE(t,n):Ud(t,n,!0),m=o;do{if(f===0){yl&&!o&&Ws(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!XE(s)){f=Ud(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;f=Ru;var Q=M.current.memoizedState.isDehydrated;if(Q&&(bl(M,T).flags|=256),T=Ud(M,T,!1),T!==2){if(Nd&&!Q){M.errorRecoveryDisabledLanes|=m,zo|=m,f=4;break e}m=ji,ji=f,m!==null&&(ji===null?ji=m:ji.push.apply(ji,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){bl(t,0),Ws(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ws(o,n,Zi,!Gs);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Yc+300-kt(),10<f)){if(Ws(o,n,Zi,!Gs),kn(o,0,!0)!==0)break e;ys=n,o.timeoutHandle=Iv(Jy.bind(null,o,s,ji,Qc,Od,n,Zi,zo,vl,Gs,m,"Throttled",-0,0),f);break e}Jy(o,s,ji,Qc,Od,n,Zi,zo,vl,Gs,m,null,-0,0)}}break}while(!0);Ba(t)}function Jy(t,n,s,o,f,m,T,M,Q,ce,_e,Ce,de,ge){if(t.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},qy(n,m,Ce);var ut=(m&62914560)===m?Yc-kt():(m&4194048)===m?Qy-kt():0;if(ut=Nw(Ce,ut),ut!==null){ys=m,t.cancelPendingCommit=ut(sv.bind(null,t,n,m,s,o,f,T,M,Q,_e,Ce,null,de,ge)),Ws(t,m,T,!ce);return}}sv(t,n,m,s,o,f,T,M,Q)}function XE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!he(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(t,n,s,o){n&=~Dd,n&=~zo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-Fe(f),T=1<<m;o[m]=-1,f&=~T}s!==0&&Pr(t,s,n)}function Wc(){return(yn&6)===0?(xu(0),!1):!0}function Ld(){if(Qt!==null){if(Sn===0)var t=Qt.return;else t=Qt,ss=Mo=null,Zh(t),cl=null,fu=0,t=Qt;for(;t!==null;)xy(t.alternate,t),t=t.return;Qt=null}}function bl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,dw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ys=0,Ld(),Un=t,Qt=s=is(t.current,null),$t=n,Sn=0,Ji=null,Gs=!1,yl=Wn(t,n),Nd=!1,vl=Zi=Dd=zo=Ys=sr=0,ji=Ru=null,Od=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Fe(o),m=1<<f;n|=t[f],o&=~m}return gs=n,Va(),s}function Zy(t,n){Lt=null,q.H=_u,n===ul||n===Ac?(n=pg(),Sn=3):n===jh?(n=pg(),Sn=4):Sn=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ji=n,Qt===null&&(sr=1,Uc(t,la(n,t.current)))}function ev(){var t=Ki.current;return t===null?!0:($t&4194048)===$t?ha===null:($t&62914560)===$t||($t&536870912)!==0?t===ha:!1}function tv(){var t=q.H;return q.H=_u,t===null?_u:t}function nv(){var t=q.A;return q.A=GE,t}function Kc(){sr=4,Gs||($t&4194048)!==$t&&Ki.current!==null||(yl=!0),(Ys&134217727)===0&&(zo&134217727)===0||Un===null||Ws(Un,$t,Zi,!1)}function Ud(t,n,s){var o=yn;yn|=2;var f=tv(),m=nv();(Un!==t||$t!==n)&&(Qc=null,bl(t,n)),n=!1;var T=sr;e:do try{if(Sn!==0&&Qt!==null){var M=Qt,Q=Ji;switch(Sn){case 8:Ld(),T=6;break e;case 3:case 2:case 9:case 6:Ki.current===null&&(n=!0);var ce=Sn;if(Sn=0,Ji=null,El(t,M,Q,ce),s&&yl){T=0;break e}break;default:ce=Sn,Sn=0,Ji=null,El(t,M,Q,ce)}}QE(),T=sr;break}catch(_e){Zy(t,_e)}while(!0);return n&&t.shellSuspendCounter++,ss=Mo=null,yn=o,q.H=f,q.A=m,Qt===null&&(Un=null,$t=0,Va()),T}function QE(){for(;Qt!==null;)rv(Qt)}function WE(t,n){var s=yn;yn|=2;var o=tv(),f=nv();Un!==t||$t!==n?(Qc=null,Xc=kt()+500,bl(t,n)):yl=Wn(t,n);e:do try{if(Sn!==0&&Qt!==null){n=Qt;var m=Ji;t:switch(Sn){case 1:Sn=0,Ji=null,El(t,n,m,1);break;case 2:case 9:if(dg(m)){Sn=0,Ji=null,iv(n);break}n=function(){Sn!==2&&Sn!==9||Un!==t||(Sn=7),Ba(t)},m.then(n,n);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:dg(m)?(Sn=0,Ji=null,iv(n)):(Sn=0,Ji=null,El(t,n,m,7));break;case 5:var T=null;switch(Qt.tag){case 26:T=Qt.memoizedState;case 5:case 27:var M=Qt;if(T?Hv(T):M.stateNode.complete){Sn=0,Ji=null;var Q=M.sibling;if(Q!==null)Qt=Q;else{var ce=M.return;ce!==null?(Qt=ce,$c(ce)):Qt=null}break t}}Sn=0,Ji=null,El(t,n,m,5);break;case 6:Sn=0,Ji=null,El(t,n,m,6);break;case 8:Ld(),sr=6;break e;default:throw Error(a(462))}}KE();break}catch(_e){Zy(t,_e)}while(!0);return ss=Mo=null,q.H=o,q.A=f,yn=s,Qt!==null?0:(Un=null,$t=0,Va(),sr)}function KE(){for(;Qt!==null&&!Rn();)rv(Qt)}function rv(t){var n=Ry(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?$c(t):Qt=n}function iv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ey(s,n,n.pendingProps,n.type,void 0,$t);break;case 11:n=Ey(s,n,n.pendingProps,n.type.render,n.ref,$t);break;case 5:Zh(n);default:xy(s,n),n=Qt=ng(n,gs),n=Ry(s,n,gs)}t.memoizedProps=t.pendingProps,n===null?$c(t):Qt=n}function El(t,n,s,o){ss=Mo=null,Zh(n),cl=null,fu=0;var f=n.return;try{if(UE(t,f,n,s,$t)){sr=1,Uc(t,la(s,t.current)),Qt=null;return}}catch(m){if(f!==null)throw Qt=f,m;sr=1,Uc(t,la(s,t.current)),Qt=null;return}n.flags&32768?(rn||o===1?t=!0:yl||($t&536870912)!==0?t=!1:(Gs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ki.current,o!==null&&o.tag===13&&(o.flags|=16384))),av(n,t)):$c(n)}function $c(t){var n=t;do{if((n.flags&32768)!==0){av(n,Gs);return}t=n.return;var s=jE(n.alternate,n,gs);if(s!==null){Qt=s;return}if(n=n.sibling,n!==null){Qt=n;return}Qt=n=t}while(n!==null);sr===0&&(sr=5)}function av(t,n){do{var s=FE(t.alternate,t);if(s!==null){s.flags&=32767,Qt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Qt=t;return}Qt=t=s}while(t!==null);sr=6,Qt=null}function sv(t,n,s,o,f,m,T,M,Q){t.cancelPendingCommit=null;do Jc();while(Ar!==0);if((yn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=nl,or(t,s,m,T,M,Q),t===Un&&(Qt=Un=null,$t=0),_l=n,Qs=t,ys=s,kd=m,Vd=f,Wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ew(v,function(){return fv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=X.p,X.p=2,T=yn,yn|=4;try{HE(t,n,s)}finally{yn=T,X.p=f,q.T=o}}Ar=1,ov(),lv(),uv()}}function ov(){if(Ar===1){Ar=0;var t=Qs,n=_l,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=X.p;X.p=2;var f=yn;yn|=4;try{jy(n,t);var m=Kd,T=te(t.containerInfo),M=m.focusedElem,Q=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&ot(M.ownerDocument.documentElement,M)){if(Q!==null&&ze(M)){var ce=Q.start,_e=Q.end;if(_e===void 0&&(_e=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(_e,M.value.length);else{var Ce=M.ownerDocument||document,de=Ce&&Ce.defaultView||window;if(de.getSelection){var ge=de.getSelection(),ut=M.textContent.length,bt=Math.min(Q.start,ut),Dn=Q.end===void 0?bt:Math.min(Q.end,ut);!ge.extend&&bt>Dn&&(T=Dn,Dn=bt,bt=T);var ne=$e(M,bt),K=$e(M,Dn);if(ne&&K&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==K.node||ge.focusOffset!==K.offset)){var le=Ce.createRange();le.setStart(ne.node,ne.offset),ge.removeAllRanges(),bt>Dn?(ge.addRange(le),ge.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ge.addRange(le))}}}}for(Ce=[],ge=M;ge=ge.parentNode;)ge.nodeType===1&&Ce.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ce.length;M++){var we=Ce[M];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}ff=!!Wd,Kd=Wd=null}finally{yn=f,X.p=o,q.T=s}}t.current=n,Ar=2}}function lv(){if(Ar===2){Ar=0;var t=Qs,n=_l,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=X.p;X.p=2;var f=yn;yn|=4;try{Py(t,n.alternate,n)}finally{yn=f,X.p=o,q.T=s}}Ar=3}}function uv(){if(Ar===4||Ar===3){Ar=0,_t();var t=Qs,n=_l,s=ys,o=Wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ar=5:(Ar=0,_l=Qs=null,cv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xs=null),Xe(s),n=n.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(et,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,f=X.p,X.p=2,q.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{q.T=n,X.p=f}}(ys&3)!==0&&Jc(),Ba(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Pd?Iu++:(Iu=0,Pd=t):Iu=0,xu(0)}}function cv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,uu(n)))}function Jc(){return ov(),lv(),uv(),fv()}function fv(){if(Ar!==5)return!1;var t=Qs,n=kd;kd=0;var s=Xe(ys),o=q.T,f=X.p;try{X.p=32>s?32:s,q.T=null,s=Vd,Vd=null;var m=Qs,T=ys;if(Ar=0,_l=Qs=null,ys=0,(yn&6)!==0)throw Error(a(331));var M=yn;if(yn|=4,Yy(m.current),Hy(m,m.current,T,s),yn=M,xu(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(et,m)}catch{}return!0}finally{X.p=f,q.T=o,cv(t,n)}}function hv(t,n,s){n=la(s,n),n=md(t.stateNode,n,2),t=js(t,n,2),t!==null&&(Rt(t,2),Ba(t))}function Cn(t,n,s){if(t.tag===3)hv(t,t,s);else for(;n!==null;){if(n.tag===3){hv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=la(s,t),s=dy(2),o=js(n,s,2),o!==null&&(my(s,o,n,t),Rt(o,2),Ba(o));break}}n=n.return}}function zd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new YE;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(Nd=!0,f.add(s),t=$E.bind(null,t,n,s),n.then(t,t))}function $E(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Un===t&&($t&s)===s&&(sr===4||sr===3&&($t&62914560)===$t&&300>kt()-Yc?(yn&2)===0&&bl(t,0):Dd|=s,vl===$t&&(vl=0)),Ba(t)}function dv(t,n){n===0&&(n=Ke()),t=Ci(t,n),t!==null&&(Rt(t,n),Ba(t))}function JE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),dv(t,s)}function ZE(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),dv(t,s)}function ew(t,n){return jt(t,n)}var Zc=null,wl=null,Bd=!1,ef=!1,jd=!1,Ks=0;function Ba(t){t!==wl&&t.next===null&&(wl===null?Zc=wl=t:wl=wl.next=t),ef=!0,Bd||(Bd=!0,nw())}function xu(t,n){if(!jd&&ef){jd=!0;do for(var s=!1,o=Zc;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-Fe(42|t)+1)-1,m&=f&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,yv(o,m))}else m=$t,m=kn(o,o===Un?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Wn(o,m)||(s=!0,yv(o,m));o=o.next}while(s);jd=!1}}function tw(){mv()}function mv(){ef=Bd=!1;var t=0;Ks!==0&&hw()&&(t=Ks);for(var n=kt(),s=null,o=Zc;o!==null;){var f=o.next,m=pv(o,n);m===0?(o.next=null,s===null?Zc=f:s.next=f,f===null&&(wl=s)):(s=o,(t!==0||(m&3)!==0)&&(ef=!0)),o=f}Ar!==0&&Ar!==5||xu(t),Ks!==0&&(Ks=0)}function pv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Fe(m),M=1<<T,Q=f[T];Q===-1?((M&s)===0||(M&o)!==0)&&(f[T]=Vr(M,n)):Q<=n&&(t.expiredLanes|=M),m&=~M}if(n=Un,s=$t,s=kn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Sn===2||Sn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Pt(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Wn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Pt(o),Xe(s)){case 2:case 8:s=g;break;case 32:s=v;break;case 268435456:s=J;break;default:s=v}return o=gv.bind(null,t),s=jt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Pt(o),t.callbackPriority=2,t.callbackNode=null,2}function gv(t,n){if(Ar!==0&&Ar!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Jc()&&t.callbackNode!==s)return null;var o=$t;return o=kn(t,t===Un?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:($y(t,o,n),pv(t,kt()),t.callbackNode!=null&&t.callbackNode===s?gv.bind(null,t):null)}function yv(t,n){if(Jc())return null;$y(t,n,!0)}function nw(){mw(function(){(yn&6)!==0?jt(C,tw):mv()})}function Fd(){if(Ks===0){var t=ol;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),Ks=t}return Ks}function vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function _v(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function rw(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var m=vv((f[tr]||null).action),T=o.submitter;T&&(n=(n=T[tr]||null)?vv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new ae("action","action",null,o,f);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var Q=T?_v(f,T):new FormData(f);ld(s,{pending:!0,data:Q,method:f.method,action:m},null,Q)}}else typeof m=="function"&&(M.preventDefault(),Q=T?_v(f,T):new FormData(f),ld(s,{pending:!0,data:Q,method:f.method,action:m},m,Q))},currentTarget:f}]})}}for(var Hd=0;Hd<Si.length;Hd++){var qd=Si[Hd],iw=qd.toLowerCase(),aw=qd[0].toUpperCase()+qd.slice(1);wn(iw,"on"+aw)}wn(De,"onAnimationEnd"),wn(Qe,"onAnimationIteration"),wn(Ht,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Kt,"onTransitionRun"),wn(Vt,"onTransitionStart"),wn(Xt,"onTransitionCancel"),wn(an,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function bv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Q=M.instance,ce=M.currentTarget;if(M=M.listener,Q!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(_e){Xr(_e)}f.currentTarget=null,m=Q}else for(T=0;T<o.length;T++){if(M=o[T],Q=M.instance,ce=M.currentTarget,M=M.listener,Q!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(_e){Xr(_e)}f.currentTarget=null,m=Q}}}}function Wt(t,n){var s=n[xi];s===void 0&&(s=n[xi]=new Set);var o=t+"__bubble";s.has(o)||(Ev(n,t,2,!1),s.add(o))}function Gd(t,n,s){var o=0;n&&(o|=4),Ev(s,t,o,n)}var tf="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[tf]){t[tf]=!0,ba.forEach(function(s){s!=="selectionchange"&&(sw.has(s)||Gd(s,!1,t),Gd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[tf]||(n[tf]=!0,Gd("selectionchange",!1,n))}}function Ev(t,n,s,o){switch(Kv(n)){case 2:var f=kw;break;case 8:f=Vw;break;default:f=om}s=f.bind(null,n,s,t),f=void 0,!Di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Xd(t,n,s,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===f)break;if(T===4)for(T=o.return;T!==null;){var Q=T.tag;if((Q===3||Q===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;M!==null;){if(T=zr(M),T===null)return;if(Q=T.tag,Q===5||Q===6||Q===26||Q===27){o=m=T;continue e}M=M.parentNode}}o=o.return}ui(function(){var ce=m,_e=Gr(s),Ce=[];e:{var de=cn.get(t);if(de!==void 0){var ge=ae,ut=t;switch(t){case"keypress":if(ki(s)===0)break e;case"keydown":case"keyup":ge=So;break;case"focusin":ut="focus",ge=zn;break;case"focusout":ut="blur",ge=zn;break;case"beforeblur":case"afterblur":ge=zn;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=y;break;case De:case Qe:case Ht:ge=Ms;break;case an:ge=V;break;case"scroll":case"scrollend":ge=Ee;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Ta;break;case"toggle":case"beforetoggle":ge=Ct}var bt=(n&4)!==0,Dn=!bt&&(t==="scroll"||t==="scrollend"),ne=bt?de!==null?de+"Capture":null:de;bt=[];for(var K=ce,le;K!==null;){var we=K;if(le=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||le===null||ne===null||(we=Tr(K,ne),we!=null&&bt.push(Nu(K,we,le))),Dn)break;K=K.return}0<bt.length&&(de=new ge(de,ut,null,s,_e),Ce.push({event:de,listeners:bt}))}}if((n&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",de&&s!==Oa&&(ut=s.relatedTarget||s.fromElement)&&(zr(ut)||ut[ti]))break e;if((ge||de)&&(de=_e.window===_e?_e:(de=_e.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(ut=s.relatedTarget||s.toElement,ge=ce,ut=ut?zr(ut):null,ut!==null&&(Dn=c(ut),bt=ut.tag,ut!==Dn||bt!==5&&bt!==27&&bt!==6)&&(ut=null)):(ge=null,ut=ce),ge!==ut)){if(bt=ct,we="onMouseLeave",ne="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(bt=Ta,we="onPointerLeave",ne="onPointerEnter",K="pointer"),Dn=ge==null?de:Hn(ge),le=ut==null?de:Hn(ut),de=new bt(we,K+"leave",ge,s,_e),de.target=Dn,de.relatedTarget=le,we=null,zr(_e)===ce&&(bt=new bt(ne,K+"enter",ut,s,_e),bt.target=le,bt.relatedTarget=Dn,we=bt),Dn=we,ge&&ut)t:{for(bt=ow,ne=ge,K=ut,le=0,we=ne;we;we=bt(we))le++;we=0;for(var yt=K;yt;yt=bt(yt))we++;for(;0<le-we;)ne=bt(ne),le--;for(;0<we-le;)K=bt(K),we--;for(;le--;){if(ne===K||K!==null&&ne===K.alternate){bt=ne;break t}ne=bt(ne),K=bt(K)}bt=null}else bt=null;ge!==null&&wv(Ce,de,ge,bt,!1),ut!==null&&Dn!==null&&wv(Ce,Dn,ut,bt,!0)}}e:{if(de=ce?Hn(ce):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var mn=iu;else if(ru(de))if(au)mn=Z;else{mn=D;var ft=S}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&aa(ce.elementType)&&(mn=iu):mn=z;if(mn&&(mn=mn(t,ce))){qn(Ce,mn,s,_e);break e}ft&&ft(t,de,ce),t==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Da(de,"number",de.value)}switch(ft=ce?Hn(ce):window,t){case"focusin":(ru(ft)||ft.contentEditable==="true")&&(Ge=ft,dn=ce,Je=null);break;case"focusout":Je=dn=Ge=null;break;case"mousedown":Ft=!0;break;case"contextmenu":case"mouseup":case"dragend":Ft=!1,En(Ce,s,_e);break;case"selectionchange":if(it)break;case"keydown":case"keyup":En(Ce,s,_e)}var zt;if(un)e:{switch(t){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else es?oa(t,s)&&(Jt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Jt="onCompositionStart");Jt&&(Vi&&s.locale!=="ko"&&(es||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&es&&(zt=Yi()):(Oi=_e,Mr="value"in Oi?Oi.value:Oi.textContent,es=!0)),ft=nf(ce,Jt),0<ft.length&&(Jt=new Xi(Jt,t,null,s,_e),Ce.push({event:Jt,listeners:ft}),zt?Jt.data=zt:(zt=Za(s),zt!==null&&(Jt.data=zt)))),(zt=ci?Ch(t,s):yc(t,s))&&(Jt=nf(ce,"onBeforeInput"),0<Jt.length&&(ft=new Xi("onBeforeInput","beforeinput",null,s,_e),Ce.push({event:ft,listeners:Jt}),ft.data=zt)),rw(Ce,t,ce,s,_e)}bv(Ce,n)})}function Nu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function nf(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Tr(t,s),f!=null&&o.unshift(Nu(t,f,m)),f=Tr(t,n),f!=null&&o.push(Nu(t,f,m))),t.tag===3)return o;t=t.return}return[]}function ow(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wv(t,n,s,o,f){for(var m=n._reactName,T=[];s!==null&&s!==o;){var M=s,Q=M.alternate,ce=M.stateNode;if(M=M.tag,Q!==null&&Q===o)break;M!==5&&M!==26&&M!==27||ce===null||(Q=ce,f?(ce=Tr(s,m),ce!=null&&T.unshift(Nu(s,ce,Q))):f||(ce=Tr(s,m),ce!=null&&T.push(Nu(s,ce,Q)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var lw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Tv(t){return(typeof t=="string"?t:""+t).replace(lw,`
`).replace(uw,"")}function Av(t,n){return n=Tv(n),Tv(t)===n}function Nn(t,n,s,o,f,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||$n(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&$n(t,""+o);break;case"className":Ir(t,"class",o);break;case"tabIndex":Ir(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(t,s,o);break;case"style":bi(t,o,m);break;case"data":if(n!=="object"){Ir(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=sa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Nn(t,n,"name",f.name,f,null),Nn(t,n,"formEncType",f.formEncType,f,null),Nn(t,n,"formMethod",f.formMethod,f,null),Nn(t,n,"formTarget",f.formTarget,f,null)):(Nn(t,n,"encType",f.encType,f,null),Nn(t,n,"method",f.method,f,null),Nn(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=sa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=si);break;case"onScroll":o!=null&&Wt("scroll",t);break;case"onScrollEnd":o!=null&&Wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Wt("beforetoggle",t),Wt("toggle",t),vi(t,"popover",o);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":vi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=qi.get(s)||s,vi(t,s,o))}}function Qd(t,n,s,o,f,m){switch(s){case"style":bi(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?$n(t,o):(typeof o=="number"||typeof o=="bigint")&&$n(t,""+o);break;case"onScroll":o!=null&&Wt("scroll",t);break;case"onScrollEnd":o!=null&&Wt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[tr]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):vi(t,s,o)}}}function $r(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",t),Wt("load",t);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,m,T,s,null)}}f&&Nn(t,n,"srcSet",s.srcSet,s,null),o&&Nn(t,n,"src",s.src,s,null);return;case"input":Wt("invalid",t);var M=m=T=f=null,Q=null,ce=null;for(o in s)if(s.hasOwnProperty(o)){var _e=s[o];if(_e!=null)switch(o){case"name":f=_e;break;case"type":T=_e;break;case"checked":Q=_e;break;case"defaultChecked":ce=_e;break;case"value":m=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,n));break;default:Nn(t,n,o,_e,s,null)}}$a(t,m,M,Q,ce,T,f,!1);return;case"select":Wt("invalid",t),o=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(M=s[f],M!=null))switch(f){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Nn(t,n,f,M,s,null)}n=m,s=T,t.multiple=!!o,n!=null?hn(t,!!o,n,!1):s!=null&&hn(t,!!o,s,!0);return;case"textarea":Wt("invalid",t),m=f=o=null;for(T in s)if(s.hasOwnProperty(T)&&(M=s[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":f=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Nn(t,n,T,M,s,null)}Ni(t,o,f,m);return;case"option":for(Q in s)if(s.hasOwnProperty(Q)&&(o=s[Q],o!=null))switch(Q){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nn(t,n,Q,o,s,null)}return;case"dialog":Wt("beforetoggle",t),Wt("toggle",t),Wt("cancel",t),Wt("close",t);break;case"iframe":case"object":Wt("load",t);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Wt(Mu[o],t);break;case"image":Wt("error",t),Wt("load",t);break;case"details":Wt("toggle",t);break;case"embed":case"source":case"link":Wt("error",t),Wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in s)if(s.hasOwnProperty(ce)&&(o=s[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Nn(t,n,ce,o,s,null)}return;default:if(aa(n)){for(_e in s)s.hasOwnProperty(_e)&&(o=s[_e],o!==void 0&&Qd(t,n,_e,o,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(o=s[M],o!=null&&Nn(t,n,M,o,s,null))}function cw(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,M=null,Q=null,ce=null,_e=null;for(ge in s){var Ce=s[ge];if(s.hasOwnProperty(ge)&&Ce!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Q=Ce;default:o.hasOwnProperty(ge)||Nn(t,n,ge,null,o,Ce)}}for(var de in o){var ge=o[de];if(Ce=s[de],o.hasOwnProperty(de)&&(ge!=null||Ce!=null))switch(de){case"type":m=ge;break;case"name":f=ge;break;case"checked":ce=ge;break;case"defaultChecked":_e=ge;break;case"value":T=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,n));break;default:ge!==Ce&&Nn(t,n,de,ge,o,Ce)}}Ea(t,T,M,Q,ce,_e,m,f);return;case"select":ge=T=M=de=null;for(m in s)if(Q=s[m],s.hasOwnProperty(m)&&Q!=null)switch(m){case"value":break;case"multiple":ge=Q;default:o.hasOwnProperty(m)||Nn(t,n,m,null,o,Q)}for(f in o)if(m=o[f],Q=s[f],o.hasOwnProperty(f)&&(m!=null||Q!=null))switch(f){case"value":de=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Q&&Nn(t,n,f,m,o,Q)}n=M,s=T,o=ge,de!=null?hn(t,!!s,de,!1):!!o!=!!s&&(n!=null?hn(t,!!s,n,!0):hn(t,!!s,s?[]:"",!1));return;case"textarea":ge=de=null;for(M in s)if(f=s[M],s.hasOwnProperty(M)&&f!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Nn(t,n,M,null,o,f)}for(T in o)if(f=o[T],m=s[T],o.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":de=f;break;case"defaultValue":ge=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Nn(t,n,T,f,o,m)}ia(t,de,ge);return;case"option":for(var ut in s)if(de=s[ut],s.hasOwnProperty(ut)&&de!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Nn(t,n,ut,null,o,de)}for(Q in o)if(de=o[Q],ge=s[Q],o.hasOwnProperty(Q)&&de!==ge&&(de!=null||ge!=null))switch(Q){case"selected":t.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Nn(t,n,Q,de,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)de=s[bt],s.hasOwnProperty(bt)&&de!=null&&!o.hasOwnProperty(bt)&&Nn(t,n,bt,null,o,de);for(ce in o)if(de=o[ce],ge=s[ce],o.hasOwnProperty(ce)&&de!==ge&&(de!=null||ge!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,n));break;default:Nn(t,n,ce,de,o,ge)}return;default:if(aa(n)){for(var Dn in s)de=s[Dn],s.hasOwnProperty(Dn)&&de!==void 0&&!o.hasOwnProperty(Dn)&&Qd(t,n,Dn,void 0,o,de);for(_e in o)de=o[_e],ge=s[_e],!o.hasOwnProperty(_e)||de===ge||de===void 0&&ge===void 0||Qd(t,n,_e,de,o,ge);return}}for(var ne in s)de=s[ne],s.hasOwnProperty(ne)&&de!=null&&!o.hasOwnProperty(ne)&&Nn(t,n,ne,null,o,de);for(Ce in o)de=o[Ce],ge=s[Ce],!o.hasOwnProperty(Ce)||de===ge||de==null&&ge==null||Nn(t,n,Ce,de,o,ge)}function Sv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,T=f.initiatorType,M=f.duration;if(m&&M&&Sv(T)){for(T=0,M=f.responseEnd,o+=1;o<s.length;o++){var Q=s[o],ce=Q.startTime;if(ce>M)break;var _e=Q.transferSize,Ce=Q.initiatorType;_e&&Sv(Ce)&&(Q=Q.responseEnd,T+=_e*(Q<M?1:(M-ce)/(Q-ce)))}if(--o,n+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wd=null,Kd=null;function rf(t){return t.nodeType===9?t:t.ownerDocument}function Cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jd=null;function hw(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,mw=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(t){return xv.resolve(null).then(t).catch(pw)}:Iv;function pw(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function Mv(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Cl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Du(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Du(s);for(var m=s.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[ri]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Du(t.ownerDocument.body);s=f}while(s);Cl(n)}function Nv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Zd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zd(s),Ur(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gw(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=da(t.nextSibling),t===null)break}return null}function yw(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=da(t.nextSibling),t===null))return null;return t}function Dv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=da(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vw(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function da(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var nm=null;function Ov(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return da(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function kv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Vv(t,n,s){switch(n=rf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Du(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ur(t)}var ma=new Map,Pv=new Set;function af(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vs=X.d;X.d={f:_w,r:bw,D:Ew,C:ww,L:Tw,m:Aw,X:Cw,S:Sw,M:Rw};function _w(){var t=vs.f(),n=Wc();return t||n}function bw(t){var n=Br(t);n!==null&&n.tag===5&&n.type==="form"?Zg(n):vs.r(t)}var Tl=typeof document>"u"?null:document;function Lv(t,n,s){var o=Tl;if(o&&typeof n=="string"&&n){var f=Pn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Pv.has(f)||(Pv.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),$r(n,"link",t),Vn(n),o.head.appendChild(n)))}}function Ew(t){vs.D(t),Lv("dns-prefetch",t,null)}function ww(t,n){vs.C(t,n),Lv("preconnect",t,n)}function Tw(t,n,s){vs.L(t,n,s);var o=Tl;if(o&&t&&n){var f='link[rel="preload"][as="'+Pn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Pn(s.imageSizes)+'"]')):f+='[href="'+Pn(t)+'"]';var m=f;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ma.has(m)||(t=O({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ma.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(Ou(m))||n==="script"&&o.querySelector(ku(m))||(n=o.createElement("link"),$r(n,"link",t),Vn(n),o.head.appendChild(n)))}}function Aw(t,n){vs.m(t,n);var s=Tl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Pn(o)+'"][href="'+Pn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ma.has(m)&&(t=O({rel:"modulepreload",href:t},n),ma.set(m,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ku(m)))return}o=s.createElement("link"),$r(o,"link",t),Vn(o),s.head.appendChild(o)}}}function Sw(t,n,s){vs.S(t,n,s);var o=Tl;if(o&&t){var f=Rr(o).hoistableStyles,m=Al(t);n=n||"default";var T=f.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Ou(m)))M.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ma.get(m))&&rm(t,s);var Q=T=o.createElement("link");Vn(Q),$r(Q,"link",t),Q._p=new Promise(function(ce,_e){Q.onload=ce,Q.onerror=_e}),Q.addEventListener("load",function(){M.loading|=1}),Q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,sf(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},f.set(m,T)}}}function Cw(t,n){vs.X(t,n);var s=Tl;if(s&&t){var o=Rr(s).hoistableScripts,f=Sl(t),m=o.get(f);m||(m=s.querySelector(ku(f)),m||(t=O({src:t,async:!0},n),(n=ma.get(f))&&im(t,n),m=s.createElement("script"),Vn(m),$r(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Rw(t,n){vs.M(t,n);var s=Tl;if(s&&t){var o=Rr(s).hoistableScripts,f=Sl(t),m=o.get(f);m||(m=s.querySelector(ku(f)),m||(t=O({src:t,async:!0,type:"module"},n),(n=ma.get(f))&&im(t,n),m=s.createElement("script"),Vn(m),$r(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function Uv(t,n,s,o){var f=(f=We.current)?af(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Al(s.href),s=Rr(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Al(s.href);var m=Rr(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Ou(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ma.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ma.set(t,s),m||Iw(f,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(s),s=Rr(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+Pn(t)+'"'}function Ou(t){return'link[rel="stylesheet"]['+t+"]"}function zv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function Iw(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$r(n,"link",s),Vn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+Pn(t)+'"]'}function ku(t){return"script[async]"+t}function Bv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Pn(s.href)+'"]');if(o)return n.instance=o,Vn(o),o;var f=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Vn(o),$r(o,"style",f),sf(o,s.precedence,t),n.instance=o;case"stylesheet":f=Al(s.href);var m=t.querySelector(Ou(f));if(m)return n.state.loading|=4,n.instance=m,Vn(m),m;o=zv(s),(f=ma.get(f))&&rm(o,f),m=(t.ownerDocument||t).createElement("link"),Vn(m);var T=m;return T._p=new Promise(function(M,Q){T.onload=M,T.onerror=Q}),$r(m,"link",o),n.state.loading|=4,sf(m,s.precedence,t),n.instance=m;case"script":return m=Sl(s.src),(f=t.querySelector(ku(m)))?(n.instance=f,Vn(f),f):(o=s,(f=ma.get(m))&&(o=O({},s),im(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Vn(f),$r(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sf(o,s.precedence,t));return n.instance}function sf(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function rm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function im(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var of=null;function jv(t,n,s){if(of===null){var o=new Map,f=of=new Map;f.set(s,o)}else f=of,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[ri]||m[fn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Fv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function xw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mw(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Al(o.href),m=n.querySelector(Ou(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=lf.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,Vn(m);return}m=n.ownerDocument||n,o=zv(o),(f=ma.get(f))&&rm(o,f),m=m.createElement("link"),Vn(m);var T=m;T._p=new Promise(function(M,Q){T.onload=M,T.onerror=Q}),$r(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=lf.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var am=0;function Nw(t,n){return t.stylesheets&&t.count===0&&cf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&cf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&am===0&&(am=62500*fw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&cf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>am?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uf=null;function cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uf=new Map,n.forEach(Dw,t),uf=null,lf.call(t))}function Dw(t,n){if(!(n.state.loading&4)){var s=uf.get(t);if(s)var o=s.get(null);else{s=new Map,uf.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,f),s.set(T,f),this.count++,o=lf.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Vu={$$typeof:Pe,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Ow(t,n,s,o,f,m,T,M,Q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function qv(t,n,s,o,f,m,T,M,Q,ce,_e,Ce){return t=new Ow(t,n,s,T,Q,ce,_e,Ce,M),n=1,m===!0&&(n|=24),m=fi(3,null,null,n),t.current=m,m.stateNode=t,n=Uh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Fh(m),t}function Gv(t){return t?(t=Wi,t):Wi}function Yv(t,n,s,o,f,m){f=Gv(f),o.context===null?o.context=f:o.pendingContext=f,o=Bs(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=js(t,o,n),s!==null&&(Fi(s,t,n),du(s,t,n))}function Xv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function sm(t,n){Xv(t,n),(t=t.alternate)&&Xv(t,n)}function Qv(t){if(t.tag===13||t.tag===31){var n=Ci(t,67108864);n!==null&&Fi(n,t,67108864),sm(t,67108864)}}function Wv(t){if(t.tag===13||t.tag===31){var n=ea();n=yi(n);var s=Ci(t,n);s!==null&&Fi(s,t,n),sm(t,n)}}var ff=!0;function kw(t,n,s,o){var f=q.T;q.T=null;var m=X.p;try{X.p=2,om(t,n,s,o)}finally{X.p=m,q.T=f}}function Vw(t,n,s,o){var f=q.T;q.T=null;var m=X.p;try{X.p=8,om(t,n,s,o)}finally{X.p=m,q.T=f}}function om(t,n,s,o){if(ff){var f=lm(o);if(f===null)Xd(t,n,o,hf,s),$v(t,o);else if(Lw(f,t,n,s,o))o.stopPropagation();else if($v(t,o),n&4&&-1<Pw.indexOf(t)){for(;f!==null;){var m=Br(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=An(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Q=1<<31-Fe(T);M.entanglements[1]|=Q,T&=~Q}Ba(m),(yn&6)===0&&(Xc=kt()+500,xu(0))}}break;case 31:case 13:M=Ci(m,2),M!==null&&Fi(M,m,2),Wc(),sm(m,2)}if(m=lm(o),m===null&&Xd(t,n,o,hf,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else Xd(t,n,o,null,s)}}function lm(t){return t=Gr(t),um(t)}var hf=null;function um(t){if(hf=null,t=zr(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return hf=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case C:return 2;case g:return 8;case v:case k:return 32;case J:return 268435456;default:return 32}default:return 32}}var cm=!1,Js=null,Zs=null,eo=null,Pu=new Map,Lu=new Map,to=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(t,n){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Pu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(n.pointerId)}}function Uu(t,n,s,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Br(n),n!==null&&Qv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Lw(t,n,s,o,f){switch(n){case"focusin":return Js=Uu(Js,t,n,s,o,f),!0;case"dragenter":return Zs=Uu(Zs,t,n,s,o,f),!0;case"mouseover":return eo=Uu(eo,t,n,s,o,f),!0;case"pointerover":var m=f.pointerId;return Pu.set(m,Uu(Pu.get(m)||null,t,n,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Lu.set(m,Uu(Lu.get(m)||null,t,n,s,o,f)),!0}return!1}function Jv(t){var n=zr(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Ii(t.priority,function(){Wv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Ii(t.priority,function(){Wv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function df(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=lm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Oa=o,s.target.dispatchEvent(o),Oa=null}else return n=Br(s),n!==null&&Qv(n),t.blockedOn=s,!1;n.shift()}return!0}function Zv(t,n,s){df(t)&&s.delete(n)}function Uw(){cm=!1,Js!==null&&df(Js)&&(Js=null),Zs!==null&&df(Zs)&&(Zs=null),eo!==null&&df(eo)&&(eo=null),Pu.forEach(Zv),Lu.forEach(Zv)}function mf(t,n){t.blockedOn===n&&(t.blockedOn=null,cm||(cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Uw)))}var pf=null;function e0(t){pf!==t&&(pf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pf===t&&(pf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(um(o||s)===null)continue;break}var m=Br(s);m!==null&&(t.splice(n,3),n-=3,ld(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Cl(t){function n(Q){return mf(Q,t)}Js!==null&&mf(Js,t),Zs!==null&&mf(Zs,t),eo!==null&&mf(eo,t),Pu.forEach(n),Lu.forEach(n);for(var s=0;s<to.length;s++){var o=to[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<to.length&&(s=to[0],s.blockedOn===null);)Jv(s),s.blockedOn===null&&to.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],T=f[tr]||null;if(typeof m=="function")T||e0(s);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[tr]||null)M=T.formAction;else if(um(f)!==null)continue}else M=T.action;typeof M=="function"?s[o+1]=M:(s.splice(o,3),o-=3),e0(s)}}}function t0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function fm(t){this._internalRoot=t}gf.prototype.render=fm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=ea();Yv(s,o,t,n,null,null)},gf.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yv(t.current,2,null,t,null,null),Wc(),n[ti]=null}};function gf(t){this._internalRoot=t}gf.prototype.unstable_scheduleHydration=function(t){if(t){var n=Na();t={blockedOn:null,target:t,priority:n};for(var s=0;s<to.length&&n!==0&&n<to[s].priority;s++);to.splice(s,0,t),s===0&&Jv(t)}};var n0=e.version;if(n0!=="19.2.0")throw Error(a(527,n0,"19.2.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=w(n),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var zw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{et=yf.inject(zw),rt=yf}catch{}}return zu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",f=uy,m=cy,T=fy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=qv(t,1,!1,null,null,s,o,null,f,m,T,t0),t[ti]=n.current,Yd(t),new fm(n)},zu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,f="",m=uy,T=cy,M=fy,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(Q=s.formState)),n=qv(t,1,!0,n,s??null,o,f,Q,m,T,M,t0),n.context=Gv(null),s=n.current,o=ea(),o=yi(o),f=Bs(o),f.callback=null,js(s,f,o),s=o,n.current.lanes=s,Rt(n,s),Ba(n),t[ti]=n.current,Yd(t),new gf(n)},zu.version="19.2.0",zu}var c0;function Qw(){if(c0)return dm.exports;c0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=Xw(),dm.exports}var Ww=Qw();const Kw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$w=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),f0=i=>{const e=$w(i);return e.charAt(0).toUpperCase()+e.slice(1)},Z_=(...i)=>i.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),Jw=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Zw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eT=Be.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},E)=>Be.createElement("svg",{ref:E,...Zw,width:e,height:e,stroke:i,strokeWidth:a?Number(r)*24/Number(e):r,className:Z_("lucide",l),...!c&&!Jw(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,N])=>Be.createElement(w,N)),...Array.isArray(c)?c:[c]]));const vn=(i,e)=>{const r=Be.forwardRef(({className:a,...l},c)=>Be.createElement(eT,{ref:c,iconNode:e,className:Z_(`lucide-${Kw(f0(i))}`,`lucide-${i}`,a),...l}));return r.displayName=f0(i),r};const tT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],nT=vn("arrow-down-a-z",tT);const rT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h0=vn("arrow-left",rT);const iT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],aT=vn("book-open",iT);const sT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],oT=vn("check-check",sT);const lT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uT=vn("check",lT);const cT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fT=vn("chevron-left",cT);const hT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dT=vn("chevron-right",hT);const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pT=vn("circle-alert",mT);const gT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Lm=vn("crown",gT);const yT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vT=vn("download",yT);const _T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bT=vn("eye",_T);const ET=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],d0=vn("flag",ET);const wT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],TT=vn("heart",wT);const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ST=vn("info",AT);const CT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RT=vn("log-out",CT);const IT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],xT=vn("moon",IT);const MT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],NT=vn("play",MT);const DT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],m0=vn("rotate-ccw",DT);const OT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],kT=vn("ruler",OT);const VT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],p0=vn("scroll-text",VT);const PT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LT=vn("settings",PT);const UT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zT=vn("share-2",UT);const BT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],jT=vn("shuffle",BT);const FT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vf=vn("sparkles",FT);const HT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=vn("star",HT);const qT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],GT=vn("sun",qT);const YT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],g0=vn("trophy",YT);const XT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],QT=vn("volume-2",XT);const WT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],KT=vn("volume-x",WT);const $T=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vm=vn("x",$T);const JT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],y0=vn("zap",JT);var _m={},Rf={exports:{}},ZT=Rf.exports,v0;function eA(){return v0||(v0=1,(function(i,e){(function(a,l){i.exports=l()})(ZT,()=>(()=>{var r=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>N});var w=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var ie,B=G,ke,Se,je=new Promise((h,d)=>{ke=h,Se=d}),j=typeof window=="object",Pe=typeof importScripts=="function";function tt(){function h(Z){const ee=S;_=d=0,S=new Map,ee.forEach(he=>{try{he(Z)}catch(ue){console.error(ue)}}),this.nb(),D&&D.Pb()}let d=0,_=0,S=new Map,D=null,z=null;this.requestAnimationFrame=function(Z){d||=requestAnimationFrame(h.bind(this));const ee=++_;return S.set(ee,Z),ee},this.cancelAnimationFrame=function(Z){S.delete(Z),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Z){z&&(document.body.remove(z),z=null),Z||(z=document.createElement("div"),z.style.backgroundColor="black",z.style.position="fixed",z.style.right=0,z.style.top=0,z.style.color="white",z.style.padding="4px",z.innerHTML="RIVE FPS",Z=function(ee){z.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(z)),D=new function(){let ee=0,he=0;this.Pb=function(){var ue=performance.now();he?(++ee,ue-=he,1e3<ue&&(Z(1e3*ee/ue),ee=he=0)):(he=ue,ee=0)}}},this.Kb=function(){z&&(document.body.remove(z),z=null),D=null},this.nb=function(){}}function nt(h){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<h)-1)>>h,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<h}}const lt=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){lt&&lt();let h=B.decodeAudio;B.decodeAudio=function(D,z){D=h(D),z(D)};let d=B.decodeFont;B.decodeFont=function(D,z){D=d(D),z(D)};const _=B.FileAssetLoader;B.ptrToAsset=D=>{let z=B.ptrToFileAsset(D);return z.isImage?B.ptrToImageAsset(D):z.isFont?B.ptrToFontAsset(D):z.isAudio?B.ptrToAudioAsset(D):z},B.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,z){return D=B.ptrToAsset(D),this.Db(D,z)}}),B.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let z=B.ptrToAsset(D);return D=z.cdnUuid,D===""?!1:((function(Z,ee){var he=new XMLHttpRequest;he.responseType="arraybuffer",he.onreadystatechange=function(){he.readyState==4&&he.status==200&&ee(he)},he.open("GET",Z,!0),he.send(null)})(z.cdnBaseUrl+"/"+D,Z=>{z.decode(new Uint8Array(Z.response))}),!0)}}),B.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,z){for(let Z of this.jb)if(Z.loadContents(D,z))return!0;return!1}});let S=B.computeAlignment;B.computeAlignment=function(D,z,Z,ee,he=1){return S.call(this,D,z,Z,ee,he)}};const Y="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),F=new function(){function h(){if(!d){let dn=function(Je,Ft,En){if(Ft=Ge.createShader(Ft),Ge.shaderSource(Ft,En),Ge.compileShader(Ft),En=Ge.getShaderInfoLog(Ft),0<(En||"").length)throw En;Ge.attachShader(Je,Ft)};var it=dn,te=document.createElement("canvas"),ze={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Ge;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Ge=te.getContext("webgl",ze),_=1,!Ge)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Ge=te.getContext("webgl2",ze))_=2;else if(Ge=te.getContext("webgl",ze))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Ge=new Proxy(Ge,{get(Je,Ft){if(Je.isContextLost()){if(he||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ft),he=!0),typeof Je[Ft]=="function")return function(){}}else return typeof Je[Ft]=="function"?function(...En){return Je[Ft].apply(Je,En)}:Je[Ft]},set(Je,Ft,En){if(Je.isContextLost())he||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ft),he=!0);else return Je[Ft]=En,!0}}),S=Math.min(Ge.getParameter(Ge.MAX_RENDERBUFFER_SIZE),Ge.getParameter(Ge.MAX_TEXTURE_SIZE)),te=Ge.createProgram(),dn(te,Ge.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),dn(te,Ge.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Ge.bindAttribLocation(te,0,"vertex"),Ge.bindAttribLocation(te,1,"uv"),Ge.linkProgram(te),ze=Ge.getProgramInfoLog(te),0<(ze||"").trim().length)throw ze;D=Ge.getUniformLocation(te,"mat"),z=Ge.getUniformLocation(te,"translate"),Ge.useProgram(te),Ge.bindBuffer(Ge.ARRAY_BUFFER,Ge.createBuffer()),Ge.enableVertexAttribArray(0),Ge.enableVertexAttribArray(1),Ge.bindBuffer(Ge.ELEMENT_ARRAY_BUFFER,Ge.createBuffer()),Ge.uniform1i(Ge.getUniformLocation(te,"image"),0),Ge.pixelStorei(Ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Ge}return!0}let d=null,_=0,S=0,D=null,z=null,Z=0,ee=0,he=!1;h(),this.ac=function(){return h(),S},this.Jb=function(te){d.deleteTexture&&d.deleteTexture(te)},this.Ib=function(te){if(!h())return null;const ze=d.createTexture();return ze?(d.bindTexture(d.TEXTURE_2D,ze),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,te),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),ze):null};const ue=new nt(8),Oe=new nt(8),$e=new nt(10),ot=new nt(10);this.Mb=function(te,ze,it,Ge,dn){if(h()){var Je=ue.push(te),Ft=Oe.push(ze);if(d.canvas){(d.canvas.width!=Je||d.canvas.height!=Ft)&&(d.canvas.width=Je,d.canvas.height=Ft),d.viewport(0,Ft-ze,te,ze),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),it.sort((qt,Qi)=>Qi.ub-qt.ub),Je=$e.push(Ge),Z!=Je&&(d.bufferData(d.ARRAY_BUFFER,8*Je,d.DYNAMIC_DRAW),Z=Je),Je=0;for(var En of it)d.bufferSubData(d.ARRAY_BUFFER,Je,En.Sa),Je+=4*En.Sa.length;console.assert(Je==4*Ge);for(var lr of it)d.bufferSubData(d.ARRAY_BUFFER,Je,lr.Ab),Je+=4*lr.Ab.length;console.assert(Je==8*Ge),Je=ot.push(dn),ee!=Je&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Je,d.DYNAMIC_DRAW),ee=Je),En=0;for(var Li of it)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,En,Li.indices),En+=2*Li.indices.length;console.assert(En==2*dn),Li=0,lr=!0,Je=En=0;for(const qt of it){qt.image.Ia!=Li&&(d.bindTexture(d.TEXTURE_2D,qt.image.Ha||null),Li=qt.image.Ia),qt.fc?(d.scissor(qt.Ya,Ft-qt.Za-qt.ib,qt.tc,qt.ib),lr=!0):lr&&(d.scissor(0,Ft-ze,te,ze),lr=!1),it=2/te;const Qi=-2/ze;d.uniform4f(D,qt.ga[0]*it*qt.za,qt.ga[1]*Qi*qt.Aa,qt.ga[2]*it*qt.za,qt.ga[3]*Qi*qt.Aa),d.uniform2f(z,qt.ga[4]*it*qt.za+it*(qt.Ya-qt.bc*qt.za)-1,qt.ga[5]*Qi*qt.Aa+Qi*(qt.Za-qt.cc*qt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Je),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Je+4*Ge),d.drawElements(d.TRIANGLES,qt.indices.length,d.UNSIGNED_SHORT,En),Je+=4*qt.Sa.length,En+=2*qt.indices.length}console.assert(Je==4*Ge),console.assert(En==2*dn)}}},this.canvas=function(){return h()&&d.canvas}},P=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){function h(De){switch(De){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function _(){0<Ft.length&&(F.Mb(Je.drawWidth(),Je.drawHeight(),Ft,En,lr),Ft=[],lr=En=0,Je.reset(512,512));for(const De of dn){for(const Qe of De.H)Qe();De.H=[]}dn.clear()}P&&P();var S=B.RenderPaintStyle;const D=B.RenderPath,z=B.RenderPaint,Z=B.Renderer,ee=B.StrokeCap,he=B.StrokeJoin,ue=B.BlendMode,Oe=S.fill,$e=S.stroke,ot=B.FillRule.evenOdd;let te=1;var ze=B.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:Qe}={}){this.__parent.__construct.call(this),this.Ia=te,te=te+1&2147483647||1,this.ka=De,this.va=Qe},__destruct:function(){this.Ha&&(F.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var Qe=this;Qe.va&&Qe.va(Qe);var Ht=new Image;Qe.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),Ht.onload=function(){Qe.Cb=Ht,Qe.Ha=F.Ib(Ht),Qe.size(Ht.width,Ht.height),Qe.ka&&Qe.ka(Qe)},Ht.src=Qe.Va}}),it=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,Qe,Ht,Kt,Vt,Xt,an){var cn=this.T,Si=cn.addPath;De=De.T;const wn=new DOMMatrix;wn.a=Qe,wn.b=Ht,wn.c=Kt,wn.d=Vt,wn.e=Xt,wn.f=an,Si.call(cn,De,wn)},fillRule:function(De){this.Ua=De},moveTo:function(De,Qe){this.T.moveTo(De,Qe)},lineTo:function(De,Qe){this.T.lineTo(De,Qe)},cubicTo:function(De,Qe,Ht,Kt,Vt,Xt){this.T.bezierCurveTo(De,Qe,Ht,Kt,Vt,Xt)},close:function(){this.T.closePath()}}),Ge=z.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case he.miter:this.Ga="miter";break;case he.round:this.Ga="round";break;case he.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=h(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,Qe,Ht,Kt){this.ia={wb:De,xb:Qe,bb:Ht,cb:Kt,Pa:[]}},radialGradient:function(De,Qe,Ht,Kt){this.ia={wb:De,xb:Qe,bb:Ht,cb:Kt,Pa:[],$b:!0}},addStop:function(De,Qe){this.ia.Pa.push({color:De,stop:Qe})},completeGradient:function(){},draw:function(De,Qe,Ht){let Kt=this.Eb;var Vt=this.Wa,Xt=this.ia;if(De.globalCompositeOperation=this.Bb,Xt!=null){Vt=Xt.wb;var an=Xt.xb;const Si=Xt.bb;var cn=Xt.cb;const wn=Xt.Pa;Xt.$b?(Xt=Si-Vt,cn-=an,Vt=De.createRadialGradient(Vt,an,0,Vt,an,Math.sqrt(Xt*Xt+cn*cn))):Vt=De.createLinearGradient(Vt,an,Si,cn);for(let Xr=0,gn=wn.length;Xr<gn;Xr++)an=wn[Xr],Vt.addColorStop(an.stop,d(an.color));this.Wa=Vt,this.ia=null}switch(Kt){case $e:De.strokeStyle=Vt,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(Qe);break;case Oe:De.fillStyle=Vt,De.fill(Qe,Ht)}}});const dn=new Set;let Je=null,Ft=[],En=0,lr=0;var Li=B.CanvasRenderer=Z.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,Qe,Ht,Kt,Vt,Xt){const an=this.S,cn=an.length-6;an.splice(cn,6,an[cn]*De+an[cn+2]*Qe,an[cn+1]*De+an[cn+3]*Qe,an[cn]*Ht+an[cn+2]*Kt,an[cn+1]*Ht+an[cn+3]*Kt,an[cn]*Vt+an[cn+2]*Xt+an[cn+4],an[cn+1]*Vt+an[cn+3]*Xt+an[cn+5]),this.H.push(this.B.transform.bind(this.B,De,Qe,Ht,Kt,Vt,Xt))},rotate:function(De){const Qe=Math.sin(De);De=Math.cos(De),this.transform(De,Qe,-Qe,De,0,0)},_drawPath:function(De,Qe){this.H.push(Qe.draw.bind(Qe,this.B,De.T,De.Ua===ot?"evenodd":"nonzero"))},_drawRiveImage:function(De,Qe,Ht,Kt){var Vt=De.Cb;if(Vt){var Xt=this.B,an=h(Ht);this.H.push(function(){Xt.globalCompositeOperation=an,Xt.globalAlpha=Kt,Xt.drawImage(Vt,0,0),Xt.globalAlpha=1})}},_getMatrix:function(De){const Qe=this.S,Ht=Qe.length-6;for(let Kt=0;6>Kt;++Kt)De[Kt]=Qe[Ht+Kt]},_drawImageMesh:function(De,Qe,Ht,Kt,Vt,Xt,an,cn,Si,wn,Xr){Qe=this.B.canvas.width;var gn=this.B.canvas.height;const rs=wn-cn,nl=Xr-Si;cn=Math.max(cn,0),Si=Math.max(Si,0),wn=Math.min(wn,Qe),Xr=Math.min(Xr,gn);const Va=wn-cn,Pa=Xr-Si;if(console.assert(Va<=Math.min(rs,Qe)),console.assert(Pa<=Math.min(nl,gn)),!(0>=Va||0>=Pa)){wn=Va<rs||Pa<nl,Qe=Xr=1;var Aa=Math.ceil(Va*Xr),Ci=Math.ceil(Pa*Qe);gn=F.ac(),Aa>gn&&(Xr*=gn/Aa,Aa=gn),Ci>gn&&(Qe*=gn/Ci,Ci=gn),Je||(Je=new B.DynamicRectanizer(gn),Je.reset(512,512)),gn=Je.addRect(Aa,Ci),0>gn&&(_(),dn.add(this),gn=Je.addRect(Aa,Ci),console.assert(0<=gn));var su=gn&65535,Ro=gn>>16;Ft.push({ga:this.S.slice(this.S.length-6),image:De,Ya:su,Za:Ro,bc:cn,cc:Si,tc:Aa,ib:Ci,za:Xr,Aa:Qe,Sa:new Float32Array(Vt),Ab:new Float32Array(Xt),indices:new Uint16Array(an),fc:wn,ub:De.Ia<<1|(wn?1:0)}),En+=Vt.length,lr+=an.length;var Wi=this.B,Rh=h(Ht);this.H.push(function(){Wi.save(),Wi.resetTransform(),Wi.globalCompositeOperation=Rh,Wi.globalAlpha=Kt;const fi=F.canvas();fi&&Wi.drawImage(fi,su,Ro,Aa,Ci,cn,Si,Va,Pa),Wi.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===ot?"evenodd":"nonzero"))},clear:function(){dn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,Qe){this.transform(1,0,0,1,De,Qe)}});B.makeRenderer=function(De){const Qe=new Li(De),Ht=Qe.B;return new Proxy(Qe,{get(Kt,Vt){if(typeof Kt[Vt]=="function")return function(...Xt){return Kt[Vt].apply(Kt,Xt)};if(typeof Ht[Vt]=="function"){if(-1<Y.indexOf(Vt))throw Error("RiveException: Method call to '"+Vt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Xt){Qe.H.push(Ht[Vt].bind(Ht,...Xt))}}return Kt[Vt]},set(Kt,Vt,Xt){if(Vt in Ht)return Qe.H.push(()=>{Ht[Vt]=Xt}),!0}})},B.decodeImage=function(De,Qe){new ze({ka:Qe}).decode(De)},B.renderFactory={makeRenderPaint:function(){return new Ge},makeRenderPath:function(){return new it},makeRenderImage:function(){let De=Qi;return new ze({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const Qe=De.ready;Qe&&(Qe(),De.ready=null)}}})}};let qt=B.load,Qi=null;B.load=function(De,Qe,Ht=!0){const Kt=new B.FallbackFileAssetLoader;return Qe!==void 0&&Kt.addLoader(Qe),Ht&&(Qe=new B.CDNFileAssetLoader,Kt.addLoader(Qe)),new Promise(function(Vt){let Xt=null;Qi={total:0,loaded:0,ready:function(){Vt(Xt)}},Xt=qt(De,Kt),Qi.total==0&&Vt(Xt)})};let ns=B.RendererWrapper.prototype.align;B.RendererWrapper.prototype.align=function(De,Qe,Ht,Kt,Vt=1){ns.call(this,De,Qe,Ht,Kt,Vt)},S=new tt,B.requestAnimationFrame=S.requestAnimationFrame.bind(S),B.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),B.enableFPSCounter=S.Nb.bind(S),B.disableFPSCounter=S.Kb,S.nb=_,B.resolveAnimationFrame=_,B.cleanup=function(){Je&&Je.delete()}};var H=Object.assign({},B),R="./this.program",L="",I,$;(j||Pe)&&(Pe?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),O&&(L=O),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),Pe&&($=h=>{var d=new XMLHttpRequest;return d.open("GET",h,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(h,d,_)=>{if(wr(h)){var S=new XMLHttpRequest;S.open("GET",h,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(h,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,_)});var re=B.print||console.log.bind(console),q=B.printErr||console.error.bind(console);Object.assign(B,H),H=null,B.thisProgram&&(R=B.thisProgram);var X;B.wasmBinary&&(X=B.wasmBinary);var ye,fe=!1,Te,U,oe,Ie,Ae,Me,We,dt;function gt(){var h=ye.buffer;B.HEAP8=Te=new Int8Array(h),B.HEAP16=oe=new Int16Array(h),B.HEAPU8=U=new Uint8Array(h),B.HEAPU16=Ie=new Uint16Array(h),B.HEAP32=Ae=new Int32Array(h),B.HEAPU32=Me=new Uint32Array(h),B.HEAPF32=We=new Float32Array(h),B.HEAPF64=dt=new Float64Array(h)}var Et=[],Mt=[],_n=[];function mt(){var h=B.preRun.shift();Et.unshift(h)}var At=0,nn=null;function Gt(h){throw B.onAbort?.(h),h="Aborted("+h+")",q(h),fe=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),Se(h),h}var er=h=>h.startsWith("data:application/octet-stream;base64,"),wr=h=>h.startsWith("file://"),on;function st(h){if(h==on&&X)return new Uint8Array(X);if($)return $(h);throw"both async and sync fetching of the wasm failed"}function jt(h){return X?Promise.resolve().then(()=>st(h)):new Promise((d,_)=>{I(h,S=>d(new Uint8Array(S)),()=>{try{d(st(h))}catch(S){_(S)}})})}function Pt(h,d,_){return jt(h).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{q(`failed to asynchronously prepare wasm: ${S}`),Gt(S)})}function Rn(h,d){var _=on;return X||typeof WebAssembly.instantiateStreaming!="function"||er(_)||wr(_)||typeof fetch!="function"?Pt(_,h,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,h).then(d,function(D){return q(`wasm streaming compile failed: ${D}`),q("falling back to ArrayBuffer instantiation"),Pt(_,h,d)}))}var _t,kt,Nt={464256:(h,d,_,S,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=h,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=D;let z=window.h;z.D=[],z.rc=function(Z){for(var ee=0;ee<z.D.length;++ee)if(z.D[ee]==null)return z.D[ee]=Z,ee;return z.D.push(Z),z.D.length-1},z.zb=function(Z){for(z.D[Z]=null;0<z.D.length&&z.D[z.D.length-1]==null;)z.D.pop()},z.Oc=function(Z){for(var ee=0;ee<z.D.length;++ee)if(z.D[ee]==Z)return z.zb(ee)},z.pa=function(Z){return z.D[Z]},z.Ra=["touchend","click"],z.unlock=function(){for(var Z=0;Z<z.D.length;++Z){var ee=z.D[Z];ee!=null&&ee.K!=null&&ee.state===z.fa.vb&&ee.K.resume().then(()=>{Co(ee.ob)},he=>{console.error("Failed to resume audiocontext",he)})}z.Ra.map(function(he){document.removeEventListener(he,z.unlock,!0)})},z.Ra.map(function(Z){document.addEventListener(Z,z.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(h){document.removeEventListener(h,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var h=new(window.AudioContext||window.webkitAudioContext),d=h.sampleRate;return h.close(),d}catch{return 0}},467013:(h,d,_,S,D,z)=>{if(typeof window.h>"u")return-1;var Z={},ee={};return h==window.h.I.wa&&_!=0&&(ee.sampleRate=_),Z.K=new(window.AudioContext||window.webkitAudioContext)(ee),Z.K.suspend(),Z.state=window.h.fa.stopped,_=0,h!=window.h.I.wa&&(_=d),Z.Y=Z.K.createScriptProcessor(S,_,d),Z.Y.onaudioprocess=function(he){if((Z.qa==null||Z.qa.length==0)&&(Z.qa=new Float32Array(We.buffer,D,S*d)),h==window.h.I.capture||h==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var Oe=he.inputBuffer.getChannelData(ue),$e=Z.qa,ot=0;ot<S;ot+=1)$e[ot*d+ue]=Oe[ot];iu(z,S,D)}if(h==window.h.I.wa||h==window.h.I.Ja)for(au(z,S,D),ue=0;ue<he.outputBuffer.numberOfChannels;++ue)for(Oe=he.outputBuffer.getChannelData(ue),$e=Z.qa,ot=0;ot<S;ot+=1)Oe[ot]=$e[ot*d+ue];else for(ue=0;ue<he.outputBuffer.numberOfChannels;++ue)he.outputBuffer.getChannelData(ue).fill(0)},h!=window.h.I.capture&&h!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(he){Z.Ba=Z.K.createMediaStreamSource(he),Z.Ba.connect(Z.Y),Z.Y.connect(Z.K.destination)}).catch(function(he){console.log("Failed to get user media: "+he)}),h==window.h.I.wa&&Z.Y.connect(Z.K.destination),Z.ob=z,window.h.rc(Z)},469890:h=>window.h.pa(h).K.sampleRate,469963:h=>{h=window.h.pa(h),h.Y!==void 0&&(h.Y.onaudioprocess=function(){},h.Y.disconnect(),h.Y=void 0),h.Ba!==void 0&&(h.Ba.disconnect(),h.Ba=void 0),h.K.close(),h.K=void 0,h.ob=void 0},470363:h=>{window.h.zb(h)},470413:h=>{h=window.h.pa(h),h.K.resume(),h.state=window.h.fa.vb},470552:h=>{h=window.h.pa(h),h.K.suspend(),h.state=window.h.fa.stopped}},C=h=>{for(;0<h.length;)h.shift()(B)};function g(){var h=Ae[+Hr>>2];return Hr+=4,h}var v=(h,d)=>{for(var _=0,S=h.length-1;0<=S;S--){var D=h[S];D==="."?h.splice(S,1):D===".."?(h.splice(S,1),_++):_&&(h.splice(S,1),_--)}if(d)for(;_;_--)h.unshift("..");return h},k=h=>{var d=h.charAt(0)==="/",_=h.substr(-1)==="/";return(h=v(h.split("/").filter(S=>!!S),!d).join("/"))||d||(h="."),h&&_&&(h+="/"),(d?"/":"")+h},J=h=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=d[0],d=d[1],!h&&!d?".":(d&&=d.substr(0,d.length-1),h+d)},pe=h=>{if(h==="/")return"/";h=k(h),h=h.replace(/\/$/,"");var d=h.lastIndexOf("/");return d===-1?h:h.substr(d+1)},Ne=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return h=>crypto.getRandomValues(h);Gt("initRandomDevice")},et=h=>(et=Ne())(h),rt=(...h)=>{for(var d="",_=!1,S=h.length-1;-1<=S&&!_;S--){if(_=0<=S?h[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(D=>!!D),!_).join("/"),(_?"/":"")+d||"."},Ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(h,d,_)=>{var S=d+_;for(_=d;h[_]&&!(_>=S);)++_;if(16<_-d&&h.buffer&&Ye)return Ye.decode(h.subarray(d,_));for(S="";d<_;){var D=h[d++];if(D&128){var z=h[d++]&63;if((D&224)==192)S+=String.fromCharCode((D&31)<<6|z);else{var Z=h[d++]&63;D=(D&240)==224?(D&15)<<12|z<<6|Z:(D&7)<<18|z<<12|Z<<6|h[d++]&63,65536>D?S+=String.fromCharCode(D):(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else S+=String.fromCharCode(D)}return S},Ut=[],In=h=>{for(var d=0,_=0;_<h.length;++_){var S=h.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},ln=(h,d,_,S)=>{if(!(0<S))return 0;var D=_;S=_+S-1;for(var z=0;z<h.length;++z){var Z=h.charCodeAt(z);if(55296<=Z&&57343>=Z){var ee=h.charCodeAt(++z);Z=65536+((Z&1023)<<10)|ee&1023}if(127>=Z){if(_>=S)break;d[_++]=Z}else{if(2047>=Z){if(_+1>=S)break;d[_++]=192|Z>>6}else{if(65535>=Z){if(_+2>=S)break;d[_++]=224|Z>>12}else{if(_+3>=S)break;d[_++]=240|Z>>18,d[_++]=128|Z>>12&63}d[_++]=128|Z>>6&63}d[_++]=128|Z&63}}return d[_]=0,_-D};function On(h,d){var _=Array(In(h)+1);return h=ln(h,_,0,_.length),d&&(_.length=h),_}var Qn=[];function Bt(h,d){Qn[h]={input:[],G:[],V:d},Rr(h,An)}var An={open(h){var d=Qn[h.node.xa];if(!d)throw new Xe(43);h.s=d,h.seekable=!1},close(h){h.s.V.oa(h.s)},oa(h){h.s.V.oa(h.s)},read(h,d,_,S){if(!h.s||!h.s.V.hb)throw new Xe(60);for(var D=0,z=0;z<S;z++){try{var Z=h.s.V.hb(h.s)}catch{throw new Xe(29)}if(Z===void 0&&D===0)throw new Xe(6);if(Z==null)break;D++,d[_+z]=Z}return D&&(h.node.timestamp=Date.now()),D},write(h,d,_,S){if(!h.s||!h.s.V.Ma)throw new Xe(60);try{for(var D=0;D<S;D++)h.s.V.Ma(h.s,d[_+D])}catch{throw new Xe(29)}return S&&(h.node.timestamp=Date.now()),D}},kn={hb(){e:{if(!Ut.length){var h=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h){h=null;break e}Ut=On(h,!0)}h=Ut.shift()}return h},Ma(h,d){d===null||d===10?(re(Fe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(re(Fe(h.G,0)),h.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Wn={Ma(h,d){d===null||d===10?(q(Fe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(q(Fe(h.G,0)),h.G=[])}};function Vr(h,d){var _=h.l?h.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=h.l,h.l=new Uint8Array(d),0<h.v&&h.l.set(_.subarray(0,h.v),0))}var Ke={N:null,U(){return Ke.createNode(null,"/",16895,0)},createNode(h,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Xe(63);return Ke.N||(Ke.N={dir:{node:{X:Ke.j.X,P:Ke.j.P,ja:Ke.j.ja,ta:Ke.j.ta,sb:Ke.j.sb,yb:Ke.j.yb,tb:Ke.j.tb,rb:Ke.j.rb,Ca:Ke.j.Ca},stream:{aa:Ke.m.aa}},file:{node:{X:Ke.j.X,P:Ke.j.P},stream:{aa:Ke.m.aa,read:Ke.m.read,write:Ke.m.write,Xa:Ke.m.Xa,kb:Ke.m.kb,mb:Ke.m.mb}},link:{node:{X:Ke.j.X,P:Ke.j.P,la:Ke.j.la},stream:{}},$a:{node:{X:Ke.j.X,P:Ke.j.P},stream:Hn}}),_=ni(h,d,_,S),(_.mode&61440)===16384?(_.j=Ke.N.dir.node,_.m=Ke.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=Ke.N.file.node,_.m=Ke.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=Ke.N.link.node,_.m=Ke.N.link.stream):(_.mode&61440)===8192&&(_.j=Ke.N.$a.node,_.m=Ke.N.$a.stream),_.timestamp=Date.now(),h&&(h.l[d]=_,h.timestamp=_.timestamp),_},Fc(h){return h.l?h.l.subarray?h.l.subarray(0,h.v):new Uint8Array(h.l):new Uint8Array(0)},j:{X(h){var d={};return d.Dc=(h.mode&61440)===8192?h.id:1,d.Hc=h.id,d.mode=h.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=h.xa,(h.mode&61440)===16384?d.size=4096:(h.mode&61440)===32768?d.size=h.v:(h.mode&61440)===40960?d.size=h.link.length:d.size=0,d.vc=new Date(h.timestamp),d.Jc=new Date(h.timestamp),d.Cc=new Date(h.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(h,d){if(d.mode!==void 0&&(h.mode=d.mode),d.timestamp!==void 0&&(h.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,h.v!=d))if(d==0)h.l=null,h.v=0;else{var _=h.l;h.l=new Uint8Array(d),_&&h.l.set(_.subarray(0,Math.min(d,h.v))),h.v=d}},ja(){throw Na[44]},ta(h,d,_,S){return Ke.createNode(h,d,_,S)},sb(h,d,_){if((h.mode&61440)===16384){try{var S=xi(d,_)}catch{}if(S)for(var D in S.l)throw new Xe(55)}delete h.parent.l[h.name],h.parent.timestamp=Date.now(),h.name=_,d.l[_]=h,d.timestamp=h.parent.timestamp},yb(h,d){delete h.l[d],h.timestamp=Date.now()},tb(h,d){var _=xi(h,d),S;for(S in _.l)throw new Xe(55);delete h.l[d],h.timestamp=Date.now()},rb(h){var d=[".",".."],_;for(_ of Object.keys(h.l))d.push(_);return d},Ca(h,d,_){return h=Ke.createNode(h,d,41471,0),h.link=_,h},la(h){if((h.mode&61440)!==40960)throw new Xe(28);return h.link}},m:{read(h,d,_,S,D){var z=h.node.l;if(D>=h.node.v)return 0;if(h=Math.min(h.node.v-D,S),8<h&&z.subarray)d.set(z.subarray(D,D+h),_);else for(S=0;S<h;S++)d[_+S]=z[D+S];return h},write(h,d,_,S,D,z){if(d.buffer===Te.buffer&&(z=!1),!S)return 0;if(h=h.node,h.timestamp=Date.now(),d.subarray&&(!h.l||h.l.subarray)){if(z)return h.l=d.subarray(_,_+S),h.v=S;if(h.v===0&&D===0)return h.l=d.slice(_,_+S),h.v=S;if(D+S<=h.v)return h.l.set(d.subarray(_,_+S),D),S}if(Vr(h,D+S),h.l.subarray&&d.subarray)h.l.set(d.subarray(_,_+S),D);else for(z=0;z<S;z++)h.l[D+z]=d[_+z];return h.v=Math.max(h.v,D+S),S},aa(h,d,_){if(_===1?d+=h.position:_===2&&(h.node.mode&61440)===32768&&(d+=h.node.v),0>d)throw new Xe(28);return d},Xa(h,d,_){Vr(h.node,d+_),h.node.v=Math.max(h.node.v,d+_)},kb(h,d,_,S,D){if((h.node.mode&61440)!==32768)throw new Xe(43);if(h=h.node.l,D&2||h.buffer!==Te.buffer){if((0<_||_+d<h.length)&&(h.subarray?h=h.subarray(_,_+d):h=Array.prototype.slice.call(h,_,_+d)),_=!0,Gt(),d=void 0,!d)throw new Xe(48);Te.set(h,d)}else _=!1,d=h.byteOffset;return{o:d,uc:_}},mb(h,d,_,S){return Ke.m.write(h,d,0,S,_,!1),0}}},Fn=(h,d)=>{var _=0;return h&&(_|=365),d&&(_|=146),_},Rt=null,or={},Pr=[],na=1,Cr=null,yi=!0,Xe=class{constructor(h){this.name="ErrnoError",this.$=h}},Na={},Ii=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(h){this.h.flags=h}get position(){return this.h.position}set position(h){this.h.position=h}},Lr=class{constructor(h,d,_,S){h||=this,this.parent=h,this.U=h.U,this.ua=null,this.id=na++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function fn(h,d={}){if(h=rt(h),!h)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Xe(32);h=h.split("/").filter(Z=>!!Z);for(var _=Rt,S="/",D=0;D<h.length;D++){var z=D===h.length-1;if(z&&d.parent)break;if(_=xi(_,h[D]),S=k(S+"/"+h[D]),_.ua&&(!z||z&&d.gb)&&(_=_.ua.root),!z||d.fb){for(z=0;(_.mode&61440)===40960;)if(_=Ka(S),S=rt(J(S),_),_=fn(S,{Oa:d.Oa+1}).node,40<z++)throw new Xe(32)}}return{path:S,node:_}}function tr(h){for(var d;;){if(h===h.parent)return h=h.U.lb,d?h[h.length-1]!=="/"?`${h}/${d}`:h+d:h;d=d?`${h.name}/${d}`:h.name,h=h.parent}}function ti(h,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(h+_>>>0)%Cr.length}function xi(h,d){var _=(h.mode&61440)===16384?(_=_a(h,"x"))?_:h.j.ja?0:2:54;if(_)throw new Xe(_);for(_=Cr[ti(h.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===h.id&&S===d)return _}return h.j.ja(h,d)}function ni(h,d,_,S){return h=new Lr(h,d,_,S),d=ti(h.parent.id,h.name),h.ec=Cr[d],Cr[d]=h}function Wa(h){var d=["r","w","rw"][h&3];return h&512&&(d+="w"),d}function _a(h,d){if(yi)return 0;if(!d.includes("r")||h.mode&292){if(d.includes("w")&&!(h.mode&146)||d.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function ri(h,d){try{return xi(h,d),20}catch{}return _a(h,"wx")}function Ur(h){if(h=Pr[h],!h)throw new Xe(8);return h}function zr(h,d=-1){if(h=Object.assign(new Ii,h),d==-1)e:{for(d=0;4096>=d;d++)if(!Pr[d])break e;throw new Xe(33)}return h.W=d,Pr[d]=h}function Br(h,d=-1){return h=zr(h,d),h.m?.Ec?.(h),h}var Hn={open(h){h.m=or[h.node.xa].m,h.m.open?.(h)},aa(){throw new Xe(70)}};function Rr(h,d){or[h]={m:d}}function Vn(h,d){var _=d==="/";if(_&&Rt)throw new Xe(10);if(!_&&d){var S=fn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Xe(10);if((S.mode&61440)!==16384)throw new Xe(54)}d={type:h,Mc:{},lb:d,dc:[]},h=h.U(d),h.U=d,d.root=h,_?Rt=h:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function ba(h,d,_){var S=fn(h,{parent:!0}).node;if(h=pe(h),!h||h==="."||h==="..")throw new Xe(28);var D=ri(S,h);if(D)throw new Xe(D);if(!S.j.ta)throw new Xe(63);return S.j.ta(S,h,d,_)}function jr(h){return ba(h,16895,0)}function Fr(h,d,_){typeof _>"u"&&(_=d,d=438),ba(h,d|8192,_)}function ii(h,d){if(!rt(h))throw new Xe(44);var _=fn(d,{parent:!0}).node;if(!_)throw new Xe(44);d=pe(d);var S=ri(_,d);if(S)throw new Xe(S);if(!_.j.Ca)throw new Xe(63);_.j.Ca(_,d,h)}function Ka(h){if(h=fn(h).node,!h)throw new Xe(44);if(!h.j.la)throw new Xe(28);return rt(tr(h.parent),h.j.la(h))}function Mi(h,d,_){if(h==="")throw new Xe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof h=="object")var D=h;else{h=k(h);try{D=fn(h,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(D){if(d&128)throw new Xe(20)}else D=ba(h,_,0),S=!0;if(!D)throw new Xe(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Xe(54);if(!S&&(_=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(Wa(d)!=="r"||d&512)?31:_a(D,Wa(d)):44))throw new Xe(_);if(d&512&&!S){if(_=D,_=typeof _=="string"?fn(_,{fb:!0}).node:_,!_.j.P)throw new Xe(63);if((_.mode&61440)===16384)throw new Xe(31);if((_.mode&61440)!==32768)throw new Xe(28);if(S=_a(_,"w"))throw new Xe(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,D=zr({node:D,path:tr(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!B.logReadFiles||d&1||(Kn||={},h in Kn||(Kn[h]=1)),D}function xn(h,d,_){if(h.W===null)throw new Xe(8);if(!h.seekable||!h.m.aa)throw new Xe(70);if(_!=0&&_!=1&&_!=2)throw new Xe(28);h.position=h.m.aa(h,d,_),h.sc=[]}var ra;function vi(h,d,_){h=k("/dev/"+h);var S=Fn(!!d,!!_);Ir||=64;var D=Ir++<<8|0;Rr(D,{open(z){z.seekable=!1},close(){_?.buffer?.length&&_(10)},read(z,Z,ee,he){for(var ue=0,Oe=0;Oe<he;Oe++){try{var $e=d()}catch{throw new Xe(29)}if($e===void 0&&ue===0)throw new Xe(6);if($e==null)break;ue++,Z[ee+Oe]=$e}return ue&&(z.node.timestamp=Date.now()),ue},write(z,Z,ee,he){for(var ue=0;ue<he;ue++)try{_(Z[ee+ue])}catch{throw new Xe(29)}return he&&(z.node.timestamp=Date.now()),ue}}),Fr(h,S,D)}var Ir,bn={},Kn,Hr=void 0,_i=(h,d)=>Object.defineProperty(d,"name",{value:h}),Yt=[],hr=[],ht,dr=h=>{if(!h)throw new ht("Cannot use deleted val. handle = "+h);return hr[h]},Pn=h=>{switch(h){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=Yt.pop()||hr.length;return hr[d]=h,hr[d+1]=1,d}},Ea=h=>{var d=Error,_=_i(h,function(S){this.name=h,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},$a,Da,hn=h=>{for(var d="";U[h];)d+=Da[U[h++]];return d},ia=[],Ni=()=>{for(;ia.length;){var h=ia.pop();h.g.ea=!1,h.delete()}},$n,qr={},wa=(h,d)=>{if(d===void 0)throw new ht("ptr should not be undefined");for(;h.C;)d=h.ma(d),h=h.C;return d},bi={},aa=h=>{h=vc(h);var d=hn(h);return Ai(h),d},qi=(h,d)=>{var _=bi[h];if(_===void 0)throw h=`${d} has unknown type ${aa(h)}`,new ht(h);return _},ai=()=>{},sa=!1,si=(h,d,_)=>d===_?h:_.C===void 0?null:(h=si(h,d,_.C),h===null?null:_.Lb(h)),Oa={},Gr=(h,d)=>(d=wa(h,d),qr[d]),oi,xr=(h,d)=>{if(!d.u||!d.o)throw new oi("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new oi("Both smartPtrType and smartPtr must be specified");return d.count={value:1},li(Object.create(h,{g:{value:d,writable:!0}}))},li=h=>typeof FinalizationRegistry>"u"?(li=d=>d,h):(sa=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),li=d=>{var _=d.g;return _.F&&sa.register(d,{g:_},d),d},ai=d=>{sa.unregister(d)},li(h)),Gi={},ui=h=>{for(;h.length;){var d=h.pop();h.pop()(d)}};function Tr(h){return this.fromWireType(Me[h>>2])}var Ln={},Di={},It=(h,d,_)=>{function S(ee){if(ee=_(ee),ee.length!==h.length)throw new oi("Mismatched type converter count");for(var he=0;he<h.length;++he)Mr(h[he],ee[he])}h.forEach(function(ee){Di[ee]=d});var D=Array(d.length),z=[],Z=0;d.forEach((ee,he)=>{bi.hasOwnProperty(ee)?D[he]=bi[ee]:(z.push(ee),Ln.hasOwnProperty(ee)||(Ln[ee]=[]),Ln[ee].push(()=>{D[he]=bi[ee],++Z,Z===z.length&&S(D)}))}),z.length===0&&S(D)};function Oi(h,d,_={}){var S=d.name;if(!h)throw new ht(`type "${S}" must have a positive integer typeid pointer`);if(bi.hasOwnProperty(h)){if(_.Vb)return;throw new ht(`Cannot register type '${S}' twice`)}bi[h]=d,delete Di[h],Ln.hasOwnProperty(h)&&(d=Ln[h],delete Ln[h],d.forEach(D=>D()))}function Mr(h,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Oi(h,d,_)}var mr=h=>{throw new ht(h.g.u.i.name+" instance already deleted")};function Yi(){}var ki=(h,d,_)=>{if(h[d].A===void 0){var S=h[d];h[d]=function(...D){if(!h[d].A.hasOwnProperty(D.length))throw new ht(`Function '${_}' called with an invalid number of arguments (${D.length}) - expects one of (${h[d].A})!`);return h[d].A[D.length].apply(this,D)},h[d].A=[],h[d].A[S.da]=S}},Ei=(h,d,_)=>{if(B.hasOwnProperty(h)){if(_===void 0||B[h].A!==void 0&&B[h].A[_]!==void 0)throw new ht(`Cannot register public name '${h}' twice`);if(ki(B,h,h),B.hasOwnProperty(_))throw new ht(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);B[h].A[_]=d}else B[h]=d,_!==void 0&&(B[h].Lc=_)},wi=h=>{if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var d=h.charCodeAt(0);return 48<=d&&57>=d?`_${h}`:h};function nr(h,d,_,S,D,z,Z,ee){this.name=h,this.constructor=d,this.M=_,this.O=S,this.C=D,this.Qb=z,this.ma=Z,this.Lb=ee,this.pb=[]}var W=(h,d,_)=>{for(;d!==_;){if(!d.ma)throw new ht(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);h=d.ma(h),d=d.C}return h};function ae(h,d){if(d===null){if(this.La)throw new ht(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ht(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new ht(`Cannot pass deleted object as a pointer of type ${this.name}`);return W(d.g.o,d.g.u.i,this.i)}function be(h,d){if(d===null){if(this.La)throw new ht(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return h!==null&&h.push(this.O,_),_}return 0}if(!d||!d.g)throw new ht(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new ht(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ht(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=W(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ht("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ht(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Pn(()=>S.delete())),h!==null&&h.push(this.O,_)}break;default:throw new ht("Unsupporting sharing policy")}}return _}function Ee(h,d){if(d===null){if(this.La)throw new ht(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ht(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new ht(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ht(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return W(d.g.o,d.g.u.i,this.i)}function ve(h,d,_,S,D,z,Z,ee,he,ue,Oe){this.name=h,this.i=d,this.La=_,this.ra=S,this.sa=D,this.hc=z,this.mc=Z,this.qb=ee,this.Na=he,this.ic=ue,this.O=Oe,D||d.C!==void 0?this.toWireType=be:(this.toWireType=S?ae:Ee,this.L=null)}var He=(h,d,_)=>{if(!B.hasOwnProperty(h))throw new oi("Replacing nonexistent public symbol");B[h].A!==void 0&&_!==void 0?B[h].A[_]=d:(B[h]=d,B[h].da=_)},Le=[],Ve,ct=h=>{var d=Le[h];return d||(h>=Le.length&&(Le.length=h+1),Le[h]=d=Ve.get(h)),d},qe=(h,d,_=[])=>(h.includes("j")?(h=h.replace(/p/g,"i"),d=(0,B["dynCall_"+h])(d,..._)):d=ct(d)(..._),d),pt=(h,d)=>(..._)=>qe(h,d,_),wt=(h,d)=>{h=hn(h);var _=h.includes("j")?pt(h,d):ct(d);if(typeof _!="function")throw new ht(`unknown function pointer with signature ${h}: ${d}`);return _},zn,Jn=(h,d)=>{function _(z){D[z]||bi[z]||(Di[z]?Di[z].forEach(_):(S.push(z),D[z]=!0))}var S=[],D={};throw d.forEach(_),new zn(`${h}: `+S.map(aa).join([", "]))};function Ms(h){for(var d=1;d<h.length;++d)if(h[d]!==null&&h[d].L===void 0)return!0;return!1}function Nr(h,d,_,S,D){var z=d.length;if(2>z)throw new ht("argTypes array size mismatch! Must at least get return value and 'this' types!");var Z=d[1]!==null&&_!==null,ee=Ms(d),he=d[0].name!=="void",ue=z-2,Oe=Array(ue),$e=[],ot=[];return _i(h,function(...te){if(te.length!==ue)throw new ht(`function ${h} called with ${te.length} arguments, expected ${ue}`);if(ot.length=0,$e.length=Z?2:1,$e[0]=D,Z){var ze=d[1].toWireType(ot,this);$e[1]=ze}for(var it=0;it<ue;++it)Oe[it]=d[it+2].toWireType(ot,te[it]),$e.push(Oe[it]);if(te=S(...$e),ee)ui(ot);else for(it=Z?1:2;it<d.length;it++){var Ge=it===1?ze:Oe[it-2];d[it].L!==null&&d[it].L(Ge)}return ze=he?d[0].fromWireType(te):void 0,ze})}var Ja=(h,d)=>{for(var _=[],S=0;S<h;S++)_.push(Me[d+4*S>>2]);return _},Ns=h=>{h=h.trim();const d=h.indexOf("(");return d!==-1?h.substr(0,d):h},Xi=(h,d,_)=>{if(!(h instanceof Object))throw new ht(`${_} with invalid "this": ${h}`);if(!(h instanceof d.i.constructor))throw new ht(`${_} incompatible with "this" of type ${h.constructor.name}`);if(!h.g.o)throw new ht(`cannot call emscripten binding method ${_} on deleted object`);return W(h.g.o,h.g.u.i,d.i)},Ds=h=>{9<h&&--hr[h+1]===0&&(hr[h]=void 0,Yt.push(h))},$o={name:"emscripten::val",fromWireType:h=>{var d=dr(h);return Ds(h),d},toWireType:(h,d)=>Pn(d),argPackAdvance:8,readValueFromPointer:Tr,L:null},Jo=(h,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Te[S])}:function(S){return this.fromWireType(U[S])};case 2:return _?function(S){return this.fromWireType(oe[S>>1])}:function(S){return this.fromWireType(Ie[S>>1])};case 4:return _?function(S){return this.fromWireType(Ae[S>>2])}:function(S){return this.fromWireType(Me[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},Os=h=>{if(h===null)return"null";var d=typeof h;return d==="object"||d==="array"||d==="function"?h.toString():""+h},ka=(h,d)=>{switch(d){case 4:return function(_){return this.fromWireType(We[_>>2])};case 8:return function(_){return this.fromWireType(dt[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${h}`)}},Yr=(h,d,_)=>{switch(d){case 1:return _?S=>Te[S]:S=>U[S];case 2:return _?S=>oe[S>>1]:S=>Ie[S>>1];case 4:return _?S=>Ae[S>>2]:S=>Me[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},So=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(h,d)=>{for(var _=h>>1,S=_+d/2;!(_>=S)&&Ie[_];)++_;if(_<<=1,32<_-h&&So)return So.decode(U.subarray(h,_));for(_="",S=0;!(S>=d/2);++S){var D=oe[h+2*S>>1];if(D==0)break;_+=String.fromCharCode(D)}return _},Ta=(h,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*h.length?_/2:h.length;for(var D=0;D<_;++D)oe[d>>1]=h.charCodeAt(D),d+=2;return oe[d>>1]=0,d-S},u=h=>2*h.length,y=(h,d)=>{for(var _=0,S="";!(_>=d/4);){var D=Ae[h+4*_>>2];if(D==0)break;++_,65536<=D?(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023)):S+=String.fromCharCode(D)}return S},A=(h,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var D=0;D<h.length;++D){var z=h.charCodeAt(D);if(55296<=z&&57343>=z){var Z=h.charCodeAt(++D);z=65536+((z&1023)<<10)|Z&1023}if(Ae[d>>2]=z,d+=4,d+4>_)break}return Ae[d>>2]=0,d-S},V=h=>{for(var d=0,_=0;_<h.length;++_){var S=h.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},se=(h,d,_)=>{var S=[];return h=h.toWireType(S,_),S.length&&(Me[d>>2]=Pn(S)),h},me={},Ue=h=>{var d=me[h];return d===void 0?hn(h):d},Ct=[],rr=h=>{var d=Ct.length;return Ct.push(h),d},un=(h,d)=>{for(var _=Array(h),S=0;S<h;++S)_[S]=qi(Me[d+4*S>>2],"parameter "+S);return _},Bn=Reflect.construct,ci=[],Vi={},Pi=()=>{if(!Ti){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:R||"./this.program"},d;for(d in Vi)Vi[d]===void 0?delete h[d]:h[d]=Vi[d];var _=[];for(d in h)_.push(`${d}=${h[d]}`);Ti=_}return Ti},Ti,oa=h=>h%4===0&&(h%100!==0||h%400===0),Za=[31,29,31,30,31,30,31,31,30,31,30,31],es=[31,28,31,30,31,30,31,31,30,31,30,31],Ch=(h,d,_,S)=>{function D(te,ze,it){for(te=typeof te=="number"?te.toString():te||"";te.length<ze;)te=it[0]+te;return te}function z(te,ze){return D(te,ze,"0")}function Z(te,ze){function it(dn){return 0>dn?-1:0<dn?1:0}var Ge;return(Ge=it(te.getFullYear()-ze.getFullYear()))===0&&(Ge=it(te.getMonth()-ze.getMonth()))===0&&(Ge=it(te.getDate()-ze.getDate())),Ge}function ee(te){switch(te.getDay()){case 0:return new Date(te.getFullYear()-1,11,29);case 1:return te;case 2:return new Date(te.getFullYear(),0,3);case 3:return new Date(te.getFullYear(),0,2);case 4:return new Date(te.getFullYear(),0,1);case 5:return new Date(te.getFullYear()-1,11,31);case 6:return new Date(te.getFullYear()-1,11,30)}}function he(te){var ze=te.ba;for(te=new Date(new Date(te.ca+1900,0,1).getTime());0<ze;){var it=te.getMonth(),Ge=(oa(te.getFullYear())?Za:es)[it];if(ze>Ge-te.getDate())ze-=Ge-te.getDate()+1,te.setDate(1),11>it?te.setMonth(it+1):(te.setMonth(0),te.setFullYear(te.getFullYear()+1));else{te.setDate(te.getDate()+ze);break}}return it=new Date(te.getFullYear()+1,0,4),ze=ee(new Date(te.getFullYear(),0,4)),it=ee(it),0>=Z(ze,te)?0>=Z(it,te)?te.getFullYear()+1:te.getFullYear():te.getFullYear()-1}var ue=Me[S+40>>2];S={pc:Ae[S>>2],oc:Ae[S+4>>2],Da:Ae[S+8>>2],Qa:Ae[S+12>>2],Ea:Ae[S+16>>2],ca:Ae[S+20>>2],R:Ae[S+24>>2],ba:Ae[S+28>>2],Nc:Ae[S+32>>2],nc:Ae[S+36>>2],qc:ue&&ue?Fe(U,ue):""},_=_?Fe(U,_):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in ue)_=_.replace(new RegExp(Oe,"g"),ue[Oe]);var $e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ot="January February March April May June July August September October November December".split(" ");ue={"%a":te=>$e[te.R].substring(0,3),"%A":te=>$e[te.R],"%b":te=>ot[te.Ea].substring(0,3),"%B":te=>ot[te.Ea],"%C":te=>z((te.ca+1900)/100|0,2),"%d":te=>z(te.Qa,2),"%e":te=>D(te.Qa,2," "),"%g":te=>he(te).toString().substring(2),"%G":he,"%H":te=>z(te.Da,2),"%I":te=>(te=te.Da,te==0?te=12:12<te&&(te-=12),z(te,2)),"%j":te=>{for(var ze=0,it=0;it<=te.Ea-1;ze+=(oa(te.ca+1900)?Za:es)[it++]);return z(te.Qa+ze,3)},"%m":te=>z(te.Ea+1,2),"%M":te=>z(te.oc,2),"%n":()=>`
`,"%p":te=>0<=te.Da&&12>te.Da?"AM":"PM","%S":te=>z(te.pc,2),"%t":()=>"	","%u":te=>te.R||7,"%U":te=>z(Math.floor((te.ba+7-te.R)/7),2),"%V":te=>{var ze=Math.floor((te.ba+7-(te.R+6)%7)/7);if(2>=(te.R+371-te.ba-2)%7&&ze++,ze)ze==53&&(it=(te.R+371-te.ba)%7,it==4||it==3&&oa(te.ca)||(ze=1));else{ze=52;var it=(te.R+7-te.ba-1)%7;(it==4||it==5&&oa(te.ca%400-1))&&ze++}return z(ze,2)},"%w":te=>te.R,"%W":te=>z(Math.floor((te.ba+7-(te.R+6)%7)/7),2),"%y":te=>(te.ca+1900).toString().substring(2),"%Y":te=>te.ca+1900,"%z":te=>{te=te.nc;var ze=0<=te;return te=Math.abs(te)/60,(ze?"+":"-")+("0000"+(te/60*100+te%60)).slice(-4)},"%Z":te=>te.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in ue)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),ue[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=On(_,!1),Oe.length>d?0:(Te.set(Oe,h),Oe.length-1)};[44].forEach(h=>{Na[h]=new Xe(h),Na[h].stack="<generic error, no stack>"}),Cr=Array(4096),Vn(Ke,"/"),jr("/tmp"),jr("/home"),jr("/home/web_user"),(function(){jr("/dev"),Rr(259,{read:()=>0,write:(S,D,z,Z)=>Z}),Fr("/dev/null",259),Bt(1280,kn),Bt(1536,Wn),Fr("/dev/tty",1280),Fr("/dev/tty1",1536);var h=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=et(h).byteLength),h[--d]);vi("random",_),vi("urandom",_),jr("/dev/shm"),jr("/dev/shm/tmp")})(),(function(){jr("/proc");var h=jr("/proc/self");jr("/proc/self/fd"),Vn({U(){var d=ni(h,"fd",16895,73);return d.j={ja(_,S){var D=Ur(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},_.parent=_}},d}},"/proc/self/fd")})(),ht=B.BindingError=class extends Error{constructor(h){super(h),this.name="BindingError"}},hr.push(0,1,void 0,1,null,1,!0,1,!1,1),B.count_emval_handles=()=>hr.length/2-5-Yt.length,$a=B.PureVirtualError=Ea("PureVirtualError");for(var yc=Array(256),el=0;256>el;++el)yc[el]=String.fromCharCode(el);Da=yc,B.getInheritedInstanceCount=()=>Object.keys(qr).length,B.getLiveInheritedInstances=()=>{var h=[],d;for(d in qr)qr.hasOwnProperty(d)&&h.push(qr[d]);return h},B.flushPendingDeletes=Ni,B.setDelayFunction=h=>{$n=h,ia.length&&$n&&$n(Ni)},oi=B.InternalError=class extends Error{constructor(h){super(h),this.name="InternalError"}},Object.assign(Yi.prototype,{isAliasOf:function(h){if(!(this instanceof Yi&&h instanceof Yi))return!1;var d=this.g.u.i,_=this.g.o;h.g=h.g;var S=h.g.u.i;for(h=h.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)h=S.ma(h),S=S.C;return d===S&&_===h},clone:function(){if(this.g.o||mr(this),this.g.ha)return this.g.count.value+=1,this;var h=li,d=Object,_=d.create,S=Object.getPrototypeOf(this),D=this.g;return h=h(_.call(d,S,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),h.g.count.value+=1,h.g.ea=!1,h},delete(){if(this.g.o||mr(this),this.g.ea&&!this.g.ha)throw new ht("Object already scheduled for deletion");ai(this);var h=this.g;--h.count.value,h.count.value===0&&(h.F?h.J.O(h.F):h.u.i.O(h.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||mr(this),this.g.ea&&!this.g.ha)throw new ht("Object already scheduled for deletion");return ia.push(this),ia.length===1&&$n&&$n(Ni),this.g.ea=!0,this}}),Object.assign(ve.prototype,{Rb(h){return this.qb&&(h=this.qb(h)),h},ab(h){this.O?.(h)},argPackAdvance:8,readValueFromPointer:Tr,fromWireType:function(h){function d(){return this.sa?xr(this.i.M,{u:this.hc,o:_,J:this,F:h}):xr(this.i.M,{u:this,o:h})}var _=this.Rb(h);if(!_)return this.ab(h),null;var S=Gr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=h,S.clone()):(S=S.clone(),this.ab(h),S);if(S=this.i.Qb(_),S=Oa[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var D=si(_,this.i,S.i);return D===null?d.call(this):this.sa?xr(S.i.M,{u:S,o:D,J:this,F:h}):xr(S.i.M,{u:S,o:D})}}),zn=B.UnboundTypeError=Ea("UnboundTypeError");var ru={__syscall_fcntl64:function(h,d,_){Hr=_;try{var S=Ur(h);switch(d){case 0:var D=g();if(0>D)break;for(;Pr[D];)D++;return Br(S,D).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return D=g(),S.flags|=D,0;case 12:return D=g(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(z){if(typeof bn>"u"||z.name!=="ErrnoError")throw z;return-z.$}},__syscall_ioctl:function(h,d,_){Hr=_;try{var S=Ur(h);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){h=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=g();Ae[D>>2]=25856,Ae[D+4>>2]=5,Ae[D+8>>2]=191,Ae[D+12>>2]=35387;for(var z=0;32>z;z++)Te[D+z+17]=h[z]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(D=g(),h=[],z=0;32>z;z++)h.push(Te[D+z+17]);return 0;case 21519:return S.s?(D=g(),Ae[D>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(D=g(),!S.m.Wb)throw new Xe(59);return S.m.Wb(S,d,D);case 21523:return S.s?(S.s.V.Zb&&(z=[24,80],D=g(),oe[D>>1]=z[0],oe[D+2>>1]=z[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(Z){if(typeof bn>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},__syscall_openat:function(h,d,_,S){Hr=S;try{d=d?Fe(U,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var z=h===-100?"/":Ur(h).path;if(D.length==0)throw new Xe(44);d=k(z+"/"+D)}var Z=S?g():0;return Mi(d,_,Z).W}catch(ee){if(typeof bn>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{Gt("")},_embind_create_inheriting_constructor:(h,d,_)=>{h=hn(h),d=qi(d,"wrapper"),_=dr(_);var S=d.i,D=S.M,z=S.C.M,Z=S.C.constructor;return h=_i(h,function(...ee){S.C.pb.forEach((function(he){if(this[he]===z[he])throw new $a(`Pure virtual function ${he} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ee)}),D.__construct=function(...ee){if(this===D)throw new ht("Pass correct 'this' to __construct");ee=Z.implement(this,...ee),ai(ee);var he=ee.g;if(ee.notifyOnDestruction(),he.ha=!0,Object.defineProperties(this,{g:{value:he}}),li(this),ee=he.o,ee=wa(S,ee),qr.hasOwnProperty(ee))throw new ht(`Tried to register registered instance: ${ee}`);qr[ee]=this},D.__destruct=function(){if(this===D)throw new ht("Pass correct 'this' to __destruct");ai(this);var ee=this.g.o;if(ee=wa(S,ee),qr.hasOwnProperty(ee))delete qr[ee];else throw new ht(`Tried to unregister unregistered instance: ${ee}`)},h.prototype=Object.create(D),Object.assign(h.prototype,_),Pn(h)},_embind_finalize_value_object:h=>{var d=Gi[h];delete Gi[h];var _=d.Na,S=d.O,D=d.eb,z=D.map(Z=>Z.Ub).concat(D.map(Z=>Z.kc));It([h],z,Z=>{var ee={};return D.forEach((he,ue)=>{var Oe=Z[ue],$e=he.Sb,ot=he.Tb,te=Z[ue+D.length],ze=he.jc,it=he.lc;ee[he.Ob]={read:Ge=>Oe.fromWireType($e(ot,Ge)),write:(Ge,dn)=>{var Je=[];ze(it,Ge,te.toWireType(Je,dn)),ui(Je)}}}),[{name:d.name,fromWireType:he=>{var ue={},Oe;for(Oe in ee)ue[Oe]=ee[Oe].read(he);return S(he),ue},toWireType:(he,ue)=>{for(var Oe in ee)if(!(Oe in ue))throw new TypeError(`Missing field: "${Oe}"`);var $e=_();for(Oe in ee)ee[Oe].write($e,ue[Oe]);return he!==null&&he.push(S,$e),$e},argPackAdvance:8,readValueFromPointer:Tr,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(h,d,_,S)=>{d=hn(d),Mr(h,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,z){return z?_:S},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(U[D])},L:null})},_embind_register_class:(h,d,_,S,D,z,Z,ee,he,ue,Oe,$e,ot)=>{Oe=hn(Oe),z=wt(D,z),ee&&=wt(Z,ee),ue&&=wt(he,ue),ot=wt($e,ot);var te=wi(Oe);Ei(te,function(){Jn(`Cannot construct ${Oe} due to unbound types`,[S])}),It([h,d,_],S?[S]:[],ze=>{if(ze=ze[0],S)var it=ze.i,Ge=it.M;else Ge=Yi.prototype;ze=_i(Oe,function(...En){if(Object.getPrototypeOf(this)!==dn)throw new ht("Use 'new' to construct "+Oe);if(Je.Z===void 0)throw new ht(Oe+" has no accessible constructor");var lr=Je.Z[En.length];if(lr===void 0)throw new ht(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${En.length}) - expected (${Object.keys(Je.Z).toString()}) parameters instead!`);return lr.apply(this,En)});var dn=Object.create(Ge,{constructor:{value:ze}});ze.prototype=dn;var Je=new nr(Oe,ze,dn,ot,it,z,ee,ue);if(Je.C){var Ft;(Ft=Je.C).na??(Ft.na=[]),Je.C.na.push(Je)}return it=new ve(Oe,Je,!0,!1,!1),Ft=new ve(Oe+"*",Je,!1,!1,!1),Ge=new ve(Oe+" const*",Je,!1,!0,!1),Oa[h]={pointerType:Ft,Hb:Ge},He(te,ze),[it,Ft,Ge]})},_embind_register_class_class_function:(h,d,_,S,D,z,Z)=>{var ee=Ja(_,S);d=hn(d),d=Ns(d),z=wt(D,z),It([],[h],he=>{function ue(){Jn(`Cannot call ${Oe} due to unbound types`,ee)}he=he[0];var Oe=`${he.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var $e=he.i.constructor;return $e[d]===void 0?(ue.da=_-1,$e[d]=ue):(ki($e,d,Oe),$e[d].A[_-1]=ue),It([],ee,ot=>{if(ot=Nr(Oe,[ot[0],null].concat(ot.slice(1)),null,z,Z),$e[d].A===void 0?(ot.da=_-1,$e[d]=ot):$e[d].A[_-1]=ot,he.i.na)for(const te of he.i.na)te.constructor.hasOwnProperty(d)||(te.constructor[d]=ot);return[]}),[]})},_embind_register_class_class_property:(h,d,_,S,D,z,Z,ee)=>{d=hn(d),z=wt(D,z),It([],[h],he=>{he=he[0];var ue=`${he.name}.${d}`,Oe={get(){Jn(`Cannot access ${ue} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=ee?()=>{Jn(`Cannot access ${ue} due to unbound types`,[_])}:()=>{throw new ht(`${ue} is a read-only property`)},Object.defineProperty(he.i.constructor,d,Oe),It([],[_],$e=>{$e=$e[0];var ot={get(){return $e.fromWireType(z(S))},enumerable:!0};return ee&&(ee=wt(Z,ee),ot.set=te=>{var ze=[];ee(S,$e.toWireType(ze,te)),ui(ze)}),Object.defineProperty(he.i.constructor,d,ot),[]}),[]})},_embind_register_class_constructor:(h,d,_,S,D,z)=>{var Z=Ja(d,_);D=wt(S,D),It([],[h],ee=>{ee=ee[0];var he=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new ht(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{Jn(`Cannot construct ${ee.name} due to unbound types`,Z)},It([],Z,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=Nr(he,ue,null,D,z),[])),[]})},_embind_register_class_function:(h,d,_,S,D,z,Z,ee)=>{var he=Ja(_,S);d=hn(d),d=Ns(d),z=wt(D,z),It([],[h],ue=>{function Oe(){Jn(`Cannot call ${$e} due to unbound types`,he)}ue=ue[0];var $e=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var ot=ue.i.M,te=ot[d];return te===void 0||te.A===void 0&&te.className!==ue.name&&te.da===_-2?(Oe.da=_-2,Oe.className=ue.name,ot[d]=Oe):(ki(ot,d,$e),ot[d].A[_-2]=Oe),It([],he,ze=>(ze=Nr($e,ze,ue,z,Z),ot[d].A===void 0?(ze.da=_-2,ot[d]=ze):ot[d].A[_-2]=ze,[])),[]})},_embind_register_class_property:(h,d,_,S,D,z,Z,ee,he,ue)=>{d=hn(d),D=wt(S,D),It([],[h],Oe=>{Oe=Oe[0];var $e=`${Oe.name}.${d}`,ot={get(){Jn(`Cannot access ${$e} due to unbound types`,[_,Z])},enumerable:!0,configurable:!0};return ot.set=he?()=>Jn(`Cannot access ${$e} due to unbound types`,[_,Z]):()=>{throw new ht($e+" is a read-only property")},Object.defineProperty(Oe.i.M,d,ot),It([],he?[_,Z]:[_],te=>{var ze=te[0],it={get(){var dn=Xi(this,Oe,$e+" getter");return ze.fromWireType(D(z,dn))},enumerable:!0};if(he){he=wt(ee,he);var Ge=te[1];it.set=function(dn){var Je=Xi(this,Oe,$e+" setter"),Ft=[];he(ue,Je,Ge.toWireType(Ft,dn)),ui(Ft)}}return Object.defineProperty(Oe.i.M,d,it),[]}),[]})},_embind_register_emval:h=>Mr(h,$o),_embind_register_enum:(h,d,_,S)=>{function D(){}d=hn(d),D.values={},Mr(h,{name:d,constructor:D,fromWireType:function(z){return this.constructor.values[z]},toWireType:(z,Z)=>Z.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Ei(d,D)},_embind_register_enum_value:(h,d,_)=>{var S=qi(h,"enum");d=hn(d),h=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:_i(`${S.name}_${d}`,function(){})}}),h.values[_]=S,h[d]=S},_embind_register_float:(h,d,_)=>{d=hn(d),Mr(h,{name:d,fromWireType:S=>S,toWireType:(S,D)=>D,argPackAdvance:8,readValueFromPointer:ka(d,_),L:null})},_embind_register_function:(h,d,_,S,D,z)=>{var Z=Ja(d,_);h=hn(h),h=Ns(h),D=wt(S,D),Ei(h,function(){Jn(`Cannot call ${h} due to unbound types`,Z)},d-1),It([],Z,ee=>(He(h,Nr(h,[ee[0],null].concat(ee.slice(1)),null,D,z),d-1),[]))},_embind_register_integer:(h,d,_,S,D)=>{if(d=hn(d),D===-1&&(D=4294967295),D=ee=>ee,S===0){var z=32-8*_;D=ee=>ee<<z>>>z}var Z=d.includes("unsigned")?function(ee,he){return he>>>0}:function(ee,he){return he};Mr(h,{name:d,fromWireType:D,toWireType:Z,argPackAdvance:8,readValueFromPointer:Yr(d,_,S!==0),L:null})},_embind_register_memory_view:(h,d,_)=>{function S(z){return new D(Te.buffer,Me[z+4>>2],Me[z>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=hn(_),Mr(h,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(h,d)=>{d=hn(d);var _=d==="std::string";Mr(h,{name:d,fromWireType:function(S){var D=Me[S>>2],z=S+4;if(_)for(var Z=z,ee=0;ee<=D;++ee){var he=z+ee;if(ee==D||U[he]==0){if(Z=Z?Fe(U,Z,he-Z):"",ue===void 0)var ue=Z;else ue+="\0",ue+=Z;Z=he+1}}else{for(ue=Array(D),ee=0;ee<D;++ee)ue[ee]=String.fromCharCode(U[z+ee]);ue=ue.join("")}return Ai(S),ue},toWireType:function(S,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var z=typeof D=="string";if(!(z||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new ht("Cannot pass non-string to std::string");var Z=_&&z?In(D):D.length,ee=ts(4+Z+1),he=ee+4;if(Me[ee>>2]=Z,_&&z)ln(D,U,he,Z+1);else if(z)for(z=0;z<Z;++z){var ue=D.charCodeAt(z);if(255<ue)throw Ai(he),new ht("String has UTF-16 code units that do not fit in 8 bits");U[he+z]=ue}else for(z=0;z<Z;++z)U[he+z]=D[z];return S!==null&&S.push(Ai,ee),ee},argPackAdvance:8,readValueFromPointer:Tr,L(S){Ai(S)}})},_embind_register_std_wstring:(h,d,_)=>{if(_=hn(_),d===2)var S=Zo,D=Ta,z=u,Z=ee=>Ie[ee>>1];else d===4&&(S=y,D=A,z=V,Z=ee=>Me[ee>>2]);Mr(h,{name:_,fromWireType:ee=>{for(var he=Me[ee>>2],ue,Oe=ee+4,$e=0;$e<=he;++$e){var ot=ee+4+$e*d;($e==he||Z(ot)==0)&&(Oe=S(Oe,ot-Oe),ue===void 0?ue=Oe:(ue+="\0",ue+=Oe),Oe=ot+d)}return Ai(ee),ue},toWireType:(ee,he)=>{if(typeof he!="string")throw new ht(`Cannot pass non-string to C++ string type ${_}`);var ue=z(he),Oe=ts(4+ue+d);return Me[Oe>>2]=ue/d,D(he,Oe+4,ue+d),ee!==null&&ee.push(Ai,Oe),Oe},argPackAdvance:8,readValueFromPointer:Tr,L(ee){Ai(ee)}})},_embind_register_value_object:(h,d,_,S,D,z)=>{Gi[h]={name:hn(d),Na:wt(_,S),O:wt(D,z),eb:[]}},_embind_register_value_object_field:(h,d,_,S,D,z,Z,ee,he,ue)=>{Gi[h].eb.push({Ob:hn(d),Ub:_,Sb:wt(S,D),Tb:z,kc:Z,jc:wt(ee,he),lc:ue})},_embind_register_void:(h,d)=>{d=hn(d),Mr(h,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(h,d,_)=>U.copyWithin(h,d,d+_),_emval_as:(h,d,_)=>(h=dr(h),d=qi(d,"emval::as"),se(d,_,h)),_emval_call_method:(h,d,_,S,D)=>(h=Ct[h],d=dr(d),_=Ue(_),h(d,d[_],S,D)),_emval_decref:Ds,_emval_get_method_caller:(h,d,_)=>{var S=un(h,d),D=S.shift();h--;var z=Array(h);return d=`methodCaller<(${S.map(Z=>Z.name).join(", ")}) => ${D.name}>`,rr(_i(d,(Z,ee,he,ue)=>{for(var Oe=0,$e=0;$e<h;++$e)z[$e]=S[$e].readValueFromPointer(ue+Oe),Oe+=S[$e].argPackAdvance;return Z=_===1?Bn(ee,z):ee.apply(Z,z),se(D,he,Z)}))},_emval_get_module_property:h=>(h=Ue(h),Pn(B[h])),_emval_get_property:(h,d)=>(h=dr(h),d=dr(d),Pn(h[d])),_emval_incref:h=>{9<h&&(hr[h+1]+=1)},_emval_new_array:()=>Pn([]),_emval_new_cstring:h=>Pn(Ue(h)),_emval_new_object:()=>Pn({}),_emval_run_destructors:h=>{var d=dr(h);ui(d),Ds(h)},_emval_set_property:(h,d,_)=>{h=dr(h),d=dr(d),_=dr(_),h[d]=_},_emval_take_value:(h,d)=>(h=qi(h,"_emval_take_value"),h=h.readValueFromPointer(d),Pn(h)),emscripten_asm_const_int:(h,d,_)=>{ci.length=0;for(var S;S=U[d++];){var D=S!=105;D&=S!=112,_+=D&&_%8?4:0,ci.push(S==112?Me[_>>2]:S==105?Ae[_>>2]:dt[_>>3]),_+=D?8:4}return Nt[h](...ci)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:h=>{var d=U.length;if(h>>>=0,2147483648<h)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,h+100663296);var D=Math;S=Math.max(h,S);e:{D=(D.min.call(D,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(D),gt();var z=1;break e}catch{}z=void 0}if(z)return!0}return!1},environ_get:(h,d)=>{var _=0;return Pi().forEach((S,D)=>{var z=d+_;for(D=Me[h+4*D>>2]=z,z=0;z<S.length;++z)Te[D++]=S.charCodeAt(z);Te[D]=0,_+=S.length+1}),0},environ_sizes_get:(h,d)=>{var _=Pi();Me[h>>2]=_.length;var S=0;return _.forEach(D=>S+=D.length+1),Me[d>>2]=S,0},fd_close:function(h){try{var d=Ur(h);if(d.W===null)throw new Xe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Pr[d.W]=null}return d.W=null,0}catch(_){if(typeof bn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(h,d,_,S){try{e:{var D=Ur(h);h=d;for(var z,Z=d=0;Z<_;Z++){var ee=Me[h>>2],he=Me[h+4>>2];h+=8;var ue=D,Oe=z,$e=Te;if(0>he||0>Oe)throw new Xe(28);if(ue.W===null)throw new Xe(8);if((ue.flags&2097155)===1)throw new Xe(8);if((ue.node.mode&61440)===16384)throw new Xe(31);if(!ue.m.read)throw new Xe(28);var ot=typeof Oe<"u";if(!ot)Oe=ue.position;else if(!ue.seekable)throw new Xe(70);var te=ue.m.read(ue,$e,ee,he,Oe);ot||(ue.position+=te);var ze=te;if(0>ze){var it=-1;break e}if(d+=ze,ze<he)break;typeof z<"u"&&(z+=ze)}it=d}return Me[S>>2]=it,0}catch(Ge){if(typeof bn>"u"||Ge.name!=="ErrnoError")throw Ge;return Ge.$}},fd_seek:function(h,d,_,S,D){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var z=Ur(h);return xn(z,d,S),kt=[z.position>>>0,(_t=z.position,1<=+Math.abs(_t)?0<_t?+Math.floor(_t/4294967296)>>>0:~~+Math.ceil((_t-+(~~_t>>>0))/4294967296)>>>0:0)],Ae[D>>2]=kt[0],Ae[D+4>>2]=kt[1],z.Ka&&d===0&&S===0&&(z.Ka=null),0}catch(Z){if(typeof bn>"u"||Z.name!=="ErrnoError")throw Z;return Z.$}},fd_write:function(h,d,_,S){try{e:{var D=Ur(h);h=d;for(var z,Z=d=0;Z<_;Z++){var ee=Me[h>>2],he=Me[h+4>>2];h+=8;var ue=D,Oe=ee,$e=he,ot=z,te=Te;if(0>$e||0>ot)throw new Xe(28);if(ue.W===null)throw new Xe(8);if((ue.flags&2097155)===0)throw new Xe(8);if((ue.node.mode&61440)===16384)throw new Xe(31);if(!ue.m.write)throw new Xe(28);ue.seekable&&ue.flags&1024&&xn(ue,0,2);var ze=typeof ot<"u";if(!ze)ot=ue.position;else if(!ue.seekable)throw new Xe(70);var it=ue.m.write(ue,te,Oe,$e,ot,void 0);ze||(ue.position+=it);var Ge=it;if(0>Ge){var dn=-1;break e}d+=Ge,typeof z<"u"&&(z+=Ge)}dn=d}return Me[S>>2]=dn,0}catch(Je){if(typeof bn>"u"||Je.name!=="ErrnoError")throw Je;return Je.$}},strftime_l:(h,d,_,S)=>Ch(h,d,_,S)},qn=(function(){function h(_){return qn=_.exports,ye=qn.memory,gt(),Ve=qn.__indirect_function_table,Mt.unshift(qn.__wasm_call_ctors),At--,B.monitorRunDependencies?.(At),At==0&&nn&&(_=nn,nn=null,_()),qn}var d={env:ru,wasi_snapshot_preview1:ru};if(At++,B.monitorRunDependencies?.(At),B.instantiateWasm)try{return B.instantiateWasm(d,h)}catch(_){q(`Module.instantiateWasm callback failed with error: ${_}`),Se(_)}return on||=er("canvas_advanced.wasm")?"canvas_advanced.wasm":B.locateFile?B.locateFile("canvas_advanced.wasm",L):L+"canvas_advanced.wasm",Rn(d,function(_){h(_.instance)}).catch(Se),{}})(),Ai=h=>(Ai=qn.free)(h),ts=h=>(ts=qn.malloc)(h),vc=h=>(vc=qn.__getTypeName)(h),Co=B._ma_device__on_notification_unlocked=h=>(Co=B._ma_device__on_notification_unlocked=qn.ma_device__on_notification_unlocked)(h);B._ma_malloc_emscripten=(h,d)=>(B._ma_malloc_emscripten=qn.ma_malloc_emscripten)(h,d),B._ma_free_emscripten=(h,d)=>(B._ma_free_emscripten=qn.ma_free_emscripten)(h,d);var iu=B._ma_device_process_pcm_frames_capture__webaudio=(h,d,_)=>(iu=B._ma_device_process_pcm_frames_capture__webaudio=qn.ma_device_process_pcm_frames_capture__webaudio)(h,d,_),au=B._ma_device_process_pcm_frames_playback__webaudio=(h,d,_)=>(au=B._ma_device_process_pcm_frames_playback__webaudio=qn.ma_device_process_pcm_frames_playback__webaudio)(h,d,_);B.dynCall_iiji=(h,d,_,S,D)=>(B.dynCall_iiji=qn.dynCall_iiji)(h,d,_,S,D),B.dynCall_jiji=(h,d,_,S,D)=>(B.dynCall_jiji=qn.dynCall_jiji)(h,d,_,S,D),B.dynCall_iiiji=(h,d,_,S,D,z)=>(B.dynCall_iiiji=qn.dynCall_iiiji)(h,d,_,S,D,z),B.dynCall_iij=(h,d,_,S)=>(B.dynCall_iij=qn.dynCall_iij)(h,d,_,S),B.dynCall_jii=(h,d,_)=>(B.dynCall_jii=qn.dynCall_jii)(h,d,_),B.dynCall_viijii=(h,d,_,S,D,z,Z)=>(B.dynCall_viijii=qn.dynCall_viijii)(h,d,_,S,D,z,Z),B.dynCall_iiiiij=(h,d,_,S,D,z,Z)=>(B.dynCall_iiiiij=qn.dynCall_iiiiij)(h,d,_,S,D,z,Z),B.dynCall_iiiiijj=(h,d,_,S,D,z,Z,ee,he)=>(B.dynCall_iiiiijj=qn.dynCall_iiiiijj)(h,d,_,S,D,z,Z,ee,he),B.dynCall_iiiiiijj=(h,d,_,S,D,z,Z,ee,he,ue)=>(B.dynCall_iiiiiijj=qn.dynCall_iiiiiijj)(h,d,_,S,D,z,Z,ee,he,ue);var ks;nn=function h(){ks||tl(),ks||(nn=h)};function tl(){function h(){if(!ks&&(ks=!0,B.calledRun=!0,!fe)){if(B.noFSInit||ra||(ra=!0,B.stdin=B.stdin,B.stdout=B.stdout,B.stderr=B.stderr,B.stdin?vi("stdin",B.stdin):ii("/dev/tty","/dev/stdin"),B.stdout?vi("stdout",null,B.stdout):ii("/dev/tty","/dev/stdout"),B.stderr?vi("stderr",null,B.stderr):ii("/dev/tty1","/dev/stderr"),Mi("/dev/stdin",0),Mi("/dev/stdout",1),Mi("/dev/stderr",1)),yi=!1,C(Mt),ke(B),B.onRuntimeInitialized&&B.onRuntimeInitialized(),B.postRun)for(typeof B.postRun=="function"&&(B.postRun=[B.postRun]);B.postRun.length;){var d=B.postRun.shift();_n.unshift(d)}C(_n)}}if(!(0<At)){if(B.preRun)for(typeof B.preRun=="function"&&(B.preRun=[B.preRun]);B.preRun.length;)mt();C(Et),0<At||(B.setStatus?(B.setStatus("Running..."),setTimeout(function(){setTimeout(function(){B.setStatus("")},1),h()},1)):h())}}if(B.preInit)for(typeof B.preInit=="function"&&(B.preInit=[B.preInit]);0<B.preInit.length;)B.preInit.pop()();return tl(),ie=je,ie})})();const N=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function N(O,G,ie,B){this.animation=O,this.artboard=G,this.playing=B,this.loopCount=0,this.scrubTo=null,this.instance=new ie.LinearAnimationInstance(O,G)}return Object.defineProperty(N.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),N.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},N.prototype.apply=function(O){this.instance.apply(O)},N.prototype.cleanup=function(){this.instance.delete()},N})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>N.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>N.sanitizeUrl});var w=E(6),N=E(7),O=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>O});var w=void 0,N=function(G,ie,B){var ke,Se,je=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((ke=G.changedTouches)===null||ke===void 0)&&ke.length)){ie||G.preventDefault();for(var j=0,Pe=B?G.changedTouches.length:1;j<Pe;){var tt=G.changedTouches[j];je.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),j++}}else if(G.type==="touchend"&&(!((Se=G.changedTouches)===null||Se===void 0)&&Se.length))for(var j=0,Pe=B?G.changedTouches.length:1;j<Pe;){var tt=G.changedTouches[j];je.push({clientX:tt.clientX,clientY:tt.clientY,identifier:tt.identifier}),j++}else je.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return je},O=function(G){var ie=G.canvas,B=G.artboard,ke=G.stateMachines,Se=ke===void 0?[]:ke,je=G.renderer,j=G.rive,Pe=G.fit,tt=G.alignment,nt=G.isTouchScrollEnabled,lt=nt===void 0?!1:nt,Y=G.dispatchPointerExit,F=Y===void 0?!0:Y,P=G.enableMultiTouch,H=P===void 0?!1:P,R=G.layoutScaleFactor,L=R===void 0?1:R;if(!ie||!Se.length||!je||!j||!B||typeof window>"u")return null;var I=null,$=!1,re=function(X){if($&&X instanceof MouseEvent){X.type=="mouseup"&&($=!1);return}$=lt&&X.type==="touchend"&&I==="touchstart",I=X.type;var ye=X.currentTarget.getBoundingClientRect(),fe=N(X,lt,H),Te=j.computeAlignment(Pe,tt,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},B.bounds,L),U=new j.Mat2D;switch(Te.invert(U),fe.forEach(function(on){var st=on.clientX,jt=on.clientY;if(!(!st&&!jt)){var Pt=st-ye.left,Rn=jt-ye.top,_t=new j.Vec2D(Pt,Rn),kt=j.mapXY(U,_t),Nt=kt.x(),C=kt.y();on.transformedX=Nt,on.transformedY=C,kt.delete(),_t.delete()}}),U.delete(),Te.delete(),X.type){case"mouseout":for(var oe=function(on){F?fe.forEach(function(st){on.pointerExit(st.transformedX,st.transformedY,st.identifier)}):fe.forEach(function(st){on.pointerMove(st.transformedX,st.transformedY,st.identifier)})},Ie=0,Ae=Se;Ie<Ae.length;Ie++){var Me=Ae[Ie];oe(Me)}break;case"touchmove":case"mouseover":case"mousemove":{for(var We=function(on){fe.forEach(function(st){on.pointerMove(st.transformedX,st.transformedY,st.identifier)})},dt=0,gt=Se;dt<gt.length;dt++){var Me=gt[dt];We(Me)}break}case"touchstart":case"mousedown":{for(var Et=function(on){fe.forEach(function(st){on.pointerDown(st.transformedX,st.transformedY,st.identifier)})},Mt=0,_n=Se;Mt<_n.length;Mt++){var Me=_n[Mt];Et(Me)}break}case"touchend":{for(var mt=function(on){fe.forEach(function(st){on.pointerUp(st.transformedX,st.transformedY,st.identifier),on.pointerExit(st.transformedX,st.transformedY,st.identifier)})},At=0,nn=Se;At<nn.length;At++){var Me=nn[At];mt(Me)}break}case"mouseup":{for(var Gt=function(on){fe.forEach(function(st){on.pointerUp(st.transformedX,st.transformedY,st.identifier)})},er=0,wr=Se;er<wr.length;er++){var Me=wr[er];Gt(Me)}break}}},q=re.bind(w);return ie.addEventListener("mouseover",q),ie.addEventListener("mouseout",q),ie.addEventListener("mousemove",q),ie.addEventListener("mousedown",q),ie.addEventListener("mouseup",q),ie.addEventListener("touchmove",q,{passive:lt}),ie.addEventListener("touchstart",q,{passive:lt}),ie.addEventListener("touchend",q),function(){ie.removeEventListener("mouseover",q),ie.removeEventListener("mouseout",q),ie.removeEventListener("mousemove",q),ie.removeEventListener("mousedown",q),ie.removeEventListener("mouseup",q),ie.removeEventListener("touchmove",q),ie.removeEventListener("touchstart",q),ie.removeEventListener("touchend",q)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>ke,sanitizeUrl:()=>j});var w=/^([^\w]*)(javascript|data|vbscript)/im,N=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ie=/^.+(:|&colon;)/gim,B=[".","/"],ke="about:blank";function Se(Pe){return B.indexOf(Pe[0])>-1}function je(Pe){var tt=Pe.replace(G,"");return tt.replace(N,function(nt,lt){return String.fromCharCode(lt)})}function j(Pe){if(!Pe)return ke;var tt=je(Pe).replace(O,"").replace(G,"").trim();if(!tt)return ke;if(Se(tt))return tt;var nt=tt.match(ie);if(!nt)return tt;var lt=nt[0];return w.test(lt)?ke:tt}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>Pe,AudioWrapper:()=>B,CustomFileAssetLoaderWrapper:()=>Se,FileAssetWrapper:()=>je,FileFinalizer:()=>N,FontAssetWrapper:()=>tt,FontWrapper:()=>ke,ImageAssetWrapper:()=>j,ImageWrapper:()=>ie,createFinalization:()=>F,finalizationRegistry:()=>Y});var w=(function(){var P=function(H,R){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,I){L.__proto__=I}||function(L,I){for(var $ in I)Object.prototype.hasOwnProperty.call(I,$)&&(L[$]=I[$])},P(H,R)};return function(H,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");P(H,R);function L(){this.constructor=H}H.prototype=R===null?Object.create(R):(L.prototype=R.prototype,new L)}})(),N=(function(){function P(H){this.selfUnref=!1,this._file=H}return P.prototype.unref=function(){this._file&&this._file.unref()},P})(),O=(function(){function P(H){this._finalizableObject=H}return P.prototype.unref=function(){this._finalizableObject.unref()},P})(),G=(function(){function P(){this.selfUnref=!1}return P.prototype.unref=function(){},P})(),ie=(function(P){w(H,P);function H(R){var L=P.call(this)||this;return L._nativeImage=R,L}return Object.defineProperty(H.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},H})(G),B=(function(P){w(H,P);function H(R){var L=P.call(this)||this;return L._nativeAudio=R,L}return Object.defineProperty(H.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},H})(G),ke=(function(P){w(H,P);function H(R){var L=P.call(this)||this;return L._nativeFont=R,L}return Object.defineProperty(H.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),H.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},H})(G),Se=(function(){function P(H,R){this._assetLoaderCallback=R,this.assetLoader=new H.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return P.prototype.loadContents=function(H,R){var L;return H.isImage?L=new j(H):H.isAudio?L=new Pe(H):H.isFont&&(L=new tt(H)),this._assetLoaderCallback(L,R)},P})(),je=(function(){function P(H){this._nativeFileAsset=H}return P.prototype.decode=function(H){this._nativeFileAsset.decode(H)},Object.defineProperty(P.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),P})(),j=(function(P){w(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setRenderImage=function(R){this._nativeFileAsset.setRenderImage(R.nativeImage)},H})(je),Pe=(function(P){w(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setAudioSource=function(R){this._nativeFileAsset.setAudioSource(R.nativeAudio)},H})(je),tt=(function(P){w(H,P);function H(){return P!==null&&P.apply(this,arguments)||this}return H.prototype.setFont=function(R){this._nativeFileAsset.setFont(R.nativeFont)},H})(je),nt=(function(){function P(H){}return P.prototype.register=function(H){H.selfUnref=!0},P.prototype.unregister=function(H){},P})(),lt=typeof FinalizationRegistry<"u"?FinalizationRegistry:nt,Y=new lt(function(P){P?.unref()}),F=function(P,H){var R=new O(H);Y.register(P,R)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var E=a[p]={exports:{}};return r[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>j,DataEnum:()=>dt,EventType:()=>I,Fit:()=>je,Layout:()=>Pe,LoopType:()=>$,Rive:()=>Me,RiveEventType:()=>Y,RiveFile:()=>Ae,RuntimeLoader:()=>tt,StateMachineInput:()=>lt,StateMachineInputType:()=>nt,Testing:()=>Rn,ViewModel:()=>We,ViewModelInstance:()=>Et,ViewModelInstanceArtboard:()=>st,ViewModelInstanceAssetImage:()=>on,ViewModelInstanceBoolean:()=>At,ViewModelInstanceColor:()=>wr,ViewModelInstanceEnum:()=>Gt,ViewModelInstanceList:()=>er,ViewModelInstanceNumber:()=>mt,ViewModelInstanceString:()=>_n,ViewModelInstanceTrigger:()=>nn,ViewModelInstanceValue:()=>Mt,decodeAudio:()=>_t,decodeFont:()=>Nt,decodeImage:()=>kt});var p=l(1),b=l(2),E=l(3),w=l(5),N=(function(){var C=function(g,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,J){k.__proto__=J}||function(k,J){for(var pe in J)Object.prototype.hasOwnProperty.call(J,pe)&&(k[pe]=J[pe])},C(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(g,v);function k(){this.constructor=g}g.prototype=v===null?Object.create(v):(k.prototype=v.prototype,new k)}})(),O=function(){return O=Object.assign||function(C){for(var g,v=1,k=arguments.length;v<k;v++){g=arguments[v];for(var J in g)Object.prototype.hasOwnProperty.call(g,J)&&(C[J]=g[J])}return C},O.apply(this,arguments)},G=function(C,g,v,k){function J(pe){return pe instanceof v?pe:new v(function(Ne){Ne(pe)})}return new(v||(v=Promise))(function(pe,Ne){function et(Fe){try{Ye(k.next(Fe))}catch(Ut){Ne(Ut)}}function rt(Fe){try{Ye(k.throw(Fe))}catch(Ut){Ne(Ut)}}function Ye(Fe){Fe.done?pe(Fe.value):J(Fe.value).then(et,rt)}Ye((k=k.apply(C,g||[])).next())})},ie=function(C,g){var v={label:0,sent:function(){if(pe[0]&1)throw pe[1];return pe[1]},trys:[],ops:[]},k,J,pe,Ne=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ne.next=et(0),Ne.throw=et(1),Ne.return=et(2),typeof Symbol=="function"&&(Ne[Symbol.iterator]=function(){return this}),Ne;function et(Ye){return function(Fe){return rt([Ye,Fe])}}function rt(Ye){if(k)throw new TypeError("Generator is already executing.");for(;Ne&&(Ne=0,Ye[0]&&(v=0)),v;)try{if(k=1,J&&(pe=Ye[0]&2?J.return:Ye[0]?J.throw||((pe=J.return)&&pe.call(J),0):J.next)&&!(pe=pe.call(J,Ye[1])).done)return pe;switch(J=0,pe&&(Ye=[Ye[0]&2,pe.value]),Ye[0]){case 0:case 1:pe=Ye;break;case 4:return v.label++,{value:Ye[1],done:!1};case 5:v.label++,J=Ye[1],Ye=[0];continue;case 7:Ye=v.ops.pop(),v.trys.pop();continue;default:if(pe=v.trys,!(pe=pe.length>0&&pe[pe.length-1])&&(Ye[0]===6||Ye[0]===2)){v=0;continue}if(Ye[0]===3&&(!pe||Ye[1]>pe[0]&&Ye[1]<pe[3])){v.label=Ye[1];break}if(Ye[0]===6&&v.label<pe[1]){v.label=pe[1],pe=Ye;break}if(pe&&v.label<pe[2]){v.label=pe[2],v.ops.push(Ye);break}pe[2]&&v.ops.pop(),v.trys.pop();continue}Ye=g.call(C,v)}catch(Fe){Ye=[6,Fe],J=0}finally{k=pe=0}if(Ye[0]&5)throw Ye[1];return{value:Ye[0]?Ye[1]:void 0,done:!0}}},B=function(C,g,v){if(v||arguments.length===2)for(var k=0,J=g.length,pe;k<J;k++)(pe||!(k in g))&&(pe||(pe=Array.prototype.slice.call(g,0,k)),pe[k]=g[k]);return C.concat(pe||Array.prototype.slice.call(g))},ke=(function(C){N(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Se=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},je;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(je||(je={}));var j;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(j||(j={}));var Pe=(function(){function C(g){var v,k,J,pe,Ne,et,rt;this.fit=(v=g?.fit)!==null&&v!==void 0?v:je.Contain,this.alignment=(k=g?.alignment)!==null&&k!==void 0?k:j.Center,this.layoutScaleFactor=(J=g?.layoutScaleFactor)!==null&&J!==void 0?J:1,this.minX=(pe=g?.minX)!==null&&pe!==void 0?pe:0,this.minY=(Ne=g?.minY)!==null&&Ne!==void 0?Ne:0,this.maxX=(et=g?.maxX)!==null&&et!==void 0?et:0,this.maxY=(rt=g?.maxY)!==null&&rt!==void 0?rt:0}return C.new=function(g){var v=g.fit,k=g.alignment,J=g.minX,pe=g.minY,Ne=g.maxX,et=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:v,alignment:k,minX:J,minY:pe,maxX:Ne,maxY:et})},C.prototype.copyWith=function(g){var v=g.fit,k=g.alignment,J=g.layoutScaleFactor,pe=g.minX,Ne=g.minY,et=g.maxX,rt=g.maxY;return new C({fit:v??this.fit,alignment:k??this.alignment,layoutScaleFactor:J??this.layoutScaleFactor,minX:pe??this.minX,minY:Ne??this.minY,maxX:et??this.maxX,maxY:rt??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===je.Cover?v=g.Fit.cover:this.fit===je.Contain?v=g.Fit.contain:this.fit===je.Fill?v=g.Fit.fill:this.fit===je.FitWidth?v=g.Fit.fitWidth:this.fit===je.FitHeight?v=g.Fit.fitHeight:this.fit===je.ScaleDown?v=g.Fit.scaleDown:this.fit===je.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===j.TopLeft?v=g.Alignment.topLeft:this.alignment===j.TopCenter?v=g.Alignment.topCenter:this.alignment===j.TopRight?v=g.Alignment.topRight:this.alignment===j.CenterLeft?v=g.Alignment.centerLeft:this.alignment===j.CenterRight?v=g.Alignment.centerRight:this.alignment===j.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===j.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===j.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},C})(),tt=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var v;for(C.runtime=g;C.callBackQueue.length>0;)(v=C.callBackQueue.shift())===null||v===void 0||v(C.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var k="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==k)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),C.setWasmUrl(k),C.loadRuntime();else{var J=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(k,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(J)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(v){return g(v)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),nt;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(nt||(nt={}));var lt=(function(){function C(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===nt.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),Y;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(Y||(Y={}));var F=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),P=(function(C){N(g,C);function g(v,k){var J=C.call(this,!1)||this;return J.nativeArtboard=v,J.file=k,J}return g})(F),H=(function(C){N(g,C);function g(v){var k=C.call(this,!0)||this;return k.selfUnref=!1,k.nativeArtboard=v,k}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(F),R=(function(){function C(g,v,k,J){this.stateMachine=g,this.playing=k,this.artboard=J,this.inputs=[],this.instance=new v.StateMachineInstance(g,J),this.initInputs(v)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var k=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(k,g))}},C.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new lt(nt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new lt(nt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new lt(nt.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),L=(function(){function C(g,v,k,J,pe){J===void 0&&(J=[]),pe===void 0&&(pe=[]),this.runtime=g,this.artboard=v,this.eventManager=k,this.animations=J,this.stateMachines=pe}return C.prototype.add=function(g,v,k){if(k===void 0&&(k=!0),g=Pt(g),g.length===0)this.animations.forEach(function(ln){return ln.playing=v}),this.stateMachines.forEach(function(ln){return ln.playing=v});else for(var J=this.animations.map(function(ln){return ln.name}),pe=this.stateMachines.map(function(ln){return ln.name}),Ne=0;Ne<g.length;Ne++){var et=J.indexOf(g[Ne]),rt=pe.indexOf(g[Ne]);if(et>=0||rt>=0)et>=0?this.animations[et].playing=v:this.stateMachines[rt].playing=v;else{var Ye=this.artboard.animationByName(g[Ne]);if(Ye){var Fe=new E.Animation(Ye,this.artboard,this.runtime,v);Fe.advance(0),Fe.apply(1),this.animations.push(Fe)}else{var Ut=this.artboard.stateMachineByName(g[Ne]);if(Ut){var In=new R(Ut,this.runtime,v,this.artboard);this.stateMachines.push(In)}}}}return k&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,v){for(var k=this.animations.map(function(rt){return rt.name}),J=0;J<g.length;J++){var pe=k.indexOf(g[J]);if(pe>=0)this.animations[pe].playing=v;else{var Ne=this.artboard.animationByName(g[J]);if(Ne){var et=new E.Animation(Ne,this.artboard,this.runtime,v);et.advance(0),et.apply(1),this.animations.push(et)}else console.error("Animation with name ".concat(g[J]," not found."))}}},C.prototype.initStateMachines=function(g,v){for(var k=this.stateMachines.map(function(rt){return rt.name}),J=0;J<g.length;J++){var pe=k.indexOf(g[J]);if(pe>=0)this.stateMachines[pe].playing=v;else{var Ne=this.artboard.stateMachineByName(g[J]);if(Ne){var et=new R(Ne,this.runtime,v,this.artboard);this.stateMachines.push(et)}else console.warn("State Machine with name ".concat(g[J]," not found.")),this.initLinearAnimations([g[J]],v)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,v){var k=this.animations.filter(function(J){return g.includes(J.name)});return k.forEach(function(J){return J.scrubTo=v}),k.map(function(J){return J.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var v=this;g=Pt(g);var k=[];if(g.length===0)k=this.animations.map(function(Ne){return Ne.name}).concat(this.stateMachines.map(function(Ne){return Ne.name})),this.animations.forEach(function(Ne){return Ne.cleanup()}),this.stateMachines.forEach(function(Ne){return Ne.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var J=this.animations.filter(function(Ne){return g.includes(Ne.name)});J.forEach(function(Ne){Ne.cleanup(),v.animations.splice(v.animations.indexOf(Ne),1)});var pe=this.stateMachines.filter(function(Ne){return g.includes(Ne.name)});pe.forEach(function(Ne){Ne.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ne),1)}),k=J.map(function(Ne){return Ne.name}).concat(pe.map(function(Ne){return Ne.name}))}return this.eventManager.fire({type:I.Stop,data:k}),k},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var k;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([k=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([k=this.artboard.stateMachineByIndex(0).name],g,v)),k},C.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(J){return J.playing});g<v.length;g++){var k=v[g];k.loopValue===0&&k.loopCount?(k.loopCount=0,this.stop(k.name)):k.loopValue===1&&k.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:k.name,type:$.Loop}}),k.loopCount=0):k.loopValue===2&&k.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:k.name,type:$.PingPong}}),k.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],v=0,k=this.stateMachines.filter(function(pe){return pe.playing});v<k.length;v++){var J=k[v];g.push.apply(g,J.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},C})(),I;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(I||(I={}));var $;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})($||($={}));var re=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var k=this.listeners[v];if(k.type===g.type&&k.callback===g.callback){this.listeners.splice(v,1);break}}},C.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(k){return k.type===g}).forEach(function(k){return v.remove(k)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(k){return k.callback(g)})},C})(),q=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),X;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(X||(X={}));var ye=(function(C){N(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=X.UNAVAILABLE,v}return g.prototype.delay=function(v){return G(this,void 0,void 0,function(){return ie(this,function(k){return[2,new Promise(function(J){return setTimeout(J,v)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return ie(this,function(v){return[2,new Promise(function(k,J){return setTimeout(J,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return ie(this,function(v){return this._enabled||(this._enabled=!0,this._status=X.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return ie(this,function(v){switch(v.label){case 0:if(!(this._status===X.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return ie(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==X.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,k=function(){return G(v,void 0,void 0,function(){return ie(this,function(J){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",k,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return ie(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===X.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(re),fe=new ye,Te=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),U=globalThis.ResizeObserver||Te,oe=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var k=g._elementsMap.get(v.target);k!==null?k.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new U(this._onObserved)}return C.prototype.add=function(g,v){var k={onResize:v,element:g};return this._elementsMap.set(g,k),this._resizeObserver.observe(g),k},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ie=new oe,Ae=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new re,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,v,k,J,pe;return ie(this,function(Ne){switch(Ne.label){case 0:return this.src?(g=this,[4,jt(this.src)]):[3,2];case 1:g.buffer=Ne.sent(),Ne.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(k=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=k.assetLoader),J=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return J.file=Ne.sent(),pe=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,pe),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return G(this,void 0,void 0,function(){var g,v;return ie(this,function(k){switch(k.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];k.label=1;case 1:return k.trys.push([1,4,,5]),g=this,[4,tt.awaitInstance()];case 2:return g.runtime=k.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return k.sent(),[3,5];case 4:return v=k.sent(),this.fireLoadError(v instanceof Error?v.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var v=new H(g);return(0,w.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},C.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new P(v,this)},C.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),Me=(function(){function C(g){var v=this,k;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(J){var pe=v._hasZeroSize!==J;v._hasZeroSize=J,J?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():pe&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ie.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(k=g.layout)!==null&&k!==void 0?k:new Pe,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new re,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var v=this,k=g.src,J=g.buffer,pe=g.riveFile,Ne=g.animations,et=g.stateMachines,rt=g.artboard,Ye=g.autoplay,Fe=Ye===void 0?!1:Ye,Ut=g.useOffscreenRenderer,In=Ut===void 0?!1:Ut,ln=g.autoBind,On=ln===void 0?!1:ln;if(!this.destroyed){if(this.src=k,this.buffer=J,this.riveFile=pe,!this.src&&!this.buffer&&!this.riveFile)throw new ke(C.missingErrorMessage);var Qn=Pt(Ne),Bt=Pt(et);this.loaded=!1,this.readyForPlaying=!1,tt.awaitInstance().then(function(An){v.destroyed||(v.runtime=An,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,In),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(rt,Qn,Bt,Fe,On).then(function(kn){if(kn)return v.setupRiveListeners()}).catch(function(kn){console.error(kn)}))}).catch(function(An){console.error(An)})}},C.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var k=(this.animator.stateMachines||[]).filter(function(et){return et.playing&&v.runtime.hasListeners(et.instance)}).map(function(et){return et.instance}),J=this.isTouchScrollEnabled,pe=this.dispatchPointerExit,Ne=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(J=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:k,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:J,dispatchPointerExit:pe,enableMultiTouch:Ne,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,v;fe.status==X.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},fe.add(this._audioEventListener),fe.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,v,k,J,pe){return G(this,void 0,void 0,function(){var Ne,et,rt,Ye;return ie(this,function(Fe){switch(Fe.label){case 0:return Fe.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ne=new Ae({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ne,[4,Ne.init()]);case 1:if(Fe.sent(),this.destroyed)return Ne.destroyIfUnused(),[2,!1];Fe.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,k,J,pe),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(Ye=this.src)!==null&&Ye!==void 0?Ye:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return et=Fe.sent(),rt=Se(et),console.warn(rt),this.eventManager.fire({type:I.LoadError,data:rt}),[2,Promise.reject(rt)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,v,k,J,pe){if(this.file){var Ne=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ne){var et="Invalid artboard name or no default artboard";console.warn(et),this.eventManager.fire({type:I.LoadError,data:et});return}this.artboard=Ne,Ne.volume=this._volume*fe.systemVolume,this.animator=new L(this.runtime,this.artboard,this.eventManager);var rt;if(v.length>0||k.length>0?(rt=v.concat(k),this.animator.initLinearAnimations(v,J),this.animator.initStateMachines(k,J)):rt=[this.animator.atLeastOne(J,!1)],this.taskQueue.add({event:{type:J?I.Play:I.Pause,data:rt}}),pe){var Ye=this.file.defaultArtboardViewModel(Ne);if(Ye!==null){var Fe=Ye.defaultInstance();if(Fe!==null){var Ut=new Et(Fe,null);(0,w.createFinalization)(Ut,Ut.runtimeInstance),this.bindViewModelInstance(Ut)}}}}},C.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},C.prototype.draw=function(g,v){var k;this.frameRequestId=null;var J=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var pe=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ne=this.animator.animations.filter(function(or){return or.playing||or.needsScrub}).sort(function(or){return or.needsScrub?-1:1}),et=0,rt=Ne;et<rt.length;et++){var Ye=rt[et];Ye.advance(pe),Ye.instance.didLoop&&(Ye.loopCount+=1),Ye.apply(1)}for(var Fe=this.animator.stateMachines.filter(function(or){return or.playing}),Ut=0,In=Fe;Ut<In.length;Ut++){var ln=In[Ut],On=ln.reportedEventCount();if(On)for(var Qn=0;Qn<On;Qn++){var Bt=ln.reportedEventAt(Qn);if(Bt)if(Bt.type===Y.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:Bt}),this.automaticallyHandleEvents){var An=document.createElement("a"),kn=Bt,Wn=kn.url,Vr=kn.target,Ke=(0,w.sanitizeUrl)(Wn);Wn&&An.setAttribute("href",Ke),Vr&&An.setAttribute("target",Vr),Ke&&Ke!==w.BLANK_URL&&An.click()}}else this.eventManager.fire({type:I.RiveEvent,data:Bt})}ln.advanceAndApply(pe)}this.animator.stateMachines.length==0&&this.artboard.advance(pe);var Fn=this.renderer;Fn.clear(),Fn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Fn),Fn.restore(),Fn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(pe),this.frameCount++;var Rt=performance.now();for(this.frameTimes.push(Rt),this.durations.push(Rt-J);this.frameTimes[0]<=Rt-1e3;)this.frameTimes.shift(),this.durations.shift();(k=this._viewModelInstance)===null||k===void 0||k.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,v=g.renderer,k=g.runtime,J=g._layout,pe=g.artboard;v.align(J.runtimeFit(k),J.runtimeAlignment(k),{minX:J.minX,minY:J.minY,maxX:J.maxX,maxY:J.maxY},pe.bounds,this._devicePixelRatioUsed*J.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ie.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(fe.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var k=this.artboard.textRun(g);if(!k){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return k},C.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},C.prototype.setTextRunValue=function(g,v){var k=this.retrieveTextRun(g);k&&(k.text=v)},C.prototype.play=function(g,v){var k=this;if(g=Pt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var v=this;if(g=Pt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,v){var k=this;if(g=Pt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return k.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},C.prototype.stop=function(g){var v=this;if(g=Pt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var v,k,J=g?.artboard,pe=Pt(g?.animations),Ne=Pt(g?.stateMachines),et=(v=g?.autoplay)!==null&&v!==void 0?v:!1,rt=(k=g?.autoBind)!==null&&k!==void 0?k:!1;this.cleanupInstances(),this.initArtboard(J,pe,Ne,et,rt),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),k=v.width,J=v.height,pe=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=pe,this.canvas.width=pe*k,this.canvas.height=pe*J,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===je.Layout){var Ne=this._layout.layoutScaleFactor;this.artboard.width=k/Ne,this.artboard.height=J/Ne}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(k){return k.name===g});return v?.inputs}},C.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var k=this.artboard.inputByPath(g,v);if(!k){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k},C.prototype.setBooleanStateAtPath=function(g,v,k){var J=this.retrieveInputAtPath(g,k);J&&(J.type===nt.Boolean?J.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(k,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,v,k){var J=this.retrieveInputAtPath(g,k);J&&(J.type===nt.Number?J.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(k,"' is not a number")))},C.prototype.fireStateAtPath=function(g,v){var k=this.retrieveInputAtPath(g,v);k&&(k.type===nt.Trigger?k.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var k=this.artboard.textByPath(g,v);if(!k){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k},C.prototype.getTextRunValueAtPath=function(g,v){var k=this.retrieveTextAtPath(g,v);if(!k){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return k.text},C.prototype.setTextRunValueAtPath=function(g,v,k){var J=this.retrieveTextAtPath(g,k);if(!J){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(k,"'"));return}J.text=v},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var k=this.file.artboardByIndex(v),J={name:k.name,animations:[],stateMachines:[]},pe=0;pe<k.animationCount();pe++){var Ne=k.animationByIndex(pe);J.animations.push(Ne.name)}for(var et=0;et<k.stateMachineCount();et++){for(var rt=k.stateMachineByIndex(et),Ye=rt.name,Fe=new this.runtime.StateMachineInstance(rt,k),Ut=[],In=0;In<Fe.inputCount();In++){var ln=Fe.input(In);Ut.push({name:ln.name,type:ln.type})}J.stateMachines.push({name:Ye,inputs:Ut})}g.artboards.push(J)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*fe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(k){return k.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new We(v):null},C.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new We(v):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new dt(v)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new We(g)}return null},C.prototype.getArtboard=function(g){var v,k;return(k=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&k!==void 0?k:null},C.prototype.getBindableArtboard=function(g){var v,k;return(k=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&k!==void 0?k:null},C.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),We=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var k=new Et(v,null);return(0,w.createFinalization)(k,v),k}return null},C.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var k=new Et(v,null);return(0,w.createFinalization)(k,v),k}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new Et(g,null);return(0,w.createFinalization)(v,g),v}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new Et(g,null);return(0,w.createFinalization)(v,g),v}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),dt=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),gt;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(gt||(gt={}));var Et=(function(){function C(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var k=this._parents[v];k.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},C.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(k){k.addToViewModelCallbacks(v)}))},C.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(k){return k!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(k){k.removeFromViewModelCallbacks(v)}))},C.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(k){k.addToViewModelCallbacks(v)}))},C.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(k){return k!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(k){k.removeFromViewModelCallbacks(v)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,v){var k=g.split("/");return this.propertyFromPathSegments(k,0,v)},C.prototype.viewModelFromPathSegments=function(g,v){var k=this.internalViewModelInstance(g[v]);return k!==null?v==g.length-1?k:k.viewModelFromPathSegments(g,v++):null},C.prototype.propertyFromPathSegments=function(g,v,k){var J,pe,Ne,et,rt,Ye,Fe,Ut,In,ln,On,Qn,Bt,An,kn,Wn,Vr,Ke;if(v<g.length-1){var Fn=this.internalViewModelInstance(g[v]);return Fn!==null?Fn.propertyFromPathSegments(g,v+1,k):null}var Rt=null;switch(k){case gt.Number:if(Rt=(pe=(J=this._runtimeInstance)===null||J===void 0?void 0:J.number(g[v]))!==null&&pe!==void 0?pe:null,Rt!==null)return new mt(Rt,this);break;case gt.String:if(Rt=(et=(Ne=this._runtimeInstance)===null||Ne===void 0?void 0:Ne.string(g[v]))!==null&&et!==void 0?et:null,Rt!==null)return new _n(Rt,this);break;case gt.Boolean:if(Rt=(Ye=(rt=this._runtimeInstance)===null||rt===void 0?void 0:rt.boolean(g[v]))!==null&&Ye!==void 0?Ye:null,Rt!==null)return new At(Rt,this);break;case gt.Color:if(Rt=(Ut=(Fe=this._runtimeInstance)===null||Fe===void 0?void 0:Fe.color(g[v]))!==null&&Ut!==void 0?Ut:null,Rt!==null)return new wr(Rt,this);break;case gt.Trigger:if(Rt=(ln=(In=this._runtimeInstance)===null||In===void 0?void 0:In.trigger(g[v]))!==null&&ln!==void 0?ln:null,Rt!==null)return new nn(Rt,this);break;case gt.Enum:if(Rt=(Qn=(On=this._runtimeInstance)===null||On===void 0?void 0:On.enum(g[v]))!==null&&Qn!==void 0?Qn:null,Rt!==null)return new Gt(Rt,this);break;case gt.List:if(Rt=(An=(Bt=this._runtimeInstance)===null||Bt===void 0?void 0:Bt.list(g[v]))!==null&&An!==void 0?An:null,Rt!==null)return new er(Rt,this);break;case gt.Image:if(Rt=(Wn=(kn=this._runtimeInstance)===null||kn===void 0?void 0:kn.image(g[v]))!==null&&Wn!==void 0?Wn:null,Rt!==null)return new on(Rt,this);break;case gt.Artboard:if(Rt=(Ke=(Vr=this._runtimeInstance)===null||Vr===void 0?void 0:Vr.artboard(g[v]))!==null&&Ke!==void 0?Ke:null,Rt!==null)return new st(Rt,this);break}return null},C.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var k=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(k!==null){var J=new C(k,this);return(0,w.createFinalization)(J,k),J.internalIncrementReferenceCount(),this._viewModelInstances.set(g,J),J}return null},C.prototype.number=function(g){var v=this.propertyFromPath(g,gt.Number);return v},C.prototype.string=function(g){var v=this.propertyFromPath(g,gt.String);return v},C.prototype.boolean=function(g){var v=this.propertyFromPath(g,gt.Boolean);return v},C.prototype.color=function(g){var v=this.propertyFromPath(g,gt.Color);return v},C.prototype.trigger=function(g){var v=this.propertyFromPath(g,gt.Trigger);return v},C.prototype.enum=function(g){var v=this.propertyFromPath(g,gt.Enum);return v},C.prototype.list=function(g){var v=this.propertyFromPath(g,gt.List);return v},C.prototype.image=function(g){var v=this.propertyFromPath(g,gt.Image);return v},C.prototype.artboard=function(g){var v=this.propertyFromPath(g,gt.Artboard);return v},C.prototype.viewModel=function(g){var v=g.split("/"),k=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return k!=null?k.internalViewModelInstance(v[v.length-1]):null},C.prototype.internalReplaceViewModel=function(g,v){var k;if(v.runtimeInstance!==null){var J=((k=this._runtimeInstance)===null||k===void 0?void 0:k.replaceViewModel(g,v.runtimeInstance))||!1;if(J){v.internalIncrementReferenceCount();var pe=this.internalViewModelInstance(g);pe!==null&&(pe.removeParent(this),this._children.includes(pe)&&(this._children=this._children.filter(function(Ne){return Ne!==pe})),pe.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return J}return!1},C.prototype.replaceViewModel=function(g,v){var k,J=g.split("/"),pe=J.length>1?this.viewModelFromPathSegments(J.slice(0,J.length-1),0):this;return(k=pe?.internalReplaceViewModel(J[J.length-1],v))!==null&&k!==void 0?k:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return O({},v)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(pe){pe.cleanup()}),this._viewModelInstances.clear();var k=B([],this._children,!0);this._children.length=0;var J=B([],this._parents,!0);this._parents.length=0,k.forEach(function(pe){pe.removeParent(g)}),J.forEach(function(pe){pe.removeFromViewModelCallbacks(g)})}},C})(),Mt=(function(){function C(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),_n=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),mt=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),At=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),nn=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Mt),Gt=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),er=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,k){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,k)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var k=this._viewModelInstanceValue.instanceAt(v);if(k!=null){var J=new Et(k,this._parentViewModel);return(0,w.createFinalization)(J,k),J}return null},g.prototype.swap=function(v,k){this._viewModelInstanceValue.swap(v,k)},g.prototype.internalHandleCallback=function(v){v()},g})(Mt),wr=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,k,J){this._viewModelInstanceValue.rgb(v,k,J)},g.prototype.rgba=function(v,k,J,pe){this._viewModelInstanceValue.argb(pe,v,k,J)},g.prototype.argb=function(v,k,J,pe){this._viewModelInstanceValue.argb(v,k,J,pe)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Mt),on=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var k;this._viewModelInstanceValue.value((k=v?.nativeImage)!==null&&k!==void 0?k:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Mt),st=(function(C){N(g,C);function g(v,k){return C.call(this,v,k)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var k,J;v.isBindableArtboard?J=v:J=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((k=J?.nativeArtboard)!==null&&k!==void 0?k:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Mt),jt=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return ie(this,function(J){switch(J.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return v=J.sent(),[4,v.arrayBuffer()];case 2:return k=J.sent(),[2,k]}})})},Pt=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},Rn={EventManager:re,TaskQueueManager:q},_t=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return ie(this,function(J){switch(J.label){case 0:return g=new Promise(function(pe){return tt.getInstance(function(Ne){Ne.decodeAudio(C,pe)})}),[4,g];case 1:return v=J.sent(),k=new w.AudioWrapper(v),w.finalizationRegistry.register(k,v),[2,k]}})})},kt=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return ie(this,function(J){switch(J.label){case 0:return g=new Promise(function(pe){return tt.getInstance(function(Ne){Ne.decodeImage(C,pe)})}),[4,g];case 1:return v=J.sent(),k=new w.ImageWrapper(v),w.finalizationRegistry.register(k,v),[2,k]}})})},Nt=function(C){return G(void 0,void 0,void 0,function(){var g,v,k;return ie(this,function(J){switch(J.label){case 0:return g=new Promise(function(pe){return tt.getInstance(function(Ne){Ne.decodeFont(C,pe)})}),[4,g];case 1:return v=J.sent(),k=new w.FontWrapper(v),w.finalizationRegistry.register(k,v),[2,k]}})})}})(),c})())})(Rf)),Rf.exports}var _0;function tA(){return _0||(_0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=ah(),r=eA();function a(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var l=a(e),c=function(){return c=Object.assign||function(R){for(var L,I=1,$=arguments.length;I<$;I++)for(var re in L=arguments[I])Object.prototype.hasOwnProperty.call(L,re)&&(R[re]=L[re]);return R},c.apply(this,arguments)};function p(R,L){var I={};for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&L.indexOf($)<0&&(I[$]=R[$]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var re=0;for($=Object.getOwnPropertySymbols(R);re<$.length;re++)L.indexOf($[re])<0&&Object.prototype.propertyIsEnumerable.call(R,$[re])&&(I[$[re]]=R[$[re]])}return I}function b(R,L,I,$){return new(I||(I=Promise))(function(re,q){function X(Te){try{fe($.next(Te))}catch(U){q(U)}}function ye(Te){try{fe($.throw(Te))}catch(U){q(U)}}function fe(Te){var U;Te.done?re(Te.value):(U=Te.value,U instanceof I?U:new I(function(oe){oe(U)})).then(X,ye)}fe(($=$.apply(R,[])).next())})}function E(R,L){var I,$,re,q,X={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return q={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ye(fe){return function(Te){return(function(U){if(I)throw new TypeError("Generator is already executing.");for(;X;)try{if(I=1,$&&(re=2&U[0]?$.return:U[0]?$.throw||((re=$.return)&&re.call($),0):$.next)&&!(re=re.call($,U[1])).done)return re;switch($=0,re&&(U=[2&U[0],re.value]),U[0]){case 0:case 1:re=U;break;case 4:return X.label++,{value:U[1],done:!1};case 5:X.label++,$=U[1],U=[0];continue;case 7:U=X.ops.pop(),X.trys.pop();continue;default:if(re=X.trys,!((re=re.length>0&&re[re.length-1])||U[0]!==6&&U[0]!==2)){X=0;continue}if(U[0]===3&&(!re||U[1]>re[0]&&U[1]<re[3])){X.label=U[1];break}if(U[0]===6&&X.label<re[1]){X.label=re[1],re=U;break}if(re&&X.label<re[2]){X.label=re[2],X.ops.push(U);break}re[2]&&X.ops.pop(),X.trys.pop();continue}U=L.call(R,X)}catch(oe){U=[6,oe],$=0}finally{I=re=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}})([fe,Te])}}}function w(R){var L=R||N(),I=e.useState(L),$=I[0],re=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var q=function(){var ye=R||N();re(ye)},X=window.matchMedia("screen and (resolution: ".concat($,"dppx)"));return X.hasOwnProperty("addEventListener")?X.addEventListener("change",q):X.addListener(q),function(){X.hasOwnProperty("removeEventListener")?X.removeEventListener("change",q):X.removeListener(q)}}},[$,R]),$}function N(){var R=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,R),3)}var O=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),G=globalThis.ResizeObserver||O,ie=globalThis.ResizeObserver!==void 0,B=!ie;function ke(R,L){L===void 0&&(L=!0);var I=e.useState({width:0,height:0}),$=I[0],re=I[1];e.useEffect(function(){if(typeof window<"u"&&L){var Te=function(){re({width:window.innerWidth,height:window.innerHeight})};return B&&(Te(),window.addEventListener("resize",Te)),function(){return window.removeEventListener("resize",Te)}}},[]);var q,X,ye,fe=e.useRef(new G((q=function(Te){ie&&re({width:Te[Te.length-1].contentRect.width,height:Te[Te.length-1].contentRect.height})},X=0,ye=0,function(){for(var Te=this,U=[],oe=0;oe<arguments.length;oe++)U[oe]=arguments[oe];clearTimeout(ye),ye=window.setTimeout(function(){return q.apply(Te,U)},X)})));return e.useEffect(function(){var Te=fe.current;if(L){var U=R.current;return R.current&&ie&&Te.observe(R.current),function(){Te.disconnect(),U&&ie&&Te.unobserve(U)}}Te.disconnect()},[R,fe]),$}var Se={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function je(R){return Object.assign({},Se,R)}function j(R){var L=R.riveLoaded,I=L!==void 0&&L,$=R.canvasElem,re=R.containerRef,q=R.options,X=q===void 0?{}:q,ye=R.onCanvasHasResized,fe=R.artboardBounds,Te=je(X),U=e.useState({height:0,width:0}),oe=U[0],Ie=oe.height,Ae=oe.width,Me=U[1],We=e.useState({height:0,width:0}),dt=We[0],gt=dt.height,Et=dt.width,Mt=We[1],_n=e.useState(!0),mt=_n[0],At=_n[1],nn=Te.fitCanvasToArtboardHeight,Gt=Te.shouldResizeCanvasToContainer,er=Te.useDevicePixelRatio,wr=Te.customDevicePixelRatio,on=ke(re,Gt),st=w(wr),jt=fe??{},Pt=jt.maxX,Rn=jt.maxY,_t=e.useCallback(function(){var kt,Nt,C,g,v=(Nt=(kt=re.current)===null||kt===void 0?void 0:kt.clientWidth)!==null&&Nt!==void 0?Nt:0,k=(g=(C=re.current)===null||C===void 0?void 0:C.clientHeight)!==null&&g!==void 0?g:0;return nn&&fe?{width:v,height:v*(fe.maxY/fe.maxX)}:{width:v,height:k}},[re,nn,Pt,Rn]);e.useEffect(function(){if(Gt&&re.current&&I){var kt=_t(),Nt=kt.width,C=kt.height,g=!1;if($){var v=Nt!==Ae||C!==Ie;if(Te.fitCanvasToArtboardHeight&&v&&(re.current.style.height=C+"px",g=!0),Te.useDevicePixelRatio){if(v||Nt*st!==Et||C*st!==gt){var k=st*Nt,J=st*C;$.width=k,$.height=J,$.style.width=Nt+"px",$.style.height=C+"px",Mt({width:k,height:J}),g=!0}}else v&&($.width=Nt,$.height=C,Mt({width:Nt,height:C}),g=!0);Me({width:Nt,height:C})}ye&&(mt||g)&&ye&&ye(),mt&&At(!1)}},[$,re,on,st,_t,mt,At,gt,Et,Ie,Ae,ye,Gt,nn,er,I]),e.useEffect(function(){Mt({width:0,height:0})},[$])}var Pe,tt=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),nt=globalThis.IntersectionObserver||tt,lt=(function(){function R(){var L=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function($){var re=L.elementsMap.get($.target);re&&re($)})},this.observer=new nt(this.onObserved)}return R.prototype.registerCallback=function(L,I){this.observer.observe(L),this.elementsMap.set(L,I)},R.prototype.removeCallback=function(L){this.observer.unobserve(L),this.elementsMap.delete(L)},R})(),Y=function(){return Pe||(Pe=new lt),Pe};function F(R){var L=R.setContainerRef,I=R.setCanvasRef,$=R.className,re=$===void 0?"":$,q=R.style,X=R.children,ye=p(R,["setContainerRef","setCanvasRef","className","style","children"]),fe=c({width:"100%",height:"100%"},q);return l.default.createElement("div",c({ref:L,className:re},!re&&{style:fe}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ye),X))}function P(R,L){L===void 0&&(L={});var I=e.useState(null),$=I[0],re=I[1],q=e.useRef(null),X=e.useRef(null),ye=e.useState(null),fe=ye[0],Te=ye[1],U=!!R,oe=je(L),Ie=w(),Ae=e.useCallback(function(){if(fe){if(fe.layout&&fe.layout.fit===r.Fit.Layout&&$){var mt=Ie*fe.layout.layoutScaleFactor;fe.devicePixelRatioUsed=Ie,fe.artboardWidth=$?.width/mt,fe.artboardHeight=$?.height/mt}fe.startRendering(),fe.resizeToCanvas()}},[fe,Ie]);j({riveLoaded:!!fe,canvasElem:$,containerRef:q,options:oe,onCanvasHasResized:Ae,artboardBounds:fe?.bounds});var Me=e.useCallback(function(mt){mt===null&&$&&($.height=0,$.width=0),re(mt)},[]);e.useEffect(function(){if($&&R){var mt,At=fe!=null;if(fe==null){var nn=oe.useOffscreenRenderer,Gt=R.onRiveReady,er=p(R,["onRiveReady"]);mt=new r.Rive(c(c({useOffscreenRenderer:nn},er),{canvas:$})),X.current!=null&&X.current.cleanup(),X.current=mt,mt.on(r.EventType.Load,function(){At=!0,Gt&&Gt(mt),$?Te(mt):mt.cleanup()})}return function(){At||mt==null||mt.cleanup()}}},[$,U,fe]);var We=e.useCallback(function(mt){q.current=mt},[]),dt={observe:e.useCallback(function(mt,At){Y().registerCallback(mt,At)},[]),unobserve:e.useCallback(function(mt){Y().removeCallback(mt)},[])},gt=dt.observe,Et=dt.unobserve;e.useEffect(function(){var mt,At=!1,nn=function(){if($&&At){var Gt=$.getBoundingClientRect();Gt.width>0&&Gt.height>0&&Gt.top<(window.innerHeight||document.documentElement.clientHeight)&&Gt.bottom>0&&Gt.left<(window.innerWidth||document.documentElement.clientWidth)&&Gt.right>0&&(fe?.startRendering(),At=!1)}};return $&&oe.shouldUseIntersectionObserver!==!1&&gt($,function(Gt){Gt.isIntersecting?fe&&fe.startRendering():fe&&fe.stopRendering(),At=!Gt.isIntersecting,clearTimeout(mt),Gt.isIntersecting||Gt.boundingClientRect.width!==0||(mt=setTimeout(nn,10))}),function(){$&&Et($)}},[gt,Et,fe,$,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){fe&&(fe.cleanup(),Te(null))}},[fe,$]),e.useEffect(function(){return function(){X.current!=null&&X.current.cleanup()}},[]);var Mt=R?.animations;e.useEffect(function(){fe&&Mt&&(fe.isPlaying?(fe.stop(fe.animationNames),fe.play(Mt)):fe.isPaused&&(fe.stop(fe.animationNames),fe.pause(Mt)))},[Mt,fe]);var _n=e.useCallback(function(mt){return l.default.createElement(F,c({setContainerRef:We,setCanvasRef:Me},mt))},[Me,We]);return{canvas:$,container:q.current,setCanvasRef:Me,setContainerRef:We,rive:fe,RiveComponent:_n}}function H(R,L,I){var $=e.useState(null),re=$[0],q=$[1],X=e.useState(I.defaultValue),ye=X[0],fe=X[1],Te=e.useState(null),U=Te[0],oe=Te[1],Ie=e.useRef(null),Ae=e.useRef(R),Me=e.useRef(I);e.useEffect(function(){Me.current=I},[I]);var We=e.useCallback(function(){var Mt=Ie.current,_n=Ae.current,mt=Me.current;if(!Mt||!_n)return q(null),fe(mt.defaultValue),oe(null),function(){};var At=mt.getProperty(Mt,_n);if(At){q(At),fe(mt.getValue(At)),mt.getExtendedData&&oe(mt.getExtendedData(At));var nn=function(){fe(mt.getValue(At)),mt.getExtendedData&&oe(mt.getExtendedData(At)),mt.onPropertyEvent&&mt.onPropertyEvent()};return At.on(nn),function(){At.off(nn)}}return function(){}},[]);e.useEffect(function(){return Ie.current=L,Ae.current=R,We()},[L,R,We]);var dt=e.useCallback(function(Mt){if(re&&Ie.current===L)try{return Mt(re),void(Me.current.getExtendedData&&oe(Me.current.getExtendedData(re)))}catch{}if(Ie.current)try{var _n=Me.current.getProperty(Ie.current,Ae.current);_n&&(q(_n),Mt(_n),Me.current.getExtendedData&&oe(Me.current.getExtendedData(_n)))}catch{}},[re,L]),gt=e.useMemo(function(){return Me.current.buildPropertyOperations(dt)},[dt]),Et=c({value:ye},gt);return I.getExtendedData&&(Et.extendedData=U),Et}i.default=function(R){var L=R.src,I=R.artboard,$=R.animations,re=R.stateMachines,q=R.layout,X=R.useOffscreenRenderer,ye=X===void 0||X,fe=R.shouldDisableRiveListeners,Te=fe!==void 0&&fe,U=R.shouldResizeCanvasToContainer,oe=U===void 0||U,Ie=R.automaticallyHandleEvents,Ae=Ie!==void 0&&Ie,Me=R.children,We=p(R,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),dt=P({src:L,artboard:I,animations:$,layout:q,stateMachines:re,autoplay:!0,shouldDisableRiveListeners:Te,automaticallyHandleEvents:Ae},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(dt,c({},We),Me)},i.useResizeCanvas=j,i.useRive=P,i.useRiveFile=function(R){var L=this,I=e.useState(null),$=I[0],re=I[1],q=e.useState("idle"),X=q[0],ye=q[1];return e.useEffect(function(){var fe=null;return b(L,void 0,void 0,function(){return E(this,function(Te){try{ye("loading"),(fe=new r.RiveFile(R)).init(),fe.on(r.EventType.Load,function(){fe?.getInstance(),re(fe),ye("success")}),fe.on(r.EventType.LoadError,function(){ye("failed")}),re(fe)}catch(U){console.error(U),ye("failed")}return[2]})}),function(){fe?.cleanup()}},[R.src,R.buffer]),{riveFile:$,status:X}},i.useStateMachineInput=function(R,L,I,$){var re=e.useState(null),q=re[0],X=re[1];return e.useEffect(function(){function ye(){if(R&&L&&I||X(null),R&&L&&I){var fe=R.stateMachineInputs(L);if(fe){var Te=fe.find(function(U){return U.name===I});$!==void 0&&Te&&(Te.value=$),X(Te||null)}}else X(null)}ye(),R&&R.on(r.EventType.Load,function(){ye()})},[R]),q},i.useViewModel=function(R,L){var I=L??{},$=I.name,re=I.useDefault,q=re!==void 0&&re,X=e.useState(null),ye=X[0],fe=X[1];return e.useEffect(function(){function Te(){var U;if(R){var oe=null;oe=$!=null?((U=R.viewModelByName)===null||U===void 0?void 0:U.call(R,$))||null:R.defaultViewModel()||null,fe(oe)}else fe(null)}return Te(),R&&R.on(r.EventType.Load,Te),function(){R&&R.off(r.EventType.Load,Te)}},[R,$,q]),ye},i.useViewModelInstance=function(R,L){var I=L??{},$=I.name,re=I.useDefault,q=re!==void 0&&re,X=I.useNew,ye=X!==void 0&&X,fe=I.rive,Te=e.useState(null),U=Te[0],oe=Te[1];return e.useEffect(function(){var Ie,Ae,Me;if(R){var We=null;We=$!=null?R.instanceByName($)||null:q?((Ie=R.defaultInstance)===null||Ie===void 0?void 0:Ie.call(R))||null:ye?((Ae=R.instance)===null||Ae===void 0?void 0:Ae.call(R))||null:((Me=R.defaultInstance)===null||Me===void 0?void 0:Me.call(R))||null,oe(We),fe&&We&&fe.viewModelInstance!==We&&fe.bindViewModelInstance(We)}else oe(null)},[R,$,q,ye,fe]),U},i.useViewModelInstanceArtboard=function(R,L){return{setValue:H(R,L,{getProperty:e.useCallback(function(I,$){return I.artboard($)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function($){I(function(re){re.value=$})}}},[])}).setValue}},i.useViewModelInstanceBoolean=function(R,L){var I=H(R,L,{getProperty:e.useCallback(function($,re){return $.boolean(re)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(re){$(function(q){q.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},i.useViewModelInstanceColor=function(R,L){var I=H(R,L,{getProperty:e.useCallback(function($,re){return $.color(re)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(re){$(function(q){q.value=re})},setRgb:function(re,q,X){$(function(ye){ye.rgb(re,q,X)})},setRgba:function(re,q,X,ye){$(function(fe){fe.rgba(re,q,X,ye)})},setAlpha:function(re){$(function(q){q.alpha(re)})},setOpacity:function(re){$(function(q){q.opacity(re)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},i.useViewModelInstanceEnum=function(R,L){var I=H(R,L,{getProperty:e.useCallback(function($,re){return $.enum(re)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,getExtendedData:e.useCallback(function($){return $.values},[]),buildPropertyOperations:e.useCallback(function($){return{setValue:function(re){$(function(q){q.value=re})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},i.useViewModelInstanceImage=function(R,L){return{setValue:H(R,L,{getProperty:e.useCallback(function(I,$){return I.image($)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function($){I(function(re){re.value=$})}}},[])}).setValue}},i.useViewModelInstanceList=function(R,L){var I,$=e.useState(0)[1],re=H(R,L,{getProperty:e.useCallback(function(q,X){return q.list(X)},[]),getValue:e.useCallback(function(q){return q.length},[]),defaultValue:null,onPropertyEvent:function(){$(function(q){return q+1})},buildPropertyOperations:e.useCallback(function(q){return{addInstance:function(X){q(function(ye){return ye.addInstance(X)})},addInstanceAt:function(X,ye){var fe=!1;return q(function(Te){fe=Te.addInstanceAt(X,ye)}),fe},removeInstance:function(X){q(function(ye){return ye.removeInstance(X)})},removeInstanceAt:function(X){q(function(ye){return ye.removeInstanceAt(X)})},getInstanceAt:function(X){var ye=null;return q(function(fe){ye=fe.instanceAt(X)}),ye},swap:function(X,ye){q(function(fe){return fe.swap(X,ye)})}}},[])});return{length:(I=re.value)!==null&&I!==void 0?I:0,addInstance:re.addInstance,addInstanceAt:re.addInstanceAt,removeInstance:re.removeInstance,removeInstanceAt:re.removeInstanceAt,getInstanceAt:re.getInstanceAt,swap:re.swap}},i.useViewModelInstanceNumber=function(R,L){var I=H(R,L,{getProperty:e.useCallback(function($,re){return $.number(re)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(re){$(function(q){q.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},i.useViewModelInstanceString=function(R,L){var I=H(R,L,{getProperty:e.useCallback(function($,re){return $.string(re)},[]),getValue:e.useCallback(function($){return $.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function($){return{setValue:function(re){$(function(q){q.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},i.useViewModelInstanceTrigger=function(R,L,I){var $=(I??{}).onTrigger;return{trigger:H(R,L,{getProperty:e.useCallback(function(re,q){return re.trigger(q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:$,buildPropertyOperations:e.useCallback(function(re){return{trigger:function(){re(function(q){q.trigger()})}}},[])}).trigger}},Object.keys(r).forEach(function(R){R==="default"||i.hasOwnProperty(R)||Object.defineProperty(i,R,{enumerable:!0,get:function(){return r[R]}})})})(_m)),_m}var uo=tA();const nA=()=>{};var b0={};const eb=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},rA=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],b=i[r++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(E>>10)),e[a++]=String.fromCharCode(56320+(E&1023))}else{const c=i[r++],p=i[r++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,b=p?i[l+1]:0,E=l+2<i.length,w=E?i[l+2]:0,N=c>>2,O=(c&3)<<4|b>>4;let G=(b&15)<<2|w>>6,ie=w&63;E||(ie=64,p||(G=64)),a.push(r[N],r[O],r[G],r[ie])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(eb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],b=l<i.length?r[i.charAt(l)]:0;++l;const w=l<i.length?r[i.charAt(l)]:64;++l;const O=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||b==null||w==null||O==null)throw new iA;const G=c<<2|b>>4;if(a.push(G),w!==64){const ie=b<<4&240|w>>2;if(a.push(ie),O!==64){const B=w<<6&192|O;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(i){const e=eb(i);return tb.encodeByteArray(e,!0)},Uf=function(i){return aA(i).replace(/\./g,"")},nb=function(i){try{return tb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oA=()=>sA().__FIREBASE_DEFAULTS__,lA=()=>{if(typeof process>"u"||typeof b0>"u")return;const i=b0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&nb(i[1]);return e&&JSON.parse(e)},sh=()=>{try{return nA()||oA()||lA()||uA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rb=i=>sh()?.emulatorHosts?.[i],cA=i=>{const e=rb(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},ib=()=>sh()?.config,ab=i=>sh()?.[`_${i}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}function Wl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(i){return(await fetch(i,{credentials:"include"})).ok}function hA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Uf(JSON.stringify(r)),Uf(JSON.stringify(p)),""].join(".")}const Hu={};function dA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?i.emulator.push(e):i.prod.push(e);return i}function mA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let E0=!1;function ob(i,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||Hu[i]===e||Hu[i]||E0)return;Hu[i]=e;function r(G){return`__firebase__banner__${G}`}const a="__firebase__banner",c=dA().prod.length>0;function p(){const G=document.getElementById(a);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function E(G,ie){G.setAttribute("width","24"),G.setAttribute("id",ie),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function w(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{E0=!0,p()},G}function N(G,ie){G.setAttribute("id",ie),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function O(){const G=mA(a),ie=r("text"),B=document.getElementById(ie)||document.createElement("span"),ke=r("learnmore"),Se=document.getElementById(ke)||document.createElement("a"),je=r("preprendIcon"),j=document.getElementById(je)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const Pe=G.element;b(Pe),N(Se,ke);const tt=w();E(j,je),Pe.append(j,B,Se,tt),document.body.appendChild(Pe)}c?(B.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",ie)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function gA(){const i=sh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const i=gi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function EA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const AA="FirebaseError";class xs extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=AA,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?SA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new xs(l,b,a)}}function SA(i,e){return i.replace(CA,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const CA=/\{\$([^}]+)}/g;function RA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fo(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const c=i[l],p=e[l];if(w0(c)&&w0(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function w0(i){return i!==null&&typeof i=="object"}function sc(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function IA(i,e){const r=new xA(i,e);return r.subscribe.bind(r)}class xA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");MA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function bm(){}function ta(i){return i&&i._delegate?i._delegate:i}class Ho{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class NA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new fA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OA(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:DA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DA(i){return i===Bo?void 0:i}function OA(i){return i.instantiationMode==="EAGER"}class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new NA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Zt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Zt||(Zt={}));const VA={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},PA=Zt.INFO,LA={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},UA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=LA[e];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=PA,this._logHandler=UA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}const zA=(i,e)=>e.some(r=>i instanceof r);let T0,A0;function BA(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Um=new WeakMap,ub=new WeakMap,Em=new WeakMap,dp=new WeakMap;function FA(i){const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(fo(i.result)),l()},p=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&lb.set(r,i)}).catch(()=>{}),dp.set(e,i),e}function HA(i){if(Um.has(i))return;const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Um.set(i,e)}let zm={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ub.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fo(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function qA(i){zm=i(zm)}function GA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(wm(this),e,...r);return ub.set(a,e.sort?e.sort():[e]),fo(a)}:jA().includes(i)?function(...e){return i.apply(wm(this),e),fo(lb.get(this))}:function(...e){return fo(i.apply(wm(this),e))}}function YA(i){return typeof i=="function"?GA(i):(i instanceof IDBTransaction&&HA(i),zA(i,BA())?new Proxy(i,zm):i)}function fo(i){if(i instanceof IDBRequest)return FA(i);if(Em.has(i))return Em.get(i);const e=YA(i);return e!==i&&(Em.set(i,e),dp.set(e,i)),e}const wm=i=>dp.get(i);function XA(i,e,{blocked:r,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),b=fo(p);return a&&p.addEventListener("upgradeneeded",E=>{a(fo(p.result),E.oldVersion,E.newVersion,fo(p.transaction),E)}),r&&p.addEventListener("blocked",E=>r(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const QA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Tm=new Map;function S0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=WA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||QA.includes(r)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return a&&(w=w.index(b.shift())),(await Promise.all([w[r](...b),l&&E.done]))[0]};return Tm.set(e,c),c}qA(i=>({...i,get:(e,r,a)=>S0(e,r)||i.get(e,r,a),has:(e,r)=>!!S0(e,r)||i.has(e,r)}));class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($A(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function $A(i){return i.getComponent()?.type==="VERSION"}const Bm="@firebase/app",C0="0.14.6";const Ts=new hp("@firebase/app"),JA="@firebase/app-compat",ZA="@firebase/analytics-compat",eS="@firebase/analytics",tS="@firebase/app-check-compat",nS="@firebase/app-check",rS="@firebase/auth",iS="@firebase/auth-compat",aS="@firebase/database",sS="@firebase/data-connect",oS="@firebase/database-compat",lS="@firebase/functions",uS="@firebase/functions-compat",cS="@firebase/installations",fS="@firebase/installations-compat",hS="@firebase/messaging",dS="@firebase/messaging-compat",mS="@firebase/performance",pS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",vS="@firebase/storage",_S="@firebase/storage-compat",bS="@firebase/firestore",ES="@firebase/ai",wS="@firebase/firestore-compat",TS="firebase",AS="12.6.0";const jm="[DEFAULT]",SS={[Bm]:"fire-core",[JA]:"fire-core-compat",[eS]:"fire-analytics",[ZA]:"fire-analytics-compat",[nS]:"fire-app-check",[tS]:"fire-app-check-compat",[rS]:"fire-auth",[iS]:"fire-auth-compat",[aS]:"fire-rtdb",[sS]:"fire-data-connect",[oS]:"fire-rtdb-compat",[lS]:"fire-fn",[uS]:"fire-fn-compat",[cS]:"fire-iid",[fS]:"fire-iid-compat",[hS]:"fire-fcm",[dS]:"fire-fcm-compat",[mS]:"fire-perf",[pS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[vS]:"fire-gcs",[_S]:"fire-gcs-compat",[bS]:"fire-fst",[wS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[TS]:"fire-js-all"};const zf=new Map,CS=new Map,Fm=new Map;function R0(i,e){try{i.container.addComponent(e)}catch(r){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Fl(i){const e=i.name;if(Fm.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,i);for(const r of zf.values())R0(r,i);for(const r of CS.values())R0(r,i);return!0}function mp(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function ga(i){return i==null?!1:i.settings!==void 0}const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new ac("app","Firebase",RS);class IS{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const Kl=AS;function cb(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:jm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ho.create("bad-app-name",{appName:String(l)});if(r||(r=ib()),!r)throw ho.create("no-options");const c=zf.get(l);if(c){if(Fo(r,c.options)&&Fo(a,c.config))return c;throw ho.create("duplicate-app",{appName:l})}const p=new kA(l);for(const E of Fm.values())p.addComponent(E);const b=new IS(r,a,p);return zf.set(l,b),b}function fb(i=jm){const e=zf.get(i);if(!e&&i===jm&&ib())return cb();if(!e)throw ho.create("no-app",{appName:i});return e}function mo(i,e,r){let a=SS[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(p.join(" "));return}Fl(new Ho(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const xS="firebase-heartbeat-database",MS=1,Ku="firebase-heartbeat-store";let Am=null;function hb(){return Am||(Am=XA(xS,MS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ku)}catch(r){console.warn(r)}}}}).catch(i=>{throw ho.create("idb-open",{originalErrorMessage:i.message})})),Am}async function NS(i){try{const r=(await hb()).transaction(Ku),a=await r.objectStore(Ku).get(db(i));return await r.done,a}catch(e){if(e instanceof xs)Ts.warn(e.message);else{const r=ho.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(r.message)}}}async function I0(i,e){try{const a=(await hb()).transaction(Ku,"readwrite");await a.objectStore(Ku).put(e,db(i)),await a.done}catch(r){if(r instanceof xs)Ts.warn(r.message);else{const a=ho.create("idb-set",{originalErrorMessage:r?.message});Ts.warn(a.message)}}}function db(i){return`${i.name}!${i.options.appId}`}const DS=1024,OS=30;class kS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PS(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=x0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>OS){const l=LS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x0(),{heartbeatsToSend:r,unsentEntries:a}=VS(this._heartbeatsCache.heartbeats),l=Uf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ts.warn(e),""}}}function x0(){return new Date().toISOString().substring(0,10)}function VS(i,e=DS){const r=[];let a=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),M0(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),M0(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class PS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await NS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return I0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return I0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function M0(i){return Uf(JSON.stringify({version:2,heartbeats:i})).length}function LS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}function US(i){Fl(new Ho("platform-logger",e=>new KA(e),"PRIVATE")),Fl(new Ho("heartbeat",e=>new kS(e),"PRIVATE")),mo(Bm,C0,i),mo(Bm,C0,"esm2020"),mo("fire-js","")}US("");var zS="firebase",BS="12.6.0";mo(zS,BS,"app");function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jS=mb,pb=new ac("auth","Firebase",mb());const Bf=new hp("@firebase/auth");function FS(i,...e){Bf.logLevel<=Zt.WARN&&Bf.warn(`Auth (${Kl}): ${i}`,...e)}function If(i,...e){Bf.logLevel<=Zt.ERROR&&Bf.error(`Auth (${Kl}): ${i}`,...e)}function As(i,...e){throw pp(i,...e)}function Fa(i,...e){return pp(i,...e)}function gb(i,e,r){const a={...jS(),[e]:r};return new ac("auth","Firebase",a).create(e,{appName:i.name})}function Es(i){return gb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pp(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return pb.create(i,...e)}function St(i,e,...r){if(!i)throw pp(e,...r)}function _s(i){const e="INTERNAL ASSERTION FAILED: "+i;throw If(e),new Error(e)}function Ss(i,e){i||_s(e)}function Hm(){return typeof self<"u"&&self.location?.href||""}function HS(){return N0()==="http:"||N0()==="https:"}function N0(){return typeof self<"u"&&self.location?.protocol||null}function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HS()||vA()||"connection"in navigator)?navigator.onLine:!0}function GS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class oc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ss(r>e,"Short delay should be less than long delay!"),this.isMobile=pA()||_A()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gp(i,e){Ss(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class yb{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QS=new oc(3e4,6e4);function lc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function $l(i,e,r,a,l={}){return vb(i,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=sc({key:i.config.apiKey,...p}).slice(1),E=await i._getAdditionalHeaders();E["Content-Type"]="application/json",i.languageCode&&(E["X-Firebase-Locale"]=i.languageCode);const w={method:e,headers:E,...c};return yA()||(w.referrerPolicy="no-referrer"),i.emulatorConfig&&Wl(i.emulatorConfig.host)&&(w.credentials="include"),yb.fetch()(await _b(i,i.config.apiHost,r,b),w)})}async function vb(i,e,r){i._canInitEmulator=!1;const a={...YS,...e};try{const l=new WS(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw _f(i,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw _f(i,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw _f(i,"email-already-in-use",p);if(E==="USER_DISABLED")throw _f(i,"user-disabled",p);const N=a[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw gb(i,N,w);As(i,N)}}catch(l){if(l instanceof xs)throw l;As(i,"network-request-failed",{message:String(l)})}}async function yp(i,e,r,a,l={}){const c=await $l(i,e,r,a,l);return"mfaPendingCredential"in c&&As(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function _b(i,e,r,a){const l=`${e}${r}?${a}`,c=i,p=c.config.emulator?gp(i.config,l):`${i.config.apiScheme}://${l}`;return XS.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class WS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Fa(this.auth,"network-request-failed")),QS.get())})}}function _f(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=Fa(i,e,a);return l.customData._tokenResponse=r,l}async function KS(i,e){return $l(i,"POST","/v1/accounts:delete",e)}async function jf(i,e){return $l(i,"POST","/v1/accounts:lookup",e)}function qu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $S(i,e=!1){const r=ta(i),a=await r.getIdToken(e),l=vp(a);St(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:qu(Sm(l.auth_time)),issuedAtTime:qu(Sm(l.iat)),expirationTime:qu(Sm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sm(i){return Number(i)*1e3}function vp(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const l=nb(r);return l?JSON.parse(l):(If("Failed to decode base64 JWT payload"),null)}catch(l){return If("Caught error parsing JWT payload as JSON",l?.toString()),null}}function D0(i){const e=vp(i);return St(e,"internal-error"),St(typeof e.exp<"u","internal-error"),St(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof xs&&JS(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function JS({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class ZS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ff(i){const e=i.auth,r=await i.getIdToken(),a=await $u(i,jf(e,{idToken:r}));St(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?bb(l.providerUserInfo):[],p=t2(i.providerData,c),b=i.isAnonymous,E=!(i.email&&l.passwordHash)&&!p?.length,w=b?E:!1,N={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,N)}async function e2(i){const e=ta(i);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t2(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function bb(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function n2(i,e){const r=await vb(i,{},async()=>{const a=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,p=await _b(i,l,"/v1/token",`key=${c}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:a};return i.emulatorConfig&&Wl(i.emulatorConfig.host)&&(E.credentials="include"),yb.fetch()(p,E)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function r2(i,e){return $l(i,"POST","/v2/accounts:revokeToken",lc(i,e))}class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St(typeof e.idToken<"u","internal-error"),St(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){St(e.length!==0,"internal-error");const r=D0(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:c}=await n2(e,r);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:c}=r,p=new Pl;return a&&(St(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(St(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(St(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return _s("not implemented")}}function ro(i,e){St(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ia{constructor({uid:e,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ZS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await $u(this,this.stsTokenManager.getToken(this.auth,e));return St(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $S(this,e)}reload(){return e2(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Ff(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ga(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await $u(this,KS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,p=r.photoURL??void 0,b=r.tenantId??void 0,E=r._redirectEventId??void 0,w=r.createdAt??void 0,N=r.lastLoginAt??void 0,{uid:O,emailVerified:G,isAnonymous:ie,providerData:B,stsTokenManager:ke}=r;St(O&&ke,e,"internal-error");const Se=Pl.fromJSON(this.name,ke);St(typeof O=="string",e,"internal-error"),ro(a,e.name),ro(l,e.name),St(typeof G=="boolean",e,"internal-error"),St(typeof ie=="boolean",e,"internal-error"),ro(c,e.name),ro(p,e.name),ro(b,e.name),ro(E,e.name),ro(w,e.name),ro(N,e.name);const je=new Ia({uid:O,auth:e,email:l,emailVerified:G,displayName:a,isAnonymous:ie,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Se,createdAt:w,lastLoginAt:N});return B&&Array.isArray(B)&&(je.providerData=B.map(j=>({...j}))),E&&(je._redirectEventId=E),je}static async _fromIdTokenResponse(e,r,a=!1){const l=new Pl;l.updateFromServerResponse(r);const c=new Ia({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ff(c),c}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];St(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?bb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Pl;b.updateFromIdToken(a);const E=new Ia({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const O0=new Map;function bs(i){Ss(i instanceof Function,"Expected a class definition");let e=O0.get(i);return e?(Ss(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,O0.set(i,e),e)}class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Eb.type="NONE";const k0=Eb;function xf(i,e,r){return`firebase:${i}:${e}:${r}`}class Ll{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=xf(this.userKey,l.apiKey,c),this.fullPersistenceKey=xf("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await jf(this.auth,{idToken:e}).catch(()=>{});return r?Ia._fromGetAccountInfoResponse(this.auth,r,e):null}return Ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new Ll(bs(k0),e,a);const l=(await Promise.all(r.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||bs(k0);const p=xf(a,e.config.apiKey,e.name);let b=null;for(const w of r)try{const N=await w._get(p);if(N){let O;if(typeof N=="string"){const G=await jf(e,{idToken:N}).catch(()=>{});if(!G)break;O=await Ia._fromGetAccountInfoResponse(e,G,N)}else O=Ia._fromJSON(e,N);w!==c&&(b=O),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new Ll(c,e,a):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(r.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new Ll(c,e,a))}}function V0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rb(e))return"Blackberry";if(Ib(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Ab(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function wb(i=gi()){return/firefox\//i.test(i)}function Tb(i=gi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ab(i=gi()){return/crios\//i.test(i)}function Sb(i=gi()){return/iemobile/i.test(i)}function Cb(i=gi()){return/android/i.test(i)}function Rb(i=gi()){return/blackberry/i.test(i)}function Ib(i=gi()){return/webos/i.test(i)}function _p(i=gi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function i2(i=gi()){return _p(i)&&!!window.navigator?.standalone}function a2(){return bA()&&document.documentMode===10}function xb(i=gi()){return _p(i)||Cb(i)||Ib(i)||Rb(i)||/windows phone/i.test(i)||Sb(i)}function Mb(i,e=[]){let r;switch(i){case"Browser":r=V0(gi());break;case"Worker":r=`${V0(gi())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Kl}/${a}`}class s2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function o2(i,e={}){return $l(i,"GET","/v2/passwordPolicy",lc(i,e))}const l2=6;class u2{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??l2,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class c2{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=bs(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await jf(this,{idToken:e}),a=await Ia._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ga(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ga(this.app))return Promise.reject(Es(this));const r=e?ta(e):null;return r&&St(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ga(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ga(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o2(this),r=new u2(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await r2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&bs(e)||this._popupRedirectResolver;St(r,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[bs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof r=="function"){const E=e.addObserver(r,a,l);return()=>{p=!0,E()}}else{const E=e.addObserver(r);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ga(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uc(i){return ta(i)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IA(r=>this.observer=r)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f2(i){bp=i}function h2(i){return bp.loadJS(i)}function d2(){return bp.gapiScript}function m2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function p2(i,e){const r=mp(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(Fo(c,e??{}))return l;As(l,"already-initialized")}return r.initialize({options:e})}function g2(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(bs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function y2(i,e,r){const a=uc(i);St(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Nb(e),{host:p,port:b}=v2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},N=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){St(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),St(Fo(w,a.config.emulator)&&Fo(N,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=w,a.emulatorConfig=N,a.settings.appVerificationDisabledForTesting=!0,Wl(p)?(sb(`${c}//${p}${E}`),ob("Auth",!0)):_2()}function Nb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function v2(i){const e=Nb(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:L0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:L0(p)}}}function L0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _2(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Db{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,r){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function Ul(i,e){return yp(i,"POST","/v1/accounts:signInWithIdp",lc(i,e))}const b2="http://localhost";class qo extends Db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):As("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=r;if(!a||!l)return null;const p=new qo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return Ul(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,Ul(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ul(e,r)}buildRequest(){const e={requestUri:b2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=sc(r)}return e}}class Ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cc extends Ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ao extends cc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";class so extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return so.credential(r,a)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";class oo extends cc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";class lo extends cc{constructor(){super("twitter.com")}static credential(e,r){return qo._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return lo.credential(r,a)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";async function E2(i,e){return yp(i,"POST","/v1/accounts:signUp",lc(i,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const c=await Ia._fromIdTokenResponse(e,a,l),p=U0(a);return new Cs({user:c,providerId:p,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=U0(a);return new Cs({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function U0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function w2(i){if(ga(i.app))return Promise.reject(Es(i));const e=uc(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await E2(e,{returnSecureToken:!0}),a=await Cs._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(a.user),a}class Hf extends xs{constructor(e,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Hf(e,r,a,l)}}function kb(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(i,c,e,a):c})}async function T2(i,e,r=!1){const a=await $u(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Cs._forOperation(i,"link",a)}async function A2(i,e,r=!1){const{auth:a}=i;if(ga(a.app))return Promise.reject(Es(a));const l="reauthenticate";try{const c=await $u(i,kb(a,l,e,i),r);St(c.idToken,a,"internal-error");const p=vp(c.idToken);St(p,a,"internal-error");const{sub:b}=p;return St(i.uid===b,a,"user-mismatch"),Cs._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&As(a,"user-mismatch"),c}}async function S2(i,e,r=!1){if(ga(i.app))return Promise.reject(Es(i));const a="signIn",l=await kb(i,a,e),c=await Cs._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(c.user),c}async function C2(i,e){return yp(i,"POST","/v1/accounts:signInWithCustomToken",lc(i,e))}async function R2(i,e){if(ga(i.app))return Promise.reject(Es(i));const r=uc(i),a=await C2(r,{token:e,returnSecureToken:!0}),l=await Cs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function I2(i,e,r,a){return ta(i).onIdTokenChanged(e,r,a)}function x2(i,e,r){return ta(i).beforeAuthStateChanged(e,r)}function M2(i,e,r,a){return ta(i).onAuthStateChanged(e,r,a)}const qf="__sak";class Vb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const N2=1e3,D2=10;class Pb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!r&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);a2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,D2):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pb.type="LOCAL";const O2=Pb;class Lb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Lb.type="SESSION";const Ub=Lb;function k2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new oh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:c}=r.data,p=this.handlersMap[l];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async w=>w(r.origin,c)),E=await k2(b);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:E})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Ep(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}class V2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=Ep("",20);l.port1.start();const N=setTimeout(()=>{E(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(O){const G=O;if(G.data.eventId===w)switch(G.data.status){case"ack":clearTimeout(N),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(N),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:r},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ha(){return window}function P2(i){Ha().location.href=i}function zb(){return typeof Ha().WorkerGlobalScope<"u"&&typeof Ha().importScripts=="function"}async function L2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function z2(){return zb()?self:null}const Bb="firebaseLocalStorageDb",B2=1,Gf="firebaseLocalStorage",jb="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function lh(i,e){return i.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function j2(){const i=indexedDB.deleteDatabase(Bb);return new fc(i).toPromise()}function Gm(){const i=indexedDB.open(Bb,B2);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Gf,{keyPath:jb})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Gf)?e(a):(a.close(),await j2(),e(await Gm()))})})}async function z0(i,e,r){const a=lh(i,!0).put({[jb]:e,value:r});return new fc(a).toPromise()}async function F2(i,e){const r=lh(i,!1).get(e),a=await new fc(r).toPromise();return a===void 0?null:a.value}function B0(i,e){const r=lh(i,!0).delete(e);return new fc(r).toPromise()}const H2=800,q2=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>q2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(z2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L2(),!this.activeServiceWorker)return;this.sender=new V2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await z0(e,qf,"1"),await B0(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>z0(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>F2(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>B0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=lh(l,!1).getAll();return new fc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const G2=Fb;new oc(3e4,6e4);function Y2(i,e){return e?bs(e):(St(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class wp extends Db{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ul(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function X2(i){return S2(i.auth,new wp(i),i.bypassAuthState)}function Q2(i){const{auth:e,user:r}=i;return St(r,e,"internal-error"),A2(r,new wp(i),i.bypassAuthState)}async function W2(i){const{auth:e,user:r}=i;return St(r,e,"internal-error"),T2(r,new wp(i),i.bypassAuthState)}class Hb{constructor(e,r,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return W2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:As(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K2=new oc(2e3,1e4);class kl extends Hb{constructor(e,r,a,l,c){super(e,r,l,c),this.provider=a,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K2.get())};e()}}kl.currentPopupAction=null;const $2="pendingRedirect",Mf=new Map;class J2 extends Hb{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const a=await Z2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z2(i,e){const r=nC(e),a=tC(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function eC(i,e){Mf.set(i._key(),e)}function tC(i){return bs(i._redirectPersistence)}function nC(i){return xf($2,i.config.apiKey,i.name)}async function rC(i,e,r=!1){if(ga(i.app))return Promise.reject(Es(i));const a=uc(i),l=Y2(a,e),p=await new J2(a,l,r).execute();return p&&!r&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const iC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sC(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!qb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Fa(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function qb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function sC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(i);default:return!1}}async function oC(i,e={}){return $l(i,"GET","/v1/projects",e)}const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uC=/^https?/;async function cC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await oC(i);for(const r of e)try{if(fC(r))return}catch{}As(i,"unauthorized-domain")}function fC(i){const e=Hm(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const p=new URL(i);return p.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===a}if(!uC.test(r))return!1;if(lC.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const hC=new oc(3e4,6e4);function F0(){const i=Ha().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function dC(i){return new Promise((e,r)=>{function a(){F0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F0(),r(Fa(i,"network-request-failed"))},timeout:hC.get()})}if(Ha().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ha().gapi?.load)a();else{const l=m2("iframefcb");return Ha()[l]=()=>{gapi.load?a():r(Fa(i,"network-request-failed"))},h2(`${d2()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function mC(i){return Nf=Nf||dC(i),Nf}const pC=new oc(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(i){const e=i.config;St(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?gp(e,yC):`https://${i.config.authDomain}/${gC}`,a={apiKey:e.apiKey,appName:i.name,v:Kl},l=_C.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${sc(a).slice(1)}`}async function EC(i){const e=await mC(i),r=Ha().gapi;return St(r,i,"internal-error"),e.open({where:document.body,url:bC(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=Fa(i,"network-request-failed"),b=Ha().setTimeout(()=>{c(p)},pC.get());function E(){Ha().clearTimeout(b),l(a)}a.ping(E).then(E,()=>{c(p)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,AC=600,SC="_blank",CC="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(i,e,r,a=TC,l=AC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const E={...wC,width:a.toString(),height:l.toString(),top:c,left:p},w=gi().toLowerCase();r&&(b=Ab(w)?SC:r),wb(w)&&(e=e||CC,E.scrollbars="yes");const N=Object.entries(E).reduce((G,[ie,B])=>`${G}${ie}=${B},`,"");if(i2(w)&&b!=="_self")return IC(e||"",b),new H0(null);const O=window.open(e||"",b,N);St(O,i,"popup-blocked");try{O.focus()}catch{}return new H0(O)}function IC(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const xC="__/auth/handler",MC="emulator/auth/handler",NC=encodeURIComponent("fac");async function q0(i,e,r,a,l,c){St(i.config.authDomain,i,"auth-domain-config-required"),St(i.config.apiKey,i,"invalid-api-key");const p={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:Kl,eventId:l};if(e instanceof Ob){e.setDefaultLanguage(i.languageCode),p.providerId=e.providerId||"",RA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,O]of Object.entries({}))p[N]=O}if(e instanceof cc){const N=e.getScopes().filter(O=>O!=="");N.length>0&&(p.scopes=N.join(","))}i.tenantId&&(p.tid=i.tenantId);const b=p;for(const N of Object.keys(b))b[N]===void 0&&delete b[N];const E=await i._getAppCheckToken(),w=E?`#${NC}=${encodeURIComponent(E)}`:"";return`${DC(i)}?${sc(b).slice(1)}${w}`}function DC({config:i}){return i.emulator?gp(i,MC):`https://${i.authDomain}/${xC}`}const Cm="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ub,this._completeRedirectFn=rC,this._overrideRedirectResult=eC}async _openPopup(e,r,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await q0(e,r,a,Hm(),l);return RC(e,c,Ep())}async _openRedirect(e,r,a,l){await this._originValidation(e);const c=await q0(e,r,a,Hm(),l);return P2(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await EC(e),a=new aC(e);return r.register("authEvent",l=>(St(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Cm,{type:Cm},l=>{const c=l?.[0]?.[Cm];c!==void 0&&r(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cC(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return xb()||Tb()||_p()}}const kC=OC;var G0="@firebase/auth",Y0="1.11.1";class VC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(i){Fl(new Ho("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;St(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const E={apiKey:p,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(i)},w=new c2(a,l,c,E);return g2(w,r),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Fl(new Ho("auth-internal",e=>{const r=uc(e.getProvider("auth").getImmediate());return(a=>new VC(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(G0,Y0,PC(i)),mo(G0,Y0,"esm2020")}const UC=300,zC=ab("authIdTokenMaxAge")||UC;let X0=null;const BC=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>zC)return;const l=r?.token;X0!==l&&(X0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jC(i=fb()){const e=mp(i,"auth");if(e.isInitialized())return e.getImmediate();const r=p2(i,{popupRedirectResolver:kC,persistence:[G2,O2,Ub]}),a=ab("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=BC(c.toString());x2(r,p,()=>p(r.currentUser)),I2(r,b=>p(b))}}const l=rb("auth");return l&&y2(r,`http://${l}`),r}function FC(){return document.getElementsByTagName("head")?.[0]??document}f2({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=Fa("internal-error");c.customData=l,r(c)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var po,Gb;(function(){var i;function e(Y,F){function P(){}P.prototype=F.prototype,Y.F=F.prototype,Y.prototype=new P,Y.prototype.constructor=Y,Y.D=function(H,R,L){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return F.prototype[R].apply(H,I)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Y,F,P){P||(P=0);const H=Array(16);if(typeof F=="string")for(var R=0;R<16;++R)H[R]=F.charCodeAt(P++)|F.charCodeAt(P++)<<8|F.charCodeAt(P++)<<16|F.charCodeAt(P++)<<24;else for(R=0;R<16;++R)H[R]=F[P++]|F[P++]<<8|F[P++]<<16|F[P++]<<24;F=Y.g[0],P=Y.g[1],R=Y.g[2];let L=Y.g[3],I;I=F+(L^P&(R^L))+H[0]+3614090360&4294967295,F=P+(I<<7&4294967295|I>>>25),I=L+(R^F&(P^R))+H[1]+3905402710&4294967295,L=F+(I<<12&4294967295|I>>>20),I=R+(P^L&(F^P))+H[2]+606105819&4294967295,R=L+(I<<17&4294967295|I>>>15),I=P+(F^R&(L^F))+H[3]+3250441966&4294967295,P=R+(I<<22&4294967295|I>>>10),I=F+(L^P&(R^L))+H[4]+4118548399&4294967295,F=P+(I<<7&4294967295|I>>>25),I=L+(R^F&(P^R))+H[5]+1200080426&4294967295,L=F+(I<<12&4294967295|I>>>20),I=R+(P^L&(F^P))+H[6]+2821735955&4294967295,R=L+(I<<17&4294967295|I>>>15),I=P+(F^R&(L^F))+H[7]+4249261313&4294967295,P=R+(I<<22&4294967295|I>>>10),I=F+(L^P&(R^L))+H[8]+1770035416&4294967295,F=P+(I<<7&4294967295|I>>>25),I=L+(R^F&(P^R))+H[9]+2336552879&4294967295,L=F+(I<<12&4294967295|I>>>20),I=R+(P^L&(F^P))+H[10]+4294925233&4294967295,R=L+(I<<17&4294967295|I>>>15),I=P+(F^R&(L^F))+H[11]+2304563134&4294967295,P=R+(I<<22&4294967295|I>>>10),I=F+(L^P&(R^L))+H[12]+1804603682&4294967295,F=P+(I<<7&4294967295|I>>>25),I=L+(R^F&(P^R))+H[13]+4254626195&4294967295,L=F+(I<<12&4294967295|I>>>20),I=R+(P^L&(F^P))+H[14]+2792965006&4294967295,R=L+(I<<17&4294967295|I>>>15),I=P+(F^R&(L^F))+H[15]+1236535329&4294967295,P=R+(I<<22&4294967295|I>>>10),I=F+(R^L&(P^R))+H[1]+4129170786&4294967295,F=P+(I<<5&4294967295|I>>>27),I=L+(P^R&(F^P))+H[6]+3225465664&4294967295,L=F+(I<<9&4294967295|I>>>23),I=R+(F^P&(L^F))+H[11]+643717713&4294967295,R=L+(I<<14&4294967295|I>>>18),I=P+(L^F&(R^L))+H[0]+3921069994&4294967295,P=R+(I<<20&4294967295|I>>>12),I=F+(R^L&(P^R))+H[5]+3593408605&4294967295,F=P+(I<<5&4294967295|I>>>27),I=L+(P^R&(F^P))+H[10]+38016083&4294967295,L=F+(I<<9&4294967295|I>>>23),I=R+(F^P&(L^F))+H[15]+3634488961&4294967295,R=L+(I<<14&4294967295|I>>>18),I=P+(L^F&(R^L))+H[4]+3889429448&4294967295,P=R+(I<<20&4294967295|I>>>12),I=F+(R^L&(P^R))+H[9]+568446438&4294967295,F=P+(I<<5&4294967295|I>>>27),I=L+(P^R&(F^P))+H[14]+3275163606&4294967295,L=F+(I<<9&4294967295|I>>>23),I=R+(F^P&(L^F))+H[3]+4107603335&4294967295,R=L+(I<<14&4294967295|I>>>18),I=P+(L^F&(R^L))+H[8]+1163531501&4294967295,P=R+(I<<20&4294967295|I>>>12),I=F+(R^L&(P^R))+H[13]+2850285829&4294967295,F=P+(I<<5&4294967295|I>>>27),I=L+(P^R&(F^P))+H[2]+4243563512&4294967295,L=F+(I<<9&4294967295|I>>>23),I=R+(F^P&(L^F))+H[7]+1735328473&4294967295,R=L+(I<<14&4294967295|I>>>18),I=P+(L^F&(R^L))+H[12]+2368359562&4294967295,P=R+(I<<20&4294967295|I>>>12),I=F+(P^R^L)+H[5]+4294588738&4294967295,F=P+(I<<4&4294967295|I>>>28),I=L+(F^P^R)+H[8]+2272392833&4294967295,L=F+(I<<11&4294967295|I>>>21),I=R+(L^F^P)+H[11]+1839030562&4294967295,R=L+(I<<16&4294967295|I>>>16),I=P+(R^L^F)+H[14]+4259657740&4294967295,P=R+(I<<23&4294967295|I>>>9),I=F+(P^R^L)+H[1]+2763975236&4294967295,F=P+(I<<4&4294967295|I>>>28),I=L+(F^P^R)+H[4]+1272893353&4294967295,L=F+(I<<11&4294967295|I>>>21),I=R+(L^F^P)+H[7]+4139469664&4294967295,R=L+(I<<16&4294967295|I>>>16),I=P+(R^L^F)+H[10]+3200236656&4294967295,P=R+(I<<23&4294967295|I>>>9),I=F+(P^R^L)+H[13]+681279174&4294967295,F=P+(I<<4&4294967295|I>>>28),I=L+(F^P^R)+H[0]+3936430074&4294967295,L=F+(I<<11&4294967295|I>>>21),I=R+(L^F^P)+H[3]+3572445317&4294967295,R=L+(I<<16&4294967295|I>>>16),I=P+(R^L^F)+H[6]+76029189&4294967295,P=R+(I<<23&4294967295|I>>>9),I=F+(P^R^L)+H[9]+3654602809&4294967295,F=P+(I<<4&4294967295|I>>>28),I=L+(F^P^R)+H[12]+3873151461&4294967295,L=F+(I<<11&4294967295|I>>>21),I=R+(L^F^P)+H[15]+530742520&4294967295,R=L+(I<<16&4294967295|I>>>16),I=P+(R^L^F)+H[2]+3299628645&4294967295,P=R+(I<<23&4294967295|I>>>9),I=F+(R^(P|~L))+H[0]+4096336452&4294967295,F=P+(I<<6&4294967295|I>>>26),I=L+(P^(F|~R))+H[7]+1126891415&4294967295,L=F+(I<<10&4294967295|I>>>22),I=R+(F^(L|~P))+H[14]+2878612391&4294967295,R=L+(I<<15&4294967295|I>>>17),I=P+(L^(R|~F))+H[5]+4237533241&4294967295,P=R+(I<<21&4294967295|I>>>11),I=F+(R^(P|~L))+H[12]+1700485571&4294967295,F=P+(I<<6&4294967295|I>>>26),I=L+(P^(F|~R))+H[3]+2399980690&4294967295,L=F+(I<<10&4294967295|I>>>22),I=R+(F^(L|~P))+H[10]+4293915773&4294967295,R=L+(I<<15&4294967295|I>>>17),I=P+(L^(R|~F))+H[1]+2240044497&4294967295,P=R+(I<<21&4294967295|I>>>11),I=F+(R^(P|~L))+H[8]+1873313359&4294967295,F=P+(I<<6&4294967295|I>>>26),I=L+(P^(F|~R))+H[15]+4264355552&4294967295,L=F+(I<<10&4294967295|I>>>22),I=R+(F^(L|~P))+H[6]+2734768916&4294967295,R=L+(I<<15&4294967295|I>>>17),I=P+(L^(R|~F))+H[13]+1309151649&4294967295,P=R+(I<<21&4294967295|I>>>11),I=F+(R^(P|~L))+H[4]+4149444226&4294967295,F=P+(I<<6&4294967295|I>>>26),I=L+(P^(F|~R))+H[11]+3174756917&4294967295,L=F+(I<<10&4294967295|I>>>22),I=R+(F^(L|~P))+H[2]+718787259&4294967295,R=L+(I<<15&4294967295|I>>>17),I=P+(L^(R|~F))+H[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+F&4294967295,Y.g[1]=Y.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,Y.g[2]=Y.g[2]+R&4294967295,Y.g[3]=Y.g[3]+L&4294967295}a.prototype.v=function(Y,F){F===void 0&&(F=Y.length);const P=F-this.blockSize,H=this.C;let R=this.h,L=0;for(;L<F;){if(R==0)for(;L<=P;)l(this,Y,L),L+=this.blockSize;if(typeof Y=="string"){for(;L<F;)if(H[R++]=Y.charCodeAt(L++),R==this.blockSize){l(this,H),R=0;break}}else for(;L<F;)if(H[R++]=Y[L++],R==this.blockSize){l(this,H),R=0;break}}this.h=R,this.o+=F},a.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var F=1;F<Y.length-8;++F)Y[F]=0;F=this.o*8;for(var P=Y.length-8;P<Y.length;++P)Y[P]=F&255,F/=256;for(this.v(Y),Y=Array(16),F=0,P=0;P<4;++P)for(let H=0;H<32;H+=8)Y[F++]=this.g[P]>>>H&255;return Y};function c(Y,F){var P=b;return Object.prototype.hasOwnProperty.call(P,Y)?P[Y]:P[Y]=F(Y)}function p(Y,F){this.h=F;const P=[];let H=!0;for(let R=Y.length-1;R>=0;R--){const L=Y[R]|0;H&&L==F||(P[R]=L,H=!1)}this.g=P}var b={};function E(Y){return-128<=Y&&Y<128?c(Y,function(F){return new p([F|0],F<0?-1:0)}):new p([Y|0],Y<0?-1:0)}function w(Y){if(isNaN(Y)||!isFinite(Y))return O;if(Y<0)return Se(w(-Y));const F=[];let P=1;for(let H=0;Y>=P;H++)F[H]=Y/P|0,P*=4294967296;return new p(F,0)}function N(Y,F){if(Y.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(Y.charAt(0)=="-")return Se(N(Y.substring(1),F));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=w(Math.pow(F,8));let H=O;for(let L=0;L<Y.length;L+=8){var R=Math.min(8,Y.length-L);const I=parseInt(Y.substring(L,L+R),F);R<8?(R=w(Math.pow(F,R)),H=H.j(R).add(w(I))):(H=H.j(P),H=H.add(w(I)))}return H}var O=E(0),G=E(1),ie=E(16777216);i=p.prototype,i.m=function(){if(ke(this))return-Se(this).m();let Y=0,F=1;for(let P=0;P<this.g.length;P++){const H=this.i(P);Y+=(H>=0?H:4294967296+H)*F,F*=4294967296}return Y},i.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(B(this))return"0";if(ke(this))return"-"+Se(this).toString(Y);const F=w(Math.pow(Y,6));var P=this;let H="";for(;;){const R=tt(P,F).g;P=je(P,R.j(F));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(Y);if(P=R,B(P))return L+H;for(;L.length<6;)L="0"+L;H=L+H}},i.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function B(Y){if(Y.h!=0)return!1;for(let F=0;F<Y.g.length;F++)if(Y.g[F]!=0)return!1;return!0}function ke(Y){return Y.h==-1}i.l=function(Y){return Y=je(this,Y),ke(Y)?-1:B(Y)?0:1};function Se(Y){const F=Y.g.length,P=[];for(let H=0;H<F;H++)P[H]=~Y.g[H];return new p(P,~Y.h).add(G)}i.abs=function(){return ke(this)?Se(this):this},i.add=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];let H=0;for(let R=0;R<=F;R++){let L=H+(this.i(R)&65535)+(Y.i(R)&65535),I=(L>>>16)+(this.i(R)>>>16)+(Y.i(R)>>>16);H=I>>>16,L&=65535,I&=65535,P[R]=I<<16|L}return new p(P,P[P.length-1]&-2147483648?-1:0)};function je(Y,F){return Y.add(Se(F))}i.j=function(Y){if(B(this)||B(Y))return O;if(ke(this))return ke(Y)?Se(this).j(Se(Y)):Se(Se(this).j(Y));if(ke(Y))return Se(this.j(Se(Y)));if(this.l(ie)<0&&Y.l(ie)<0)return w(this.m()*Y.m());const F=this.g.length+Y.g.length,P=[];for(var H=0;H<2*F;H++)P[H]=0;for(H=0;H<this.g.length;H++)for(let R=0;R<Y.g.length;R++){const L=this.i(H)>>>16,I=this.i(H)&65535,$=Y.i(R)>>>16,re=Y.i(R)&65535;P[2*H+2*R]+=I*re,j(P,2*H+2*R),P[2*H+2*R+1]+=L*re,j(P,2*H+2*R+1),P[2*H+2*R+1]+=I*$,j(P,2*H+2*R+1),P[2*H+2*R+2]+=L*$,j(P,2*H+2*R+2)}for(Y=0;Y<F;Y++)P[Y]=P[2*Y+1]<<16|P[2*Y];for(Y=F;Y<2*F;Y++)P[Y]=0;return new p(P,0)};function j(Y,F){for(;(Y[F]&65535)!=Y[F];)Y[F+1]+=Y[F]>>>16,Y[F]&=65535,F++}function Pe(Y,F){this.g=Y,this.h=F}function tt(Y,F){if(B(F))throw Error("division by zero");if(B(Y))return new Pe(O,O);if(ke(Y))return F=tt(Se(Y),F),new Pe(Se(F.g),Se(F.h));if(ke(F))return F=tt(Y,Se(F)),new Pe(Se(F.g),F.h);if(Y.g.length>30){if(ke(Y)||ke(F))throw Error("slowDivide_ only works with positive integers.");for(var P=G,H=F;H.l(Y)<=0;)P=nt(P),H=nt(H);var R=lt(P,1),L=lt(H,1);for(H=lt(H,2),P=lt(P,2);!B(H);){var I=L.add(H);I.l(Y)<=0&&(R=R.add(P),L=I),H=lt(H,1),P=lt(P,1)}return F=je(Y,R.j(F)),new Pe(R,F)}for(R=O;Y.l(F)>=0;){for(P=Math.max(1,Math.floor(Y.m()/F.m())),H=Math.ceil(Math.log(P)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),L=w(P),I=L.j(F);ke(I)||I.l(Y)>0;)P-=H,L=w(P),I=L.j(F);B(L)&&(L=G),R=R.add(L),Y=je(Y,I)}return new Pe(R,Y)}i.B=function(Y){return tt(this,Y).h},i.and=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)&Y.i(H);return new p(P,this.h&Y.h)},i.or=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)|Y.i(H);return new p(P,this.h|Y.h)},i.xor=function(Y){const F=Math.max(this.g.length,Y.g.length),P=[];for(let H=0;H<F;H++)P[H]=this.i(H)^Y.i(H);return new p(P,this.h^Y.h)};function nt(Y){const F=Y.g.length+1,P=[];for(let H=0;H<F;H++)P[H]=Y.i(H)<<1|Y.i(H-1)>>>31;return new p(P,Y.h)}function lt(Y,F){const P=F>>5;F%=32;const H=Y.g.length-P,R=[];for(let L=0;L<H;L++)R[L]=F>0?Y.i(L+P)>>>F|Y.i(L+P+1)<<32-F:Y.i(L+P);return new p(R,Y.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Gb=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=N,po=p}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yb,Bu,Xb,Df,Ym,Qb,Wb,Kb;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=r(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var V=0;V<u.length-1;V++){var se=u[V];if(!(se in A))break e;A=A[se]}u=u[u.length-1],V=A[u],y=y(V),y!=V&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],V;for(V in y)Object.prototype.hasOwnProperty.call(y,V)&&A.push([V,y[V]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function N(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),u.apply(this,V)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(V,se,me){for(var Ue=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Ue[Ct-2]=arguments[Ct];return y.prototype[se].apply(V,Ue)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ie(u){const y=u.length;if(y>0){const A=Array(y);for(let V=0;V<y;V++)A[V]=u[V];return A}return[]}function B(u,y){for(let V=1;V<arguments.length;V++){const se=arguments[V];var A=typeof se;if(A=A!="object"?A:se?Array.isArray(se)?"array":A:"null",A=="array"||A=="object"&&typeof se.length=="number"){A=u.length||0;const me=se.length||0;u.length=A+me;for(let Ue=0;Ue<me;Ue++)u[A+Ue]=se[Ue]}else u.push(se)}}class ke{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Se(u){p.setTimeout(()=>{throw u},0)}function je(){var u=Y;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class j{constructor(){this.h=this.g=null}add(y,A){const V=Pe.get();V.set(y,A),this.h?this.h.next=V:this.g=V,this.h=V}}var Pe=new ke(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,Y=new j,F=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(P)}};function P(){for(var u;u=je();){try{u.h.call(u.g)}catch(A){Se(A)}var y=Pe;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}lt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function $(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O($,R),$.prototype.init=function(u,y){const A=this.type=u.type,V=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),q=0;function X(u,y,A,V,se){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!V,this.ha=se,this.key=++q,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,y,A){for(const V in u)y.call(A,u[V],V,u)}function Te(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function U(u){const y={};for(const A in u)y[A]=u[A];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(u,y){let A,V;for(let se=1;se<arguments.length;se++){V=arguments[se];for(A in V)u[A]=V[A];for(let me=0;me<oe.length;me++)A=oe[me],Object.prototype.hasOwnProperty.call(V,A)&&(u[A]=V[A])}}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,y,A,V,se){const me=u.toString();u=this.g[me],u||(u=this.g[me]=[],this.h++);const Ue=We(u,y,V,se);return Ue>-1?(y=u[Ue],A||(y.fa=!1)):(y=new X(y,this.src,me,!!V,se),y.fa=A,u.push(y)),y};function Me(u,y){const A=y.type;if(A in u.g){var V=u.g[A],se=Array.prototype.indexOf.call(V,y,void 0),me;(me=se>=0)&&Array.prototype.splice.call(V,se,1),me&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function We(u,y,A,V){for(let se=0;se<u.length;++se){const me=u[se];if(!me.da&&me.listener==y&&me.capture==!!A&&me.ha==V)return se}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),gt={};function Et(u,y,A,V,se){if(Array.isArray(y)){for(let me=0;me<y.length;me++)Et(u,y[me],A,V,se);return null}return A=on(A),u&&u[re]?u.J(y,A,b(V)?!!V.capture:!1,se):Mt(u,y,A,!1,V,se)}function Mt(u,y,A,V,se,me){if(!y)throw Error("Invalid event type");const Ue=b(se)?!!se.capture:!!se;let Ct=er(u);if(Ct||(u[dt]=Ct=new Ae(u)),A=Ct.add(y,A,V,Ue,me),A.proxy)return A;if(V=_n(),A.proxy=V,V.src=u,V.listener=A,u.addEventListener)L||(se=Ue),se===void 0&&(se=!1),u.addEventListener(y.toString(),V,se);else if(u.attachEvent)u.attachEvent(nn(y.toString()),V);else if(u.addListener&&u.removeListener)u.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function _n(){function u(A){return y.call(u.src,u.listener,A)}const y=Gt;return u}function mt(u,y,A,V,se){if(Array.isArray(y))for(var me=0;me<y.length;me++)mt(u,y[me],A,V,se);else V=b(V)?!!V.capture:!!V,A=on(A),u&&u[re]?(u=u.i,me=String(y).toString(),me in u.g&&(y=u.g[me],A=We(y,A,V,se),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[me],u.h--)))):u&&(u=er(u))&&(y=u.g[y.toString()],u=-1,y&&(u=We(y,A,V,se)),(A=u>-1?y[u]:null)&&At(A))}function At(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[re])Me(y.i,u);else{var A=u.type,V=u.proxy;y.removeEventListener?y.removeEventListener(A,V,u.capture):y.detachEvent?y.detachEvent(nn(A),V):y.addListener&&y.removeListener&&y.removeListener(V),(A=er(y))?(Me(A,u),A.h==0&&(A.src=null,y[dt]=null)):ye(u)}}}function nn(u){return u in gt?gt[u]:gt[u]="on"+u}function Gt(u,y){if(u.da)u=!0;else{y=new $(y,this);const A=u.listener,V=u.ha||u.src;u.fa&&At(u),u=A.call(V,y)}return u}function er(u){return u=u[dt],u instanceof Ae?u:null}var wr="__closure_events_fn_"+(Math.random()*1e9>>>0);function on(u){return typeof u=="function"?u:(u[wr]||(u[wr]=function(y){return u.handleEvent(y)}),u[wr])}function st(){H.call(this),this.i=new Ae(this),this.M=this,this.G=null}O(st,H),st.prototype[re]=!0,st.prototype.removeEventListener=function(u,y,A,V){mt(this,u,y,A,V)};function jt(u,y){var A,V=u.G;if(V)for(A=[];V;V=V.G)A.push(V);if(u=u.M,V=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var se=y;y=new R(V,u),Ie(y,se)}se=!0;let me,Ue;if(A)for(Ue=A.length-1;Ue>=0;Ue--)me=y.g=A[Ue],se=Pt(me,V,!0,y)&&se;if(me=y.g=u,se=Pt(me,V,!0,y)&&se,se=Pt(me,V,!1,y)&&se,A)for(Ue=0;Ue<A.length;Ue++)me=y.g=A[Ue],se=Pt(me,V,!1,y)&&se}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let V=0;V<A.length;V++)ye(A[V]);delete u.g[y],u.h--}}this.G=null},st.prototype.J=function(u,y,A,V){return this.i.add(String(u),y,!1,A,V)},st.prototype.K=function(u,y,A,V){return this.i.add(String(u),y,!0,A,V)};function Pt(u,y,A,V){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let se=!0;for(let me=0;me<y.length;++me){const Ue=y[me];if(Ue&&!Ue.da&&Ue.capture==A){const Ct=Ue.listener,rr=Ue.ha||Ue.src;Ue.fa&&Me(u.i,Ue),se=Ct.call(rr,V)!==!1&&se}}return se&&!V.defaultPrevented}function Rn(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function _t(u){u.g=Rn(()=>{u.g=null,u.i&&(u.i=!1,_t(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class kt extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(u){H.call(this),this.h=u,this.g={}}O(Nt,H);var C=[];function g(u){fe(u.g,function(y,A){this.g.hasOwnProperty(A)&&At(y)},u),u.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),g(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,k=p.JSON.parse,J=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function pe(){}function Ne(){}var et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rt(){R.call(this,"d")}O(rt,R);function Ye(){R.call(this,"c")}O(Ye,R);var Fe={},Ut=null;function In(){return Ut=Ut||new st}Fe.Ia="serverreachability";function ln(u){R.call(this,Fe.Ia,u)}O(ln,R);function On(u){const y=In();jt(y,new ln(y))}Fe.STAT_EVENT="statevent";function Qn(u,y){R.call(this,Fe.STAT_EVENT,u),this.stat=y}O(Qn,R);function Bt(u){const y=In();jt(y,new Qn(y,u))}Fe.Ja="timingevent";function An(u,y){R.call(this,Fe.Ja,u),this.size=y}O(An,R);function kn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Vr(u,y,A,V,se,me){u.info(function(){if(u.g)if(me){var Ue="",Ct=me.split("&");for(let un=0;un<Ct.length;un++){var rr=Ct[un].split("=");if(rr.length>1){const Bn=rr[0];rr=rr[1];const ci=Bn.split("_");Ue=ci.length>=2&&ci[1]=="type"?Ue+(Bn+"="+rr+"&"):Ue+(Bn+"=redacted&")}}}else Ue=null;else Ue=me;return"XMLHTTP REQ ("+V+") [attempt "+se+"]: "+y+`
`+A+`
`+Ue})}function Ke(u,y,A,V,se,me,Ue){u.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+se+"]: "+y+`
`+A+`
`+me+" "+Ue})}function Fn(u,y,A,V){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+or(u,A)+(V?" "+V:"")})}function Rt(u,y){u.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function or(u,y){if(!u.g)return y;if(!y)return null;try{const me=JSON.parse(y);if(me){for(u=0;u<me.length;u++)if(Array.isArray(me[u])){var A=me[u];if(!(A.length<2)){var V=A[1];if(Array.isArray(V)&&!(V.length<1)){var se=V[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Ue=1;Ue<V.length;Ue++)V[Ue]=""}}}}return v(me)}catch{return y}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function yi(){}O(yi,pe),yi.prototype.g=function(){return new XMLHttpRequest},Cr=new yi;function Xe(u){return encodeURIComponent(String(u))}function Na(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Ii(u,y,A,V){this.j=u,this.i=y,this.l=A,this.S=V||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Lr}function Lr(){this.i=null,this.g="",this.h=!1}var fn={},tr={};function ti(u,y,A){u.M=1,u.A=hr(bn(y)),u.u=A,u.R=!0,xi(u,null)}function xi(u,y){u.F=Date.now(),ri(u),u.B=bn(u.A);var A=u.B,V=u.S;Array.isArray(V)||(V=[String(V)]),aa(A.i,"t",V),u.C=0,A=u.j.L,u.h=new Lr,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new kt(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,V=u.ba;var se="readystatechange";Array.isArray(se)||(se&&(C[0]=se.toString()),se=C);for(let me=0;me<se.length;me++){const Ue=Et(A,se[me],V||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=u.J?U(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),On(),Vr(u.i,u.v,u.B,u.l,u.S,u.u)}Ii.prototype.ba=function(u){u=u.target;const y=this.O;y&&wi(u)==3?y.j():this.Y(u)},Ii.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=wi(this.g),rr=this.g.ya(),un=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||nr(this.g)))){this.K||Ct!=4||rr==7||(rr==8||un<=0?On(3):On(2)),zr(this);var y=this.g.ca();this.X=y;var A=ni(this);if(this.o=y==200,Ke(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){t:{if(this.g){var V,se=this.g;if((V=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(V)){var me=V;break t}}me=null}if(u=me)Fn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rr(this,u);else{this.o=!1,this.m=3,Bt(12),Hn(this),Br(this);break e}}if(this.R){u=!0;let Bn;for(;!this.K&&this.C<A.length;)if(Bn=_a(this,A),Bn==tr){Ct==4&&(this.m=4,Bt(14),u=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==fn){this.m=4,Bt(15),Fn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Fn(this.i,this.l,Bn,null),Rr(this,Bn);if(Wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||A.length!=0||this.h.h||(this.m=1,Bt(16),u=!1),this.o=this.o&&u,!u)Fn(this.i,this.l,A,"[Invalid Chunked Response]"),Hn(this),Br(this);else if(A.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Jn(Ue),Ue.P=!0,Bt(11))}}else Fn(this.i,this.l,A,null),Rr(this,A);Ct==4&&Hn(this),this.o&&!this.K&&(Ct==4?Ja(this.j,this):(this.o=!1,ri(this)))}else W(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Hn(this),Br(this)}}}catch{}finally{}};function ni(u){if(!Wa(u))return u.g.la();const y=nr(u.g);if(y==="")return"";let A="";const V=y.length,se=wi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Hn(u),Br(u),"";u.h.i=new p.TextDecoder}for(let me=0;me<V;me++)u.h.h=!0,A+=u.h.i.decode(y[me],{stream:!(se&&me==V-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Wa(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _a(u,y){var A=u.C,V=y.indexOf(`
`,A);return V==-1?tr:(A=Number(y.substring(A,V)),isNaN(A)?fn:(V+=1,V+A>y.length?tr:(y=y.slice(V,V+A),u.C=V+A,y)))}Ii.prototype.cancel=function(){this.K=!0,Hn(this)};function ri(u){u.T=Date.now()+u.H,Ur(u,u.H)}function Ur(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=kn(w(u.aa,u),y)}function zr(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Ii.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(On(),Bt(17)),Hn(this),this.m=2,Br(this)):Ur(this,this.T-u)};function Br(u){u.j.I==0||u.K||Ja(u.j,u)}function Hn(u){zr(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Rr(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||ii(A.h,u))){if(!u.L&&ii(A.h,u)&&A.I==3){try{var V=A.Ba.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var se=V;if(se[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)Nr(A),ve(A);else break e;zn(A),Bt(18)}}else A.xa=se[1],0<A.xa-A.K&&se[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=kn(w(A.Va,A),6e3));Fr(A.h)<=1&&A.ta&&(A.ta=void 0)}else Xi(A,11)}else if((u.L||A.g==u)&&Nr(A),!I(y))for(se=A.Ba.g.parse(y),y=0;y<se.length;y++){let un=se[y];const Bn=un[0];if(!(Bn<=A.K))if(A.K=Bn,un=un[1],A.I==2)if(un[0]=="c"){A.M=un[1],A.ba=un[2];const ci=un[3];ci!=null&&(A.ka=ci,A.j.info("VER="+A.ka));const Vi=un[4];Vi!=null&&(A.za=Vi,A.j.info("SVER="+A.za));const Pi=un[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(V=1.5*Pi,A.O=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Ti=u.g;if(Ti){const oa=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var me=V.h;me.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(Ka(me,me.h),me.h=null))}if(V.G){const Za=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(V.wa=Za,Yt(V.J,V.G,Za))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),V=A;var Ue=u;if(V.na=$o(V,V.L?V.ba:null,V.W),Ue.L){Mi(V.h,Ue);var Ct=Ue,rr=V.O;rr&&(Ct.H=rr),Ct.D&&(zr(Ct),ri(Ct)),V.g=Ue}else wt(V);A.i.length>0&&Le(A)}else un[0]!="stop"&&un[0]!="close"||Xi(A,7);else A.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?Xi(A,7):Ee(A):un[0]!="noop"&&A.l&&A.l.qa(un),A.A=0)}}On(4)}catch{}}var Vn=class{constructor(u,y){this.g=u,this.map=y}};function ba(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fr(u){return u.h?1:u.g?u.g.size:0}function ii(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ka(u,y){u.g?u.g.add(y):u.h=y}function Mi(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}ba.prototype.cancel=function(){if(this.i=xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ie(u.i)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vi(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const V=u[A].indexOf("=");let se,me=null;V>=0?(se=u[A].substring(0,V),me=u[A].substring(V+1)):se=u[A],y(se,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Ir(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ir?(this.l=u.l,Kn(this,u.j),this.o=u.o,this.g=u.g,Hr(this,u.u),this.h=u.h,_i(this,qi(u.i)),this.m=u.m):u&&(y=String(u).match(ra))?(this.l=!1,Kn(this,y[1]||"",!0),this.o=ht(y[2]||""),this.g=ht(y[3]||"",!0),Hr(this,y[4]),this.h=ht(y[5]||"",!0),_i(this,y[6]||"",!0),this.m=ht(y[7]||"")):(this.l=!1,this.i=new Ni(null,this.l))}Ir.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(dr(y,Ea,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(dr(y,Ea,!0),"@"),u.push(Xe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(dr(A,A.charAt(0)=="/"?Da:$a,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",dr(A,ia)),u.join("")},Ir.prototype.resolve=function(u){const y=bn(this);let A=!!u.j;A?Kn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var V=u.h;if(A)Hr(y,u.u);else if(A=!!u.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var se=y.h.lastIndexOf("/");se!=-1&&(V=y.h.slice(0,se+1)+V)}if(se=V,se==".."||se==".")V="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){V=se.lastIndexOf("/",0)==0,se=se.split("/");const me=[];for(let Ue=0;Ue<se.length;){const Ct=se[Ue++];Ct=="."?V&&Ue==se.length&&me.push(""):Ct==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),V&&Ue==se.length&&me.push("")):(me.push(Ct),V=!0)}V=me.join("/")}else V=se}return A?y.h=V:A=u.i.toString()!=="",A?_i(y,qi(u.i)):A=!!u.m,A&&(y.m=u.m),y};function bn(u){return new Ir(u)}function Kn(u,y,A){u.j=A?ht(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Hr(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function _i(u,y,A){y instanceof Ni?(u.i=y,sa(u.i,u.l)):(A||(y=dr(y,hn)),u.i=new Ni(y,u.l))}function Yt(u,y,A){u.i.set(y,A)}function hr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ht(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Pn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,$a=/[#\?:]/g,Da=/[#\?]/g,hn=/[#\?@]/g,ia=/#/g;function Ni(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function $n(u){u.g||(u.g=new Map,u.h=0,u.i&&vi(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}i=Ni.prototype,i.add=function(u,y){$n(this),this.i=null,u=ai(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function qr(u,y){$n(u),y=ai(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function wa(u,y){return $n(u),y=ai(u,y),u.g.has(y)}i.forEach=function(u,y){$n(this),this.g.forEach(function(A,V){A.forEach(function(se){u.call(y,se,V,this)},this)},this)};function bi(u,y){$n(u);let A=[];if(typeof y=="string")wa(u,y)&&(A=A.concat(u.g.get(ai(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}i.set=function(u,y){return $n(this),this.i=null,u=ai(this,u),wa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=bi(this,u),u.length>0?String(u[0]):y):y};function aa(u,y,A){qr(u,y),A.length>0&&(u.i=null,u.g.set(ai(u,y),ie(A)),u.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let V=0;V<y.length;V++){var A=y[V];const se=Xe(A);A=bi(this,A);for(let me=0;me<A.length;me++){let Ue=se;A[me]!==""&&(Ue+="="+Xe(A[me])),u.push(Ue)}}return this.i=u.join("&")};function qi(u){const y=new Ni;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function ai(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function sa(u,y){y&&!u.j&&($n(u),u.i=null,u.g.forEach(function(A,V){const se=V.toLowerCase();V!=se&&(qr(this,V),aa(this,se,A))},u)),u.j=y}function si(u,y){const A=new Wn;if(p.Image){const V=new Image;V.onload=N(Gr,A,"TestLoadImage: loaded",!0,y,V),V.onerror=N(Gr,A,"TestLoadImage: error",!1,y,V),V.onabort=N(Gr,A,"TestLoadImage: abort",!1,y,V),V.ontimeout=N(Gr,A,"TestLoadImage: timeout",!1,y,V),p.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=u}else y(!1)}function Oa(u,y){const A=new Wn,V=new AbortController,se=setTimeout(()=>{V.abort(),Gr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:V.signal}).then(me=>{clearTimeout(se),me.ok?Gr(A,"TestPingServer: ok",!0,y):Gr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(se),Gr(A,"TestPingServer: error",!1,y)})}function Gr(u,y,A,V,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),V(A)}catch{}}function oi(){this.g=new J}function xr(u){this.i=u.Sb||null,this.h=u.ab||!1}O(xr,pe),xr.prototype.g=function(){return new li(this.i,this.h)};function li(u,y){st.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(li,st),i=li.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Tr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?ui(this):Tr(this),this.readyState==3&&Gi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,ui(this))},i.Na=function(u){this.g&&(this.response=u,ui(this))},i.ga=function(){this.g&&ui(this)};function ui(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Tr(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let y="";return fe(u,function(A,V){y+=V,y+=":",y+=A,y+=`\r
`}),y}function Di(u,y,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=Ln(A),typeof u=="string"?A!=null&&Xe(A):Yt(u,y,A))}function It(u){st.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(It,st);var Oi=/^https?$/i,Mr=["POST","PUT"];i=It.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=G(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(me){mr(this,me);return}if(u=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var se in V)A.set(se,V[se]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const me of V.keys())A.set(me,V.get(me));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),se=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Mr,y,void 0)>=0)||V||se||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Ue]of A)this.g.setRequestHeader(me,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(me){mr(this,me)}};function mr(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Yi(u),Ei(u)}function Yi(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,jt(this,"complete"),jt(this,"abort"),Ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),It.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ki(this):this.Xa())},i.Xa=function(){ki(this)};function ki(u){if(u.h&&typeof c<"u"){if(u.v&&wi(u)==4)setTimeout(u.Ca.bind(u),0);else if(jt(u,"readystatechange"),wi(u)==4){u.h=!1;try{const me=u.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var V;if(V=me===0){let Ue=String(u.D).match(ra)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),V=!Oi.test(Ue?Ue.toLowerCase():"")}A=V}if(A)jt(u,"complete"),jt(u,"success");else{u.o=6;try{var se=wi(u)>2?u.g.statusText:""}catch{se=""}u.l=se+" ["+u.ca()+"]",Yi(u)}}finally{Ei(u)}}}}function Ei(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||jt(u,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function wi(u){return u.g?u.g.readyState:0}i.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),k(y)}};function nr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function W(u){const y={};u=(u.g&&wi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<u.length;V++){if(I(u[V]))continue;var A=Na(u[V]);const se=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=y[se]||[];y[se]=me,me.push(A)}Te(y,function(V){return V.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ae(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function be(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ae("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ae("baseRetryDelayMs",5e3,u),this.Za=ae("retryDelaySeedMs",1e4,u),this.Ta=ae("forwardChannelMaxRetries",2,u),this.va=ae("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ba(u&&u.concurrentRequestLimit),this.Ba=new oi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=be.prototype,i.ka=8,i.I=1,i.connect=function(u,y,A,V){Bt(0),this.W=u,this.H=y||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.J=$o(this,null,this.W),Le(this)};function Ee(u){if(He(u),u.I==3){var y=u.V++,A=bn(u.J);if(Yt(A,"SID",u.M),Yt(A,"RID",y),Yt(A,"TYPE","terminate"),qe(u,A),y=new Ii(u,u.j,y),y.M=2,y.A=hr(bn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ri(y)}Ds(u)}function ve(u){u.g&&(Jn(u),u.g.cancel(),u.g=null)}function He(u){ve(u),u.v&&(p.clearTimeout(u.v),u.v=null),Nr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Le(u){if(!jr(u.h)&&!u.m){u.m=!0;var y=u.Ea;nt||F(),lt||(nt(),lt=!0),Y.add(y,u),u.D=0}}function Ve(u,y){return Fr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=kn(w(u.Ea,u,y),Ns(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const se=new Ii(this,this.j,u);let me=this.o;if(this.U&&(me?(me=U(me),Ie(me,this.U)):me=this.U),this.u!==null||this.R||(se.J=me,me=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(y+=V,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=pt(this,se,y),A=bn(this.J),Yt(A,"RID",u),Yt(A,"CVER",22),this.G&&Yt(A,"X-HTTP-Session-Id",this.G),qe(this,A),me&&(this.R?y="headers="+Xe(Ln(me))+"&"+y:this.u&&Di(A,this.u,me)),Ka(this.h,se),this.Ra&&Yt(A,"TYPE","init"),this.S?(Yt(A,"$req",y),Yt(A,"SID","null"),se.U=!0,ti(se,A,null)):ti(se,A,y),this.I=2}}else this.I==3&&(u?ct(this,u):this.i.length==0||jr(this.h)||ct(this))};function ct(u,y){var A;y?A=y.l:A=u.V++;const V=bn(u.J);Yt(V,"SID",u.M),Yt(V,"RID",A),Yt(V,"AID",u.K),qe(u,V),u.u&&u.o&&Di(V,u.u,u.o),A=new Ii(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=pt(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ka(u.h,A),ti(A,V,y)}function qe(u,y){u.H&&fe(u.H,function(A,V){Yt(y,V,A)}),u.l&&fe({},function(A,V){Yt(y,V,A)})}function pt(u,y,A){A=Math.min(u.i.length,A);const V=u.l?w(u.l.Ka,u.l,u):null;e:{var se=u.i;let Ct=-1;for(;;){const rr=["count="+A];Ct==-1?A>0?(Ct=se[0].g,rr.push("ofs="+Ct)):Ct=0:rr.push("ofs="+Ct);let un=!0;for(let Bn=0;Bn<A;Bn++){var me=se[Bn].g;const ci=se[Bn].map;if(me-=Ct,me<0)Ct=Math.max(0,se[Bn].g-100),un=!1;else try{me="req"+me+"_"||"";try{var Ue=ci instanceof Map?ci:Object.entries(ci);for(const[Vi,Pi]of Ue){let Ti=Pi;b(Pi)&&(Ti=v(Pi)),rr.push(me+Vi+"="+encodeURIComponent(Ti))}}catch(Vi){throw rr.push(me+"type="+encodeURIComponent("_badmap")),Vi}}catch{V&&V(ci)}}if(un){Ue=rr.join("&");break e}}Ue=void 0}return u=u.i.splice(0,A),y.G=u,Ue}function wt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;nt||F(),lt||(nt(),lt=!0),Y.add(y,u),u.A=0}}function zn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=kn(w(u.Da,u),Ns(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Ms(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=kn(w(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),ve(this),Ms(this))};function Jn(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Ms(u){u.g=new Ii(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=bn(u.na);Yt(y,"RID","rpc"),Yt(y,"SID",u.M),Yt(y,"AID",u.K),Yt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(y,"TO",u.ia),Yt(y,"TYPE","xmlhttp"),qe(u,y),u.u&&u.o&&Di(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=hr(bn(y)),A.u=null,A.R=!0,xi(A,u)}i.Va=function(){this.C!=null&&(this.C=null,ve(this),zn(this),Bt(19))};function Nr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ja(u,y){var A=null;if(u.g==y){Nr(u),Jn(u),u.g=null;var V=2}else if(ii(u.h,y))A=y.G,Mi(u.h,y),V=1;else return;if(u.I!=0){if(y.o)if(V==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var se=u.D;V=In(),jt(V,new An(V,A)),Le(u)}else wt(u);else if(se=y.m,se==3||se==0&&y.X>0||!(V==1&&Ve(u,y)||V==2&&zn(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),se){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function Ns(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Xi(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),V=u.Ua;const se=!V;V=new Ir(V||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Kn(V,"https"),hr(V),se?si(V.toString(),A):Oa(V.toString(),A)}else Bt(2);u.I=0,u.l&&u.l.pa(y),Ds(u),He(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ds(u){if(u.I=0,u.ja=[],u.l){const y=xn(u.h);(y.length!=0||u.i.length!=0)&&(B(u.ja,y),B(u.ja,u.i),u.h.i.length=0,ie(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var V=A instanceof Ir?bn(A):new Ir(A);if(V.g!="")y&&(V.g=y+"."+V.g),Hr(V,V.u);else{var se=p.location;V=se.protocol,y=y?y+"."+se.hostname:se.hostname,se=+se.port;const me=new Ir(null);V&&Kn(me,V),y&&(me.g=y),se&&Hr(me,se),A&&(me.h=A),V=me}return A=u.G,y=u.wa,A&&y&&Yt(V,A,y),Yt(V,"VER",u.ka),qe(u,V),V}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new It(new xr({ab:A})):new It(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Os(){}i=Os.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ka(){}ka.prototype.g=function(u,y){return new Yr(u,y)};function Yr(u,y){st.call(this),this.g=new be(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ta(this)}O(Yr,st),Yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yr.prototype.close=function(){Ee(this.g)},Yr.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new Vn(y.Ya++,u)),y.I==3&&Le(y)},Yr.prototype.N=function(){this.g.l=null,delete this.j,Ee(this.g),delete this.g,Yr.Z.N.call(this)};function So(u){rt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(So,rt);function Zo(){Ye.call(this),this.status=1}O(Zo,Ye);function Ta(u){this.g=u}O(Ta,Os),Ta.prototype.ra=function(){jt(this.g,"a")},Ta.prototype.qa=function(u){jt(this.g,new So(u))},Ta.prototype.pa=function(u){jt(this.g,new Zo)},Ta.prototype.oa=function(){jt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,Yr.prototype.send=Yr.prototype.o,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,Kb=function(){return new ka},Wb=function(){return In()},Qb=Fe,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Df=Pr,na.COMPLETE="complete",Xb=na,Ne.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",st.prototype.listen=st.prototype.J,Bu=Ne,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,Yb=It}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});const W0="@firebase/firestore",K0="4.9.2";class mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Jl="12.3.0";const Go=new hp("@firebase/firestore");function Rl(){return Go.logLevel}function at(i,...e){if(Go.logLevel<=Zt.DEBUG){const r=e.map(Tp);Go.debug(`Firestore (${Jl}): ${i}`,...r)}}function Rs(i,...e){if(Go.logLevel<=Zt.ERROR){const r=e.map(Tp);Go.error(`Firestore (${Jl}): ${i}`,...r)}}function Hl(i,...e){if(Go.logLevel<=Zt.WARN){const r=e.map(Tp);Go.warn(`Firestore (${Jl}): ${i}`,...r)}}function Tp(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function Tt(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,$b(i,a,r)}function $b(i,e,r){let a=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Rs(a),new Error(a)}function Tn(i,e,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||$b(e,l,a)}function Ot(i,e){return i}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends xs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class Jb{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(mi.UNAUTHENTICATED)))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Tn(this.o===void 0,42304);let a=this.i;const l=E=>this.i!==a?(a=this.i,r(E)):Promise.resolve();let c=new go;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new go,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new go)}}),0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Tn(typeof a.accessToken=="string",31837,{l:a}),new Jb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string",2055,{h:e}),new mi(e)}}class YC{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XC{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(mi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ga(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Tn(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Tn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new $0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=WC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<r&&(a+=e.charAt(l[c]%62))}return a}}function en(i,e){return i<e?-1:i>e?1:0}function Xm(i,e){const r=Math.min(i.length,e.length);for(let a=0;a<r;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return Rm(l)===Rm(c)?en(l,c):Rm(l)?1:-1}return en(i.length,e.length)}const KC=55296,$C=57343;function Rm(i){const e=i.charCodeAt(0);return e>=KC&&e<=$C}function ql(i,e,r){return i.length===e.length&&i.every(((a,l)=>r(a,e[l])))}const J0="__name__";class ja{constructor(e,r,a){r===void 0?r=0:r>e.length&&Tt(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&Tt(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const c=ja.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return en(e.length,r.length)}static compareSegments(e,r){const a=ja.isNumericId(e),l=ja.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?ja.extractNumericId(e).compare(ja.extractNumericId(r)):Xm(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class jn extends ja{construct(e,r,a){return new jn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new jn(r)}static emptyPath(){return new jn([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends ja{construct(e,r,a){return new Zr(e,r,a)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Zr([J0])}static fromServerFormat(e){const r=[];let a="",l=0;const c=()=>{if(a.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Ze(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new Ze(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new Ze(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(r)}static emptyPath(){return new Zr([])}}class vt{constructor(e){this.path=e}static fromPath(e){return new vt(jn.fromString(e))}static fromName(e){return new vt(jn.fromString(e).popFirst(5))}static empty(){return new vt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return jn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new jn(e.slice()))}}function Zb(i,e,r){if(!r)throw new Ze(Re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZC(i,e,r,a){if(e===!0&&a===!0)throw new Ze(Re.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Z0(i){if(!vt.isDocumentKey(i))throw new Ze(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function e_(i){if(vt.isDocumentKey(i))throw new Ze(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function e1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function uh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function Yf(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ze(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=uh(i);throw new Ze(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function eR(i,e){if(e<=0)throw new Ze(Re.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Er(i,e){const r={typeString:i};return e&&(r.value=e),r}function hc(i,e){if(!e1(i))throw new Ze(Re.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const p=i[a];if(l&&typeof p!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${a}' field to equal '${c.value}'`;break}}if(r)throw new Ze(Re.INVALID_ARGUMENT,r);return!0}const t_=-62135596800,n_=1e6;class Xn{static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*n_);return new Xn(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<t_)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,Xn._jsonSchema))return new Xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xn._jsonSchemaVersion="firestore/timestamp/1.0",Xn._jsonSchema={type:Er("string",Xn._jsonSchemaVersion),seconds:Er("number"),nanoseconds:Er("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Xn(0,0))}static max(){return new xt(new Xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ju=-1;function tR(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=xt.fromTimestamp(a===1e9?new Xn(r+1,0):new Xn(r,a));return new vo(l,vt.empty(),e)}function nR(i){return new vo(i.readTime,i.key,Ju)}class vo{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new vo(xt.min(),vt.empty(),Ju)}static max(){return new vo(xt.max(),vt.empty(),Ju)}}function rR(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,e.documentKey),r!==0?r:en(i.largestBatchId,e.largestBatchId))}const iR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zl(i){if(i.code!==Re.FAILED_PRECONDITION||i.message!==iR)throw i;at("LocalStore","Unexpectedly lost primary lease")}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new xe(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(a,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof xe?r:xe.resolve(r)}catch(r){return xe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):xe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):xe.reject(r)}static resolve(e){return new xe(((r,a)=>{r(e)}))}static reject(e){return new xe(((r,a)=>{a(e)}))}static waitFor(e){return new xe(((r,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(E=>a(E)))})),p=!0,c===l&&r()}))}static or(e){let r=xe.resolve(!1);for(const a of e)r=r.next((l=>l?xe.resolve(l):a()));return r}static forEach(e,r){const a=[];return e.forEach(((l,c)=>{a.push(r.call(this,l,c))})),this.waitFor(a)}static mapArray(e,r){return new xe(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;r(e[w]).next((N=>{p[w]=N,++b,b===c&&a(p)}),(N=>l(N)))}}))}static doWhile(e,r){return new xe(((a,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):a()};c()}))}}function sR(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function eu(i){return i.name==="IndexedDbTransactionError"}class ch{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;const Sp=-1;function fh(i){return i==null}function Xf(i){return i===0&&1/i==-1/0}function oR(i){return typeof i=="number"&&Number.isInteger(i)&&!Xf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const t1="";function lR(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=r_(e)),e=uR(i.get(r),e);return r_(e)}function uR(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case t1:r+="";break;default:r+=c}}return r}function r_(i){return i+t1+""}function i_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Xo(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function n1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ir{constructor(e,r){this.comparator=e,this.root=r||Jr.EMPTY}insert(e,r){return new ir(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?a(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,r,a,l,c){this.key=e,this.value=r,this.color=a??Jr.RED,this.left=l??Jr.EMPTY,this.right=c??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,c){return new Jr(e??this.key,r??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,a),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Jr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1;Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,r,a,l,c){return this}insert(e,r,a){return new Jr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Sr(this.comparator);return r.data=e,r}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xa{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new xa([])}unionWith(e){let r=new Sr(Zr.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new xa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new r1("Invalid base64 string: "+c):c}})(e);return new ei(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new ei(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const cR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(i){if(Tn(!!i,39018),typeof i=="string"){let e=0;const r=cR.exec(i);if(Tn(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fr(i.seconds),nanos:fr(i.nanos)}}function fr(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bo(i){return typeof i=="string"?ei.fromBase64String(i):ei.fromUint8Array(i)}const i1="server_timestamp",a1="__type__",s1="__previous_value__",o1="__local_write_time__";function Cp(i){return(i?.mapValue?.fields||{})[a1]?.stringValue===i1}function hh(i){const e=i.mapValue.fields[s1];return Cp(e)?hh(e):e}function Zu(i){const e=_o(i.mapValue.fields[o1].timestampValue);return new Xn(e.seconds,e.nanos)}class fR{constructor(e,r,a,l,c,p,b,E,w,N){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=N}}const Qf="(default)";class ec{constructor(e,r){this.projectId=e,this.database=r||Qf}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const l1="__type__",hR="__max__",wf={mapValue:{}},u1="__vector__",Wf="value";function Eo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cp(i)?4:mR(i)?9007199254740991:dR(i)?10:11:Tt(28295,{value:i})}function Qa(i,e){if(i===e)return!0;const r=Eo(i);if(r!==Eo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zu(i).isEqual(Zu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=_o(l.timestampValue),b=_o(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return bo(l.bytesValue).isEqual(bo(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return fr(l.geoPointValue.latitude)===fr(c.geoPointValue.latitude)&&fr(l.geoPointValue.longitude)===fr(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return fr(l.integerValue)===fr(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=fr(l.doubleValue),b=fr(c.doubleValue);return p===b?Xf(p)===Xf(b):isNaN(p)&&isNaN(b)}return!1})(i,e);case 9:return ql(i.arrayValue.values||[],e.arrayValue.values||[],Qa);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(i_(p)!==i_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!Qa(p[E],b[E])))return!1;return!0})(i,e);default:return Tt(52216,{left:i})}}function tc(i,e){return(i.values||[]).find((r=>Qa(r,e)))!==void 0}function Gl(i,e){if(i===e)return 0;const r=Eo(i),a=Eo(e);if(r!==a)return en(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return en(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=fr(c.integerValue||c.doubleValue),E=fr(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(i,e);case 3:return s_(i.timestampValue,e.timestampValue);case 4:return s_(Zu(i),Zu(e));case 5:return Xm(i.stringValue,e.stringValue);case 6:return(function(c,p){const b=bo(c),E=bo(p);return b.compareTo(E)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const N=en(b[w],E[w]);if(N!==0)return N}return en(b.length,E.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=en(fr(c.latitude),fr(p.latitude));return b!==0?b:en(fr(c.longitude),fr(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return o_(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[Wf]?.arrayValue,N=E[Wf]?.arrayValue,O=en(w?.values?.length||0,N?.values?.length||0);return O!==0?O:o_(w,N)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===wf.mapValue&&p===wf.mapValue)return 0;if(c===wf.mapValue)return 1;if(p===wf.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},N=Object.keys(w);E.sort(),N.sort();for(let O=0;O<E.length&&O<N.length;++O){const G=Xm(E[O],N[O]);if(G!==0)return G;const ie=Gl(b[E[O]],w[N[O]]);if(ie!==0)return ie}return en(E.length,N.length)})(i.mapValue,e.mapValue);default:throw Tt(23264,{he:r})}}function s_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return en(i,e);const r=_o(i),a=_o(e),l=en(r.seconds,a.seconds);return l!==0?l:en(r.nanos,a.nanos)}function o_(i,e){const r=i.values||[],a=e.values||[];for(let l=0;l<r.length&&l<a.length;++l){const c=Gl(r[l],a[l]);if(c)return c}return en(r.length,a.length)}function Yl(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=_o(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return bo(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return vt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const c of r.values||[])l?l=!1:a+=",",a+=Qm(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Qm(r.fields[p])}`;return l+"}"})(i.mapValue):Tt(61005,{value:i})}function Of(i){switch(Eo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(i);return e?16+Of(e):16;case 5:return 2*i.stringValue.length;case 6:return bo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Of(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Xo(a.fields,((c,p)=>{l+=c.length+Of(p)})),l})(i.mapValue);default:throw Tt(13486,{value:i})}}function l_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wm(i){return!!i&&"integerValue"in i}function Rp(i){return!!i&&"arrayValue"in i}function u_(i){return!!i&&"nullValue"in i}function c_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kf(i){return!!i&&"mapValue"in i}function dR(i){return(i?.mapValue?.fields||{})[l1]?.stringValue===u1}function Gu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Xo(i.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Gu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gu(i.arrayValue.values[r]);return e}return{...i}}function mR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hR}class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!kf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(r)}setAll(e){let r=Zr.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const E=this.getFieldsMap(r);this.applyChanges(E,a,l),a={},l=[],r=b.popLast()}p?a[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,a,l)}delete(e){const r=this.field(e.popLast());kf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Qa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];kf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){Xo(r,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new ya(Gu(this.value))}}function c1(i){const e=[];return Xo(i.fields,((r,a)=>{const l=new Zr([r]);if(kf(a)){const c=c1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new xa(e)}class pi{constructor(e,r,a,l,c,p,b){this.key=e,this.documentType=r,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new pi(e,0,xt.min(),xt.min(),xt.min(),ya.empty(),0)}static newFoundDocument(e,r,a,l){return new pi(e,1,r,xt.min(),a,l,0)}static newNoDocument(e,r){return new pi(e,2,r,xt.min(),xt.min(),ya.empty(),0)}static newUnknownDocument(e,r){return new pi(e,3,r,xt.min(),xt.min(),ya.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kf{constructor(e,r){this.position=e,this.inclusive=r}}function f_(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?a=vt.comparator(vt.fromName(p.referenceValue),r.key):a=Gl(p,r.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function h_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Qa(i.position[r],e.position[r]))return!1;return!0}class nc{constructor(e,r="asc"){this.field=e,this.dir=r}}function pR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class f1{}class br extends f1{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new yR(e,r,a):r==="array-contains"?new bR(e,a):r==="in"?new ER(e,a):r==="not-in"?new wR(e,a):r==="array-contains-any"?new TR(e,a):new br(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new vR(e,a):new _R(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Gl(r,this.value)):r!==null&&Eo(this.value)===Eo(r)&&this.matchesComparison(Gl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends f1{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Ma(e,r)}matches(e){return h1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h1(i){return i.op==="and"}function d1(i){return gR(i)&&h1(i)}function gR(i){for(const e of i.filters)if(e instanceof Ma)return!1;return!0}function Km(i){if(i instanceof br)return i.field.canonicalString()+i.op.toString()+Yl(i.value);if(d1(i))return i.filters.map((e=>Km(e))).join(",");{const e=i.filters.map((r=>Km(r))).join(",");return`${i.op}(${e})`}}function m1(i,e){return i instanceof br?(function(a,l){return l instanceof br&&a.op===l.op&&a.field.isEqual(l.field)&&Qa(a.value,l.value)})(i,e):i instanceof Ma?(function(a,l){return l instanceof Ma&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&m1(p,l.filters[b])),!0):!1})(i,e):void Tt(19439)}function p1(i){return i instanceof br?(function(r){return`${r.field.canonicalString()} ${r.op} ${Yl(r.value)}`})(i):i instanceof Ma?(function(r){return r.op.toString()+" {"+r.getFilters().map(p1).join(" ,")+"}"})(i):"Filter"}class yR extends br{constructor(e,r,a){super(e,r,a),this.key=vt.fromName(a.referenceValue)}matches(e){const r=vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class vR extends br{constructor(e,r){super(e,"in",r),this.keys=g1("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class _R extends br{constructor(e,r){super(e,"not-in",r),this.keys=g1("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function g1(i,e){return(e.arrayValue?.values||[]).map((r=>vt.fromName(r.referenceValue)))}class bR extends br{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Rp(r)&&tc(r.arrayValue,this.value)}}class ER extends br{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&tc(this.value.arrayValue,r)}}class wR extends br{constructor(e,r){super(e,"not-in",r)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!tc(this.value.arrayValue,r)}}class TR extends br{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Rp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>tc(this.value.arrayValue,a)))}}class AR{constructor(e,r=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function d_(i,e=null,r=[],a=[],l=null,c=null,p=null){return new AR(i,e,r,a,l,c,p)}function Ip(i){const e=Ot(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>Km(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Yl(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Yl(a))).join(",")),e.Te=r}return e.Te}function xp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!pR(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!m1(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!h_(i.startAt,e.startAt)&&h_(i.endAt,e.endAt)}function $m(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class tu{constructor(e,r=null,a=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SR(i,e,r,a,l,c,p,b){return new tu(i,e,r,a,l,c,p,b)}function y1(i){return new tu(i)}function m_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function v1(i){return i.collectionGroup!==null}function Yu(i){const e=Ot(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Sr(Zr.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nc(c,a))})),r.has(Zr.keyField().canonicalString())||e.Ie.push(new nc(Zr.keyField(),a))}return e.Ie}function qa(i){const e=Ot(i);return e.Ee||(e.Ee=CR(e,Yu(i))),e.Ee}function CR(i,e){if(i.limitType==="F")return d_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nc(l.field,c)}));const r=i.endAt?new Kf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Kf(i.startAt.position,i.startAt.inclusive):null;return d_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function Jm(i,e){const r=i.filters.concat([e]);return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function $f(i,e,r){return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function dh(i,e){return xp(qa(i),qa(e))&&i.limitType===e.limitType}function _1(i){return`${Ip(qa(i))}|lt:${i.limitType}`}function Il(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>p1(l))).join(", ")}]`),fh(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>Yl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>Yl(l))).join(",")),`Target(${a})`})(qa(i))}; limitType=${i.limitType})`}function mh(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):vt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of Yu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,E){const w=f_(p,b,E);return p.inclusive?w<=0:w<0})(a.startAt,Yu(a),l)||a.endAt&&!(function(p,b,E){const w=f_(p,b,E);return p.inclusive?w>=0:w>0})(a.endAt,Yu(a),l))})(i,e)}function RR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function b1(i){return(e,r)=>{let a=!1;for(const l of Yu(i)){const c=IR(l,e,r);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function IR(i,e,r){const a=i.field.isKeyField()?vt.comparator(e.key,r.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Gl(E,w):Tt(42886)})(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:i.dir})}}class Qo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((r,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const xR=new ir(vt.comparator);function Is(){return xR}const E1=new ir(vt.comparator);function ju(...i){let e=E1;for(const r of i)e=e.insert(r.key,r);return e}function w1(i){let e=E1;return i.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function jo(){return Xu()}function T1(){return Xu()}function Xu(){return new Qo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const MR=new ir(vt.comparator),NR=new Sr(vt.comparator);function tn(...i){let e=NR;for(const r of i)e=e.add(r);return e}const DR=new Sr(en);function OR(){return DR}function Mp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function A1(i){return{integerValue:""+i}}function kR(i,e){return oR(e)?A1(e):Mp(i,e)}class ph{constructor(){this._=void 0}}function VR(i,e,r){return i instanceof Jf?(function(l,c){const p={fields:{[a1]:{stringValue:i1},[o1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Cp(c)&&(c=hh(c)),c&&(p.fields[s1]=c),{mapValue:p}})(r,e):i instanceof rc?C1(i,e):i instanceof ic?R1(i,e):(function(l,c){const p=S1(l,c),b=p_(p)+p_(l.Ae);return Wm(p)&&Wm(l.Ae)?A1(b):Mp(l.serializer,b)})(i,e)}function PR(i,e,r){return i instanceof rc?C1(i,e):i instanceof ic?R1(i,e):r}function S1(i,e){return i instanceof Zf?(function(a){return Wm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Jf extends ph{}class rc extends ph{constructor(e){super(),this.elements=e}}function C1(i,e){const r=I1(e);for(const a of i.elements)r.some((l=>Qa(l,a)))||r.push(a);return{arrayValue:{values:r}}}class ic extends ph{constructor(e){super(),this.elements=e}}function R1(i,e){let r=I1(e);for(const a of i.elements)r=r.filter((l=>!Qa(l,a)));return{arrayValue:{values:r}}}class Zf extends ph{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function p_(i){return fr(i.integerValue||i.doubleValue)}function I1(i){return Rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function LR(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof rc&&l instanceof rc||a instanceof ic&&l instanceof ic?ql(a.elements,l.elements,Qa):a instanceof Zf&&l instanceof Zf?Qa(a.Ae,l.Ae):a instanceof Jf&&l instanceof Jf})(i.transform,e.transform)}class UR{constructor(e,r){this.version=e,this.transformResults=r}}class ws{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class gh{}function x1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new N1(i.key,ws.none()):new dc(i.key,i.data,ws.none());{const r=i.data,a=ya.empty();let l=new Sr(Zr.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Wo(i.key,a,new xa(l.toArray()),ws.none())}}function zR(i,e,r){i instanceof dc?(function(l,c,p){const b=l.value.clone(),E=y_(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(i,e,r):i instanceof Wo?(function(l,c,p){if(!Vf(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=y_(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(M1(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(i,e,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,r)}function Qu(i,e,r,a){return i instanceof dc?(function(c,p,b,E){if(!Vf(c.precondition,p))return b;const w=c.value.clone(),N=v_(c.fieldTransforms,E,p);return w.setAll(N),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(i,e,r,a):i instanceof Wo?(function(c,p,b,E){if(!Vf(c.precondition,p))return b;const w=v_(c.fieldTransforms,E,p),N=p.data;return N.setAll(M1(c)),N.setAll(w),p.convertToFoundDocument(p.version,N).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(i,e,r,a):(function(c,p,b){return Vf(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(i,e,r)}function BR(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=S1(a.transform,l||null);c!=null&&(r===null&&(r=ya.empty()),r.set(a.field,c))}return r||null}function g_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ql(a,l,((c,p)=>LR(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class dc extends gh{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wo extends gh{constructor(e,r,a,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function M1(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}})),e}function y_(i,e,r){const a=new Map;Tn(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,PR(p,b,r[l]))}return a}function v_(i,e,r){const a=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);a.set(l.field,VR(c,p,e))}return a}class N1 extends gh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends gh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FR{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zR(c,e,a[l])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Qu(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Qu(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=T1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const E=x1(p,b);E!==null&&a.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(xt.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),tn())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((r,a)=>g_(r,a)))&&ql(this.baseMutations,e.baseMutations,((r,a)=>g_(r,a)))}}class Np{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){Tn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return MR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Np(e,r,a,l)}}class HR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qR{constructor(e,r){this.count=e,this.unchangedNames=r}}var _r,sn;function GR(i){switch(i){case Re.OK:return Tt(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function D1(i){if(i===void 0)return Rs("GRPC error has no .code"),Re.UNKNOWN;switch(i){case _r.OK:return Re.OK;case _r.CANCELLED:return Re.CANCELLED;case _r.UNKNOWN:return Re.UNKNOWN;case _r.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case _r.INTERNAL:return Re.INTERNAL;case _r.UNAVAILABLE:return Re.UNAVAILABLE;case _r.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case _r.NOT_FOUND:return Re.NOT_FOUND;case _r.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case _r.ABORTED:return Re.ABORTED;case _r.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case _r.DATA_LOSS:return Re.DATA_LOSS;default:return Tt(39323,{code:i})}}(sn=_r||(_r={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";function YR(){return new TextEncoder}const XR=new po([4294967295,4294967295],0);function __(i){const e=YR().encode(i),r=new Gb;return r.update(e),new Uint8Array(r.digest())}function b_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new po([r,a],0),new po([l,c],0)]}class Dp{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Fu(`Invalid padding: ${r}`);if(a<0)throw new Fu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=po.fromNumber(this.ge)}ye(e,r,a){let l=e.add(r.multiply(po.fromNumber(a)));return l.compare(XR)===1&&(l=new po([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=__(e),[a,l]=b_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,r,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Dp(c,l,r);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const r=__(e),[a,l]=b_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(e,r,a,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const l=new Map;return l.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new yh(xt.min(),l,new ir(en),Is(),tn())}}class mc{constructor(e,r,a,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new mc(a,r,tn(),tn(),tn())}}class Pf{constructor(e,r,a,l){this.be=e,this.removedTargetIds=r,this.key=a,this.De=l}}class O1{constructor(e,r){this.targetId=e,this.Ce=r}}class k1{constructor(e,r,a=ei.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class E_{constructor(){this.ve=0,this.Fe=w_(),this.Me=ei.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tn(),r=tn(),a=tn();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Tt(38017,{changeType:c})}})),new mc(this.Me,this.xe,e,r,a)}qe(){this.Oe=!1,this.Fe=w_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Tf(),this.He=Tf(),this.Ye=new ir(en)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const a=this.nt(r);switch(e.state){case 0:this.rt(r)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(e.resumeToken));break;default:Tt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(e){const r=e.targetId,a=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if($m(c))if(a===0){const p=new vt(c.path);this.et(r,p,pi.newNoDocument(p,xt.min()))}else Tn(a===1,20013,{expectedCount:a});else{const p=this._t(r);if(p!==a){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(r);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,w)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=bo(a).toUint8Array()}catch(E){if(E instanceof r1)return Hl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new Dp(p,l,c)}catch(E){return Hl(E instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,r,a){return r.Ce.count===a-this.Pt(e,r.targetId)?0:2}Pt(e,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(e){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&$m(b.target)){const E=new vt(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,pi.newNoDocument(E,e))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let a=tn();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new yh(e,r,this.Ye,this.je,a);return this.je=Is(),this.Je=Tf(),this.He=Tf(),this.Ye=new ir(en),l}Xe(e,r){if(!this.rt(e))return;const a=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),a&&(this.je=this.je.insert(r,a))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new E_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Sr(en),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Sr(en),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||at("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Tf(){return new ir(vt.comparator)}function w_(){return new ir(vt.comparator)}const WR={asc:"ASCENDING",desc:"DESCENDING"},KR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class JR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Zm(i,e){return i.useProto3Json||fh(e)?e:{value:e}}function eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(i,e){return eh(i,e.toTimestamp())}function Ga(i){return Tn(!!i,49232),xt.fromTimestamp((function(r){const a=_o(r);return new Xn(a.seconds,a.nanos)})(i))}function Op(i,e){return ep(i,e).canonicalString()}function ep(i,e){const r=(function(l){return new jn(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function P1(i){const e=jn.fromString(i);return Tn(j1(e),10190,{key:e.toString()}),e}function tp(i,e){return Op(i.databaseId,e.path)}function Im(i,e){const r=P1(e);if(r.get(1)!==i.databaseId.projectId)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ze(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(U1(r))}function L1(i,e){return Op(i.databaseId,e)}function eI(i){const e=P1(i);return e.length===4?jn.emptyPath():U1(e)}function np(i){return new jn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function U1(i){return Tn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function T_(i,e,r){return{name:tp(i,e),fields:r.value.mapValue.fields}}function tI(i,e){let r;if("targetChange"in e){e.targetChange;const a=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Tt(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,N){return w.useProto3Json?(Tn(N===void 0||typeof N=="string",58123),ei.fromBase64String(N||"")):(Tn(N===void 0||N instanceof Buffer||N instanceof Uint8Array,16193),ei.fromUint8Array(N||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const N=w.code===void 0?Re.UNKNOWN:D1(w.code);return new Ze(N,w.message||"")})(p);r=new k1(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Im(i,a.document.name),c=Ga(a.document.updateTime),p=a.document.createTime?Ga(a.document.createTime):xt.min(),b=new ya({mapValue:{fields:a.document.fields}}),E=pi.newFoundDocument(l,c,p,b),w=a.targetIds||[],N=a.removedTargetIds||[];r=new Pf(w,N,E.key,E)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Im(i,a.document),c=a.readTime?Ga(a.readTime):xt.min(),p=pi.newNoDocument(l,c),b=a.removedTargetIds||[];r=new Pf([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Im(i,a.document),c=a.removedTargetIds||[];r=new Pf([],c,l,null)}else{if(!("filter"in e))return Tt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new qR(l,c),b=a.targetId;r=new O1(b,p)}}return r}function nI(i,e){let r;if(e instanceof dc)r={update:T_(i,e.key,e.value)};else if(e instanceof N1)r={delete:tp(i,e.key)};else if(e instanceof Wo)r={update:T_(i,e.key,e.data),updateMask:fI(e.fieldMask)};else{if(!(e instanceof jR))return Tt(16599,{Vt:e.type});r={verify:tp(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof Jf)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof rc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ic)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Zf)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Tt(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:ZR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(i,e.precondition)),r}function rI(i,e){return i&&i.length>0?(Tn(e!==void 0,14353),i.map((r=>(function(l,c){let p=l.updateTime?Ga(l.updateTime):Ga(c);return p.isEqual(xt.min())&&(p=Ga(c)),new UR(p,l.transformResults||[])})(r,e)))):[]}function iI(i,e){return{documents:[L1(i,e.path)]}}function aI(i,e){const r={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=L1(i,l);const c=(function(w){if(w.length!==0)return B1(Ma.create(w,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((N=>(function(G){return{field:xl(G.field),direction:lI(G.dir)}})(N)))})(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=Zm(i,e.limit);return b!==null&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:r,parent:l}}function sI(i){let e=eI(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Tn(a===1,65062);const N=r.from[0];N.allDescendants?l=N.collectionId:e=e.child(N.collectionId)}let c=[];r.where&&(c=(function(O){const G=z1(O);return G instanceof Ma&&d1(G)?G.getFilters():[G]})(r.where));let p=[];r.orderBy&&(p=(function(O){return O.map((G=>(function(B){return new nc(Ml(B.field),(function(Se){switch(Se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(G)))})(r.orderBy));let b=null;r.limit&&(b=(function(O){let G;return G=typeof O=="object"?O.value:O,fh(G)?null:G})(r.limit));let E=null;r.startAt&&(E=(function(O){const G=!!O.before,ie=O.values||[];return new Kf(ie,G)})(r.startAt));let w=null;return r.endAt&&(w=(function(O){const G=!O.before,ie=O.values||[];return new Kf(ie,G)})(r.endAt)),SR(e,l,p,c,b,"F",E,w)}function oI(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function z1(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ml(r.unaryFilter.field);return br.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(r.unaryFilter.field);return br.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(r.unaryFilter.field);return br.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(r.unaryFilter.field);return br.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return br.create(Ml(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Ma.create(r.compositeFilter.filters.map((a=>z1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(r.compositeFilter.op))})(i):Tt(30097,{filter:i})}function lI(i){return WR[i]}function uI(i){return KR[i]}function cI(i){return $R[i]}function xl(i){return{fieldPath:i.canonicalString()}}function Ml(i){return Zr.fromServerFormat(i.fieldPath)}function B1(i){return i instanceof br?(function(r){if(r.op==="=="){if(c_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NAN"}};if(u_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(c_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NOT_NAN"}};if(u_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(r.field),op:uI(r.op),value:r.value}}})(i):i instanceof Ma?(function(r){const a=r.getFilters().map((l=>B1(l)));return a.length===1?a[0]:{compositeFilter:{op:cI(r.op),filters:a}}})(i):Tt(54877,{filter:i})}function fI(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function j1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class co{constructor(e,r,a,l,c=xt.min(),p=xt.min(),b=ei.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hI{constructor(e){this.yt=e}}function dI(i){const e=sI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$f(e,e.limit,"L"):e}class mI{constructor(){this.Cn=new pI}addToCollectionParentIndex(e,r){return this.Cn.add(r),xe.resolve()}getCollectionParents(e,r){return xe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return xe.resolve()}deleteFieldIndex(e,r){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,r){return xe.resolve()}getDocumentsMatchingTarget(e,r){return xe.resolve(null)}getIndexType(e,r){return xe.resolve(0)}getFieldIndexes(e,r){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,r){return xe.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,r){return xe.resolve(vo.min())}updateCollectionGroup(e,r,a){return xe.resolve()}updateIndexEntries(e,r){return xe.resolve()}}class pI{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new Sr(jn.comparator),c=!l.has(a);return this.index[r]=l.add(a),c}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Sr(jn.comparator)).toArray()}}const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F1=41943040;class Hi{static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(F1,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class Xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xl(0)}static cr(){return new Xl(-1)}}const S_="LruGarbageCollector",gI=1048576;function C_([i,e],[r,a]){const l=en(i,r);return l===0?en(e,a):l}class yI{constructor(e){this.Ir=e,this.buffer=new Sr(C_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();C_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vI{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(S_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){eu(r)?at(S_,"Ignoring IndexedDB error during garbage collection: ",r):await Zl(r)}await this.Vr(3e5)}))}}class _I{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return xe.resolve(ch.ce);const a=new yI(r);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.mr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(A_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let a,l,c,p,b,E,w;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(a=O,b=Date.now(),this.removeTargets(e,a,r)))).next((O=>(c=O,E=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(w=Date.now(),Rl()<=Zt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-N}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${O} documents in `+(w-E)+`ms
Total Duration: ${w-N}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function bI(i,e){return new _I(i,e)}class EI{constructor(){this.changes=new Qo((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?xe.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class TI{constructor(e,r,a,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(a!==null&&Qu(a.mutation,l,xa.empty(),Xn.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,tn()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=tn()){const l=jo();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,a).next((c=>{let p=ju();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,r){const a=jo();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,tn())))}populateOverlays(e,r,a){const l=[];return a.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(e,r,a,l){let c=Is();const p=Xu(),b=(function(){return Xu()})();return r.forEach(((E,w)=>{const N=a.get(w.key);l.has(w.key)&&(N===void 0||N.mutation instanceof Wo)?c=c.insert(w.key,w):N!==void 0?(p.set(w.key,N.mutation.getFieldMask()),Qu(N.mutation,w,N.mutation.getFieldMask(),Xn.now())):p.set(w.key,xa.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,N)=>p.set(w,N))),r.forEach(((w,N)=>b.set(w,new wI(N,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,r){const a=Xu();let l=new ir(((p,b)=>p-b)),c=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=r.get(E);if(w===null)return;let N=a.get(E)||xa.empty();N=b.applyToLocalView(w,N),a.set(E,N);const O=(l.get(b.batchId)||tn()).add(E);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,N=E.value,O=T1();N.forEach((G=>{if(!c.has(G)){const ie=x1(r.get(G),a.get(G));ie!==null&&O.set(G,ie),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,O))}return xe.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,l){return(function(p){return vt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):v1(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,l):this.getDocumentsMatchingCollectionQuery(e,r,a,l)}getNextDocuments(e,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,l-c.size):xe.resolve(jo());let b=Ju,E=c;return p.next((w=>xe.forEach(w,((N,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(N)?xe.resolve():this.remoteDocumentCache.getEntry(e,N).next((G=>{E=E.insert(N,G)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,tn()))).next((N=>({batchId:b,changes:w1(N)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new vt(r)).next((a=>{let l=ju();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,l){const c=r.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>xe.forEach(b,(E=>{const w=(function(O,G){return new tu(G,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,a,l).next((N=>{N.forEach(((O,G)=>{p=p.insert(O,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,r,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,c,l)))).next((p=>{c.forEach(((E,w)=>{const N=w.getKey();p.get(N)===null&&(p=p.insert(N,pi.newInvalidDocument(N)))}));let b=ju();return p.forEach(((E,w)=>{const N=c.get(E);N!==void 0&&Qu(N.mutation,w,xa.empty(),Xn.now()),mh(r,w)&&(b=b.insert(E,w))})),b}))}}class AI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return xe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:Ga(l.createTime)}})(r)),xe.resolve()}getNamedQuery(e,r){return xe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:dI(l.bundledQuery),readTime:Ga(l.readTime)}})(r)),xe.resolve()}}class SI{constructor(){this.overlays=new ir(vt.comparator),this.qr=new Map}getOverlay(e,r){return xe.resolve(this.overlays.get(r))}getOverlays(e,r){const a=jo();return xe.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((l,c)=>{this.St(e,r,c)})),xe.resolve()}removeOverlaysForBatchId(e,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),xe.resolve()}getOverlaysForCollection(e,r,a){const l=jo(),c=r.length+1,p=new vt(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!r.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>a&&l.set(E.getKey(),E)}return xe.resolve(l)}getOverlaysForCollectionGroup(e,r,a,l){let c=new ir(((w,N)=>w-N));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===r&&w.largestBatchId>a){let N=c.get(w.largestBatchId);N===null&&(N=jo(),c=c.insert(w.largestBatchId,N)),N.set(w.getKey(),w)}}const b=jo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,N)=>b.set(w,N))),!(b.size()>=l)););return xe.resolve(b)}St(e,r,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new HR(r,a));let c=this.qr.get(r);c===void 0&&(c=tn(),this.qr.set(r,c)),this.qr.set(r,c.add(a.key))}}class CI{constructor(){this.sessionToken=ei.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,xe.resolve()}}class kp{constructor(){this.Qr=new Sr(Or.$r),this.Ur=new Sr(Or.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const a=new Or(e,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Gr(new Or(e,r))}zr(e,r){e.forEach((a=>this.removeReference(a,r)))}jr(e){const r=new vt(new jn([])),a=new Or(r,e),l=new Or(r,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new vt(new jn([])),a=new Or(r,e),l=new Or(r,e+1);let c=tn();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const r=new Or(e,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Or{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return vt.comparator(e.key,r.key)||en(e.Yr,r.Yr)}static Kr(e,r){return en(e.Yr,r.Yr)||vt.comparator(e.key,r.key)}}class RI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Sr(Or.$r)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new FR(c,r,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Or(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return xe.resolve(p)}lookupMutationBatch(e,r){return xe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=this.ei(a),c=l<0?0:l;return xe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?Sp:this.tr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Or(r,0),l=new Or(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Sr(en);return r.forEach((l=>{const c=new Or(l,0),p=new Or(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),xe.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let c=a;vt.isDocumentKey(c)||(c=c.child(""));const p=new Or(new vt(c),0);let b=new Sr(en);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!a.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),xe.resolve(this.ti(b))}ti(e){const r=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){Tn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return xe.forEach(r.mutations,(l=>{const c=new Or(l.key,r.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,r){const a=new Or(r,0),l=this.Zr.firstAfterOrEqual(a);return xe.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class II{constructor(e){this.ri=e,this.docs=(function(){return new ir(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return xe.resolve(a?a.document.mutableCopy():pi.newInvalidDocument(r))}getEntries(e,r){let a=Is();return r.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():pi.newInvalidDocument(l))})),xe.resolve(a)}getDocumentsMatchingQuery(e,r,a,l){let c=Is();const p=r.path,b=new vt(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:N}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||rR(nR(N),a)<=0||(l.has(N.key)||mh(r,N))&&(c=c.insert(N.key,N.mutableCopy()))}return xe.resolve(c)}getAllFromCollectionGroup(e,r,a,l){Tt(9500)}ii(e,r){return xe.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new xI(this)}getSize(e){return xe.resolve(this.size)}}class xI extends EI{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),xe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class MI{constructor(e){this.persistence=e,this.si=new Qo((r=>Ip(r)),xp),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=Xl.ur()}forEachTarget(e,r){return this.si.forEach(((a,l)=>r(l))),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),xe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Xl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,xe.resolve()}updateTargetData(e,r){return this.Pr(r),xe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,r,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),xe.waitFor(c).next((()=>l))}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,r){const a=this.si.get(r)||null;return xe.resolve(a)}addMatchingKeys(e,r,a){return this._i.Wr(r,a),xe.resolve()}removeMatchingKeys(e,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),xe.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),xe.resolve()}getMatchingKeysForTargetId(e,r){const a=this._i.Hr(r);return xe.resolve(a)}containsKey(e,r){return xe.resolve(this._i.containsKey(r))}}class H1{constructor(e,r){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new CI,this.referenceDelegate=e(this),this.Pi=new MI(this),this.indexManager=new mI,this.remoteDocumentCache=(function(l){return new II(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new hI(r),this.Ii=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new SI,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ui[e.toKey()];return a||(a=new RI(r,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,a){at("MemoryPersistence","Starting transaction:",e);const l=new NI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,r){return xe.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,r))))}}class NI extends aR{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(e,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),xe.resolve()}removeReference(e,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),xe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),xe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.fi,(a=>{const l=vt.fromPath(a);return this.gi(e,l).next((c=>{c||r.removeEntry(l,xt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return xe.or([()=>xe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class th{constructor(e,r){this.persistence=e,this.pi=new Qo((a=>lR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=bI(this,r)}static mi(e,r){return new th(e,r)}Ei(){}di(e){return xe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((l=>a+l))))}wr(e){let r=0;return this.pr(e,(a=>{r++})).next((()=>r))}pr(e,r){return xe.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?xe.resolve():r(l)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,r).next((b=>{b||(a++,c.removeEntry(p,xt.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),xe.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),xe.resolve()}removeReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),xe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Of(e.data.value)),r}br(e,r,a){return xe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return xe.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pp{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Es=a,this.ds=l}static As(e,r){let a=tn(),l=tn();for(const c of r.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Pp(e,r.fromCache,a,l)}}class DI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EA()?8:sR(gi())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,a,l){const c={result:null};return this.ys(e,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,r,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new DI;return this.Ss(e,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,r,p,b.size)}))})).next((()=>c.result))}bs(e,r,a,l){return a.documentReadCount<this.fs?(Rl()<=Zt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Il(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),xe.resolve()):(Rl()<=Zt.DEBUG&&at("QueryEngine","Query:",Il(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Rl()<=Zt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Il(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qa(r))):xe.resolve())}ys(e,r){if(m_(r))return xe.resolve(null);let a=qa(r);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=$f(r,null,"F"),a=qa(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=tn(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((E=>{const w=this.Ds(r,b);return this.Cs(r,w,p,E.readTime)?this.ys(e,$f(r,null,"F")):this.vs(e,w,r,E)}))))})))))}ws(e,r,a,l){return m_(r)||l.isEqual(xt.min())?xe.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,a,l)?xe.resolve(null):(Rl()<=Zt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(r)),this.vs(e,p,r,tR(l,Ju)).next((b=>b)))}))}Ds(e,r){let a=new Sr(b1(e));return r.forEach(((l,c)=>{mh(e,c)&&(a=a.add(c))})),a}Cs(e,r,a,l){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,a){return Rl()<=Zt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Il(r)),this.ps.getDocumentsMatchingQuery(e,r,vo.min(),a)}vs(e,r,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Lp="LocalStore",kI=3e8;class VI{constructor(e,r,a,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new ir(en),this.xs=new Qo((c=>Ip(c)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function PI(i,e,r,a){return new VI(i,e,r,a)}async function q1(i,e){const r=Ot(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let E=tn();for(const w of l){p.push(w.batchId);for(const N of w.mutations)E=E.add(N.key)}for(const w of c){b.push(w.batchId);for(const N of w.mutations)E=E.add(N.key)}return r.localDocuments.getDocuments(a,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function LI(i,e){const r=Ot(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,N){const O=w.batch,G=O.keys();let ie=xe.resolve();return G.forEach((B=>{ie=ie.next((()=>N.getEntry(E,B))).next((ke=>{const Se=w.docVersions.get(B);Tn(Se!==null,48541),ke.version.compareTo(Se)<0&&(O.applyToRemoteDocument(ke,w),ke.isValidDocument()&&(ke.setReadTime(w.commitVersion),N.addEntry(ke)))}))})),ie.next((()=>b.mutationQueue.removeMutationBatch(E,O)))})(r,a,e,c).next((()=>c.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let E=tn();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function G1(i){const e=Ot(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function UI(i,e){const r=Ot(i),a=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];e.targetChanges.forEach(((N,O)=>{const G=l.get(O);if(!G)return;b.push(r.Pi.removeMatchingKeys(c,N.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(c,N.addedDocuments,O))));let ie=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?ie=ie.withResumeToken(ei.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):N.resumeToken.approximateByteSize()>0&&(ie=ie.withResumeToken(N.resumeToken,a)),l=l.insert(O,ie),(function(ke,Se,je){return ke.resumeToken.approximateByteSize()===0||Se.snapshotVersion.toMicroseconds()-ke.snapshotVersion.toMicroseconds()>=kI?!0:je.addedDocuments.size+je.modifiedDocuments.size+je.removedDocuments.size>0})(G,ie,N)&&b.push(r.Pi.updateTargetData(c,ie))}));let E=Is(),w=tn();if(e.documentUpdates.forEach((N=>{e.resolvedLimboDocuments.has(N)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,N))})),b.push(zI(c,p,e.documentUpdates).next((N=>{E=N.ks,w=N.qs}))),!a.isEqual(xt.min())){const N=r.Pi.getLastRemoteSnapshotVersion(c).next((O=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(N)}return xe.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(r.Ms=l,c)))}function zI(i,e,r){let a=tn(),l=tn();return r.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let p=Is();return r.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(xt.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):at(Lp,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function BI(i,e){const r=Ot(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Sp),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jI(i,e){const r=Ot(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,e).next((c=>c?(l=c,xe.resolve(l)):r.Pi.allocateTargetId(a).next((p=>(l=new co(e,p,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(e,a.targetId)),a}))}async function rp(i,e,r){const a=Ot(i),l=a.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!eu(p))throw p;at(Lp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function R_(i,e,r){const a=Ot(i);let l=xt.min(),c=tn();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,N){const O=Ot(E),G=O.xs.get(N);return G!==void 0?xe.resolve(O.Ms.get(G)):O.Pi.getTargetData(w,N)})(a,p,qa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,r?l:xt.min(),r?c:tn()))).next((b=>(FI(a,RR(e),b),{documents:b,Qs:c})))))}function FI(i,e,r){let a=i.Os.get(e)||xt.min();r.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class I_{constructor(){this.activeTargetIds=OR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.Mo=new I_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,a){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new I_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qI{Oo(e){}shutdown(){}}const x_="ConnectivityMonitor";class M_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(x_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Af=null;function ip(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}const xm="RestConnection",GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,r,a,l,c){const p=ip(),b=this.zo(e,r.toUriEncodedString());at(xm,`Sending RPC '${e}' ${p}:`,b,a);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),N=Wl(w);return this.Jo(e,b,E,a,N).then((O=>(at(xm,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw Hl(xm,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",a),O}))}Ho(e,r,a,l,c,p){return this.Go(e,r,a,l,c)}jo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,r){const a=GI[e];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}class XI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const di="WebChannelConnection";class QI extends YI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,a,l,c){const p=ip();return new Promise(((b,E)=>{const w=new Yb;w.setWithCredentials(!0),w.listenOnce(Xb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case Df.NO_ERROR:const O=w.getResponseJson();at(di,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case Df.TIMEOUT:at(di,`RPC '${e}' ${p} timed out`),E(new Ze(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const G=w.getStatus();if(at(di,`RPC '${e}' ${p} failed with status:`,G,"response text:",w.getResponseText()),G>0){let ie=w.getResponseJson();Array.isArray(ie)&&(ie=ie[0]);const B=ie?.error;if(B&&B.status&&B.message){const ke=(function(je){const j=je.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(j)>=0?j:Re.UNKNOWN})(B.status);E(new Ze(ke,B.message))}else E(new Ze(Re.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new Ze(Re.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{at(di,`RPC '${e}' ${p} completed.`)}}));const N=JSON.stringify(l);at(di,`RPC '${e}' ${p} sending request:`,l),w.send(r,"POST",N,a,15)}))}T_(e,r,a){const l=ip(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Kb(),b=Wb(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,r,a),E.encodeInitMessageHeaders=!0;const N=c.join("");at(di,`Creating RPC '${e}' stream ${l}: ${N}`,E);const O=p.createWebChannel(N,E);this.I_(O);let G=!1,ie=!1;const B=new XI({Yo:Se=>{ie?at(di,`Not sending because RPC '${e}' stream ${l} is closed:`,Se):(G||(at(di,`Opening RPC '${e}' stream ${l} transport.`),O.open(),G=!0),at(di,`RPC '${e}' stream ${l} sending:`,Se),O.send(Se))},Zo:()=>O.close()}),ke=(Se,je,j)=>{Se.listen(je,(Pe=>{try{j(Pe)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return ke(O,Bu.EventType.OPEN,(()=>{ie||(at(di,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),ke(O,Bu.EventType.CLOSE,(()=>{ie||(ie=!0,at(di,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(O))})),ke(O,Bu.EventType.ERROR,(Se=>{ie||(ie=!0,Hl(di,`RPC '${e}' stream ${l} transport errored. Name:`,Se.name,"Message:",Se.message),B.a_(new Ze(Re.UNAVAILABLE,"The operation could not be completed")))})),ke(O,Bu.EventType.MESSAGE,(Se=>{if(!ie){const je=Se.data[0];Tn(!!je,16349);const j=je,Pe=j?.error||j[0]?.error;if(Pe){at(di,`RPC '${e}' stream ${l} received error:`,Pe);const tt=Pe.status;let nt=(function(F){const P=_r[F];if(P!==void 0)return D1(P)})(tt),lt=Pe.message;nt===void 0&&(nt=Re.INTERNAL,lt="Unknown error status: "+tt+" with message "+Pe.message),ie=!0,B.a_(new Ze(nt,lt)),O.close()}else at(di,`RPC '${e}' stream ${l} received:`,je),B.u_(je)}})),ke(b,Qb.STAT_EVENT,(Se=>{Se.stat===Ym.PROXY?at(di,`RPC '${e}' stream ${l} detected buffering proxy`):Se.stat===Ym.NOPROXY&&at(di,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Mm(){return typeof document<"u"?document:null}function vh(i){return new JR(i,!0)}class Y1{constructor(e,r,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const N_="PersistentStream";class X1{constructor(e,r,a,l,c,p,b,E){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(Rs(r.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{e((()=>{const l=new Ze(Re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,r){const a=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(at(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WI extends X1{constructor(e,r,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=tI(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?xt.min():p.readTime?Ga(p.readTime):xt.min()})(e);return this.listener.H_(r,a)}Y_(e){const r={};r.database=np(this.serializer),r.addTarget=(function(c,p){let b;const E=p.target;if(b=$m(E)?{documents:iI(c,E)}:{query:aI(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=V1(c,p.resumeToken);const w=Zm(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(xt.min())>0){b.readTime=eh(c,p.snapshotVersion.toTimestamp());const w=Zm(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const a=oI(this.serializer,e);a&&(r.labels=a),this.q_(r)}Z_(e){const r={};r.database=np(this.serializer),r.removeTarget=e,this.q_(r)}}class KI extends X1{constructor(e,r,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=rI(e.writeResults,e.commitTime),a=Ga(e.commitTime);return this.listener.na(a,r)}ra(){const e={};e.database=np(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>nI(this.serializer,a)))};this.q_(r)}}class $I{}class JI extends $I{constructor(e,r,a,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,ep(r,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Re.UNKNOWN,c.toString())}))}Ho(e,r,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,ep(r,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ze(Re.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(r),this.aa=!1):at("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class ex{constructor(e,r,a,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Ko(this)&&(at(Yo,"Restarting streams for network reachability change."),await(async function(E){const w=Ot(E);w.Ea.add(4),await pc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await _h(w)})(this))}))})),this.Ra=new ZI(a,l)}}async function _h(i){if(Ko(i))for(const e of i.da)await e(!0)}async function pc(i){for(const e of i.da)await e(!1)}function Q1(i,e){const r=Ot(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),jp(r)?Bp(r):nu(r).O_()&&zp(r,e))}function Up(i,e){const r=Ot(i),a=nu(r);r.Ia.delete(e),a.O_()&&W1(r,e),r.Ia.size===0&&(a.O_()?a.L_():Ko(r)&&r.Ra.set("Unknown"))}function zp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}nu(i).Y_(e)}function W1(i,e){i.Va.Ue(e),nu(i).Z_(e)}function Bp(i){i.Va=new QR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),nu(i).start(),i.Ra.ua()}function jp(i){return Ko(i)&&!nu(i).x_()&&i.Ia.size>0}function Ko(i){return Ot(i).Ea.size===0}function K1(i){i.Va=void 0}async function tx(i){i.Ra.set("Online")}async function nx(i){i.Ia.forEach(((e,r)=>{zp(i,e)}))}async function rx(i,e){K1(i),jp(i)?(i.Ra.ha(e),Bp(i)):i.Ra.set("Unknown")}async function ix(i,e,r){if(i.Ra.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(i,e)}catch(a){at(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nh(i,a)}else if(e instanceof Pf?i.Va.Ze(e):e instanceof O1?i.Va.st(e):i.Va.tt(e),!r.isEqual(xt.min()))try{const a=await G1(i.localStore);r.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const N=c.Ia.get(w);N&&c.Ia.set(w,N.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const N=c.Ia.get(E);if(!N)return;c.Ia.set(E,N.withResumeToken(ei.EMPTY_BYTE_STRING,N.snapshotVersion)),W1(c,E);const O=new co(N.target,E,w,N.sequenceNumber);zp(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(i,r)}catch(a){at(Yo,"Failed to raise snapshot:",a),await nh(i,a)}}async function nh(i,e,r){if(!eu(e))throw e;i.Ea.add(1),await pc(i),i.Ra.set("Offline"),r||(r=()=>G1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{at(Yo,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await _h(i)}))}function $1(i,e){return e().catch((r=>nh(i,r,e)))}async function bh(i){const e=Ot(i),r=wo(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;ax(e);)try{const l=await BI(e.localStore,a);if(l===null){e.Ta.length===0&&r.L_();break}a=l.batchId,sx(e,l)}catch(l){await nh(e,l)}J1(e)&&Z1(e)}function ax(i){return Ko(i)&&i.Ta.length<10}function sx(i,e){i.Ta.push(e);const r=wo(i);r.O_()&&r.X_&&r.ea(e.mutations)}function J1(i){return Ko(i)&&!wo(i).x_()&&i.Ta.length>0}function Z1(i){wo(i).start()}async function ox(i){wo(i).ra()}async function lx(i){const e=wo(i);for(const r of i.Ta)e.ea(r.mutations)}async function ux(i,e,r){const a=i.Ta.shift(),l=Np.from(a,e,r);await $1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await bh(i)}async function cx(i,e){e&&wo(i).X_&&await(async function(a,l){if((function(p){return GR(p)&&p!==Re.ABORTED})(l.code)){const c=a.Ta.shift();wo(a).B_(),await $1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(i,e),J1(i)&&Z1(i)}async function D_(i,e){const r=Ot(i);r.asyncQueue.verifyOperationInProgress(),at(Yo,"RemoteStore received new credentials");const a=Ko(r);r.Ea.add(3),await pc(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await _h(r)}async function fx(i,e){const r=Ot(i);e?(r.Ea.delete(2),await _h(r)):e||(r.Ea.add(2),await pc(r),r.Ra.set("Unknown"))}function nu(i){return i.ma||(i.ma=(function(r,a,l){const c=Ot(r);return c.sa(),new WI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:tx.bind(null,i),t_:nx.bind(null,i),r_:rx.bind(null,i),H_:ix.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),jp(i)?Bp(i):i.Ra.set("Unknown")):(await i.ma.stop(),K1(i))}))),i.ma}function wo(i){return i.fa||(i.fa=(function(r,a,l){const c=Ot(r);return c.sa(),new KI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:ox.bind(null,i),r_:cx.bind(null,i),ta:lx.bind(null,i),na:ux.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await bh(i)):(await i.fa.stop(),i.Ta.length>0&&(at(Yo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Fp{constructor(e,r,a,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,l,c){const p=Date.now()+a,b=new Fp(e,r,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(i,e){if(Rs("AsyncQueue",`${e}: ${i}`),eu(i))return new Ze(Re.UNAVAILABLE,`${e}: ${i}`);throw i}class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=ju(),this.sortedSet=new ir(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class O_{constructor(){this.ga=new ir(vt.comparator)}track(e){const r=e.doc.key,a=this.ga.get(r);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(r,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(r):e.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Tt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,a)=>{e.push(a)})),e}}class Ql{constructor(e,r,a,l,c,p,b,E,w){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,r,a,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new Ql(e,r,zl.emptySet(r),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class hx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dx{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=Ot(r),c=l.queries;l.queries=k_(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(a)}))})(this,new Ze(Re.ABORTED,"Firestore shutting down"))}}function k_(){return new Qo((i=>_1(i)),dh)}async function mx(i,e){const r=Ot(i);let a=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new hx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=Hp(p,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&qp(r)}async function px(i,e){const r=Ot(i),a=e.query;let l=3;const c=r.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function gx(i,e){const r=Ot(i);let a=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&qp(r)}function yx(i,e,r){const a=Ot(i),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);a.queries.delete(e)}function qp(i){i.Ca.forEach((e=>{e.next()}))}var ap,V_;(V_=ap||(ap={})).Ma="default",V_.Cache="cache";class vx{constructor(e,r,a){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Ql(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}class eE{constructor(e){this.key=e}}class tE{constructor(e){this.key=e}}class _x{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tn(),this.mutatedKeys=tn(),this.eu=b1(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,r){const a=r?r.iu:new O_,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((N,O)=>{const G=l.get(N),ie=mh(this.query,O)?O:null,B=!!G&&this.mutatedKeys.has(G.key),ke=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let Se=!1;G&&ie?G.data.isEqual(ie.data)?B!==ke&&(a.track({type:3,doc:ie}),Se=!0):this.su(G,ie)||(a.track({type:2,doc:ie}),Se=!0,(E&&this.eu(ie,E)>0||w&&this.eu(ie,w)<0)&&(b=!0)):!G&&ie?(a.track({type:0,doc:ie}),Se=!0):G&&!ie&&(a.track({type:1,doc:G}),Se=!0,(E||w)&&(b=!0)),Se&&(ie?(p=p.add(ie),c=ke?c.add(N):c.delete(N)):(p=p.delete(N),c=c.delete(N)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const N=this.query.limitType==="F"?p.last():p.first();p=p.delete(N.key),c=c.delete(N.key),a.track({type:1,doc:N})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((N,O)=>(function(ie,B){const ke=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Se})}};return ke(ie)-ke(B)})(N.type,O.type)||this.eu(N.doc,O.doc))),this.ou(a),l=l??!1;const b=r&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Ql(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tn(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return e.forEach((a=>{this.Xa.has(a)||r.push(new tE(a))})),this.Xa.forEach((a=>{e.has(a)||r.push(new eE(a))})),r}cu(e){this.Ya=e.Qs,this.Xa=tn();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gp="SyncEngine";class bx{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class Ex{constructor(e){this.key=e,this.hu=!1}}class wx{constructor(e,r,a,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Qo((b=>_1(b)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new ir(vt.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=Xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tx(i,e,r=!0){const a=oE(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nE(a,e,r,!0),l}async function Ax(i,e){const r=oE(i);await nE(r,e,!0,!1)}async function nE(i,e,r,a){const l=await jI(i.localStore,qa(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let b;return a&&(b=await Sx(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&Q1(i.remoteStore,l),b}async function Sx(i,e,r,a,l){i.pu=(O,G,ie)=>(async function(ke,Se,je,j){let Pe=Se.view.ru(je);Pe.Cs&&(Pe=await R_(ke.localStore,Se.query,!1).then((({documents:Y})=>Se.view.ru(Y,Pe))));const tt=j&&j.targetChanges.get(Se.targetId),nt=j&&j.targetMismatches.get(Se.targetId)!=null,lt=Se.view.applyChanges(Pe,ke.isPrimaryClient,tt,nt);return L_(ke,Se.targetId,lt.au),lt.snapshot})(i,O,G,ie);const c=await R_(i.localStore,e,!0),p=new _x(e,c.Qs),b=p.ru(c.documents),E=mc.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),w=p.applyChanges(b,i.isPrimaryClient,E);L_(i,r,w.au);const N=new bx(e,r,p);return i.Tu.set(e,N),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),w.snapshot}async function Cx(i,e,r){const a=Ot(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!dh(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Up(a.remoteStore,l.targetId),sp(a,l.targetId)})).catch(Zl)):(sp(a,l.targetId),await rp(a.localStore,l.targetId,!0))}async function Rx(i,e){const r=Ot(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Up(r.remoteStore,a.targetId))}async function Ix(i,e,r){const a=Vx(i);try{const l=await(function(p,b){const E=Ot(p),w=Xn.now(),N=b.reduce(((ie,B)=>ie.add(B.key)),tn());let O,G;return E.persistence.runTransaction("Locally write mutations","readwrite",(ie=>{let B=Is(),ke=tn();return E.Ns.getEntries(ie,N).next((Se=>{B=Se,B.forEach(((je,j)=>{j.isValidDocument()||(ke=ke.add(je))}))})).next((()=>E.localDocuments.getOverlayedDocuments(ie,B))).next((Se=>{O=Se;const je=[];for(const j of b){const Pe=BR(j,O.get(j.key).overlayedDocument);Pe!=null&&je.push(new Wo(j.key,Pe,c1(Pe.value.mapValue),ws.exists(!0)))}return E.mutationQueue.addMutationBatch(ie,w,je,b)})).next((Se=>{G=Se;const je=Se.applyToLocalDocumentSet(O,ke);return E.documentOverlayCache.saveOverlays(ie,Se.batchId,je)}))})).then((()=>({batchId:G.batchId,changes:w1(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new ir(en)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(a,l.batchId,r),await gc(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Hp(l,"Failed to persist write");r.reject(c)}}async function rE(i,e){const r=Ot(i);try{const a=await UI(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Tn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Tn(p.hu,14607):l.removedDocuments.size>0&&(Tn(p.hu,42227),p.hu=!1))})),await gc(r,a,e)}catch(a){await Zl(a)}}function P_(i,e,r){const a=Ot(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Ot(p);E.onlineState=b;let w=!1;E.queries.forEach(((N,O)=>{for(const G of O.Sa)G.va(b)&&(w=!0)})),w&&qp(E)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xx(i,e,r){const a=Ot(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new ir(vt.comparator);p=p.insert(c,pi.newNoDocument(c,xt.min()));const b=tn().add(c),E=new yh(xt.min(),new Map,new ir(en),p,b);await rE(a,E),a.du=a.du.remove(c),a.Au.delete(e),Yp(a)}else await rp(a.localStore,e,!1).then((()=>sp(a,e,r))).catch(Zl)}async function Mx(i,e){const r=Ot(i),a=e.batch.batchId;try{const l=await LI(r.localStore,e);aE(r,a,null),iE(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await gc(r,l)}catch(l){await Zl(l)}}async function Nx(i,e,r){const a=Ot(i);try{const l=await(function(p,b){const E=Ot(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let N;return E.mutationQueue.lookupMutationBatch(w,b).next((O=>(Tn(O!==null,37113),N=O.keys(),E.mutationQueue.removeMutationBatch(w,O)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,N,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,N))).next((()=>E.localDocuments.getDocuments(w,N)))}))})(a.localStore,e);aE(a,e,r),iE(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await gc(a,l)}catch(l){await Zl(l)}}function iE(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function aE(i,e,r){const a=Ot(i);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function sp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||sE(i,a)}))}function sE(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Up(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),Yp(i))}function L_(i,e,r){for(const a of r)a instanceof eE?(i.Ru.addReference(a.key,e),Dx(i,a)):a instanceof tE?(at(Gp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||sE(i,a.key)):Tt(19791,{wu:a})}function Dx(i,e){const r=e.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(at(Gp,"New document in limbo: "+r),i.Eu.add(a),Yp(i))}function Yp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new vt(jn.fromString(e)),a=i.fu.next();i.Au.set(a,new Ex(r)),i.du=i.du.insert(r,a),Q1(i.remoteStore,new co(qa(y1(r.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function gc(i,e,r){const a=Ot(i),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,E)=>{p.push(a.pu(E,e,r).then((w=>{if((w||r)&&a.isPrimaryClient){const N=w?!w.fromCache:r?.targetChanges.get(E.targetId)?.current;a.sharedClientState.updateQueryState(E.targetId,N?"current":"not-current")}if(w){l.push(w);const N=Pp.As(E.targetId,w);c.push(N)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(E,w){const N=Ot(E);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>xe.forEach(w,(G=>xe.forEach(G.Es,(ie=>N.persistence.referenceDelegate.addReference(O,G.targetId,ie))).next((()=>xe.forEach(G.ds,(ie=>N.persistence.referenceDelegate.removeReference(O,G.targetId,ie)))))))))}catch(O){if(!eu(O))throw O;at(Lp,"Failed to update sequence numbers: "+O)}for(const O of w){const G=O.targetId;if(!O.fromCache){const ie=N.Ms.get(G),B=ie.snapshotVersion,ke=ie.withLastLimboFreeSnapshotVersion(B);N.Ms=N.Ms.insert(G,ke)}}})(a.localStore,c))}async function Ox(i,e){const r=Ot(i);if(!r.currentUser.isEqual(e)){at(Gp,"User change. New user:",e.toKey());const a=await q1(r.localStore,e);r.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new Ze(Re.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await gc(r,a.Ls)}}function kx(i,e){const r=Ot(i),a=r.Au.get(e);if(a&&a.hu)return tn().add(a.key);{let l=tn();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function oE(i){const e=Ot(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xx.bind(null,e),e.Pu.H_=gx.bind(null,e.eventManager),e.Pu.yu=yx.bind(null,e.eventManager),e}function Vx(i){const e=Ot(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nx.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return PI(this.persistence,new OI,e.initialUser,this.serializer)}Cu(e){return new H1(Vp.mi,this.serializer)}Du(e){return new HI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Px extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Tn(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new vI(a,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new H1((a=>th.mi(a,r)),this.serializer)}}class op{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>P_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ox.bind(null,this.syncEngine),await fx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dx})()}createDatastore(e){const r=vh(e.databaseInfo.databaseId),a=(function(c){return new QI(c)})(e.databaseInfo);return(function(c,p,b,E){return new JI(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(a,l,c,p,b){return new ex(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(r=>P_(this.syncEngine,r,0)),(function(){return M_.v()?new M_:new qI})())}createSyncEngine(e,r){return(function(l,c,p,b,E,w,N){const O=new wx(l,c,p,b,E,w);return N&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=Ot(r);at(Yo,"RemoteStore shutting down."),a.Ea.add(5),await pc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}op.provider={build:()=>new op};class Lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const To="FirestoreClient";class Ux{constructor(e,r,a,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=mi.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{at(To,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(at(To,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=Hp(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress(),at(To,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await q1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function U_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await zx(i);at(To,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((a=>D_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>D_(e.remoteStore,l))),i._onlineComponents=e}async function zx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){at(To,"Using user provided OfflineComponentProvider");try{await Nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Re.FAILED_PRECONDITION||l.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Hl("Error using user provided cache. Falling back to memory cache: "+r),await Nm(i,new rh)}}else at(To,"Using default OfflineComponentProvider"),await Nm(i,new Px(void 0));return i._offlineComponents}async function lE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(at(To,"Using user provided OnlineComponentProvider"),await U_(i,i._uninitializedComponentsProvider._online)):(at(To,"Using default OnlineComponentProvider"),await U_(i,new op))),i._onlineComponents}function Bx(i){return lE(i).then((e=>e.syncEngine))}async function jx(i){const e=await lE(i),r=e.eventManager;return r.onListen=Tx.bind(null,e.syncEngine),r.onUnlisten=Cx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ax.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Rx.bind(null,e.syncEngine),r}function Fx(i,e,r={}){const a=new go;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const N=new Lx({next:G=>{N.Nu(),p.enqueueAndForget((()=>px(c,O))),G.fromCache&&E.source==="server"?w.reject(new Ze(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(G)},error:G=>w.reject(G)}),O=new vx(b,N,{includeMetadataChanges:!0,qa:!0});return mx(c,O)})(await jx(i),i.asyncQueue,e,r,a))),a.promise}function uE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const z_=new Map;const cE="firestore.googleapis.com",B_=!0;class j_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cE,this.ssl=B_}else this.host=e.host,this.ssl=e.ssl??B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gI)throw new Ze(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ze(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,r,a,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new HC;switch(a.type){case"firstParty":return new XC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ze(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=z_.get(r);a&&(at("ComponentProvider","Removing Datastore"),z_.delete(r),a.terminate())})(this),Promise.resolve()}}function Hx(i,e,r,a={}){i=Yf(i,Eh);const l=Wl(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${r}`;l&&(sb(`https://${b}`),ob("Firestore",!0)),c.host!==cE&&c.host!==b&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:a};if(!Fo(E,p)&&(i._setSettings(E),a.mockUserToken)){let w,N;if(typeof a.mockUserToken=="string")w=a.mockUserToken,N=mi.MOCK_USER;else{w=hA(a.mockUserToken,i._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new Ze(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new mi(O)}i._authCredentials=new qC(new Jb(w,N))}}class Ao{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class kr{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}toJSON(){return{type:kr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if(hc(r,kr._jsonSchema))return new kr(e,a||null,new vt(jn.fromString(r.referencePath)))}}kr._jsonSchemaVersion="firestore/documentReference/1.0",kr._jsonSchema={type:Er("string",kr._jsonSchemaVersion),referencePath:Er("string")};class yo extends Ao{constructor(e,r,a){super(e,r,y1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new vt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Nl(i,e,...r){if(i=ta(i),Zb("collection","path",e),i instanceof Eh){const a=jn.fromString(e,...r);return e_(a),new yo(i,null,a)}{if(!(i instanceof kr||i instanceof yo))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jn.fromString(e,...r));return e_(a),new yo(i.firestore,null,a)}}function qx(i,e,...r){if(i=ta(i),arguments.length===1&&(e=Ap.newId()),Zb("doc","path",e),i instanceof Eh){const a=jn.fromString(e,...r);return Z0(a),new kr(i,null,new vt(a))}{if(!(i instanceof kr||i instanceof yo))throw new Ze(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(jn.fromString(e,...r));return Z0(a),new kr(i.firestore,i instanceof yo?i.converter:null,new vt(a))}}const F_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const a=Mm();a&&at(F_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const r=Mm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Mm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eu(e))throw e;at(F_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",q_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(e,r,a){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=Fp.createAndSchedule(this,e,r,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function q_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Xp extends Eh{constructor(e,r,a,l){super(e,r,a,l),this.type="firestore",this._queue=new H_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function Gx(i,e){const r=typeof i=="object"?i:fb(),a=typeof i=="string"?i:Qf,l=mp(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=cA("firestore");c&&Hx(l,...c)}return l}function fE(i){if(i._terminated)throw new Ze(Re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Yx(i),i._firestoreClient}function Yx(i){const e=i._freezeSettings(),r=(function(l,c,p,b){return new fR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,uE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ux(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(ei.fromBase64String(e))}catch(r){throw new Ze(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new va(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:va._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,va._jsonSchema))return va.fromBase64String(e.bytes)}}va._jsonSchemaVersion="firestore/bytes/1.0",va._jsonSchema={type:Er("string",va._jsonSchemaVersion),bytes:Er("string")};class Qp{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ze(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hE{constructor(e){this._methodName=e}}class Ya{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Ya._jsonSchema))return new Ya(e.latitude,e.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:Er("string",Ya._jsonSchemaVersion),latitude:Er("number"),longitude:Er("number")};class Xa{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,Xa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Xa(e.vectorValues);throw new Ze(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xa._jsonSchemaVersion="firestore/vectorValue/1.0",Xa._jsonSchema={type:Er("string",Xa._jsonSchemaVersion),vectorValues:Er("object")};const Xx=/^__.*__$/;class Qx{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,r,this.fieldTransforms):new dc(e,this.data,r,this.fieldTransforms)}}function dE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:i})}}class Wp{constructor(e,r,a,l,c,p){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.gc(e),a}yc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dE(this.Ac)&&Xx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wx{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||vh(e)}Cc(e,r,a,l=!1){return new Wp({Ac:e,methodName:r,Dc:a,path:Zr.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mE(i){const e=i._freezeSettings(),r=vh(i._databaseId);return new Wx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Kx(i,e,r,a,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,r,l);yE("Data must be an object, but it was:",p,a);const b=pE(a,p);let E,w;if(c.merge)E=new xa(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const N=[];for(const O of c.mergeFields){const G=Jx(e,O,r);if(!p.contains(G))throw new Ze(Re.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);eM(N,G)||N.push(G)}E=new xa(N),w=p.fieldTransforms.filter((O=>E.covers(O.field)))}else E=null,w=p.fieldTransforms;return new Qx(new ya(b),E,w)}function $x(i,e,r,a=!1){return Kp(r,i.Cc(a?4:3,e))}function Kp(i,e){if(gE(i=ta(i)))return yE("Unsupported field value:",e,i),pE(i,e);if(i instanceof hE)return(function(a,l){if(!dE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let E=Kp(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=ta(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Xn.fromDate(a);return{timestampValue:eh(l.serializer,c)}}if(a instanceof Xn){const c=new Xn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(l.serializer,c)}}if(a instanceof Ya)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof va)return{bytesValue:V1(l.serializer,a._byteString)};if(a instanceof kr){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Op(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Xa)return(function(p,b){return{mapValue:{fields:{[l1]:{stringValue:u1},[Wf]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return Mp(b.serializer,w)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${uh(a)}`)})(i,e)}function pE(i,e){const r={};return n1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(i,((a,l)=>{const c=Kp(l,e.mc(a));c!=null&&(r[a]=c)})),{mapValue:{fields:r}}}function gE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Xn||i instanceof Ya||i instanceof va||i instanceof kr||i instanceof hE||i instanceof Xa)}function yE(i,e,r){if(!gE(r)||!e1(r)){const a=uh(r);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function Jx(i,e,r){if((e=ta(e))instanceof Qp)return e._internalPath;if(typeof e=="string")return vE(i,e);throw ih("Field path arguments must be of type string or ",i,!1,void 0,r)}const Zx=new RegExp("[~\\*/\\[\\]]");function vE(i,e,r){if(e.search(Zx)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Qp(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ih(i,e,r,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${a}`),p&&(E+=` in document ${l}`),E+=")"),new Ze(Re.INVALID_ARGUMENT,b+i+E)}function eM(i,e){return i.some((r=>r.isEqual(e)))}class _E{constructor(e,r,a,l,c){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class tM extends _E{data(){return super.data()}}function wh(i,e){return typeof e=="string"?vE(i,e):e instanceof Qp?e._internalPath:e._delegate._internalPath}function nM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ze(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class Jp extends $p{}function lp(i,e,...r){let a=[];e instanceof $p&&a.push(e),a=a.concat(r),(function(c){const p=c.filter((E=>E instanceof Zp)).length,b=c.filter((E=>E instanceof Th)).length;if(p>1||p>0&&b>0)throw new Ze(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Th extends Jp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Th(e,r,a)}_apply(e){const r=this._parse(e);return bE(e._query,r),new Ao(e.firestore,e.converter,Jm(e._query,r))}_parse(e){const r=mE(e.firestore);return(function(c,p,b,E,w,N,O){let G;if(w.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){Y_(O,N);const B=[];for(const ke of O)B.push(G_(E,c,ke));G={arrayValue:{values:B}}}else G=G_(E,c,O)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||Y_(O,N),G=$x(b,p,O,N==="in"||N==="not-in");return br.create(w,N,G)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vl(i,e,r){const a=e,l=wh("where",i);return Th._create(l,a,r)}class Zp extends $p{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Zp(e,r)}_parse(e){const r=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return r.length===1?r[0]:Ma.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)bE(p,E),p=Jm(p,E)})(e._query,r),new Ao(e.firestore,e.converter,Jm(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends Jp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new eg(e,r)}_apply(e){const r=(function(l,c,p){if(l.startAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(c,p)})(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new tu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,r))}}function io(i,e="asc"){const r=e,a=wh("orderBy",i);return eg._create(a,r)}class tg extends Jp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new tg(e,r,a)}_apply(e){return new Ao(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function Wu(i){return eR("limit",i),tg._create("limit",i,"F")}function G_(i,e,r){if(typeof(r=ta(r))=="string"){if(r==="")throw new Ze(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&r.indexOf("/")!==-1)throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(jn.fromString(r));if(!vt.isDocumentKey(a))throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return l_(i,new vt(a))}if(r instanceof kr)return l_(i,r._key);throw new Ze(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(r)}.`)}function Y_(i,e){if(!Array.isArray(i)||i.length===0)throw new Ze(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bE(i,e){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class rM{convertValue(e,r="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Xo(e,((l,c)=>{a[l]=this.convertValue(c,r)})),a}convertVectorValue(e){const r=e.fields?.[Wf].arrayValue?.values?.map((a=>fr(a.doubleValue)));return new Xa(r)}convertGeoPoint(e){return new Ya(fr(e.latitude),fr(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=hh(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const r=_o(e);return new Xn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=jn.fromString(e);Tn(j1(a),9688,{name:e});const l=new ec(a.get(1),a.get(3)),c=new vt(a.popFirst(5));return l.isEqual(r)||Rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function iM(i,e,r){let a;return a=i?i.toFirestore(e):e,a}class Sf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bl extends _E{constructor(e,r,a,l,c,p){super(e,r,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(wh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Bl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bl._jsonSchema={type:Er("string",Bl._jsonSchemaVersion),bundleSource:Er("string","DocumentSnapshot"),bundleName:Er("string"),bundle:Er("string")};class Lf extends Bl{data(e={}){return super.data(e)}}class jl{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Sf(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new Lf(this._firestore,this._userDataWriter,a.key,a,new Sf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new Lf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Sf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new Lf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Sf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,N=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),N=p.indexOf(b.doc.key)),{type:aM(b.type),doc:E,oldIndex:w,newIndex:N}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:Er("string",jl._jsonSchemaVersion),bundleSource:Er("string","QuerySnapshot"),bundleName:Er("string"),bundle:Er("string")};class sM extends rM{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,r)}}function up(i){i=Yf(i,Ao);const e=Yf(i.firestore,Xp),r=fE(e),a=new sM(e);return nM(i._query),Fx(r,i._query).then((l=>new jl(e,a,i,l)))}function Dm(i,e){const r=Yf(i.firestore,Xp),a=qx(i),l=iM(i.converter,e);return oM(r,[Kx(mE(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,ws.exists(!1))]).then((()=>a))}function oM(i,e){return(function(a,l){const c=new go;return a.asyncQueue.enqueueAndForget((async()=>Ix(await Bx(a),l,c))),c.promise})(fE(i),e)}(function(e,r=!0){(function(l){Jl=l})(Kl),Fl(new Ho("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Xp(new GC(a.getProvider("auth-internal")),new QC(p,a.getProvider("app-check-internal")),(function(w,N){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Ze(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(w.options.projectId,N)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),mo(W0,K0,e),mo(W0,K0,"esm2020")})();const lM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},uM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):lM,EE=cb(uM),Om=jC(EE),Dl=Gx(EE),cp=typeof __app_id<"u"?__app_id:"long-jump-game",km={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc"},cM={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937"},pa=5,fp=50,fM=25,wE=30,hM=15,Ra=40,TE={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},dM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),X_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],Q_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],W_=(i=fp)=>Array(pa).fill(null).map(()=>Array(i).fill(null)),Cf=(i,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:i,isNew:e,isPlaced:!1}),AE=i=>{const e=["th","st","nd","rd"],r=i%100;return i+(e[(r-20)%10]||e[r]||e[0])},mM=i=>{const e=new Date(i),r=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${AE(r)} ${a}`},Ah=i=>function(){var e=i+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Sh=i=>{let e=1779033703,r=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<i.length;c++)p=i.charCodeAt(c),e=r^Math.imul(e^p,597399067),r=a^Math.imul(r^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),r=Math.imul(l^r>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(r^l>>>19,2716044179),(e^r^a^l)>>>0},pM=()=>new Date().toISOString().split("T")[0],gM=(i,e)=>{const r=Sh(i),a=Ah(r),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(a()*pa),E=Math.floor(a()*e);if(E===0)continue;const w=`${b},${E}`;if(!p.has(w)){p.add(w);const N=a();let O=1;N>.5&&(O=2),N>.8&&(O=3),l.push({r:b,c:E,val:O})}}return l},yM=(i,e)=>{const r=Sh(i+"OBSTACLES"),a=Ah(r),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(a()*pa),E=Math.floor(a()*e);if(E===0)continue;const w=`${b},${E}`;p.has(w)||(p.add(w),l.push({r:b,c:E}))}return l},vM=(i,e,r)=>{const a=Sh(i+"WILDCARDS_V3"),l=Ah(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*pa),E=5,w=Math.min(29,r-2);if(w<=E)break;const N=Math.floor(l()*(w-E+1))+E;if(!e.some(O=>O.r===b&&O.c===N)){c.push({r:b,c:N});break}p++}if(r>30)for(p=0;p<100;){const b=Math.floor(l()*pa),E=30,w=r-5,N=Math.floor(l()*(w-E+1))+E;if(!e.some(O=>O.r===b&&O.c===N)){c.push({r:b,c:N});break}p++}return c},_M=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],bM=i=>{const e=Sh(i),r=Ah(e);let a=[];Object.entries(TE).forEach(([b,E])=>{for(let w=0;w<E;w++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const E=Math.floor(r()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=wE;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(r()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},EM=i=>{const e=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=r;if(a+=1,p+=i,b!==e){const w=new Date;w.setDate(w.getDate()-1);const N=w.toISOString().split("T")[0];b===N?l+=1:l=1}l>c&&(c=l);const E={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(E)),E},K_=()=>{const i=X_[Math.floor(Math.random()*X_.length)],e=Q_[Math.floor(Math.random()*Q_.length)],r=Math.floor(Math.random()*90)+10;return`${i}${e}${r}`},Vm=i=>{if(i.length<=1)return!0;const e=i[0].r,r=i[0].c;return i.every(a=>a.r===e)||i.every(a=>a.c===r)},Ol={ctx:null,init:()=>{Ol.ctx||(Ol.ctx=new(window.AudioContext||window.webkitAudioContext))},play:i=>{Ol.ctx||Ol.init();const e=Ol.ctx,r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();i==="pop"?(r.type="triangle",r.frequency.setValueAtTime(600*c,l),r.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15)):i==="success"?(r.type="sine",r.frequency.setValueAtTime(400*c,l),r.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),r.start(l),r.stop(l+.3)):i==="error"?(r.type="sawtooth",r.frequency.setValueAtTime(150,l),r.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),r.start(l),r.stop(l+.2)):i==="click"?(r.type="square",r.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05)):i==="fanfare"&&(r.type="square",r.frequency.setValueAtTime(261.63,l),r.frequency.setValueAtTime(329.63,l+.1),r.frequency.setValueAtTime(392,l+.2),r.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),r.start(l),r.stop(l+.8))}},wM=i=>{if(navigator.vibrate)switch(i){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},TM=({theme:i})=>{const e=Be.useRef(null);return Be.useEffect(()=>{const r=e.current;if(!r)return;const a=r.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;r.width=l,r.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",i.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let E;const w=()=>{!a||!r.width||!r.height||(a.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(a.save(),a.translate(O.x,O.y),a.rotate(O.rotation*Math.PI/180),a.fillStyle=O.color,a.fillRect(-O.size/2,-O.size/2,O.size,O.size),a.restore())}),E=requestAnimationFrame(w))};w();const N=()=>{r&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(r.width=l,r.height=c))};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N),E&&cancelAnimationFrame(E)}},[i]),x.createElement("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},$_=()=>{const{RiveComponent:i}=uo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return x.createElement(i,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},J_=({trigger:i})=>{const{rive:e,RiveComponent:r}=uo.useRive({src:"fan.riv",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return Be.useEffect(()=>{if(i&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[i,e]),r?x.createElement("div",{style:{width:`${Ra}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},x.createElement("div",{style:{width:"39px",height:"60px"}},x.createElement(r,null))):null},Pm=({highlightName:i,user:e,onRankFound:r,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,E]=Be.useState([]),[w,N]=Be.useState(!0),[O,G]=Be.useState("daily"),[ie,B]=Be.useState(l),[ke,Se]=Be.useState(null);Be.useEffect(()=>{B(l)},[l]);const je=async()=>{if(!e)return;N(!0),Se(null);const j=Nl(Dl,"artifacts",cp,"public","data","scores"),Pe=new Date,tt=Pe.toISOString().split("T")[0],nt=Pe.getDay(),lt=Pe.getDate()-nt+(nt===0?-6:1),F=new Date(Pe.setDate(lt)).toISOString().split("T")[0],P=new Date,R=new Date(P.getFullYear(),P.getMonth(),1).toISOString().split("T")[0];let L=[];ie==="quick"&&L.push(Vl("mode","==","quick")),O==="daily"?(L.push(Vl("date","==",tt)),L.push(io("score","desc")),L.push(io("timestamp","asc")),L.push(Wu(100))):O==="weekly"?(L.push(Vl("date",">=",F)),L.push(io("date","desc")),L.push(io("score","desc")),L.push(Wu(500))):(L.push(Vl("date",">=",R)),L.push(io("date","desc")),L.push(io("score","desc")),L.push(Wu(500)));try{const I=lp(j,...L),$=await up(I);if($.empty){E([]),N(!1),c&&O==="daily"&&c(ie==="quick"?12:25,ie);return}let re=$.docs.map(q=>({id:q.id,...q.data()}));if(ie==="standard"&&(re=re.filter(q=>!q.mode||q.mode==="standard")),O==="daily"&&c){const X=re.reduce((Te,U)=>Te+U.score,0)/re.length,fe=Math.floor(((ie==="quick"?12:25)+X)/2);c(fe,ie)}if(O==="weekly"||O==="monthly"){const q=new Map;re.forEach(X=>{const ye=q.get(X.name);ye?(X.score>ye.score||X.score===ye.score&&X.timestamp<ye.timestamp)&&q.set(X.name,X):q.set(X.name,X)}),re=Array.from(q.values()),re.sort((X,ye)=>ye.score!==X.score?ye.score-X.score:X.timestamp-ye.timestamp),re=re.slice(0,100)}if(E(re),N(!1),i&&r){const q=re.findIndex(X=>X.name===i);q!==-1&&r(q+1)}}catch(I){console.error(" FIRESTORE ERROR:",I),Se(I.message),N(!1)}};return Be.useEffect(()=>{je()},[e,O,ie,i,a]),x.createElement("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines}},ke&&ke.includes("index")&&x.createElement("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90"},x.createElement(pT,{className:"text-red-500 mb-2",size:32}),x.createElement("p",{className:"text-xs font-bold text-red-600 mb-2"},"DATABASE INDEX MISSING"),x.createElement("button",{onClick:je,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold"},"Retry")),x.createElement("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines}},x.createElement("div",{className:"flex items-center justify-between"},x.createElement("div",{className:"flex items-center gap-2"},x.createElement(Lm,{size:20,className:"text-yellow-500"}),x.createElement("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub}},O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best")),x.createElement("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines}},x.createElement("button",{onClick:()=>G("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Daily"),x.createElement("button",{onClick:()=>G("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Weekly"),x.createElement("button",{onClick:()=>G("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Monthly"))),x.createElement("div",{className:"flex justify-center"},x.createElement("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines}},x.createElement("button",{onClick:()=>B("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${ie==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Standard"),x.createElement("button",{onClick:()=>B("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${ie==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`},"Quick Mode")))),x.createElement("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1"},w?x.createElement("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse"},"Loading..."):b.length===0?x.createElement("div",{className:"text-center py-8 text-gray-400 text-sm italic"},"No scores yet.",x.createElement("br",null),"Be the first!"):x.createElement("div",{className:"space-y-1"},b.map((j,Pe)=>{const tt=j.mode==="quick"?25:40,nt=j.score>=tt;let lt="";return O==="weekly"?lt=new Date(j.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(lt=mM(j.date)),x.createElement("div",{key:Pe,className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${j.name===i?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:nt?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:j.name!==i&&!nt?{borderColor:"transparent"}:{}},x.createElement("div",{className:"flex items-center gap-2"},x.createElement("span",{className:`font-black w-5 text-center ${Pe===0?"text-yellow-600 text-lg":Pe===1?"text-gray-500 text-base":Pe===2?"text-orange-700 text-base":"text-gray-500"}`},Pe+1),x.createElement("div",{className:"flex items-center gap-1 overflow-hidden"},nt&&x.createElement(Lm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),x.createElement("span",{className:`font-bold truncate max-w-[90px] ${j.name===i?"":nt?"text-amber-900":""}`,style:{color:j.name===i?p.textMain:nt?"#78350f":p.textMain}},j.name),lt&&x.createElement("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines}},lt))),x.createElement("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${nt?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`},j.score,"m"))}))))};function AM(){const[i,e]=Be.useState("menu"),[r,a]=Be.useState("standard"),[l,c]=Be.useState(()=>localStorage.getItem("longJumpPlayerName")||K_()),[p,b]=Be.useState(!1),[E,w]=Be.useState(!1),[N,O]=Be.useState(()=>{const W=localStorage.getItem("longJumpShowFans");return W===null?!0:W!=="false"}),[G,ie]=Be.useState(()=>{const W=localStorage.getItem("longJumpSound");return W===null?!0:W!=="false"}),[B,ke]=Be.useState(()=>{const W=localStorage.getItem("longJumpHaptics");return W===null?!0:W!=="false"}),[Se,je]=Be.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),j=Se?cM:km,[Pe,tt]=Be.useState(!1),[nt,lt]=Be.useState(null),[Y,F]=Be.useState(!1),[P,H]=Be.useState(null);Be.useEffect(()=>{window.addEventListener("beforeinstallprompt",W=>{W.preventDefault(),H(W)})},[]);const R=()=>{P&&(P.prompt(),P.userChoice.then(W=>{W.outcome==="accepted"&&console.log("User accepted the install prompt"),H(null)}))},[L,I]=Be.useState(""),[$,re]=Be.useState("idle"),q=async()=>{if(L.trim()){re("submitting");try{const W=Nl(Dl,"suggestions");await Dm(W,{text:L,player:l,date:new Date().toISOString(),version:"8.11"}),re("success"),I(""),setTimeout(()=>re("idle"),3e3)}catch(W){console.error("Error submitting suggestion:",W),re("idle"),Fe({text:"Could not send suggestion. Try again.",type:"error"})}}},[X,ye]=Be.useState(()=>W_(fp)),[fe,Te]=Be.useState([]),[U,oe]=Be.useState([]),[Ie,Ae]=Be.useState(0),[Me,We]=Be.useState(!1),[dt,gt]=Be.useState([]),[Et,Mt]=Be.useState(0),[_n,mt]=Be.useState([]),[At,nn]=Be.useState([]),[Gt,er]=Be.useState([]),[wr,on]=Be.useState([]),[st,jt]=Be.useState(null),[Pt,Rn]=Be.useState(null),[_t,kt]=Be.useState([]),[Nt,C]=Be.useState(0),[g,v]=Be.useState(0),[k,J]=Be.useState(null),[pe,Ne]=Be.useState(!1),[et,rt]=Be.useState(!1),[Ye,Fe]=Be.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[Ut,In]=Be.useState(!1),[ln,On]=Be.useState(!1),[Qn,Bt]=Be.useState(!1),[An,kn]=Be.useState(!1),[Wn,Vr]=Be.useState(!1),[Ke,Fn]=Be.useState(!1),[Rt,or]=Be.useState(!1),[Pr,na]=Be.useState(!1),[Cr,yi]=Be.useState(null),[Xe,Na]=Be.useState(null),[Ii,Lr]=Be.useState(!1),[fn,tr]=Be.useState(null),[ti,xi]=Be.useState(25),[ni,Wa]=Be.useState(null),[_a,ri]=Be.useState(new Set),[Ur,zr]=Be.useState(!1),Br=Be.useRef({standard:25,quick:12}),Hn=Be.useRef(null),[Rr,Vn]=Be.useState(!1),[ba,jr]=Be.useState(0),[Fr,ii]=Be.useState(0),Ka=X.some(W=>W.some(ae=>ae!==null));Be.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Be.useEffect(()=>{localStorage.setItem("longJumpShowFans",N)},[N]),Be.useEffect(()=>{localStorage.setItem("longJumpSound",G)},[G]),Be.useEffect(()=>{localStorage.setItem("longJumpHaptics",B)},[B]),Be.useEffect(()=>{localStorage.setItem("longJumpDarkMode",Se)},[Se]),Be.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await R2(Om,__initial_auth_token):await w2(Om)})();const ae=M2(Om,Na);return()=>ae()},[]),Be.useEffect(()=>{(async()=>{try{const ae=lp(Nl(Dl,"missing_words")),be=await up(ae),Ee=new Set;be.forEach(ve=>{ve.data().word&&Ee.add(ve.data().word.toUpperCase())}),ri(Ee)}catch(ae){console.error("Error loading missing words:",ae)}})()},[]),Be.useEffect(()=>{if(g===Nt)return;const W=500,ae=performance.now(),be=g,Ee=Nt,ve=He=>{const Le=He-ae,Ve=Math.min(Le/W,1),ct=1-Math.pow(1-Ve,3),qe=Math.floor(be+(Ee-be)*ct);v(qe),Ve<1&&requestAnimationFrame(ve)};requestAnimationFrame(ve)},[Nt]),Be.useEffect(()=>{(async()=>{try{const ae=Nl(Dl,"artifacts",cp,"public","data","scores"),be=new Date().toISOString().split("T")[0];let Ee=[Vl("date","==",be),io("score","desc"),io("timestamp","asc")];r==="quick"?(Ee.push(Vl("mode","==","quick")),Ee.push(Wu(1))):Ee.push(Wu(50));const ve=lp(ae,...Ee),He=await up(ve);let Le=null;if(!He.empty){const Ve=He.docs.map(ct=>ct.data());r==="quick"?Le=Ve[0]:Le=Ve.find(ct=>!ct.mode||ct.mode==="standard")}tr(Le||null)}catch(ae){console.error("Error fetching leader:",ae)}})()},[Ie,r]);const Mi=Be.useCallback((W,ae)=>{(ae==="quick"||ae==="standard")&&(Br.current[ae]=W),xi(W)},[]),xn=W=>{G&&Ol.play(W==="light"?"pop":W),B&&wM(W)};Be.useEffect(()=>{ra("standard")},[]);const ra=(W="standard")=>{const ae=pM(),be=bM(ae);gt(be),a(W);const Ee=W==="quick"?fM:fp,ve=W==="quick"?hM:wE;let He;W==="quick"?(He=be.slice(0,ve-1),He.push("*")):He=be.slice(0,ve);const Le=He.map(qe=>Cf(qe,!1)).sort((qe,pt)=>qe.letter.localeCompare(pt.letter));Te(Le),Mt(ve),ye(W_(Ee)),kt([]),oe([]),C(0),v(0),J(null),Ne(!1),rt(!1),mt(gM(ae,Ee));const Ve=yM(ae,Ee);nn(Ve),er(vM(ae,Ve,Ee)),on(_M()),Fe({text:"Goal: Get as far right as you can.",type:"neutral"}),Fn(!1),On(!1),kn(!1),Vr(!1),Lr(!1),or(!1),Bt(!1),We(!1),jt(null),Rn(null),b(!1);const ct=Br.current[W]||(W==="quick"?12:25);xi(ct),Rn({r:2,c:0}),zr(!1),Hn.current&&(Hn.current.scrollLeft=0)},vi=W=>{xn("click"),l.trim()||c(K_()),e("playing"),ra(W),kn(!0)},Ir=()=>{xn("click"),e("menu"),ra("standard")},bn=()=>{if(xn("click"),U.length!==0){if(Ur){Fe({text:"Already used Undo this turn!",type:"error"}),xn("error");return}F(!0)}},Kn=()=>{const W=U[U.length-1],ae=U.slice(0,-1);ye(W.grid),C(W.score),Mt(W.drawCount);const be=Array.from(new Map(W.hand.map(Ee=>[Ee.id,{...Ee,isPlaced:!1}])).values());Te(be),oe(ae),kt([]),jt(null),Fe({text:"Move undone",type:"info"}),zr(!0),F(!1)},Hr=W=>{const ae=W.toUpperCase();return[...fe].reverse().find(be=>be.letter===ae&&!be.isPlaced)},_i=()=>{if(_t.length===0)return;xn("click");const ae=[..._t].sort((Le,Ve)=>Le.r-Ve.r||Le.c-Ve.c)[0],be=ae?ae.r:null,Ee=ae?ae.c:null,He=_t.map(Le=>Le.isWild?"*":Le.letter).map(Le=>Cf(Le,!1));Te(Le=>[...Le.filter(ct=>!ct.isPlaced),...He].sort((ct,qe)=>ct.letter!==qe.letter?ct.letter.localeCompare(qe.letter):ct.isNew===qe.isNew?0:ct.isNew?1:-1)),kt([]),jt(null),be!==null&&Ee!==null&&(Rn(null),setTimeout(()=>{Rn({r:be,c:Ee})},10))},Yt=W=>{const ae=X[0].length;if(!Pt){Rn({r:2,c:Nt});return}let{r:be,c:Ee}=Pt;W==="ArrowUp"&&(be=Math.max(0,be-1)),W==="ArrowDown"&&(be=Math.min(pa-1,be+1)),W==="ArrowLeft"&&(Ee=Math.max(0,Ee-1)),W==="ArrowRight"&&(Ee=Math.min(ae-1,Ee+1)),Rn({r:be,c:Ee})};Be.useEffect(()=>{const W=ae=>{if(!(i!=="playing"||Ke||Wn||An||ln||Pr||Qn||p||Pe||Y)){if(ae.code==="Space"){ae.preventDefault(),It();return}if(ae.key==="Escape"){_i();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ae.key)){ae.preventDefault(),Yt(ae.key);return}if(ae.key==="Backspace"||ae.key==="Delete"){if(Pt){const{r:be,c:Ee}=Pt;_t.find(He=>He.r===be&&He.c===Ee)?aa(be,Ee):Yt("ArrowLeft")}return}if(ae.key==="Enter"){_t.length>0&&xr();return}if(/^[a-zA-Z]$/.test(ae.key)){const be=X[0].length;if(!Pt){Rn({r:2,c:Nt});return}const{r:Ee,c:ve}=Pt;if(X[Ee]&&X[Ee][ve]||At.some(Ve=>Ve.r===Ee&&Ve.c===ve)){Yt("ArrowRight");return}let He=Hr(ae.key),Le=null;if(!He){const Ve=Hr("*");Ve&&(He=Ve,Le=ae.key.toUpperCase())}He?($n(He,Ee,ve,Le),Rn({r:Ee,c:Math.min(be-1,ve+1)})):(Fe({text:`No '${ae.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>Fe({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[i,Ke,Pt,fe,_t,Wn,An,ln,Pr,Qn,p,Pe,Y]),Be.useEffect(()=>{if(Pt&&Hn.current){const W=Hn.current,ae=Pt.c*Ra,be=ae+Ra,Ee=W.scrollLeft,ve=Ee+W.clientWidth,He=100;ae<Ee?W.scrollTo({left:Math.max(0,ae-He),behavior:"smooth"}):be>ve&&W.scrollTo({left:be-W.clientWidth+He,behavior:"smooth"})}},[Pt]);const hr=()=>On(!0),ht=async()=>{On(!1),Fn(!0),Lr(!0),xn("fanfare");const W=l.trim().toLowerCase()==="test";if(Xe&&!W)try{const ve=new Date().toISOString().split("T")[0],He=Nl(Dl,"artifacts",cp,"public","data","scores");await Dm(He,{name:l||"Anonymous",score:Nt,mode:r,date:ve,timestamp:Date.now(),userId:Xe.uid}),Ae(Date.now())}catch(ve){console.error("Error saving score:",ve)}const ae=EM(Nt);Wa(ae),Lr(!1);const be=Nt*50+800;setTimeout(()=>{e("gameOver"),Fn(!1)},Math.max(be,2500))},dr=()=>On(!1),Pn=()=>i==="playing"?Bt(!0):e("menu"),Ea=()=>{Bt(!1),e("menu"),ra()},$a=async()=>{const W=k?AE(k):"top",ae="https://www.longjump.co.za";let be=k?`${l} placed ${W} in Long-Jump with a distance of ${Nt}m. How far can you get? ${ae}`:`${l} got a distance of ${Nt}m in Long-Jump. How far can you get? ${ae}`;try{await navigator.clipboard.writeText(be),Ne(!0),setTimeout(()=>Ne(!1),1e3)}catch(Ee){console.error("Failed to copy: ",Ee),Fe({text:"Failed to copy result.",type:"error"})}},Da=W=>{W.target.closest('[draggable="true"]')||W.target.tagName==="BUTTON"||(Vn(!0),jr(W.pageX-Hn.current.offsetLeft),ii(Hn.current.scrollLeft))},hn=()=>Vn(!1),ia=()=>Vn(!1),Ni=W=>{if(!Rr)return;W.preventDefault();const be=(W.pageX-Hn.current.offsetLeft-ba)*1.5;Hn.current.scrollLeft=Fr-be},$n=(W,ae,be,Ee=null)=>{if(xn("light"),W.letter==="*"&&!Ee){yi({r:ae,c:be,tileId:W.id}),na(!0);return}const ve=W.letter==="*";qr(W,ae,be,ve,Ee)},qr=(W,ae,be,Ee=!1,ve=null)=>{if(X.every(ct=>ct.every(qe=>qe===null))&&_t.length===0&&be!==0){or(!0),setTimeout(()=>or(!1),3e3);return}const Le=ve||W.letter,Ve=[..._t,{r:ae,c:be,letter:Le,isWild:Ee,id:W.id}];if(!Vm(Ve)){Fe({text:" Tiles must be placed in a single row or column",type:"error"}),xn("error");return}kt(Ve),Te(ct=>ct.map(qe=>qe.id===W.id?{...qe,isPlaced:!0}:qe)),or(!1),Ye.type==="error"&&Fe({text:"Goal: Get as far right as you can.",type:"neutral"})},wa=W=>{if(xn("light"),Cr){const ae={id:Cr.tileId,letter:"*"};qr(ae,Cr.r,Cr.c,!0,W),Rn({r:Cr.r,c:Math.min(X[0].length-1,Cr.c+1)}),na(!1),yi(null),jt(null)}},bi=W=>{if(xn("light"),!Ke&&i==="playing"){if(Pt){const{r:ae,c:be}=Pt,Ee=X[0].length;if(!(X[ae]&&X[ae][be]||At.some(He=>He.r===ae&&He.c===be))){const He=fe.find(Le=>Le.id===W);He&&($n(He,ae,be),Rn({r:ae,c:Math.min(Ee-1,be+1)}));return}}jt(st===W?null:W)}},aa=(W,ae)=>{if(Rr||Ke||i!=="playing"||X[W]&&X[W][ae]||At.some(Ee=>Ee.r===W&&Ee.c===ae))return;const be=_t.findIndex(Ee=>Ee.r===W&&Ee.c===ae);if(be!==-1){xn("light");const Ee=_t[be],ve=[..._t];ve.splice(be,1),kt(ve),Te(He=>He.map(Le=>Le.id===Ee.id?{...Le,isPlaced:!1}:Le)),jt(null),Rn({r:W,c:ae});return}if(st){const Ee=fe.find(ve=>ve.id===st);if(Ee){const ve=X[0].length;$n(Ee,W,ae),jt(null),Rn({r:W,c:Math.min(ve-1,ae+1)})}}else Rn({r:W,c:ae})},qi=(W,ae)=>{Ke||i!=="playing"||(W.dataTransfer.setData("text/plain",JSON.stringify(ae)),W.dataTransfer.effectAllowed="move")},ai=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},sa=(W,ae,be)=>{if(Ke||i!=="playing"||(W.preventDefault(),W.stopPropagation(),At.some(ve=>ve.r===ae&&ve.c===be)))return;const Ee=W.dataTransfer.getData("text/plain");if(Ee)try{const ve=JSON.parse(Ee);if(X[ae]&&X[ae][be])return;const He=_t.findIndex(Ve=>Ve.r===ae&&Ve.c===be),Le=X[0].length;if(ve.type==="hand"){xn("light");const Ve=ve.tile;if(Ve.letter==="*"){yi({r:ae,c:be,tileId:Ve.id}),na(!0);return}if(X.every(qe=>qe.every(pt=>pt===null))&&_t.length===0&&be!==0){or(!0),setTimeout(()=>or(!1),3e3);return}if(He!==-1){const qe=_t[He],pt=[..._t];Te(wt=>wt.map(zn=>zn.id===Ve.id?{...zn,isPlaced:!0}:zn.id===qe.id?{...zn,isPlaced:!1}:zn)),pt.splice(He,1,{r:ae,c:be,letter:Ve.letter,isWild:!1,id:Ve.id}),kt(pt)}else{const qe=[..._t,{r:ae,c:be,letter:Ve.letter,isWild:!1,id:Ve.id}];if(!Vm(qe)){Fe({text:" Tiles must be placed in a single row or column",type:"error"}),xn("error");return}kt(qe),Te(pt=>pt.map(wt=>wt.id===Ve.id?{...wt,isPlaced:!0}:wt))}or(!1),jt(null),Rn({r:ae,c:Math.min(Le-1,be+1)}),Ye.type==="error"&&Fe({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(ve.type==="board"){if(ve.r===ae&&ve.c===be)return;const Ve=_t.findIndex(pt=>pt.r===ve.r&&pt.c===ve.c);if(Ve===-1)return;const ct=_t[Ve],qe=[..._t];if(He!==-1){const pt=_t[He];qe[He]={...pt,r:ve.r,c:ve.c},qe[Ve]={...ct,r:ae,c:be}}else qe[Ve]={...ct,r:ae,c:be};if(!Vm(qe)){Fe({text:" Tiles must be placed in a single row or column",type:"error"}),xn("error");return}kt(qe),Rn({r:ae,c:Math.min(Le-1,be+1)})}}catch{}},si=W=>{if(Ke||i!=="playing")return;W.preventDefault(),W.stopPropagation();const ae=W.dataTransfer.getData("text/plain");if(ae)try{const be=JSON.parse(ae);if(be.type==="board"){const Ee=_t.find(ve=>ve.r===be.r&&ve.c===be.c);kt(ve=>ve.filter(He=>!(He.r===be.r&&He.c===be.c))),Te(ve=>ve.map(He=>He.id===Ee.id?{...He,isPlaced:!1}:He)),xn("light")}}catch{}},Oa=(W,ae)=>{if(!X||!X[W])return null;if(X[W][ae])return{letter:X[W][ae],type:"locked"};const be=_t.find(Ee=>Ee.r===W&&Ee.c===ae);return be?{letter:be.letter,type:"temp",isWild:be.isWild}:null},Gr=(W,ae)=>_n.find(be=>be.r===W&&be.c===ae),oi=(W,ae)=>At.find(be=>be.r===W&&be.c===ae),xr=async()=>{if(_t.length===0)return;In(!0),Fe({text:"Validating...",type:"info"});const W=X.map(Ve=>[...Ve]);if(_t.forEach(Ve=>{W[Ve.r]&&(W[Ve.r][Ve.c]=Ve.letter)}),_t.length>1){const Ve=[..._t].sort((pt,wt)=>pt.r-wt.r||pt.c-wt.c),ct=Ve[0],qe=Ve[Ve.length-1];if(ct.r===qe.r){for(let pt=ct.c;pt<=qe.c;pt++)if(!W[ct.r][pt]){Ln("Cannot leave gaps between tiles.");return}}else for(let pt=ct.r;pt<=qe.r;pt++)if(!W[pt][ct.c]){Ln("Cannot leave gaps between tiles.");return}}const ae=X.every(Ve=>Ve.every(ct=>ct===null));let be=!1,Ee=!1;const ve=X[0].length;if(_t.forEach(Ve=>{Ve.c===0&&(be=!0),[{r:Ve.r+1,c:Ve.c},{r:Ve.r-1,c:Ve.c},{r:Ve.r,c:Ve.c+1},{r:Ve.r,c:Ve.c-1}].forEach(qe=>{qe.r>=0&&qe.r<pa&&qe.c>=0&&qe.c<ve&&X[qe.r]&&X[qe.r][qe.c]&&(Ee=!0)})}),ae&&!be){Ln("First word must start in Column 1.");return}if(!ae&&!Ee){Ln("Tiles must connect to existing words.");return}const Le=Tr(W).filter(Ve=>Ve.cells.some(ct=>_t.some(qe=>qe.r===ct.r&&qe.c===ct.c)));if(Le.length===0){Ln("Words must be at least 2 letters.");return}try{const Ve=[];for(const ct of Le)await li(ct.word)||Ve.push(ct.word);if(Ve.length>0){Ln(`Invalid word(s): ${Ve.join(", ")}`,Ve[0]);return}Di(W,Le)}catch(Ve){console.error(Ve),Ln("Error checking dictionary. Try again.")}},li=async W=>{const ae=W.toLowerCase().trim(),be=ae.toUpperCase();if(_a.has(be)||dM.has(be))return!0;if(ae.length===2)return!1;try{const ve=`https://dictionaryapi.com/api/v3/references/collegiate/json/${encodeURIComponent(ae)}?key=4e64bca3-60b7-40bf-bcda-d8e496a67a7f`,He=await fetch(ve);if(!He.ok)return!1;const Le=await He.json();return!Array.isArray(Le)||Le.length===0||typeof Le[0]=="string"?!1:Le.some(ct=>typeof ct!="object"||!ct.meta||ct.fl==="abbreviation"||ct.fl==="abbr"?!1:Array.isArray(ct.meta.stems)?ct.meta.stems.map(pt=>pt.toLowerCase()).includes(ae):!1)}catch(Ee){return console.warn("M-W API Error:",Ee),!0}},Gi=W=>{lt(W),tt(!0)},ui=async()=>{if(nt){try{const W=Nl(Dl,"missing_words");await Dm(W,{word:nt.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),ri(ae=>new Set(ae).add(nt.toUpperCase())),Fe({text:`Reported '${nt}' - You can use it now!`,type:"success"})}catch(W){console.error("Error reporting word:",W),Fe({text:"Could not report word.",type:"error"})}tt(!1),lt(null)}},Tr=W=>{let ae=[];const be=X[0].length;for(let Ee=0;Ee<pa;Ee++){let ve="",He=[];for(let Le=0;Le<be;Le++)W[Ee]&&W[Ee][Le]?(ve+=W[Ee][Le],He.push({r:Ee,c:Le})):(ve.length>1&&ae.push({word:ve,cells:[...He],type:"H"}),ve="",He=[]);ve.length>1&&ae.push({word:ve,cells:[...He],type:"H"})}for(let Ee=0;Ee<be;Ee++){let ve="",He=[];for(let Le=0;Le<pa;Le++)W[Le]&&W[Le][Ee]?(ve+=W[Le][Ee],He.push({r:Le,c:Ee})):(ve.length>1&&ae.push({word:ve,cells:[...He],type:"V"}),ve="",He=[]);ve.length>1&&ae.push({word:ve,cells:[...He],type:"V"})}return ae},Ln=(W,ae=null)=>{Fe({text:W,type:"error",invalidWord:ae}),In(!1),xn("error")},Di=(W,ae)=>{xn("success");const be=JSON.parse(JSON.stringify(X)),Ee=fe.map(qe=>({...qe,isPlaced:!1}));oe(qe=>[...qe,{grid:be,hand:Ee,score:Nt,drawCount:Et}]),ye(W),rt(!0),setTimeout(()=>rt(!1),200);let ve=0,He=!1;ae.forEach(qe=>{qe.cells.forEach(pt=>{const wt=Gr(pt.r,pt.c),zn=_t.some(Jn=>Jn.r===pt.r&&Jn.c===pt.c);wt&&zn&&(ve+=wt.val),Gt.some(Jn=>Jn.r===pt.r&&Jn.c===pt.c)&&(He=!0)})});let Le=fe.filter(qe=>!qe.isPlaced);if(ve>0){const pt=dt.slice(Et,Et+ve).map(wt=>Cf(wt,!0));Le=[...Le,...pt].sort((wt,zn)=>wt.letter!==zn.letter?wt.letter.localeCompare(zn.letter):wt.isNew===zn.isNew?0:wt.isNew?1:-1),Mt(wt=>wt+ve)}if(He){const qe=Cf("*",!0);Le=[...Le,qe].sort((pt,wt)=>pt.letter!==wt.letter?pt.letter.localeCompare(wt.letter):pt.isNew===wt.isNew?0:pt.isNew?1:-1)}if(Te(Le),ve>0||He){const qe=He?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${ve} Bonus Tiles!`;Fe({text:qe,type:"success"})}else Fe({text:"Valid move!",type:"success"});let Ve=Nt-1;const ct=X[0].length;_t.forEach(qe=>{qe.c>Ve&&(Ve=qe.c)});for(let qe=0;qe<pa;qe++)for(let pt=0;pt<ct;pt++)W[qe]&&W[qe][pt]&&pt>Ve&&(Ve=pt);C(Ve+1),kt([]),In(!1),Rn(null),zr(!1)},It=()=>{xn("click"),Te(W=>[...W].sort(()=>Math.random()-.5))},Oi=()=>{xn("click"),Te(W=>[...W].sort((ae,be)=>ae.letter!==be.letter?ae.letter.localeCompare(be.letter):ae.isNew===be.isNew?0:ae.isNew?1:-1))},Mr=fe.reduce((W,ae)=>(W[ae.letter]||(W[ae.letter]=[]),W[ae.letter].push(ae),W),{}),mr=Array.from(new Set(fe.map(W=>W.letter))),Yi=mr.length>=6,ki=Math.ceil(mr.length/2),Ei=Yi?mr.slice(0,ki):mr,wi=Yi?mr.slice(ki):[],nr=({letter:W})=>{const ae=Mr[W]||[],be=ae.filter(ct=>!ct.isPlaced),Ee=Math.min(be.length,15),ve=be[be.length-1];if(ae.length>0&&Ee===0)return x.createElement("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:j.boardBackground+"40",borderColor:j.boardLines}});if(Ee===0)return null;const He=ve&&st===ve.id,Le=6,Ve=40+(Ee>1?(Ee-1)*Le:0);return x.createElement("div",{className:"relative w-10 flex items-end",style:{height:`${Ve}px`}},[...Array(Ee-1)].map((ct,qe)=>{const wt=(W.charCodeAt(0)+qe)%7-3;return x.createElement("div",{key:qe,className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${qe*Le}px`,zIndex:qe,transform:`rotate(${wt}deg)`}})}),x.createElement("button",{draggable:!Ke&&i==="playing",onDragStart:ct=>qi(ct,{type:"hand",tile:ve}),onClick:()=>bi(ve.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${i==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(Ee-1)*Le}px`,zIndex:Ee,backgroundColor:He?j.accentPrimary:W==="*"?j.tileTemp:"white",color:He?"white":"#1f2937",transform:He?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${He?0:W.charCodeAt(0)%5-2}deg)`}},ve&&ve.isNew&&x.createElement("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter"},"NEW"),W==="*"?x.createElement(vf,{size:20,fill:j.starPurple,className:"text-purple-500"}):W))};return i==="menu"?x.createElement("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:j.background,color:j.textMain}},x.createElement("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative"},x.createElement("div",{className:"space-y-4 flex flex-col items-center w-full"},x.createElement($_,null),x.createElement("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400"},x.createElement("span",null,"Refreshed Daily"),x.createElement(ym,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})),x.createElement("div",{className:"flex flex-col gap-1 items-center"},x.createElement("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:j.textSub}},"Jump as far as you can by building words, connecting tiles and picking up extra letters."),x.createElement("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:j.tileLocked,color:j.accentSecondary,borderColor:j.accentPrimary}},"Today's Par: ",ti,"m"))),x.createElement("div",{className:"w-full max-w-xs space-y-2 group"},x.createElement("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:j.textSub}},"Enter your name"),x.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:j.modalBg,color:j.textMain,borderColor:"transparent"},onFocus:W=>W.target.style.borderColor=j.accentPrimary,onBlur:W=>W.target.style.borderColor="transparent"})),x.createElement("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center"},x.createElement("button",{onClick:()=>vi("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:j.accentPrimary}},"Play ",x.createElement(NT,{size:20,fill:"currentColor"})),x.createElement("button",{onClick:()=>vi("quick"),className:"flex-1 py-4 bg-blue-500 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",style:{backgroundColor:"#3b82f6"}},"Quick ",x.createElement("span",{className:"text-xs px-1.5 py-0.5 rounded text-blue-100",style:{backgroundColor:"#2563eb"}},"25m"))),x.createElement("div",{className:"flex flex-col items-center gap-3 mt-8 w-full"},x.createElement("div",{className:"flex flex-row items-center justify-center gap-4"},x.createElement("button",{onClick:()=>w(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:j.tileLocked,color:j.textSub},title:"Updates"},x.createElement(p0,{size:14})),x.createElement("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:j.textSub}},"By Richard Bolland"),x.createElement("span",{style:{color:j.boardLines}},"|"),x.createElement("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap"},x.createElement(TT,{size:14,className:"fill-pink-600"}),x.createElement("span",null,"Tip Jar"))),x.createElement("span",{className:"text-[10px] text-center max-w-xs leading-tight",style:{color:j.textSub}},"Help cover server costs & keep the game running.")),x.createElement("div",{className:"block lg:hidden w-full h-full min-h-[300px]"},x.createElement(Pm,{user:Xe,lastUpdated:Ie,initialMode:"standard",onParCalculated:Mi,theme:j}))),x.createElement("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch"},x.createElement(Pm,{user:Xe,lastUpdated:Ie,initialMode:"standard",onParCalculated:Mi,theme:j})),E&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},x.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("div",{className:"flex justify-between items-center mb-6"},x.createElement("h3",{className:"text-xl font-black uppercase flex items-center gap-2",style:{color:j.textMain}},x.createElement(p0,{size:20})," What's New"),x.createElement("button",{onClick:()=>w(!1),style:{color:j.textSub}},x.createElement(vm,{size:24}))),x.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},x.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:j.accentPrimary}},x.createElement("div",{className:"text-xs font-bold uppercase",style:{color:j.accentPrimary}},"v8.11"),x.createElement("div",{className:"font-bold",style:{color:j.textMain}},"Dictionary Upgrade"),x.createElement("p",{className:"text-xs",style:{color:j.textSub}},"Now powered by Merriam-Webster Collegiate Dictionary! Smarter validation for plurals and word forms.")),x.createElement("div",{className:"border-l-2 border-gray-300 pl-3"},x.createElement("div",{className:"text-xs font-bold text-gray-400 uppercase"},"v8.10"),x.createElement("div",{className:"font-bold",style:{color:j.textSub}},"UI Polish"),x.createElement("p",{className:"text-xs",style:{color:j.textSub}},"New Report & Undo confirmation windows.")),x.createElement("div",{className:"border-l-2 border-gray-300 pl-3"},x.createElement("div",{className:"text-xs font-bold text-gray-400 uppercase"},"v8.00"),x.createElement("div",{className:"font-bold",style:{color:j.textSub}},"Database Reporting"),x.createElement("p",{className:"text-xs",style:{color:j.textSub}},"Word reporting saves to database. Live dictionary loading."))),x.createElement("button",{onClick:()=>w(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:j.boardLines,color:j.textMain}},"Close")))):x.createElement("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:j.background,color:j.textMain}},i==="gameOver"&&!Me&&x.createElement("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6"},x.createElement(TM,{theme:j}),x.createElement("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:j.modalBg+"EE",borderColor:j.boardLines}},x.createElement("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:j.textMain}},"STATISTICS"),x.createElement("div",{className:"flex justify-between items-start mb-8 px-1 gap-1"},x.createElement("div",{className:"flex flex-col items-center"},x.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ni?.gamesPlayed||0),x.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Played")),x.createElement("div",{className:"flex flex-col items-center"},x.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ni?.currentStreak||0),x.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Current",x.createElement("br",null),"Streak")),x.createElement("div",{className:"flex flex-col items-center"},x.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ni?.maxStreak||0),x.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Max",x.createElement("br",null),"Streak")),x.createElement("div",{className:"flex flex-col items-center"},x.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ni?.gamesPlayed>0?Math.round(ni.totalDistance/ni.gamesPlayed):0,"m"),x.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Avg",x.createElement("br",null),"Dist")),x.createElement("div",{className:"flex flex-col items-center"},x.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},(ni?.totalDistance||0)>=1e3?(ni.totalDistance/1e3).toFixed(1)+"k":(ni?.totalDistance||0)+"m"),x.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Total",x.createElement("br",null),"Dist"))),x.createElement("div",{className:"rounded-2xl p-6 mb-6 shadow-sm border",style:{backgroundColor:j.settingsBg,borderColor:j.boardLines}},x.createElement("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:j.textSub}},"Athlete"),x.createElement("div",{className:"text-3xl font-black mb-6",style:{color:j.textMain}},l),x.createElement("div",{className:"text-xs font-bold uppercase tracking-widest mb-1",style:{color:j.textSub}},"Distance"),x.createElement("div",{className:"text-6xl font-black",style:{color:j.accentPrimary}},g,"m")),x.createElement("div",{className:"flex flex-col gap-3"},x.createElement("button",{onClick:$a,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain}},pe?x.createElement(x.Fragment,null,x.createElement(oT,{size:20})," Copied"):x.createElement(x.Fragment,null,x.createElement(zT,{size:20})," Share Result")),x.createElement("div",{className:"flex gap-2"},x.createElement("button",{onClick:Ir,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"}},"Play Again"),x.createElement("button",{onClick:()=>We(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain},title:"View Board"},x.createElement(bT,{size:24}))))),x.createElement("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative"},x.createElement(Pm,{highlightName:l,user:Xe,onRankFound:J,lastUpdated:Ie,initialMode:r,onParCalculated:Mi,theme:j}))),Pr&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},x.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:j.textMain}},"Pick a Letter"),x.createElement("div",{className:"grid grid-cols-6 gap-2"},Object.keys(TE).filter(W=>W!=="*").map(W=>x.createElement("button",{key:W,onClick:()=>wa(W),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:j.tileTemp,borderColor:j.tileTempRing,color:j.textMain}},W))),x.createElement("button",{onClick:()=>{na(!1),yi(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:j.textSub}},"Cancel"))),Pe&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},x.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("div",{className:"flex justify-center mb-4"},x.createElement("div",{className:"bg-yellow-100 p-3 rounded-full"},x.createElement(d0,{size:32,className:"text-yellow-600"}))),x.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:j.textMain}},"Report Missing Word"),x.createElement("p",{className:"mb-4 text-sm font-bold",style:{color:j.textMain}},'"',nt,'"'),x.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left"},x.createElement("p",{className:"text-xs text-red-700 leading-relaxed font-medium"},x.createElement("strong",null," Warning:")," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted.")),x.createElement("div",{className:"flex gap-3"},x.createElement("button",{onClick:()=>{tt(!1),lt(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),x.createElement("button",{onClick:ui,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600"},"Report & Add")))),Y&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},x.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("div",{className:"flex justify-center mb-4"},x.createElement("div",{className:"bg-blue-100 p-3 rounded-full"},x.createElement(m0,{size:32,className:"text-blue-600"}))),x.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:j.textMain}},"Use Undo?"),x.createElement("p",{className:"mb-6 text-sm",style:{color:j.textSub}},"You can only use Undo ",x.createElement("strong",{style:{color:j.accentPrimary}},"once per turn"),". ",x.createElement("br",null),x.createElement("br",null),"Are you sure you want to go back?"),x.createElement("div",{className:"flex gap-3"},x.createElement("button",{onClick:()=>F(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),x.createElement("button",{onClick:Kn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600"},"Confirm Undo")))),(An||Wn)&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},x.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:j.modalBg}},x.createElement(aT,{size:48,style:{color:j.accentPrimary}})),x.createElement("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:j.textMain}},"Game Rules"),x.createElement("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:j.textSub}},x.createElement("p",{className:"flex gap-2"},x.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),x.createElement("span",null,"This is a ",x.createElement("strong",null,"daily seeded game"),". Everyone gets the same letters and board - refreshed daily.")),x.createElement("p",{className:"flex gap-2"},x.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),x.createElement("span",null,"Place words ",x.createElement("strong",null,"Left to Right")," or ",x.createElement("strong",null,"Top to Bottom")," (Scrabble rules).")),x.createElement("p",{className:"flex gap-2"},x.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),x.createElement("span",null,"Minimum ",x.createElement("strong",null,"2 letter")," words.")),x.createElement("p",{className:"flex gap-2"},x.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),x.createElement("span",null,"Start in ",x.createElement("strong",null,"Column 1")," (left).")),x.createElement("p",{className:"flex gap-2 items-center"},x.createElement(ym,{size:16,className:"text-yellow-500 fill-yellow-500"}),x.createElement("span",null,x.createElement("strong",null,"Yellow Stars:")," Give +1, +2, or +3 random letters.")),x.createElement("p",{className:"flex gap-2 items-center"},x.createElement(vf,{size:16,className:"text-purple-500 fill-purple-500"}),x.createElement("span",null,x.createElement("strong",null,"Purple Sparkles:")," Give you a blank Wildcard tile!"))),x.createElement("button",{onClick:()=>{kn(!1),Vr(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:j.accentPrimary}},An?"Let's Jump!":"Close"))),Qn&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},x.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("div",{className:"flex justify-center mb-4"},x.createElement("div",{className:"bg-red-100 p-3 rounded-full"},x.createElement(RT,{size:32,className:"text-red-500"}))),x.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:j.textMain}},"Exit Game?"),x.createElement("p",{className:"mb-8",style:{color:j.textSub}},"Are you sure you want to quit? You will lose your current progress."),x.createElement("div",{className:"flex gap-3"},x.createElement("button",{onClick:()=>Bt(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),x.createElement("button",{onClick:Ea,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600"},"Exit")))),ln&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},x.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:j.textMain}},"Submit Score?"),x.createElement("p",{className:"mb-8",style:{color:j.textSub}},"You reached column ",x.createElement("strong",{style:{color:j.accentPrimary}},Nt),". This will end your current run."),x.createElement("div",{className:"flex gap-3"},x.createElement("button",{onClick:dr,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),x.createElement("button",{onClick:ht,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:j.accentPrimary}},"Confirm")))),p&&x.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},x.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},x.createElement("div",{className:"flex justify-between items-center mb-6"},x.createElement("h3",{className:"text-xl font-black uppercase",style:{color:j.textMain}},"Settings"),x.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:j.textSub}},x.createElement(vm,{size:24}))),x.createElement("div",{className:"space-y-6"},x.createElement("div",{className:"space-y-2"},x.createElement("label",{className:"text-xs font-bold uppercase tracking-widest",style:{color:j.textSub}},"Username"),x.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),maxLength:12,className:"w-full border px-4 py-3 rounded-xl font-bold outline-none transition-all",style:{backgroundColor:j.settingsBg,borderColor:"transparent",color:j.textMain}})),x.createElement("div",{className:"space-y-3"},x.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},x.createElement("div",{className:"flex items-center gap-3"},Se?x.createElement(xT,{size:20,className:"text-purple-400"}):x.createElement(GT,{size:20,className:"text-yellow-500"}),x.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Dark Mode")),x.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},x.createElement("input",{type:"checkbox",className:"sr-only peer",checked:Se,onChange:()=>je(!Se)}),x.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"}))),x.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},x.createElement("div",{className:"flex items-center gap-3"},G?x.createElement(QT,{size:20,className:"text-blue-500"}):x.createElement(KT,{size:20,className:"text-gray-400"}),x.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Sound Effects")),x.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},x.createElement("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>ie(!G)}),x.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"}))),x.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},x.createElement("div",{className:"flex items-center gap-3"},B?x.createElement(y0,{size:20,className:"text-orange-500 fill-orange-500"}):x.createElement(y0,{size:20,className:"text-gray-400"}),x.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Haptics")),x.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},x.createElement("input",{type:"checkbox",className:"sr-only peer",checked:B,onChange:()=>ke(!B)}),x.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),x.createElement("div",{className:"flex items-center justify-between p-3 rounded-xl",style:{backgroundColor:j.settingsBg}},x.createElement("div",{className:"flex items-center gap-3"},x.createElement("span",{className:"text-xl"},""),x.createElement("div",{className:"flex flex-col"},x.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Crowd Fans"))),x.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},x.createElement("input",{type:"checkbox",className:"sr-only peer",checked:N,onChange:()=>O(!N)}),x.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})))),P&&x.createElement("button",{onClick:R,className:"w-full py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm flex items-center justify-center gap-2 text-white",style:{backgroundColor:j.accentPrimary}},x.createElement(vT,{size:16})," Install App"),x.createElement("div",{className:"pt-4 border-t",style:{borderColor:j.boardLines}},x.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:j.textSub}},"Make a Suggestion"),x.createElement("textarea",{value:L,onChange:W=>I(W.target.value),className:"w-full border px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24",style:{backgroundColor:j.settingsBg,borderColor:"transparent",color:j.textMain},placeholder:"Ideas for new modes, obstacles, or features..."}),x.createElement("button",{onClick:q,disabled:$!=="idle"||!L.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${$==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`},$==="submitting"?"Sending...":$==="success"?"Sent! Thanks":"Submit Suggestion"))),x.createElement("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 font-bold uppercase tracking-widest text-xs hover:opacity-70 transition-all",style:{color:j.textSub}},"Close Settings"))),x.createElement("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50"},x.createElement("div",{className:"flex flex-col items-start"},x.createElement("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:j.textSub}},new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()),fn&&x.createElement("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap"},x.createElement("span",{className:"font-bold uppercase tracking-widest",style:{color:j.textSub}},r==="quick"?"Quick Leader":"Standard Leader"),x.createElement(Lm,{size:12,className:"text-yellow-500 fill-yellow-500"}),x.createElement("span",{className:"font-bold",style:{color:j.textMain}},fn.name),x.createElement("span",{className:"font-mono",style:{color:j.textSub}},fn.score,"m")),x.createElement("div",{className:"block md:hidden"},Nt>0&&i==="playing"&&x.createElement("button",{onClick:hr,disabled:Ke||Ut,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"}},"END RUN ",x.createElement(g0,{size:10,style:{color:km.starGold}})),i==="gameOver"&&Me&&x.createElement("button",{onClick:()=>We(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:j.accentPrimary,color:"white"}},x.createElement(h0,{size:12})," RESULTS"))),x.createElement("div",{className:"flex flex-col items-center flex-1"},x.createElement("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:Pn},x.createElement($_,null)),x.createElement("div",{className:"hidden md:block mt-6"},i==="playing"&&Nt>0&&x.createElement("button",{onClick:hr,disabled:Ke||Ut,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"}},"END RUN ",x.createElement(g0,{size:10,style:{color:km.starGold}})),i==="gameOver"&&Me&&x.createElement("button",{onClick:()=>We(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:j.accentPrimary}},x.createElement(h0,{size:14})," BACK TO RESULTS"))),x.createElement("div",{className:"flex flex-col items-end w-32 gap-1"},x.createElement("span",{className:"text-xs font-bold tracking-widest",style:{color:j.accentPrimary}},l||"PLAYER 1"),x.createElement("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:j.accentPrimary}},x.createElement(kT,{size:16})," ",g,"m"),x.createElement("div",{className:"flex gap-2"},x.createElement("button",{onClick:()=>Vr(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:j.textSub}},"Rules ",x.createElement(ST,{size:12})),x.createElement("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:j.textSub}},x.createElement(LT,{size:14}))))),x.createElement("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Da,onMouseLeave:hn,onMouseUp:ia,onMouseMove:Ni},x.createElement("div",{ref:Hn,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Rr?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"}},x.createElement("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area"},x.createElement("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${ti*Ra}px`}},x.createElement("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest"},"PAR")),x.createElement("div",{className:"flex relative mb-3",style:{width:`${X[0].length*Ra}px`,height:"24px"}},Array(X[0].length).fill(0).map((W,ae)=>{const be=ae===0,Ee=(ae+1)%5===0;if(!be&&!Ee)return null;const ve=Nt<3;return x.createElement("div",{key:`ruler-${ae}`,className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ae*Ra+Ra/2,transform:`translateX(-50%) ${be&&ve?"translateY(-45px)":"translateY(0)"}`}},x.createElement("span",{className:"text-xs tracking-wider",style:{color:be?j.textMain:j.textSub}},be?"START":`${ae+1}m`),x.createElement("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:be?j.textMain:j.boardLines}}))})),x.createElement("div",{className:"relative"},x.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},N&&wr.filter(W=>W.type==="top").map((W,ae)=>{const be=Math.max(W.startCol,Nt+W.offset);return x.createElement("div",{key:`fan-top-${W.id}`,className:"absolute -top-[55px]",style:{left:`${be*Ra}px`,transition:"left 1.2s ease-in-out",zIndex:50}},x.createElement(J_,{trigger:et}))})),x.createElement("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${X[0].length}, ${Ra}px)`,gridTemplateRows:`repeat(${pa}, ${Ra}px)`,backgroundColor:j.boardBackground,borderColor:j.boardLines}},Array(pa).fill(0).map((W,ae)=>Array(X[0].length).fill(0).map((be,Ee)=>{const ve=Oa(ae,Ee),He=Gr(ae,Ee),Le=oi(ae,Ee),Ve=Gt.some(Nr=>Nr.r===ae&&Nr.c===Ee),qe=Ee===0&&!ve&&!Ka,pt=ve?.type==="locked",wt=(Ee+1)%5===0,zn=Ee<g,Jn=Pt&&Pt.r===ae&&Pt.c===Ee,Ms=Ke&&pt?"animate-jump-green":"";return x.createElement("div",{key:`${ae}-${Ee}`,onClick:()=>aa(ae,Ee),onDragOver:ai,onDrop:Nr=>sa(Nr,ae,Ee),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${ve?ve.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Le?"cursor-not-allowed":"hover:bg-white/20"}  ${ve?.type==="temp"?`bg-[${j.tileTemp}] ring-2 ring-[${j.tileTempRing}] -translate-y-[2px] z-10`:""} ${!ve&&!Le&&zn?"bg-white/20":Ee===0&&!ve?"bg-green-100/40":!ve&&!Le&&!qe&&(ae+Ee)%2===0?"bg-black/5":"bg-transparent"} ${Jn?"ring-4 ring-blue-400 z-20":""} ${!ve&&Jn?"bg-blue-50/20":""} ${!ve&&wt?"border-r-2 border-r-black/10":"border border-black/5"} ${zn?"animate-pop-green":""} ${Ms}`,style:pt?{backgroundColor:zn?j.overlayComplete:j.tileLocked,color:j.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:Ke?`${Ee*50}ms`:"0ms"}:ve?.type==="temp"?{backgroundColor:ve.isWild?j.tileWildPlaced:j.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Le?{backgroundColor:j.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{}},!ve&&qe&&x.createElement("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10"},x.createElement(dT,{size:20,style:{color:j.startArrow}})),!ve&&Le&&x.createElement("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!ve&&He&&!Le&&!Ve&&x.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10"},x.createElement(ym,{className:"w-6 h-6",fill:j.starGold,stroke:j.starGold}),x.createElement("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"}},"+",He.val)),!ve&&Ve&&!Le&&x.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse"},x.createElement(vf,{className:"w-7 h-7",fill:j.starPurple,stroke:j.starPurple})),ve&&x.createElement("div",{draggable:ve.type==="temp"&&!Ke&&i==="playing",onDragStart:Nr=>qi(Nr,{type:"board",r:ae,c:Ee,letter:ve.letter}),className:`w-full h-full flex items-center justify-center ${ve.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`},x.createElement("span",{className:"text-2xl font-bold select-none font-mono"},ve.letter),ve.isWild&&x.createElement(vf,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})))}))),x.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},N&&wr.filter(W=>W.type==="bottom").map((W,ae)=>{const be=Math.max(W.startCol,Nt+W.offset);return x.createElement("div",{key:`fan-bottom-${W.id}`,className:"absolute -bottom-[35px]",style:{left:`${be*Ra}px`,transition:"left 1.2s ease-in-out",zIndex:50}},x.createElement(J_,{trigger:et}))}))),Rt&&x.createElement("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none"},x.createElement("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative"},x.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),x.createElement(fT,{size:16}),"Start Here!"))))),x.createElement("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50"},x.createElement("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},x.createElement("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${Ye.type==="error"?"bg-red-100 text-red-700":Ye.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`},x.createElement("span",null,Ut?"Checking...":Ye.text),Ye.type==="error"&&Ye.invalidWord&&x.createElement("button",{onClick:()=>Gi(Ye.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:j.accentPrimary,color:"white"}},"Report ",x.createElement(d0,{size:10}))),x.createElement("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center"},x.createElement("button",{onClick:bn,disabled:Ke||U.length===0||i!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain},title:"Undo last move"},x.createElement(m0,{size:16})),x.createElement("button",{onClick:It,disabled:Ke||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain}},x.createElement(jT,{size:16})," Shuffle"),x.createElement("button",{onClick:Oi,disabled:Ke||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain}},x.createElement(nT,{size:16})," Sort A-Z"),_t.length>0&&x.createElement("button",{onClick:xr,disabled:Ut||Ke||i!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${Ut||Ke?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:Ut||Ke?{}:{backgroundColor:j.accentPrimary,color:"white"}},Ut?"Checking...":"JUMP"," ",x.createElement(uT,{size:18,strokeWidth:4})),_t.length>0&&x.createElement("button",{onClick:_i,disabled:Ke||i!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50"},x.createElement(vm,{size:16})))),x.createElement("div",{onDragOver:ai,onDrop:si,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:j.handBg}},mr.length===0&&x.createElement("div",{className:"italic",style:{color:j.textSub}},"Empty Hand"),mr.length<6?x.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},mr.map(W=>x.createElement(nr,{key:W,letter:W}))):x.createElement("div",{className:"flex flex-col gap-2 w-full items-center"},x.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},Ei.map(W=>x.createElement(nr,{key:W,letter:W}))),x.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},wi.map(W=>x.createElement(nr,{key:W,letter:W})))))),x.createElement("style",null,`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `))}Ww.createRoot(document.getElementById("root")).render(x.createElement(Be.StrictMode,null,x.createElement(AM,null)));
