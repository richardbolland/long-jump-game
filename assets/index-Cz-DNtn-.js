(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var sm={exports:{}},Pu={};var Gv;function DE(){if(Gv)return Pu;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:c}}return Pu.Fragment=e,Pu.jsx=i,Pu.jsxs=i,Pu}var Yv;function NE(){return Yv||(Yv=1,sm.exports=DE()),sm.exports}var Y=NE(),om={exports:{}},It={};var Xv;function VE(){if(Xv)return It;Xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),H=Symbol.iterator;function te(P){return P===null||typeof P!="object"?null:(P=H&&P[H]||P["@@iterator"],typeof P=="function"?P:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oe=Object.assign,Te={};function Le(P,ne,ve){this.props=P,this.context=ne,this.refs=Te,this.updater=ve||B}Le.prototype.isReactComponent={},Le.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},Le.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function je(){}je.prototype=Le.prototype;function Be(P,ne,ve){this.props=P,this.context=ne,this.refs=Te,this.updater=ve||B}var Je=Be.prototype=new je;Je.constructor=Be,Oe(Je,Le.prototype),Je.isPureReactComponent=!0;var tt=Array.isArray;function at(){}var F={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(P,ne,ve){var _e=ve.ref;return{$$typeof:r,type:P,key:ne,ref:_e!==void 0?_e:null,props:ve}}function L(P,ne){return V(P.type,ne,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ve){return ne[ve]})}var I=/\/+/g;function K(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):ne.toString(36)}function se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(at,at):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function q(P,ne,ve,_e,Re){var Ge=typeof P;(Ge==="undefined"||Ge==="boolean")&&(P=null);var ot=!1;if(P===null)ot=!0;else switch(Ge){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(P.$$typeof){case r:case e:ot=!0;break;case x:return ot=P._init,q(ot(P._payload),ne,ve,_e,Re)}}if(ot)return Re=Re(P),ot=_e===""?"."+K(P,0):_e,tt(Re)?(ve="",ot!=null&&(ve=ot.replace(I,"$&/")+"/"),q(Re,ne,ve,"",function(Ot){return Ot})):Re!=null&&(C(Re)&&(Re=L(Re,ve+(Re.key==null||P&&P.key===Re.key?"":(""+Re.key).replace(I,"$&/")+"/")+ot)),ne.push(Re)),1;ot=0;var ht=_e===""?".":_e+":";if(tt(P))for(var bt=0;bt<P.length;bt++)_e=P[bt],Ge=ht+K(_e,bt),ot+=q(_e,ne,ve,Ge,Re);else if(bt=te(P),typeof bt=="function")for(P=bt.call(P),bt=0;!(_e=P.next()).done;)_e=_e.value,Ge=ht+K(_e,bt++),ot+=q(_e,ne,ve,Ge,Re);else if(Ge==="object"){if(typeof P.then=="function")return q(se(P),ne,ve,_e,Re);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ot}function ee(P,ne,ve){if(P==null)return P;var _e=[],Re=0;return q(P,_e,"","",function(Ge){return ne.call(ve,Ge,Re++)}),_e}function ye(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ve){(P._status===0||P._status===-1)&&(P._status=1,P._result=ve)},function(ve){(P._status===0||P._status===-1)&&(P._status=2,P._result=ve)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ie={map:ee,forEach:function(P,ne,ve){ee(P,function(){ne.apply(this,arguments)},ve)},count:function(P){var ne=0;return ee(P,function(){ne++}),ne},toArray:function(P){return ee(P,function(ne){return ne})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return It.Activity=U,It.Children=Ie,It.Component=Le,It.Fragment=i,It.Profiler=l,It.PureComponent=Be,It.StrictMode=a,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,It.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(P,ne,ve){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var _e=Oe({},P.props),Re=P.key;if(ne!=null)for(Ge in ne.key!==void 0&&(Re=""+ne.key),ne)!z.call(ne,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ne.ref===void 0||(_e[Ge]=ne[Ge]);var Ge=arguments.length-2;if(Ge===1)_e.children=ve;else if(1<Ge){for(var ot=Array(Ge),ht=0;ht<Ge;ht++)ot[ht]=arguments[ht+2];_e.children=ot}return V(P.type,Re,_e)},It.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},It.createElement=function(P,ne,ve){var _e,Re={},Ge=null;if(ne!=null)for(_e in ne.key!==void 0&&(Ge=""+ne.key),ne)z.call(ne,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Re[_e]=ne[_e]);var ot=arguments.length-2;if(ot===1)Re.children=ve;else if(1<ot){for(var ht=Array(ot),bt=0;bt<ot;bt++)ht[bt]=arguments[bt+2];Re.children=ht}if(P&&P.defaultProps)for(_e in ot=P.defaultProps,ot)Re[_e]===void 0&&(Re[_e]=ot[_e]);return V(P,Ge,Re)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:b,render:P}},It.isValidElement=C,It.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:ye}},It.memo=function(P,ne){return{$$typeof:E,type:P,compare:ne===void 0?null:ne}},It.startTransition=function(P){var ne=F.T,ve={};F.T=ve;try{var _e=P(),Re=F.S;Re!==null&&Re(ve,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(at,he)}catch(Ge){he(Ge)}finally{ne!==null&&ve.types!==null&&(ne.types=ve.types),F.T=ne}},It.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},It.use=function(P){return F.H.use(P)},It.useActionState=function(P,ne,ve){return F.H.useActionState(P,ne,ve)},It.useCallback=function(P,ne){return F.H.useCallback(P,ne)},It.useContext=function(P){return F.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,ne){return F.H.useDeferredValue(P,ne)},It.useEffect=function(P,ne){return F.H.useEffect(P,ne)},It.useEffectEvent=function(P){return F.H.useEffectEvent(P)},It.useId=function(){return F.H.useId()},It.useImperativeHandle=function(P,ne,ve){return F.H.useImperativeHandle(P,ne,ve)},It.useInsertionEffect=function(P,ne){return F.H.useInsertionEffect(P,ne)},It.useLayoutEffect=function(P,ne){return F.H.useLayoutEffect(P,ne)},It.useMemo=function(P,ne){return F.H.useMemo(P,ne)},It.useOptimistic=function(P,ne){return F.H.useOptimistic(P,ne)},It.useReducer=function(P,ne,ve){return F.H.useReducer(P,ne,ve)},It.useRef=function(P){return F.H.useRef(P)},It.useState=function(P){return F.H.useState(P)},It.useSyncExternalStore=function(P,ne,ve){return F.H.useSyncExternalStore(P,ne,ve)},It.useTransition=function(){return F.H.useTransition()},It.version="19.2.0",It}var Qv;function ef(){return Qv||(Qv=1,om.exports=VE()),om.exports}var wt=ef(),lm={exports:{}},Lu={},um={exports:{}},cm={};var Wv;function kE(){return Wv||(Wv=1,(function(r){function e(q,ee){var ye=q.length;q.push(ee);e:for(;0<ye;){var he=ye-1>>>1,Ie=q[he];if(0<l(Ie,ee))q[he]=ee,q[ye]=Ie,ye=he;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ee=q[0],ye=q.pop();if(ye!==ee){q[0]=ye;e:for(var he=0,Ie=q.length,P=Ie>>>1;he<P;){var ne=2*(he+1)-1,ve=q[ne],_e=ne+1,Re=q[_e];if(0>l(ve,ye))_e<Ie&&0>l(Re,ve)?(q[he]=Re,q[_e]=ye,he=_e):(q[he]=ve,q[ne]=ye,he=ne);else if(_e<Ie&&0>l(Re,ye))q[he]=Re,q[_e]=ye,he=_e;else break e}}return ee}function l(q,ee){var ye=q.sortIndex-ee.sortIndex;return ye!==0?ye:q.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],x=1,U=null,H=3,te=!1,B=!1,Oe=!1,Te=!1,Le=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,Be=typeof setImmediate<"u"?setImmediate:null;function Je(q){for(var ee=i(E);ee!==null;){if(ee.callback===null)a(E);else if(ee.startTime<=q)a(E),ee.sortIndex=ee.expirationTime,e(w,ee);else break;ee=i(E)}}function tt(q){if(Oe=!1,Je(q),!B)if(i(w)!==null)B=!0,at||(at=!0,k());else{var ee=i(E);ee!==null&&se(tt,ee.startTime-q)}}var at=!1,F=-1,z=5,V=-1;function L(){return Te?!0:!(r.unstable_now()-V<z)}function C(){if(Te=!1,at){var q=r.unstable_now();V=q;var ee=!0;try{e:{B=!1,Oe&&(Oe=!1,je(F),F=-1),te=!0;var ye=H;try{t:{for(Je(q),U=i(w);U!==null&&!(U.expirationTime>q&&L());){var he=U.callback;if(typeof he=="function"){U.callback=null,H=U.priorityLevel;var Ie=he(U.expirationTime<=q);if(q=r.unstable_now(),typeof Ie=="function"){U.callback=Ie,Je(q),ee=!0;break t}U===i(w)&&a(w),Je(q)}else a(w);U=i(w)}if(U!==null)ee=!0;else{var P=i(E);P!==null&&se(tt,P.startTime-q),ee=!1}}break e}finally{U=null,H=ye,te=!1}ee=void 0}}finally{ee?k():at=!1}}}var k;if(typeof Be=="function")k=function(){Be(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,K=I.port2;I.port1.onmessage=C,k=function(){K.postMessage(null)}}else k=function(){Le(C,0)};function se(q,ee){F=Le(function(){q(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return H},r.unstable_next=function(q){switch(H){case 1:case 2:case 3:var ee=3;break;default:ee=H}var ye=H;H=ee;try{return q()}finally{H=ye}},r.unstable_requestPaint=function(){Te=!0},r.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ye=H;H=q;try{return ee()}finally{H=ye}},r.unstable_scheduleCallback=function(q,ee,ye){var he=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?he+ye:he):ye=he,q){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ye+Ie,q={id:x++,callback:ee,priorityLevel:q,startTime:ye,expirationTime:Ie,sortIndex:-1},ye>he?(q.sortIndex=ye,e(E,q),i(w)===null&&q===i(E)&&(Oe?(je(F),F=-1):Oe=!0,se(tt,ye-he))):(q.sortIndex=Ie,e(w,q),B||te||(B=!0,at||(at=!0,k()))),q},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(q){var ee=H;return function(){var ye=H;H=ee;try{return q.apply(this,arguments)}finally{H=ye}}}})(cm)),cm}var Kv;function PE(){return Kv||(Kv=1,um.exports=kE()),um.exports}var hm={exports:{}},Fi={};var $v;function LE(){if($v)return Fi;$v=1;var r=ef();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)E+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,x){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:U==null?null:""+U,children:w,containerInfo:E,implementation:x}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fi.createPortal=function(w,E){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,x)},Fi.flushSync=function(w){var E=p.T,x=a.p;try{if(p.T=null,a.p=2,w)return w()}finally{p.T=E,a.p=x,a.d.f()}},Fi.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(w,E))},Fi.prefetchDNS=function(w){typeof w=="string"&&a.d.D(w)},Fi.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var x=E.as,U=b(x,E.crossOrigin),H=typeof E.integrity=="string"?E.integrity:void 0,te=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;x==="style"?a.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:U,integrity:H,fetchPriority:te}):x==="script"&&a.d.X(w,{crossOrigin:U,integrity:H,fetchPriority:te,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Fi.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var x=b(E.as,E.crossOrigin);a.d.M(w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(w)},Fi.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var x=E.as,U=b(x,E.crossOrigin);a.d.L(w,x,{crossOrigin:U,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Fi.preloadModule=function(w,E){if(typeof w=="string")if(E){var x=b(E.as,E.crossOrigin);a.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(w)},Fi.requestFormReset=function(w){a.d.r(w)},Fi.unstable_batchedUpdates=function(w,E){return w(E)},Fi.useFormState=function(w,E,x){return p.H.useFormState(w,E,x)},Fi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Fi.version="19.2.0",Fi}var Jv;function UE(){if(Jv)return hm.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=LE(),hm.exports}var Zv;function jE(){if(Zv)return Lu;Zv=1;var r=PE(),e=ef(),i=UE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(a(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===s){T=!0,s=h,o=m;break}if(M===o){T=!0,o=h,s=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===s){T=!0,s=m,o=h;break}if(M===o){T=!0,o=m,s=h;break}M=M.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var U=Object.assign,H=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),je=Symbol.for("react.consumer"),Be=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oe:return"Fragment";case Le:return"Profiler";case Te:return"StrictMode";case tt:return"Suspense";case at:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Be:return t.displayName||"Context";case je:return(t._context.displayName||"Context")+".Consumer";case Je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:K(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return K(t(n))}catch{}}return null}var se=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},he=[],Ie=-1;function P(t){return{current:t}}function ne(t){0>Ie||(t.current=he[Ie],he[Ie]=null,Ie--)}function ve(t,n){Ie++,he[Ie]=t.current,t.current=n}var _e=P(null),Re=P(null),Ge=P(null),ot=P(null);function ht(t,n){switch(ve(Ge,n),ve(Re,t),ve(_e,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?mv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=mv(n),t=pv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(_e),ve(_e,t)}function bt(){ne(_e),ne(Re),ne(Ge)}function Ot(t){t.memoizedState!==null&&ve(ot,t);var n=_e.current,s=pv(n,t.type);n!==s&&(ve(Re,t),ve(_e,s))}function cn(t){Re.current===t&&(ne(_e),ne(Re)),ot.current===t&&(ne(ot),Du._currentValue=ye)}var ct,At;function vt(t){if(ct===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ct=n&&n[1]||"",At=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+t+At}var Ut=!1;function qn(t,n){if(!t||Ut)return"";Ut=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var ce=me}Reflect.construct(t,[],Ee)}else{try{Ee.call()}catch(me){ce=me}t.call(Ee.prototype)}}else{try{throw Error()}catch(me){ce=me}(Ee=t())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&ce&&typeof me.stack=="string")return[me.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var G=T.split(`
`),le=M.split(`
`);for(h=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===G.length||h===le.length)for(o=G.length-1,h=le.length-1;1<=o&&0<=h&&G[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(G[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||G[o]!==le[h]){var pe=`
`+G[o].replace(" at new "," at ");return t.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",t.displayName)),pe}while(1<=o&&0<=h);break}}}finally{Ut=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?vt(s):""}function ei(t,n){switch(t.tag){case 26:case 27:case 5:return vt(t.type);case 16:return vt("Lazy");case 13:return t.child!==n&&n!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return qn(t.type,!1);case 11:return qn(t.type.render,!1);case 1:return qn(t.type,!0);case 31:return vt("Activity");default:return""}}function Yt(t){try{var n="",s=null;do n+=ei(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ze=Object.prototype.hasOwnProperty,en=r.unstable_scheduleCallback,Rn=r.unstable_cancelCallback,Br=r.unstable_shouldYield,Gn=r.unstable_requestPaint,kt=r.unstable_now,En=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,D=r.unstable_LowPriority,Q=r.unstable_IdlePriority,de=r.log,Ce=r.unstable_setDisableYieldValue,Qe=null,nt=null;function He(t){if(typeof de=="function"&&Ce(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Qe,t)}catch{}}var We=Math.clz32?Math.clz32:mn,tn=Math.log,On=Math.LN2;function mn(t){return t>>>=0,t===0?32:31-(tn(t)/On|0)|0}var Fn=256,$n=262144,zt=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=Dn(o):(T&=M,T!==0?h=Dn(T):s||(s=M&~t,s!==0&&(h=Dn(s))))):(M=o&~m,M!==0?h=Dn(M):T!==0?h=Dn(T):s||(s=o&~t,s!==0&&(h=Dn(s)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),t}function Xn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function St(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pi(t,n,s,o,h,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,G=t.expirationTimes,le=t.hiddenUpdates;for(s=T&~s;0<s;){var pe=31-We(s),Ee=1<<pe;M[pe]=0,G[pe]=-1;var ce=le[pe];if(ce!==null)for(le[pe]=null,pe=0;pe<ce.length;pe++){var me=ce[pe];me!==null&&(me.lane&=-536870913)}s&=~Ee}o!==0&&Qi(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Qi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-We(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function ja(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-We(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Ar(t,n){var s=n&-n;return s=(s&42)!==0?1:Sr(s),(s&(t.suspendedLanes|n))!==0?0:s}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ya(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Uv(t.type))}function Wi(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var Ki=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ki,Qn="__reactProps$"+Ki,$i="__reactContainer$"+Ki,Rr="__reactEvents$"+Ki,As="__reactListeners$"+Ki,Li="__reactHandles$"+Ki,Fr="__reactResources$"+Ki,Ui="__reactMarker$"+Ki;function Ti(t){delete t[Xt],delete t[Qn],delete t[Rr],delete t[As],delete t[Li]}function Ji(t){var n=t[Xt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[$i]||s[Xt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ev(t);t!==null;){if(s=t[Xt])return s;t=Ev(t)}return n}t=s,s=t.parentNode}return null}function _i(t){if(t=t[Xt]||t[$i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function re(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ge(t){var n=t[Fr];return n||(n=t[Fr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[Ui]=!0}var De=new Set,Ve={};function st(t,n){Ne(t,n),Ne(t+"Capture",n)}function Ne(t,n){for(Ve[t]=n,t=0;t<n.length;t++)De.add(n[t])}var yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},ut={};function Bt(t){return Ze.call(ut,t)?!0:Ze.call(Ue,t)?!1:yt.test(t)?ut[t]=!0:(Ue[t]=!0,!1)}function Tn(t,n,s){if(Bt(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ft(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function nn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pn(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hr(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function on(t){if(!t._valueTracker){var n=Pn(t)?"checked":"value";t._valueTracker=Hr(t,n,""+t[n])}}function Ai(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Pn(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bi=/[\n"\\]/g;function Ln(t){return t.replace(bi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function za(t,n,s,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+pn(n)):t.value!==""+pn(n)&&(t.value=""+pn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ss(t,T,pn(n)):s!=null?Ss(t,T,pn(s)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+pn(M):t.removeAttribute("name")}function wo(t,n,s,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){on(t);return}s=s!=null?""+pn(s):"",n=n!=null?""+pn(n):s,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),on(t)}function Ss(t,n,s){n==="number"&&ft(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vn(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+pn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function va(t,n,s){if(n!=null&&(n=""+pn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+pn(s):""}function qr(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(se(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=pn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),on(t)}function si(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var or=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ba(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||or.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Cr(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ba(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ba(t,m,n[m])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function lr(){}var Rs=null;function ur(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,Zi=null;function hr(t){var n=_i(t);if(n&&(t=n.stateNode)){var s=t[Qn]||null;e:switch(t=n.stateNode,n.type){case"input":if(za(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ln(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Qn]||null;if(!h)throw Error(a(90));za(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Ai(o)}break e;case"textarea":va(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&vn(t,!!s.multiple,n,!1)}}}var sa=!1;function fr(t,n,s){if(sa)return t(n,s);sa=!0;try{var o=t(n);return o}finally{if(sa=!1,(cr!==null||Zi!==null)&&(Qc(),cr&&(n=cr,t=Zi,Zi=cr=null,hr(n),t)))for(n=0;n<t.length;n++)hr(t[n])}}function Si(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Qn]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(mi)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Gr=!1}var Yr=null,ji=null,oa=null;function wa(){if(oa)return oa;var t,n=ji,s=n.length,o,h="value"in Yr?Yr.value:Yr.textContent,m=h.length;for(t=0;t<s&&n[t]===h[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===h[m-o];o++);return oa=h.slice(t,1<o?1-o:void 0)}function la(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function Mr(){return!1}function pi(t){function n(s,o,h,m,T){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:Mr,this.isPropagationStopped=Mr,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),n}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xr=pi(dr),Ea=U({},dr,{view:0,detail:0}),Eo=pi(Ea),Or,Ha,er,qa=U({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(Or=t.screenX-er.screenX,Ha=t.screenY-er.screenY):Ha=Or=0,er=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Cs=pi(qa),Ga=U({},qa,{dataTransfer:0}),$o=pi(Ga),ti=U({},Ea,{relatedTarget:0}),Ta=pi(ti),tr=U({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=pi(tr),ua=U({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=pi(ua),Is=U({},dr,{data:0}),Dr=pi(Is),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ms(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=el[t])?!!n[t]:!1}function Aa(){return Ms}var Ri=U({},Ea,{key:function(t){if(t.key){var n=xs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=pi(Ri),tl=U({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ca=pi(tl),u=U({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),y=pi(u),A=U({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=pi(A),ie=U({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=pi(ie),ke=U({},dr,{newState:0,oldState:0}),Rt=pi(ke),Wn=[9,13,27,32],ln=mi&&"CompositionEvent"in window,Vn=null;mi&&"documentMode"in document&&(Vn=document.documentMode);var zi=mi&&"TextEvent"in window&&!Vn,mr=mi&&(!ln||Vn&&8<Vn&&11>=Vn),pr=" ",nr=!1;function Qr(t,n){switch(t){case"keyup":return Wn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function bf(t,n){switch(t){case"compositionend":return Xa(n);case"keypress":return n.which!==32?null:(nr=!0,pr);case"textInput":return t=n.data,t===pr&&nr?null:t;default:return null}}function gc(t,n){if(Qa)return t==="compositionend"||!ln&&Qr(t,n)?(t=wa(),oa=ji=Yr=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mr&&n.locale!=="ko"?null:n.data;default:return null}}var nl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nl[t.type]:n==="textarea"}function Un(t,n,s,o){cr?Zi?Zi.push(o):Zi=[o]:cr=o,n=th(n,"onChange"),0<n.length&&(s=new Xr("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var ir=null,Wa=null;function yc(t){lv(t,0)}function Ao(t){var n=re(t);if(Ai(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(mi){var Os;if(mi){var il="oninput"in document;if(!il){var f=document.createElement("div");f.setAttribute("oninput","return;"),il=typeof f.oninput=="function"}Os=il}else Os=!1;nu=Os&&(!document.documentMode||9<document.documentMode)}function d(){ir&&(ir.detachEvent("onpropertychange",_),Wa=ir=null)}function _(t){if(t.propertyName==="value"&&Ao(Wa)){var n=[];Un(n,Wa,t,ur(t)),fr(yc,n)}}function S(t,n,s){t==="focusin"?(d(),ir=n,Wa=s,ir.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Wa)}function j(t,n){if(t==="click")return Ao(n)}function W(t,n){if(t==="input"||t==="change")return Ao(n)}function $(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:$;function oe(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ze.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function Me(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ye(t,n){var s=Me(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Me(s)}}function it(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?it(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function J(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ft(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ft(t.document)}return n}function Pe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ke=mi&&"documentMode"in document&&11>=document.documentMode,ze=null,hn=null,Xe=null,Pt=!1;function _n(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pt||ze==null||ze!==ft(o)||(o=ze,"selectionStart"in o&&Pe(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xe&&oe(Xe,o)||(Xe=o,o=th(hn,"onSelect"),0<o.length&&(n=new Xr("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ze)))}function ni(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var gr={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},jt={},Nr={};mi&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ka(t){if(jt[t])return jt[t];if(!gr[t])return t;var n=gr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Nr)return jt[t]=n[s];return t}var xe=Ka("animationend"),Fe=Ka("animationiteration"),Lt=Ka("animationstart"),Qt=Ka("transitionrun"),Mt=Ka("transitionstart"),Ht=Ka("transitioncancel"),an=Ka("transitionend"),un=new Map,rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rr.push("scrollEnd");function bn(t,n){un.set(t,n),st(n,[t])}var Ci=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],$a=0,rl=0;function Sa(){for(var t=$a,n=rl=$a=0;n<t;){var s=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var h=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(s,h,m)}}function Ra(t,n,s,o){gn[$a++]=t,gn[$a++]=n,gn[$a++]=s,gn[$a++]=o,rl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ha(t,n,s,o){return Ra(t,n,s,o),So(t)}function ar(t,n){return Ra(t,null,null,n),So(t)}function iu(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-We(s),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),m):null}function So(t){if(50<Su)throw Su=0,Md=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Vr={};function wf(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(t,n,s,o){return new wf(t,n,s,o)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ja(t,n){var s=t.alternate;return s===null?(s=Bi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function qp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function vc(t,n,s,o,h,m){var T=0;if(o=t,typeof t=="function")Ef(t)&&(T=1);else if(typeof t=="string")T=bE(t,s,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Bi(31,s,n,h),t.elementType=V,t.lanes=m,t;case Oe:return Ro(s.children,h,m,n);case Te:T=8,h|=24;break;case Le:return t=Bi(12,s,n,h|2),t.elementType=Le,t.lanes=m,t;case tt:return t=Bi(13,s,n,h),t.elementType=tt,t.lanes=m,t;case at:return t=Bi(19,s,n,h),t.elementType=at,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Be:T=10;break e;case je:T=9;break e;case Je:T=11;break e;case F:T=14;break e;case z:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Bi(T,s,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Ro(t,n,s,o){return t=Bi(7,t,o,n),t.lanes=s,t}function Tf(t,n,s){return t=Bi(6,t,null,n),t.lanes=s,t}function Gp(t){var n=Bi(18,null,null,0);return n.stateNode=t,n}function Af(t,n,s){return n=Bi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yp=new WeakMap;function Wr(t,n){if(typeof t=="object"&&t!==null){var s=Yp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Yt(n)},Yp.set(t,n),n)}return{value:t,source:n,stack:Yt(n)}}var al=[],sl=0,_c=null,ru=0,Kr=[],$r=0,Ds=null,Ca=1,Ia="";function Za(t,n){al[sl++]=ru,al[sl++]=_c,_c=t,ru=n}function Xp(t,n,s){Kr[$r++]=Ca,Kr[$r++]=Ia,Kr[$r++]=Ds,Ds=t;var o=Ca;t=Ia;var h=32-We(o)-1;o&=~(1<<h),s+=1;var m=32-We(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Ca=1<<32-We(n)+h|s<<h|o,Ia=m+t}else Ca=1<<m|s<<h|o,Ia=t}function Sf(t){t.return!==null&&(Za(t,1),Xp(t,1,0))}function Rf(t){for(;t===_c;)_c=al[--sl],al[sl]=null,ru=al[--sl],al[sl]=null;for(;t===Ds;)Ds=Kr[--$r],Kr[$r]=null,Ia=Kr[--$r],Kr[$r]=null,Ca=Kr[--$r],Kr[$r]=null}function Qp(t,n){Kr[$r++]=Ca,Kr[$r++]=Ia,Kr[$r++]=Ds,Ca=n.id,Ia=n.overflow,Ds=t}var Ii=null,jn=null,rn=!1,Ns=null,Jr=!1,Cf=Error(a(519));function Vs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Wr(n,t)),Cf}function Wp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Xt]=t,n[Qn]=o,s){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(s=0;s<Cu.length;s++)Gt(Cu[s],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":Gt("invalid",n),wo(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Gt("invalid",n);break;case"textarea":Gt("invalid",n),qr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||fv(n.textContent,s)?(o.popover!=null&&(Gt("beforetoggle",n),Gt("toggle",n)),o.onScroll!=null&&Gt("scroll",n),o.onScrollEnd!=null&&Gt("scrollend",n),o.onClick!=null&&(n.onclick=lr),n=!0):n=!1,n||Vs(t,!0)}function Kp(t){for(Ii=t.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Ii=Ii.return}}function ol(t){if(t!==Ii)return!1;if(!rn)return Kp(t),rn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Gd(t.type,t.memoizedProps)),s=!s),s&&jn&&Vs(t),Kp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));jn=wv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));jn=wv(t)}else n===27?(n=jn,Qs(t.type)?(t=Kd,Kd=null,jn=t):jn=n):jn=Ii?ea(t.stateNode.nextSibling):null;return!0}function Co(){jn=Ii=null,rn=!1}function If(){var t=Ns;return t!==null&&(br===null?br=t:br.push.apply(br,t),Ns=null),t}function au(t){Ns===null?Ns=[t]:Ns.push(t)}var xf=P(null),Io=null,es=null;function ks(t,n,s){ve(xf,n._currentValue),n._currentValue=s}function ts(t){t._currentValue=xf.current,ne(xf)}function Mf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Of(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var G=0;G<n.length;G++)if(M.context===n[G]){m.lanes|=s,M=m.alternate,M!==null&&(M.lanes|=s),Mf(m.return,s,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),Mf(T,s,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ll(t,n,s,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===ot.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Du):t=[Du])}h=h.return}t!==null&&Of(n,t,s,o),n.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xo(t){Io=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xi(t){return $p(Io,t)}function wc(t,n){return Io===null&&xo(t),$p(t,n)}function $p(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},es===null){if(t===null)throw Error(a(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return s}var g1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},y1=r.unstable_scheduleCallback,v1=r.unstable_NormalPriority,oi={$$typeof:Be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new g1,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&y1(v1,function(){t.controller.abort()})}var ou=null,Nf=0,ul=0,cl=null;function _1(t,n){if(ou===null){var s=ou=[];Nf=0,ul=Pd(),cl={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Nf++,n.then(Jp,Jp),n}function Jp(){if(--Nf===0&&ou!==null){cl!==null&&(cl.status="fulfilled");var t=ou;ou=null,ul=0,cl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function b1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Zp=q.S;q.S=function(t,n){Py=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_1(t,n),Zp!==null&&Zp(t,n)};var Mo=P(null);function Vf(){var t=Mo.current;return t!==null?t:Mn.pooledCache}function Ec(t,n){n===null?ve(Mo,Mo.current):ve(Mo,n.pool)}function eg(){var t=Vf();return t===null?null:{parent:oi._currentValue,pool:t}}var hl=Error(a(460)),kf=Error(a(474)),Tc=Error(a(542)),Ac={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(lr,lr),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rg(t),t;default:if(typeof n.status=="string")n.then(lr,lr);else{if(t=Mn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rg(t),t}throw Do=n,hl}}function Oo(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Do=s,hl):s}}var Do=null;function ig(){if(Do===null)throw Error(a(459));var t=Do;return Do=null,t}function rg(t){if(t===hl||t===Tc)throw Error(a(483))}var fl=null,lu=0;function Sc(t){var n=lu;return lu+=1,fl===null&&(fl=[]),ng(fl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Rc(t,n){throw n.$$typeof===H?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ag(t){function n(Z,X){if(t){var ae=Z.deletions;ae===null?(Z.deletions=[X],Z.flags|=16):ae.push(X)}}function s(Z,X){if(!t)return null;for(;X!==null;)n(Z,X),X=X.sibling;return null}function o(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function h(Z,X){return Z=Ja(Z,X),Z.index=0,Z.sibling=null,Z}function m(Z,X,ae){return Z.index=ae,t?(ae=Z.alternate,ae!==null?(ae=ae.index,ae<X?(Z.flags|=67108866,X):ae):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function T(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function M(Z,X,ae,we){return X===null||X.tag!==6?(X=Tf(ae,Z.mode,we),X.return=Z,X):(X=h(X,ae),X.return=Z,X)}function G(Z,X,ae,we){var dt=ae.type;return dt===Oe?pe(Z,X,ae.props.children,we,ae.key):X!==null&&(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===z&&Oo(dt)===X.type)?(X=h(X,ae.props),uu(X,ae),X.return=Z,X):(X=vc(ae.type,ae.key,ae.props,null,Z.mode,we),uu(X,ae),X.return=Z,X)}function le(Z,X,ae,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=Af(ae,Z.mode,we),X.return=Z,X):(X=h(X,ae.children||[]),X.return=Z,X)}function pe(Z,X,ae,we,dt){return X===null||X.tag!==7?(X=Ro(ae,Z.mode,we,dt),X.return=Z,X):(X=h(X,ae),X.return=Z,X)}function Ee(Z,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Tf(""+X,Z.mode,ae),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case te:return ae=vc(X.type,X.key,X.props,null,Z.mode,ae),uu(ae,X),ae.return=Z,ae;case B:return X=Af(X,Z.mode,ae),X.return=Z,X;case z:return X=Oo(X),Ee(Z,X,ae)}if(se(X)||k(X))return X=Ro(X,Z.mode,ae,null),X.return=Z,X;if(typeof X.then=="function")return Ee(Z,Sc(X),ae);if(X.$$typeof===Be)return Ee(Z,wc(Z,X),ae);Rc(Z,X)}return null}function ce(Z,X,ae,we){var dt=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return dt!==null?null:M(Z,X,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case te:return ae.key===dt?G(Z,X,ae,we):null;case B:return ae.key===dt?le(Z,X,ae,we):null;case z:return ae=Oo(ae),ce(Z,X,ae,we)}if(se(ae)||k(ae))return dt!==null?null:pe(Z,X,ae,we,null);if(typeof ae.then=="function")return ce(Z,X,Sc(ae),we);if(ae.$$typeof===Be)return ce(Z,X,wc(Z,ae),we);Rc(Z,ae)}return null}function me(Z,X,ae,we,dt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Z=Z.get(ae)||null,M(X,Z,""+we,dt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case te:return Z=Z.get(we.key===null?ae:we.key)||null,G(X,Z,we,dt);case B:return Z=Z.get(we.key===null?ae:we.key)||null,le(X,Z,we,dt);case z:return we=Oo(we),me(Z,X,ae,we,dt)}if(se(we)||k(we))return Z=Z.get(ae)||null,pe(X,Z,we,dt,null);if(typeof we.then=="function")return me(Z,X,ae,Sc(we),dt);if(we.$$typeof===Be)return me(Z,X,ae,wc(X,we),dt);Rc(X,we)}return null}function rt(Z,X,ae,we){for(var dt=null,fn=null,lt=X,Vt=X=0,Kt=null;lt!==null&&Vt<ae.length;Vt++){lt.index>Vt?(Kt=lt,lt=null):Kt=lt.sibling;var dn=ce(Z,lt,ae[Vt],we);if(dn===null){lt===null&&(lt=Kt);break}t&&lt&&dn.alternate===null&&n(Z,lt),X=m(dn,X,Vt),fn===null?dt=dn:fn.sibling=dn,fn=dn,lt=Kt}if(Vt===ae.length)return s(Z,lt),rn&&Za(Z,Vt),dt;if(lt===null){for(;Vt<ae.length;Vt++)lt=Ee(Z,ae[Vt],we),lt!==null&&(X=m(lt,X,Vt),fn===null?dt=lt:fn.sibling=lt,fn=lt);return rn&&Za(Z,Vt),dt}for(lt=o(lt);Vt<ae.length;Vt++)Kt=me(lt,Z,Vt,ae[Vt],we),Kt!==null&&(t&&Kt.alternate!==null&&lt.delete(Kt.key===null?Vt:Kt.key),X=m(Kt,X,Vt),fn===null?dt=Kt:fn.sibling=Kt,fn=Kt);return t&&lt.forEach(function(Zs){return n(Z,Zs)}),rn&&Za(Z,Vt),dt}function _t(Z,X,ae,we){if(ae==null)throw Error(a(151));for(var dt=null,fn=null,lt=X,Vt=X=0,Kt=null,dn=ae.next();lt!==null&&!dn.done;Vt++,dn=ae.next()){lt.index>Vt?(Kt=lt,lt=null):Kt=lt.sibling;var Zs=ce(Z,lt,dn.value,we);if(Zs===null){lt===null&&(lt=Kt);break}t&&lt&&Zs.alternate===null&&n(Z,lt),X=m(Zs,X,Vt),fn===null?dt=Zs:fn.sibling=Zs,fn=Zs,lt=Kt}if(dn.done)return s(Z,lt),rn&&Za(Z,Vt),dt;if(lt===null){for(;!dn.done;Vt++,dn=ae.next())dn=Ee(Z,dn.value,we),dn!==null&&(X=m(dn,X,Vt),fn===null?dt=dn:fn.sibling=dn,fn=dn);return rn&&Za(Z,Vt),dt}for(lt=o(lt);!dn.done;Vt++,dn=ae.next())dn=me(lt,Z,Vt,dn.value,we),dn!==null&&(t&&dn.alternate!==null&&lt.delete(dn.key===null?Vt:dn.key),X=m(dn,X,Vt),fn===null?dt=dn:fn.sibling=dn,fn=dn);return t&&lt.forEach(function(OE){return n(Z,OE)}),rn&&Za(Z,Vt),dt}function xn(Z,X,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===Oe&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case te:e:{for(var dt=ae.key;X!==null;){if(X.key===dt){if(dt=ae.type,dt===Oe){if(X.tag===7){s(Z,X.sibling),we=h(X,ae.props.children),we.return=Z,Z=we;break e}}else if(X.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===z&&Oo(dt)===X.type){s(Z,X.sibling),we=h(X,ae.props),uu(we,ae),we.return=Z,Z=we;break e}s(Z,X);break}else n(Z,X);X=X.sibling}ae.type===Oe?(we=Ro(ae.props.children,Z.mode,we,ae.key),we.return=Z,Z=we):(we=vc(ae.type,ae.key,ae.props,null,Z.mode,we),uu(we,ae),we.return=Z,Z=we)}return T(Z);case B:e:{for(dt=ae.key;X!==null;){if(X.key===dt)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){s(Z,X.sibling),we=h(X,ae.children||[]),we.return=Z,Z=we;break e}else{s(Z,X);break}else n(Z,X);X=X.sibling}we=Af(ae,Z.mode,we),we.return=Z,Z=we}return T(Z);case z:return ae=Oo(ae),xn(Z,X,ae,we)}if(se(ae))return rt(Z,X,ae,we);if(k(ae)){if(dt=k(ae),typeof dt!="function")throw Error(a(150));return ae=dt.call(ae),_t(Z,X,ae,we)}if(typeof ae.then=="function")return xn(Z,X,Sc(ae),we);if(ae.$$typeof===Be)return xn(Z,X,wc(Z,ae),we);Rc(Z,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(s(Z,X.sibling),we=h(X,ae),we.return=Z,Z=we):(s(Z,X),we=Tf(ae,Z.mode,we),we.return=Z,Z=we),T(Z)):s(Z,X)}return function(Z,X,ae,we){try{lu=0;var dt=xn(Z,X,ae,we);return fl=null,dt}catch(lt){if(lt===hl||lt===Tc)throw lt;var fn=Bi(29,lt,null,Z.mode);return fn.lanes=we,fn.return=Z,fn}finally{}}}var No=ag(!0),sg=ag(!1),Ps=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=So(t),iu(t,null,s),n}return Ra(t,o,n,s),So(t)}function cu(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ja(t,s)}}function Uf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?h=m=n:m=m.next=n}else h=m=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var jf=!1;function hu(){if(jf){var t=cl;if(t!==null)throw t}}function fu(t,n,s,o){jf=!1;var h=t.updateQueue;Ps=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var G=M,le=G.next;G.next=null,T===null?m=le:T.next=le,T=G;var pe=t.alternate;pe!==null&&(pe=pe.updateQueue,M=pe.lastBaseUpdate,M!==T&&(M===null?pe.firstBaseUpdate=le:M.next=le,pe.lastBaseUpdate=G))}if(m!==null){var Ee=h.baseState;T=0,pe=le=G=null,M=m;do{var ce=M.lane&-536870913,me=ce!==M.lane;if(me?(Wt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ul&&(jf=!0),pe!==null&&(pe=pe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var rt=t,_t=M;ce=n;var xn=s;switch(_t.tag){case 1:if(rt=_t.payload,typeof rt=="function"){Ee=rt.call(xn,Ee,ce);break e}Ee=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=_t.payload,ce=typeof rt=="function"?rt.call(xn,Ee,ce):rt,ce==null)break e;Ee=U({},Ee,ce);break e;case 2:Ps=!0}}ce=M.callback,ce!==null&&(t.flags|=64,me&&(t.flags|=8192),me=h.callbacks,me===null?h.callbacks=[ce]:me.push(ce))}else me={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},pe===null?(le=pe=me,G=Ee):pe=pe.next=me,T|=ce;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;me=M,M=me.next,me.next=null,h.lastBaseUpdate=me,h.shared.pending=null}}while(!0);pe===null&&(G=Ee),h.baseState=G,h.firstBaseUpdate=le,h.lastBaseUpdate=pe,m===null&&(h.shared.lanes=0),Hs|=T,t.lanes=T,t.memoizedState=Ee}}function og(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function lg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)og(s[t],n)}var dl=P(null),Cc=P(0);function ug(t,n){t=cs,ve(Cc,t),ve(dl,n),cs=t|n.baseLanes}function zf(){ve(Cc,cs),ve(dl,dl.current)}function Bf(){cs=Cc.current,ne(dl),ne(Cc)}var kr=P(null),Zr=null;function js(t){var n=t.alternate;ve(ii,ii.current&1),ve(kr,t),Zr===null&&(n===null||dl.current!==null||n.memoizedState!==null)&&(Zr=t)}function Ff(t){ve(ii,ii.current),ve(kr,t),Zr===null&&(Zr=t)}function cg(t){t.tag===22?(ve(ii,ii.current),ve(kr,t),Zr===null&&(Zr=t)):zs()}function zs(){ve(ii,ii.current),ve(kr,kr.current)}function Pr(t){ne(kr),Zr===t&&(Zr=null),ne(ii)}var ii=P(0);function Ic(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qd(s)||Wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Nt=null,Cn=null,li=null,xc=!1,ml=!1,Vo=!1,Mc=0,du=0,pl=null,w1=0;function Jn(){throw Error(a(321))}function Hf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ue(t[s],n[s]))return!1;return!0}function qf(t,n,s,o,h,m){return ns=m,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Xg:ad,Vo=!1,m=s(o,h),Vo=!1,ml&&(m=fg(n,s,o,h)),hg(t),m}function hg(t){q.H=gu;var n=Cn!==null&&Cn.next!==null;if(ns=0,li=Cn=Nt=null,xc=!1,du=0,pl=null,n)throw Error(a(300));t===null||ui||(t=t.dependencies,t!==null&&bc(t)&&(ui=!0))}function fg(t,n,s,o){Nt=t;var h=0;do{if(ml&&(pl=null),du=0,ml=!1,25<=h)throw Error(a(301));if(h+=1,li=Cn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Qg,m=n(s,o)}while(ml);return m}function E1(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(Cn!==null?Cn.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Gf(){var t=Mc!==0;return Mc=0,t}function Yf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Xf(t){if(xc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xc=!1}ns=0,li=Cn=Nt=null,ml=!1,du=Mc=0,pl=null}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?Nt.memoizedState=li=t:li=li.next=t,li}function ri(){if(Cn===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var n=li===null?Nt.memoizedState:li.next;if(n!==null)li=n,Cn=t;else{if(t===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},li===null?Nt.memoizedState=li=t:li=li.next=t}return li}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,pl===null&&(pl=[]),t=ng(pl,t,n),n=Nt,(li===null?n.memoizedState:li.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Xg:ad),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===Be)return xi(t)}throw Error(a(438,String(t)))}function Qf(t){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Oc(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=L;return n.index++,s}function is(t,n){return typeof n=="function"?n(t):n}function Nc(t){var n=ri();return Wf(n,Cn,t)}function Wf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,G=null,le=n,pe=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(Wt&Ee)===Ee:(ns&Ee)===Ee){var ce=le.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===ul&&(pe=!0);else if((ns&ce)===ce){le=le.next,ce===ul&&(pe=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=Ee,T=m):G=G.next=Ee,Nt.lanes|=ce,Hs|=ce;Ee=le.action,Vo&&s(m,Ee),m=le.hasEagerState?le.eagerState:s(m,Ee)}else ce={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},G===null?(M=G=ce,T=m):G=G.next=ce,Nt.lanes|=Ee,Hs|=Ee;le=le.next}while(le!==null&&le!==n);if(G===null?T=m:G.next=M,!ue(m,t.memoizedState)&&(ui=!0,pe&&(s=cl,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=G,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Kf(t){var n=ri(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,m=n.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(ui=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function dg(t,n,s){var o=Nt,h=ri(),m=rn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!ue((Cn||h).memoizedState,s);if(T&&(h.memoizedState=s,ui=!0),h=h.queue,Zf(gg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||li!==null&&li.memoizedState.tag&1){if(o.flags|=2048,gl(9,{destroy:void 0},pg.bind(null,o,h,s,n),null),Mn===null)throw Error(a(349));m||(ns&127)!==0||mg(o,n,s)}return s}function mg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=Oc(),Nt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function pg(t,n,s,o){n.value=s,n.getSnapshot=o,yg(n)&&vg(t)}function gg(t,n,s){return s(function(){yg(n)&&vg(t)})}function yg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ue(t,s)}catch{return!0}}function vg(t){var n=ar(t,2);n!==null&&wr(n,t,2)}function $f(t){var n=sr();if(typeof t=="function"){var s=t;if(t=s(),Vo){He(!0);try{s()}finally{He(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function _g(t,n,s,o){return t.baseState=s,Wf(t,Cn,typeof o=="function"?o:is)}function T1(t,n,s,o,h){if(Pc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};q.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,bg(n,m)):(m.next=s.next,n.pending=s.next=m)}}function bg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=q.T,T={};q.T=T;try{var M=s(h,o),G=q.S;G!==null&&G(T,M),wg(t,n,M)}catch(le){Jf(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),q.T=m}}else try{m=s(h,o),wg(t,n,m)}catch(le){Jf(t,n,le)}}function wg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Eg(t,n,o)},function(o){return Jf(t,n,o)}):Eg(t,n,s)}function Eg(t,n,s){n.status="fulfilled",n.value=s,Tg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,bg(t,s)))}function Jf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Tg(n),n=n.next;while(n!==o)}t.action=null}function Tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ag(t,n){return n}function Sg(t,n){if(rn){var s=Mn.formState;if(s!==null){e:{var o=Nt;if(rn){if(jn){t:{for(var h=jn,m=Jr;h.nodeType!==8;){if(!m){h=null;break t}if(h=ea(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){jn=ea(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=s[0])}}return s=sr(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:n},s.queue=o,s=qg.bind(null,Nt,o),o.dispatch=s,o=$f(!1),m=rd.bind(null,Nt,!1,o.queue),o=sr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=T1.bind(null,Nt,h,m,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function Rg(t){var n=ri();return Cg(n,Cn,t)}function Cg(t,n,s){if(n=Wf(t,n,Ag)[0],t=Nc(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===hl?Tc:T}else o=n;n=ri();var h=n.queue,m=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,gl(9,{destroy:void 0},A1.bind(null,h,s),null)),[o,m,t]}function A1(t,n){t.action=n}function Ig(t){var n=ri(),s=Cn;if(s!==null)return Cg(n,s,t);ri(),n=n.memoizedState,s=ri();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function gl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Oc(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function xg(){return ri().memoizedState}function Vc(t,n,s,o){var h=sr();Nt.flags|=t,h.memoizedState=gl(1|n,{destroy:void 0},s,o===void 0?null:o)}function kc(t,n,s,o){var h=ri();o=o===void 0?null:o;var m=h.memoizedState.inst;Cn!==null&&o!==null&&Hf(o,Cn.memoizedState.deps)?h.memoizedState=gl(n,m,s,o):(Nt.flags|=t,h.memoizedState=gl(1|n,m,s,o))}function Mg(t,n){Vc(8390656,8,t,n)}function Zf(t,n){kc(2048,8,t,n)}function S1(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=Oc(),Nt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Og(t){var n=ri().memoizedState;return S1({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Dg(t,n){return kc(4,2,t,n)}function Ng(t,n){return kc(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,s){s=s!=null?s.concat([t]):null,kc(4,4,Vg.bind(null,n,t),s)}function ed(){}function Pg(t,n){var s=ri();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Hf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Lg(t,n){var s=ri();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Hf(n,o[1]))return o[0];if(o=t(),Vo){He(!0);try{t()}finally{He(!1)}}return s.memoizedState=[o,n],o}function td(t,n,s){return s===void 0||(ns&1073741824)!==0&&(Wt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Uy(),Nt.lanes|=t,Hs|=t,s)}function Ug(t,n,s,o){return ue(s,n)?s:dl.current!==null?(t=td(t,s,o),ue(t,n)||(ui=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Wt&261930)===0?(ui=!0,t.memoizedState=s):(t=Uy(),Nt.lanes|=t,Hs|=t,n)}function jg(t,n,s,o,h){var m=ee.p;ee.p=m!==0&&8>m?m:8;var T=q.T,M={};q.T=M,rd(t,!1,n,s);try{var G=h(),le=q.S;if(le!==null&&le(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=b1(G,o);pu(t,n,pe,jr(t))}else pu(t,n,o,jr(t))}catch(Ee){pu(t,n,{then:function(){},status:"rejected",reason:Ee},jr())}finally{ee.p=m,T!==null&&M.types!==null&&(T.types=M.types),q.T=T}}function R1(){}function nd(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=zg(t).queue;jg(t,h,n,ye,s===null?R1:function(){return Bg(t),s(o)})}function zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ye},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bg(t){var n=zg(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},jr())}function id(){return xi(Du)}function Fg(){return ri().memoizedState}function Hg(){return ri().memoizedState}function C1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=jr();t=Ls(s);var o=Us(n,t,s);o!==null&&(wr(o,n,s),cu(o,n,s)),n={cache:Df()},t.payload=n;return}n=n.return}}function I1(t,n,s){var o=jr();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pc(t)?Gg(n,s):(s=ha(t,n,s,o),s!==null&&(wr(s,t,o),Yg(s,n,o)))}function qg(t,n,s){var o=jr();pu(t,n,s,o)}function pu(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))Gg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,s);if(h.hasEagerState=!0,h.eagerState=M,ue(M,T))return Ra(t,n,h,0),Mn===null&&Sa(),!1}catch{}finally{}if(s=ha(t,n,h,o),s!==null)return wr(s,t,o),Yg(s,n,o),!0}return!1}function rd(t,n,s,o){if(o={lane:2,revertLane:Pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(n)throw Error(a(479))}else n=ha(t,s,o,2),n!==null&&wr(n,t,2)}function Pc(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Gg(t,n){ml=xc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Yg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,ja(t,s)}}var gu={readContext:xi,use:Dc,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn};gu.useEffectEvent=Jn;var Xg={readContext:xi,use:Dc,useCallback:function(t,n){return sr().memoizedState=[t,n===void 0?null:n],t},useContext:xi,useEffect:Mg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vc(4194308,4,Vg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vc(4194308,4,t,n)},useInsertionEffect:function(t,n){Vc(4,2,t,n)},useMemo:function(t,n){var s=sr();n=n===void 0?null:n;var o=t();if(Vo){He(!0);try{t()}finally{He(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=sr();if(s!==void 0){var h=s(n);if(Vo){He(!0);try{s(n)}finally{He(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=I1.bind(null,Nt,t),[o.memoizedState,t]},useRef:function(t){var n=sr();return t={current:t},n.memoizedState=t},useState:function(t){t=$f(t);var n=t.queue,s=qg.bind(null,Nt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ed,useDeferredValue:function(t,n){var s=sr();return td(s,t,n)},useTransition:function(){var t=$f(!1);return t=jg.bind(null,Nt,t.queue,!0,!1),sr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Nt,h=sr();if(rn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Mn===null)throw Error(a(349));(Wt&127)!==0||mg(o,n,s)}h.memoizedState=s;var m={value:s,getSnapshot:n};return h.queue=m,Mg(gg.bind(null,o,m,t),[t]),o.flags|=2048,gl(9,{destroy:void 0},pg.bind(null,o,m,s,n),null),s},useId:function(){var t=sr(),n=Mn.identifierPrefix;if(rn){var s=Ia,o=Ca;s=(o&~(1<<32-We(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=w1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:id,useFormState:Sg,useActionState:Sg,useOptimistic:function(t){var n=sr();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=rd.bind(null,Nt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Qf,useCacheRefresh:function(){return sr().memoizedState=C1.bind(null,Nt)},useEffectEvent:function(t){var n=sr(),s={impl:t};return n.memoizedState=s,function(){if((yn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},ad={readContext:xi,use:Dc,useCallback:Pg,useContext:xi,useEffect:Zf,useImperativeHandle:kg,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Lg,useReducer:Nc,useRef:xg,useState:function(){return Nc(is)},useDebugValue:ed,useDeferredValue:function(t,n){var s=ri();return Ug(s,Cn.memoizedState,t,n)},useTransition:function(){var t=Nc(is)[0],n=ri().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:dg,useId:Fg,useHostTransitionStatus:id,useFormState:Rg,useActionState:Rg,useOptimistic:function(t,n){var s=ri();return _g(s,Cn,t,n)},useMemoCache:Qf,useCacheRefresh:Hg};ad.useEffectEvent=Og;var Qg={readContext:xi,use:Dc,useCallback:Pg,useContext:xi,useEffect:Zf,useImperativeHandle:kg,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:Lg,useReducer:Kf,useRef:xg,useState:function(){return Kf(is)},useDebugValue:ed,useDeferredValue:function(t,n){var s=ri();return Cn===null?td(s,t,n):Ug(s,Cn.memoizedState,t,n)},useTransition:function(){var t=Kf(is)[0],n=ri().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:dg,useId:Fg,useHostTransitionStatus:id,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,n){var s=ri();return Cn!==null?_g(s,Cn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Hg};Qg.useEffectEvent=Og;function sd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:U({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var od={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=jr(),h=Ls(o);h.payload=n,s!=null&&(h.callback=s),n=Us(t,h,o),n!==null&&(wr(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=jr(),h=Ls(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Us(t,h,o),n!==null&&(wr(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=jr(),o=Ls(s);o.tag=2,n!=null&&(o.callback=n),n=Us(t,o,s),n!==null&&(wr(n,t,s),cu(n,t,s))}};function Wg(t,n,s,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(s,o)||!oe(h,m):!0}function Kg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&od.enqueueReplaceState(n,n.state,null)}function ko(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=U({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function $g(t){Ci(t)}function Jg(t){console.error(t)}function Zg(t){Ci(t)}function Lc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,n,s){return s=Ls(s),s.tag=3,s.payload={element:null},s.callback=function(){Lc(t,n)},s}function ty(t){return t=Ls(t),t.tag=3,t}function ny(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){ey(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){ey(n,s,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function x1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ll(n,s,h,!0),s=kr.current,s!==null){switch(s.tag){case 31:case 13:return Zr===null?Wc():s.alternate===null&&Zn===0&&(Zn=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ac?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Nd(t,o,h)),!1;case 22:return s.flags|=65536,o===Ac?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Nd(t,o,h)),!1}throw Error(a(435,s.tag))}return Nd(t,o,h),Wc(),!1}if(rn)return n=kr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Cf&&(t=Error(a(422),{cause:o}),au(Wr(t,s)))):(o!==Cf&&(n=Error(a(423),{cause:o}),au(Wr(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Wr(o,s),h=ld(t.stateNode,o,h),Uf(t,h),Zn!==4&&(Zn=2)),!1;var m=Error(a(520),{cause:o});if(m=Wr(m,s),Au===null?Au=[m]:Au.push(m),Zn!==4&&(Zn=2),n===null)return!0;o=Wr(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=ld(s.stateNode,o,t),Uf(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qs===null||!qs.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ty(h),ny(h,t,s,o),Uf(s,h),!1}s=s.return}while(s!==null);return!1}var ud=Error(a(461)),ui=!1;function Mi(t,n,s,o){n.child=t===null?sg(n,null,s,o):No(n,t.child,s,o)}function iy(t,n,s,o,h){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return xo(n),o=qf(t,n,s,T,m,h),M=Gf(),t!==null&&!ui?(Yf(t,n,h),rs(t,n,h)):(rn&&M&&Sf(n),n.flags|=1,Mi(t,n,o,h),n.child)}function ry(t,n,s,o,h){if(t===null){var m=s.type;return typeof m=="function"&&!Ef(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,ay(t,n,m,o,h)):(t=vc(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!yd(t,h)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:oe,s(T,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Ja(m,o),t.ref=n.ref,t.return=n,n.child=t}function ay(t,n,s,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(ui=!1,n.pendingProps=o=m,yd(t,h))(t.flags&131072)!==0&&(ui=!0);else return n.lanes=t.lanes,rs(t,n,h)}return cd(t,n,s,o,h)}function sy(t,n,s,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return oy(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(n,m!==null?m.cachePool:null),m!==null?ug(n,m):zf(),cg(n);else return o=n.lanes=536870912,oy(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Ec(n,m.cachePool),ug(n,m),zs(),n.memoizedState=null):(t!==null&&Ec(n,null),zf(),zs());return Mi(t,n,h,s),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(t,n,s,o,h){var m=Vf();return m=m===null?null:{parent:oi._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Ec(n,null),zf(),cg(n),t!==null&&ll(t,n,o,!0),n.childLanes=h,null}function Uc(t,n){return n=zc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ly(t,n,s){return No(n,t.child,null,s),t=Uc(n,n.pendingProps),t.flags|=2,Pr(n),n.memoizedState=null,t}function M1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(rn){if(o.mode==="hidden")return t=Uc(n,o),n.lanes=536870912,yu(null,t);if(Ff(n),(t=jn)?(t=bv(t,Jr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},s=Gp(t),s.return=n,n.child=s,Ii=n,jn=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return Uc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Ff(n),h)if(n.flags&256)n.flags&=-257,n=ly(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(ui||ll(t,n,s,!1),h=(s&t.childLanes)!==0,ui||h){if(o=Mn,o!==null&&(T=Ar(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,ar(t,T),wr(o,t,T),ud;Wc(),n=ly(t,n,s)}else t=m.treeContext,jn=ea(T.nextSibling),Ii=n,rn=!0,Ns=null,Jr=!1,t!==null&&Qp(n,t),n=Uc(n,o),n.flags|=4096;return n}return t=Ja(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function jc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function cd(t,n,s,o,h){return xo(n),s=qf(t,n,s,o,void 0,h),o=Gf(),t!==null&&!ui?(Yf(t,n,h),rs(t,n,h)):(rn&&o&&Sf(n),n.flags|=1,Mi(t,n,s,h),n.child)}function uy(t,n,s,o,h,m){return xo(n),n.updateQueue=null,s=fg(n,o,s,h),hg(t),o=Gf(),t!==null&&!ui?(Yf(t,n,m),rs(t,n,m)):(rn&&o&&Sf(n),n.flags|=1,Mi(t,n,s,m),n.child)}function cy(t,n,s,o,h){if(xo(n),n.stateNode===null){var m=Vr,T=s.contextType;typeof T=="object"&&T!==null&&(m=xi(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=od,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Pf(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?xi(T):Vr,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(sd(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&od.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,G=ko(s,M);m.props=G;var le=m.context,pe=s.contextType;T=Vr,typeof pe=="object"&&pe!==null&&(T=xi(pe));var Ee=s.getDerivedStateFromProps;pe=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,pe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&Kg(n,m,o,T),Ps=!1;var ce=n.memoizedState;m.state=ce,fu(n,o,m,h),hu(),le=n.memoizedState,M||ce!==le||Ps?(typeof Ee=="function"&&(sd(n,s,Ee,o),le=n.memoizedState),(G=Ps||Wg(n,s,G,o,ce,le,T))?(pe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=G):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Lf(t,n),T=n.memoizedProps,pe=ko(s,T),m.props=pe,Ee=n.pendingProps,ce=m.context,le=s.contextType,G=Vr,typeof le=="object"&&le!==null&&(G=xi(le)),M=s.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ee||ce!==G)&&Kg(n,m,o,G),Ps=!1,ce=n.memoizedState,m.state=ce,fu(n,o,m,h),hu();var me=n.memoizedState;T!==Ee||ce!==me||Ps||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof M=="function"&&(sd(n,s,M,o),me=n.memoizedState),(pe=Ps||Wg(n,s,pe,o,ce,me,G)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,me,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,me,G)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),m.props=o,m.state=me,m.context=G,o=pe):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,jc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=No(n,t.child,null,h),n.child=No(n,null,s,h)):Mi(t,n,s,h),n.memoizedState=m.state,t=n.child):t=rs(t,n,h),t}function hy(t,n,s,o){return Co(),n.flags|=256,Mi(t,n,s,o),n.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:eg()}}function dd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Ur),t}function fy(t,n,s){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(ii.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(rn){if(h?js(n):zs(),(t=jn)?(t=bv(t,Jr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ca,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},s=Gp(t),s.return=n,n.child=s,Ii=n,jn=null)):t=null,t===null)throw Vs(n);return Wd(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(zs(),h=n.mode,M=zc({mode:"hidden",children:M},h),o=Ro(o,h,s,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=fd(s),o.childLanes=dd(t,T,s),n.memoizedState=hd,yu(null,o)):(js(n),md(n,M))}var G=t.memoizedState;if(G!==null&&(M=G.dehydrated,M!==null)){if(m)n.flags&256?(js(n),n.flags&=-257,n=pd(t,n,s)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),M=o.fallback,h=n.mode,o=zc({mode:"visible",children:o.children},h),M=Ro(M,h,s,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,No(n,t.child,null,s),o=n.child,o.memoizedState=fd(s),o.childLanes=dd(t,T,s),n.memoizedState=hd,n=yu(null,o));else if(js(n),Wd(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(a(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=pd(t,n,s)}else if(ui||ll(t,n,s,!1),T=(s&t.childLanes)!==0,ui||T){if(T=Mn,T!==null&&(o=Ar(T,s),o!==0&&o!==G.retryLane))throw G.retryLane=o,ar(t,o),wr(T,t,o),ud;Qd(M)||Wc(),n=pd(t,n,s)}else Qd(M)?(n.flags|=192,n.child=t.child,n=null):(t=G.treeContext,jn=ea(M.nextSibling),Ii=n,rn=!0,Ns=null,Jr=!1,t!==null&&Qp(n,t),n=md(n,o.children),n.flags|=4096);return n}return h?(zs(),M=o.fallback,h=n.mode,G=t.child,le=G.sibling,o=Ja(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,le!==null?M=Ja(le,M):(M=Ro(M,h,s,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,yu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=fd(s):(h=M.cachePool,h!==null?(G=oi._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=eg(),M={baseLanes:M.baseLanes|s,cachePool:h}),o.memoizedState=M,o.childLanes=dd(t,T,s),n.memoizedState=hd,yu(t.child,o)):(js(n),s=t.child,t=s.sibling,s=Ja(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function md(t,n){return n=zc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zc(t,n){return t=Bi(22,t,null,n),t.lanes=0,t}function pd(t,n,s){return No(n,t.child,null,s),t=md(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Mf(t.return,n,s)}function gd(t,n,s,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=h,T.treeForkCount=m)}function my(t,n,s){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=ii.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,ve(ii,T),Mi(t,n,o,s),o=rn?ru:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,s,n);else if(t.tag===19)dy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Ic(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),gd(n,!1,h,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}gd(n,!0,s,null,m,o);break;case"together":gd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ll(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ja(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ja(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function yd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function O1(t,n,s){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),ks(n,oi,t.memoizedState.cache),Co();break;case 27:case 5:Ot(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(s&n.child.childLanes)!==0?fy(t,n,s):(js(n),t=rs(t,n,s),t!==null?t.sibling:null);js(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ll(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return my(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ve(ii,ii.current),o)break;return null;case 22:return n.lanes=0,sy(t,n,s,n.pendingProps);case 24:ks(n,oi,t.memoizedState.cache)}return rs(t,n,s)}function py(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)ui=!0;else{if(!yd(t,s)&&(n.flags&128)===0)return ui=!1,O1(t,n,s);ui=(t.flags&131072)!==0}else ui=!1,rn&&(n.flags&1048576)!==0&&Xp(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oo(n.elementType),n.type=t,typeof t=="function")Ef(t)?(o=ko(t,o),n.tag=1,n=cy(null,n,t,o,s)):(n.tag=0,n=cd(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Je){n.tag=11,n=iy(null,n,t,o,s);break e}else if(h===F){n.tag=14,n=ry(null,n,t,o,s);break e}}throw n=K(t)||t,Error(a(306,n,""))}}return n;case 0:return cd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ko(o,n.pendingProps),cy(t,n,o,h,s);case 3:e:{if(ht(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Lf(t,n),fu(n,o,null,s);var T=n.memoizedState;if(o=T.cache,ks(n,oi,o),o!==m.cache&&Of(n,[oi],s,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=hy(t,n,o,s);break e}else if(o!==h){h=Wr(Error(a(424)),n),au(h),n=hy(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(jn=ea(t.firstChild),Ii=n,rn=!0,Ns=null,Jr=!0,s=sg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Co(),o===h){n=rs(t,n,s);break e}Mi(t,n,o,s)}n=n.child}return n;case 26:return jc(t,n),t===null?(s=Rv(n.type,null,n.pendingProps,null))?n.memoizedState=s:rn||(s=n.type,t=n.pendingProps,o=nh(Ge.current).createElement(s),o[Xt]=n,o[Qn]=t,Oi(o,s,t),be(o),n.stateNode=o):n.memoizedState=Rv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ot(n),t===null&&rn&&(o=n.stateNode=Tv(n.type,n.pendingProps,Ge.current),Ii=n,Jr=!0,h=jn,Qs(n.type)?(Kd=h,jn=ea(o.firstChild)):jn=h),Mi(t,n,n.pendingProps.children,s),jc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&rn&&((h=o=jn)&&(o=oE(o,n.type,n.pendingProps,Jr),o!==null?(n.stateNode=o,Ii=n,jn=ea(o.firstChild),Jr=!1,h=!0):h=!1),h||Vs(n)),Ot(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Gd(h,m)?o=null:T!==null&&Gd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=qf(t,n,E1,null,null,s),Du._currentValue=h),jc(t,n),Mi(t,n,o,s),n.child;case 6:return t===null&&rn&&((t=s=jn)&&(s=lE(s,n.pendingProps,Jr),s!==null?(n.stateNode=s,Ii=n,jn=null,t=!0):t=!1),t||Vs(n)),null;case 13:return fy(t,n,s);case 4:return ht(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=No(n,null,o,s):Mi(t,n,o,s),n.child;case 11:return iy(t,n,n.type,n.pendingProps,s);case 7:return Mi(t,n,n.pendingProps,s),n.child;case 8:return Mi(t,n,n.pendingProps.children,s),n.child;case 12:return Mi(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Mi(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xo(n),h=xi(h),o=o(h),n.flags|=1,Mi(t,n,o,s),n.child;case 14:return ry(t,n,n.type,n.pendingProps,s);case 15:return ay(t,n,n.type,n.pendingProps,s);case 19:return my(t,n,s);case 31:return M1(t,n,s);case 22:return sy(t,n,s,n.pendingProps);case 24:return xo(n),o=xi(oi),t===null?(h=Vf(),h===null&&(h=Mn,m=Df(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),n.memoizedState={parent:o,cache:h},Pf(n),ks(n,oi,h)):((t.lanes&s)!==0&&(Lf(t,n),fu(n,null,null,s),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,oi,o)):(o=m.cache,ks(n,oi,o),o!==h.cache&&Of(n,[oi],s,!0))),Mi(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(t){t.flags|=4}function vd(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fy())t.flags|=8192;else throw Do=Ac,kf}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ov(n))if(Fy())t.flags|=8192;else throw Do=Ac,kf}function Bc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gt():536870912,t.lanes|=n,bl|=n)}function vu(t,n){if(!rn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function zn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function D1(t,n,s){var o=n.pendingProps;switch(Rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(n),null;case 1:return zn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(oi),bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ol(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,If())),zn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(as(n),m!==null?(zn(n),gy(n,m)):(zn(n),vd(n,h,null,o,s))):m?m!==t.memoizedState?(as(n),zn(n),gy(n,m)):(zn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),zn(n),vd(n,h,t,o,s)),null;case 27:if(cn(n),s=Ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return zn(n),null}t=_e.current,ol(n)?Wp(n):(t=Tv(h,o,s),n.stateNode=t,as(n))}return zn(n),null;case 5:if(cn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return zn(n),null}if(m=_e.current,ol(n))Wp(n);else{var T=nh(Ge.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[Xt]=n,m[Qn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Oi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return zn(n),vd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ge.current,ol(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Ii,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Xt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||fv(t.nodeValue,s)),t||Vs(n,!0)}else t=nh(t).createTextNode(o),t[Xt]=n,n.stateNode=t}return zn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=ol(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Xt]=n}else Co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;zn(n),t=!1}else s=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Pr(n),n):(Pr(n),null);if((n.flags&128)!==0)throw Error(a(558))}return zn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Xt]=n}else Co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;zn(n),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pr(n),n):(Pr(n),null)}return Pr(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Bc(n,n.updateQueue),zn(n),null);case 4:return bt(),t===null&&zd(n.stateNode.containerInfo),zn(n),null;case 10:return ts(n.type),zn(n),null;case 19:if(ne(ii),o=n.memoizedState,o===null)return zn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(Zn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Ic(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,Bc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)qp(s,t),s=s.sibling;return ve(ii,ii.current&1|2),rn&&Za(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&kt()>Yc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ic(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Bc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!rn)return zn(n),null}else 2*kt()-o.renderingStartTime>Yc&&s!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,s=ii.current,ve(ii,h?s&1|2:s&1),rn&&Za(n,o.treeForkCount),t):(zn(n),null);case 22:case 23:return Pr(n),Bf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(zn(n),n.subtreeFlags&6&&(n.flags|=8192)):zn(n),s=n.updateQueue,s!==null&&Bc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&ne(Mo),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ts(oi),zn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function N1(t,n){switch(Rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(oi),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 31:if(n.memoizedState!==null){if(Pr(n),n.alternate===null)throw Error(a(340));Co()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Co()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ne(ii),null;case 4:return bt(),null;case 10:return ts(n.type),null;case 22:case 23:return Pr(n),Bf(),t!==null&&ne(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(oi),null;case 25:return null;default:return null}}function yy(t,n){switch(Rf(n),n.tag){case 3:ts(oi),bt();break;case 26:case 27:case 5:cn(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&Pr(n);break;case 13:Pr(n);break;case 19:ne(ii);break;case 10:ts(n.type);break;case 22:case 23:Pr(n),Bf(),t!==null&&ne(Mo);break;case 24:ts(oi)}}function _u(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==h)}}catch(M){Sn(n,n.return,M)}}function Bs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var G=s,le=M;try{le()}catch(pe){Sn(h,G,pe)}}}o=o.next}while(o!==m)}}catch(pe){Sn(n,n.return,pe)}}function vy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{lg(n,s)}catch(o){Sn(t,t.return,o)}}}function _y(t,n,s){s.props=ko(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Sn(t,n,o)}}function bu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Sn(t,n,h)}}function xa(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Sn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Sn(t,n,h)}else s.current=null}function by(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Sn(t,t.return,h)}}function _d(t,n,s){try{var o=t.stateNode;tE(o,t.type,s,n),o[Qn]=n}catch(h){Sn(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qs(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=lr));else if(o!==4&&(o===27&&Qs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(wd(t,n,s),t=t.sibling;t!==null;)wd(t,n,s),t=t.sibling}function Fc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Qs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Fc(t,n,s),t=t.sibling;t!==null;)Fc(t,n,s),t=t.sibling}function Ey(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Oi(n,o,s),n[Xt]=t,n[Qn]=s}catch(m){Sn(t,t.return,m)}}var ss=!1,ci=!1,Ed=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,wi=null;function V1(t,n){if(t=t.containerInfo,Hd=uh,t=J(t),Pe(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,M=-1,G=-1,le=0,pe=0,Ee=t,ce=null;t:for(;;){for(var me;Ee!==s||h!==0&&Ee.nodeType!==3||(M=T+h),Ee!==m||o!==0&&Ee.nodeType!==3||(G=T+o),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)ce=Ee,Ee=me;for(;;){if(Ee===t)break t;if(ce===s&&++le===h&&(M=T),ce===m&&++pe===o&&(G=T),(me=Ee.nextSibling)!==null)break;Ee=ce,ce=Ee.parentNode}Ee=me}s=M===-1||G===-1?null:{start:M,end:G}}else s=null}s=s||{start:0,end:0}}else s=null;for(qd={focusedElem:t,selectionRange:s},uh=!1,wi=n;wi!==null;)if(n=wi,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,wi=t;else for(;wi!==null;){switch(n=wi,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,h=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var rt=ko(s.type,h);t=o.getSnapshotBeforeUpdate(rt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Sn(s,s.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Xd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,wi=t;break}wi=n.return}}function Ay(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ls(t,s),o&4&&_u(5,s);break;case 1:if(ls(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Sn(s,s.return,T)}else{var h=ko(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Sn(s,s.return,T)}}o&64&&vy(s),o&512&&bu(s,s.return);break;case 3:if(ls(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{lg(t,n)}catch(T){Sn(s,s.return,T)}}break;case 27:n===null&&o&4&&Ey(s);case 26:case 5:ls(t,s),n===null&&o&4&&by(s),o&512&&bu(s,s.return);break;case 12:ls(t,s);break;case 31:ls(t,s),o&4&&Cy(t,s);break;case 13:ls(t,s),o&4&&Iy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=H1.bind(null,s),uE(t,s))));break;case 22:if(o=s.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||ci,h=ss;var m=ci;ss=o,(ci=n)&&!m?us(t,s,(s.subtreeFlags&8772)!==0):ls(t,s),ss=h,ci=m}break;case 30:break;default:ls(t,s)}}function Sy(t){var n=t.alternate;n!==null&&(t.alternate=null,Sy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ti(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Hn=null,yr=!1;function os(t,n,s){for(s=s.child;s!==null;)Ry(t,n,s),s=s.sibling}function Ry(t,n,s){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Qe,s)}catch{}switch(s.tag){case 26:ci||xa(s,n),os(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ci||xa(s,n);var o=Hn,h=yr;Qs(s.type)&&(Hn=s.stateNode,yr=!1),os(t,n,s),xu(s.stateNode),Hn=o,yr=h;break;case 5:ci||xa(s,n);case 6:if(o=Hn,h=yr,Hn=null,os(t,n,s),Hn=o,yr=h,Hn!==null)if(yr)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(s.stateNode)}catch(m){Sn(s,n,m)}else try{Hn.removeChild(s.stateNode)}catch(m){Sn(s,n,m)}break;case 18:Hn!==null&&(yr?(t=Hn,vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Il(t)):vv(Hn,s.stateNode));break;case 4:o=Hn,h=yr,Hn=s.stateNode.containerInfo,yr=!0,os(t,n,s),Hn=o,yr=h;break;case 0:case 11:case 14:case 15:Bs(2,s,n),ci||Bs(4,s,n),os(t,n,s);break;case 1:ci||(xa(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&_y(s,n,o)),os(t,n,s);break;case 21:os(t,n,s);break;case 22:ci=(o=ci)||s.memoizedState!==null,os(t,n,s),ci=o;break;default:os(t,n,s)}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Il(t)}catch(s){Sn(n,n.return,s)}}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(s){Sn(n,n.return,s)}}function k1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ty),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ty),n;default:throw Error(a(435,t.tag))}}function Hc(t,n){var s=k1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=q1.bind(null,t,o);o.then(h,h)}})}function vr(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Qs(M.type)){Hn=M.stateNode,yr=!1;break e}break;case 5:Hn=M.stateNode,yr=!1;break e;case 3:case 4:Hn=M.stateNode.containerInfo,yr=!0;break e}M=M.return}if(Hn===null)throw Error(a(160));Ry(m,T,h),Hn=null,yr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var fa=null;function xy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vr(n,t),_r(t),o&4&&(Bs(3,t,t.return),_u(3,t),Bs(5,t,t.return));break;case 1:vr(n,t),_r(t),o&512&&(ci||s===null||xa(s,s.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=fa;if(vr(n,t),_r(t),o&512&&(ci||s===null||xa(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ui]||m[Xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Oi(m,o,s),m[Xt]=t,be(m),o=m;break e;case"link":var T=xv("link","href",h).get(o+(s.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Oi(m,o,s),h.head.appendChild(m);break;case"meta":if(T=xv("meta","content",h).get(o+(s.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Oi(m,o,s),h.head.appendChild(m);break;default:throw Error(a(468,o))}m[Xt]=t,be(m),o=m}t.stateNode=o}else Mv(h,t.type,t.stateNode);else t.stateNode=Iv(h,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Mv(h,t.type,t.stateNode):Iv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&_d(t,t.memoizedProps,s.memoizedProps)}break;case 27:vr(n,t),_r(t),o&512&&(ci||s===null||xa(s,s.return)),s!==null&&o&4&&_d(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vr(n,t),_r(t),o&512&&(ci||s===null||xa(s,s.return)),t.flags&32){h=t.stateNode;try{si(h,"")}catch(rt){Sn(t,t.return,rt)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,_d(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Ed=!0);break;case 6:if(vr(n,t),_r(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(rt){Sn(t,t.return,rt)}}break;case 3:if(ah=null,h=fa,fa=ih(n.containerInfo),vr(n,t),fa=h,_r(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(rt){Sn(t,t.return,rt)}Ed&&(Ed=!1,My(t));break;case 4:o=fa,fa=ih(t.stateNode.containerInfo),vr(n,t),_r(t),fa=o;break;case 12:vr(n,t),_r(t);break;case 31:vr(n,t),_r(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 13:vr(n,t),_r(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gc=kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 22:h=t.memoizedState!==null;var G=s!==null&&s.memoizedState!==null,le=ss,pe=ci;if(ss=le||h,ci=pe||G,vr(n,t),ci=pe,ss=le,_r(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||G||ss||ci||Po(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){G=s=n;try{if(m=G.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=G.stateNode;var Ee=G.memoizedProps.style,ce=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(rt){Sn(G,G.return,rt)}}}else if(n.tag===6){if(s===null){G=n;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(rt){Sn(G,G.return,rt)}}}else if(n.tag===18){if(s===null){G=n;try{var me=G.stateNode;h?_v(me,!0):_v(G.stateNode,!1)}catch(rt){Sn(G,G.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hc(t,s))));break;case 19:vr(n,t),_r(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 30:break;case 21:break;default:vr(n,t),_r(t)}}function _r(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(wy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=bd(t);Fc(t,m,h);break;case 5:var T=s.stateNode;s.flags&32&&(si(T,""),s.flags&=-33);var M=bd(t);Fc(t,M,T);break;case 3:case 4:var G=s.stateNode.containerInfo,le=bd(t);wd(t,le,G);break;default:throw Error(a(161))}}catch(pe){Sn(t,t.return,pe)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ay(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Po(n);break;case 1:xa(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_y(n,n.return,s),Po(n);break;case 27:xu(n.stateNode);case 26:case 5:xa(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function us(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:us(h,m,s),_u(4,m);break;case 1:if(us(h,m,s),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){Sn(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)og(G[h],M)}catch(le){Sn(o,o.return,le)}}s&&T&64&&vy(m),bu(m,m.return);break;case 27:Ey(m);case 26:case 5:us(h,m,s),s&&o===null&&T&4&&by(m),bu(m,m.return);break;case 12:us(h,m,s);break;case 31:us(h,m,s),s&&T&4&&Cy(h,m);break;case 13:us(h,m,s),s&&T&4&&Iy(h,m);break;case 22:m.memoizedState===null&&us(h,m,s),bu(m,m.return);break;case 30:break;default:us(h,m,s)}n=n.sibling}}function Td(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&su(s))}function Ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function da(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(t,n,s,o),n=n.sibling}function Oy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:da(t,n,s,o),h&2048&&_u(9,n);break;case 1:da(t,n,s,o);break;case 3:da(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){da(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){Sn(n,n.return,G)}}else da(t,n,s,o);break;case 31:da(t,n,s,o);break;case 13:da(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?da(t,n,s,o):wu(t,n):m._visibility&2?da(t,n,s,o):(m._visibility|=2,yl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Td(T,n);break;case 24:da(t,n,s,o),h&2048&&Ad(n.alternate,n);break;default:da(t,n,s,o)}}function yl(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=s,G=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:yl(m,T,M,G,h),_u(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&2?yl(m,T,M,G,h):wu(m,T):(pe._visibility|=2,yl(m,T,M,G,h)),h&&le&2048&&Td(T.alternate,T);break;case 24:yl(m,T,M,G,h),h&&le&2048&&Ad(T.alternate,T);break;default:yl(m,T,M,G,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:wu(s,o),h&2048&&Td(o.alternate,o);break;case 24:wu(s,o),h&2048&&Ad(o.alternate,o);break;default:wu(s,o)}n=n.sibling}}var Eu=8192;function vl(t,n,s){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)Dy(t,n,s),t=t.sibling}function Dy(t,n,s){switch(t.tag){case 26:vl(t,n,s),t.flags&Eu&&t.memoizedState!==null&&wE(s,fa,t.memoizedState,t.memoizedProps);break;case 5:vl(t,n,s);break;case 3:case 4:var o=fa;fa=ih(t.stateNode.containerInfo),vl(t,n,s),fa=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,vl(t,n,s),Eu=o):vl(t,n,s));break;default:vl(t,n,s)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];wi=o,ky(o,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qc(t)):Tu(t);break;default:Tu(t)}}function qc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];wi=o,ky(o,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),qc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qc(n));break;default:qc(n)}t=t.sibling}}function ky(t,n){for(;wi!==null;){var s=wi;switch(s.tag){case 0:case 11:case 15:Bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,wi=o;else e:for(s=t;wi!==null;){o=wi;var h=o.sibling,m=o.return;if(Sy(o),o===s){wi=null;break e}if(h!==null){h.return=m,wi=h;break e}wi=m}}}var P1={getCacheForType:function(t){var n=xi(oi),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return xi(oi).controller.signal}},L1=typeof WeakMap=="function"?WeakMap:Map,yn=0,Mn=null,qt=null,Wt=0,An=0,Lr=null,Fs=!1,_l=!1,Sd=!1,cs=0,Zn=0,Hs=0,Lo=0,Rd=0,Ur=0,bl=0,Au=null,br=null,Cd=!1,Gc=0,Py=0,Yc=1/0,Xc=null,qs=null,gi=0,Gs=null,wl=null,hs=0,Id=0,xd=null,Ly=null,Su=0,Md=null;function jr(){return(yn&2)!==0&&Wt!==0?Wt&-Wt:q.T!==null?Pd():ya()}function Uy(){if(Ur===0)if((Wt&536870912)===0||rn){var t=$n;$n<<=1,($n&3932160)===0&&($n=262144),Ur=t}else Ur=536870912;return t=kr.current,t!==null&&(t.flags|=32),Ur}function wr(t,n,s){(t===Mn&&(An===2||An===9)||t.cancelPendingCommit!==null)&&(El(t,0),Ys(t,Wt,Ur,!1)),St(t,s),((yn&2)===0||t!==Mn)&&(t===Mn&&((yn&2)===0&&(Lo|=s),Zn===4&&Ys(t,Wt,Ur,!1)),Ma(t))}function jy(t,n,s){if((yn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=o?z1(t,n):Dd(t,n,!0),m=o;do{if(h===0){_l&&!o&&Ys(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!U1(s)){h=Dd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Au;var G=M.current.memoizedState.isDehydrated;if(G&&(El(M,T).flags|=256),T=Dd(M,T,!1),T!==2){if(Sd&&!G){M.errorRecoveryDisabledLanes|=m,Lo|=m,h=4;break e}m=br,br=h,m!==null&&(br===null?br=m:br.push.apply(br,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){El(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Ur,!Fs);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gc+300-kt(),10<h)){if(Ys(o,n,Ur,!Fs),Nn(o,0,!0)!==0)break e;hs=n,o.timeoutHandle=gv(zy.bind(null,o,s,br,Xc,Cd,n,Ur,Lo,bl,Fs,m,"Throttled",-0,0),h);break e}zy(o,s,br,Xc,Cd,n,Ur,Lo,bl,Fs,m,null,-0,0)}}break}while(!0);Ma(t)}function zy(t,n,s,o,h,m,T,M,G,le,pe,Ee,ce,me){if(t.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lr},Dy(n,m,Ee);var rt=(m&62914560)===m?Gc-kt():(m&4194048)===m?Py-kt():0;if(rt=EE(Ee,rt),rt!==null){hs=m,t.cancelPendingCommit=rt(Qy.bind(null,t,n,m,s,o,h,T,M,G,pe,Ee,null,ce,me)),Ys(t,m,T,!le);return}}Qy(t,n,m,s,o,h,T,M,G)}function U1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,s,o){n&=~Rd,n&=~Lo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-We(h),T=1<<m;o[m]=-1,h&=~T}s!==0&&Qi(t,s,n)}function Qc(){return(yn&6)===0?(Ru(0),!1):!0}function Od(){if(qt!==null){if(An===0)var t=qt.return;else t=qt,es=Io=null,Xf(t),fl=null,lu=0,t=qt;for(;t!==null;)yy(t.alternate,t),t=t.return;qt=null}}function El(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,rE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),hs=0,Od(),Mn=t,qt=s=Ja(t.current,null),Wt=n,An=0,Lr=null,Fs=!1,_l=Yn(t,n),Sd=!1,bl=Ur=Rd=Lo=Hs=Zn=0,br=Au=null,Cd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-We(o),m=1<<h;n|=t[h],o&=~m}return cs=n,Sa(),s}function By(t,n){Nt=null,q.H=gu,n===hl||n===Tc?(n=ig(),An=3):n===kf?(n=ig(),An=4):An=n===ud?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lr=n,qt===null&&(Zn=1,Lc(t,Wr(n,t.current)))}function Fy(){var t=kr.current;return t===null?!0:(Wt&4194048)===Wt?Zr===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?t===Zr:!1}function Hy(){var t=q.H;return q.H=gu,t===null?gu:t}function qy(){var t=q.A;return q.A=P1,t}function Wc(){Zn=4,Fs||(Wt&4194048)!==Wt&&kr.current!==null||(_l=!0),(Hs&134217727)===0&&(Lo&134217727)===0||Mn===null||Ys(Mn,Wt,Ur,!1)}function Dd(t,n,s){var o=yn;yn|=2;var h=Hy(),m=qy();(Mn!==t||Wt!==n)&&(Xc=null,El(t,n)),n=!1;var T=Zn;e:do try{if(An!==0&&qt!==null){var M=qt,G=Lr;switch(An){case 8:Od(),T=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(n=!0);var le=An;if(An=0,Lr=null,Tl(t,M,G,le),s&&_l){T=0;break e}break;default:le=An,An=0,Lr=null,Tl(t,M,G,le)}}j1(),T=Zn;break}catch(pe){By(t,pe)}while(!0);return n&&t.shellSuspendCounter++,es=Io=null,yn=o,q.H=h,q.A=m,qt===null&&(Mn=null,Wt=0,Sa()),T}function j1(){for(;qt!==null;)Gy(qt)}function z1(t,n){var s=yn;yn|=2;var o=Hy(),h=qy();Mn!==t||Wt!==n?(Xc=null,Yc=kt()+500,El(t,n)):_l=Yn(t,n);e:do try{if(An!==0&&qt!==null){n=qt;var m=Lr;t:switch(An){case 1:An=0,Lr=null,Tl(t,n,m,1);break;case 2:case 9:if(tg(m)){An=0,Lr=null,Yy(n);break}n=function(){An!==2&&An!==9||Mn!==t||(An=7),Ma(t)},m.then(n,n);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:tg(m)?(An=0,Lr=null,Yy(n)):(An=0,Lr=null,Tl(t,n,m,7));break;case 5:var T=null;switch(qt.tag){case 26:T=qt.memoizedState;case 5:case 27:var M=qt;if(T?Ov(T):M.stateNode.complete){An=0,Lr=null;var G=M.sibling;if(G!==null)qt=G;else{var le=M.return;le!==null?(qt=le,Kc(le)):qt=null}break t}}An=0,Lr=null,Tl(t,n,m,5);break;case 6:An=0,Lr=null,Tl(t,n,m,6);break;case 8:Od(),Zn=6;break e;default:throw Error(a(462))}}B1();break}catch(pe){By(t,pe)}while(!0);return es=Io=null,q.H=o,q.A=h,yn=s,qt!==null?0:(Mn=null,Wt=0,Sa(),Zn)}function B1(){for(;qt!==null&&!Br();)Gy(qt)}function Gy(t){var n=py(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Kc(t):qt=n}function Yy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=uy(s,n,n.pendingProps,n.type,void 0,Wt);break;case 11:n=uy(s,n,n.pendingProps,n.type.render,n.ref,Wt);break;case 5:Xf(n);default:yy(s,n),n=qt=qp(n,cs),n=py(s,n,cs)}t.memoizedProps=t.pendingProps,n===null?Kc(t):qt=n}function Tl(t,n,s,o){es=Io=null,Xf(n),fl=null,lu=0;var h=n.return;try{if(x1(t,h,n,s,Wt)){Zn=1,Lc(t,Wr(s,t.current)),qt=null;return}}catch(m){if(h!==null)throw qt=h,m;Zn=1,Lc(t,Wr(s,t.current)),qt=null;return}n.flags&32768?(rn||o===1?t=!0:_l||(Wt&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,t)):Kc(n)}function Kc(t){var n=t;do{if((n.flags&32768)!==0){Xy(n,Fs);return}t=n.return;var s=D1(n.alternate,n,cs);if(s!==null){qt=s;return}if(n=n.sibling,n!==null){qt=n;return}qt=n=t}while(n!==null);Zn===0&&(Zn=5)}function Xy(t,n){do{var s=N1(t.alternate,t);if(s!==null){s.flags&=32767,qt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){qt=t;return}qt=t=s}while(t!==null);Zn=6,qt=null}function Qy(t,n,s,o,h,m,T,M,G){t.cancelPendingCommit=null;do $c();while(gi!==0);if((yn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=rl,Pi(t,s,m,T,M,G),t===Mn&&(qt=Mn=null,Wt=0),wl=n,Gs=t,hs=s,Id=m,xd=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G1(v,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=ee.p,ee.p=2,T=yn,yn|=4;try{V1(t,n,s)}finally{yn=T,ee.p=h,q.T=o}}gi=1,Wy(),Ky(),$y()}}function Wy(){if(gi===1){gi=0;var t=Gs,n=wl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=ee.p;ee.p=2;var h=yn;yn|=4;try{xy(n,t);var m=qd,T=J(t.containerInfo),M=m.focusedElem,G=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&it(M.ownerDocument.documentElement,M)){if(G!==null&&Pe(M)){var le=G.start,pe=G.end;if(pe===void 0&&(pe=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(pe,M.value.length);else{var Ee=M.ownerDocument||document,ce=Ee&&Ee.defaultView||window;if(ce.getSelection){var me=ce.getSelection(),rt=M.textContent.length,_t=Math.min(G.start,rt),xn=G.end===void 0?_t:Math.min(G.end,rt);!me.extend&&_t>xn&&(T=xn,xn=_t,_t=T);var Z=Ye(M,_t),X=Ye(M,xn);if(Z&&X&&(me.rangeCount!==1||me.anchorNode!==Z.node||me.anchorOffset!==Z.offset||me.focusNode!==X.node||me.focusOffset!==X.offset)){var ae=Ee.createRange();ae.setStart(Z.node,Z.offset),me.removeAllRanges(),_t>xn?(me.addRange(ae),me.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),me.addRange(ae))}}}}for(Ee=[],me=M;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var we=Ee[M];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}uh=!!Hd,qd=Hd=null}finally{yn=h,ee.p=o,q.T=s}}t.current=n,gi=2}}function Ky(){if(gi===2){gi=0;var t=Gs,n=wl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=ee.p;ee.p=2;var h=yn;yn|=4;try{Ay(t,n.alternate,n)}finally{yn=h,ee.p=o,q.T=s}}gi=3}}function $y(){if(gi===4||gi===3){gi=0,Gn();var t=Gs,n=wl,s=hs,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gi=5:(gi=0,wl=Gs=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(qs=null),qe(s),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Qe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=ee.p,ee.p=2,q.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{q.T=n,ee.p=h}}(hs&3)!==0&&$c(),Ma(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Md?Su++:(Su=0,Md=t):Su=0,Ru(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function $c(){return Wy(),Ky(),$y(),Zy()}function Zy(){if(gi!==5)return!1;var t=Gs,n=Id;Id=0;var s=qe(hs),o=q.T,h=ee.p;try{ee.p=32>s?32:s,q.T=null,s=xd,xd=null;var m=Gs,T=hs;if(gi=0,wl=Gs=null,hs=0,(yn&6)!==0)throw Error(a(331));var M=yn;if(yn|=4,Vy(m.current),Oy(m,m.current,T,s),yn=M,Ru(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Qe,m)}catch{}return!0}finally{ee.p=h,q.T=o,Jy(t,n)}}function ev(t,n,s){n=Wr(s,n),n=ld(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(St(t,2),Ma(t))}function Sn(t,n,s){if(t.tag===3)ev(t,t,s);else for(;n!==null;){if(n.tag===3){ev(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){t=Wr(s,t),s=ty(2),o=Us(n,s,2),o!==null&&(ny(s,o,n,t),St(o,2),Ma(o));break}}n=n.return}}function Nd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new L1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Sd=!0,h.add(s),t=F1.bind(null,t,n,s),n.then(t,t))}function F1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Mn===t&&(Wt&s)===s&&(Zn===4||Zn===3&&(Wt&62914560)===Wt&&300>kt()-Gc?(yn&2)===0&&El(t,0):Rd|=s,bl===Wt&&(bl=0)),Ma(t)}function tv(t,n){n===0&&(n=gt()),t=ar(t,n),t!==null&&(St(t,n),Ma(t))}function H1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),tv(t,s)}function q1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),tv(t,s)}function G1(t,n){return en(t,n)}var Jc=null,Al=null,Vd=!1,Zc=!1,kd=!1,Xs=0;function Ma(t){t!==Al&&t.next===null&&(Al===null?Jc=Al=t:Al=Al.next=t),Zc=!0,Vd||(Vd=!0,X1())}function Ru(t,n){if(!kd&&Zc){kd=!0;do for(var s=!1,o=Jc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-We(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,av(o,m))}else m=Wt,m=Nn(o,o===Mn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Yn(o,m)||(s=!0,av(o,m));o=o.next}while(s);kd=!1}}function Y1(){nv()}function nv(){Zc=Vd=!1;var t=0;Xs!==0&&iE()&&(t=Xs);for(var n=kt(),s=null,o=Jc;o!==null;){var h=o.next,m=iv(o,n);m===0?(o.next=null,s===null?Jc=h:s.next=h,h===null&&(Al=s)):(s=o,(t!==0||(m&3)!==0)&&(Zc=!0)),o=h}gi!==0&&gi!==5||Ru(t),Xs!==0&&(Xs=0)}function iv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-We(m),M=1<<T,G=h[T];G===-1?((M&s)===0||(M&o)!==0)&&(h[T]=Xi(M,n)):G<=n&&(t.expiredLanes|=M),m&=~M}if(n=Mn,s=Wt,s=Nn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(An===2||An===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Rn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Rn(o),qe(s)){case 2:case 8:s=g;break;case 32:s=v;break;case 268435456:s=Q;break;default:s=v}return o=rv.bind(null,t),s=en(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Rn(o),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,n){if(gi!==0&&gi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if($c()&&t.callbackNode!==s)return null;var o=Wt;return o=Nn(t,t===Mn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),iv(t,kt()),t.callbackNode!=null&&t.callbackNode===s?rv.bind(null,t):null)}function av(t,n){if($c())return null;jy(t,n,!0)}function X1(){aE(function(){(yn&6)!==0?en(R,Y1):nv()})}function Pd(){if(Xs===0){var t=ul;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),Xs=t}return Xs}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function ov(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Q1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var m=sv((h[Qn]||null).action),T=o.submitter;T&&(n=(n=T[Qn]||null)?sv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new Xr("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var G=T?ov(h,T):new FormData(h);nd(s,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(M.preventDefault(),G=T?ov(h,T):new FormData(h),nd(s,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var Ld=0;Ld<rr.length;Ld++){var Ud=rr[Ld],W1=Ud.toLowerCase(),K1=Ud[0].toUpperCase()+Ud.slice(1);bn(W1,"on"+K1)}bn(xe,"onAnimationEnd"),bn(Fe,"onAnimationIteration"),bn(Lt,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(Qt,"onTransitionRun"),bn(Mt,"onTransitionStart"),bn(Ht,"onTransitionCancel"),bn(an,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function lv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],G=M.instance,le=M.currentTarget;if(M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(pe){Ci(pe)}h.currentTarget=null,m=G}else for(T=0;T<o.length;T++){if(M=o[T],G=M.instance,le=M.currentTarget,M=M.listener,G!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(pe){Ci(pe)}h.currentTarget=null,m=G}}}}function Gt(t,n){var s=n[Rr];s===void 0&&(s=n[Rr]=new Set);var o=t+"__bubble";s.has(o)||(uv(n,t,2,!1),s.add(o))}function jd(t,n,s){var o=0;n&&(o|=4),uv(s,t,o,n)}var eh="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[eh]){t[eh]=!0,De.forEach(function(s){s!=="selectionchange"&&($1.has(s)||jd(s,!1,t),jd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eh]||(n[eh]=!0,jd("selectionchange",!1,n))}}function uv(t,n,s,o){switch(Uv(n)){case 2:var h=SE;break;case 8:h=RE;break;default:h=tm}s=h.bind(null,n,s,t),h=void 0,!Gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Bd(t,n,s,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=Ji(M),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){o=m=T;continue e}M=M.parentNode}}o=o.return}fr(function(){var le=m,pe=ur(s),Ee=[];e:{var ce=un.get(t);if(ce!==void 0){var me=Xr,rt=t;switch(t){case"keypress":if(la(s)===0)break e;case"keydown":case"keyup":me=To;break;case"focusin":rt="focus",me=Ta;break;case"focusout":rt="blur",me=Ta;break;case"beforeblur":case"afterblur":me=Ta;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=y;break;case xe:case Fe:case Lt:me=Jo;break;case an:me=N;break;case"scroll":case"scrollend":me=Eo;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ca;break;case"toggle":case"beforetoggle":me=Rt}var _t=(n&4)!==0,xn=!_t&&(t==="scroll"||t==="scrollend"),Z=_t?ce!==null?ce+"Capture":null:ce;_t=[];for(var X=le,ae;X!==null;){var we=X;if(ae=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ae===null||Z===null||(we=Si(X,Z),we!=null&&_t.push(Iu(X,we,ae))),xn)break;X=X.return}0<_t.length&&(ce=new me(ce,rt,null,s,pe),Ee.push({event:ce,listeners:_t}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ce&&s!==Rs&&(rt=s.relatedTarget||s.fromElement)&&(Ji(rt)||rt[$i]))break e;if((me||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,me?(rt=s.relatedTarget||s.toElement,me=le,rt=rt?Ji(rt):null,rt!==null&&(xn=c(rt),_t=rt.tag,rt!==xn||_t!==5&&_t!==27&&_t!==6)&&(rt=null)):(me=null,rt=le),me!==rt)){if(_t=Cs,we="onMouseLeave",Z="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(_t=ca,we="onPointerLeave",Z="onPointerEnter",X="pointer"),xn=me==null?ce:re(me),ae=rt==null?ce:re(rt),ce=new _t(we,X+"leave",me,s,pe),ce.target=xn,ce.relatedTarget=ae,we=null,Ji(pe)===le&&(_t=new _t(Z,X+"enter",rt,s,pe),_t.target=ae,_t.relatedTarget=xn,we=_t),xn=we,me&&rt)t:{for(_t=J1,Z=me,X=rt,ae=0,we=Z;we;we=_t(we))ae++;we=0;for(var dt=X;dt;dt=_t(dt))we++;for(;0<ae-we;)Z=_t(Z),ae--;for(;0<we-ae;)X=_t(X),we--;for(;ae--;){if(Z===X||X!==null&&Z===X.alternate){_t=Z;break t}Z=_t(Z),X=_t(X)}_t=null}else _t=null;me!==null&&cv(Ee,ce,me,_t,!1),rt!==null&&xn!==null&&cv(Ee,xn,rt,_t,!0)}}e:{if(ce=le?re(le):window,me=ce.nodeName&&ce.nodeName.toLowerCase(),me==="select"||me==="input"&&ce.type==="file")var fn=tu;else if(eu(ce))if(nu)fn=W;else{fn=O;var lt=S}else me=ce.nodeName,!me||me.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Fa(le.elementType)&&(fn=tu):fn=j;if(fn&&(fn=fn(t,le))){Un(Ee,fn,s,pe);break e}lt&&lt(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Ss(ce,"number",ce.value)}switch(lt=le?re(le):window,t){case"focusin":(eu(lt)||lt.contentEditable==="true")&&(ze=lt,hn=le,Xe=null);break;case"focusout":Xe=hn=ze=null;break;case"mousedown":Pt=!0;break;case"contextmenu":case"mouseup":case"dragend":Pt=!1,_n(Ee,s,pe);break;case"selectionchange":if(Ke)break;case"keydown":case"keyup":_n(Ee,s,pe)}var Vt;if(ln)e:{switch(t){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Qa?Qr(t,s)&&(Kt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Kt="onCompositionStart");Kt&&(mr&&s.locale!=="ko"&&(Qa||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Qa&&(Vt=wa()):(Yr=pe,ji="value"in Yr?Yr.value:Yr.textContent,Qa=!0)),lt=th(le,Kt),0<lt.length&&(Kt=new Dr(Kt,t,null,s,pe),Ee.push({event:Kt,listeners:lt}),Vt?Kt.data=Vt:(Vt=Xa(s),Vt!==null&&(Kt.data=Vt)))),(Vt=zi?bf(t,s):gc(t,s))&&(Kt=th(le,"onBeforeInput"),0<Kt.length&&(lt=new Dr("onBeforeInput","beforeinput",null,s,pe),Ee.push({event:lt,listeners:Kt}),lt.data=Vt)),Q1(Ee,t,le,s,pe)}lv(Ee,n)})}function Iu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function th(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Si(t,s),h!=null&&o.unshift(Iu(t,h,m)),h=Si(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function J1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,n,s,o,h){for(var m=n._reactName,T=[];s!==null&&s!==o;){var M=s,G=M.alternate,le=M.stateNode;if(M=M.tag,G!==null&&G===o)break;M!==5&&M!==26&&M!==27||le===null||(G=le,h?(le=Si(s,m),le!=null&&T.unshift(Iu(s,le,G))):h||(le=Si(s,m),le!=null&&T.push(Iu(s,le,G)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var Z1=/\r\n?/g,eE=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(Z1,`
`).replace(eE,"")}function fv(t,n){return n=hv(n),hv(t)===n}function In(t,n,s,o,h,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||si(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&si(t,""+o);break;case"className":Ft(t,"class",o);break;case"tabIndex":Ft(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ft(t,s,o);break;case"style":Cr(t,o,m);break;case"data":if(n!=="object"){Ft(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ba(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&In(t,n,"name",h.name,h,null),In(t,n,"formEncType",h.formEncType,h,null),In(t,n,"formMethod",h.formMethod,h,null),In(t,n,"formTarget",h.formTarget,h,null)):(In(t,n,"encType",h.encType,h,null),In(t,n,"method",h.method,h,null),In(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ba(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=lr);break;case"onScroll":o!=null&&Gt("scroll",t);break;case"onScrollEnd":o!=null&&Gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Gt("beforetoggle",t),Gt("toggle",t),Tn(t,"popover",o);break;case"xlinkActuate":nn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":nn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":nn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":nn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":nn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":nn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":nn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":nn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":nn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Tn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_a.get(s)||s,Tn(t,s,o))}}function Fd(t,n,s,o,h,m){switch(s){case"style":Cr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?si(t,o):(typeof o=="number"||typeof o=="bigint")&&si(t,""+o);break;case"onScroll":o!=null&&Gt("scroll",t);break;case"onScrollEnd":o!=null&&Gt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ve.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),m=t[Qn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Tn(t,s,o)}}}function Oi(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",t),Gt("load",t);var o=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:In(t,n,m,T,s,null)}}h&&In(t,n,"srcSet",s.srcSet,s,null),o&&In(t,n,"src",s.src,s,null);return;case"input":Gt("invalid",t);var M=m=T=h=null,G=null,le=null;for(o in s)if(s.hasOwnProperty(o)){var pe=s[o];if(pe!=null)switch(o){case"name":h=pe;break;case"type":T=pe;break;case"checked":G=pe;break;case"defaultChecked":le=pe;break;case"value":m=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,n));break;default:In(t,n,o,pe,s,null)}}wo(t,m,M,G,le,T,h,!1);return;case"select":Gt("invalid",t),o=T=m=null;for(h in s)if(s.hasOwnProperty(h)&&(M=s[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:In(t,n,h,M,s,null)}n=m,s=T,t.multiple=!!o,n!=null?vn(t,!!o,n,!1):s!=null&&vn(t,!!o,s,!0);return;case"textarea":Gt("invalid",t),m=h=o=null;for(T in s)if(s.hasOwnProperty(T)&&(M=s[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:In(t,n,T,M,s,null)}qr(t,o,h,m);return;case"option":for(G in s)if(s.hasOwnProperty(G)&&(o=s[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:In(t,n,G,o,s,null)}return;case"dialog":Gt("beforetoggle",t),Gt("toggle",t),Gt("cancel",t),Gt("close",t);break;case"iframe":case"object":Gt("load",t);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Gt(Cu[o],t);break;case"image":Gt("error",t),Gt("load",t);break;case"details":Gt("toggle",t);break;case"embed":case"source":case"link":Gt("error",t),Gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in s)if(s.hasOwnProperty(le)&&(o=s[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:In(t,n,le,o,s,null)}return;default:if(Fa(n)){for(pe in s)s.hasOwnProperty(pe)&&(o=s[pe],o!==void 0&&Fd(t,n,pe,o,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(o=s[M],o!=null&&In(t,n,M,o,s,null))}function tE(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,G=null,le=null,pe=null;for(me in s){var Ee=s[me];if(s.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=Ee;default:o.hasOwnProperty(me)||In(t,n,me,null,o,Ee)}}for(var ce in o){var me=o[ce];if(Ee=s[ce],o.hasOwnProperty(ce)&&(me!=null||Ee!=null))switch(ce){case"type":m=me;break;case"name":h=me;break;case"checked":le=me;break;case"defaultChecked":pe=me;break;case"value":T=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,n));break;default:me!==Ee&&In(t,n,ce,me,o,Ee)}}za(t,T,M,G,le,pe,m,h);return;case"select":me=T=M=ce=null;for(m in s)if(G=s[m],s.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":me=G;default:o.hasOwnProperty(m)||In(t,n,m,null,o,G)}for(h in o)if(m=o[h],G=s[h],o.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ce=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==G&&In(t,n,h,m,o,G)}n=M,s=T,o=me,ce!=null?vn(t,!!s,ce,!1):!!o!=!!s&&(n!=null?vn(t,!!s,n,!0):vn(t,!!s,s?[]:"",!1));return;case"textarea":me=ce=null;for(M in s)if(h=s[M],s.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:In(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=s[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":me=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&In(t,n,T,h,o,m)}va(t,ce,me);return;case"option":for(var rt in s)if(ce=s[rt],s.hasOwnProperty(rt)&&ce!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:In(t,n,rt,null,o,ce)}for(G in o)if(ce=o[G],me=s[G],o.hasOwnProperty(G)&&ce!==me&&(ce!=null||me!=null))switch(G){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:In(t,n,G,ce,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)ce=s[_t],s.hasOwnProperty(_t)&&ce!=null&&!o.hasOwnProperty(_t)&&In(t,n,_t,null,o,ce);for(le in o)if(ce=o[le],me=s[le],o.hasOwnProperty(le)&&ce!==me&&(ce!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(137,n));break;default:In(t,n,le,ce,o,me)}return;default:if(Fa(n)){for(var xn in s)ce=s[xn],s.hasOwnProperty(xn)&&ce!==void 0&&!o.hasOwnProperty(xn)&&Fd(t,n,xn,void 0,o,ce);for(pe in o)ce=o[pe],me=s[pe],!o.hasOwnProperty(pe)||ce===me||ce===void 0&&me===void 0||Fd(t,n,pe,ce,o,me);return}}for(var Z in s)ce=s[Z],s.hasOwnProperty(Z)&&ce!=null&&!o.hasOwnProperty(Z)&&In(t,n,Z,null,o,ce);for(Ee in o)ce=o[Ee],me=s[Ee],!o.hasOwnProperty(Ee)||ce===me||ce==null&&me==null||In(t,n,Ee,ce,o,me)}function dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&dv(T)){for(T=0,M=h.responseEnd,o+=1;o<s.length;o++){var G=s[o],le=G.startTime;if(le>M)break;var pe=G.transferSize,Ee=G.initiatorType;pe&&dv(Ee)&&(G=G.responseEnd,T+=pe*(G<M?1:(M-le)/(G-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,qd=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yd=null;function iE(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,rE=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(sE)}:gv;function sE(t){setTimeout(function(){throw t})}function Qs(t){return t==="head"}function vv(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Il(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")xu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,xu(s);for(var m=s.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[Ui]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&xu(t.ownerDocument.body);s=h}while(s);Il(n)}function _v(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xd(s),Ti(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function oE(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ea(t.nextSibling),t===null)break}return null}function lE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ea(t.nextSibling),t===null))return null;return t}function bv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ea(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ea(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Kd=null;function wv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ea(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ev(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Tv(t,n,s){switch(n=nh(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ti(t)}var ta=new Map,Av=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=ee.d;ee.d={f:cE,r:hE,D:fE,C:dE,L:mE,m:pE,X:yE,S:gE,M:vE};function cE(){var t=fs.f(),n=Qc();return t||n}function hE(t){var n=_i(t);n!==null&&n.tag===5&&n.type==="form"?Bg(n):fs.r(t)}var Sl=typeof document>"u"?null:document;function Sv(t,n,s){var o=Sl;if(o&&typeof n=="string"&&n){var h=Ln(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Av.has(h)||(Av.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Oi(n,"link",t),be(n),o.head.appendChild(n)))}}function fE(t){fs.D(t),Sv("dns-prefetch",t,null)}function dE(t,n){fs.C(t,n),Sv("preconnect",t,n)}function mE(t,n,s){fs.L(t,n,s);var o=Sl;if(o&&t&&n){var h='link[rel="preload"][as="'+Ln(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ln(s.imageSizes)+'"]')):h+='[href="'+Ln(t)+'"]';var m=h;switch(n){case"style":m=Rl(t);break;case"script":m=Cl(t)}ta.has(m)||(t=U({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ta.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Mu(m))||n==="script"&&o.querySelector(Ou(m))||(n=o.createElement("link"),Oi(n,"link",t),be(n),o.head.appendChild(n)))}}function pE(t,n){fs.m(t,n);var s=Sl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ln(o)+'"][href="'+Ln(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Cl(t)}if(!ta.has(m)&&(t=U({rel:"modulepreload",href:t},n),ta.set(m,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ou(m)))return}o=s.createElement("link"),Oi(o,"link",t),be(o),s.head.appendChild(o)}}}function gE(t,n,s){fs.S(t,n,s);var o=Sl;if(o&&t){var h=ge(o).hoistableStyles,m=Rl(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Mu(m)))M.loading=5;else{t=U({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ta.get(m))&&$d(t,s);var G=T=o.createElement("link");be(G),Oi(G,"link",t),G._p=new Promise(function(le,pe){G.onload=le,G.onerror=pe}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,rh(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function yE(t,n){fs.X(t,n);var s=Sl;if(s&&t){var o=ge(s).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=s.querySelector(Ou(h)),m||(t=U({src:t,async:!0},n),(n=ta.get(h))&&Jd(t,n),m=s.createElement("script"),be(m),Oi(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function vE(t,n){fs.M(t,n);var s=Sl;if(s&&t){var o=ge(s).hoistableScripts,h=Cl(t),m=o.get(h);m||(m=s.querySelector(Ou(h)),m||(t=U({src:t,async:!0,type:"module"},n),(n=ta.get(h))&&Jd(t,n),m=s.createElement("script"),be(m),Oi(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Rv(t,n,s,o){var h=(h=Ge.current)?ih(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Rl(s.href),s=ge(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Rl(s.href);var m=ge(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Mu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ta.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ta.set(t,s),m||_E(h,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cl(s),s=ge(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Rl(t){return'href="'+Ln(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function Cv(t){return U({},t,{"data-precedence":t.precedence,precedence:null})}function _E(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Oi(n,"link",s),be(n),t.head.appendChild(n))}function Cl(t){return'[src="'+Ln(t)+'"]'}function Ou(t){return"script[async]"+t}function Iv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Ln(s.href)+'"]');if(o)return n.instance=o,be(o),o;var h=U({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),be(o),Oi(o,"style",h),rh(o,s.precedence,t),n.instance=o;case"stylesheet":h=Rl(s.href);var m=t.querySelector(Mu(h));if(m)return n.state.loading|=4,n.instance=m,be(m),m;o=Cv(s),(h=ta.get(h))&&$d(o,h),m=(t.ownerDocument||t).createElement("link"),be(m);var T=m;return T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),Oi(m,"link",o),n.state.loading|=4,rh(m,s.precedence,t),n.instance=m;case"script":return m=Cl(s.src),(h=t.querySelector(Ou(m)))?(n.instance=h,be(h),h):(o=s,(h=ta.get(m))&&(o=U({},s),Jd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),be(h),Oi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rh(o,s.precedence,t));return n.instance}function rh(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function $d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ah=null;function xv(t,n,s){if(ah===null){var o=new Map,h=ah=new Map;h.set(s,o)}else h=ah,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var m=s[h];if(!(m[Ui]||m[Xt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Mv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function bE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wE(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Rl(o.href),m=n.querySelector(Mu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sh.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,be(m);return}m=n.ownerDocument||n,o=Cv(o),(h=ta.get(h))&&$d(o,h),m=m.createElement("link"),be(m);var T=m;T._p=new Promise(function(M,G){T.onload=M,T.onerror=G}),Oi(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=sh.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Zd=0;function EE(t,n){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&Zd===0&&(Zd=62500*nE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Zd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,n.forEach(TE,t),oh=null,sh.call(t))}function TE(t,n){if(!(n.state.loading&4)){var s=oh.get(t);if(s)var o=s.get(null);else{s=new Map,oh.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,h),s.set(T,h),this.count++,o=sh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Du={$$typeof:Be,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function AE(t,n,s,o,h,m,T,M,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Dv(t,n,s,o,h,m,T,M,G,le,pe,Ee){return t=new AE(t,n,s,T,G,le,pe,Ee,M),n=1,m===!0&&(n|=24),m=Bi(3,null,null,n),t.current=m,m.stateNode=t,n=Df(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Pf(m),t}function Nv(t){return t?(t=Vr,t):Vr}function Vv(t,n,s,o,h,m){h=Nv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Us(t,o,n),s!==null&&(wr(s,t,n),cu(s,t,n))}function kv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function em(t,n){kv(t,n),(t=t.alternate)&&kv(t,n)}function Pv(t){if(t.tag===13||t.tag===31){var n=ar(t,67108864);n!==null&&wr(n,t,67108864),em(t,67108864)}}function Lv(t){if(t.tag===13||t.tag===31){var n=jr();n=Sr(n);var s=ar(t,n);s!==null&&wr(s,t,n),em(t,n)}}var uh=!0;function SE(t,n,s,o){var h=q.T;q.T=null;var m=ee.p;try{ee.p=2,tm(t,n,s,o)}finally{ee.p=m,q.T=h}}function RE(t,n,s,o){var h=q.T;q.T=null;var m=ee.p;try{ee.p=8,tm(t,n,s,o)}finally{ee.p=m,q.T=h}}function tm(t,n,s,o){if(uh){var h=nm(o);if(h===null)Bd(t,n,o,ch,s),jv(t,o);else if(IE(h,t,n,s,o))o.stopPropagation();else if(jv(t,o),n&4&&-1<CE.indexOf(t)){for(;h!==null;){var m=_i(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Dn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var G=1<<31-We(T);M.entanglements[1]|=G,T&=~G}Ma(m),(yn&6)===0&&(Yc=kt()+500,Ru(0))}}break;case 31:case 13:M=ar(m,2),M!==null&&wr(M,m,2),Qc(),em(m,2)}if(m=nm(o),m===null&&Bd(t,n,o,ch,s),m===h)break;h=m}h!==null&&o.stopPropagation()}else Bd(t,n,o,null,s)}}function nm(t){return t=ur(t),im(t)}var ch=null;function im(t){if(ch=null,t=Ji(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ch=t,null}function Uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case R:return 2;case g:return 8;case v:case D:return 32;case Q:return 268435456;default:return 32}default:return 32}}var rm=!1,Ws=null,Ks=null,$s=null,Nu=new Map,Vu=new Map,Js=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Nu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function ku(t,n,s,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=_i(n),n!==null&&Pv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function IE(t,n,s,o,h){switch(n){case"focusin":return Ws=ku(Ws,t,n,s,o,h),!0;case"dragenter":return Ks=ku(Ks,t,n,s,o,h),!0;case"mouseover":return $s=ku($s,t,n,s,o,h),!0;case"pointerover":var m=h.pointerId;return Nu.set(m,ku(Nu.get(m)||null,t,n,s,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,ku(Vu.get(m)||null,t,n,s,o,h)),!0}return!1}function zv(t){var n=Ji(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Wi(t.priority,function(){Lv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Wi(t.priority,function(){Lv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=nm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Rs=o,s.target.dispatchEvent(o),Rs=null}else return n=_i(s),n!==null&&Pv(n),t.blockedOn=s,!1;n.shift()}return!0}function Bv(t,n,s){hh(t)&&s.delete(n)}function xE(){rm=!1,Ws!==null&&hh(Ws)&&(Ws=null),Ks!==null&&hh(Ks)&&(Ks=null),$s!==null&&hh($s)&&($s=null),Nu.forEach(Bv),Vu.forEach(Bv)}function fh(t,n){t.blockedOn===n&&(t.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xE)))}var dh=null;function Fv(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(im(o||s)===null)continue;break}var m=_i(s);m!==null&&(t.splice(n,3),n-=3,nd(m,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Il(t){function n(G){return fh(G,t)}Ws!==null&&fh(Ws,t),Ks!==null&&fh(Ks,t),$s!==null&&fh($s,t),Nu.forEach(n),Vu.forEach(n);for(var s=0;s<Js.length;s++){var o=Js[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(s=Js[0],s.blockedOn===null);)zv(s),s.blockedOn===null&&Js.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],m=s[o+1],T=h[Qn]||null;if(typeof m=="function")T||Fv(s);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[Qn]||null)M=T.formAction;else if(im(h)!==null)continue}else M=T.action;typeof M=="function"?s[o+1]=M:(s.splice(o,3),o-=3),Fv(s)}}}function Hv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}mh.prototype.render=am.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=jr();Vv(s,o,t,n,null,null)},mh.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vv(t.current,2,null,t,null,null),Qc(),n[$i]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var n=ya();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Js.length&&n!==0&&n<Js[s].priority;s++);Js.splice(s,0,t),s===0&&zv(t)}};var qv=e.version;if(qv!=="19.2.0")throw Error(a(527,qv,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ME={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Qe=ph.inject(ME),nt=ph}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=$g,m=Jg,T=Zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Dv(t,1,!1,null,null,s,o,null,h,m,T,Hv),t[$i]=n.current,zd(t),new am(n)},Lu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",m=$g,T=Jg,M=Zg,G=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(G=s.formState)),n=Dv(t,1,!0,n,s??null,o,h,G,m,T,M,Hv),n.context=Nv(null),s=n.current,o=jr(),o=Sr(o),h=Ls(o),h.callback=null,Us(s,h,o),s=o,n.current.lanes=s,St(n,s),Ma(n),t[$i]=n.current,zd(t),new mh(n)},Lu.version="19.2.0",Lu}var e_;function zE(){if(e_)return lm.exports;e_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=jE(),lm.exports}var BE=zE();const FE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),t_=r=>{const e=HE(r);return e.charAt(0).toUpperCase()+e.slice(1)},F0=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),qE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var GE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YE=wt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},w)=>wt.createElement("svg",{ref:w,...GE,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:F0("lucide",l),...!c&&!qE(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,x])=>wt.createElement(E,x)),...Array.isArray(c)?c:[c]]));const ki=(r,e)=>{const i=wt.forwardRef(({className:a,...l},c)=>wt.createElement(YE,{ref:c,iconNode:e,className:F0(`lucide-${FE(t_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=t_(r),i};const XE=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],QE=ki("arrow-down-a-z",XE);const WE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],KE=ki("book-open",WE);const $E=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],JE=ki("check-check",$E);const ZE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eT=ki("check",ZE);const tT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nT=ki("chevron-right",tT);const iT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],n_=ki("crown",iT);const rT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],i_=ki("file-text",rT);const aT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sT=ki("info",aT);const oT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lT=ki("mail",oT);const uT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cT=ki("play",uT);const hT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fT=ki("rotate-ccw",hT);const dT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],mT=ki("share-2",dT);const pT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],gT=ki("shuffle",pT);const yT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fm=ki("sparkles",yT);const vT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dm=ki("star",vT);const _T=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],r_=ki("trophy",_T);const bT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wT=ki("x",bT);var mm={},Eh={exports:{}},ET=Eh.exports,a_;function TT(){return a_||(a_=1,(function(r,e){(function(a,l){r.exports=l()})(ET,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>x});var E=(()=>{var U=typeof document<"u"?document.currentScript?.src:void 0;return(function(H={}){var te,B=H,Oe,Te,Le=new Promise((f,d)=>{Oe=f,Te=d}),je=typeof window=="object",Be=typeof importScripts=="function";function Je(){function f(W){const $=S;_=d=0,S=new Map,$.forEach(ue=>{try{ue(W)}catch(oe){console.error(oe)}}),this.nb(),O&&O.Pb()}let d=0,_=0,S=new Map,O=null,j=null;this.requestAnimationFrame=function(W){d||=requestAnimationFrame(f.bind(this));const $=++_;return S.set($,W),$},this.cancelAnimationFrame=function(W){S.delete(W),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(W){j&&(document.body.remove(j),j=null),W||(j=document.createElement("div"),j.style.backgroundColor="black",j.style.position="fixed",j.style.right=0,j.style.top=0,j.style.color="white",j.style.padding="4px",j.innerHTML="RIVE FPS",W=function($){j.innerHTML="RIVE FPS "+$.toFixed(1)},document.body.appendChild(j)),O=new function(){let $=0,ue=0;this.Pb=function(){var oe=performance.now();ue?(++$,oe-=ue,1e3<oe&&(W(1e3*$/oe),$=ue=0)):(ue=oe,$=0)}}},this.Kb=function(){j&&(document.body.remove(j),j=null),O=null},this.nb=function(){}}function tt(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const at=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){at&&at();let f=B.decodeAudio;B.decodeAudio=function(O,j){O=f(O),j(O)};let d=B.decodeFont;B.decodeFont=function(O,j){O=d(O),j(O)};const _=B.FileAssetLoader;B.ptrToAsset=O=>{let j=B.ptrToFileAsset(O);return j.isImage?B.ptrToImageAsset(O):j.isFont?B.ptrToFontAsset(O):j.isAudio?B.ptrToAudioAsset(O):j},B.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:O}){this.__parent.__construct.call(this),this.Db=O},loadContents:function(O,j){return O=B.ptrToAsset(O),this.Db(O,j)}}),B.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(O){let j=B.ptrToAsset(O);return O=j.cdnUuid,O===""?!1:((function(W,$){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&$(ue)},ue.open("GET",W,!0),ue.send(null)})(j.cdnBaseUrl+"/"+O,W=>{j.decode(new Uint8Array(W.response))}),!0)}}),B.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(O){this.jb.push(O)},loadContents:function(O,j){for(let W of this.jb)if(W.loadContents(O,j))return!0;return!1}});let S=B.computeAlignment;B.computeAlignment=function(O,j,W,$,ue=1){return S.call(this,O,j,W,$,ue)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),z=new function(){function f(){if(!d){let hn=function(Xe,Pt,_n){if(Pt=ze.createShader(Pt),ze.shaderSource(Pt,_n),ze.compileShader(Pt),_n=ze.getShaderInfoLog(Pt),0<(_n||"").length)throw _n;ze.attachShader(Xe,Pt)};var Ke=hn,J=document.createElement("canvas"),Pe={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=J.getContext("webgl",Pe),_=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=J.getContext("webgl2",Pe))_=2;else if(ze=J.getContext("webgl",Pe))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(Xe,Pt){if(Xe.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Pt),ue=!0),typeof Xe[Pt]=="function")return function(){}}else return typeof Xe[Pt]=="function"?function(..._n){return Xe[Pt].apply(Xe,_n)}:Xe[Pt]},set(Xe,Pt,_n){if(Xe.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Pt),ue=!0);else return Xe[Pt]=_n,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),J=ze.createProgram(),hn(J,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),hn(J,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(J,0,"vertex"),ze.bindAttribLocation(J,1,"uv"),ze.linkProgram(J),Pe=ze.getProgramInfoLog(J),0<(Pe||"").trim().length)throw Pe;O=ze.getUniformLocation(J,"mat"),j=ze.getUniformLocation(J,"translate"),ze.useProgram(J),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(J,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,_=0,S=0,O=null,j=null,W=0,$=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(J){d.deleteTexture&&d.deleteTexture(J)},this.Ib=function(J){if(!f())return null;const Pe=d.createTexture();return Pe?(d.bindTexture(d.TEXTURE_2D,Pe),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,J),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Pe):null};const oe=new tt(8),Me=new tt(8),Ye=new tt(10),it=new tt(10);this.Mb=function(J,Pe,Ke,ze,hn){if(f()){var Xe=oe.push(J),Pt=Me.push(Pe);if(d.canvas){(d.canvas.width!=Xe||d.canvas.height!=Pt)&&(d.canvas.width=Xe,d.canvas.height=Pt),d.viewport(0,Pt-Pe,J,Pe),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),Ke.sort((jt,Nr)=>Nr.ub-jt.ub),Xe=Ye.push(ze),W!=Xe&&(d.bufferData(d.ARRAY_BUFFER,8*Xe,d.DYNAMIC_DRAW),W=Xe),Xe=0;for(var _n of Ke)d.bufferSubData(d.ARRAY_BUFFER,Xe,_n.Sa),Xe+=4*_n.Sa.length;console.assert(Xe==4*ze);for(var ni of Ke)d.bufferSubData(d.ARRAY_BUFFER,Xe,ni.Ab),Xe+=4*ni.Ab.length;console.assert(Xe==8*ze),Xe=it.push(hn),$!=Xe&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Xe,d.DYNAMIC_DRAW),$=Xe),_n=0;for(var gr of Ke)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,_n,gr.indices),_n+=2*gr.indices.length;console.assert(_n==2*hn),gr=0,ni=!0,Xe=_n=0;for(const jt of Ke){jt.image.Ia!=gr&&(d.bindTexture(d.TEXTURE_2D,jt.image.Ha||null),gr=jt.image.Ia),jt.fc?(d.scissor(jt.Ya,Pt-jt.Za-jt.ib,jt.tc,jt.ib),ni=!0):ni&&(d.scissor(0,Pt-Pe,J,Pe),ni=!1),Ke=2/J;const Nr=-2/Pe;d.uniform4f(O,jt.ga[0]*Ke*jt.za,jt.ga[1]*Nr*jt.Aa,jt.ga[2]*Ke*jt.za,jt.ga[3]*Nr*jt.Aa),d.uniform2f(j,jt.ga[4]*Ke*jt.za+Ke*(jt.Ya-jt.bc*jt.za)-1,jt.ga[5]*Nr*jt.Aa+Nr*(jt.Za-jt.cc*jt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Xe),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Xe+4*ze),d.drawElements(d.TRIANGLES,jt.indices.length,d.UNSIGNED_SHORT,_n),Xe+=4*jt.Sa.length,_n+=2*jt.indices.length}console.assert(Xe==4*ze),console.assert(_n==2*hn)}}},this.canvas=function(){return f()&&d.canvas}},V=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){function f(xe){switch(xe){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(xe){return"rgba("+((16711680&xe)>>>16)+","+((65280&xe)>>>8)+","+((255&xe)>>>0)+","+((4278190080&xe)>>>24)/255+")"}function _(){0<Pt.length&&(z.Mb(Xe.drawWidth(),Xe.drawHeight(),Pt,_n,ni),Pt=[],ni=_n=0,Xe.reset(512,512));for(const xe of hn){for(const Fe of xe.H)Fe();xe.H=[]}hn.clear()}V&&V();var S=B.RenderPaintStyle;const O=B.RenderPath,j=B.RenderPaint,W=B.Renderer,$=B.StrokeCap,ue=B.StrokeJoin,oe=B.BlendMode,Me=S.fill,Ye=S.stroke,it=B.FillRule.evenOdd;let J=1;var Pe=B.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:xe,va:Fe}={}){this.__parent.__construct.call(this),this.Ia=J,J=J+1&2147483647||1,this.ka=xe,this.va=Fe},__destruct:function(){this.Ha&&(z.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(xe){var Fe=this;Fe.va&&Fe.va(Fe);var Lt=new Image;Fe.Va=URL.createObjectURL(new Blob([xe],{type:"image/png"})),Lt.onload=function(){Fe.Cb=Lt,Fe.Ha=z.Ib(Lt),Fe.size(Lt.width,Lt.height),Fe.ka&&Fe.ka(Fe)},Lt.src=Fe.Va}}),Ke=O.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(xe,Fe,Lt,Qt,Mt,Ht,an){var un=this.T,rr=un.addPath;xe=xe.T;const bn=new DOMMatrix;bn.a=Fe,bn.b=Lt,bn.c=Qt,bn.d=Mt,bn.e=Ht,bn.f=an,rr.call(un,xe,bn)},fillRule:function(xe){this.Ua=xe},moveTo:function(xe,Fe){this.T.moveTo(xe,Fe)},lineTo:function(xe,Fe){this.T.lineTo(xe,Fe)},cubicTo:function(xe,Fe,Lt,Qt,Mt,Ht){this.T.bezierCurveTo(xe,Fe,Lt,Qt,Mt,Ht)},close:function(){this.T.closePath()}}),ze=j.extend("CanvasRenderPaint",{color:function(xe){this.Wa=d(xe)},thickness:function(xe){this.Fb=xe},join:function(xe){switch(xe){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(xe){switch(xe){case $.butt:this.Fa="butt";break;case $.round:this.Fa="round";break;case $.square:this.Fa="square"}},style:function(xe){this.Eb=xe},blendMode:function(xe){this.Bb=f(xe)},clearGradient:function(){this.ia=null},linearGradient:function(xe,Fe,Lt,Qt){this.ia={wb:xe,xb:Fe,bb:Lt,cb:Qt,Pa:[]}},radialGradient:function(xe,Fe,Lt,Qt){this.ia={wb:xe,xb:Fe,bb:Lt,cb:Qt,Pa:[],$b:!0}},addStop:function(xe,Fe){this.ia.Pa.push({color:xe,stop:Fe})},completeGradient:function(){},draw:function(xe,Fe,Lt){let Qt=this.Eb;var Mt=this.Wa,Ht=this.ia;if(xe.globalCompositeOperation=this.Bb,Ht!=null){Mt=Ht.wb;var an=Ht.xb;const rr=Ht.bb;var un=Ht.cb;const bn=Ht.Pa;Ht.$b?(Ht=rr-Mt,un-=an,Mt=xe.createRadialGradient(Mt,an,0,Mt,an,Math.sqrt(Ht*Ht+un*un))):Mt=xe.createLinearGradient(Mt,an,rr,un);for(let Ci=0,gn=bn.length;Ci<gn;Ci++)an=bn[Ci],Mt.addColorStop(an.stop,d(an.color));this.Wa=Mt,this.ia=null}switch(Qt){case Ye:xe.strokeStyle=Mt,xe.lineWidth=this.Fb,xe.lineCap=this.Fa,xe.lineJoin=this.Ga,xe.stroke(Fe);break;case Me:xe.fillStyle=Mt,xe.fill(Fe,Lt)}}});const hn=new Set;let Xe=null,Pt=[],_n=0,ni=0;var gr=B.CanvasRenderer=W.extend("Renderer",{__construct:function(xe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=xe.getContext("2d"),this.Ta=xe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const xe=this.S.length-6;if(6>xe)throw"restore() called without matching save().";this.S.splice(xe),this.H.push(this.B.restore.bind(this.B))},transform:function(xe,Fe,Lt,Qt,Mt,Ht){const an=this.S,un=an.length-6;an.splice(un,6,an[un]*xe+an[un+2]*Fe,an[un+1]*xe+an[un+3]*Fe,an[un]*Lt+an[un+2]*Qt,an[un+1]*Lt+an[un+3]*Qt,an[un]*Mt+an[un+2]*Ht+an[un+4],an[un+1]*Mt+an[un+3]*Ht+an[un+5]),this.H.push(this.B.transform.bind(this.B,xe,Fe,Lt,Qt,Mt,Ht))},rotate:function(xe){const Fe=Math.sin(xe);xe=Math.cos(xe),this.transform(xe,Fe,-Fe,xe,0,0)},_drawPath:function(xe,Fe){this.H.push(Fe.draw.bind(Fe,this.B,xe.T,xe.Ua===it?"evenodd":"nonzero"))},_drawRiveImage:function(xe,Fe,Lt,Qt){var Mt=xe.Cb;if(Mt){var Ht=this.B,an=f(Lt);this.H.push(function(){Ht.globalCompositeOperation=an,Ht.globalAlpha=Qt,Ht.drawImage(Mt,0,0),Ht.globalAlpha=1})}},_getMatrix:function(xe){const Fe=this.S,Lt=Fe.length-6;for(let Qt=0;6>Qt;++Qt)xe[Qt]=Fe[Lt+Qt]},_drawImageMesh:function(xe,Fe,Lt,Qt,Mt,Ht,an,un,rr,bn,Ci){Fe=this.B.canvas.width;var gn=this.B.canvas.height;const $a=bn-un,rl=Ci-rr;un=Math.max(un,0),rr=Math.max(rr,0),bn=Math.min(bn,Fe),Ci=Math.min(Ci,gn);const Sa=bn-un,Ra=Ci-rr;if(console.assert(Sa<=Math.min($a,Fe)),console.assert(Ra<=Math.min(rl,gn)),!(0>=Sa||0>=Ra)){bn=Sa<$a||Ra<rl,Fe=Ci=1;var ha=Math.ceil(Sa*Ci),ar=Math.ceil(Ra*Fe);gn=z.ac(),ha>gn&&(Ci*=gn/ha,ha=gn),ar>gn&&(Fe*=gn/ar,ar=gn),Xe||(Xe=new B.DynamicRectanizer(gn),Xe.reset(512,512)),gn=Xe.addRect(ha,ar),0>gn&&(_(),hn.add(this),gn=Xe.addRect(ha,ar),console.assert(0<=gn));var iu=gn&65535,So=gn>>16;Pt.push({ga:this.S.slice(this.S.length-6),image:xe,Ya:iu,Za:So,bc:un,cc:rr,tc:ha,ib:ar,za:Ci,Aa:Fe,Sa:new Float32Array(Mt),Ab:new Float32Array(Ht),indices:new Uint16Array(an),fc:bn,ub:xe.Ia<<1|(bn?1:0)}),_n+=Mt.length,ni+=an.length;var Vr=this.B,wf=f(Lt);this.H.push(function(){Vr.save(),Vr.resetTransform(),Vr.globalCompositeOperation=wf,Vr.globalAlpha=Qt;const Bi=z.canvas();Bi&&Vr.drawImage(Bi,iu,So,ha,ar,un,rr,Sa,Ra),Vr.restore()})}},_clipPath:function(xe){this.H.push(this.B.clip.bind(this.B,xe.T,xe.Ua===it?"evenodd":"nonzero"))},clear:function(){hn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(xe,Fe){this.transform(1,0,0,1,xe,Fe)}});B.makeRenderer=function(xe){const Fe=new gr(xe),Lt=Fe.B;return new Proxy(Fe,{get(Qt,Mt){if(typeof Qt[Mt]=="function")return function(...Ht){return Qt[Mt].apply(Qt,Ht)};if(typeof Lt[Mt]=="function"){if(-1<F.indexOf(Mt))throw Error("RiveException: Method call to '"+Mt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Ht){Fe.H.push(Lt[Mt].bind(Lt,...Ht))}}return Qt[Mt]},set(Qt,Mt,Ht){if(Mt in Lt)return Fe.H.push(()=>{Lt[Mt]=Ht}),!0}})},B.decodeImage=function(xe,Fe){new Pe({ka:Fe}).decode(xe)},B.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new Ke},makeRenderImage:function(){let xe=Nr;return new Pe({va:()=>{xe.total++},ka:()=>{if(xe.loaded++,xe.loaded===xe.total){const Fe=xe.ready;Fe&&(Fe(),xe.ready=null)}}})}};let jt=B.load,Nr=null;B.load=function(xe,Fe,Lt=!0){const Qt=new B.FallbackFileAssetLoader;return Fe!==void 0&&Qt.addLoader(Fe),Lt&&(Fe=new B.CDNFileAssetLoader,Qt.addLoader(Fe)),new Promise(function(Mt){let Ht=null;Nr={total:0,loaded:0,ready:function(){Mt(Ht)}},Ht=jt(xe,Qt),Nr.total==0&&Mt(Ht)})};let Ka=B.RendererWrapper.prototype.align;B.RendererWrapper.prototype.align=function(xe,Fe,Lt,Qt,Mt=1){Ka.call(this,xe,Fe,Lt,Qt,Mt)},S=new Je,B.requestAnimationFrame=S.requestAnimationFrame.bind(S),B.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),B.enableFPSCounter=S.Nb.bind(S),B.disableFPSCounter=S.Kb,S.nb=_,B.resolveAnimationFrame=_,B.cleanup=function(){Xe&&Xe.delete()}};var L=Object.assign({},B),C="./this.program",k="",I,K;(je||Be)&&(Be?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),U&&(k=U),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),Be&&(K=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(ei(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(O=>O.ok?O.arrayBuffer():Promise.reject(Error(O.status+" : "+O.url))).then(d,_)});var se=B.print||console.log.bind(console),q=B.printErr||console.error.bind(console);Object.assign(B,L),L=null,B.thisProgram&&(C=B.thisProgram);var ee;B.wasmBinary&&(ee=B.wasmBinary);var ye,he=!1,Ie,P,ne,ve,_e,Re,Ge,ot;function ht(){var f=ye.buffer;B.HEAP8=Ie=new Int8Array(f),B.HEAP16=ne=new Int16Array(f),B.HEAPU8=P=new Uint8Array(f),B.HEAPU16=ve=new Uint16Array(f),B.HEAP32=_e=new Int32Array(f),B.HEAPU32=Re=new Uint32Array(f),B.HEAPF32=Ge=new Float32Array(f),B.HEAPF64=ot=new Float64Array(f)}var bt=[],Ot=[],cn=[];function ct(){var f=B.preRun.shift();bt.unshift(f)}var At=0,vt=null;function Ut(f){throw B.onAbort?.(f),f="Aborted("+f+")",q(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Te(f),f}var qn=f=>f.startsWith("data:application/octet-stream;base64,"),ei=f=>f.startsWith("file://"),Yt;function Ze(f){if(f==Yt&&ee)return new Uint8Array(ee);if(K)return K(f);throw"both async and sync fetching of the wasm failed"}function en(f){return ee?Promise.resolve().then(()=>Ze(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(Ze(f))}catch(S){_(S)}})})}function Rn(f,d,_){return en(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{q(`failed to asynchronously prepare wasm: ${S}`),Ut(S)})}function Br(f,d){var _=Yt;return ee||typeof WebAssembly.instantiateStreaming!="function"||qn(_)||ei(_)||typeof fetch!="function"?Rn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(O){return q(`wasm streaming compile failed: ${O}`),q("falling back to ArrayBuffer instantiation"),Rn(_,f,d)}))}var Gn,kt,En={464256:(f,d,_,S,O)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=O;let j=window.h;j.D=[],j.rc=function(W){for(var $=0;$<j.D.length;++$)if(j.D[$]==null)return j.D[$]=W,$;return j.D.push(W),j.D.length-1},j.zb=function(W){for(j.D[W]=null;0<j.D.length&&j.D[j.D.length-1]==null;)j.D.pop()},j.Oc=function(W){for(var $=0;$<j.D.length;++$)if(j.D[$]==W)return j.zb($)},j.pa=function(W){return j.D[W]},j.Ra=["touchend","click"],j.unlock=function(){for(var W=0;W<j.D.length;++W){var $=j.D[W];$!=null&&$.K!=null&&$.state===j.fa.vb&&$.K.resume().then(()=>{Ao($.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}j.Ra.map(function(ue){document.removeEventListener(ue,j.unlock,!0)})},j.Ra.map(function(W){document.addEventListener(W,j.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,O,j)=>{if(typeof window.h>"u")return-1;var W={},$={};return f==window.h.I.wa&&_!=0&&($.sampleRate=_),W.K=new(window.AudioContext||window.webkitAudioContext)($),W.K.suspend(),W.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),W.Y=W.K.createScriptProcessor(S,_,d),W.Y.onaudioprocess=function(ue){if((W.qa==null||W.qa.length==0)&&(W.qa=new Float32Array(Ge.buffer,O,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var Me=ue.inputBuffer.getChannelData(oe),Ye=W.qa,it=0;it<S;it+=1)Ye[it*d+oe]=Me[it];tu(j,S,O)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(j,S,O),oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)for(Me=ue.outputBuffer.getChannelData(oe),Ye=W.qa,it=0;it<S;it+=1)Me[it]=Ye[it*d+oe];else for(oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)ue.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){W.Ba=W.K.createMediaStreamSource(ue),W.Ba.connect(W.Y),W.Y.connect(W.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&W.Y.connect(W.K.destination),W.ob=j,window.h.rc(W)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(B)};function g(){var f=_e[+Pn>>2];return Pn+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var O=f[S];O==="."?f.splice(S,1):O===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},D=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},Q=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},de=f=>{if(f==="/")return"/";f=D(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ce=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Ut("initRandomDevice")},Qe=f=>(Qe=Ce())(f),nt=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(O=>!!O),!_).join("/"),(_?"/":"")+d||"."},He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,We=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&He)return He.decode(f.subarray(d,_));for(S="";d<_;){var O=f[d++];if(O&128){var j=f[d++]&63;if((O&224)==192)S+=String.fromCharCode((O&31)<<6|j);else{var W=f[d++]&63;O=(O&240)==224?(O&15)<<12|j<<6|W:(O&7)<<18|j<<12|W<<6|f[d++]&63,65536>O?S+=String.fromCharCode(O):(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else S+=String.fromCharCode(O)}return S},tn=[],On=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},mn=(f,d,_,S)=>{if(!(0<S))return 0;var O=_;S=_+S-1;for(var j=0;j<f.length;++j){var W=f.charCodeAt(j);if(55296<=W&&57343>=W){var $=f.charCodeAt(++j);W=65536+((W&1023)<<10)|$&1023}if(127>=W){if(_>=S)break;d[_++]=W}else{if(2047>=W){if(_+1>=S)break;d[_++]=192|W>>6}else{if(65535>=W){if(_+2>=S)break;d[_++]=224|W>>12}else{if(_+3>=S)break;d[_++]=240|W>>18,d[_++]=128|W>>12&63}d[_++]=128|W>>6&63}d[_++]=128|W&63}}return d[_]=0,_-O};function Fn(f,d){var _=Array(On(f)+1);return f=mn(f,_,0,_.length),d&&(_.length=f),_}var $n=[];function zt(f,d){$n[f]={input:[],G:[],V:d},ge(f,Dn)}var Dn={open(f){var d=$n[f.node.xa];if(!d)throw new qe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new qe(60);for(var O=0,j=0;j<S;j++){try{var W=f.s.V.hb(f.s)}catch{throw new qe(29)}if(W===void 0&&O===0)throw new qe(6);if(W==null)break;O++,d[_+j]=W}return O&&(f.node.timestamp=Date.now()),O},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new qe(60);try{for(var O=0;O<S;O++)f.s.V.Ma(f.s,d[_+O])}catch{throw new qe(29)}return S&&(f.node.timestamp=Date.now()),O}},Nn={hb(){e:{if(!tn.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}tn=Fn(f,!0)}f=tn.shift()}return f},Ma(f,d){d===null||d===10?(se(We(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(se(We(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Yn={Ma(f,d){d===null||d===10?(q(We(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(q(We(f.G,0)),f.G=[])}};function Xi(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var gt={N:null,U(){return gt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new qe(63);return gt.N||(gt.N={dir:{node:{X:gt.j.X,P:gt.j.P,ja:gt.j.ja,ta:gt.j.ta,sb:gt.j.sb,yb:gt.j.yb,tb:gt.j.tb,rb:gt.j.rb,Ca:gt.j.Ca},stream:{aa:gt.m.aa}},file:{node:{X:gt.j.X,P:gt.j.P},stream:{aa:gt.m.aa,read:gt.m.read,write:gt.m.write,Xa:gt.m.Xa,kb:gt.m.kb,mb:gt.m.mb}},link:{node:{X:gt.j.X,P:gt.j.P,la:gt.j.la},stream:{}},$a:{node:{X:gt.j.X,P:gt.j.P},stream:re}}),_=As(f,d,_,S),(_.mode&61440)===16384?(_.j=gt.N.dir.node,_.m=gt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=gt.N.file.node,_.m=gt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=gt.N.link.node,_.m=gt.N.link.stream):(_.mode&61440)===8192&&(_.j=gt.N.$a.node,_.m=gt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw ya[44]},ta(f,d,_,S){return gt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=Rr(d,_)}catch{}if(S)for(var O in S.l)throw new qe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=Rr(f,d),S;for(S in _.l)throw new qe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=gt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new qe(28);return f.link}},m:{read(f,d,_,S,O){var j=f.node.l;if(O>=f.node.v)return 0;if(f=Math.min(f.node.v-O,S),8<f&&j.subarray)d.set(j.subarray(O,O+f),_);else for(S=0;S<f;S++)d[_+S]=j[O+S];return f},write(f,d,_,S,O,j){if(d.buffer===Ie.buffer&&(j=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(j)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&O===0)return f.l=d.slice(_,_+S),f.v=S;if(O+S<=f.v)return f.l.set(d.subarray(_,_+S),O),S}if(Xi(f,O+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),O);else for(j=0;j<S;j++)f.l[O+j]=d[_+j];return f.v=Math.max(f.v,O+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new qe(28);return d},Xa(f,d,_){Xi(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,O){if((f.node.mode&61440)!==32768)throw new qe(43);if(f=f.node.l,O&2||f.buffer!==Ie.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Ut(),d=void 0,!d)throw new qe(48);Ie.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return gt.m.write(f,d,0,S,_,!1),0}}},Xn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},St=null,Pi={},Qi=[],ja=1,Ar=null,Sr=!0,qe=class{constructor(f){this.name="ErrnoError",this.$=f}},ya={},Wi=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},Ki=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=ja++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function Xt(f,d={}){if(f=nt(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new qe(32);f=f.split("/").filter(W=>!!W);for(var _=St,S="/",O=0;O<f.length;O++){var j=O===f.length-1;if(j&&d.parent)break;if(_=Rr(_,f[O]),S=D(S+"/"+f[O]),_.ua&&(!j||j&&d.gb)&&(_=_.ua.root),!j||d.fb){for(j=0;(_.mode&61440)===40960;)if(_=yt(S),S=nt(Q(S),_),_=Xt(S,{Oa:d.Oa+1}).node,40<j++)throw new qe(32)}}return{path:S,node:_}}function Qn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function $i(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Ar.length}function Rr(f,d){var _=(f.mode&61440)===16384?(_=Fr(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new qe(_);for(_=Ar[$i(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function As(f,d,_,S){return f=new Ki(f,d,_,S),d=$i(f.parent.id,f.name),f.ec=Ar[d],Ar[d]=f}function Li(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function Fr(f,d){if(Sr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function Ui(f,d){try{return Rr(f,d),20}catch{}return Fr(f,"wx")}function Ti(f){if(f=Qi[f],!f)throw new qe(8);return f}function Ji(f,d=-1){if(f=Object.assign(new Wi,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Qi[d])break e;throw new qe(33)}return f.W=d,Qi[d]=f}function _i(f,d=-1){return f=Ji(f,d),f.m?.Ec?.(f),f}var re={open(f){f.m=Pi[f.node.xa].m,f.m.open?.(f)},aa(){throw new qe(70)}};function ge(f,d){Pi[f]={m:d}}function be(f,d){var _=d==="/";if(_&&St)throw new qe(10);if(!_&&d){var S=Xt(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new qe(10);if((S.mode&61440)!==16384)throw new qe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?St=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function De(f,d,_){var S=Xt(f,{parent:!0}).node;if(f=de(f),!f||f==="."||f==="..")throw new qe(28);var O=Ui(S,f);if(O)throw new qe(O);if(!S.j.ta)throw new qe(63);return S.j.ta(S,f,d,_)}function Ve(f){return De(f,16895,0)}function st(f,d,_){typeof _>"u"&&(_=d,d=438),De(f,d|8192,_)}function Ne(f,d){if(!nt(f))throw new qe(44);var _=Xt(d,{parent:!0}).node;if(!_)throw new qe(44);d=de(d);var S=Ui(_,d);if(S)throw new qe(S);if(!_.j.Ca)throw new qe(63);_.j.Ca(_,d,f)}function yt(f){if(f=Xt(f).node,!f)throw new qe(44);if(!f.j.la)throw new qe(28);return nt(Qn(f.parent),f.j.la(f))}function Ue(f,d,_){if(f==="")throw new qe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var O=f;else{f=D(f);try{O=Xt(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(O){if(d&128)throw new qe(20)}else O=De(f,_,0),S=!0;if(!O)throw new qe(44);if((O.mode&61440)===8192&&(d&=-513),d&65536&&(O.mode&61440)!==16384)throw new qe(54);if(!S&&(_=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(Li(d)!=="r"||d&512)?31:Fr(O,Li(d)):44))throw new qe(_);if(d&512&&!S){if(_=O,_=typeof _=="string"?Xt(_,{fb:!0}).node:_,!_.j.P)throw new qe(63);if((_.mode&61440)===16384)throw new qe(31);if((_.mode&61440)!==32768)throw new qe(28);if(S=Fr(_,"w"))throw new qe(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,O=Ji({node:O,path:Qn(O),flags:d,seekable:!0,position:0,m:O.m,sc:[],error:!1}),O.m.open&&O.m.open(O),!B.logReadFiles||d&1||(pn||={},f in pn||(pn[f]=1)),O}function ut(f,d,_){if(f.W===null)throw new qe(8);if(!f.seekable||!f.m.aa)throw new qe(70);if(_!=0&&_!=1&&_!=2)throw new qe(28);f.position=f.m.aa(f,d,_),f.sc=[]}var Bt;function Tn(f,d,_){f=D("/dev/"+f);var S=Xn(!!d,!!_);Ft||=64;var O=Ft++<<8|0;ge(O,{open(j){j.seekable=!1},close(){_?.buffer?.length&&_(10)},read(j,W,$,ue){for(var oe=0,Me=0;Me<ue;Me++){try{var Ye=d()}catch{throw new qe(29)}if(Ye===void 0&&oe===0)throw new qe(6);if(Ye==null)break;oe++,W[$+Me]=Ye}return oe&&(j.node.timestamp=Date.now()),oe},write(j,W,$,ue){for(var oe=0;oe<ue;oe++)try{_(W[$+oe])}catch{throw new qe(29)}return ue&&(j.node.timestamp=Date.now()),oe}}),st(f,S,O)}var Ft,nn={},pn,Pn=void 0,Hr=(f,d)=>Object.defineProperty(d,"name",{value:f}),on=[],Ai=[],ft,bi=f=>{if(!f)throw new ft("Cannot use deleted val. handle = "+f);return Ai[f]},Ln=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=on.pop()||Ai.length;return Ai[d]=f,Ai[d+1]=1,d}},za=f=>{var d=Error,_=Hr(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},wo,Ss,vn=f=>{for(var d="";P[f];)d+=Ss[P[f++]];return d},va=[],qr=()=>{for(;va.length;){var f=va.pop();f.g.ea=!1,f.delete()}},si,or={},Ba=(f,d)=>{if(d===void 0)throw new ft("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Cr={},Fa=f=>{f=yc(f);var d=vn(f);return ir(f),d},_a=(f,d)=>{var _=Cr[f];if(_===void 0)throw f=`${d} has unknown type ${Fa(f)}`,new ft(f);return _},Ir=()=>{},ba=!1,lr=(f,d,_)=>d===_?f:_.C===void 0?null:(f=lr(f,d,_.C),f===null?null:_.Lb(f)),Rs={},ur=(f,d)=>(d=Ba(f,d),or[d]),cr,Zi=(f,d)=>{if(!d.u||!d.o)throw new cr("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new cr("Both smartPtrType and smartPtr must be specified");return d.count={value:1},hr(Object.create(f,{g:{value:d,writable:!0}}))},hr=f=>typeof FinalizationRegistry>"u"?(hr=d=>d,f):(ba=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),hr=d=>{var _=d.g;return _.F&&ba.register(d,{g:_},d),d},Ir=d=>{ba.unregister(d)},hr(f)),sa={},fr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Si(f){return this.fromWireType(Re[f>>2])}var mi={},Gr={},Dt=(f,d,_)=>{function S($){if($=_($),$.length!==f.length)throw new cr("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)ji(f[ue],$[ue])}f.forEach(function($){Gr[$]=d});var O=Array(d.length),j=[],W=0;d.forEach(($,ue)=>{Cr.hasOwnProperty($)?O[ue]=Cr[$]:(j.push($),mi.hasOwnProperty($)||(mi[$]=[]),mi[$].push(()=>{O[ue]=Cr[$],++W,W===j.length&&S(O)}))}),j.length===0&&S(O)};function Yr(f,d,_={}){var S=d.name;if(!f)throw new ft(`type "${S}" must have a positive integer typeid pointer`);if(Cr.hasOwnProperty(f)){if(_.Vb)return;throw new ft(`Cannot register type '${S}' twice`)}Cr[f]=d,delete Gr[f],mi.hasOwnProperty(f)&&(d=mi[f],delete mi[f],d.forEach(O=>O()))}function ji(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Yr(f,d,_)}var oa=f=>{throw new ft(f.g.u.i.name+" instance already deleted")};function wa(){}var la=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...O){if(!f[d].A.hasOwnProperty(O.length))throw new ft(`Function '${_}' called with an invalid number of arguments (${O.length}) - expects one of (${f[d].A})!`);return f[d].A[O.length].apply(this,O)},f[d].A=[],f[d].A[S.da]=S}},xr=(f,d,_)=>{if(B.hasOwnProperty(f)){if(_===void 0||B[f].A!==void 0&&B[f].A[_]!==void 0)throw new ft(`Cannot register public name '${f}' twice`);if(la(B,f,f),B.hasOwnProperty(_))throw new ft(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);B[f].A[_]=d}else B[f]=d,_!==void 0&&(B[f].Lc=_)},Mr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function pi(f,d,_,S,O,j,W,$){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=O,this.Qb=j,this.ma=W,this.Lb=$,this.pb=[]}var dr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ft(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Xr(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);return dr(d.g.o,d.g.u.i,this.i)}function Ea(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ft(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=dr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ft("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Ln(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ft("Unsupporting sharing policy")}}return _}function Eo(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Ms(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return dr(d.g.o,d.g.u.i,this.i)}function Or(f,d,_,S,O,j,W,$,ue,oe,Me){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=O,this.hc=j,this.mc=W,this.qb=$,this.Na=ue,this.ic=oe,this.O=Me,O||d.C!==void 0?this.toWireType=Ea:(this.toWireType=S?Xr:Eo,this.L=null)}var Ha=(f,d,_)=>{if(!B.hasOwnProperty(f))throw new cr("Replacing nonexistent public symbol");B[f].A!==void 0&&_!==void 0?B[f].A[_]=d:(B[f]=d,B[f].da=_)},er=[],qa,Cs=f=>{var d=er[f];return d||(f>=er.length&&(er.length=f+1),er[f]=d=qa.get(f)),d},Ga=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,B["dynCall_"+f])(d,..._)):d=Cs(d)(..._),d),$o=(f,d)=>(..._)=>Ga(f,d,_),ti=(f,d)=>{f=vn(f);var _=f.includes("j")?$o(f,d):Cs(d);if(typeof _!="function")throw new ft(`unknown function pointer with signature ${f}: ${d}`);return _},Ta,tr=(f,d)=>{function _(j){O[j]||Cr[j]||(Gr[j]?Gr[j].forEach(_):(S.push(j),O[j]=!0))}var S=[],O={};throw d.forEach(_),new Ta(`${f}: `+S.map(Fa).join([", "]))};function Jo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ua(f,d,_,S,O){var j=d.length;if(2>j)throw new ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var W=d[1]!==null&&_!==null,$=Jo(d),ue=d[0].name!=="void",oe=j-2,Me=Array(oe),Ye=[],it=[];return Hr(f,function(...J){if(J.length!==oe)throw new ft(`function ${f} called with ${J.length} arguments, expected ${oe}`);if(it.length=0,Ye.length=W?2:1,Ye[0]=O,W){var Pe=d[1].toWireType(it,this);Ye[1]=Pe}for(var Ke=0;Ke<oe;++Ke)Me[Ke]=d[Ke+2].toWireType(it,J[Ke]),Ye.push(Me[Ke]);if(J=S(...Ye),$)fr(it);else for(Ke=W?1:2;Ke<d.length;Ke++){var ze=Ke===1?Pe:Me[Ke-2];d[Ke].L!==null&&d[Ke].L(ze)}return Pe=ue?d[0].fromWireType(J):void 0,Pe})}var Ya=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Re[d+4*S>>2]);return _},Is=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Dr=(f,d,_)=>{if(!(f instanceof Object))throw new ft(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ft(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ft(`cannot call emscripten binding method ${_} on deleted object`);return dr(f.g.o,f.g.u.i,d.i)},xs=f=>{9<f&&--Ai[f+1]===0&&(Ai[f]=void 0,on.push(f))},Zo={name:"emscripten::val",fromWireType:f=>{var d=bi(f);return xs(f),d},toWireType:(f,d)=>Ln(d),argPackAdvance:8,readValueFromPointer:Si,L:null},el=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Ie[S])}:function(S){return this.fromWireType(P[S])};case 2:return _?function(S){return this.fromWireType(ne[S>>1])}:function(S){return this.fromWireType(ve[S>>1])};case 4:return _?function(S){return this.fromWireType(_e[S>>2])}:function(S){return this.fromWireType(Re[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ms=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Aa=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Ge[_>>2])};case 8:return function(_){return this.fromWireType(ot[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ri=(f,d,_)=>{switch(d){case 1:return _?S=>Ie[S]:S=>P[S];case 2:return _?S=>ne[S>>1]:S=>ve[S>>1];case 4:return _?S=>_e[S>>2]:S=>Re[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},To=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,tl=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&ve[_];)++_;if(_<<=1,32<_-f&&To)return To.decode(P.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var O=ne[f+2*S>>1];if(O==0)break;_+=String.fromCharCode(O)}return _},ca=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var O=0;O<_;++O)ne[d>>1]=f.charCodeAt(O),d+=2;return ne[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var O=_e[f+4*_>>2];if(O==0)break;++_,65536<=O?(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023)):S+=String.fromCharCode(O)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var O=0;O<f.length;++O){var j=f.charCodeAt(O);if(55296<=j&&57343>=j){var W=f.charCodeAt(++O);j=65536+((j&1023)<<10)|W&1023}if(_e[d>>2]=j,d+=4,d+4>_)break}return _e[d>>2]=0,d-S},N=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ie=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Re[d>>2]=Ln(S)),f},fe={},ke=f=>{var d=fe[f];return d===void 0?vn(f):d},Rt=[],Wn=f=>{var d=Rt.length;return Rt.push(f),d},ln=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=_a(Re[d+4*S>>2],"parameter "+S);return _},Vn=Reflect.construct,zi=[],mr={},pr=()=>{if(!nr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in mr)mr[d]===void 0?delete f[d]:f[d]=mr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);nr=_}return nr},nr,Qr=f=>f%4===0&&(f%100!==0||f%400===0),Xa=[31,29,31,30,31,30,31,31,30,31,30,31],Qa=[31,28,31,30,31,30,31,31,30,31,30,31],bf=(f,d,_,S)=>{function O(J,Pe,Ke){for(J=typeof J=="number"?J.toString():J||"";J.length<Pe;)J=Ke[0]+J;return J}function j(J,Pe){return O(J,Pe,"0")}function W(J,Pe){function Ke(hn){return 0>hn?-1:0<hn?1:0}var ze;return(ze=Ke(J.getFullYear()-Pe.getFullYear()))===0&&(ze=Ke(J.getMonth()-Pe.getMonth()))===0&&(ze=Ke(J.getDate()-Pe.getDate())),ze}function $(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function ue(J){var Pe=J.ba;for(J=new Date(new Date(J.ca+1900,0,1).getTime());0<Pe;){var Ke=J.getMonth(),ze=(Qr(J.getFullYear())?Xa:Qa)[Ke];if(Pe>ze-J.getDate())Pe-=ze-J.getDate()+1,J.setDate(1),11>Ke?J.setMonth(Ke+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1));else{J.setDate(J.getDate()+Pe);break}}return Ke=new Date(J.getFullYear()+1,0,4),Pe=$(new Date(J.getFullYear(),0,4)),Ke=$(Ke),0>=W(Pe,J)?0>=W(Ke,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}var oe=Re[S+40>>2];S={pc:_e[S>>2],oc:_e[S+4>>2],Da:_e[S+8>>2],Qa:_e[S+12>>2],Ea:_e[S+16>>2],ca:_e[S+20>>2],R:_e[S+24>>2],ba:_e[S+28>>2],Nc:_e[S+32>>2],nc:_e[S+36>>2],qc:oe&&oe?We(P,oe):""},_=_?We(P,_):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Me in oe)_=_.replace(new RegExp(Me,"g"),oe[Me]);var Ye="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),it="January February March April May June July August September October November December".split(" ");oe={"%a":J=>Ye[J.R].substring(0,3),"%A":J=>Ye[J.R],"%b":J=>it[J.Ea].substring(0,3),"%B":J=>it[J.Ea],"%C":J=>j((J.ca+1900)/100|0,2),"%d":J=>j(J.Qa,2),"%e":J=>O(J.Qa,2," "),"%g":J=>ue(J).toString().substring(2),"%G":ue,"%H":J=>j(J.Da,2),"%I":J=>(J=J.Da,J==0?J=12:12<J&&(J-=12),j(J,2)),"%j":J=>{for(var Pe=0,Ke=0;Ke<=J.Ea-1;Pe+=(Qr(J.ca+1900)?Xa:Qa)[Ke++]);return j(J.Qa+Pe,3)},"%m":J=>j(J.Ea+1,2),"%M":J=>j(J.oc,2),"%n":()=>`
`,"%p":J=>0<=J.Da&&12>J.Da?"AM":"PM","%S":J=>j(J.pc,2),"%t":()=>"	","%u":J=>J.R||7,"%U":J=>j(Math.floor((J.ba+7-J.R)/7),2),"%V":J=>{var Pe=Math.floor((J.ba+7-(J.R+6)%7)/7);if(2>=(J.R+371-J.ba-2)%7&&Pe++,Pe)Pe==53&&(Ke=(J.R+371-J.ba)%7,Ke==4||Ke==3&&Qr(J.ca)||(Pe=1));else{Pe=52;var Ke=(J.R+7-J.ba-1)%7;(Ke==4||Ke==5&&Qr(J.ca%400-1))&&Pe++}return j(Pe,2)},"%w":J=>J.R,"%W":J=>j(Math.floor((J.ba+7-(J.R+6)%7)/7),2),"%y":J=>(J.ca+1900).toString().substring(2),"%Y":J=>J.ca+1900,"%z":J=>{J=J.nc;var Pe=0<=J;return J=Math.abs(J)/60,(Pe?"+":"-")+("0000"+(J/60*100+J%60)).slice(-4)},"%Z":J=>J.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Me in oe)_.includes(Me)&&(_=_.replace(new RegExp(Me,"g"),oe[Me](S)));return _=_.replace(/\0\0/g,"%"),Me=Fn(_,!1),Me.length>d?0:(Ie.set(Me,f),Me.length-1)};[44].forEach(f=>{ya[f]=new qe(f),ya[f].stack="<generic error, no stack>"}),Ar=Array(4096),be(gt,"/"),Ve("/tmp"),Ve("/home"),Ve("/home/web_user"),(function(){Ve("/dev"),ge(259,{read:()=>0,write:(S,O,j,W)=>W}),st("/dev/null",259),zt(1280,Nn),zt(1536,Yn),st("/dev/tty",1280),st("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Qe(f).byteLength),f[--d]);Tn("random",_),Tn("urandom",_),Ve("/dev/shm"),Ve("/dev/shm/tmp")})(),(function(){Ve("/proc");var f=Ve("/proc/self");Ve("/proc/self/fd"),be({U(){var d=As(f,"fd",16895,73);return d.j={ja(_,S){var O=Ti(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>O.path}},_.parent=_}},d}},"/proc/self/fd")})(),ft=B.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Ai.push(0,1,void 0,1,null,1,!0,1,!1,1),B.count_emval_handles=()=>Ai.length/2-5-on.length,wo=B.PureVirtualError=za("PureVirtualError");for(var gc=Array(256),nl=0;256>nl;++nl)gc[nl]=String.fromCharCode(nl);Ss=gc,B.getInheritedInstanceCount=()=>Object.keys(or).length,B.getLiveInheritedInstances=()=>{var f=[],d;for(d in or)or.hasOwnProperty(d)&&f.push(or[d]);return f},B.flushPendingDeletes=qr,B.setDelayFunction=f=>{si=f,va.length&&si&&si(qr)},cr=B.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(wa.prototype,{isAliasOf:function(f){if(!(this instanceof wa&&f instanceof wa))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||oa(this),this.g.ha)return this.g.count.value+=1,this;var f=hr,d=Object,_=d.create,S=Object.getPrototypeOf(this),O=this.g;return f=f(_.call(d,S,{g:{value:{count:O.count,ea:O.ea,ha:O.ha,o:O.o,u:O.u,F:O.F,J:O.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||oa(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");Ir(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||oa(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");return va.push(this),va.length===1&&si&&si(qr),this.g.ea=!0,this}}),Object.assign(Or.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Si,fromWireType:function(f){function d(){return this.sa?Zi(this.i.M,{u:this.hc,o:_,J:this,F:f}):Zi(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=ur(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=Rs[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var O=lr(_,this.i,S.i);return O===null?d.call(this):this.sa?Zi(S.i.M,{u:S,o:O,J:this,F:f}):Zi(S.i.M,{u:S,o:O})}}),Ta=B.UnboundTypeError=za("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,_){Pn=_;try{var S=Ti(f);switch(d){case 0:var O=g();if(0>O)break;for(;Qi[O];)O++;return _i(S,O).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return O=g(),S.flags|=O,0;case 12:return O=g(),ne[O+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(j){if(typeof nn>"u"||j.name!=="ErrnoError")throw j;return-j.$}},__syscall_ioctl:function(f,d,_){Pn=_;try{var S=Ti(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var O=g();_e[O>>2]=25856,_e[O+4>>2]=5,_e[O+8>>2]=191,_e[O+12>>2]=35387;for(var j=0;32>j;j++)Ie[O+j+17]=f[j]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(O=g(),f=[],j=0;32>j;j++)f.push(Ie[O+j+17]);return 0;case 21519:return S.s?(O=g(),_e[O>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(O=g(),!S.m.Wb)throw new qe(59);return S.m.Wb(S,d,O);case 21523:return S.s?(S.s.V.Zb&&(j=[24,80],O=g(),ne[O>>1]=j[0],ne[O+2>>1]=j[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(W){if(typeof nn>"u"||W.name!=="ErrnoError")throw W;return-W.$}},__syscall_openat:function(f,d,_,S){Pn=S;try{d=d?We(P,d):"";var O=d;if(O.charAt(0)==="/")d=O;else{var j=f===-100?"/":Ti(f).path;if(O.length==0)throw new qe(44);d=D(j+"/"+O)}var W=S?g():0;return Ue(d,_,W).W}catch($){if(typeof nn>"u"||$.name!=="ErrnoError")throw $;return-$.$}},_abort_js:()=>{Ut("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=vn(f),d=_a(d,"wrapper"),_=bi(_);var S=d.i,O=S.M,j=S.C.M,W=S.C.constructor;return f=Hr(f,function(...$){S.C.pb.forEach((function(ue){if(this[ue]===j[ue])throw new wo(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:O}),this.__construct(...$)}),O.__construct=function(...$){if(this===O)throw new ft("Pass correct 'this' to __construct");$=W.implement(this,...$),Ir($);var ue=$.g;if($.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),hr(this),$=ue.o,$=Ba(S,$),or.hasOwnProperty($))throw new ft(`Tried to register registered instance: ${$}`);or[$]=this},O.__destruct=function(){if(this===O)throw new ft("Pass correct 'this' to __destruct");Ir(this);var $=this.g.o;if($=Ba(S,$),or.hasOwnProperty($))delete or[$];else throw new ft(`Tried to unregister unregistered instance: ${$}`)},f.prototype=Object.create(O),Object.assign(f.prototype,_),Ln(f)},_embind_finalize_value_object:f=>{var d=sa[f];delete sa[f];var _=d.Na,S=d.O,O=d.eb,j=O.map(W=>W.Ub).concat(O.map(W=>W.kc));Dt([f],j,W=>{var $={};return O.forEach((ue,oe)=>{var Me=W[oe],Ye=ue.Sb,it=ue.Tb,J=W[oe+O.length],Pe=ue.jc,Ke=ue.lc;$[ue.Ob]={read:ze=>Me.fromWireType(Ye(it,ze)),write:(ze,hn)=>{var Xe=[];Pe(Ke,ze,J.toWireType(Xe,hn)),fr(Xe)}}}),[{name:d.name,fromWireType:ue=>{var oe={},Me;for(Me in $)oe[Me]=$[Me].read(ue);return S(ue),oe},toWireType:(ue,oe)=>{for(var Me in $)if(!(Me in oe))throw new TypeError(`Missing field: "${Me}"`);var Ye=_();for(Me in $)$[Me].write(Ye,oe[Me]);return ue!==null&&ue.push(S,Ye),Ye},argPackAdvance:8,readValueFromPointer:Si,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=vn(d),ji(f,{name:d,fromWireType:function(O){return!!O},toWireType:function(O,j){return j?_:S},argPackAdvance:8,readValueFromPointer:function(O){return this.fromWireType(P[O])},L:null})},_embind_register_class:(f,d,_,S,O,j,W,$,ue,oe,Me,Ye,it)=>{Me=vn(Me),j=ti(O,j),$&&=ti(W,$),oe&&=ti(ue,oe),it=ti(Ye,it);var J=Mr(Me);xr(J,function(){tr(`Cannot construct ${Me} due to unbound types`,[S])}),Dt([f,d,_],S?[S]:[],Pe=>{if(Pe=Pe[0],S)var Ke=Pe.i,ze=Ke.M;else ze=wa.prototype;Pe=Hr(Me,function(..._n){if(Object.getPrototypeOf(this)!==hn)throw new ft("Use 'new' to construct "+Me);if(Xe.Z===void 0)throw new ft(Me+" has no accessible constructor");var ni=Xe.Z[_n.length];if(ni===void 0)throw new ft(`Tried to invoke ctor of ${Me} with invalid number of parameters (${_n.length}) - expected (${Object.keys(Xe.Z).toString()}) parameters instead!`);return ni.apply(this,_n)});var hn=Object.create(ze,{constructor:{value:Pe}});Pe.prototype=hn;var Xe=new pi(Me,Pe,hn,it,Ke,j,$,oe);if(Xe.C){var Pt;(Pt=Xe.C).na??(Pt.na=[]),Xe.C.na.push(Xe)}return Ke=new Or(Me,Xe,!0,!1,!1),Pt=new Or(Me+"*",Xe,!1,!1,!1),ze=new Or(Me+" const*",Xe,!1,!0,!1),Rs[f]={pointerType:Pt,Hb:ze},Ha(J,Pe),[Ke,Pt,ze]})},_embind_register_class_class_function:(f,d,_,S,O,j,W)=>{var $=Ya(_,S);d=vn(d),d=Is(d),j=ti(O,j),Dt([],[f],ue=>{function oe(){tr(`Cannot call ${Me} due to unbound types`,$)}ue=ue[0];var Me=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ye=ue.i.constructor;return Ye[d]===void 0?(oe.da=_-1,Ye[d]=oe):(la(Ye,d,Me),Ye[d].A[_-1]=oe),Dt([],$,it=>{if(it=ua(Me,[it[0],null].concat(it.slice(1)),null,j,W),Ye[d].A===void 0?(it.da=_-1,Ye[d]=it):Ye[d].A[_-1]=it,ue.i.na)for(const J of ue.i.na)J.constructor.hasOwnProperty(d)||(J.constructor[d]=it);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,O,j,W,$)=>{d=vn(d),j=ti(O,j),Dt([],[f],ue=>{ue=ue[0];var oe=`${ue.name}.${d}`,Me={get(){tr(`Cannot access ${oe} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Me.set=$?()=>{tr(`Cannot access ${oe} due to unbound types`,[_])}:()=>{throw new ft(`${oe} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,Me),Dt([],[_],Ye=>{Ye=Ye[0];var it={get(){return Ye.fromWireType(j(S))},enumerable:!0};return $&&($=ti(W,$),it.set=J=>{var Pe=[];$(S,Ye.toWireType(Pe,J)),fr(Pe)}),Object.defineProperty(ue.i.constructor,d,it),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,O,j)=>{var W=Ya(d,_);O=ti(S,O),Dt([],[f],$=>{$=$[0];var ue=`constructor ${$.name}`;if($.i.Z===void 0&&($.i.Z=[]),$.i.Z[d-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.i.Z[d-1]=()=>{tr(`Cannot construct ${$.name} due to unbound types`,W)},Dt([],W,oe=>(oe.splice(1,0,null),$.i.Z[d-1]=ua(ue,oe,null,O,j),[])),[]})},_embind_register_class_function:(f,d,_,S,O,j,W,$)=>{var ue=Ya(_,S);d=vn(d),d=Is(d),j=ti(O,j),Dt([],[f],oe=>{function Me(){tr(`Cannot call ${Ye} due to unbound types`,ue)}oe=oe[0];var Ye=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),$&&oe.i.pb.push(d);var it=oe.i.M,J=it[d];return J===void 0||J.A===void 0&&J.className!==oe.name&&J.da===_-2?(Me.da=_-2,Me.className=oe.name,it[d]=Me):(la(it,d,Ye),it[d].A[_-2]=Me),Dt([],ue,Pe=>(Pe=ua(Ye,Pe,oe,j,W),it[d].A===void 0?(Pe.da=_-2,it[d]=Pe):it[d].A[_-2]=Pe,[])),[]})},_embind_register_class_property:(f,d,_,S,O,j,W,$,ue,oe)=>{d=vn(d),O=ti(S,O),Dt([],[f],Me=>{Me=Me[0];var Ye=`${Me.name}.${d}`,it={get(){tr(`Cannot access ${Ye} due to unbound types`,[_,W])},enumerable:!0,configurable:!0};return it.set=ue?()=>tr(`Cannot access ${Ye} due to unbound types`,[_,W]):()=>{throw new ft(Ye+" is a read-only property")},Object.defineProperty(Me.i.M,d,it),Dt([],ue?[_,W]:[_],J=>{var Pe=J[0],Ke={get(){var hn=Dr(this,Me,Ye+" getter");return Pe.fromWireType(O(j,hn))},enumerable:!0};if(ue){ue=ti($,ue);var ze=J[1];Ke.set=function(hn){var Xe=Dr(this,Me,Ye+" setter"),Pt=[];ue(oe,Xe,ze.toWireType(Pt,hn)),fr(Pt)}}return Object.defineProperty(Me.i.M,d,Ke),[]}),[]})},_embind_register_emval:f=>ji(f,Zo),_embind_register_enum:(f,d,_,S)=>{function O(){}d=vn(d),O.values={},ji(f,{name:d,constructor:O,fromWireType:function(j){return this.constructor.values[j]},toWireType:(j,W)=>W.value,argPackAdvance:8,readValueFromPointer:el(d,_,S),L:null}),xr(d,O)},_embind_register_enum_value:(f,d,_)=>{var S=_a(f,"enum");d=vn(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:Hr(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=vn(d),ji(f,{name:d,fromWireType:S=>S,toWireType:(S,O)=>O,argPackAdvance:8,readValueFromPointer:Aa(d,_),L:null})},_embind_register_function:(f,d,_,S,O,j)=>{var W=Ya(d,_);f=vn(f),f=Is(f),O=ti(S,O),xr(f,function(){tr(`Cannot call ${f} due to unbound types`,W)},d-1),Dt([],W,$=>(Ha(f,ua(f,[$[0],null].concat($.slice(1)),null,O,j),d-1),[]))},_embind_register_integer:(f,d,_,S,O)=>{if(d=vn(d),O===-1&&(O=4294967295),O=$=>$,S===0){var j=32-8*_;O=$=>$<<j>>>j}var W=d.includes("unsigned")?function($,ue){return ue>>>0}:function($,ue){return ue};ji(f,{name:d,fromWireType:O,toWireType:W,argPackAdvance:8,readValueFromPointer:Ri(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(j){return new O(Ie.buffer,Re[j+4>>2],Re[j>>2])}var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=vn(_),ji(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=vn(d);var _=d==="std::string";ji(f,{name:d,fromWireType:function(S){var O=Re[S>>2],j=S+4;if(_)for(var W=j,$=0;$<=O;++$){var ue=j+$;if($==O||P[ue]==0){if(W=W?We(P,W,ue-W):"",oe===void 0)var oe=W;else oe+="\0",oe+=W;W=ue+1}}else{for(oe=Array(O),$=0;$<O;++$)oe[$]=String.fromCharCode(P[j+$]);oe=oe.join("")}return ir(S),oe},toWireType:function(S,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var j=typeof O=="string";if(!(j||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int8Array))throw new ft("Cannot pass non-string to std::string");var W=_&&j?On(O):O.length,$=Wa(4+W+1),ue=$+4;if(Re[$>>2]=W,_&&j)mn(O,P,ue,W+1);else if(j)for(j=0;j<W;++j){var oe=O.charCodeAt(j);if(255<oe)throw ir(ue),new ft("String has UTF-16 code units that do not fit in 8 bits");P[ue+j]=oe}else for(j=0;j<W;++j)P[ue+j]=O[j];return S!==null&&S.push(ir,$),$},argPackAdvance:8,readValueFromPointer:Si,L(S){ir(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=vn(_),d===2)var S=tl,O=ca,j=u,W=$=>ve[$>>1];else d===4&&(S=y,O=A,j=N,W=$=>Re[$>>2]);ji(f,{name:_,fromWireType:$=>{for(var ue=Re[$>>2],oe,Me=$+4,Ye=0;Ye<=ue;++Ye){var it=$+4+Ye*d;(Ye==ue||W(it)==0)&&(Me=S(Me,it-Me),oe===void 0?oe=Me:(oe+="\0",oe+=Me),Me=it+d)}return ir($),oe},toWireType:($,ue)=>{if(typeof ue!="string")throw new ft(`Cannot pass non-string to C++ string type ${_}`);var oe=j(ue),Me=Wa(4+oe+d);return Re[Me>>2]=oe/d,O(ue,Me+4,oe+d),$!==null&&$.push(ir,Me),Me},argPackAdvance:8,readValueFromPointer:Si,L($){ir($)}})},_embind_register_value_object:(f,d,_,S,O,j)=>{sa[f]={name:vn(d),Na:ti(_,S),O:ti(O,j),eb:[]}},_embind_register_value_object_field:(f,d,_,S,O,j,W,$,ue,oe)=>{sa[f].eb.push({Ob:vn(d),Ub:_,Sb:ti(S,O),Tb:j,kc:W,jc:ti($,ue),lc:oe})},_embind_register_void:(f,d)=>{d=vn(d),ji(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>P.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=bi(f),d=_a(d,"emval::as"),ie(d,_,f)),_emval_call_method:(f,d,_,S,O)=>(f=Rt[f],d=bi(d),_=ke(_),f(d,d[_],S,O)),_emval_decref:xs,_emval_get_method_caller:(f,d,_)=>{var S=ln(f,d),O=S.shift();f--;var j=Array(f);return d=`methodCaller<(${S.map(W=>W.name).join(", ")}) => ${O.name}>`,Wn(Hr(d,(W,$,ue,oe)=>{for(var Me=0,Ye=0;Ye<f;++Ye)j[Ye]=S[Ye].readValueFromPointer(oe+Me),Me+=S[Ye].argPackAdvance;return W=_===1?Vn($,j):$.apply(W,j),ie(O,ue,W)}))},_emval_get_module_property:f=>(f=ke(f),Ln(B[f])),_emval_get_property:(f,d)=>(f=bi(f),d=bi(d),Ln(f[d])),_emval_incref:f=>{9<f&&(Ai[f+1]+=1)},_emval_new_array:()=>Ln([]),_emval_new_cstring:f=>Ln(ke(f)),_emval_new_object:()=>Ln({}),_emval_run_destructors:f=>{var d=bi(f);fr(d),xs(f)},_emval_set_property:(f,d,_)=>{f=bi(f),d=bi(d),_=bi(_),f[d]=_},_emval_take_value:(f,d)=>(f=_a(f,"_emval_take_value"),f=f.readValueFromPointer(d),Ln(f)),emscripten_asm_const_int:(f,d,_)=>{zi.length=0;for(var S;S=P[d++];){var O=S!=105;O&=S!=112,_+=O&&_%8?4:0,zi.push(S==112?Re[_>>2]:S==105?_e[_>>2]:ot[_>>3]),_+=O?8:4}return En[f](...zi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var O=Math;S=Math.max(f,S);e:{O=(O.min.call(O,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(O),ht();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},environ_get:(f,d)=>{var _=0;return pr().forEach((S,O)=>{var j=d+_;for(O=Re[f+4*O>>2]=j,j=0;j<S.length;++j)Ie[O++]=S.charCodeAt(j);Ie[O]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=pr();Re[f>>2]=_.length;var S=0;return _.forEach(O=>S+=O.length+1),Re[d>>2]=S,0},fd_close:function(f){try{var d=Ti(f);if(d.W===null)throw new qe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Qi[d.W]=null}return d.W=null,0}catch(_){if(typeof nn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var O=Ti(f);f=d;for(var j,W=d=0;W<_;W++){var $=Re[f>>2],ue=Re[f+4>>2];f+=8;var oe=O,Me=j,Ye=Ie;if(0>ue||0>Me)throw new qe(28);if(oe.W===null)throw new qe(8);if((oe.flags&2097155)===1)throw new qe(8);if((oe.node.mode&61440)===16384)throw new qe(31);if(!oe.m.read)throw new qe(28);var it=typeof Me<"u";if(!it)Me=oe.position;else if(!oe.seekable)throw new qe(70);var J=oe.m.read(oe,Ye,$,ue,Me);it||(oe.position+=J);var Pe=J;if(0>Pe){var Ke=-1;break e}if(d+=Pe,Pe<ue)break;typeof j<"u"&&(j+=Pe)}Ke=d}return Re[S>>2]=Ke,0}catch(ze){if(typeof nn>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,_,S,O){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var j=Ti(f);return ut(j,d,S),kt=[j.position>>>0,(Gn=j.position,1<=+Math.abs(Gn)?0<Gn?+Math.floor(Gn/4294967296)>>>0:~~+Math.ceil((Gn-+(~~Gn>>>0))/4294967296)>>>0:0)],_e[O>>2]=kt[0],_e[O+4>>2]=kt[1],j.Ka&&d===0&&S===0&&(j.Ka=null),0}catch(W){if(typeof nn>"u"||W.name!=="ErrnoError")throw W;return W.$}},fd_write:function(f,d,_,S){try{e:{var O=Ti(f);f=d;for(var j,W=d=0;W<_;W++){var $=Re[f>>2],ue=Re[f+4>>2];f+=8;var oe=O,Me=$,Ye=ue,it=j,J=Ie;if(0>Ye||0>it)throw new qe(28);if(oe.W===null)throw new qe(8);if((oe.flags&2097155)===0)throw new qe(8);if((oe.node.mode&61440)===16384)throw new qe(31);if(!oe.m.write)throw new qe(28);oe.seekable&&oe.flags&1024&&ut(oe,0,2);var Pe=typeof it<"u";if(!Pe)it=oe.position;else if(!oe.seekable)throw new qe(70);var Ke=oe.m.write(oe,J,Me,Ye,it,void 0);Pe||(oe.position+=Ke);var ze=Ke;if(0>ze){var hn=-1;break e}d+=ze,typeof j<"u"&&(j+=ze)}hn=d}return Re[S>>2]=hn,0}catch(Xe){if(typeof nn>"u"||Xe.name!=="ErrnoError")throw Xe;return Xe.$}},strftime_l:(f,d,_,S)=>bf(f,d,_,S)},Un=(function(){function f(_){return Un=_.exports,ye=Un.memory,ht(),qa=Un.__indirect_function_table,Ot.unshift(Un.__wasm_call_ctors),At--,B.monitorRunDependencies?.(At),At==0&&vt&&(_=vt,vt=null,_()),Un}var d={env:eu,wasi_snapshot_preview1:eu};if(At++,B.monitorRunDependencies?.(At),B.instantiateWasm)try{return B.instantiateWasm(d,f)}catch(_){q(`Module.instantiateWasm callback failed with error: ${_}`),Te(_)}return Yt||=qn("canvas_advanced.wasm")?"canvas_advanced.wasm":B.locateFile?B.locateFile("canvas_advanced.wasm",k):k+"canvas_advanced.wasm",Br(d,function(_){f(_.instance)}).catch(Te),{}})(),ir=f=>(ir=Un.free)(f),Wa=f=>(Wa=Un.malloc)(f),yc=f=>(yc=Un.__getTypeName)(f),Ao=B._ma_device__on_notification_unlocked=f=>(Ao=B._ma_device__on_notification_unlocked=Un.ma_device__on_notification_unlocked)(f);B._ma_malloc_emscripten=(f,d)=>(B._ma_malloc_emscripten=Un.ma_malloc_emscripten)(f,d),B._ma_free_emscripten=(f,d)=>(B._ma_free_emscripten=Un.ma_free_emscripten)(f,d);var tu=B._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(tu=B._ma_device_process_pcm_frames_capture__webaudio=Un.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),nu=B._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(nu=B._ma_device_process_pcm_frames_playback__webaudio=Un.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);B.dynCall_iiji=(f,d,_,S,O)=>(B.dynCall_iiji=Un.dynCall_iiji)(f,d,_,S,O),B.dynCall_jiji=(f,d,_,S,O)=>(B.dynCall_jiji=Un.dynCall_jiji)(f,d,_,S,O),B.dynCall_iiiji=(f,d,_,S,O,j)=>(B.dynCall_iiiji=Un.dynCall_iiiji)(f,d,_,S,O,j),B.dynCall_iij=(f,d,_,S)=>(B.dynCall_iij=Un.dynCall_iij)(f,d,_,S),B.dynCall_jii=(f,d,_)=>(B.dynCall_jii=Un.dynCall_jii)(f,d,_),B.dynCall_viijii=(f,d,_,S,O,j,W)=>(B.dynCall_viijii=Un.dynCall_viijii)(f,d,_,S,O,j,W),B.dynCall_iiiiij=(f,d,_,S,O,j,W)=>(B.dynCall_iiiiij=Un.dynCall_iiiiij)(f,d,_,S,O,j,W),B.dynCall_iiiiijj=(f,d,_,S,O,j,W,$,ue)=>(B.dynCall_iiiiijj=Un.dynCall_iiiiijj)(f,d,_,S,O,j,W,$,ue),B.dynCall_iiiiiijj=(f,d,_,S,O,j,W,$,ue,oe)=>(B.dynCall_iiiiiijj=Un.dynCall_iiiiiijj)(f,d,_,S,O,j,W,$,ue,oe);var Os;vt=function f(){Os||il(),Os||(vt=f)};function il(){function f(){if(!Os&&(Os=!0,B.calledRun=!0,!he)){if(B.noFSInit||Bt||(Bt=!0,B.stdin=B.stdin,B.stdout=B.stdout,B.stderr=B.stderr,B.stdin?Tn("stdin",B.stdin):Ne("/dev/tty","/dev/stdin"),B.stdout?Tn("stdout",null,B.stdout):Ne("/dev/tty","/dev/stdout"),B.stderr?Tn("stderr",null,B.stderr):Ne("/dev/tty1","/dev/stderr"),Ue("/dev/stdin",0),Ue("/dev/stdout",1),Ue("/dev/stderr",1)),Sr=!1,R(Ot),Oe(B),B.onRuntimeInitialized&&B.onRuntimeInitialized(),B.postRun)for(typeof B.postRun=="function"&&(B.postRun=[B.postRun]);B.postRun.length;){var d=B.postRun.shift();cn.unshift(d)}R(cn)}}if(!(0<At)){if(B.preRun)for(typeof B.preRun=="function"&&(B.preRun=[B.preRun]);B.preRun.length;)ct();R(bt),0<At||(B.setStatus?(B.setStatus("Running..."),setTimeout(function(){setTimeout(function(){B.setStatus("")},1),f()},1)):f())}}if(B.preInit)for(typeof B.preInit=="function"&&(B.preInit=[B.preInit]);0<B.preInit.length;)B.preInit.pop()();return il(),te=Le,te})})();const x=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function x(U,H,te,B){this.animation=U,this.artboard=H,this.playing=B,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(U,H)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(U){this.instance.time=U},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(U){this.scrubTo===null?this.instance.advance(U):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(U){this.instance.apply(U)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>U.AudioAssetWrapper,AudioWrapper:()=>U.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>U.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>U.FileAssetWrapper,FileFinalizer:()=>U.FileFinalizer,FontAssetWrapper:()=>U.FontAssetWrapper,FontWrapper:()=>U.FontWrapper,ImageAssetWrapper:()=>U.ImageAssetWrapper,ImageWrapper:()=>U.ImageWrapper,createFinalization:()=>U.createFinalization,finalizationRegistry:()=>U.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var E=w(6),x=w(7),U=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>U});var E=void 0,x=function(H,te,B){var Oe,Te,Le=[];if(["touchstart","touchmove"].indexOf(H.type)>-1&&(!((Oe=H.changedTouches)===null||Oe===void 0)&&Oe.length)){te||H.preventDefault();for(var je=0,Be=B?H.changedTouches.length:1;je<Be;){var Je=H.changedTouches[je];Le.push({clientX:Je.clientX,clientY:Je.clientY,identifier:Je.identifier}),je++}}else if(H.type==="touchend"&&(!((Te=H.changedTouches)===null||Te===void 0)&&Te.length))for(var je=0,Be=B?H.changedTouches.length:1;je<Be;){var Je=H.changedTouches[je];Le.push({clientX:Je.clientX,clientY:Je.clientY,identifier:Je.identifier}),je++}else Le.push({clientX:H.clientX,clientY:H.clientY,identifier:0});return Le},U=function(H){var te=H.canvas,B=H.artboard,Oe=H.stateMachines,Te=Oe===void 0?[]:Oe,Le=H.renderer,je=H.rive,Be=H.fit,Je=H.alignment,tt=H.isTouchScrollEnabled,at=tt===void 0?!1:tt,F=H.dispatchPointerExit,z=F===void 0?!0:F,V=H.enableMultiTouch,L=V===void 0?!1:V,C=H.layoutScaleFactor,k=C===void 0?1:C;if(!te||!Te.length||!Le||!je||!B||typeof window>"u")return null;var I=null,K=!1,se=function(ee){if(K&&ee instanceof MouseEvent){ee.type=="mouseup"&&(K=!1);return}K=at&&ee.type==="touchend"&&I==="touchstart",I=ee.type;var ye=ee.currentTarget.getBoundingClientRect(),he=x(ee,at,L),Ie=je.computeAlignment(Be,Je,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},B.bounds,k),P=new je.Mat2D;switch(Ie.invert(P),he.forEach(function(Yt){var Ze=Yt.clientX,en=Yt.clientY;if(!(!Ze&&!en)){var Rn=Ze-ye.left,Br=en-ye.top,Gn=new je.Vec2D(Rn,Br),kt=je.mapXY(P,Gn),En=kt.x(),R=kt.y();Yt.transformedX=En,Yt.transformedY=R,kt.delete(),Gn.delete()}}),P.delete(),Ie.delete(),ee.type){case"mouseout":for(var ne=function(Yt){z?he.forEach(function(Ze){Yt.pointerExit(Ze.transformedX,Ze.transformedY,Ze.identifier)}):he.forEach(function(Ze){Yt.pointerMove(Ze.transformedX,Ze.transformedY,Ze.identifier)})},ve=0,_e=Te;ve<_e.length;ve++){var Re=_e[ve];ne(Re)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Ge=function(Yt){he.forEach(function(Ze){Yt.pointerMove(Ze.transformedX,Ze.transformedY,Ze.identifier)})},ot=0,ht=Te;ot<ht.length;ot++){var Re=ht[ot];Ge(Re)}break}case"touchstart":case"mousedown":{for(var bt=function(Yt){he.forEach(function(Ze){Yt.pointerDown(Ze.transformedX,Ze.transformedY,Ze.identifier)})},Ot=0,cn=Te;Ot<cn.length;Ot++){var Re=cn[Ot];bt(Re)}break}case"touchend":{for(var ct=function(Yt){he.forEach(function(Ze){Yt.pointerUp(Ze.transformedX,Ze.transformedY,Ze.identifier),Yt.pointerExit(Ze.transformedX,Ze.transformedY,Ze.identifier)})},At=0,vt=Te;At<vt.length;At++){var Re=vt[At];ct(Re)}break}case"mouseup":{for(var Ut=function(Yt){he.forEach(function(Ze){Yt.pointerUp(Ze.transformedX,Ze.transformedY,Ze.identifier)})},qn=0,ei=Te;qn<ei.length;qn++){var Re=ei[qn];Ut(Re)}break}}},q=se.bind(E);return te.addEventListener("mouseover",q),te.addEventListener("mouseout",q),te.addEventListener("mousemove",q),te.addEventListener("mousedown",q),te.addEventListener("mouseup",q),te.addEventListener("touchmove",q,{passive:at}),te.addEventListener("touchstart",q,{passive:at}),te.addEventListener("touchend",q),function(){te.removeEventListener("mouseover",q),te.removeEventListener("mouseout",q),te.removeEventListener("mousemove",q),te.removeEventListener("mousedown",q),te.removeEventListener("mouseup",q),te.removeEventListener("touchmove",q),te.removeEventListener("touchstart",q),te.removeEventListener("touchend",q)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Oe,sanitizeUrl:()=>je});var E=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,U=/&(newline|tab);/gi,H=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,B=[".","/"],Oe="about:blank";function Te(Be){return B.indexOf(Be[0])>-1}function Le(Be){var Je=Be.replace(H,"");return Je.replace(x,function(tt,at){return String.fromCharCode(at)})}function je(Be){if(!Be)return Oe;var Je=Le(Be).replace(U,"").replace(H,"").trim();if(!Je)return Oe;if(Te(Je))return Je;var tt=Je.match(te);if(!tt)return Je;var at=tt[0];return E.test(at)?Oe:Je}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Be,AudioWrapper:()=>B,CustomFileAssetLoaderWrapper:()=>Te,FileAssetWrapper:()=>Le,FileFinalizer:()=>x,FontAssetWrapper:()=>Je,FontWrapper:()=>Oe,ImageAssetWrapper:()=>je,ImageWrapper:()=>te,createFinalization:()=>z,finalizationRegistry:()=>F});var E=(function(){var V=function(L,C){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,I){k.__proto__=I}||function(k,I){for(var K in I)Object.prototype.hasOwnProperty.call(I,K)&&(k[K]=I[K])},V(L,C)};return function(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");V(L,C);function k(){this.constructor=L}L.prototype=C===null?Object.create(C):(k.prototype=C.prototype,new k)}})(),x=(function(){function V(L){this.selfUnref=!1,this._file=L}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),U=(function(){function V(L){this._finalizableObject=L}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),H=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),te=(function(V){E(L,V);function L(C){var k=V.call(this)||this;return k._nativeImage=C,k}return Object.defineProperty(L.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),L.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},L})(H),B=(function(V){E(L,V);function L(C){var k=V.call(this)||this;return k._nativeAudio=C,k}return Object.defineProperty(L.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),L.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},L})(H),Oe=(function(V){E(L,V);function L(C){var k=V.call(this)||this;return k._nativeFont=C,k}return Object.defineProperty(L.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),L.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},L})(H),Te=(function(){function V(L,C){this._assetLoaderCallback=C,this.assetLoader=new L.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(L,C){var k;return L.isImage?k=new je(L):L.isAudio?k=new Be(L):L.isFont&&(k=new Je(L)),this._assetLoaderCallback(k,C)},V})(),Le=(function(){function V(L){this._nativeFileAsset=L}return V.prototype.decode=function(L){this._nativeFileAsset.decode(L)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),je=(function(V){E(L,V);function L(){return V!==null&&V.apply(this,arguments)||this}return L.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},L})(Le),Be=(function(V){E(L,V);function L(){return V!==null&&V.apply(this,arguments)||this}return L.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},L})(Le),Je=(function(V){E(L,V);function L(){return V!==null&&V.apply(this,arguments)||this}return L.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},L})(Le),tt=(function(){function V(L){}return V.prototype.register=function(L){L.selfUnref=!0},V.prototype.unregister=function(L){},V})(),at=typeof FinalizationRegistry<"u"?FinalizationRegistry:tt,F=new at(function(V){V?.unref()}),z=function(V,L){var C=new U(L);F.register(V,C)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var w=a[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>je,DataEnum:()=>ot,EventType:()=>I,Fit:()=>Le,Layout:()=>Be,LoopType:()=>K,Rive:()=>Re,RiveEventType:()=>F,RiveFile:()=>_e,RuntimeLoader:()=>Je,StateMachineInput:()=>at,StateMachineInputType:()=>tt,Testing:()=>Br,ViewModel:()=>Ge,ViewModelInstance:()=>bt,ViewModelInstanceArtboard:()=>Ze,ViewModelInstanceAssetImage:()=>Yt,ViewModelInstanceBoolean:()=>At,ViewModelInstanceColor:()=>ei,ViewModelInstanceEnum:()=>Ut,ViewModelInstanceList:()=>qn,ViewModelInstanceNumber:()=>ct,ViewModelInstanceString:()=>cn,ViewModelInstanceTrigger:()=>vt,ViewModelInstanceValue:()=>Ot,decodeAudio:()=>Gn,decodeFont:()=>En,decodeImage:()=>kt});var p=l(1),b=l(2),w=l(3),E=l(5),x=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,Q){D.__proto__=Q}||function(D,Q){for(var de in Q)Object.prototype.hasOwnProperty.call(Q,de)&&(D[de]=Q[de])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function D(){this.constructor=g}g.prototype=v===null?Object.create(v):(D.prototype=v.prototype,new D)}})(),U=function(){return U=Object.assign||function(R){for(var g,v=1,D=arguments.length;v<D;v++){g=arguments[v];for(var Q in g)Object.prototype.hasOwnProperty.call(g,Q)&&(R[Q]=g[Q])}return R},U.apply(this,arguments)},H=function(R,g,v,D){function Q(de){return de instanceof v?de:new v(function(Ce){Ce(de)})}return new(v||(v=Promise))(function(de,Ce){function Qe(We){try{He(D.next(We))}catch(tn){Ce(tn)}}function nt(We){try{He(D.throw(We))}catch(tn){Ce(tn)}}function He(We){We.done?de(We.value):Q(We.value).then(Qe,nt)}He((D=D.apply(R,g||[])).next())})},te=function(R,g){var v={label:0,sent:function(){if(de[0]&1)throw de[1];return de[1]},trys:[],ops:[]},D,Q,de,Ce=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ce.next=Qe(0),Ce.throw=Qe(1),Ce.return=Qe(2),typeof Symbol=="function"&&(Ce[Symbol.iterator]=function(){return this}),Ce;function Qe(He){return function(We){return nt([He,We])}}function nt(He){if(D)throw new TypeError("Generator is already executing.");for(;Ce&&(Ce=0,He[0]&&(v=0)),v;)try{if(D=1,Q&&(de=He[0]&2?Q.return:He[0]?Q.throw||((de=Q.return)&&de.call(Q),0):Q.next)&&!(de=de.call(Q,He[1])).done)return de;switch(Q=0,de&&(He=[He[0]&2,de.value]),He[0]){case 0:case 1:de=He;break;case 4:return v.label++,{value:He[1],done:!1};case 5:v.label++,Q=He[1],He=[0];continue;case 7:He=v.ops.pop(),v.trys.pop();continue;default:if(de=v.trys,!(de=de.length>0&&de[de.length-1])&&(He[0]===6||He[0]===2)){v=0;continue}if(He[0]===3&&(!de||He[1]>de[0]&&He[1]<de[3])){v.label=He[1];break}if(He[0]===6&&v.label<de[1]){v.label=de[1],de=He;break}if(de&&v.label<de[2]){v.label=de[2],v.ops.push(He);break}de[2]&&v.ops.pop(),v.trys.pop();continue}He=g.call(R,v)}catch(We){He=[6,We],Q=0}finally{D=de=0}if(He[0]&5)throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}},B=function(R,g,v){if(v||arguments.length===2)for(var D=0,Q=g.length,de;D<Q;D++)(de||!(D in g))&&(de||(de=Array.prototype.slice.call(g,0,D)),de[D]=g[D]);return R.concat(de||Array.prototype.slice.call(g))},Oe=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Te=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Le;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Le||(Le={}));var je;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(je||(je={}));var Be=(function(){function R(g){var v,D,Q,de,Ce,Qe,nt;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Le.Contain,this.alignment=(D=g?.alignment)!==null&&D!==void 0?D:je.Center,this.layoutScaleFactor=(Q=g?.layoutScaleFactor)!==null&&Q!==void 0?Q:1,this.minX=(de=g?.minX)!==null&&de!==void 0?de:0,this.minY=(Ce=g?.minY)!==null&&Ce!==void 0?Ce:0,this.maxX=(Qe=g?.maxX)!==null&&Qe!==void 0?Qe:0,this.maxY=(nt=g?.maxY)!==null&&nt!==void 0?nt:0}return R.new=function(g){var v=g.fit,D=g.alignment,Q=g.minX,de=g.minY,Ce=g.maxX,Qe=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:D,minX:Q,minY:de,maxX:Ce,maxY:Qe})},R.prototype.copyWith=function(g){var v=g.fit,D=g.alignment,Q=g.layoutScaleFactor,de=g.minX,Ce=g.minY,Qe=g.maxX,nt=g.maxY;return new R({fit:v??this.fit,alignment:D??this.alignment,layoutScaleFactor:Q??this.layoutScaleFactor,minX:de??this.minX,minY:Ce??this.minY,maxX:Qe??this.maxX,maxY:nt??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Le.Cover?v=g.Fit.cover:this.fit===Le.Contain?v=g.Fit.contain:this.fit===Le.Fill?v=g.Fit.fill:this.fit===Le.FitWidth?v=g.Fit.fitWidth:this.fit===Le.FitHeight?v=g.Fit.fitHeight:this.fit===Le.ScaleDown?v=g.Fit.scaleDown:this.fit===Le.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===je.TopLeft?v=g.Alignment.topLeft:this.alignment===je.TopCenter?v=g.Alignment.topCenter:this.alignment===je.TopRight?v=g.Alignment.topRight:this.alignment===je.CenterLeft?v=g.Alignment.centerLeft:this.alignment===je.CenterRight?v=g.Alignment.centerRight:this.alignment===je.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===je.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===je.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),Je=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var D="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==D)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(D),R.loadRuntime();else{var Q=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(D,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(Q)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),tt;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(tt||(tt={}));var at=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===tt.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var z=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){x(g,R);function g(v,D){var Q=R.call(this,!1)||this;return Q.nativeArtboard=v,Q.file=D,Q}return g})(z),L=(function(R){x(g,R);function g(v){var D=R.call(this,!0)||this;return D.selfUnref=!1,D.nativeArtboard=v,D}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(z),C=(function(){function R(g,v,D,Q){this.stateMachine=g,this.playing=D,this.artboard=Q,this.inputs=[],this.instance=new v.StateMachineInstance(g,Q),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var D=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(D,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new at(tt.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new at(tt.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new at(tt.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),k=(function(){function R(g,v,D,Q,de){Q===void 0&&(Q=[]),de===void 0&&(de=[]),this.runtime=g,this.artboard=v,this.eventManager=D,this.animations=Q,this.stateMachines=de}return R.prototype.add=function(g,v,D){if(D===void 0&&(D=!0),g=Rn(g),g.length===0)this.animations.forEach(function(mn){return mn.playing=v}),this.stateMachines.forEach(function(mn){return mn.playing=v});else for(var Q=this.animations.map(function(mn){return mn.name}),de=this.stateMachines.map(function(mn){return mn.name}),Ce=0;Ce<g.length;Ce++){var Qe=Q.indexOf(g[Ce]),nt=de.indexOf(g[Ce]);if(Qe>=0||nt>=0)Qe>=0?this.animations[Qe].playing=v:this.stateMachines[nt].playing=v;else{var He=this.artboard.animationByName(g[Ce]);if(He){var We=new w.Animation(He,this.artboard,this.runtime,v);We.advance(0),We.apply(1),this.animations.push(We)}else{var tn=this.artboard.stateMachineByName(g[Ce]);if(tn){var On=new C(tn,this.runtime,v,this.artboard);this.stateMachines.push(On)}}}}return D&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var D=this.animations.map(function(nt){return nt.name}),Q=0;Q<g.length;Q++){var de=D.indexOf(g[Q]);if(de>=0)this.animations[de].playing=v;else{var Ce=this.artboard.animationByName(g[Q]);if(Ce){var Qe=new w.Animation(Ce,this.artboard,this.runtime,v);Qe.advance(0),Qe.apply(1),this.animations.push(Qe)}else console.error("Animation with name ".concat(g[Q]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var D=this.stateMachines.map(function(nt){return nt.name}),Q=0;Q<g.length;Q++){var de=D.indexOf(g[Q]);if(de>=0)this.stateMachines[de].playing=v;else{var Ce=this.artboard.stateMachineByName(g[Q]);if(Ce){var Qe=new C(Ce,this.runtime,v,this.artboard);this.stateMachines.push(Qe)}else console.warn("State Machine with name ".concat(g[Q]," not found.")),this.initLinearAnimations([g[Q]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var D=this.animations.filter(function(Q){return g.includes(Q.name)});return D.forEach(function(Q){return Q.scrubTo=v}),D.map(function(Q){return Q.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=Rn(g);var D=[];if(g.length===0)D=this.animations.map(function(Ce){return Ce.name}).concat(this.stateMachines.map(function(Ce){return Ce.name})),this.animations.forEach(function(Ce){return Ce.cleanup()}),this.stateMachines.forEach(function(Ce){return Ce.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var Q=this.animations.filter(function(Ce){return g.includes(Ce.name)});Q.forEach(function(Ce){Ce.cleanup(),v.animations.splice(v.animations.indexOf(Ce),1)});var de=this.stateMachines.filter(function(Ce){return g.includes(Ce.name)});de.forEach(function(Ce){Ce.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ce),1)}),D=Q.map(function(Ce){return Ce.name}).concat(de.map(function(Ce){return Ce.name}))}return this.eventManager.fire({type:I.Stop,data:D}),D},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var D;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([D=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([D=this.artboard.stateMachineByIndex(0).name],g,v)),D},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(Q){return Q.playing});g<v.length;g++){var D=v[g];D.loopValue===0&&D.loopCount?(D.loopCount=0,this.stop(D.name)):D.loopValue===1&&D.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:K.Loop}}),D.loopCount=0):D.loopValue===2&&D.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:D.name,type:K.PingPong}}),D.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,D=this.stateMachines.filter(function(de){return de.playing});v<D.length;v++){var Q=D[v];g.push.apply(g,Q.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var K;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(K||(K={}));var se=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var D=this.listeners[v];if(D.type===g.type&&D.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(D){return D.type===g}).forEach(function(D){return v.remove(D)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(D){return D.callback(g)})},R})(),q=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),ee;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(ee||(ee={}));var ye=(function(R){x(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=ee.UNAVAILABLE,v}return g.prototype.delay=function(v){return H(this,void 0,void 0,function(){return te(this,function(D){return[2,new Promise(function(Q){return setTimeout(Q,v)})]})})},g.prototype.timeout=function(){return H(this,void 0,void 0,function(){return te(this,function(v){return[2,new Promise(function(D,Q){return setTimeout(Q,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){return this._enabled||(this._enabled=!0,this._status=ee.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){switch(v.label){case 0:if(!(this._status===ee.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==ee.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,D=function(){return H(v,void 0,void 0,function(){return te(this,function(Q){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",D,{once:!0})},g.prototype.establishAudio=function(){return H(this,void 0,void 0,function(){return te(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===ee.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(se),he=new ye,Ie=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),P=globalThis.ResizeObserver||Ie,ne=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var D=g._elementsMap.get(v.target);D!==null?D.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return R.prototype.add=function(g,v){var D={onResize:v,element:g};return this._elementsMap.set(g,D),this._resizeObserver.observe(g),D},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),ve=new ne,_e=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new se,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return H(this,void 0,void 0,function(){var g,v,D,Q,de;return te(this,function(Ce){switch(Ce.label){case 0:return this.src?(g=this,[4,en(this.src)]):[3,2];case 1:g.buffer=Ce.sent(),Ce.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(D=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=D.assetLoader),Q=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return Q.file=Ce.sent(),de=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,de),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return H(this,void 0,void 0,function(){var g,v;return te(this,function(D){switch(D.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];D.label=1;case 1:return D.trys.push([1,4,,5]),g=this,[4,Je.awaitInstance()];case 2:return g.runtime=D.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return D.sent(),[3,5];case 4:return v=D.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new L(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Re=(function(){function R(g){var v=this,D;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(Q){var de=v._hasZeroSize!==Q;v._hasZeroSize=Q,Q?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():de&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=ve.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(D=g.layout)!==null&&D!==void 0?D:new Be,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new se,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,D=g.src,Q=g.buffer,de=g.riveFile,Ce=g.animations,Qe=g.stateMachines,nt=g.artboard,He=g.autoplay,We=He===void 0?!1:He,tn=g.useOffscreenRenderer,On=tn===void 0?!1:tn,mn=g.autoBind,Fn=mn===void 0?!1:mn;if(!this.destroyed){if(this.src=D,this.buffer=Q,this.riveFile=de,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(R.missingErrorMessage);var $n=Rn(Ce),zt=Rn(Qe);this.loaded=!1,this.readyForPlaying=!1,Je.awaitInstance().then(function(Dn){v.destroyed||(v.runtime=Dn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,On),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(nt,$n,zt,We,Fn).then(function(Nn){if(Nn)return v.setupRiveListeners()}).catch(function(Nn){console.error(Nn)}))}).catch(function(Dn){console.error(Dn)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var D=(this.animator.stateMachines||[]).filter(function(Qe){return Qe.playing&&v.runtime.hasListeners(Qe.instance)}).map(function(Qe){return Qe.instance}),Q=this.isTouchScrollEnabled,de=this.dispatchPointerExit,Ce=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(Q=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:D,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:Q,dispatchPointerExit:de,enableMultiTouch:Ce,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;he.status==ee.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,D,Q,de){return H(this,void 0,void 0,function(){var Ce,Qe,nt,He;return te(this,function(We){switch(We.label){case 0:return We.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ce=new _e({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ce,[4,Ce.init()]);case 1:if(We.sent(),this.destroyed)return Ce.destroyIfUnused(),[2,!1];We.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,D,Q,de),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(He=this.src)!==null&&He!==void 0?He:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Qe=We.sent(),nt=Te(Qe),console.warn(nt),this.eventManager.fire({type:I.LoadError,data:nt}),[2,Promise.reject(nt)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,D,Q,de){if(this.file){var Ce=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ce){var Qe="Invalid artboard name or no default artboard";console.warn(Qe),this.eventManager.fire({type:I.LoadError,data:Qe});return}this.artboard=Ce,Ce.volume=this._volume*he.systemVolume,this.animator=new k(this.runtime,this.artboard,this.eventManager);var nt;if(v.length>0||D.length>0?(nt=v.concat(D),this.animator.initLinearAnimations(v,Q),this.animator.initStateMachines(D,Q)):nt=[this.animator.atLeastOne(Q,!1)],this.taskQueue.add({event:{type:Q?I.Play:I.Pause,data:nt}}),de){var He=this.file.defaultArtboardViewModel(Ce);if(He!==null){var We=He.defaultInstance();if(We!==null){var tn=new bt(We,null);(0,E.createFinalization)(tn,tn.runtimeInstance),this.bindViewModelInstance(tn)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var D;this.frameRequestId=null;var Q=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var de=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ce=this.animator.animations.filter(function(Pi){return Pi.playing||Pi.needsScrub}).sort(function(Pi){return Pi.needsScrub?-1:1}),Qe=0,nt=Ce;Qe<nt.length;Qe++){var He=nt[Qe];He.advance(de),He.instance.didLoop&&(He.loopCount+=1),He.apply(1)}for(var We=this.animator.stateMachines.filter(function(Pi){return Pi.playing}),tn=0,On=We;tn<On.length;tn++){var mn=On[tn],Fn=mn.reportedEventCount();if(Fn)for(var $n=0;$n<Fn;$n++){var zt=mn.reportedEventAt($n);if(zt)if(zt.type===F.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:zt}),this.automaticallyHandleEvents){var Dn=document.createElement("a"),Nn=zt,Yn=Nn.url,Xi=Nn.target,gt=(0,E.sanitizeUrl)(Yn);Yn&&Dn.setAttribute("href",gt),Xi&&Dn.setAttribute("target",Xi),gt&&gt!==E.BLANK_URL&&Dn.click()}}else this.eventManager.fire({type:I.RiveEvent,data:zt})}mn.advanceAndApply(de)}this.animator.stateMachines.length==0&&this.artboard.advance(de);var Xn=this.renderer;Xn.clear(),Xn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Xn),Xn.restore(),Xn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(de),this.frameCount++;var St=performance.now();for(this.frameTimes.push(St),this.durations.push(St-Q);this.frameTimes[0]<=St-1e3;)this.frameTimes.shift(),this.durations.shift();(D=this._viewModelInstance)===null||D===void 0||D.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,D=g.runtime,Q=g._layout,de=g.artboard;v.align(Q.runtimeFit(D),Q.runtimeAlignment(D),{minX:Q.minX,minY:Q.minY,maxX:Q.maxX,maxY:Q.maxY},de.bounds,this._devicePixelRatioUsed*Q.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&ve.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var D=this.artboard.textRun(g);if(!D){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return D},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var D=this.retrieveTextRun(g);D&&(D.text=v)},R.prototype.play=function(g,v){var D=this;if(g=Rn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=Rn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var D=this;if(g=Rn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return D.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=Rn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,D,Q=g?.artboard,de=Rn(g?.animations),Ce=Rn(g?.stateMachines),Qe=(v=g?.autoplay)!==null&&v!==void 0?v:!1,nt=(D=g?.autoBind)!==null&&D!==void 0?D:!1;this.cleanupInstances(),this.initArtboard(Q,de,Ce,Qe,nt),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),D=v.width,Q=v.height,de=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=de,this.canvas.width=de*D,this.canvas.height=de*Q,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Ce=this._layout.layoutScaleFactor;this.artboard.width=D/Ce,this.artboard.height=Q/Ce}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(D){return D.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.inputByPath(g,v);if(!D){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.setBooleanStateAtPath=function(g,v,D){var Q=this.retrieveInputAtPath(g,D);Q&&(Q.type===tt.Boolean?Q.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,D){var Q=this.retrieveInputAtPath(g,D);Q&&(Q.type===tt.Number?Q.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(D,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var D=this.retrieveInputAtPath(g,v);D&&(D.type===tt.Trigger?D.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var D=this.artboard.textByPath(g,v);if(!D){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D},R.prototype.getTextRunValueAtPath=function(g,v){var D=this.retrieveTextAtPath(g,v);if(!D){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return D.text},R.prototype.setTextRunValueAtPath=function(g,v,D){var Q=this.retrieveTextAtPath(g,D);if(!Q){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(D,"'"));return}Q.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var D=this.file.artboardByIndex(v),Q={name:D.name,animations:[],stateMachines:[]},de=0;de<D.animationCount();de++){var Ce=D.animationByIndex(de);Q.animations.push(Ce.name)}for(var Qe=0;Qe<D.stateMachineCount();Qe++){for(var nt=D.stateMachineByIndex(Qe),He=nt.name,We=new this.runtime.StateMachineInstance(nt,D),tn=[],On=0;On<We.inputCount();On++){var mn=We.input(On);tn.push({name:mn.name,type:mn.type})}Q.stateMachines.push({name:He,inputs:tn})}g.artboards.push(Q)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(D){return D.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Ge(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Ge(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new ot(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Ge(g)}return null},R.prototype.getArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getBindableArtboard=function(g){var v,D;return(D=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&D!==void 0?D:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Ge=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var D=new bt(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var D=new bt(v,null);return(0,E.createFinalization)(D,v),D}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new bt(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new bt(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),ot=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ht;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ht||(ht={}));var bt=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var D=this._parents[v];D.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(D){D.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(D){return D!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(D){D.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var D=g.split("/");return this.propertyFromPathSegments(D,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var D=this.internalViewModelInstance(g[v]);return D!==null?v==g.length-1?D:D.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,D){var Q,de,Ce,Qe,nt,He,We,tn,On,mn,Fn,$n,zt,Dn,Nn,Yn,Xi,gt;if(v<g.length-1){var Xn=this.internalViewModelInstance(g[v]);return Xn!==null?Xn.propertyFromPathSegments(g,v+1,D):null}var St=null;switch(D){case ht.Number:if(St=(de=(Q=this._runtimeInstance)===null||Q===void 0?void 0:Q.number(g[v]))!==null&&de!==void 0?de:null,St!==null)return new ct(St,this);break;case ht.String:if(St=(Qe=(Ce=this._runtimeInstance)===null||Ce===void 0?void 0:Ce.string(g[v]))!==null&&Qe!==void 0?Qe:null,St!==null)return new cn(St,this);break;case ht.Boolean:if(St=(He=(nt=this._runtimeInstance)===null||nt===void 0?void 0:nt.boolean(g[v]))!==null&&He!==void 0?He:null,St!==null)return new At(St,this);break;case ht.Color:if(St=(tn=(We=this._runtimeInstance)===null||We===void 0?void 0:We.color(g[v]))!==null&&tn!==void 0?tn:null,St!==null)return new ei(St,this);break;case ht.Trigger:if(St=(mn=(On=this._runtimeInstance)===null||On===void 0?void 0:On.trigger(g[v]))!==null&&mn!==void 0?mn:null,St!==null)return new vt(St,this);break;case ht.Enum:if(St=($n=(Fn=this._runtimeInstance)===null||Fn===void 0?void 0:Fn.enum(g[v]))!==null&&$n!==void 0?$n:null,St!==null)return new Ut(St,this);break;case ht.List:if(St=(Dn=(zt=this._runtimeInstance)===null||zt===void 0?void 0:zt.list(g[v]))!==null&&Dn!==void 0?Dn:null,St!==null)return new qn(St,this);break;case ht.Image:if(St=(Yn=(Nn=this._runtimeInstance)===null||Nn===void 0?void 0:Nn.image(g[v]))!==null&&Yn!==void 0?Yn:null,St!==null)return new Yt(St,this);break;case ht.Artboard:if(St=(gt=(Xi=this._runtimeInstance)===null||Xi===void 0?void 0:Xi.artboard(g[v]))!==null&&gt!==void 0?gt:null,St!==null)return new Ze(St,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var D=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(D!==null){var Q=new R(D,this);return(0,E.createFinalization)(Q,D),Q.internalIncrementReferenceCount(),this._viewModelInstances.set(g,Q),Q}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ht.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ht.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ht.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ht.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ht.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ht.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ht.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ht.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ht.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),D=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return D!=null?D.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var D;if(v.runtimeInstance!==null){var Q=((D=this._runtimeInstance)===null||D===void 0?void 0:D.replaceViewModel(g,v.runtimeInstance))||!1;if(Q){v.internalIncrementReferenceCount();var de=this.internalViewModelInstance(g);de!==null&&(de.removeParent(this),this._children.includes(de)&&(this._children=this._children.filter(function(Ce){return Ce!==de})),de.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return Q}return!1},R.prototype.replaceViewModel=function(g,v){var D,Q=g.split("/"),de=Q.length>1?this.viewModelFromPathSegments(Q.slice(0,Q.length-1),0):this;return(D=de?.internalReplaceViewModel(Q[Q.length-1],v))!==null&&D!==void 0?D:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return U({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(de){de.cleanup()}),this._viewModelInstances.clear();var D=B([],this._children,!0);this._children.length=0;var Q=B([],this._parents,!0);this._parents.length=0,D.forEach(function(de){de.removeParent(g)}),Q.forEach(function(de){de.removeFromViewModelCallbacks(g)})}},R})(),Ot=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),cn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),ct=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),At=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),vt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Ot),Ut=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),qn=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,D){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,D)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var D=this._viewModelInstanceValue.instanceAt(v);if(D!=null){var Q=new bt(D,this._parentViewModel);return(0,E.createFinalization)(Q,D),Q}return null},g.prototype.swap=function(v,D){this._viewModelInstanceValue.swap(v,D)},g.prototype.internalHandleCallback=function(v){v()},g})(Ot),ei=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,D,Q){this._viewModelInstanceValue.rgb(v,D,Q)},g.prototype.rgba=function(v,D,Q,de){this._viewModelInstanceValue.argb(de,v,D,Q)},g.prototype.argb=function(v,D,Q,de){this._viewModelInstanceValue.argb(v,D,Q,de)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Ot),Yt=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D;this._viewModelInstanceValue.value((D=v?.nativeImage)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Ot),Ze=(function(R){x(g,R);function g(v,D){return R.call(this,v,D)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var D,Q;v.isBindableArtboard?Q=v:Q=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((D=Q?.nativeArtboard)!==null&&D!==void 0?D:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Ot),en=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=Q.sent(),[4,v.arrayBuffer()];case 2:return D=Q.sent(),[2,D]}})})},Rn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Br={EventManager:se,TaskQueueManager:q},Gn=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Promise(function(de){return Je.getInstance(function(Ce){Ce.decodeAudio(R,de)})}),[4,g];case 1:return v=Q.sent(),D=new E.AudioWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},kt=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Promise(function(de){return Je.getInstance(function(Ce){Ce.decodeImage(R,de)})}),[4,g];case 1:return v=Q.sent(),D=new E.ImageWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})},En=function(R){return H(void 0,void 0,void 0,function(){var g,v,D;return te(this,function(Q){switch(Q.label){case 0:return g=new Promise(function(de){return Je.getInstance(function(Ce){Ce.decodeFont(R,de)})}),[4,g];case 1:return v=Q.sent(),D=new E.FontWrapper(v),E.finalizationRegistry.register(D,v),[2,D]}})})}})(),c})())})(Eh)),Eh.exports}var s_;function AT(){return s_||(s_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=ef(),i=TT();function a(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=a(e),c=function(){return c=Object.assign||function(C){for(var k,I=1,K=arguments.length;I<K;I++)for(var se in k=arguments[I])Object.prototype.hasOwnProperty.call(k,se)&&(C[se]=k[se]);return C},c.apply(this,arguments)};function p(C,k){var I={};for(var K in C)Object.prototype.hasOwnProperty.call(C,K)&&k.indexOf(K)<0&&(I[K]=C[K]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var se=0;for(K=Object.getOwnPropertySymbols(C);se<K.length;se++)k.indexOf(K[se])<0&&Object.prototype.propertyIsEnumerable.call(C,K[se])&&(I[K[se]]=C[K[se]])}return I}function b(C,k,I,K){return new(I||(I=Promise))(function(se,q){function ee(Ie){try{he(K.next(Ie))}catch(P){q(P)}}function ye(Ie){try{he(K.throw(Ie))}catch(P){q(P)}}function he(Ie){var P;Ie.done?se(Ie.value):(P=Ie.value,P instanceof I?P:new I(function(ne){ne(P)})).then(ee,ye)}he((K=K.apply(C,[])).next())})}function w(C,k){var I,K,se,q,ee={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return q={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ye(he){return function(Ie){return(function(P){if(I)throw new TypeError("Generator is already executing.");for(;ee;)try{if(I=1,K&&(se=2&P[0]?K.return:P[0]?K.throw||((se=K.return)&&se.call(K),0):K.next)&&!(se=se.call(K,P[1])).done)return se;switch(K=0,se&&(P=[2&P[0],se.value]),P[0]){case 0:case 1:se=P;break;case 4:return ee.label++,{value:P[1],done:!1};case 5:ee.label++,K=P[1],P=[0];continue;case 7:P=ee.ops.pop(),ee.trys.pop();continue;default:if(se=ee.trys,!((se=se.length>0&&se[se.length-1])||P[0]!==6&&P[0]!==2)){ee=0;continue}if(P[0]===3&&(!se||P[1]>se[0]&&P[1]<se[3])){ee.label=P[1];break}if(P[0]===6&&ee.label<se[1]){ee.label=se[1],se=P;break}if(se&&ee.label<se[2]){ee.label=se[2],ee.ops.push(P);break}se[2]&&ee.ops.pop(),ee.trys.pop();continue}P=k.call(C,ee)}catch(ne){P=[6,ne],K=0}finally{I=se=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([he,Ie])}}}function E(C){var k=C||x(),I=e.useState(k),K=I[0],se=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var q=function(){var ye=C||x();se(ye)},ee=window.matchMedia("screen and (resolution: ".concat(K,"dppx)"));return ee.hasOwnProperty("addEventListener")?ee.addEventListener("change",q):ee.addListener(q),function(){ee.hasOwnProperty("removeEventListener")?ee.removeEventListener("change",q):ee.removeListener(q)}}},[K,C]),K}function x(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var U=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),H=globalThis.ResizeObserver||U,te=globalThis.ResizeObserver!==void 0,B=!te;function Oe(C,k){k===void 0&&(k=!0);var I=e.useState({width:0,height:0}),K=I[0],se=I[1];e.useEffect(function(){if(typeof window<"u"&&k){var Ie=function(){se({width:window.innerWidth,height:window.innerHeight})};return B&&(Ie(),window.addEventListener("resize",Ie)),function(){return window.removeEventListener("resize",Ie)}}},[]);var q,ee,ye,he=e.useRef(new H((q=function(Ie){te&&se({width:Ie[Ie.length-1].contentRect.width,height:Ie[Ie.length-1].contentRect.height})},ee=0,ye=0,function(){for(var Ie=this,P=[],ne=0;ne<arguments.length;ne++)P[ne]=arguments[ne];clearTimeout(ye),ye=window.setTimeout(function(){return q.apply(Ie,P)},ee)})));return e.useEffect(function(){var Ie=he.current;if(k){var P=C.current;return C.current&&te&&Ie.observe(C.current),function(){Ie.disconnect(),P&&te&&Ie.unobserve(P)}}Ie.disconnect()},[C,he]),K}var Te={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(C){return Object.assign({},Te,C)}function je(C){var k=C.riveLoaded,I=k!==void 0&&k,K=C.canvasElem,se=C.containerRef,q=C.options,ee=q===void 0?{}:q,ye=C.onCanvasHasResized,he=C.artboardBounds,Ie=Le(ee),P=e.useState({height:0,width:0}),ne=P[0],ve=ne.height,_e=ne.width,Re=P[1],Ge=e.useState({height:0,width:0}),ot=Ge[0],ht=ot.height,bt=ot.width,Ot=Ge[1],cn=e.useState(!0),ct=cn[0],At=cn[1],vt=Ie.fitCanvasToArtboardHeight,Ut=Ie.shouldResizeCanvasToContainer,qn=Ie.useDevicePixelRatio,ei=Ie.customDevicePixelRatio,Yt=Oe(se,Ut),Ze=E(ei),en=he??{},Rn=en.maxX,Br=en.maxY,Gn=e.useCallback(function(){var kt,En,R,g,v=(En=(kt=se.current)===null||kt===void 0?void 0:kt.clientWidth)!==null&&En!==void 0?En:0,D=(g=(R=se.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return vt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:D}},[se,vt,Rn,Br]);e.useEffect(function(){if(Ut&&se.current&&I){var kt=Gn(),En=kt.width,R=kt.height,g=!1;if(K){var v=En!==_e||R!==ve;if(Ie.fitCanvasToArtboardHeight&&v&&(se.current.style.height=R+"px",g=!0),Ie.useDevicePixelRatio){if(v||En*Ze!==bt||R*Ze!==ht){var D=Ze*En,Q=Ze*R;K.width=D,K.height=Q,K.style.width=En+"px",K.style.height=R+"px",Ot({width:D,height:Q}),g=!0}}else v&&(K.width=En,K.height=R,Ot({width:En,height:R}),g=!0);Re({width:En,height:R})}ye&&(ct||g)&&ye&&ye(),ct&&At(!1)}},[K,se,Yt,Ze,Gn,ct,At,ht,bt,ve,_e,ye,Ut,vt,qn,I]),e.useEffect(function(){Ot({width:0,height:0})},[K])}var Be,Je=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),tt=globalThis.IntersectionObserver||Je,at=(function(){function C(){var k=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(K){var se=k.elementsMap.get(K.target);se&&se(K)})},this.observer=new tt(this.onObserved)}return C.prototype.registerCallback=function(k,I){this.observer.observe(k),this.elementsMap.set(k,I)},C.prototype.removeCallback=function(k){this.observer.unobserve(k),this.elementsMap.delete(k)},C})(),F=function(){return Be||(Be=new at),Be};function z(C){var k=C.setContainerRef,I=C.setCanvasRef,K=C.className,se=K===void 0?"":K,q=C.style,ee=C.children,ye=p(C,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},q);return l.default.createElement("div",c({ref:k,className:se},!se&&{style:he}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ye),ee))}function V(C,k){k===void 0&&(k={});var I=e.useState(null),K=I[0],se=I[1],q=e.useRef(null),ee=e.useRef(null),ye=e.useState(null),he=ye[0],Ie=ye[1],P=!!C,ne=Le(k),ve=E(),_e=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&K){var ct=ve*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=ve,he.artboardWidth=K?.width/ct,he.artboardHeight=K?.height/ct}he.startRendering(),he.resizeToCanvas()}},[he,ve]);je({riveLoaded:!!he,canvasElem:K,containerRef:q,options:ne,onCanvasHasResized:_e,artboardBounds:he?.bounds});var Re=e.useCallback(function(ct){ct===null&&K&&(K.height=0,K.width=0),se(ct)},[]);e.useEffect(function(){if(K&&C){var ct,At=he!=null;if(he==null){var vt=ne.useOffscreenRenderer,Ut=C.onRiveReady,qn=p(C,["onRiveReady"]);ct=new i.Rive(c(c({useOffscreenRenderer:vt},qn),{canvas:K})),ee.current!=null&&ee.current.cleanup(),ee.current=ct,ct.on(i.EventType.Load,function(){At=!0,Ut&&Ut(ct),K?Ie(ct):ct.cleanup()})}return function(){At||ct==null||ct.cleanup()}}},[K,P,he]);var Ge=e.useCallback(function(ct){q.current=ct},[]),ot={observe:e.useCallback(function(ct,At){F().registerCallback(ct,At)},[]),unobserve:e.useCallback(function(ct){F().removeCallback(ct)},[])},ht=ot.observe,bt=ot.unobserve;e.useEffect(function(){var ct,At=!1,vt=function(){if(K&&At){var Ut=K.getBoundingClientRect();Ut.width>0&&Ut.height>0&&Ut.top<(window.innerHeight||document.documentElement.clientHeight)&&Ut.bottom>0&&Ut.left<(window.innerWidth||document.documentElement.clientWidth)&&Ut.right>0&&(he?.startRendering(),At=!1)}};return K&&ne.shouldUseIntersectionObserver!==!1&&ht(K,function(Ut){Ut.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),At=!Ut.isIntersecting,clearTimeout(ct),Ut.isIntersecting||Ut.boundingClientRect.width!==0||(ct=setTimeout(vt,10))}),function(){K&&bt(K)}},[ht,bt,he,K,ne.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Ie(null))}},[he,K]),e.useEffect(function(){return function(){ee.current!=null&&ee.current.cleanup()}},[]);var Ot=C?.animations;e.useEffect(function(){he&&Ot&&(he.isPlaying?(he.stop(he.animationNames),he.play(Ot)):he.isPaused&&(he.stop(he.animationNames),he.pause(Ot)))},[Ot,he]);var cn=e.useCallback(function(ct){return l.default.createElement(z,c({setContainerRef:Ge,setCanvasRef:Re},ct))},[Re,Ge]);return{canvas:K,container:q.current,setCanvasRef:Re,setContainerRef:Ge,rive:he,RiveComponent:cn}}function L(C,k,I){var K=e.useState(null),se=K[0],q=K[1],ee=e.useState(I.defaultValue),ye=ee[0],he=ee[1],Ie=e.useState(null),P=Ie[0],ne=Ie[1],ve=e.useRef(null),_e=e.useRef(C),Re=e.useRef(I);e.useEffect(function(){Re.current=I},[I]);var Ge=e.useCallback(function(){var Ot=ve.current,cn=_e.current,ct=Re.current;if(!Ot||!cn)return q(null),he(ct.defaultValue),ne(null),function(){};var At=ct.getProperty(Ot,cn);if(At){q(At),he(ct.getValue(At)),ct.getExtendedData&&ne(ct.getExtendedData(At));var vt=function(){he(ct.getValue(At)),ct.getExtendedData&&ne(ct.getExtendedData(At)),ct.onPropertyEvent&&ct.onPropertyEvent()};return At.on(vt),function(){At.off(vt)}}return function(){}},[]);e.useEffect(function(){return ve.current=k,_e.current=C,Ge()},[k,C,Ge]);var ot=e.useCallback(function(Ot){if(se&&ve.current===k)try{return Ot(se),void(Re.current.getExtendedData&&ne(Re.current.getExtendedData(se)))}catch{}if(ve.current)try{var cn=Re.current.getProperty(ve.current,_e.current);cn&&(q(cn),Ot(cn),Re.current.getExtendedData&&ne(Re.current.getExtendedData(cn)))}catch{}},[se,k]),ht=e.useMemo(function(){return Re.current.buildPropertyOperations(ot)},[ot]),bt=c({value:ye},ht);return I.getExtendedData&&(bt.extendedData=P),bt}r.default=function(C){var k=C.src,I=C.artboard,K=C.animations,se=C.stateMachines,q=C.layout,ee=C.useOffscreenRenderer,ye=ee===void 0||ee,he=C.shouldDisableRiveListeners,Ie=he!==void 0&&he,P=C.shouldResizeCanvasToContainer,ne=P===void 0||P,ve=C.automaticallyHandleEvents,_e=ve!==void 0&&ve,Re=C.children,Ge=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),ot=V({src:k,artboard:I,animations:K,layout:q,stateMachines:se,autoplay:!0,shouldDisableRiveListeners:Ie,automaticallyHandleEvents:_e},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:ne}).RiveComponent;return l.default.createElement(ot,c({},Ge),Re)},r.useResizeCanvas=je,r.useRive=V,r.useRiveFile=function(C){var k=this,I=e.useState(null),K=I[0],se=I[1],q=e.useState("idle"),ee=q[0],ye=q[1];return e.useEffect(function(){var he=null;return b(k,void 0,void 0,function(){return w(this,function(Ie){try{ye("loading"),(he=new i.RiveFile(C)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),se(he),ye("success")}),he.on(i.EventType.LoadError,function(){ye("failed")}),se(he)}catch(P){console.error(P),ye("failed")}return[2]})}),function(){he?.cleanup()}},[C.src,C.buffer]),{riveFile:K,status:ee}},r.useStateMachineInput=function(C,k,I,K){var se=e.useState(null),q=se[0],ee=se[1];return e.useEffect(function(){function ye(){if(C&&k&&I||ee(null),C&&k&&I){var he=C.stateMachineInputs(k);if(he){var Ie=he.find(function(P){return P.name===I});K!==void 0&&Ie&&(Ie.value=K),ee(Ie||null)}}else ee(null)}ye(),C&&C.on(i.EventType.Load,function(){ye()})},[C]),q},r.useViewModel=function(C,k){var I=k??{},K=I.name,se=I.useDefault,q=se!==void 0&&se,ee=e.useState(null),ye=ee[0],he=ee[1];return e.useEffect(function(){function Ie(){var P;if(C){var ne=null;ne=K!=null?((P=C.viewModelByName)===null||P===void 0?void 0:P.call(C,K))||null:C.defaultViewModel()||null,he(ne)}else he(null)}return Ie(),C&&C.on(i.EventType.Load,Ie),function(){C&&C.off(i.EventType.Load,Ie)}},[C,K,q]),ye},r.useViewModelInstance=function(C,k){var I=k??{},K=I.name,se=I.useDefault,q=se!==void 0&&se,ee=I.useNew,ye=ee!==void 0&&ee,he=I.rive,Ie=e.useState(null),P=Ie[0],ne=Ie[1];return e.useEffect(function(){var ve,_e,Re;if(C){var Ge=null;Ge=K!=null?C.instanceByName(K)||null:q?((ve=C.defaultInstance)===null||ve===void 0?void 0:ve.call(C))||null:ye?((_e=C.instance)===null||_e===void 0?void 0:_e.call(C))||null:((Re=C.defaultInstance)===null||Re===void 0?void 0:Re.call(C))||null,ne(Ge),he&&Ge&&he.viewModelInstance!==Ge&&he.bindViewModelInstance(Ge)}else ne(null)},[C,K,q,ye,he]),P},r.useViewModelInstanceArtboard=function(C,k){return{setValue:L(C,k,{getProperty:e.useCallback(function(I,K){return I.artboard(K)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(K){I(function(se){se.value=K})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(C,k){var I=L(C,k,{getProperty:e.useCallback(function(K,se){return K.boolean(se)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(se){K(function(q){q.value=se})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceColor=function(C,k){var I=L(C,k,{getProperty:e.useCallback(function(K,se){return K.color(se)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(se){K(function(q){q.value=se})},setRgb:function(se,q,ee){K(function(ye){ye.rgb(se,q,ee)})},setRgba:function(se,q,ee,ye){K(function(he){he.rgba(se,q,ee,ye)})},setAlpha:function(se){K(function(q){q.alpha(se)})},setOpacity:function(se){K(function(q){q.opacity(se)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},r.useViewModelInstanceEnum=function(C,k){var I=L(C,k,{getProperty:e.useCallback(function(K,se){return K.enum(se)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(K){return K.values},[]),buildPropertyOperations:e.useCallback(function(K){return{setValue:function(se){K(function(q){q.value=se})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},r.useViewModelInstanceImage=function(C,k){return{setValue:L(C,k,{getProperty:e.useCallback(function(I,K){return I.image(K)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(K){I(function(se){se.value=K})}}},[])}).setValue}},r.useViewModelInstanceList=function(C,k){var I,K=e.useState(0)[1],se=L(C,k,{getProperty:e.useCallback(function(q,ee){return q.list(ee)},[]),getValue:e.useCallback(function(q){return q.length},[]),defaultValue:null,onPropertyEvent:function(){K(function(q){return q+1})},buildPropertyOperations:e.useCallback(function(q){return{addInstance:function(ee){q(function(ye){return ye.addInstance(ee)})},addInstanceAt:function(ee,ye){var he=!1;return q(function(Ie){he=Ie.addInstanceAt(ee,ye)}),he},removeInstance:function(ee){q(function(ye){return ye.removeInstance(ee)})},removeInstanceAt:function(ee){q(function(ye){return ye.removeInstanceAt(ee)})},getInstanceAt:function(ee){var ye=null;return q(function(he){ye=he.instanceAt(ee)}),ye},swap:function(ee,ye){q(function(he){return he.swap(ee,ye)})}}},[])});return{length:(I=se.value)!==null&&I!==void 0?I:0,addInstance:se.addInstance,addInstanceAt:se.addInstanceAt,removeInstance:se.removeInstance,removeInstanceAt:se.removeInstanceAt,getInstanceAt:se.getInstanceAt,swap:se.swap}},r.useViewModelInstanceNumber=function(C,k){var I=L(C,k,{getProperty:e.useCallback(function(K,se){return K.number(se)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(se){K(function(q){q.value=se})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceString=function(C,k){var I=L(C,k,{getProperty:e.useCallback(function(K,se){return K.string(se)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(se){K(function(q){q.value=se})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceTrigger=function(C,k,I){var K=(I??{}).onTrigger;return{trigger:L(C,k,{getProperty:e.useCallback(function(se,q){return se.trigger(q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:K,buildPropertyOperations:e.useCallback(function(se){return{trigger:function(){se(function(q){q.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||r.hasOwnProperty(C)||Object.defineProperty(r,C,{enumerable:!0,get:function(){return i[C]}})})})(mm)),mm}var oo=AT();const ST=()=>{};var o_={};const H0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},RT=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(w>>10)),e[a++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,x=c>>2,U=(c&3)<<4|b>>4;let H=(b&15)<<2|E>>6,te=E&63;w||(te=64,p||(H=64)),a.push(i[x],i[U],i[H],i[te])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(H0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const U=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||U==null)throw new CT;const H=c<<2|b>>4;if(a.push(H),E!==64){const te=b<<4&240|E>>2;if(a.push(te),U!==64){const B=E<<6&192|U;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IT=function(r){const e=H0(r);return q0.encodeByteArray(e,!0)},Nh=function(r){return IT(r).replace(/\./g,"")},G0=function(r){try{return q0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MT=()=>xT().__FIREBASE_DEFAULTS__,OT=()=>{if(typeof process>"u"||typeof o_>"u")return;const r=o_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&G0(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return ST()||MT()||OT()||DT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y0=r=>tf()?.emulatorHosts?.[r],NT=r=>{const e=Y0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},X0=()=>tf()?.config,Q0=r=>tf()?.[`_${r}`];class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(r){return(await fetch(r,{credentials:"include"})).ok}function kT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Nh(JSON.stringify(i)),Nh(JSON.stringify(p)),""].join(".")}const Fu={};function PT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function LT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let l_=!1;function K0(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Fu[r]===e||Fu[r]||l_)return;Fu[r]=e;function i(H){return`__firebase__banner__${H}`}const a="__firebase__banner",c=PT().prod.length>0;function p(){const H=document.getElementById(a);H&&H.remove()}function b(H){H.style.display="flex",H.style.background="#7faaf0",H.style.position="fixed",H.style.bottom="5px",H.style.left="5px",H.style.padding=".5em",H.style.borderRadius="5px",H.style.alignItems="center"}function w(H,te){H.setAttribute("width","24"),H.setAttribute("id",te),H.setAttribute("height","24"),H.setAttribute("viewBox","0 0 24 24"),H.setAttribute("fill","none"),H.style.marginLeft="-6px"}function E(){const H=document.createElement("span");return H.style.cursor="pointer",H.style.marginLeft="16px",H.style.fontSize="24px",H.innerHTML=" &times;",H.onclick=()=>{l_=!0,p()},H}function x(H,te){H.setAttribute("id",te),H.innerText="Learn more",H.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",H.setAttribute("target","__blank"),H.style.paddingLeft="5px",H.style.textDecoration="underline"}function U(){const H=LT(a),te=i("text"),B=document.getElementById(te)||document.createElement("span"),Oe=i("learnmore"),Te=document.getElementById(Oe)||document.createElement("a"),Le=i("preprendIcon"),je=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(H.created){const Be=H.element;b(Be),x(Te,Oe);const Je=E();w(je,Le),Be.append(je,B,Te,Je),document.body.appendChild(Be)}c?(B.innerText="Preview backend disconnected.",je.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(je.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",U):U()}function Yi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yi())}function jT(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HT(){const r=Yi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qT(){return!jT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const XT="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=XT,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?QT(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ts(l,b,a)}}function QT(r,e){return r.replace(WT,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const WT=/\{\$([^}]+)}/g;function KT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fo(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],p=e[l];if(u_(c)&&u_(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function u_(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $T(r,e){const i=new JT(r,e);return i.subscribe.bind(i)}class JT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ZT(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=pm),l.error===void 0&&(l.error=pm),l.complete===void 0&&(l.complete=pm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZT(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function pm(){}function Tr(r){return r&&r._delegate?r._delegate:r}class Ho{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Uo="[DEFAULT]";class eA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new VT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nA(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(r){return r===Uo?void 0:r}function nA(r){return r.instantiationMode==="EAGER"}class iA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var $t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($t||($t={}));const rA={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},aA=$t.INFO,sA={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},oA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=sA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=aA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const lA=(r,e)=>e.some(i=>r instanceof i);let c_,h_;function uA(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cA(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,Mm=new WeakMap,J0=new WeakMap,gm=new WeakMap,ip=new WeakMap;function hA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(uo(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&$0.set(i,r)}).catch(()=>{}),ip.set(e,r),e}function fA(r){if(Mm.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Mm.set(r,e)}let Om={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Mm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||J0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return uo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dA(r){Om=r(Om)}function mA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(ym(this),e,...i);return J0.set(a,e.sort?e.sort():[e]),uo(a)}:cA().includes(r)?function(...e){return r.apply(ym(this),e),uo($0.get(this))}:function(...e){return uo(r.apply(ym(this),e))}}function pA(r){return typeof r=="function"?mA(r):(r instanceof IDBTransaction&&fA(r),lA(r,uA())?new Proxy(r,Om):r)}function uo(r){if(r instanceof IDBRequest)return hA(r);if(gm.has(r))return gm.get(r);const e=pA(r);return e!==r&&(gm.set(r,e),ip.set(e,r)),e}const ym=r=>ip.get(r);function gA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=uo(p);return a&&p.addEventListener("upgradeneeded",w=>{a(uo(p.result),w.oldVersion,w.newVersion,uo(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const yA=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],vm=new Map;function f_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=vA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||yA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return a&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return vm.set(e,c),c}dA(r=>({...r,get:(e,i,a)=>f_(e,i)||r.get(e,i,a),has:(e,i)=>!!f_(e,i)||r.has(e,i)}));class _A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bA(r){return r.getComponent()?.type==="VERSION"}const Dm="@firebase/app",d_="0.14.6";const ys=new np("@firebase/app"),wA="@firebase/app-compat",EA="@firebase/analytics-compat",TA="@firebase/analytics",AA="@firebase/app-check-compat",SA="@firebase/app-check",RA="@firebase/auth",CA="@firebase/auth-compat",IA="@firebase/database",xA="@firebase/data-connect",MA="@firebase/database-compat",OA="@firebase/functions",DA="@firebase/functions-compat",NA="@firebase/installations",VA="@firebase/installations-compat",kA="@firebase/messaging",PA="@firebase/messaging-compat",LA="@firebase/performance",UA="@firebase/performance-compat",jA="@firebase/remote-config",zA="@firebase/remote-config-compat",BA="@firebase/storage",FA="@firebase/storage-compat",HA="@firebase/firestore",qA="@firebase/ai",GA="@firebase/firestore-compat",YA="firebase",XA="12.6.0";const Nm="[DEFAULT]",QA={[Dm]:"fire-core",[wA]:"fire-core-compat",[TA]:"fire-analytics",[EA]:"fire-analytics-compat",[SA]:"fire-app-check",[AA]:"fire-app-check-compat",[RA]:"fire-auth",[CA]:"fire-auth-compat",[IA]:"fire-rtdb",[xA]:"fire-data-connect",[MA]:"fire-rtdb-compat",[OA]:"fire-fn",[DA]:"fire-fn-compat",[NA]:"fire-iid",[VA]:"fire-iid-compat",[kA]:"fire-fcm",[PA]:"fire-fcm-compat",[LA]:"fire-perf",[UA]:"fire-perf-compat",[jA]:"fire-rc",[zA]:"fire-rc-compat",[BA]:"fire-gcs",[FA]:"fire-gcs-compat",[HA]:"fire-fst",[GA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};const Vh=new Map,WA=new Map,Vm=new Map;function m_(r,e){try{r.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(Vm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const i of Vh.values())m_(i,r);for(const i of WA.values())m_(i,r);return!0}function rp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ia(r){return r==null?!1:r.settings!==void 0}const KA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new ic("app","Firebase",KA);class $A{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const Xl=XA;function Z0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Nm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw co.create("bad-app-name",{appName:String(l)});if(i||(i=X0()),!i)throw co.create("no-options");const c=Vh.get(l);if(c){if(Fo(i,c.options)&&Fo(a,c.config))return c;throw co.create("duplicate-app",{appName:l})}const p=new iA(l);for(const w of Vm.values())p.addComponent(w);const b=new $A(i,a,p);return Vh.set(l,b),b}function eb(r=Nm){const e=Vh.get(r);if(!e&&r===Nm&&X0())return Z0();if(!e)throw co.create("no-app",{appName:r});return e}function ho(r,e,i){let a=QA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(p.join(" "));return}jl(new Ho(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const JA="firebase-heartbeat-database",ZA=1,Wu="firebase-heartbeat-store";let _m=null;function tb(){return _m||(_m=gA(JA,ZA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wu)}catch(i){console.warn(i)}}}}).catch(r=>{throw co.create("idb-open",{originalErrorMessage:r.message})})),_m}async function eS(r){try{const i=(await tb()).transaction(Wu),a=await i.objectStore(Wu).get(nb(r));return await i.done,a}catch(e){if(e instanceof Ts)ys.warn(e.message);else{const i=co.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function p_(r,e){try{const a=(await tb()).transaction(Wu,"readwrite");await a.objectStore(Wu).put(e,nb(r)),await a.done}catch(i){if(i instanceof Ts)ys.warn(i.message);else{const a=co.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function nb(r){return`${r.name}!${r.options.appId}`}const tS=1024,nS=30;class iS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nS){const l=sS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g_(),{heartbeatsToSend:i,unsentEntries:a}=rS(this._heartbeatsCache.heartbeats),l=Nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ys.warn(e),""}}}function g_(){return new Date().toISOString().substring(0,10)}function rS(r,e=tS){const i=[];let a=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),y_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),y_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class aS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function y_(r){return Nh(JSON.stringify({version:2,heartbeats:r})).length}function sS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function oS(r){jl(new Ho("platform-logger",e=>new _A(e),"PRIVATE")),jl(new Ho("heartbeat",e=>new iS(e),"PRIVATE")),ho(Dm,d_,r),ho(Dm,d_,"esm2020"),ho("fire-js","")}oS("");var lS="firebase",uS="12.6.0";ho(lS,uS,"app");function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cS=ib,rb=new ic("auth","Firebase",ib());const kh=new np("@firebase/auth");function hS(r,...e){kh.logLevel<=$t.WARN&&kh.warn(`Auth (${Xl}): ${r}`,...e)}function Th(r,...e){kh.logLevel<=$t.ERROR&&kh.error(`Auth (${Xl}): ${r}`,...e)}function vs(r,...e){throw ap(r,...e)}function Da(r,...e){return ap(r,...e)}function ab(r,e,i){const a={...cS(),[e]:i};return new ic("auth","Firebase",a).create(e,{appName:r.name})}function ps(r){return ab(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return rb.create(r,...e)}function Tt(r,e,...i){if(!r)throw ap(e,...i)}function ds(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function _s(r,e){r||ds(e)}function km(){return typeof self<"u"&&self.location?.href||""}function fS(){return v_()==="http:"||v_()==="https:"}function v_(){return typeof self<"u"&&self.location?.protocol||null}function dS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fS()||BT()||"connection"in navigator)?navigator.onLine:!0}function mS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=UT()||FT()}get(){return dS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sp(r,e){_s(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class sb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,a,l={}){return ob(r,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=rc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return zT()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),sb.fetch()(await lb(r,r.config.apiHost,i,b),E)})}async function ob(r,e,i){r._canInitEmulator=!1;const a={...pS,...e};try{const l=new vS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw gh(r,"user-disabled",p);const x=a[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw ab(r,x,E);vs(r,x)}}catch(l){if(l instanceof Ts)throw l;vs(r,"network-request-failed",{message:String(l)})}}async function op(r,e,i,a,l={}){const c=await Ql(r,e,i,a,l);return"mfaPendingCredential"in c&&vs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function lb(r,e,i,a){const l=`${e}${i}?${a}`,c=r,p=c.config.emulator?sp(r.config,l):`${r.config.apiScheme}://${l}`;return gS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class vS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Da(this.auth,"network-request-failed")),yS.get())})}}function gh(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Da(r,e,a);return l.customData._tokenResponse=i,l}async function _S(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function Ph(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bS(r,e=!1){const i=Tr(r),a=await i.getIdToken(e),l=lp(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:Hu(bm(l.auth_time)),issuedAtTime:Hu(bm(l.iat)),expirationTime:Hu(bm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function bm(r){return Number(r)*1e3}function lp(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const l=G0(i);return l?JSON.parse(l):(Th("Failed to decode base64 JWT payload"),null)}catch(l){return Th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function __(r){const e=lp(r);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ku(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ts&&wS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function wS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ES{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(r){const e=r.auth,i=await r.getIdToken(),a=await Ku(r,Ph(e,{idToken:i}));Tt(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?ub(l.providerUserInfo):[],p=AS(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Pm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,x)}async function TS(r){const e=Tr(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function ub(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SS(r,e){const i=await ob(r,{},async()=>{const a=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await lb(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:a};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),sb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function RS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const i=__(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await SS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,p=new Vl;return a&&(Tt(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return ds("not implemented")}}function eo(r,e){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ma{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ES(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return bS(this,e)}reload(){return TS(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ia(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Ku(this,_S(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:U,emailVerified:H,isAnonymous:te,providerData:B,stsTokenManager:Oe}=i;Tt(U&&Oe,e,"internal-error");const Te=Vl.fromJSON(this.name,Oe);Tt(typeof U=="string",e,"internal-error"),eo(a,e.name),eo(l,e.name),Tt(typeof H=="boolean",e,"internal-error"),Tt(typeof te=="boolean",e,"internal-error"),eo(c,e.name),eo(p,e.name),eo(b,e.name),eo(w,e.name),eo(E,e.name),eo(x,e.name);const Le=new ma({uid:U,auth:e,email:l,emailVerified:H,displayName:a,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Te,createdAt:E,lastLoginAt:x});return B&&Array.isArray(B)&&(Le.providerData=B.map(je=>({...je}))),w&&(Le._redirectEventId=w),Le}static async _fromIdTokenResponse(e,i,a=!1){const l=new Vl;l.updateFromServerResponse(i);const c=new ma({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ub(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Vl;b.updateFromIdToken(a);const w=new ma({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const b_=new Map;function ms(r){_s(r instanceof Function,"Expected a class definition");let e=b_.get(r);return e?(_s(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,b_.set(r,e),e)}class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}cb.type="NONE";const w_=cb;function Ah(r,e,i){return`firebase:${r}:${e}:${i}`}class kl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ah("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Ph(this.auth,{idToken:e}).catch(()=>{});return i?ma._fromGetAccountInfoResponse(this.auth,i,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new kl(ms(w_),e,a);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||ms(w_);const p=Ah(a,e.config.apiKey,e.name);let b=null;for(const E of i)try{const x=await E._get(p);if(x){let U;if(typeof x=="string"){const H=await Ph(e,{idToken:x}).catch(()=>{});if(!H)break;U=await ma._fromGetAccountInfoResponse(e,H,x)}else U=ma._fromJSON(e,x);E!==c&&(b=U),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new kl(c,e,a):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new kl(c,e,a))}}function E_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(yb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||db(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function hb(r=Yi()){return/firefox\//i.test(r)}function fb(r=Yi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function db(r=Yi()){return/crios\//i.test(r)}function mb(r=Yi()){return/iemobile/i.test(r)}function pb(r=Yi()){return/android/i.test(r)}function gb(r=Yi()){return/blackberry/i.test(r)}function yb(r=Yi()){return/webos/i.test(r)}function up(r=Yi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CS(r=Yi()){return up(r)&&!!window.navigator?.standalone}function IS(){return HT()&&document.documentMode===10}function vb(r=Yi()){return up(r)||pb(r)||yb(r)||gb(r)||/windows phone/i.test(r)||mb(r)}function _b(r,e=[]){let i;switch(r){case"Browser":i=E_(Yi());break;case"Worker":i=`${E_(Yi())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${a}`}class xS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function MS(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",sc(r,e))}const OS=6;class DS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??OS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class NS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new xS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Ph(this,{idToken:e}),a=await ma._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ia(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ia(this.app))return Promise.reject(ps(this));const i=e?Tr(e):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ia(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ia(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MS(this),i=new DS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await RS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,a,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ia(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Tr(r)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$T(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VS(r){cp=r}function kS(r){return cp.loadJS(r)}function PS(){return cp.gapiScript}function LS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function US(r,e){const i=rp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Fo(c,e??{}))return l;vs(l,"already-initialized")}return i.initialize({options:e})}function jS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function zS(r,e,i){const a=oc(r);Tt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=bb(e),{host:p,port:b}=BS(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Fo(E,a.config.emulator)&&Fo(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Yl(p)?(W0(`${c}//${p}${w}`),K0("Auth",!0)):FS()}function bb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function BS(r){const e=bb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:A_(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:A_(p)}}}function A_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function FS(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class wb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function Pl(r,e){return op(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const HS="http://localhost";class qo extends wb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):vs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const p=new qo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Pl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:HS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class Eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends Eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class io extends lc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";class ro extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return qo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ro.credential(i,a)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";class ao extends lc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";class so extends lc{constructor(){super("twitter.com")}static credential(e,i){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return so.credential(i,a)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";async function qS(r,e){return op(r,"POST","/v1/accounts:signUp",sc(r,e))}class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await ma._fromIdTokenResponse(e,a,l),p=S_(a);return new bs({user:c,providerId:p,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=S_(a);return new bs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function S_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function GS(r){if(ia(r.app))return Promise.reject(ps(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new bs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await qS(e,{returnSecureToken:!0}),a=await bs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Uh extends Ts{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Uh(e,i,a,l)}}function Tb(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,c,e,a):c})}async function YS(r,e,i=!1){const a=await Ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return bs._forOperation(r,"link",a)}async function XS(r,e,i=!1){const{auth:a}=r;if(ia(a.app))return Promise.reject(ps(a));const l="reauthenticate";try{const c=await Ku(r,Tb(a,l,e,r),i);Tt(c.idToken,a,"internal-error");const p=lp(c.idToken);Tt(p,a,"internal-error");const{sub:b}=p;return Tt(r.uid===b,a,"user-mismatch"),bs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&vs(a,"user-mismatch"),c}}async function QS(r,e,i=!1){if(ia(r.app))return Promise.reject(ps(r));const a="signIn",l=await Tb(r,a,e),c=await bs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function WS(r,e){return op(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function KS(r,e){if(ia(r.app))return Promise.reject(ps(r));const i=oc(r),a=await WS(i,{token:e,returnSecureToken:!0}),l=await bs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function $S(r,e,i,a){return Tr(r).onIdTokenChanged(e,i,a)}function JS(r,e,i){return Tr(r).beforeAuthStateChanged(e,i)}function ZS(r,e,i,a){return Tr(r).onAuthStateChanged(e,i,a)}const jh="__sak";class Ab{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const e2=1e3,t2=10;class Sb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!i&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);IS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,t2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sb.type="LOCAL";const n2=Sb;class Rb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Rb.type="SESSION";const Cb=Rb;function i2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new nf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await i2(b);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];function hp(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class r2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=hp("",20);l.port1.start();const x=setTimeout(()=>{w(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(U){const H=U;if(H.data.eventId===E)switch(H.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(H.data.response);break;default:clearTimeout(x),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Na(){return window}function a2(r){Na().location.href=r}function Ib(){return typeof Na().WorkerGlobalScope<"u"&&typeof Na().importScripts=="function"}async function s2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){return navigator?.serviceWorker?.controller||null}function l2(){return Ib()?self:null}const xb="firebaseLocalStorageDb",u2=1,zh="firebaseLocalStorage",Mb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function c2(){const r=indexedDB.deleteDatabase(xb);return new uc(r).toPromise()}function Lm(){const r=indexedDB.open(xb,u2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(zh,{keyPath:Mb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(zh)?e(a):(a.close(),await c2(),e(await Lm()))})})}async function R_(r,e,i){const a=rf(r,!0).put({[Mb]:e,value:i});return new uc(a).toPromise()}async function h2(r,e){const i=rf(r,!1).get(e),a=await new uc(i).toPromise();return a===void 0?null:a.value}function C_(r,e){const i=rf(r,!0).delete(e);return new uc(i).toPromise()}const f2=800,d2=3;class Ob{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>d2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(l2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await s2(),!this.activeServiceWorker)return;this.sender=new r2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await R_(e,jh,"1"),await C_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>R_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>h2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>C_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=rf(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ob.type="LOCAL";const m2=Ob;new ac(3e4,6e4);function p2(r,e){return e?ms(e):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class fp extends wb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function g2(r){return QS(r.auth,new fp(r),r.bypassAuthState)}function y2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),XS(i,new fp(r),r.bypassAuthState)}async function v2(r){const{auth:e,user:i}=r;return Tt(i,e,"internal-error"),YS(i,new fp(r),r.bypassAuthState)}class Db{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return y2;default:vs(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _2=new ac(2e3,1e4);class Nl extends Db{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_2.get())};e()}}Nl.currentPopupAction=null;const b2="pendingRedirect",Sh=new Map;class w2 extends Db{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const a=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(r,e){const i=S2(e),a=A2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function T2(r,e){Sh.set(r._key(),e)}function A2(r){return ms(r._redirectPersistence)}function S2(r){return Ah(b2,r.config.apiKey,r.name)}async function R2(r,e,i=!1){if(ia(r.app))return Promise.reject(ps(r));const a=oc(r),l=p2(a,e),p=await new w2(a,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const C2=600*1e3;class I2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Nb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Da(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Nb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function x2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(r);default:return!1}}async function M2(r,e={}){return Ql(r,"GET","/v1/projects",e)}const O2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function N2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await M2(r);for(const i of e)try{if(V2(i))return}catch{}vs(r,"unauthorized-domain")}function V2(r){const e=km(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===a}if(!D2.test(i))return!1;if(O2.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const k2=new ac(3e4,6e4);function x_(){const r=Na().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function P2(r){return new Promise((e,i)=>{function a(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),i(Da(r,"network-request-failed"))},timeout:k2.get()})}if(Na().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Na().gapi?.load)a();else{const l=LS("iframefcb");return Na()[l]=()=>{gapi.load?a():i(Da(r,"network-request-failed"))},kS(`${PS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function L2(r){return Rh=Rh||P2(r),Rh}const U2=new ac(5e3,15e3),j2="__/auth/iframe",z2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H2(r){const e=r.config;Tt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?sp(e,z2):`https://${r.config.authDomain}/${j2}`,a={apiKey:e.apiKey,appName:r.name,v:Xl},l=F2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${rc(a).slice(1)}`}async function q2(r){const e=await L2(r),i=Na().gapi;return Tt(i,r,"internal-error"),e.open({where:document.body,url:H2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=Da(r,"network-request-failed"),b=Na().setTimeout(()=>{c(p)},U2.get());function w(){Na().clearTimeout(b),l(a)}a.ping(w).then(w,()=>{c(p)})}))}const G2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y2=500,X2=600,Q2="_blank",W2="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,e,i,a=Y2,l=X2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const w={...G2,width:a.toString(),height:l.toString(),top:c,left:p},E=Yi().toLowerCase();i&&(b=db(E)?Q2:i),hb(E)&&(e=e||W2,w.scrollbars="yes");const x=Object.entries(w).reduce((H,[te,B])=>`${H}${te}=${B},`,"");if(CS(E)&&b!=="_self")return $2(e||"",b),new M_(null);const U=window.open(e||"",b,x);Tt(U,r,"popup-blocked");try{U.focus()}catch{}return new M_(U)}function $2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const J2="__/auth/handler",Z2="emulator/auth/handler",eR=encodeURIComponent("fac");async function O_(r,e,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Xl,eventId:l};if(e instanceof Eb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",KT(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,U]of Object.entries({}))p[x]=U}if(e instanceof lc){const x=e.getScopes().filter(U=>U!=="");x.length>0&&(p.scopes=x.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const w=await r._getAppCheckToken(),E=w?`#${eR}=${encodeURIComponent(w)}`:"";return`${tR(r)}?${rc(b).slice(1)}${E}`}function tR({config:r}){return r.emulator?sp(r,Z2):`https://${r.authDomain}/${J2}`}const wm="webStorageSupport";class nR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=R2,this._overrideRedirectResult=T2}async _openPopup(e,i,a,l){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O_(e,i,a,km(),l);return K2(e,c,hp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await O_(e,i,a,km(),l);return a2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await q2(e),a=new I2(e);return i.register("authEvent",l=>(Tt(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(wm,{type:wm},l=>{const c=l?.[0]?.[wm];c!==void 0&&i(!!c),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=N2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return vb()||fb()||up()}}const iR=nR;var D_="@firebase/auth",N_="1.11.1";class rR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sR(r){jl(new Ho("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Tt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_b(r)},E=new NS(a,l,c,w);return jS(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),jl(new Ho("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(a=>new rR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(D_,N_,aR(r)),ho(D_,N_,"esm2020")}const oR=300,lR=Q0("authIdTokenMaxAge")||oR;let V_=null;const uR=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>lR)return;const l=i?.token;V_!==l&&(V_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function cR(r=eb()){const e=rp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=US(r,{popupRedirectResolver:iR,persistence:[m2,n2,Cb]}),a=Q0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=uR(c.toString());JS(i,p,()=>p(i.currentUser)),$S(i,b=>p(b))}}const l=Y0("auth");return l&&zS(i,`http://${l}`),i}function hR(){return document.getElementsByTagName("head")?.[0]??document}VS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Da("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",hR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sR("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,Vb;(function(){var r;function e(F,z){function V(){}V.prototype=z.prototype,F.F=z.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(L,C,k){for(var I=Array(arguments.length-2),K=2;K<arguments.length;K++)I[K-2]=arguments[K];return z.prototype[C].apply(L,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,z,V){V||(V=0);const L=Array(16);if(typeof z=="string")for(var C=0;C<16;++C)L[C]=z.charCodeAt(V++)|z.charCodeAt(V++)<<8|z.charCodeAt(V++)<<16|z.charCodeAt(V++)<<24;else for(C=0;C<16;++C)L[C]=z[V++]|z[V++]<<8|z[V++]<<16|z[V++]<<24;z=F.g[0],V=F.g[1],C=F.g[2];let k=F.g[3],I;I=z+(k^V&(C^k))+L[0]+3614090360&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+L[1]+3905402710&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+L[2]+606105819&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+L[3]+3250441966&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(k^V&(C^k))+L[4]+4118548399&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+L[5]+1200080426&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+L[6]+2821735955&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+L[7]+4249261313&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(k^V&(C^k))+L[8]+1770035416&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+L[9]+2336552879&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+L[10]+4294925233&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+L[11]+2304563134&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(k^V&(C^k))+L[12]+1804603682&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+L[13]+4254626195&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+L[14]+2792965006&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+L[15]+1236535329&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(C^k&(V^C))+L[1]+4129170786&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+L[6]+3225465664&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+L[11]+643717713&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+L[0]+3921069994&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(C^k&(V^C))+L[5]+3593408605&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+L[10]+38016083&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+L[15]+3634488961&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+L[4]+3889429448&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(C^k&(V^C))+L[9]+568446438&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+L[14]+3275163606&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+L[3]+4107603335&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+L[8]+1163531501&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(C^k&(V^C))+L[13]+2850285829&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+L[2]+4243563512&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+L[7]+1735328473&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+L[12]+2368359562&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(V^C^k)+L[5]+4294588738&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+L[8]+2272392833&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+L[11]+1839030562&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+L[14]+4259657740&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(V^C^k)+L[1]+2763975236&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+L[4]+1272893353&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+L[7]+4139469664&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+L[10]+3200236656&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(V^C^k)+L[13]+681279174&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+L[0]+3936430074&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+L[3]+3572445317&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+L[6]+76029189&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(V^C^k)+L[9]+3654602809&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+L[12]+3873151461&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+L[15]+530742520&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+L[2]+3299628645&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(C^(V|~k))+L[0]+4096336452&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+L[7]+1126891415&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+L[14]+2878612391&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+L[5]+4237533241&4294967295,V=C+(I<<21&4294967295|I>>>11),I=z+(C^(V|~k))+L[12]+1700485571&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+L[3]+2399980690&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+L[10]+4293915773&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+L[1]+2240044497&4294967295,V=C+(I<<21&4294967295|I>>>11),I=z+(C^(V|~k))+L[8]+1873313359&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+L[15]+4264355552&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+L[6]+2734768916&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+L[13]+1309151649&4294967295,V=C+(I<<21&4294967295|I>>>11),I=z+(C^(V|~k))+L[4]+4149444226&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+L[11]+3174756917&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+L[2]+718787259&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+L[9]+3951481745&4294967295,F.g[0]=F.g[0]+z&4294967295,F.g[1]=F.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,F.g[2]=F.g[2]+C&4294967295,F.g[3]=F.g[3]+k&4294967295}a.prototype.v=function(F,z){z===void 0&&(z=F.length);const V=z-this.blockSize,L=this.C;let C=this.h,k=0;for(;k<z;){if(C==0)for(;k<=V;)l(this,F,k),k+=this.blockSize;if(typeof F=="string"){for(;k<z;)if(L[C++]=F.charCodeAt(k++),C==this.blockSize){l(this,L),C=0;break}}else for(;k<z;)if(L[C++]=F[k++],C==this.blockSize){l(this,L),C=0;break}}this.h=C,this.o+=z},a.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var z=1;z<F.length-8;++z)F[z]=0;z=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=z&255,z/=256;for(this.v(F),F=Array(16),z=0,V=0;V<4;++V)for(let L=0;L<32;L+=8)F[z++]=this.g[V]>>>L&255;return F};function c(F,z){var V=b;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=z(F)}function p(F,z){this.h=z;const V=[];let L=!0;for(let C=F.length-1;C>=0;C--){const k=F[C]|0;L&&k==z||(V[C]=k,L=!1)}this.g=V}var b={};function w(F){return-128<=F&&F<128?c(F,function(z){return new p([z|0],z<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return U;if(F<0)return Te(E(-F));const z=[];let V=1;for(let L=0;F>=V;L++)z[L]=F/V|0,V*=4294967296;return new p(z,0)}function x(F,z){if(F.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(F.charAt(0)=="-")return Te(x(F.substring(1),z));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(z,8));let L=U;for(let k=0;k<F.length;k+=8){var C=Math.min(8,F.length-k);const I=parseInt(F.substring(k,k+C),z);C<8?(C=E(Math.pow(z,C)),L=L.j(C).add(E(I))):(L=L.j(V),L=L.add(E(I)))}return L}var U=w(0),H=w(1),te=w(16777216);r=p.prototype,r.m=function(){if(Oe(this))return-Te(this).m();let F=0,z=1;for(let V=0;V<this.g.length;V++){const L=this.i(V);F+=(L>=0?L:4294967296+L)*z,z*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(B(this))return"0";if(Oe(this))return"-"+Te(this).toString(F);const z=E(Math.pow(F,6));var V=this;let L="";for(;;){const C=Je(V,z).g;V=Le(V,C.j(z));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=C,B(V))return k+L;for(;k.length<6;)k="0"+k;L=k+L}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function B(F){if(F.h!=0)return!1;for(let z=0;z<F.g.length;z++)if(F.g[z]!=0)return!1;return!0}function Oe(F){return F.h==-1}r.l=function(F){return F=Le(this,F),Oe(F)?-1:B(F)?0:1};function Te(F){const z=F.g.length,V=[];for(let L=0;L<z;L++)V[L]=~F.g[L];return new p(V,~F.h).add(H)}r.abs=function(){return Oe(this)?Te(this):this},r.add=function(F){const z=Math.max(this.g.length,F.g.length),V=[];let L=0;for(let C=0;C<=z;C++){let k=L+(this.i(C)&65535)+(F.i(C)&65535),I=(k>>>16)+(this.i(C)>>>16)+(F.i(C)>>>16);L=I>>>16,k&=65535,I&=65535,V[C]=I<<16|k}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Le(F,z){return F.add(Te(z))}r.j=function(F){if(B(this)||B(F))return U;if(Oe(this))return Oe(F)?Te(this).j(Te(F)):Te(Te(this).j(F));if(Oe(F))return Te(this.j(Te(F)));if(this.l(te)<0&&F.l(te)<0)return E(this.m()*F.m());const z=this.g.length+F.g.length,V=[];for(var L=0;L<2*z;L++)V[L]=0;for(L=0;L<this.g.length;L++)for(let C=0;C<F.g.length;C++){const k=this.i(L)>>>16,I=this.i(L)&65535,K=F.i(C)>>>16,se=F.i(C)&65535;V[2*L+2*C]+=I*se,je(V,2*L+2*C),V[2*L+2*C+1]+=k*se,je(V,2*L+2*C+1),V[2*L+2*C+1]+=I*K,je(V,2*L+2*C+1),V[2*L+2*C+2]+=k*K,je(V,2*L+2*C+2)}for(F=0;F<z;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=z;F<2*z;F++)V[F]=0;return new p(V,0)};function je(F,z){for(;(F[z]&65535)!=F[z];)F[z+1]+=F[z]>>>16,F[z]&=65535,z++}function Be(F,z){this.g=F,this.h=z}function Je(F,z){if(B(z))throw Error("division by zero");if(B(F))return new Be(U,U);if(Oe(F))return z=Je(Te(F),z),new Be(Te(z.g),Te(z.h));if(Oe(z))return z=Je(F,Te(z)),new Be(Te(z.g),z.h);if(F.g.length>30){if(Oe(F)||Oe(z))throw Error("slowDivide_ only works with positive integers.");for(var V=H,L=z;L.l(F)<=0;)V=tt(V),L=tt(L);var C=at(V,1),k=at(L,1);for(L=at(L,2),V=at(V,2);!B(L);){var I=k.add(L);I.l(F)<=0&&(C=C.add(V),k=I),L=at(L,1),V=at(V,1)}return z=Le(F,C.j(z)),new Be(C,z)}for(C=U;F.l(z)>=0;){for(V=Math.max(1,Math.floor(F.m()/z.m())),L=Math.ceil(Math.log(V)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),k=E(V),I=k.j(z);Oe(I)||I.l(F)>0;)V-=L,k=E(V),I=k.j(z);B(k)&&(k=H),C=C.add(k),F=Le(F,I)}return new Be(C,F)}r.B=function(F){return Je(this,F).h},r.and=function(F){const z=Math.max(this.g.length,F.g.length),V=[];for(let L=0;L<z;L++)V[L]=this.i(L)&F.i(L);return new p(V,this.h&F.h)},r.or=function(F){const z=Math.max(this.g.length,F.g.length),V=[];for(let L=0;L<z;L++)V[L]=this.i(L)|F.i(L);return new p(V,this.h|F.h)},r.xor=function(F){const z=Math.max(this.g.length,F.g.length),V=[];for(let L=0;L<z;L++)V[L]=this.i(L)^F.i(L);return new p(V,this.h^F.h)};function tt(F){const z=F.g.length+1,V=[];for(let L=0;L<z;L++)V[L]=F.i(L)<<1|F.i(L-1)>>>31;return new p(V,F.h)}function at(F,z){const V=z>>5;z%=32;const L=F.g.length-V,C=[];for(let k=0;k<L;k++)C[k]=z>0?F.i(k+V)>>>z|F.i(k+V+1)<<32-z:F.i(k+V);return new p(C,F.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Vb=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=x,fo=p}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kb,Uu,Pb,Ch,Um,Lb,Ub,jb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=i(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var N=0;N<u.length-1;N++){var ie=u[N];if(!(ie in A))break e;A=A[ie]}u=u[u.length-1],N=A[u],y=y(N),y!=N&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&A.push([N,y[N]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function U(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(N,ie,fe){for(var ke=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ke[Rt-2]=arguments[Rt];return y.prototype[ie].apply(N,ke)}}var H=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let N=0;N<y;N++)A[N]=u[N];return A}return[]}function B(u,y){for(let N=1;N<arguments.length;N++){const ie=arguments[N];var A=typeof ie;if(A=A!="object"?A:ie?Array.isArray(ie)?"array":A:"null",A=="array"||A=="object"&&typeof ie.length=="number"){A=u.length||0;const fe=ie.length||0;u.length=A+fe;for(let ke=0;ke<fe;ke++)u[A+ke]=ie[ke]}else u.push(ie)}}class Oe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Te(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class je{constructor(){this.h=this.g=null}add(y,A){const N=Be.get();N.set(y,A),this.h?this.h.next=N:this.g=N,this.h=N}}var Be=new Oe(()=>new Je,u=>u.reset());class Je{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,F=new je,z=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(V)}};function V(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){Te(A)}var y=Be;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}at=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function K(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}U(K,C),K.prototype.init=function(u,y){const A=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),q=0;function ee(u,y,A,N,ie){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!N,this.ha=ie,this.key=++q,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const N in u)y.call(A,u[N],N,u)}function Ie(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(u,y){let A,N;for(let ie=1;ie<arguments.length;ie++){N=arguments[ie];for(A in N)u[A]=N[A];for(let fe=0;fe<ne.length;fe++)A=ne[fe],Object.prototype.hasOwnProperty.call(N,A)&&(u[A]=N[A])}}function _e(u){this.src=u,this.g={},this.h=0}_e.prototype.add=function(u,y,A,N,ie){const fe=u.toString();u=this.g[fe],u||(u=this.g[fe]=[],this.h++);const ke=Ge(u,y,N,ie);return ke>-1?(y=u[ke],A||(y.fa=!1)):(y=new ee(y,this.src,fe,!!N,ie),y.fa=A,u.push(y)),y};function Re(u,y){const A=y.type;if(A in u.g){var N=u.g[A],ie=Array.prototype.indexOf.call(N,y,void 0),fe;(fe=ie>=0)&&Array.prototype.splice.call(N,ie,1),fe&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Ge(u,y,A,N){for(let ie=0;ie<u.length;++ie){const fe=u[ie];if(!fe.da&&fe.listener==y&&fe.capture==!!A&&fe.ha==N)return ie}return-1}var ot="closure_lm_"+(Math.random()*1e6|0),ht={};function bt(u,y,A,N,ie){if(Array.isArray(y)){for(let fe=0;fe<y.length;fe++)bt(u,y[fe],A,N,ie);return null}return A=Yt(A),u&&u[se]?u.J(y,A,b(N)?!!N.capture:!1,ie):Ot(u,y,A,!1,N,ie)}function Ot(u,y,A,N,ie,fe){if(!y)throw Error("Invalid event type");const ke=b(ie)?!!ie.capture:!!ie;let Rt=qn(u);if(Rt||(u[ot]=Rt=new _e(u)),A=Rt.add(y,A,N,ke,fe),A.proxy)return A;if(N=cn(),A.proxy=N,N.src=u,N.listener=A,u.addEventListener)k||(ie=ke),ie===void 0&&(ie=!1),u.addEventListener(y.toString(),N,ie);else if(u.attachEvent)u.attachEvent(vt(y.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function cn(){function u(A){return y.call(u.src,u.listener,A)}const y=Ut;return u}function ct(u,y,A,N,ie){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)ct(u,y[fe],A,N,ie);else N=b(N)?!!N.capture:!!N,A=Yt(A),u&&u[se]?(u=u.i,fe=String(y).toString(),fe in u.g&&(y=u.g[fe],A=Ge(y,A,N,ie),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[fe],u.h--)))):u&&(u=qn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ge(y,A,N,ie)),(A=u>-1?y[u]:null)&&At(A))}function At(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[se])Re(y.i,u);else{var A=u.type,N=u.proxy;y.removeEventListener?y.removeEventListener(A,N,u.capture):y.detachEvent?y.detachEvent(vt(A),N):y.addListener&&y.removeListener&&y.removeListener(N),(A=qn(y))?(Re(A,u),A.h==0&&(A.src=null,y[ot]=null)):ye(u)}}}function vt(u){return u in ht?ht[u]:ht[u]="on"+u}function Ut(u,y){if(u.da)u=!0;else{y=new K(y,this);const A=u.listener,N=u.ha||u.src;u.fa&&At(u),u=A.call(N,y)}return u}function qn(u){return u=u[ot],u instanceof _e?u:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yt(u){return typeof u=="function"?u:(u[ei]||(u[ei]=function(y){return u.handleEvent(y)}),u[ei])}function Ze(){L.call(this),this.i=new _e(this),this.M=this,this.G=null}U(Ze,L),Ze.prototype[se]=!0,Ze.prototype.removeEventListener=function(u,y,A,N){ct(this,u,y,A,N)};function en(u,y){var A,N=u.G;if(N)for(A=[];N;N=N.G)A.push(N);if(u=u.M,N=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var ie=y;y=new C(N,u),ve(y,ie)}ie=!0;let fe,ke;if(A)for(ke=A.length-1;ke>=0;ke--)fe=y.g=A[ke],ie=Rn(fe,N,!0,y)&&ie;if(fe=y.g=u,ie=Rn(fe,N,!0,y)&&ie,ie=Rn(fe,N,!1,y)&&ie,A)for(ke=0;ke<A.length;ke++)fe=y.g=A[ke],ie=Rn(fe,N,!1,y)&&ie}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let N=0;N<A.length;N++)ye(A[N]);delete u.g[y],u.h--}}this.G=null},Ze.prototype.J=function(u,y,A,N){return this.i.add(String(u),y,!1,A,N)},Ze.prototype.K=function(u,y,A,N){return this.i.add(String(u),y,!0,A,N)};function Rn(u,y,A,N){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ie=!0;for(let fe=0;fe<y.length;++fe){const ke=y[fe];if(ke&&!ke.da&&ke.capture==A){const Rt=ke.listener,Wn=ke.ha||ke.src;ke.fa&&Re(u.i,ke),ie=Rt.call(Wn,N)!==!1&&ie}}return ie&&!N.defaultPrevented}function Br(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Gn(u){u.g=Br(()=>{u.g=null,u.i&&(u.i=!1,Gn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class kt extends L{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(u){L.call(this),this.h=u,this.g={}}U(En,L);var R=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&At(y)},u),u.g={}}En.prototype.N=function(){En.Z.N.call(this),g(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,D=p.JSON.parse,Q=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function de(){}function Ce(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){C.call(this,"d")}U(nt,C);function He(){C.call(this,"c")}U(He,C);var We={},tn=null;function On(){return tn=tn||new Ze}We.Ia="serverreachability";function mn(u){C.call(this,We.Ia,u)}U(mn,C);function Fn(u){const y=On();en(y,new mn(y))}We.STAT_EVENT="statevent";function $n(u,y){C.call(this,We.STAT_EVENT,u),this.stat=y}U($n,C);function zt(u){const y=On();en(y,new $n(y,u))}We.Ja="timingevent";function Dn(u,y){C.call(this,We.Ja,u),this.size=y}U(Dn,C);function Nn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Xi(u,y,A,N,ie,fe){u.info(function(){if(u.g)if(fe){var ke="",Rt=fe.split("&");for(let ln=0;ln<Rt.length;ln++){var Wn=Rt[ln].split("=");if(Wn.length>1){const Vn=Wn[0];Wn=Wn[1];const zi=Vn.split("_");ke=zi.length>=2&&zi[1]=="type"?ke+(Vn+"="+Wn+"&"):ke+(Vn+"=redacted&")}}}else ke=null;else ke=fe;return"XMLHTTP REQ ("+N+") [attempt "+ie+"]: "+y+`
`+A+`
`+ke})}function gt(u,y,A,N,ie,fe,ke){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ie+"]: "+y+`
`+A+`
`+fe+" "+ke})}function Xn(u,y,A,N){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pi(u,A)+(N?" "+N:"")})}function St(u,y){u.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function Pi(u,y){if(!u.g)return y;if(!y)return null;try{const fe=JSON.parse(y);if(fe){for(u=0;u<fe.length;u++)if(Array.isArray(fe[u])){var A=fe[u];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var ie=N[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let ke=1;ke<N.length;ke++)N[ke]=""}}}}return v(fe)}catch{return y}}var Qi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ja={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function Sr(){}U(Sr,de),Sr.prototype.g=function(){return new XMLHttpRequest},Ar=new Sr;function qe(u){return encodeURIComponent(String(u))}function ya(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Wi(u,y,A,N){this.j=u,this.i=y,this.l=A,this.S=N||1,this.V=new En(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}var Xt={},Qn={};function $i(u,y,A){u.M=1,u.A=Ai(nn(y)),u.u=A,u.R=!0,Rr(u,null)}function Rr(u,y){u.F=Date.now(),Ui(u),u.B=nn(u.A);var A=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),Fa(A.i,"t",N),u.C=0,A=u.j.L,u.h=new Ki,u.g=el(u.j,A?y:null,!u.u),u.P>0&&(u.O=new kt(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,N=u.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(R[0]=ie.toString()),ie=R);for(let fe=0;fe<ie.length;fe++){const ke=bt(A,ie[fe],N||y.handleEvent,!1,y.h||y);if(!ke)break;y.g[ke.key]=ke}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Fn(),Xi(u.i,u.v,u.B,u.l,u.S,u.u)}Wi.prototype.ba=function(u){u=u.target;const y=this.O;y&&Mr(u)==3?y.j():this.Y(u)},Wi.prototype.Y=function(u){try{if(u==this.g)e:{const Rt=Mr(this.g),Wn=this.g.ya(),ln=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||pi(this.g)))){this.K||Rt!=4||Wn==7||(Wn==8||ln<=0?Fn(3):Fn(2)),Ji(this);var y=this.g.ca();this.X=y;var A=As(this);if(this.o=y==200,gt(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,ie=this.g;if((N=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var fe=N;break t}}fe=null}if(u=fe)Xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ge(this,u);else{this.o=!1,this.m=3,zt(12),re(this),_i(this);break e}}if(this.R){u=!0;let Vn;for(;!this.K&&this.C<A.length;)if(Vn=Fr(this,A),Vn==Qn){Rt==4&&(this.m=4,zt(14),u=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Xt){this.m=4,zt(15),Xn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Xn(this.i,this.l,Vn,null),ge(this,Vn);if(Li(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||A.length!=0||this.h.h||(this.m=1,zt(16),u=!1),this.o=this.o&&u,!u)Xn(this.i,this.l,A,"[Invalid Chunked Response]"),re(this),_i(this);else if(A.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),tr(ke),ke.P=!0,zt(11))}}else Xn(this.i,this.l,A,null),ge(this,A);Rt==4&&re(this),this.o&&!this.K&&(Rt==4?Ya(this.j,this):(this.o=!1,Ui(this)))}else dr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),re(this),_i(this)}}}catch{}finally{}};function As(u){if(!Li(u))return u.g.la();const y=pi(u.g);if(y==="")return"";let A="";const N=y.length,ie=Mr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return re(u),_i(u),"";u.h.i=new p.TextDecoder}for(let fe=0;fe<N;fe++)u.h.h=!0,A+=u.h.i.decode(y[fe],{stream:!(ie&&fe==N-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Li(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Fr(u,y){var A=u.C,N=y.indexOf(`
`,A);return N==-1?Qn:(A=Number(y.substring(A,N)),isNaN(A)?Xt:(N+=1,N+A>y.length?Qn:(y=y.slice(N,N+A),u.C=N+A,y)))}Wi.prototype.cancel=function(){this.K=!0,re(this)};function Ui(u){u.T=Date.now()+u.H,Ti(u,u.H)}function Ti(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nn(E(u.aa,u),y)}function Ji(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Wi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(St(this.i,this.B),this.M!=2&&(Fn(),zt(17)),re(this),this.m=2,_i(this)):Ti(this,this.T-u)};function _i(u){u.j.I==0||u.K||Ya(u.j,u)}function re(u){Ji(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function ge(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Ne(A.h,u))){if(!u.L&&Ne(A.h,u)&&A.I==3){try{var N=A.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var ie=N;if(ie[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ua(A),Or(A);else break e;Ta(A),zt(18)}}else A.xa=ie[1],0<A.xa-A.K&&ie[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Nn(E(A.Va,A),6e3));st(A.h)<=1&&A.ta&&(A.ta=void 0)}else Dr(A,11)}else if((u.L||A.g==u)&&ua(A),!I(y))for(ie=A.Ba.g.parse(y),y=0;y<ie.length;y++){let ln=ie[y];const Vn=ln[0];if(!(Vn<=A.K))if(A.K=Vn,ln=ln[1],A.I==2)if(ln[0]=="c"){A.M=ln[1],A.ba=ln[2];const zi=ln[3];zi!=null&&(A.ka=zi,A.j.info("VER="+A.ka));const mr=ln[4];mr!=null&&(A.za=mr,A.j.info("SVER="+A.za));const pr=ln[5];pr!=null&&typeof pr=="number"&&pr>0&&(N=1.5*pr,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const nr=u.g;if(nr){const Qr=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var fe=N.h;fe.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(yt(fe,fe.h),fe.h=null))}if(N.G){const Xa=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(N.wa=Xa,on(N.J,N.G,Xa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var ke=u;if(N.na=Zo(N,N.L?N.ba:null,N.W),ke.L){Ue(N.h,ke);var Rt=ke,Wn=N.O;Wn&&(Rt.H=Wn),Rt.D&&(Ji(Rt),Ui(Rt)),N.g=ke}else ti(N);A.i.length>0&&er(A)}else ln[0]!="stop"&&ln[0]!="close"||Dr(A,7);else A.I==3&&(ln[0]=="stop"||ln[0]=="close"?ln[0]=="stop"?Dr(A,7):Eo(A):ln[0]!="noop"&&A.l&&A.l.qa(ln),A.A=0)}}Fn(4)}catch{}}var be=class{constructor(u,y){this.g=u,this.map=y}};function De(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ve(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function st(u){return u.h?1:u.g?u.g.size:0}function Ne(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function yt(u,y){u.g?u.g.add(y):u.h=y}function Ue(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}De.prototype.cancel=function(){if(this.i=ut(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ut(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var Bt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tn(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const N=u[A].indexOf("=");let ie,fe=null;N>=0?(ie=u[A].substring(0,N),fe=u[A].substring(N+1)):ie=u[A],y(ie,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Ft(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ft?(this.l=u.l,pn(this,u.j),this.o=u.o,this.g=u.g,Pn(this,u.u),this.h=u.h,Hr(this,_a(u.i)),this.m=u.m):u&&(y=String(u).match(Bt))?(this.l=!1,pn(this,y[1]||"",!0),this.o=ft(y[2]||""),this.g=ft(y[3]||"",!0),Pn(this,y[4]),this.h=ft(y[5]||"",!0),Hr(this,y[6]||"",!0),this.m=ft(y[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}Ft.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(bi(y,za,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(bi(y,za,!0),"@"),u.push(qe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(bi(A,A.charAt(0)=="/"?Ss:wo,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",bi(A,va)),u.join("")},Ft.prototype.resolve=function(u){const y=nn(this);let A=!!u.j;A?pn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var N=u.h;if(A)Pn(y,u.u);else if(A=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var ie=y.h.lastIndexOf("/");ie!=-1&&(N=y.h.slice(0,ie+1)+N)}if(ie=N,ie==".."||ie==".")N="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){N=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const fe=[];for(let ke=0;ke<ie.length;){const Rt=ie[ke++];Rt=="."?N&&ke==ie.length&&fe.push(""):Rt==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),N&&ke==ie.length&&fe.push("")):(fe.push(Rt),N=!0)}N=fe.join("/")}else N=ie}return A?y.h=N:A=u.i.toString()!=="",A?Hr(y,_a(u.i)):A=!!u.m,A&&(y.m=u.m),y};function nn(u){return new Ft(u)}function pn(u,y,A){u.j=A?ft(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Pn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Hr(u,y,A){y instanceof qr?(u.i=y,ba(u.i,u.l)):(A||(y=bi(y,vn)),u.i=new qr(y,u.l))}function on(u,y,A){u.i.set(y,A)}function Ai(u){return on(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ft(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function bi(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Ln),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var za=/[#\/\?@]/g,wo=/[#\?:]/g,Ss=/[#\?]/g,vn=/[#\?@]/g,va=/#/g;function qr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function si(u){u.g||(u.g=new Map,u.h=0,u.i&&Tn(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=qr.prototype,r.add=function(u,y){si(this),this.i=null,u=Ir(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function or(u,y){si(u),y=Ir(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ba(u,y){return si(u),y=Ir(u,y),u.g.has(y)}r.forEach=function(u,y){si(this),this.g.forEach(function(A,N){A.forEach(function(ie){u.call(y,ie,N,this)},this)},this)};function Cr(u,y){si(u);let A=[];if(typeof y=="string")Ba(u,y)&&(A=A.concat(u.g.get(Ir(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return si(this),this.i=null,u=Ir(this,u),Ba(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Cr(this,u),u.length>0?String(u[0]):y):y};function Fa(u,y,A){or(u,y),A.length>0&&(u.i=null,u.g.set(Ir(u,y),te(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var A=y[N];const ie=qe(A);A=Cr(this,A);for(let fe=0;fe<A.length;fe++){let ke=ie;A[fe]!==""&&(ke+="="+qe(A[fe])),u.push(ke)}}return this.i=u.join("&")};function _a(u){const y=new qr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ir(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ba(u,y){y&&!u.j&&(si(u),u.i=null,u.g.forEach(function(A,N){const ie=N.toLowerCase();N!=ie&&(or(this,N),Fa(this,ie,A))},u)),u.j=y}function lr(u,y){const A=new Yn;if(p.Image){const N=new Image;N.onload=x(ur,A,"TestLoadImage: loaded",!0,y,N),N.onerror=x(ur,A,"TestLoadImage: error",!1,y,N),N.onabort=x(ur,A,"TestLoadImage: abort",!1,y,N),N.ontimeout=x(ur,A,"TestLoadImage: timeout",!1,y,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else y(!1)}function Rs(u,y){const A=new Yn,N=new AbortController,ie=setTimeout(()=>{N.abort(),ur(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:N.signal}).then(fe=>{clearTimeout(ie),fe.ok?ur(A,"TestPingServer: ok",!0,y):ur(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ie),ur(A,"TestPingServer: error",!1,y)})}function ur(u,y,A,N,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),N(A)}catch{}}function cr(){this.g=new Q}function Zi(u){this.i=u.Sb||null,this.h=u.ab||!1}U(Zi,de),Zi.prototype.g=function(){return new hr(this.i,this.h)};function hr(u,y){Ze.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}U(hr,Ze),r=hr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?fr(this):Si(this),this.readyState==3&&sa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},r.Na=function(u){this.g&&(this.response=u,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Si(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mi(u){let y="";return he(u,function(A,N){y+=N,y+=":",y+=A,y+=`\r
`}),y}function Gr(u,y,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=mi(A),typeof u=="string"?A!=null&&qe(A):on(u,y,A))}function Dt(u){Ze.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}U(Dt,Ze);var Yr=/^https?$/i,ji=["POST","PUT"];r=Dt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=H(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(fe){oa(this,fe);return}if(u=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ie in N)A.set(ie,N[ie]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const fe of N.keys())A.set(fe,N.get(fe));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(ji,y,void 0)>=0)||N||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,ke]of A)this.g.setRequestHeader(fe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(fe){oa(this,fe)}};function oa(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,wa(u),xr(u)}function wa(u){u.A||(u.A=!0,en(u,"complete"),en(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,en(this,"complete"),en(this,"abort"),xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},r.Xa=function(){la(this)};function la(u){if(u.h&&typeof c<"u"){if(u.v&&Mr(u)==4)setTimeout(u.Ca.bind(u),0);else if(en(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const fe=u.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var N;if(N=fe===0){let ke=String(u.D).match(Bt)[1]||null;!ke&&p.self&&p.self.location&&(ke=p.self.location.protocol.slice(0,-1)),N=!Yr.test(ke?ke.toLowerCase():"")}A=N}if(A)en(u,"complete"),en(u,"success");else{u.o=6;try{var ie=Mr(u)>2?u.g.statusText:""}catch{ie=""}u.l=ie+" ["+u.ca()+"]",wa(u)}}finally{xr(u)}}}}function xr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||en(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Mr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),D(y)}};function pi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dr(u){const y={};u=(u.g&&Mr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(I(u[N]))continue;var A=ya(u[N]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const fe=y[ie]||[];y[ie]=fe,fe.push(A)}Ie(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ea(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xr("baseRetryDelayMs",5e3,u),this.Za=Xr("retryDelaySeedMs",1e4,u),this.Ta=Xr("forwardChannelMaxRetries",2,u),this.va=Xr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new De(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ea.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,N){zt(0),this.W=u,this.H=y||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=Zo(this,null,this.W),er(this)};function Eo(u){if(Ha(u),u.I==3){var y=u.V++,A=nn(u.J);if(on(A,"SID",u.M),on(A,"RID",y),on(A,"TYPE","terminate"),Ga(u,A),y=new Wi(u,u.j,y),y.M=2,y.A=Ai(nn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=el(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ui(y)}xs(u)}function Or(u){u.g&&(tr(u),u.g.cancel(),u.g=null)}function Ha(u){Or(u),u.v&&(p.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function er(u){if(!Ve(u.h)&&!u.m){u.m=!0;var y=u.Ea;tt||z(),at||(tt(),at=!0),F.add(y,u),u.D=0}}function qa(u,y){return st(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nn(E(u.Ea,u,y),Is(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ie=new Wi(this,this.j,u);let fe=this.o;if(this.U&&(fe?(fe=P(fe),ve(fe,this.U)):fe=this.U),this.u!==null||this.R||(ie.J=fe,fe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=$o(this,ie,y),A=nn(this.J),on(A,"RID",u),on(A,"CVER",22),this.G&&on(A,"X-HTTP-Session-Id",this.G),Ga(this,A),fe&&(this.R?y="headers="+qe(mi(fe))+"&"+y:this.u&&Gr(A,this.u,fe)),yt(this.h,ie),this.Ra&&on(A,"TYPE","init"),this.S?(on(A,"$req",y),on(A,"SID","null"),ie.U=!0,$i(ie,A,null)):$i(ie,A,y),this.I=2}}else this.I==3&&(u?Cs(this,u):this.i.length==0||Ve(this.h)||Cs(this))};function Cs(u,y){var A;y?A=y.l:A=u.V++;const N=nn(u.J);on(N,"SID",u.M),on(N,"RID",A),on(N,"AID",u.K),Ga(u,N),u.u&&u.o&&Gr(N,u.u,u.o),A=new Wi(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=$o(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yt(u.h,A),$i(A,N,y)}function Ga(u,y){u.H&&he(u.H,function(A,N){on(y,N,A)}),u.l&&he({},function(A,N){on(y,N,A)})}function $o(u,y,A){A=Math.min(u.i.length,A);const N=u.l?E(u.l.Ka,u.l,u):null;e:{var ie=u.i;let Rt=-1;for(;;){const Wn=["count="+A];Rt==-1?A>0?(Rt=ie[0].g,Wn.push("ofs="+Rt)):Rt=0:Wn.push("ofs="+Rt);let ln=!0;for(let Vn=0;Vn<A;Vn++){var fe=ie[Vn].g;const zi=ie[Vn].map;if(fe-=Rt,fe<0)Rt=Math.max(0,ie[Vn].g-100),ln=!1;else try{fe="req"+fe+"_"||"";try{var ke=zi instanceof Map?zi:Object.entries(zi);for(const[mr,pr]of ke){let nr=pr;b(pr)&&(nr=v(pr)),Wn.push(fe+mr+"="+encodeURIComponent(nr))}}catch(mr){throw Wn.push(fe+"type="+encodeURIComponent("_badmap")),mr}}catch{N&&N(zi)}}if(ln){ke=Wn.join("&");break e}}ke=void 0}return u=u.i.splice(0,A),y.G=u,ke}function ti(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;tt||z(),at||(tt(),at=!0),F.add(y,u),u.A=0}}function Ta(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nn(E(u.Da,u),Is(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),Or(this),Jo(this))};function tr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new Wi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=nn(u.na);on(y,"RID","rpc"),on(y,"SID",u.M),on(y,"AID",u.K),on(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&on(y,"TO",u.ia),on(y,"TYPE","xmlhttp"),Ga(u,y),u.u&&u.o&&Gr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Ai(nn(y)),A.u=null,A.R=!0,Rr(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Or(this),Ta(this),zt(19))};function ua(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ya(u,y){var A=null;if(u.g==y){ua(u),tr(u),u.g=null;var N=2}else if(Ne(u.h,y))A=y.G,Ue(u.h,y),N=1;else return;if(u.I!=0){if(y.o)if(N==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ie=u.D;N=On(),en(N,new Dn(N,A)),er(u)}else ti(u);else if(ie=y.m,ie==3||ie==0&&y.X>0||!(N==1&&qa(u,y)||N==2&&Ta(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ie){case 1:Dr(u,5);break;case 4:Dr(u,10);break;case 3:Dr(u,6);break;default:Dr(u,2)}}}function Is(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Dr(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),N=u.Ua;const ie=!N;N=new Ft(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||pn(N,"https"),Ai(N),ie?lr(N.toString(),A):Rs(N.toString(),A)}else zt(2);u.I=0,u.l&&u.l.pa(y),xs(u),Ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function xs(u){if(u.I=0,u.ja=[],u.l){const y=ut(u.h);(y.length!=0||u.i.length!=0)&&(B(u.ja,y),B(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function Zo(u,y,A){var N=A instanceof Ft?nn(A):new Ft(A);if(N.g!="")y&&(N.g=y+"."+N.g),Pn(N,N.u);else{var ie=p.location;N=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;const fe=new Ft(null);N&&pn(fe,N),y&&(fe.g=y),ie&&Pn(fe,ie),A&&(fe.h=A),N=fe}return A=u.G,y=u.wa,A&&y&&on(N,A,y),on(N,"VER",u.ka),Ga(u,N),N}function el(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Dt(new Zi({ab:A})):new Dt(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ms(){}r=Ms.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Aa(){}Aa.prototype.g=function(u,y){return new Ri(u,y)};function Ri(u,y){Ze.call(this),this.g=new Ea(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ca(this)}U(Ri,Ze),Ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ri.prototype.close=function(){Eo(this.g)},Ri.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new be(y.Ya++,u)),y.I==3&&er(y)},Ri.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Ri.Z.N.call(this)};function To(u){nt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}U(To,nt);function tl(){He.call(this),this.status=1}U(tl,He);function ca(u){this.g=u}U(ca,Ms),ca.prototype.ra=function(){en(this.g,"a")},ca.prototype.qa=function(u){en(this.g,new To(u))},ca.prototype.pa=function(u){en(this.g,new tl)},ca.prototype.oa=function(){en(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,Ri.prototype.send=Ri.prototype.o,Ri.prototype.open=Ri.prototype.m,Ri.prototype.close=Ri.prototype.close,jb=function(){return new Aa},Ub=function(){return On()},Lb=We,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Ch=Qi,ja.COMPLETE="complete",Pb=ja,Ce.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Uu=Ce,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,kb=Dt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",L_="4.9.2";class qi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");let Wl="12.3.0";const Go=new np("@firebase/firestore");function xl(){return Go.logLevel}function $e(r,...e){if(Go.logLevel<=$t.DEBUG){const i=e.map(dp);Go.debug(`Firestore (${Wl}): ${r}`,...i)}}function ws(r,...e){if(Go.logLevel<=$t.ERROR){const i=e.map(dp);Go.error(`Firestore (${Wl}): ${r}`,...i)}}function zl(r,...e){if(Go.logLevel<=$t.WARN){const i=e.map(dp);Go.warn(`Firestore (${Wl}): ${r}`,...i)}}function dp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,zb(r,a,i)}function zb(r,e,i){let a=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function wn(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||zb(e,l,a)}function xt(r,e){return r}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Bb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(qi.UNAUTHENTICATED)))}shutdown(){}}class dR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mR{constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){wn(this.o===void 0,42304);let a=this.i;const l=w=>this.i!==a?(a=this.i,i(w)):Promise.resolve();let c=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wn(typeof a.accessToken=="string",31837,{l:a}),new Bb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wn(e===null||typeof e=="string",2055,{h:e}),new qi(e)}}class pR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new pR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(qi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ia(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){wn(this.o===void 0,3512);const a=c=>{c.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,$e("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(wn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=vR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Jt(r,e){return r<e?-1:r>e?1:0}function jm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Em(l)===Em(c)?Jt(l,c):Em(l)?1:-1}return Jt(r.length,e.length)}const _R=55296,bR=57343;function Em(r){const e=r.charCodeAt(0);return e>=_R&&e<=bR}function Bl(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const j_="__name__";class Oa{constructor(e,i,a){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Et(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Oa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Oa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Jt(e.length,i.length)}static compareSegments(e,i){const a=Oa.isNumericId(e),l=Oa.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oa.extractNumericId(e).compare(Oa.extractNumericId(i)):jm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class kn extends Oa{construct(e,i,a){return new kn(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new kn(i)}static emptyPath(){return new kn([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends Oa{construct(e,i,a){return new Ni(e,i,a)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new Ni([j_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new et(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new et(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new et(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(i)}static emptyPath(){return new Ni([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(kn.fromString(e))}static fromName(e){return new pt(kn.fromString(e).popFirst(5))}static empty(){return new pt(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return kn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new kn(e.slice()))}}function Fb(r,e,i){if(!i)throw new et(Ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ER(r,e,i,a){if(e===!0&&a===!0)throw new et(Ae.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function z_(r){if(!pt.isDocumentKey(r))throw new et(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B_(r){if(pt.isDocumentKey(r))throw new et(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function qu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new et(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=af(r);throw new et(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function di(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Hb(r))throw new et(Ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new et(Ae.INVALID_ARGUMENT,i);return!0}const F_=-62135596800,H_=1e6;class Bn{static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*H_);return new Bn(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new et(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<F_)throw new et(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,Bn._jsonSchema))return new Bn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bn._jsonSchemaVersion="firestore/timestamp/1.0",Bn._jsonSchema={type:di("string",Bn._jsonSchemaVersion),seconds:di("number"),nanoseconds:di("number")};class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Bn(0,0))}static max(){return new Ct(new Bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function TR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(a===1e9?new Bn(i+1,0):new Bn(i,a));return new po(l,pt.empty(),e)}function AR(r){return new po(r.readTime,r.key,$u)}class po{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new po(Ct.min(),pt.empty(),$u)}static max(){return new po(Ct.max(),pt.empty(),$u)}}function SR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Jt(r.largestBatchId,e.largestBatchId))}const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kl(r){if(r.code!==Ae.FAILED_PRECONDITION||r.message!==RR)throw r;$e("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Se(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Se?i:Se.resolve(i)}catch(i){return Se.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.reject(i)}static resolve(e){return new Se(((i,a)=>{i(e)}))}static reject(e){return new Se(((i,a)=>{a(e)}))}static waitFor(e){return new Se(((i,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>a(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Se.resolve(!1);for(const a of e)i=i.next((l=>l?Se.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new Se(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((x=>{p[E]=x,++b,b===c&&a(p)}),(x=>l(x)))}}))}static doWhile(e,i){return new Se(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function IR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class sf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;const pp=-1;function of(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function xR(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const qb="";function MR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=q_(e)),e=OR(r.get(i),e);return q_(e)}function OR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case qb:i+="";break;default:i+=c}}return i}function q_(r){return r+qb+""}function G_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Gb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Kn{constructor(e,i){this.comparator=e,this.root=i||Di.EMPTY}insert(e,i){return new Kn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Di.RED,this.left=l??Di.EMPTY,this.right=c??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Di(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Di.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Di(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new vi(this.comparator);return i.data=e,i}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pa{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new pa([])}unionWith(e){let i=new vi(Ni.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new pa(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Yb("Invalid base64 string: "+c):c}})(e);return new Vi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Vi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const DR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(wn(!!r,39018),typeof r=="string"){let e=0;const i=DR.exec(r);if(wn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ai(r.seconds),nanos:ai(r.nanos)}}function ai(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yo(r){return typeof r=="string"?Vi.fromBase64String(r):Vi.fromUint8Array(r)}const Xb="server_timestamp",Qb="__type__",Wb="__previous_value__",Kb="__local_write_time__";function gp(r){return(r?.mapValue?.fields||{})[Qb]?.stringValue===Xb}function lf(r){const e=r.mapValue.fields[Wb];return gp(e)?lf(e):e}function Ju(r){const e=go(r.mapValue.fields[Kb].timestampValue);return new Bn(e.seconds,e.nanos)}class NR{constructor(e,i,a,l,c,p,b,w,E,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=x}}const Fh="(default)";class Zu{constructor(e,i){this.projectId=e,this.database=i||Fh}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const $b="__type__",VR="__max__",_h={mapValue:{}},Jb="__vector__",Hh="value";function vo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:PR(r)?9007199254740991:kR(r)?10:11:Et(28295,{value:r})}function Ua(r,e){if(r===e)return!0;const i=vo(r);if(i!==vo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ju(r).isEqual(Ju(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=go(l.timestampValue),b=go(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yo(l.bytesValue).isEqual(yo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ai(l.geoPointValue.latitude)===ai(c.geoPointValue.latitude)&&ai(l.geoPointValue.longitude)===ai(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ai(l.integerValue)===ai(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ai(l.doubleValue),b=ai(c.doubleValue);return p===b?Bh(p)===Bh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],Ua);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(G_(p)!==G_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!Ua(p[w],b[w])))return!1;return!0})(r,e);default:return Et(52216,{left:r})}}function ec(r,e){return(r.values||[]).find((i=>Ua(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=vo(r),a=vo(e);if(i!==a)return Jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Jt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ai(c.integerValue||c.doubleValue),w=ai(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return X_(r.timestampValue,e.timestampValue);case 4:return X_(Ju(r),Ju(e));case 5:return jm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=yo(c),w=yo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const x=Jt(b[E],w[E]);if(x!==0)return x}return Jt(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Jt(ai(c.latitude),ai(p.latitude));return b!==0?b:Jt(ai(c.longitude),ai(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Q_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Hh]?.arrayValue,x=w[Hh]?.arrayValue,U=Jt(E?.values?.length||0,x?.values?.length||0);return U!==0?U:Q_(E,x)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},x=Object.keys(E);w.sort(),x.sort();for(let U=0;U<w.length&&U<x.length;++U){const H=jm(w[U],x[U]);if(H!==0)return H;const te=Fl(b[w[U]],E[x[U]]);if(te!==0)return te}return Jt(w.length,x.length)})(r.mapValue,e.mapValue);default:throw Et(23264,{he:i})}}function X_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Jt(r,e);const i=go(r),a=go(e),l=Jt(i.seconds,a.seconds);return l!==0?l:Jt(i.nanos,a.nanos)}function Q_(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Fl(i[l],a[l]);if(c)return c}return Jt(i.length,a.length)}function Hl(r){return zm(r)}function zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=go(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=zm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${zm(i.fields[p])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function Ih(r){switch(vo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Ih(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Xo(a.fields,((c,p)=>{l+=c.length+Ih(p)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function W_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Bm(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function K_(r){return!!r&&"nullValue"in r}function $_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xh(r){return!!r&&"mapValue"in r}function kR(r){return(r?.mapValue?.fields||{})[$b]?.stringValue===Jb}function Gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xo(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Gu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gu(r.arrayValue.values[i]);return e}return{...r}}function PR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}class ra{constructor(e){this.value=e}static empty(){return new ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!xh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(i)}setAll(e){let i=Ni.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,a,l),a={},l=[],i=b.popLast()}p?a[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());xh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ua(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];xh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Xo(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new ra(Gu(this.value))}}function Zb(r){const e=[];return Xo(r.fields,((i,a)=>{const l=new Ni([i]);if(xh(a)){const c=Zb(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new pa(e)}class Gi{constructor(e,i,a,l,c,p,b){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Gi(e,0,Ct.min(),Ct.min(),Ct.min(),ra.empty(),0)}static newFoundDocument(e,i,a,l){return new Gi(e,1,i,Ct.min(),a,l,0)}static newNoDocument(e,i){return new Gi(e,2,i,Ct.min(),Ct.min(),ra.empty(),0)}static newUnknownDocument(e,i){return new Gi(e,3,i,Ct.min(),Ct.min(),ra.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qh{constructor(e,i){this.position=e,this.inclusive=i}}function J_(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(p.referenceValue),i.key):a=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Z_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ua(r.position[i],e.position[i]))return!1;return!0}class Gh{constructor(e,i="asc"){this.field=e,this.dir=i}}function LR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ew{}class fi extends ew{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new jR(e,i,a):i==="array-contains"?new FR(e,a):i==="in"?new HR(e,a):i==="not-in"?new qR(e,a):i==="array-contains-any"?new GR(e,a):new fi(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new zR(e,a):new BR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&vo(this.value)===vo(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends ew{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ga(e,i)}matches(e){return tw(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tw(r){return r.op==="and"}function nw(r){return UR(r)&&tw(r)}function UR(r){for(const e of r.filters)if(e instanceof ga)return!1;return!0}function Fm(r){if(r instanceof fi)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(nw(r))return r.filters.map((e=>Fm(e))).join(",");{const e=r.filters.map((i=>Fm(i))).join(",");return`${r.op}(${e})`}}function iw(r,e){return r instanceof fi?(function(a,l){return l instanceof fi&&a.op===l.op&&a.field.isEqual(l.field)&&Ua(a.value,l.value)})(r,e):r instanceof ga?(function(a,l){return l instanceof ga&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&iw(p,l.filters[b])),!0):!1})(r,e):void Et(19439)}function rw(r){return r instanceof fi?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof ga?(function(i){return i.op.toString()+" {"+i.getFilters().map(rw).join(" ,")+"}"})(r):"Filter"}class jR extends fi{constructor(e,i,a){super(e,i,a),this.key=pt.fromName(a.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class zR extends fi{constructor(e,i){super(e,"in",i),this.keys=aw("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class BR extends fi{constructor(e,i){super(e,"not-in",i),this.keys=aw("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function aw(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class FR extends fi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yp(i)&&ec(i.arrayValue,this.value)}}class HR extends fi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ec(this.value.arrayValue,i)}}class qR extends fi{constructor(e,i){super(e,"not-in",i)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ec(this.value.arrayValue,i)}}class GR extends fi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ec(this.value.arrayValue,a)))}}class YR{constructor(e,i=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function e0(r,e=null,i=[],a=[],l=null,c=null,p=null){return new YR(r,e,i,a,l,c,p)}function vp(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Fm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),of(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Hl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Hl(a))).join(",")),e.Te=i}return e.Te}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!LR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!iw(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Z_(r.startAt,e.startAt)&&Z_(r.endAt,e.endAt)}function Hm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hc{constructor(e,i=null,a=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XR(r,e,i,a,l,c,p,b){return new hc(r,e,i,a,l,c,p,b)}function bp(r){return new hc(r)}function t0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sw(r){return r.collectionGroup!==null}function Yu(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new vi(Ni.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Gh(c,a))})),i.has(Ni.keyField().canonicalString())||e.Ie.push(new Gh(Ni.keyField(),a))}return e.Ie}function Va(r){const e=xt(r);return e.Ee||(e.Ee=QR(e,Yu(r))),e.Ee}function QR(r,e){if(r.limitType==="F")return e0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gh(l.field,c)}));const i=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return e0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function qm(r,e){const i=r.filters.concat([e]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Gm(r,e,i){return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function uf(r,e){return _p(Va(r),Va(e))&&r.limitType===e.limitType}function ow(r){return`${vp(Va(r))}|lt:${r.limitType}`}function Ml(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>rw(l))).join(", ")}]`),of(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${a})`})(Va(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Yu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,w){const E=J_(p,b,w);return p.inclusive?E<=0:E<0})(a.startAt,Yu(a),l)||a.endAt&&!(function(p,b,w){const E=J_(p,b,w);return p.inclusive?E>=0:E>0})(a.endAt,Yu(a),l))})(r,e)}function WR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lw(r){return(e,i)=>{let a=!1;for(const l of Yu(r)){const c=KR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function KR(r,e,i){const a=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Fl(w,E):Et(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class Qo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return Gb(this.inner)}size(){return this.innerSize}}const $R=new Kn(pt.comparator);function Es(){return $R}const uw=new Kn(pt.comparator);function ju(...r){let e=uw;for(const i of r)e=e.insert(i.key,i);return e}function cw(r){let e=uw;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function jo(){return Xu()}function hw(){return Xu()}function Xu(){return new Qo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const JR=new Kn(pt.comparator),ZR=new vi(pt.comparator);function Zt(...r){let e=ZR;for(const i of r)e=e.add(i);return e}const eC=new vi(Jt);function tC(){return eC}function wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function fw(r){return{integerValue:""+r}}function nC(r,e){return xR(e)?fw(e):wp(r,e)}class hf{constructor(){this._=void 0}}function iC(r,e,i){return r instanceof Yh?(function(l,c){const p={fields:{[Qb]:{stringValue:Xb},[Kb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&gp(c)&&(c=lf(c)),c&&(p.fields[Wb]=c),{mapValue:p}})(i,e):r instanceof tc?mw(r,e):r instanceof nc?pw(r,e):(function(l,c){const p=dw(l,c),b=n0(p)+n0(l.Ae);return Bm(p)&&Bm(l.Ae)?fw(b):wp(l.serializer,b)})(r,e)}function rC(r,e,i){return r instanceof tc?mw(r,e):r instanceof nc?pw(r,e):i}function dw(r,e){return r instanceof Xh?(function(a){return Bm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Yh extends hf{}class tc extends hf{constructor(e){super(),this.elements=e}}function mw(r,e){const i=gw(e);for(const a of r.elements)i.some((l=>Ua(l,a)))||i.push(a);return{arrayValue:{values:i}}}class nc extends hf{constructor(e){super(),this.elements=e}}function pw(r,e){let i=gw(e);for(const a of r.elements)i=i.filter((l=>!Ua(l,a)));return{arrayValue:{values:i}}}class Xh extends hf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function n0(r){return ai(r.integerValue||r.doubleValue)}function gw(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function aC(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof tc&&l instanceof tc||a instanceof nc&&l instanceof nc?Bl(a.elements,l.elements,Ua):a instanceof Xh&&l instanceof Xh?Ua(a.Ae,l.Ae):a instanceof Yh&&l instanceof Yh})(r.transform,e.transform)}class sC{constructor(e,i){this.version=e,this.transformResults=i}}class gs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function yw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _w(r.key,gs.none()):new fc(r.key,r.data,gs.none());{const i=r.data,a=ra.empty();let l=new vi(Ni.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Wo(r.key,a,new pa(l.toArray()),gs.none())}}function oC(r,e,i){r instanceof fc?(function(l,c,p){const b=l.value.clone(),w=r0(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Wo?(function(l,c,p){if(!Mh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=r0(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(vw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Qu(r,e,i,a){return r instanceof fc?(function(c,p,b,w){if(!Mh(c.precondition,p))return b;const E=c.value.clone(),x=a0(c.fieldTransforms,w,p);return E.setAll(x),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,a):r instanceof Wo?(function(c,p,b,w){if(!Mh(c.precondition,p))return b;const E=a0(c.fieldTransforms,w,p),x=p.data;return x.setAll(vw(c)),x.setAll(E),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((U=>U.field)))})(r,e,i,a):(function(c,p,b){return Mh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function lC(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=dw(a.transform,l||null);c!=null&&(i===null&&(i=ra.empty()),i.set(a.field,c))}return i||null}function i0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Bl(a,l,((c,p)=>aC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends ff{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wo extends ff{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function r0(r,e,i){const a=new Map;wn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,rC(p,b,i[l]))}return a}function a0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);a.set(l.field,iC(c,p,e))}return a}class _w extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cC{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&oC(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Qu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Qu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=hw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=yw(p,b);w!==null&&a.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Ct.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Zt())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,a)=>i0(i,a)))&&Bl(this.baseMutations,e.baseMutations,((i,a)=>i0(i,a)))}}class Ep{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){wn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return JR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Ep(e,i,a,l)}}class hC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fC{constructor(e,i){this.count=e,this.unchangedNames=i}}var hi,sn;function dC(r){switch(r){case Ae.OK:return Et(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function bw(r){if(r===void 0)return ws("GRPC error has no .code"),Ae.UNKNOWN;switch(r){case hi.OK:return Ae.OK;case hi.CANCELLED:return Ae.CANCELLED;case hi.UNKNOWN:return Ae.UNKNOWN;case hi.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case hi.INTERNAL:return Ae.INTERNAL;case hi.UNAVAILABLE:return Ae.UNAVAILABLE;case hi.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case hi.NOT_FOUND:return Ae.NOT_FOUND;case hi.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case hi.ABORTED:return Ae.ABORTED;case hi.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case hi.DATA_LOSS:return Ae.DATA_LOSS;default:return Et(39323,{code:r})}}(sn=hi||(hi={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";function mC(){return new TextEncoder}const pC=new fo([4294967295,4294967295],0);function s0(r){const e=mC().encode(r),i=new Vb;return i.update(e),new Uint8Array(i.digest())}function o0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fo([i,a],0),new fo([l,c],0)]}class Tp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(a<0)throw new zu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fo.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(fo.fromNumber(a)));return l.compare(pC)===1&&(l=new fo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=s0(e),[a,l]=o0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Tp(c,l,i);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=s0(e),[a,l]=o0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new df(Ct.min(),l,new Kn(Jt),Es(),Zt())}}class dc{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new dc(a,i,Zt(),Zt(),Zt())}}class Oh{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class ww{constructor(e,i){this.targetId=e,this.Ce=i}}class Ew{constructor(e,i,a=Vi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class l0{constructor(){this.ve=0,this.Fe=u0(),this.Me=Vi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zt(),i=Zt(),a=Zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new dc(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=u0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=bh(),this.He=bh(),this.Ye=new Kn(Jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Hm(c))if(a===0){const p=new pt(c.path);this.et(i,p,Gi.newNoDocument(p,Ct.min()))}else wn(a===1,20013,{expectedCount:a});else{const p=this._t(i);if(p!==a){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=yo(a).toUint8Array()}catch(w){if(w instanceof Yb)return zl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new Tp(p,l,c)}catch(w){return zl(w instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Hm(b.target)){const w=new pt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Gi.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let a=Zt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new df(e,i,this.Ye,this.je,a);return this.je=Es(),this.Je=bh(),this.He=bh(),this.Ye=new Kn(Jt),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new l0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new vi(Jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new vi(Jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||$e("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new Kn(pt.comparator)}function u0(){return new Kn(pt.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class bC{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ym(r,e){return r.useProto3Json||of(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wC(r,e){return Qh(r,e.toTimestamp())}function ka(r){return wn(!!r,49232),Ct.fromTimestamp((function(i){const a=go(i);return new Bn(a.seconds,a.nanos)})(r))}function Ap(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const i=(function(l){return new kn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Aw(r){const e=kn.fromString(r);return wn(xw(e),10190,{key:e.toString()}),e}function Qm(r,e){return Ap(r.databaseId,e.path)}function Tm(r,e){const i=Aw(e);if(i.get(1)!==r.databaseId.projectId)throw new et(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new et(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(Rw(i))}function Sw(r,e){return Ap(r.databaseId,e)}function EC(r){const e=Aw(r);return e.length===4?kn.emptyPath():Rw(e)}function Wm(r){return new kn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Rw(r){return wn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function c0(r,e,i){return{name:Qm(r,e),fields:i.value.mapValue.fields}}function TC(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Et(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,x){return E.useProto3Json?(wn(x===void 0||typeof x=="string",58123),Vi.fromBase64String(x||"")):(wn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vi.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const x=E.code===void 0?Ae.UNKNOWN:bw(E.code);return new et(x,E.message||"")})(p);i=new Ew(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Tm(r,a.document.name),c=ka(a.document.updateTime),p=a.document.createTime?ka(a.document.createTime):Ct.min(),b=new ra({mapValue:{fields:a.document.fields}}),w=Gi.newFoundDocument(l,c,p,b),E=a.targetIds||[],x=a.removedTargetIds||[];i=new Oh(E,x,w.key,w)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Tm(r,a.document),c=a.readTime?ka(a.readTime):Ct.min(),p=Gi.newNoDocument(l,c),b=a.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Tm(r,a.document),c=a.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return Et(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new fC(l,c),b=a.targetId;i=new ww(b,p)}}return i}function AC(r,e){let i;if(e instanceof fc)i={update:c0(r,e.key,e.value)};else if(e instanceof _w)i={delete:Qm(r,e.key)};else if(e instanceof Wo)i={update:c0(r,e.key,e.data),updateMask:NC(e.fieldMask)};else{if(!(e instanceof uC))return Et(16599,{Vt:e.type});i={verify:Qm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof Yh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Xh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw Et(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:wC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,e.precondition)),i}function SC(r,e){return r&&r.length>0?(wn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?ka(l.updateTime):ka(c);return p.isEqual(Ct.min())&&(p=ka(c)),new sC(p,l.transformResults||[])})(i,e)))):[]}function RC(r,e){return{documents:[Sw(r,e.path)]}}function CC(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Sw(r,l);const c=(function(E){if(E.length!==0)return Iw(ga.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((x=>(function(H){return{field:Ol(H.field),direction:MC(H.dir)}})(x)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Ym(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function IC(r){let e=EC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){wn(a===1,65062);const x=i.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(U){const H=Cw(U);return H instanceof ga&&nw(H)?H.getFilters():[H]})(i.where));let p=[];i.orderBy&&(p=(function(U){return U.map((H=>(function(B){return new Gh(Dl(B.field),(function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(H)))})(i.orderBy));let b=null;i.limit&&(b=(function(U){let H;return H=typeof U=="object"?U.value:U,of(H)?null:H})(i.limit));let w=null;i.startAt&&(w=(function(U){const H=!!U.before,te=U.values||[];return new qh(te,H)})(i.startAt));let E=null;return i.endAt&&(E=(function(U){const H=!U.before,te=U.values||[];return new qh(te,H)})(i.endAt)),XR(e,l,p,c,b,"F",w,E)}function xC(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Cw(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Dl(i.unaryFilter.field);return fi.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Dl(i.unaryFilter.field);return fi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(i.unaryFilter.field);return fi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Dl(i.unaryFilter.field);return fi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return fi.create(Dl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ga.create(i.compositeFilter.filters.map((a=>Cw(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function MC(r){return yC[r]}function OC(r){return vC[r]}function DC(r){return _C[r]}function Ol(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Ni.fromServerFormat(r.fieldPath)}function Iw(r){return r instanceof fi?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(i.field),op:OC(i.op),value:i.value}}})(r):r instanceof ga?(function(i){const a=i.getFilters().map((l=>Iw(l)));return a.length===1?a[0]:{compositeFilter:{op:DC(i.op),filters:a}}})(r):Et(54877,{filter:r})}function NC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function xw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class lo{constructor(e,i,a,l,c=Ct.min(),p=Ct.min(),b=Vi.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VC{constructor(e){this.yt=e}}function kC(r){const e=IC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gm(e,e.limit,"L"):e}class PC{constructor(){this.Cn=new LC}addToCollectionParentIndex(e,i){return this.Cn.add(i),Se.resolve()}getCollectionParents(e,i){return Se.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Se.resolve()}deleteFieldIndex(e,i){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,i){return Se.resolve()}getDocumentsMatchingTarget(e,i){return Se.resolve(null)}getIndexType(e,i){return Se.resolve(0)}getFieldIndexes(e,i){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,i){return Se.resolve(po.min())}getMinOffsetFromCollectionGroup(e,i){return Se.resolve(po.min())}updateCollectionGroup(e,i,a){return Se.resolve()}updateIndexEntries(e,i){return Se.resolve()}}class LC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new vi(kn.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new vi(kn.comparator)).toArray()}}const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(Mw,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const f0="LruGarbageCollector",UC=1048576;function d0([r,e],[i,a]){const l=Jt(r,i);return l===0?Jt(e,a):l}class jC{constructor(e){this.Ir=e,this.buffer=new vi(d0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();d0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$e(f0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?$e(f0,"Ignoring IndexedDB error during garbage collection: ",i):await Kl(i)}await this.Vr(3e5)}))}}class BC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Se.resolve(sf.ce);const a=new jC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(h0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,p,b,w,E;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((U=>(U>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),l=this.params.maximumSequenceNumbersToCollect):l=U,p=Date.now(),this.nthSequenceNumber(e,l)))).next((U=>(a=U,b=Date.now(),this.removeTargets(e,a,i)))).next((U=>(c=U,w=Date.now(),this.removeOrphanedDocuments(e,a)))).next((U=>(E=Date.now(),xl()<=$t.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${U} documents in `+(E-w)+`ms
Total Duration: ${E-x}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:U}))))}}function FC(r,e){return new BC(r,e)}class HC{constructor(){this.changes=new Qo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Se.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class GC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Qu(a.mutation,l,pa.empty(),Bn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Zt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Zt()){const l=jo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let p=ju();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const a=jo();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Zt())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,a,l){let c=Es();const p=Xu(),b=(function(){return Xu()})();return i.forEach(((w,E)=>{const x=a.get(E.key);l.has(E.key)&&(x===void 0||x.mutation instanceof Wo)?c=c.insert(E.key,E):x!==void 0?(p.set(E.key,x.mutation.getFieldMask()),Qu(x.mutation,E,x.mutation.getFieldMask(),Bn.now())):p.set(E.key,pa.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,x)=>p.set(E,x))),i.forEach(((E,x)=>b.set(E,new qC(x,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const a=Xu();let l=new Kn(((p,b)=>p-b)),c=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let x=a.get(w)||pa.empty();x=b.applyToLocalView(E,x),a.set(w,x);const U=(l.get(b.batchId)||Zt()).add(w);l=l.insert(b.batchId,U)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,x=w.value,U=hw();x.forEach((H=>{if(!c.has(H)){const te=yw(i.get(H),a.get(H));te!==null&&U.set(H,te),c=c.add(H)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,U))}return Se.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(p){return pt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):Se.resolve(jo());let b=$u,w=c;return p.next((E=>Se.forEach(E,((x,U)=>(b<U.largestBatchId&&(b=U.largestBatchId),c.get(x)?Se.resolve():this.remoteDocumentCache.getEntry(e,x).next((H=>{w=w.insert(x,H)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Zt()))).next((x=>({batchId:b,changes:cw(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((a=>{let l=ju();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Se.forEach(b,(w=>{const E=(function(U,H){return new hc(H,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,a,l).next((x=>{x.forEach(((U,H)=>{p=p.insert(U,H)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((p=>{c.forEach(((w,E)=>{const x=E.getKey();p.get(x)===null&&(p=p.insert(x,Gi.newInvalidDocument(x)))}));let b=ju();return p.forEach(((w,E)=>{const x=c.get(w);x!==void 0&&Qu(x.mutation,E,pa.empty(),Bn.now()),cf(i,E)&&(b=b.insert(w,E))})),b}))}}class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Se.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ka(l.createTime)}})(i)),Se.resolve()}getNamedQuery(e,i){return Se.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:kC(l.bundledQuery),readTime:ka(l.readTime)}})(i)),Se.resolve()}}class XC{constructor(){this.overlays=new Kn(pt.comparator),this.qr=new Map}getOverlay(e,i){return Se.resolve(this.overlays.get(i))}getOverlays(e,i){const a=jo();return Se.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),Se.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Se.resolve()}getOverlaysForCollection(e,i,a){const l=jo(),c=i.length+1,p=new pt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>a&&l.set(w.getKey(),w)}return Se.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Kn(((E,x)=>E-x));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>a){let x=c.get(E.largestBatchId);x===null&&(x=jo(),c=c.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const b=jo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,x)=>b.set(E,x))),!(b.size()>=l)););return Se.resolve(b)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new hC(i,a));let c=this.qr.get(i);c===void 0&&(c=Zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class QC{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Se.resolve()}}class Sp{constructor(){this.Qr=new vi(Ei.$r),this.Ur=new vi(Ei.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ei(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ei(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pt(new kn([])),a=new Ei(i,e),l=new Ei(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new kn([])),a=new Ei(i,e),l=new Ei(i,e+1);let c=Zt();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Ei(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ei{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Jt(e.Yr,i.Yr)}static Kr(e,i){return Jt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}class WC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new vi(Ei.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new cC(c,i,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Ei(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Se.resolve(p)}lookupMutationBatch(e,i){return Se.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ei(i,0),l=new Ei(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new vi(Jt);return i.forEach((l=>{const c=new Ei(l,0),p=new Ei(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Se.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const p=new Ei(new pt(c),0);let b=new vi(Jt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!a.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Se.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){wn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Se.forEach(i.mutations,(l=>{const c=new Ei(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ei(i,0),l=this.Zr.firstAfterOrEqual(a);return Se.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class KC{constructor(e){this.ri=e,this.docs=(function(){return new Kn(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Se.resolve(a?a.document.mutableCopy():Gi.newInvalidDocument(i))}getEntries(e,i){let a=Es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Gi.newInvalidDocument(l))})),Se.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Es();const p=i.path,b=new pt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:x}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||SR(AR(x),a)<=0||(l.has(x.key)||cf(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Se.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Et(9500)}ii(e,i){return Se.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new $C(this)}getSize(e){return Se.resolve(this.size)}}class $C extends HC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Se.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class JC{constructor(e){this.persistence=e,this.si=new Qo((i=>vp(i)),_p),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Sp,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Se.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Se.resolve()}updateTargetData(e,i){return this.Pr(i),Se.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Se.waitFor(c).next((()=>l))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Se.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Se.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Se.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Se.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Se.resolve(a)}containsKey(e,i){return Se.resolve(this._i.containsKey(i))}}class Ow{constructor(e,i){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new QC,this.referenceDelegate=e(this),this.Pi=new JC(this),this.indexManager=new PC,this.remoteDocumentCache=(function(l){return new KC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new VC(i),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new WC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){$e("MemoryPersistence","Starting transaction:",e);const l=new ZC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Se.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class ZC extends CR{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new Sp,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Se.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Se.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Se.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ct.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Se.or([()=>Se.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Wh{constructor(e,i){this.persistence=e,this.pi=new Qo((a=>MR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=FC(this,i)}static mi(e,i){return new Wh(e,i)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Se.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Se.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(a++,c.removeEntry(p,Ct.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Se.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ih(e.data.value)),i}br(e,i,a){return Se.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Se.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Zt(),l=Zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cp(e,i.fromCache,a,l)}}class eI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qT()?8:IR(Yi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new eI;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(xl()<=$t.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",Ml(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(xl()<=$t.DEBUG&&$e("QueryEngine","Query:",Ml(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(xl()<=$t.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",Ml(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Va(i))):Se.resolve())}ys(e,i){if(t0(i))return Se.resolve(null);let a=Va(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Gm(i,null,"F"),a=Va(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=Zt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Gm(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,a,l){return t0(i)||l.isEqual(Ct.min())?Se.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,a,l)?Se.resolve(null):(xl()<=$t.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ml(i)),this.vs(e,p,i,TR(l,$u)).next((b=>b)))}))}Ds(e,i){let a=new vi(lw(e));return i.forEach(((l,c)=>{cf(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return xl()<=$t.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Ml(i)),this.ps.getDocumentsMatchingQuery(e,i,po.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Ip="LocalStore",nI=3e8;class iI{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Kn(Jt),this.xs=new Qo((c=>vp(c)),_p),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function rI(r,e,i,a){return new iI(r,e,i,a)}async function Dw(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let w=Zt();for(const E of l){p.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}for(const E of c){b.push(E.batchId);for(const x of E.mutations)w=w.add(x.key)}return i.localDocuments.getDocuments(a,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function aI(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,x){const U=E.batch,H=U.keys();let te=Se.resolve();return H.forEach((B=>{te=te.next((()=>x.getEntry(w,B))).next((Oe=>{const Te=E.docVersions.get(B);wn(Te!==null,48541),Oe.version.compareTo(Te)<0&&(U.applyToRemoteDocument(Oe,E),Oe.isValidDocument()&&(Oe.setReadTime(E.commitVersion),x.addEntry(Oe)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(w,U)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let w=Zt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function Nw(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function sI(r,e){const i=xt(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((x,U)=>{const H=l.get(U);if(!H)return;b.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,U).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,U))));let te=H.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(U)!==null?te=te.withResumeToken(Vi.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):x.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(x.resumeToken,a)),l=l.insert(U,te),(function(Oe,Te,Le){return Oe.resumeToken.approximateByteSize()===0||Te.snapshotVersion.toMicroseconds()-Oe.snapshotVersion.toMicroseconds()>=nI?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(H,te,x)&&b.push(i.Pi.updateTargetData(c,te))}));let w=Es(),E=Zt();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(oI(c,p,e.documentUpdates).next((x=>{w=x.ks,E=x.qs}))),!a.isEqual(Ct.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((U=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(x)}return Se.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function oI(r,e,i){let a=Zt(),l=Zt();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let p=Es();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Ct.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):$e(Ip,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function lI(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=pp),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function uI(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,Se.resolve(l)):i.Pi.allocateTargetId(a).next((p=>(l=new lo(e,p,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Km(r,e,i){const a=xt(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;$e(Ip,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function m0(r,e,i){const a=xt(r);let l=Ct.min(),c=Zt();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,x){const U=xt(w),H=U.xs.get(x);return H!==void 0?Se.resolve(U.Ms.get(H)):U.Pi.getTargetData(E,x)})(a,p,Va(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,i?l:Ct.min(),i?c:Zt()))).next((b=>(cI(a,WR(e),b),{documents:b,Qs:c})))))}function cI(r,e,i){let a=r.Os.get(e)||Ct.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class p0{constructor(){this.activeTargetIds=tC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.Mo=new p0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fI{Oo(e){}shutdown(){}}const g0="ConnectivityMonitor";class y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$e(g0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$e(g0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function $m(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const Am="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Fh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const p=$m(),b=this.zo(e,i.toUriEncodedString());$e(Am,`Sending RPC '${e}' ${p}:`,b,a);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),x=Yl(E);return this.Jo(e,b,w,a,x).then((U=>($e(Am,`Received RPC '${e}' ${p}: `,U),U)),(U=>{throw zl(Am,`RPC '${e}' ${p} failed with error: `,U,"url: ",b,"request:",a),U}))}Ho(e,i,a,l,c,p){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=dI[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class pI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Hi="WebChannelConnection";class gI extends mI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const p=$m();return new Promise(((b,w)=>{const E=new kb;E.setWithCredentials(!0),E.listenOnce(Pb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Ch.NO_ERROR:const U=E.getResponseJson();$e(Hi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(U)),b(U);break;case Ch.TIMEOUT:$e(Hi,`RPC '${e}' ${p} timed out`),w(new et(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const H=E.getStatus();if($e(Hi,`RPC '${e}' ${p} failed with status:`,H,"response text:",E.getResponseText()),H>0){let te=E.getResponseJson();Array.isArray(te)&&(te=te[0]);const B=te?.error;if(B&&B.status&&B.message){const Oe=(function(Le){const je=Le.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(je)>=0?je:Ae.UNKNOWN})(B.status);w(new et(Oe,B.message))}else w(new et(Ae.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new et(Ae.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{$e(Hi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);$e(Hi,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",x,a,15)}))}T_(e,i,a){const l=$m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=jb(),b=Ub(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,a),w.encodeInitMessageHeaders=!0;const x=c.join("");$e(Hi,`Creating RPC '${e}' stream ${l}: ${x}`,w);const U=p.createWebChannel(x,w);this.I_(U);let H=!1,te=!1;const B=new pI({Yo:Te=>{te?$e(Hi,`Not sending because RPC '${e}' stream ${l} is closed:`,Te):(H||($e(Hi,`Opening RPC '${e}' stream ${l} transport.`),U.open(),H=!0),$e(Hi,`RPC '${e}' stream ${l} sending:`,Te),U.send(Te))},Zo:()=>U.close()}),Oe=(Te,Le,je)=>{Te.listen(Le,(Be=>{try{je(Be)}catch(Je){setTimeout((()=>{throw Je}),0)}}))};return Oe(U,Uu.EventType.OPEN,(()=>{te||($e(Hi,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),Oe(U,Uu.EventType.CLOSE,(()=>{te||(te=!0,$e(Hi,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(U))})),Oe(U,Uu.EventType.ERROR,(Te=>{te||(te=!0,zl(Hi,`RPC '${e}' stream ${l} transport errored. Name:`,Te.name,"Message:",Te.message),B.a_(new et(Ae.UNAVAILABLE,"The operation could not be completed")))})),Oe(U,Uu.EventType.MESSAGE,(Te=>{if(!te){const Le=Te.data[0];wn(!!Le,16349);const je=Le,Be=je?.error||je[0]?.error;if(Be){$e(Hi,`RPC '${e}' stream ${l} received error:`,Be);const Je=Be.status;let tt=(function(z){const V=hi[z];if(V!==void 0)return bw(V)})(Je),at=Be.message;tt===void 0&&(tt=Ae.INTERNAL,at="Unknown error status: "+Je+" with message "+Be.message),te=!0,B.a_(new et(tt,at)),U.close()}else $e(Hi,`RPC '${e}' stream ${l} received:`,Le),B.u_(Le)}})),Oe(b,Lb.STAT_EVENT,(Te=>{Te.stat===Um.PROXY?$e(Hi,`RPC '${e}' stream ${l} detected buffering proxy`):Te.stat===Um.NOPROXY&&$e(Hi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Sm(){return typeof document<"u"?document:null}function mf(r){return new bC(r,!0)}class Vw{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&$e("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const v0="PersistentStream";class kw{constructor(e,i,a,l,c,p,b,w){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ae.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new et(Ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return $e(v0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():($e(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends kw{constructor(e,i,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ct.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Ct.min():p.readTime?ka(p.readTime):Ct.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Wm(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=Hm(w)?{documents:RC(c,w)}:{query:CC(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=Tw(c,p.resumeToken);const E=Ym(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Ct.min())>0){b.readTime=Qh(c,p.snapshotVersion.toTimestamp());const E=Ym(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const a=xC(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Wm(this.serializer),i.removeTarget=e,this.q_(i)}}class vI extends kw{constructor(e,i,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return wn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=SC(e.writeResults,e.commitTime),a=ka(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>AC(this.serializer,a)))};this.q_(i)}}class _I{}class bI extends _I{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Xm(i,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Ae.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Xm(i,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Ae.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):$e("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class EI{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Ko(this)&&($e(Yo,"Restarting streams for network reachability change."),await(async function(w){const E=xt(w);E.Ea.add(4),await mc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await pf(E)})(this))}))})),this.Ra=new wI(a,l)}}async function pf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function mc(r){for(const e of r.da)await e(!1)}function Pw(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Dp(i)?Op(i):Jl(i).O_()&&Mp(i,e))}function xp(r,e){const i=xt(r),a=Jl(i);i.Ia.delete(e),a.O_()&&Lw(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ko(i)&&i.Ra.set("Unknown"))}function Mp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Jl(r).Y_(e)}function Lw(r,e){r.Va.Ue(e),Jl(r).Z_(e)}function Op(r){r.Va=new gC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Jl(r).start(),r.Ra.ua()}function Dp(r){return Ko(r)&&!Jl(r).x_()&&r.Ia.size>0}function Ko(r){return xt(r).Ea.size===0}function Uw(r){r.Va=void 0}async function TI(r){r.Ra.set("Online")}async function AI(r){r.Ia.forEach(((e,i)=>{Mp(r,e)}))}async function SI(r,e){Uw(r),Dp(r)?(r.Ra.ha(e),Op(r)):r.Ra.set("Unknown")}async function RI(r,e,i){if(r.Ra.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(a){$e(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Kh(r,a)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof ww?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ct.min()))try{const a=await Nw(r.localStore);i.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const x=c.Ia.get(E);x&&c.Ia.set(E,x.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const x=c.Ia.get(w);if(!x)return;c.Ia.set(w,x.withResumeToken(Vi.EMPTY_BYTE_STRING,x.snapshotVersion)),Lw(c,w);const U=new lo(x.target,w,E,x.sequenceNumber);Mp(c,U)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(a){$e(Yo,"Failed to raise snapshot:",a),await Kh(r,a)}}async function Kh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await mc(r),r.Ra.set("Offline"),i||(i=()=>Nw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{$e(Yo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await pf(r)}))}function jw(r,e){return e().catch((i=>Kh(r,i,e)))}async function gf(r){const e=xt(r),i=_o(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pp;for(;CI(e);)try{const l=await lI(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,II(e,l)}catch(l){await Kh(e,l)}zw(e)&&Bw(e)}function CI(r){return Ko(r)&&r.Ta.length<10}function II(r,e){r.Ta.push(e);const i=_o(r);i.O_()&&i.X_&&i.ea(e.mutations)}function zw(r){return Ko(r)&&!_o(r).x_()&&r.Ta.length>0}function Bw(r){_o(r).start()}async function xI(r){_o(r).ra()}async function MI(r){const e=_o(r);for(const i of r.Ta)e.ea(i.mutations)}async function OI(r,e,i){const a=r.Ta.shift(),l=Ep.from(a,e,i);await jw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gf(r)}async function DI(r,e){e&&_o(r).X_&&await(async function(a,l){if((function(p){return dC(p)&&p!==Ae.ABORTED})(l.code)){const c=a.Ta.shift();_o(a).B_(),await jw(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gf(a)}})(r,e),zw(r)&&Bw(r)}async function _0(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),$e(Yo,"RemoteStore received new credentials");const a=Ko(i);i.Ea.add(3),await mc(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await pf(i)}async function NI(r,e){const i=xt(r);e?(i.Ea.delete(2),await pf(i)):e||(i.Ea.add(2),await mc(i),i.Ra.set("Unknown"))}function Jl(r){return r.ma||(r.ma=(function(i,a,l){const c=xt(i);return c.sa(),new yI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:TI.bind(null,r),t_:AI.bind(null,r),r_:SI.bind(null,r),H_:RI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Dp(r)?Op(r):r.Ra.set("Unknown")):(await r.ma.stop(),Uw(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(i,a,l){const c=xt(i);return c.sa(),new vI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xI.bind(null,r),r_:DI.bind(null,r),ta:MI.bind(null,r),na:OI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&($e(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Np{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const p=Date.now()+a,b=new Np(e,i,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,e){if(ws("AsyncQueue",`${e}: ${r}`),$l(r))return new et(Ae.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=ju(),this.sortedSet=new Kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class b0{constructor(){this.ga=new Kn(pt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Et(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Gl{constructor(e,i,a,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,a,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Ll.emptySet(i),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kI{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xt(i),c=l.queries;l.queries=w0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(a)}))})(this,new et(Ae.ABORTED,"Firestore shutting down"))}}function w0(){return new Qo((r=>ow(r)),uf)}async function PI(r,e){const i=xt(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new VI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Vp(p,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&kp(i)}async function LI(r,e){const i=xt(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function UI(r,e){const i=xt(r);let a=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&kp(i)}function jI(r,e,i){const a=xt(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function kp(r){r.Ca.forEach((e=>{e.next()}))}var Jm,E0;(E0=Jm||(Jm={})).Ma="default",E0.Cache="cache";class zI{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Gl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jm.Cache}}class Fw{constructor(e){this.key=e}}class Hw{constructor(e){this.key=e}}class BI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zt(),this.mutatedKeys=Zt(),this.eu=lw(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new b0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,U)=>{const H=l.get(x),te=cf(this.query,U)?U:null,B=!!H&&this.mutatedKeys.has(H.key),Oe=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let Te=!1;H&&te?H.data.isEqual(te.data)?B!==Oe&&(a.track({type:3,doc:te}),Te=!0):this.su(H,te)||(a.track({type:2,doc:te}),Te=!0,(w&&this.eu(te,w)>0||E&&this.eu(te,E)<0)&&(b=!0)):!H&&te?(a.track({type:0,doc:te}),Te=!0):H&&!te&&(a.track({type:1,doc:H}),Te=!0,(w||E)&&(b=!0)),Te&&(te?(p=p.add(te),c=Oe?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,U)=>(function(te,B){const Oe=Te=>{switch(Te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:Te})}};return Oe(te)-Oe(B)})(x.type,U.type)||this.eu(x.doc,U.doc))),this.ou(a),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Hw(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Fw(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pp="SyncEngine";class FI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class HI{constructor(e){this.key=e,this.hu=!1}}class qI{constructor(e,i,a,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Qo((b=>ow(b)),uf),this.Iu=new Map,this.Eu=new Set,this.du=new Kn(pt.comparator),this.Au=new Map,this.Ru=new Sp,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GI(r,e,i=!0){const a=Ww(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await qw(a,e,i,!0),l}async function YI(r,e){const i=Ww(r);await qw(i,e,!0,!1)}async function qw(r,e,i,a){const l=await uI(r.localStore,Va(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return a&&(b=await XI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Pw(r.remoteStore,l),b}async function XI(r,e,i,a,l){r.pu=(U,H,te)=>(async function(Oe,Te,Le,je){let Be=Te.view.ru(Le);Be.Cs&&(Be=await m0(Oe.localStore,Te.query,!1).then((({documents:F})=>Te.view.ru(F,Be))));const Je=je&&je.targetChanges.get(Te.targetId),tt=je&&je.targetMismatches.get(Te.targetId)!=null,at=Te.view.applyChanges(Be,Oe.isPrimaryClient,Je,tt);return A0(Oe,Te.targetId,at.au),at.snapshot})(r,U,H,te);const c=await m0(r.localStore,e,!0),p=new BI(e,c.Qs),b=p.ru(c.documents),w=dc.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);A0(r,i,E.au);const x=new FI(e,i,p);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function QI(r,e,i){const a=xt(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!uf(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Km(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&xp(a.remoteStore,l.targetId),Zm(a,l.targetId)})).catch(Kl)):(Zm(a,l.targetId),await Km(a.localStore,l.targetId,!0))}async function WI(r,e){const i=xt(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),xp(i.remoteStore,a.targetId))}async function KI(r,e,i){const a=ix(r);try{const l=await(function(p,b){const w=xt(p),E=Bn.now(),x=b.reduce(((te,B)=>te.add(B.key)),Zt());let U,H;return w.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let B=Es(),Oe=Zt();return w.Ns.getEntries(te,x).next((Te=>{B=Te,B.forEach(((Le,je)=>{je.isValidDocument()||(Oe=Oe.add(Le))}))})).next((()=>w.localDocuments.getOverlayedDocuments(te,B))).next((Te=>{U=Te;const Le=[];for(const je of b){const Be=lC(je,U.get(je.key).overlayedDocument);Be!=null&&Le.push(new Wo(je.key,Be,Zb(Be.value.mapValue),gs.exists(!0)))}return w.mutationQueue.addMutationBatch(te,E,Le,b)})).next((Te=>{H=Te;const Le=Te.applyToLocalDocumentSet(U,Oe);return w.documentOverlayCache.saveOverlays(te,Te.batchId,Le)}))})).then((()=>({batchId:H.batchId,changes:cw(U)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Kn(Jt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(a,l.batchId,i),await pc(a,l.changes),await gf(a.remoteStore)}catch(l){const c=Vp(l,"Failed to persist write");i.reject(c)}}async function Gw(r,e){const i=xt(r);try{const a=await sI(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(wn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?wn(p.hu,14607):l.removedDocuments.size>0&&(wn(p.hu,42227),p.hu=!1))})),await pc(i,a,e)}catch(a){await Kl(a)}}function T0(r,e,i){const a=xt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=xt(p);w.onlineState=b;let E=!1;w.queries.forEach(((x,U)=>{for(const H of U.Sa)H.va(b)&&(E=!0)})),E&&kp(w)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $I(r,e,i){const a=xt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new Kn(pt.comparator);p=p.insert(c,Gi.newNoDocument(c,Ct.min()));const b=Zt().add(c),w=new df(Ct.min(),new Map,new Kn(Jt),p,b);await Gw(a,w),a.du=a.du.remove(c),a.Au.delete(e),Lp(a)}else await Km(a.localStore,e,!1).then((()=>Zm(a,e,i))).catch(Kl)}async function JI(r,e){const i=xt(r),a=e.batch.batchId;try{const l=await aI(i.localStore,e);Xw(i,a,null),Yw(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await pc(i,l)}catch(l){await Kl(l)}}async function ZI(r,e,i){const a=xt(r);try{const l=await(function(p,b){const w=xt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let x;return w.mutationQueue.lookupMutationBatch(E,b).next((U=>(wn(U!==null,37113),x=U.keys(),w.mutationQueue.removeMutationBatch(E,U)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,x,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x))).next((()=>w.localDocuments.getDocuments(E,x)))}))})(a.localStore,e);Xw(a,e,i),Yw(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await pc(a,l)}catch(l){await Kl(l)}}function Yw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Xw(r,e,i){const a=xt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Zm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Qw(r,a)}))}function Qw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(xp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Lp(r))}function A0(r,e,i){for(const a of i)a instanceof Fw?(r.Ru.addReference(a.key,e),ex(r,a)):a instanceof Hw?($e(Pp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Qw(r,a.key)):Et(19791,{wu:a})}function ex(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||($e(Pp,"New document in limbo: "+i),r.Eu.add(a),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(kn.fromString(e)),a=r.fu.next();r.Au.set(a,new HI(i)),r.du=r.du.insert(i,a),Pw(r.remoteStore,new lo(Va(bp(i.path)),a,"TargetPurposeLimboResolution",sf.ce))}}async function pc(r,e,i){const a=xt(r),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,w)=>{p.push(a.pu(w,e,i).then((E=>{if((E||i)&&a.isPrimaryClient){const x=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;a.sharedClientState.updateQueryState(w.targetId,x?"current":"not-current")}if(E){l.push(E);const x=Cp.As(w.targetId,E);c.push(x)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(w,E){const x=xt(w);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(U=>Se.forEach(E,(H=>Se.forEach(H.Es,(te=>x.persistence.referenceDelegate.addReference(U,H.targetId,te))).next((()=>Se.forEach(H.ds,(te=>x.persistence.referenceDelegate.removeReference(U,H.targetId,te)))))))))}catch(U){if(!$l(U))throw U;$e(Ip,"Failed to update sequence numbers: "+U)}for(const U of E){const H=U.targetId;if(!U.fromCache){const te=x.Ms.get(H),B=te.snapshotVersion,Oe=te.withLastLimboFreeSnapshotVersion(B);x.Ms=x.Ms.insert(H,Oe)}}})(a.localStore,c))}async function tx(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){$e(Pp,"User change. New user:",e.toKey());const a=await Dw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new et(Ae.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await pc(i,a.Ls)}}function nx(r,e){const i=xt(r),a=i.Au.get(e);if(a&&a.hu)return Zt().add(a.key);{let l=Zt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function Ww(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.Pu.H_=UI.bind(null,e.eventManager),e.Pu.yu=jI.bind(null,e.eventManager),e}function ix(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rI(this.persistence,new tI,e.initialUser,this.serializer)}Cu(e){return new Ow(Rp.mi,this.serializer)}Du(e){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class rx extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){wn(this.persistence.referenceDelegate instanceof Wh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new Ow((a=>Wh.mi(a,i)),this.serializer)}}class ep{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>T0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tx.bind(null,this.syncEngine),await NI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kI})()}createDatastore(e){const i=mf(e.databaseInfo.databaseId),a=(function(c){return new gI(c)})(e.databaseInfo);return(function(c,p,b,w){return new bI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,p,b){return new EI(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>T0(this.syncEngine,i,0)),(function(){return y0.v()?new y0:new fI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,x){const U=new qI(l,c,p,b,w,E);return x&&(U.gu=!0),U})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xt(i);$e(Yo,"RemoteStore shutting down."),a.Ea.add(5),await mc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ep.provider={build:()=>new ep};class ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const bo="FirestoreClient";class sx{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=qi.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{$e(bo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>($e(bo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Vp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),$e(bo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Dw(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function S0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await ox(r);$e(bo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>_0(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>_0(e.remoteStore,l))),r._onlineComponents=e}async function ox(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){$e(bo,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ae.FAILED_PRECONDITION||l.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await Rm(r,new $h)}}else $e(bo,"Using default OfflineComponentProvider"),await Rm(r,new rx(void 0));return r._offlineComponents}async function Kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?($e(bo,"Using user provided OnlineComponentProvider"),await S0(r,r._uninitializedComponentsProvider._online)):($e(bo,"Using default OnlineComponentProvider"),await S0(r,new ep))),r._onlineComponents}function lx(r){return Kw(r).then((e=>e.syncEngine))}async function R0(r){const e=await Kw(r),i=e.eventManager;return i.onListen=GI.bind(null,e.syncEngine),i.onUnlisten=QI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=YI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WI.bind(null,e.syncEngine),i}function $w(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const C0=new Map;const Jw="firestore.googleapis.com",I0=!0;class x0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jw,this.ssl=I0}else this.host=e.host,this.ssl=e.ssl??I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UC)throw new et(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ER("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$w(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fR;switch(a.type){case"firstParty":return new gR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=C0.get(i);a&&($e("ComponentProvider","Removing Datastore"),C0.delete(i),a.terminate())})(this),Promise.resolve()}}function ux(r,e,i,a={}){r=qu(r,yf);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(W0(`https://${b}`),K0("Firestore",!0)),c.host!==Jw&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:a};if(!Fo(w,p)&&(r._setSettings(w),a.mockUserToken)){let E,x;if(typeof a.mockUserToken=="string")E=a.mockUserToken,x=qi.MOCK_USER;else{E=kT(a.mockUserToken,r._app?.options.projectId);const U=a.mockUserToken.sub||a.mockUserToken.user_id;if(!U)throw new et(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new qi(U)}r._authCredentials=new dR(new Bb(E,x))}}class Zl{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class yi{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yi(this.firestore,e,this._key)}toJSON(){return{type:yi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(cc(i,yi._jsonSchema))return new yi(e,a||null,new pt(kn.fromString(i.referencePath)))}}yi._jsonSchemaVersion="firestore/documentReference/1.0",yi._jsonSchema={type:di("string",yi._jsonSchemaVersion),referencePath:di("string")};class mo extends Zl{constructor(e,i,a){super(e,i,bp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yi(this.firestore,null,new pt(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function Zw(r,e,...i){if(r=Tr(r),Fb("collection","path",e),r instanceof yf){const a=kn.fromString(e,...i);return B_(a),new mo(r,null,a)}{if(!(r instanceof yi||r instanceof mo))throw new et(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(kn.fromString(e,...i));return B_(a),new mo(r.firestore,null,a)}}function cx(r,e,...i){if(r=Tr(r),arguments.length===1&&(e=mp.newId()),Fb("doc","path",e),r instanceof yf){const a=kn.fromString(e,...i);return z_(a),new yi(r,null,new pt(a))}{if(!(r instanceof yi||r instanceof mo))throw new et(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(kn.fromString(e,...i));return z_(a),new yi(r.firestore,r instanceof mo?r.converter:null,new pt(a))}}const M0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vw(this,"async_queue_retry"),this._c=()=>{const a=Sm();a&&$e(M0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;$e(M0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",D0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Np.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:D0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function D0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function N0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Jh extends yf{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new O0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function hx(r,e){const i=typeof r=="object"?r:eb(),a=typeof r=="string"?r:Fh,l=rp(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=NT("firestore");c&&ux(l,...c)}return l}function e1(r){if(r._terminated)throw new et(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fx(r),r._firestoreClient}function fx(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new NR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,$w(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Vi.fromBase64String(e))}catch(i){throw new et(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new aa(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:aa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,aa._jsonSchema))return aa.fromBase64String(e.bytes)}}aa._jsonSchemaVersion="firestore/bytes/1.0",aa._jsonSchema={type:di("string",aa._jsonSchemaVersion),bytes:di("string")};class Up{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new et(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t1{constructor(e){this._methodName=e}}class Pa{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new et(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new et(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pa._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Pa._jsonSchema))return new Pa(e.latitude,e.longitude)}}Pa._jsonSchemaVersion="firestore/geoPoint/1.0",Pa._jsonSchema={type:di("string",Pa._jsonSchemaVersion),latitude:di("number"),longitude:di("number")};class La{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:La._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,La._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new La(e.vectorValues);throw new et(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}La._jsonSchemaVersion="firestore/vectorValue/1.0",La._jsonSchema={type:di("string",La._jsonSchemaVersion),vectorValues:di("object")};const dx=/^__.*__$/;class mx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,i,this.fieldTransforms):new fc(e,this.data,i,this.fieldTransforms)}}function n1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class jp{constructor(e,i,a,l,c,p){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n1(this.Ac)&&dx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class px{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||mf(e)}Cc(e,i,a,l=!1){return new jp({Ac:e,methodName:i,Dc:a,path:Ni.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i1(r){const e=r._freezeSettings(),i=mf(r._databaseId);return new px(r._databaseId,!!e.ignoreUndefinedProperties,i)}function gx(r,e,i,a,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);s1("Data must be an object, but it was:",p,a);const b=r1(a,p);let w,E;if(c.merge)w=new pa(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const U of c.mergeFields){const H=vx(e,U,i);if(!p.contains(H))throw new et(Ae.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);bx(x,H)||x.push(H)}w=new pa(x),E=p.fieldTransforms.filter((U=>w.covers(U.field)))}else w=null,E=p.fieldTransforms;return new mx(new ra(b),w,E)}function yx(r,e,i,a=!1){return zp(i,r.Cc(a?4:3,e))}function zp(r,e){if(a1(r=Tr(r)))return s1("Unsupported field value:",e,r),r1(r,e);if(r instanceof t1)return(function(a,l){if(!n1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let w=zp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=Tr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Bn.fromDate(a);return{timestampValue:Qh(l.serializer,c)}}if(a instanceof Bn){const c=new Bn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qh(l.serializer,c)}}if(a instanceof Pa)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof aa)return{bytesValue:Tw(l.serializer,a._byteString)};if(a instanceof yi){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ap(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof La)return(function(p,b){return{mapValue:{fields:{[$b]:{stringValue:Jb},[Hh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return wp(b.serializer,E)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${af(a)}`)})(r,e)}function r1(r,e){const i={};return Gb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(r,((a,l)=>{const c=zp(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function a1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Bn||r instanceof Pa||r instanceof aa||r instanceof yi||r instanceof t1||r instanceof La)}function s1(r,e,i){if(!a1(i)||!Hb(i)){const a=af(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function vx(r,e,i){if((e=Tr(e))instanceof Up)return e._internalPath;if(typeof e=="string")return o1(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,i)}const _x=new RegExp("[~\\*/\\[\\]]");function o1(r,e,i){if(e.search(_x)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Up(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zh(r,e,i,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${a}`),p&&(w+=` in document ${l}`),w+=")"),new et(Ae.INVALID_ARGUMENT,b+r+w)}function bx(r,e){return r.some((i=>i.isEqual(e)))}class l1{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(u1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class wx extends l1{data(){return super.data()}}function u1(r,e){return typeof e=="string"?o1(r,e):e instanceof Up?e._internalPath:e._delegate._internalPath}function Ex(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bp{}class Tx extends Bp{}function Ax(r,e,...i){let a=[];e instanceof Bp&&a.push(e),a=a.concat(i),(function(c){const p=c.filter((w=>w instanceof Hp)).length,b=c.filter((w=>w instanceof Fp)).length;if(p>1||p>0&&b>0)throw new et(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Fp extends Tx{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Fp(e,i,a)}_apply(e){const i=this._parse(e);return c1(e._query,i),new Zl(e.firestore,e.converter,qm(e._query,i))}_parse(e){const i=i1(e.firestore);return(function(c,p,b,w,E,x,U){let H;if(E.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new et(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){k0(U,x);const B=[];for(const Oe of U)B.push(V0(w,c,Oe));H={arrayValue:{values:B}}}else H=V0(w,c,U)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||k0(U,x),H=yx(b,p,U,x==="in"||x==="not-in");return fi.create(E,x,H)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Hp extends Bp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Hp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ga.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)c1(p,w),p=qm(p,w)})(e._query,i),new Zl(e.firestore,e.converter,qm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function V0(r,e,i){if(typeof(i=Tr(i))=="string"){if(i==="")throw new et(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sw(e)&&i.indexOf("/")!==-1)throw new et(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(kn.fromString(i));if(!pt.isDocumentKey(a))throw new et(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return W_(r,new pt(a))}if(i instanceof yi)return W_(r,i._key);throw new et(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(i)}.`)}function k0(r,e){if(!Array.isArray(r)||r.length===0)throw new et(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c1(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new et(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Sx{convertValue(e,i="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Xo(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Hh].arrayValue?.values?.map((a=>ai(a.doubleValue)));return new La(i)}convertGeoPoint(e){return new Pa(ai(e.latitude),ai(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=lf(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const i=go(e);return new Bn(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=kn.fromString(e);wn(xw(a),9688,{name:e});const l=new Zu(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Rx(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends l1{constructor(e,i,a,l,c,p){super(e,i,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(u1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Bo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:di("string",Bo._jsonSchemaVersion),bundleSource:di("string","DocumentSnapshot"),bundleName:di("string"),bundle:di("string")};class Dh extends Bo{data(e={}){return super.data(e)}}class Ul{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Dh(this._firestore,this._userDataWriter,a.key,a,new Bu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Bu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Bu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,x=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Cx(b.type),doc:w,oldIndex:E,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:di("string",Ul._jsonSchemaVersion),bundleSource:di("string","QuerySnapshot"),bundleName:di("string"),bundle:di("string")};class h1 extends Sx{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new yi(this.firestore,null,i)}}function Ix(r,e){const i=qu(r.firestore,Jh),a=cx(r),l=Rx(r.converter,e);return Mx(i,[gx(i1(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,gs.exists(!1))]).then((()=>a))}function xx(r,...e){r=Tr(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||N0(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(N0(e[a])){const w=e[a];e[a]=w.next?.bind(w),e[a+1]=w.error?.bind(w),e[a+2]=w.complete?.bind(w)}let c,p,b;if(r instanceof yi)p=qu(r.firestore,Jh),b=bp(r._key.path),c={next:w=>{e[a]&&e[a](Ox(p,r,w))},error:e[a+1],complete:e[a+2]};else{const w=qu(r,Zl);p=qu(w.firestore,Jh),b=w._query;const E=new h1(p);c={next:x=>{e[a]&&e[a](new Ul(p,E,w,x))},error:e[a+1],complete:e[a+2]},Ex(r._query)}return(function(E,x,U,H){const te=new ax(H),B=new zI(x,te,U);return E.asyncQueue.enqueueAndForget((async()=>PI(await R0(E),B))),()=>{te.Nu(),E.asyncQueue.enqueueAndForget((async()=>LI(await R0(E),B)))}})(e1(p),b,l,c)}function Mx(r,e){return(function(a,l){const c=new zo;return a.asyncQueue.enqueueAndForget((async()=>KI(await lx(a),l,c))),c.promise})(e1(r),e)}function Ox(r,e,i){const a=i.docs.get(e._key),l=new h1(r);return new Bo(r,l,e._key,a,new Bu(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Wl=l})(Xl),jl(new Ho("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Jh(new mR(a.getProvider("auth-internal")),new yR(p,a.getProvider("app-check-internal")),(function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new et(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(E.options.projectId,x)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),ho(P_,L_,e),ho(P_,L_,"esm2020")})();const Dx={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},Nx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):Dx,f1=Z0(Nx),Cm=cR(f1),d1=hx(f1),m1=typeof __app_id<"u"?__app_id:"long-jump-game",mt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},na=5,zr=50,tp=30,no=40,p1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},P0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],L0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Vx=[{version:"3.60",date:"Nov 26",changes:["Added 2 Wildcard spots: One before 30m, one after.","Wildcard tiles in hand now display the Sparkle icon.","Updated Rules with Bonus types."]},{version:"3.50",date:"Nov 26",changes:["Fixed Undo: Tiles now properly return to hand.","Added Change Log to Main Menu.","Rounded edges on Board Obstacles."]},{version:"3.40",date:"Nov 26",changes:["Added random Obstacles (Blocks) to the board.","Elite Leaderboard: Gold styling & Crown for 40+ scores.","Increased Board size to 50 columns."]}],vf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},_f=r=>{let e=1779033703,i=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=a^Math.imul(i^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^a^l)>>>0},kx=()=>new Date().toISOString().split("T")[0],Px=r=>{const e=_f(r),i=vf(e),a=[],l=15,c=new Set;for(;a.length<l;){const p=Math.floor(i()*na),b=Math.floor(i()*zr);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let x=1;E>.5&&(x=2),E>.8&&(x=3),a.push({r:p,c:b,val:x})}}return a},Lx=r=>{const e=_f(r+"OBSTACLES"),i=vf(e),a=[],l=5,c=new Set;for(;a.length<l;){const p=Math.floor(i()*na),b=Math.floor(i()*zr);if(b===0)continue;const w=`${p},${b}`;c.has(w)||(c.add(w),a.push({r:p,c:b}))}return a},Ux=(r,e)=>{const i=_f(r+"WILDCARDS_V3"),a=vf(i),l=[];let c=0;for(;c<100;){const p=Math.floor(a()*na),b=5,E=Math.floor(a()*(29-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}for(c=0;c<100;){const p=Math.floor(a()*na),b=30,w=zr-1,E=Math.floor(a()*(w-b+1))+b;if(!e.some(x=>x.r===p&&x.c===E)){l.push({r:p,c:E});break}c++}return l},jx=()=>{const r=[];for(let i=1;i<zr;i++)Math.random()<.1&&r.push({r:0,c:i,type:"top"}),Math.random()<.1&&r.push({r:na-1,c:i,type:"bottom"});return r},zx=r=>{const e=_f(r),i=vf(e);let a=[];Object.entries(p1).forEach(([b,w])=>{for(let E=0;E<w;E++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=tp;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},Bx=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},Fx=()=>{const r=wt.useRef(null);return wt.useEffect(()=>{const e=r.current,i=e.getContext("2d");let a=window.innerWidth,l=window.innerHeight;e.width=a,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",mt.accentPrimary];for(let x=0;x<150;x++)c.push({x:Math.random()*a,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,a,l),c.forEach(x=>{x.y+=x.vy,x.x+=x.vx+Math.sin(x.y/50),x.rotation+=x.rotationSpeed,x.y>l&&(x.y=-10,x.x=Math.random()*a),i.save(),i.translate(x.x,x.y),i.rotate(x.rotation*Math.PI/180),i.fillStyle=x.color,i.fillRect(-x.size/2,-x.size/2,x.size,x.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{a=window.innerWidth,l=window.innerHeight,e.width=a,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),Y.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-50"})},U0=()=>{const{RiveComponent:r}=oo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return Y.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto"}})},j0=({trigger:r})=>{const{rive:e,RiveComponent:i}=oo.useRive({src:"fan.riv",autoplay:!0,layout:new oo.Layout({fit:oo.Fit.Contain,alignment:oo.Alignment.Center})});return wt.useEffect(()=>{if(r&&e)try{if(e.viewModelInstance){const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}}catch(a){console.error("Error firing trigger:",a)}},[r,e]),Y.jsx("div",{style:{width:`${no}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:Y.jsx("div",{style:{width:"39px",height:"60px"},children:Y.jsx(i,{})})})},Im=({highlightName:r,user:e,onRankFound:i})=>{const[a,l]=wt.useState([]),[c,p]=wt.useState(!0),[b,w]=wt.useState("daily");return wt.useEffect(()=>{if(!e)return;p(!0);const E=Zw(d1,"artifacts",m1,"public","data","scores"),x=Ax(E),U=xx(x,H=>{const te=new Date,B=te.toISOString().split("T")[0],Oe=te.getDay(),Te=te.getDate()-Oe+(Oe===0?-6:1),Le=new Date(te.setDate(Te));Le.setHours(0,0,0,0);const je=H.docs.map(tt=>({id:tt.id,...tt.data()}));let Be=[];b==="daily"?Be=je.filter(tt=>tt.date===B):Be=je.filter(tt=>new Date(tt.date)>=Le);const Je=Be.sort((tt,at)=>at.score-tt.score).slice(0,100);if(l(Je),p(!1),r&&i){const tt=Je.findIndex(at=>at.name===r);tt!==-1&&i(tt+1)}},H=>{console.error("Error fetching leaderboard:",H),p(!1)});return()=>U()},[e,b,r,i]),Y.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col",children:[Y.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx(n_,{size:20,className:"text-yellow-500"}),Y.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"Leaders"})]}),Y.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[Y.jsx("button",{onClick:()=>w("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${b==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),Y.jsx("button",{onClick:()=>w("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${b==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:c?Y.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):a.length===0?Y.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",Y.jsx("br",{}),"Be the first!"]}):Y.jsx("div",{className:"space-y-1",children:a.map((E,x)=>{const U=E.score>=40;return Y.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${E.name===r?`bg-[${mt.accentPrimary}]/10 border-[${mt.accentPrimary}]/20`:U?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,style:E.name===r?{backgroundColor:`${mt.accentPrimary}15`,borderColor:`${mt.accentPrimary}30`}:{},children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("span",{className:`font-black w-5 text-center ${x===0?"text-yellow-500 text-lg":x===1?"text-gray-400 text-base":x===2?"text-orange-700 text-base":"text-gray-300"}`,children:x+1}),Y.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[U&&Y.jsx(n_,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),Y.jsx("span",{className:`font-bold truncate max-w-[90px] ${E.name===r?"text-black":U?"text-amber-900":"text-gray-700"}`,style:E.name===r?{color:mt.accentPrimary}:{},children:E.name})]})]}),Y.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${U?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[E.score,"m"]})]},x)})})})]})},z0=()=>{const r=P0[Math.floor(Math.random()*P0.length)],e=L0[Math.floor(Math.random()*L0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},B0=()=>Array(na).fill(null).map(()=>Array(zr).fill(null)),xm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(a=>a.r===e)||r.every(a=>a.c===i)},to=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15),letter:r,isNew:e});function Hx(){const[r,e]=wt.useState("menu"),[i,a]=wt.useState(()=>z0()),[l,c]=wt.useState(()=>B0()),[p,b]=wt.useState([]),[w,E]=wt.useState([]),[x,U]=wt.useState([]),[H,te]=wt.useState(0),[B,Oe]=wt.useState([]),[Te,Le]=wt.useState([]),[je,Be]=wt.useState([]),[Je,tt]=wt.useState([]),[at,F]=wt.useState(null),[z,V]=wt.useState(null),[L,C]=wt.useState([]),[k,I]=wt.useState(0),[K,se]=wt.useState(0),[q,ee]=wt.useState(null),[ye,he]=wt.useState(!1),[Ie,P]=wt.useState(!1),[ne,ve]=wt.useState({text:"Goal: Get as far right as you can.",type:"info",invalidWord:null}),[_e,Re]=wt.useState(!1),[Ge,ot]=wt.useState(!1),[ht,bt]=wt.useState(!1),[Ot,cn]=wt.useState(!1),[ct,At]=wt.useState(!1),[vt,Ut]=wt.useState(!1),[qn,ei]=wt.useState(!1),[Yt,Ze]=wt.useState(null),[en,Rn]=wt.useState(null),[Br,Gn]=wt.useState(!1),kt=wt.useRef(null),[En,R]=wt.useState(!1),[g,v]=wt.useState(0),[D,Q]=wt.useState(0),de=l.some(re=>re.some(ge=>ge!==null));wt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await KS(Cm,__initial_auth_token):await GS(Cm)})();const ge=ZS(Cm,Rn);return()=>ge()},[]),wt.useEffect(()=>{if(K===k)return;const re=500,ge=performance.now(),be=K,De=k,Ve=st=>{const Ne=st-ge,yt=Math.min(Ne/re,1),Ue=1-Math.pow(1-yt,3),ut=Math.floor(be+(De-be)*Ue);se(ut),yt<1&&requestAnimationFrame(Ve)};requestAnimationFrame(Ve)},[k]),wt.useEffect(()=>{Ce()},[]);const Ce=()=>{const re=kx(),ge=zx(re);U(ge);const be=ge.slice(0,tp).map(Ve=>to(Ve,!1)).sort((Ve,st)=>Ve.letter.localeCompare(st.letter));b(be),te(tp),c(B0()),C([]),E([]),I(0),se(0),ee(null),he(!1),P(!1),Oe(Px(re));const De=Lx(re);Le(De),Be(Ux(re,De)),tt(jx()),ve({text:"Goal: Get as far right as you can.",type:"neutral"}),Ut(!1),ot(!1),bt(!1),cn(!1),At(!1),Gn(!1),F(null),V(null),kt.current&&(kt.current.scrollLeft=0)},Qe=()=>{i.trim()||a(z0()),e("playing"),k>0&&Ce(),bt(!0)},nt=()=>{e("menu"),Ce()},He=()=>{if(w.length===0)return;const re=w[w.length-1],ge=w.slice(0,-1);c(re.grid),b(re.hand),I(re.score),te(re.drawCount),E(ge),C([]),ve({text:"Move undone",type:"info"})},We=()=>{ot(!0)},tn=async()=>{if(ot(!1),Ut(!0),Gn(!0),en)try{const be=new Date().toISOString().split("T")[0],De=Zw(d1,"artifacts",m1,"public","data","scores");await Ix(De,{name:i||"Anonymous",score:k,date:be,timestamp:Date.now(),userId:en.uid})}catch(be){console.error("Error saving score:",be)}Gn(!1);const re=k*50+800;setTimeout(()=>{e("gameOver"),Ut(!1)},Math.max(re,2500))},On=()=>{ot(!1)},mn=async()=>{const re=q?Bx(q):"top",ge="https://www.longjump.co.za";let be;q?be=`${i} placed ${re} in Long-Jump with a distance of ${k}m. How far can you get? ${ge}`:be=`${i} got a distance of ${k}m in Long-Jump. How far can you get? ${ge}`;try{await navigator.clipboard.writeText(be),he(!0),setTimeout(()=>he(!1),1e3)}catch(De){console.error("Failed to copy: ",De),ve({text:"Failed to copy result.",type:"error"})}},Fn=re=>{re.target.closest('[draggable="true"]')||re.target.tagName==="BUTTON"||(R(!0),v(re.pageX-kt.current.offsetLeft),Q(kt.current.scrollLeft))},$n=()=>{R(!1)},zt=()=>{R(!1)},Dn=re=>{if(!En)return;re.preventDefault();const be=(re.pageX-kt.current.offsetLeft-g)*1.5;kt.current.scrollLeft=D-be},Nn=(re,ge,be)=>{if(re.letter==="*"){Ze({r:ge,c:be,tileId:re.id}),ei(!0);return}Yn(re,ge,be)},Yn=(re,ge,be,De=!1,Ve=null)=>{if(l.every(Ue=>Ue.every(ut=>ut===null))&&L.length===0&&be!==0){ve({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Ne=Ve||re.letter,yt=[...L,{r:ge,c:be,letter:Ne,isWild:De}];if(!xm(yt)){ve({text:" Tiles must be placed in a single row or column",type:"error"});return}C(yt),b(Ue=>Ue.filter(ut=>ut.id!==re.id)),ne.type==="error"&&ve({text:"Goal: Get as far right as you can.",type:"neutral"})},Xi=re=>{if(Yt){const ge={id:Yt.tileId,letter:"*"};Yn(ge,Yt.r,Yt.c,!0,re),ei(!1),Ze(null),F(null),V(null)}},gt=re=>{if(!vt){if(z){Nn(re,z.r,z.c),V(null);return}at===re.letter?F(null):F(re.letter)}},Xn=(re,ge)=>{if(En||vt||l[re]&&l[re][ge]||Te.some(De=>De.r===re&&De.c===ge))return;const be=L.findIndex(De=>De.r===re&&De.c===ge);if(be!==-1){const De=L[be],Ve=[...L];Ve.splice(be,1),C(Ve);const st=De.isWild?"*":De.letter,Ne=to(st,!1);b(yt=>[...yt,Ne].sort((Ue,ut)=>Ue.letter!==ut.letter?Ue.letter.localeCompare(ut.letter):Ue.isNew===ut.isNew?0:Ue.isNew?1:-1)),F(null),V(null);return}if(at!==null){const De=p.filter(Ve=>Ve.letter===at);if(De.length>0){const Ve=De[De.length-1];Nn(Ve,re,ge),De.length<=1&&F(null)}}else z&&z.r===re&&z.c===ge?V(null):V({r:re,c:ge})},St=(re,ge)=>{vt||(re.dataTransfer.setData("text/plain",JSON.stringify(ge)),re.dataTransfer.effectAllowed="move")},Pi=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},Qi=(re,ge,be)=>{if(vt||(re.preventDefault(),re.stopPropagation(),Te.some(Ve=>Ve.r===ge&&Ve.c===be)))return;const De=re.dataTransfer.getData("text/plain");if(!(!De||!De.trim()||!De.trim().startsWith("{")))try{const Ve=JSON.parse(De);if(l[ge]&&l[ge][be])return;const st=L.findIndex(Ne=>Ne.r===ge&&Ne.c===be);if(Ve.type==="hand"){const Ne=Ve.tile;if(Ne.letter==="*"){Ze({r:ge,c:be,tileId:Ne.id}),ei(!0);return}if(l.every(Ue=>Ue.every(ut=>ut===null))&&L.length===0&&be!==0){ve({text:" Start Game: Place first tile in Column 1",type:"error"});return}if(st!==-1){const Ue=L[st],ut=[...L],Bt=Ue.isWild?"*":Ue.letter,Tn=to(Bt,!1);ut.splice(st,1,{r:ge,c:be,letter:Ne.letter,isWild:!1}),C(ut),b(Ft=>[...Ft.filter(pn=>pn.id!==Ne.id),Tn].sort((pn,Pn)=>pn.letter!==Pn.letter?pn.letter.localeCompare(Pn.letter):pn.isNew===Pn.isNew?0:pn.isNew?1:-1))}else{const Ue=[...L,{r:ge,c:be,letter:Ne.letter,isWild:!1}];if(!xm(Ue)){ve({text:" Tiles must be placed in a single row or column",type:"error"});return}C(Ue),b(ut=>ut.filter(Bt=>Bt.id!==Ne.id))}p.filter(Ue=>Ue.letter===Ne.letter).length<=1&&F(null),V(null),ne.type==="error"&&ve({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ve.type==="board"){if(Ve.r===ge&&Ve.c===be)return;const Ne=L.findIndex(ut=>ut.r===Ve.r&&ut.c===Ve.c);if(Ne===-1)return;const yt=L[Ne],Ue=[...L];if(st!==-1){const ut=L[st];Ue[st]={...ut,r:Ve.r,c:Ve.c},Ue[Ne]={...yt,r:ge,c:be}}else Ue[Ne]={...yt,r:ge,c:be};if(!xm(Ue)){ve({text:" Tiles must be placed in a single row or column",type:"error"});return}C(Ue)}}catch{}},ja=re=>{if(vt)return;re.preventDefault(),re.stopPropagation();const ge=re.dataTransfer.getData("text/plain");if(!(!ge||!ge.trim()||!ge.trim().startsWith("{")))try{const be=JSON.parse(ge);if(be.type==="board"){const De=L.find(Ne=>Ne.r===be.r&&Ne.c===be.c),Ve=De&&De.isWild?"*":be.letter,st=to(Ve,!1);C(Ne=>Ne.filter(yt=>!(yt.r===be.r&&yt.c===be.c))),b(Ne=>[...Ne,st].sort((yt,Ue)=>yt.letter!==Ue.letter?yt.letter.localeCompare(Ue.letter):yt.isNew===Ue.isNew?0:yt.isNew?1:-1))}}catch{}},Ar=(re,ge)=>{if(!l||!l[re])return null;if(l[re][ge])return{letter:l[re][ge],type:"locked"};const be=L.find(De=>De.r===re&&De.c===ge);return be?{letter:be.letter,type:"temp",isWild:be.isWild}:null},Sr=(re,ge)=>B.find(be=>be.r===re&&be.c===ge),qe=(re,ge)=>Te.find(be=>be.r===re&&be.c===ge),ya=async()=>{if(L.length===0)return;Re(!0),ve({text:"Validating...",type:"info"});const re=l.map(Ne=>[...Ne]);if(L.forEach(Ne=>{re[Ne.r]&&(re[Ne.r][Ne.c]=Ne.letter)}),L.length>1){const Ne=[...L].sort((Bt,Tn)=>Bt.r-Tn.r||Bt.c-Tn.c),yt=Ne[0],Ue=Ne[Ne.length-1];if(yt.r===Ue.r){for(let Bt=yt.c;Bt<=Ue.c;Bt++)if(!re[yt.r][Bt]){Xt("Cannot leave gaps between tiles.");return}}else for(let Bt=yt.r;Bt<=Ue.r;Bt++)if(!re[Bt][yt.c]){Xt("Cannot leave gaps between tiles.");return}}const ge=l.every(Ne=>Ne.every(yt=>yt===null));let be=!1,De=!1;if(L.forEach(Ne=>{Ne.c===0&&(be=!0),[{r:Ne.r+1,c:Ne.c},{r:Ne.r-1,c:Ne.c},{r:Ne.r,c:Ne.c+1},{r:Ne.r,c:Ne.c-1}].forEach(Ue=>{Ue.r>=0&&Ue.r<na&&Ue.c>=0&&Ue.c<zr&&l[Ue.r]&&l[Ue.r][Ue.c]&&(De=!0)})}),ge&&!be){Xt("First word must start in Column 1.");return}if(!ge&&!De){Xt("Tiles must connect to existing words.");return}const st=Ki(re).filter(Ne=>Ne.cells.some(yt=>L.some(Ue=>Ue.r===yt.r&&Ue.c===yt.c)));if(st.length===0){Xt("Words must be at least 2 letters.");return}try{const Ne=[];for(const yt of st)await Wi(yt.word)||Ne.push(yt.word);if(Ne.length>0){Xt(`Invalid word(s): ${Ne.join(", ")}`,Ne[0]);return}Qn(re,st)}catch(Ne){console.error(Ne),Xt("Error checking dictionary. Try again.")}},Wi=async re=>{const ge=re.toUpperCase();if(ge.length===2||["NET","OUR"].includes(ge))return["AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","NET","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","OUR","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"].includes(ge);try{const be=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${re}`);if(!be.ok)return!1;const De=await be.json();return Array.isArray(De)&&De.length>0}catch{return!0}},Ki=re=>{let ge=[];for(let be=0;be<na;be++){let De="",Ve=[];for(let st=0;st<zr;st++)re[be]&&re[be][st]?(De+=re[be][st],Ve.push({r:be,c:st})):(De.length>1&&ge.push({word:De,cells:[...Ve],type:"H"}),De="",Ve=[]);De.length>1&&ge.push({word:De,cells:[...Ve],type:"H"})}for(let be=0;be<zr;be++){let De="",Ve=[];for(let st=0;st<na;st++)re[st]&&re[st][be]?(De+=re[st][be],Ve.push({r:st,c:be})):(De.length>1&&ge.push({word:De,cells:[...Ve],type:"V"}),De="",Ve=[]);De.length>1&&ge.push({word:De,cells:[...Ve],type:"V"})}return ge},Xt=(re,ge=null)=>{ve({text:re,type:"error",invalidWord:ge}),Re(!1)},Qn=(re,ge)=>{const be=JSON.parse(JSON.stringify(l)),De=L.map(Ue=>to(Ue.isWild?"*":Ue.letter,!1)),Ve=[...p,...De].sort((Ue,ut)=>Ue.letter!==ut.letter?Ue.letter.localeCompare(ut.letter):Ue.isNew===ut.isNew?0:Ue.isNew?1:-1);E(Ue=>[...Ue,{grid:be,hand:Ve,score:k,drawCount:H}]),c(re),P(!0),setTimeout(()=>P(!1),200);let st=0,Ne=!1;if(ge.forEach(Ue=>{Ue.cells.forEach(ut=>{const Bt=Sr(ut.r,ut.c),Tn=L.some(Ft=>Ft.r===ut.r&&Ft.c===ut.c);Bt&&Tn&&(st+=Bt.val),je.some(Ft=>Ft.r===ut.r&&Ft.c===ut.c)&&(Ne=!0)})}),st>0){const ut=x.slice(H,H+st).map(Bt=>to(Bt,!0));b(Bt=>[...Bt,...ut].sort((Ft,nn)=>Ft.letter!==nn.letter?Ft.letter.localeCompare(nn.letter):Ft.isNew===nn.isNew?0:Ft.isNew?1:-1)),te(Bt=>Bt+st)}if(Ne){const Ue=to("*",!0);b(ut=>[...ut,Ue].sort((Tn,Ft)=>Tn.letter!==Ft.letter?Tn.letter.localeCompare(Ft.letter):Tn.isNew===Ft.isNew?0:Tn.isNew?1:-1))}if(st>0||Ne){const Ue=Ne?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${st} Bonus Tiles!`;ve({text:Ue,type:"success"})}else ve({text:"Valid move!",type:"success"});let yt=k-1;L.forEach(Ue=>{Ue.c>yt&&(yt=Ue.c)});for(let Ue=0;Ue<na;Ue++)for(let ut=0;ut<zr;ut++)re[Ue]&&re[Ue][ut]&&ut>yt&&(yt=ut);I(yt+1),C([]),Re(!1),V(null)},$i=()=>{b(re=>[...re].sort(()=>Math.random()-.5))},Rr=()=>{b(re=>[...re].sort((ge,be)=>ge.letter!==be.letter?ge.letter.localeCompare(be.letter):ge.isNew===be.isNew?0:ge.isNew?1:-1))},As=p.reduce((re,ge)=>(re[ge.letter]||(re[ge.letter]=[]),re[ge.letter].push(ge),re),{}),Li=Array.from(new Set(p.map(re=>re.letter))),Fr=Li.length>=6,Ui=Math.ceil(Li.length/2),Ti=Fr?Li.slice(0,Ui):Li,Ji=Fr?Li.slice(Ui):[],_i=({letter:re})=>{const ge=As[re]||[],be=ge.length,De=ge[be-1],Ve=at===re,st=Math.min(be,15),Ne=6,yt=40+(st>1?(st-1)*Ne:0);return Y.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${yt}px`},children:[[...Array(st-1)].map((Ue,ut)=>{const Tn=(re.charCodeAt(0)+ut)%7-3;return Y.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${ut*Ne}px`,zIndex:ut,transform:`rotate(${Tn}deg)`}},ut)}),Y.jsxs("button",{draggable:!vt,onDragStart:Ue=>St(Ue,{type:"hand",tile:De}),onClick:()=>gt(De),className:`
                    absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all cursor-grab active:cursor-grabbing
                `,style:{bottom:`${(st-1)*Ne}px`,zIndex:st,backgroundColor:Ve?mt.accentPrimary:re==="*"?mt.tileTemp:"white",color:Ve?"white":mt.textMain,transform:Ve?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ve?0:re.charCodeAt(0)%5-2}deg)`},children:[De&&De.isNew&&Y.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),re==="*"?Y.jsx(fm,{size:20,fill:mt.starPurple,className:"text-purple-500"}):re]})]})};return r==="gameOver"?Y.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row items-center justify-center relative overflow-hidden font-sans p-6 gap-12 overflow-y-auto",style:{backgroundColor:mt.background,color:mt.textMain},children:[Y.jsx(Fx,{}),Y.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex-1 self-stretch flex flex-col justify-center lg:h-[600px]",children:[Y.jsx("div",{className:"hidden md:block w-48 h-16 mx-auto mb-4",children:Y.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),Y.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:mt.accentPrimary},children:"Complete"}),Y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:mt.textSub},children:"Athlete"}),Y.jsx("div",{className:"text-3xl font-black mb-6",style:{color:mt.textMain},children:i}),Y.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:mt.textSub},children:"Distance"}),Y.jsxs("div",{className:"text-6xl font-black",style:{color:mt.accentSecondary},children:[K,"m"]})]}),Y.jsx("button",{onClick:mn,className:`
                        w-full py-3 mb-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2
                        ${ye?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}
                    `,children:ye?Y.jsxs(Y.Fragment,{children:[Y.jsx(JE,{size:20})," Copied to Clipboard"]}):Y.jsxs(Y.Fragment,{children:[Y.jsx(mT,{size:20})," Share Result"]})}),Y.jsx("button",{onClick:nt,className:"w-full py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"})]}),Y.jsx("div",{className:"z-10 w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Im,{highlightName:i,user:en,onRankFound:ee})})]}):r==="menu"?Y.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:mt.background,color:mt.textMain},children:[ct&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative max-h-[80vh] flex flex-col",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(i_,{size:48,style:{color:mt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"What's New"}),Y.jsx("div",{className:"flex-1 overflow-y-auto text-left text-gray-600 mb-6 text-sm space-y-6 pr-2",children:Vx.map((re,ge)=>Y.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-0 last:pb-0",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsxs("span",{className:"font-black text-black text-lg",children:["v",re.version]}),Y.jsx("span",{className:"text-xs font-bold bg-gray-100 px-2 py-1 rounded text-gray-500",children:re.date})]}),Y.jsx("ul",{className:"space-y-2",children:re.changes.map((be,De)=>Y.jsxs("li",{className:"flex gap-2 items-start",children:[Y.jsx("span",{className:"font-bold text-green-500 mt-1",children:""}),Y.jsx("span",{children:be})]},De))})]},ge))}),Y.jsx("button",{onClick:()=>At(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg shrink-0",style:{backgroundColor:mt.accentPrimary},children:"Close"})]})}),Y.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[Y.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[Y.jsx(U0,{}),Y.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[Y.jsx("span",{children:"Refreshed Daily"}),Y.jsx(dm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),Y.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:mt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),Y.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[Y.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5",children:"A word game by Richard Bolland"}),Y.jsxs("button",{onClick:()=>At(!0),className:"text-[10px] font-bold text-gray-400 hover:text-green-600 uppercase tracking-widest flex items-center gap-1 mt-1",children:["What's New ",Y.jsx(i_,{size:10})]})]})]}),Y.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[Y.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:mt.textSub},children:"Enter your name"}),Y.jsx("input",{type:"text",value:i,onChange:re=>a(re.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:mt.textMain,borderColor:"transparent"},onFocus:re=>re.target.style.borderColor=mt.accentPrimary,onBlur:re=>re.target.style.borderColor="transparent",onKeyDown:re=>re.key==="Enter"&&Qe()})]}),Y.jsx("button",{onClick:Qe,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:mt.accentPrimary},children:Y.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",Y.jsx(cT,{size:24,fill:"currentColor"})]})}),Y.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:Y.jsx(Im,{user:en})})]}),Y.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:Y.jsx(Im,{user:en})})]}):Y.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden",style:{backgroundColor:mt.background,color:mt.textMain},children:[qn&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[Y.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),Y.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(p1).filter(re=>re!=="*").map(re=>Y.jsx("button",{onClick:()=>Xi(re),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:mt.textMain},children:re},re))}),Y.jsx("button",{onClick:()=>{ei(!1),Ze(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(ht||Ot)&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[Y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:Y.jsx(KE,{size:48,style:{color:mt.accentPrimary}})}),Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),Y.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["This is a ",Y.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Place words ",Y.jsx("strong",{children:"Left to Right"})," or ",Y.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Minimum ",Y.jsx("strong",{children:"2 letter"})," words."]})]}),Y.jsxs("p",{className:"flex gap-2",children:[Y.jsx("span",{className:"font-bold text-black",children:""}),Y.jsxs("span",{children:["Start in ",Y.jsx("strong",{children:"Column 1"})," (left)."]})]}),Y.jsx("hr",{className:"border-gray-100 my-2"}),Y.jsxs("p",{className:"flex gap-2 items-center",children:[Y.jsx(dm,{size:16,className:"text-yellow-500 fill-yellow-500"}),Y.jsxs("span",{children:[Y.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),Y.jsxs("p",{className:"flex gap-2 items-center",children:[Y.jsx(fm,{size:16,className:"text-purple-500 fill-purple-500"}),Y.jsxs("span",{children:[Y.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),Y.jsx("button",{onClick:()=>{bt(!1),cn(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:mt.accentPrimary},children:ht?"Let's Jump!":"Close"})]})}),Ge&&Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:Y.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[Y.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),Y.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",Y.jsx("strong",{style:{color:mt.accentPrimary},children:k}),". This will end your current run."]}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsx("button",{onClick:On,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),Y.jsx("button",{onClick:tn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:mt.accentPrimary},children:"Confirm"})]})]})}),Y.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative",children:[Y.jsxs("div",{className:"w-32 flex flex-col items-start",children:[Y.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),Y.jsx("div",{className:"block md:hidden",children:k>0&&Y.jsxs("button",{onClick:We,disabled:vt||_e,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",Y.jsx(r_,{size:10,style:{color:mt.starGold}})]})})]}),Y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[Y.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:()=>e("menu"),children:Y.jsx(U0,{})}),Y.jsx("div",{className:"hidden md:block mt-6",children:k>0&&Y.jsxs("button",{onClick:We,disabled:vt||_e,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",Y.jsx(r_,{size:10,style:{color:mt.starGold}})]})})]}),Y.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[Y.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:mt.accentPrimary},children:i||"PLAYER 1"}),Y.jsxs("button",{onClick:()=>cn(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",Y.jsx(sT,{size:12})]})]})]}),Y.jsx("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-center items-center shrink-0",children:Y.jsx("div",{className:"flex gap-6",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("span",{className:"block text-[10px] uppercase tracking-widest",style:{color:mt.accentPrimary},children:"DISTANCE"}),Y.jsxs("span",{className:"font-black text-2xl transition-all duration-500",style:{color:mt.accentPrimary},children:[K,"m"]})]})})}),Y.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Fn,onMouseLeave:$n,onMouseUp:zt,onMouseMove:Dn,children:Y.jsx("div",{ref:kt,className:`
            w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar
            ${En?"cursor-grabbing":"cursor-grab"}
            py-2 md:py-20
          `,style:{userSelect:"none"},children:Y.jsxs("div",{className:"relative p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content"},children:[Y.jsx("div",{className:"flex relative mb-3",style:{width:`${zr*no}px`,height:"24px"},children:Array(zr).fill(0).map((re,ge)=>{const be=ge===0,De=(ge+1)%5===0;return!be&&!De?null:Y.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end",style:{left:ge*no+no/2},children:[Y.jsx("span",{className:`text-xs tracking-wider ${be?"text-black font-black":"text-gray-400"}`,children:be?"START":`${ge+1}m`}),Y.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${be?"bg-black":"bg-gray-300"}`})]},`ruler-${ge}`)})}),Y.jsxs("div",{className:"relative",children:[Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none",children:Je.filter(re=>re.type==="top").map((re,ge)=>Y.jsx("div",{className:"absolute -top-[55px]",style:{left:re.c*no},children:Y.jsx(j0,{trigger:Ie})},`fan-top-${ge}`))}),Y.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${zr}, ${no}px)`,gridTemplateRows:`repeat(${na}, ${no}px)`,backgroundColor:mt.boardBackground,borderColor:mt.boardLines},children:Array(na).fill(0).map((re,ge)=>Array(zr).fill(0).map((be,De)=>{const Ve=Ar(ge,De),st=Sr(ge,De),Ne=qe(ge,De),yt=je.some(Pn=>Pn.r===ge&&Pn.c===De),ut=De===0&&!Ve&&!de,Bt=Ve?.type==="locked",Tn=(De+1)%5===0,Ft=De<K,nn=z&&z.r===ge&&z.c===De,pn=vt&&Bt?"animate-jump-green":"";return Y.jsxs("div",{onClick:()=>Xn(ge,De),onDragOver:Pi,onDrop:Pn=>Qi(Pn,ge,De),className:`
                                relative flex items-center justify-center transition-all duration-300 w-full h-full
                                ${Ve?Ve.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ne?"cursor-not-allowed":"hover:bg-white/20"}

                                
                                ${Ve?.type==="temp"?`bg-[${mt.tileTemp}] ring-2 ring-[${mt.tileTempRing}] -translate-y-[2px] z-10`:""}
                                
                                ${!Ve&&!Ne&&Ft?"bg-white/20":De===0&&!Ve?"bg-green-100/40":!Ve&&!Ne&&!ut&&(ge+De)%2===0?"bg-black/5":"bg-transparent"}

                                ${!Ve&&nn?"ring-2 ring-blue-400 bg-blue-50/20":""}
                                ${!Ve&&Tn?"border-r-2 border-r-black/10":"border border-black/5"}

                                ${Ft?"animate-pop-green":""}
                                ${pn}
                                `,style:Bt?{backgroundColor:Ft?mt.overlayComplete:mt.tileLocked,color:mt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:vt?`${De*50}ms`:"0ms"}:Ve?.type==="temp"?{backgroundColor:Ve.isWild?mt.tileWildPlaced:mt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ne?{backgroundColor:mt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ve&&ut&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:Y.jsx(nT,{size:20,style:{color:mt.startArrow}})}),!Ve&&Ne&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ve&&st&&!Ne&&!yt&&Y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[Y.jsx(dm,{className:"w-6 h-6",fill:mt.starGold,stroke:mt.starGold}),Y.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",st.val]})]}),!Ve&&yt&&!Ne&&Y.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:Y.jsx(fm,{className:"w-7 h-7",fill:mt.starPurple,stroke:mt.starPurple})}),Ve&&Y.jsx("span",{draggable:Ve.type==="temp"&&!vt,onDragStart:Pn=>St(Pn,{type:"board",r:ge,c:De,letter:Ve.letter}),className:`text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center z-10 relative ${Ve.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:Ve.letter})]},`${ge}-${De}`)}))}),Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:Je.filter(re=>re.type==="bottom").map((re,ge)=>Y.jsx("div",{className:"absolute -bottom-[35px]",style:{left:re.c*no},children:Y.jsx(j0,{trigger:Ie})},`fan-bottom-${ge}`))})]})]})})}),Y.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[Y.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[Y.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${ne.type==="error"?"bg-red-100 text-red-700":ne.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[Y.jsx("span",{children:_e?"Checking...":ne.text}),ne.type==="error"&&ne.invalidWord&&Y.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${ne.invalidWord}&body=The word "${ne.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",Y.jsx(lT,{size:10})]})]}),Y.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[Y.jsx("button",{onClick:He,disabled:vt||w.length===0,className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:Y.jsx(fT,{size:16})}),Y.jsxs("button",{onClick:$i,disabled:vt,className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(gT,{size:16})," Shuffle"]}),Y.jsxs("button",{onClick:Rr,disabled:vt,className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[Y.jsx(QE,{size:16})," Sort A-Z"]}),L.length>0&&Y.jsxs("button",{onClick:ya,disabled:_e||vt,className:`
                    flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                    ${_e||vt?"bg-gray-400 text-gray-200 cursor-wait":""}
                    `,style:_e||vt?{}:{backgroundColor:mt.accentPrimary,color:"white"},children:[_e?"Checking...":"JUMP"," ",Y.jsx(eT,{size:18,strokeWidth:4})]}),L.length>0&&Y.jsx("button",{onClick:()=>{const ge=L.map(be=>be.isWild?"*":be.letter).map(be=>to(be,!1));b(be=>[...be,...ge].sort((De,Ve)=>De.letter!==Ve.letter?De.letter.localeCompare(Ve.letter):De.isNew===Ve.isNew?0:De.isNew?1:-1)),C([]),F(null)},disabled:vt,className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:Y.jsx(wT,{size:16})})]})]}),Y.jsxs("div",{onDragOver:Pi,onDrop:ja,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:mt.boardLines},children:[Li.length===0&&Y.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Li.length<6?Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Li.map(re=>Y.jsx(_i,{letter:re},re))}):Y.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ti.map(re=>Y.jsx(_i,{letter:re},re))}),Y.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ji.map(re=>Y.jsx(_i,{letter:re},re))})]})]})]}),Y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }

        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        .animate-jump-green {
            animation: jump-green 0.6s ease-in-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes jump-green {
            0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
            20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; }
            80% { background-color: #59AD20; color: white; }
            100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}BE.createRoot(document.getElementById("root")).render(Y.jsx(wt.StrictMode,{children:Y.jsx(Hx,{})}));
