(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var mm={exports:{}},Lu={};var n0;function FE(){if(n0)return Lu;n0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:c}}return Lu.Fragment=e,Lu.jsx=i,Lu.jsxs=i,Lu}var i0;function HE(){return i0||(i0=1,mm.exports=FE()),mm.exports}var D=HE(),pm={exports:{}},Dt={};var r0;function qE(){if(r0)return Dt;r0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.iterator;function ie(j){return j===null||typeof j!="object"?null:(j=H&&j[H]||j["@@iterator"],typeof j=="function"?j:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oe=Object.assign,Se={};function Le(j,re,Ce){this.props=j,this.context=re,this.refs=Se,this.updater=Ce||B}Le.prototype.isReactComponent={},Le.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},Le.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Pe(){}Pe.prototype=Le.prototype;function Fe(j,re,Ce){this.props=j,this.context=re,this.refs=Se,this.updater=Ce||B}var We=Fe.prototype=new Pe;We.constructor=Fe,Oe(We,Le.prototype),We.isPureReactComponent=!0;var Ue=Array.isArray;function vt(){}var q={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(j,re,Ce){var we=Ce.ref;return{$$typeof:r,type:j,key:re,ref:we!==void 0?we:null,props:Ce}}function F(j,re){return V(j.type,re,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function P(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ce){return re[Ce]})}var R=/\/+/g;function K(j,re){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):re.toString(36)}function ae(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(vt,vt):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function G(j,re,Ce,we,xe){var Qe=typeof j;(Qe==="undefined"||Qe==="boolean")&&(j=null);var mt=!1;if(j===null)mt=!0;else switch(Qe){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(j.$$typeof){case r:case e:mt=!0;break;case I:return mt=j._init,G(mt(j._payload),re,Ce,we,xe)}}if(mt)return xe=xe(j),mt=we===""?"."+K(j,0):we,Ue(xe)?(Ce="",mt!=null&&(Ce=mt.replace(R,"$&/")+"/"),G(xe,re,Ce,"",function(Tt){return Tt})):xe!=null&&(x(xe)&&(xe=F(xe,Ce+(xe.key==null||j&&j.key===xe.key?"":(""+xe.key).replace(R,"$&/")+"/")+mt)),re.push(xe)),1;mt=0;var ct=we===""?".":we+":";if(Ue(j))for(var dt=0;dt<j.length;dt++)we=j[dt],Qe=ct+K(we,dt),mt+=G(we,re,Ce,Qe,xe);else if(dt=ie(j),typeof dt=="function")for(j=dt.call(j),dt=0;!(we=j.next()).done;)we=we.value,Qe=ct+K(we,dt++),mt+=G(we,re,Ce,Qe,xe);else if(Qe==="object"){if(typeof j.then=="function")return G(ae(j),re,Ce,we,xe);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return mt}function Z(j,re,Ce){if(j==null)return j;var we=[],xe=0;return G(j,we,"","",function(Qe){return re.call(Ce,Qe,xe++)}),we}function ve(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(Ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ce)},function(Ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ce)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var fe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Me={map:Z,forEach:function(j,re,Ce){Z(j,function(){re.apply(this,arguments)},Ce)},count:function(j){var re=0;return Z(j,function(){re++}),re},toArray:function(j){return Z(j,function(re){return re})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Dt.Activity=L,Dt.Children=Me,Dt.Component=Le,Dt.Fragment=i,Dt.Profiler=l,Dt.PureComponent=Fe,Dt.StrictMode=a,Dt.Suspense=E,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},Dt.cache=function(j){return function(){return j.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(j,re,Ce){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var we=Oe({},j.props),xe=j.key;if(re!=null)for(Qe in re.key!==void 0&&(xe=""+re.key),re)!U.call(re,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&re.ref===void 0||(we[Qe]=re[Qe]);var Qe=arguments.length-2;if(Qe===1)we.children=Ce;else if(1<Qe){for(var mt=Array(Qe),ct=0;ct<Qe;ct++)mt[ct]=arguments[ct+2];we.children=mt}return V(j.type,xe,we)},Dt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Dt.createElement=function(j,re,Ce){var we,xe={},Qe=null;if(re!=null)for(we in re.key!==void 0&&(Qe=""+re.key),re)U.call(re,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(xe[we]=re[we]);var mt=arguments.length-2;if(mt===1)xe.children=Ce;else if(1<mt){for(var ct=Array(mt),dt=0;dt<mt;dt++)ct[dt]=arguments[dt+2];xe.children=ct}if(j&&j.defaultProps)for(we in mt=j.defaultProps,mt)xe[we]===void 0&&(xe[we]=mt[we]);return V(j,Qe,xe)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(j){return{$$typeof:b,render:j}},Dt.isValidElement=x,Dt.lazy=function(j){return{$$typeof:I,_payload:{_status:-1,_result:j},_init:ve}},Dt.memo=function(j,re){return{$$typeof:w,type:j,compare:re===void 0?null:re}},Dt.startTransition=function(j){var re=q.T,Ce={};q.T=Ce;try{var we=j(),xe=q.S;xe!==null&&xe(Ce,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(vt,fe)}catch(Qe){fe(Qe)}finally{re!==null&&Ce.types!==null&&(re.types=Ce.types),q.T=re}},Dt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Dt.use=function(j){return q.H.use(j)},Dt.useActionState=function(j,re,Ce){return q.H.useActionState(j,re,Ce)},Dt.useCallback=function(j,re){return q.H.useCallback(j,re)},Dt.useContext=function(j){return q.H.useContext(j)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(j,re){return q.H.useDeferredValue(j,re)},Dt.useEffect=function(j,re){return q.H.useEffect(j,re)},Dt.useEffectEvent=function(j){return q.H.useEffectEvent(j)},Dt.useId=function(){return q.H.useId()},Dt.useImperativeHandle=function(j,re,Ce){return q.H.useImperativeHandle(j,re,Ce)},Dt.useInsertionEffect=function(j,re){return q.H.useInsertionEffect(j,re)},Dt.useLayoutEffect=function(j,re){return q.H.useLayoutEffect(j,re)},Dt.useMemo=function(j,re){return q.H.useMemo(j,re)},Dt.useOptimistic=function(j,re){return q.H.useOptimistic(j,re)},Dt.useReducer=function(j,re,Ce){return q.H.useReducer(j,re,Ce)},Dt.useRef=function(j){return q.H.useRef(j)},Dt.useState=function(j){return q.H.useState(j)},Dt.useSyncExternalStore=function(j,re,Ce){return q.H.useSyncExternalStore(j,re,Ce)},Dt.useTransition=function(){return q.H.useTransition()},Dt.version="19.2.0",Dt}var a0;function of(){return a0||(a0=1,pm.exports=qE()),pm.exports}var Xe=of(),gm={exports:{}},ju={},ym={exports:{}},vm={};var s0;function GE(){return s0||(s0=1,(function(r){function e(G,Z){var ve=G.length;G.push(Z);e:for(;0<ve;){var fe=ve-1>>>1,Me=G[fe];if(0<l(Me,Z))G[fe]=Z,G[ve]=Me,ve=fe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var Z=G[0],ve=G.pop();if(ve!==Z){G[0]=ve;e:for(var fe=0,Me=G.length,j=Me>>>1;fe<j;){var re=2*(fe+1)-1,Ce=G[re],we=re+1,xe=G[we];if(0>l(Ce,ve))we<Me&&0>l(xe,Ce)?(G[fe]=xe,G[we]=ve,fe=we):(G[fe]=Ce,G[re]=ve,fe=re);else if(we<Me&&0>l(xe,ve))G[fe]=xe,G[we]=ve,fe=we;else break e}}return Z}function l(G,Z){var ve=G.sortIndex-Z.sortIndex;return ve!==0?ve:G.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var E=[],w=[],I=1,L=null,H=3,ie=!1,B=!1,Oe=!1,Se=!1,Le=typeof setTimeout=="function"?setTimeout:null,Pe=typeof clearTimeout=="function"?clearTimeout:null,Fe=typeof setImmediate<"u"?setImmediate:null;function We(G){for(var Z=i(w);Z!==null;){if(Z.callback===null)a(w);else if(Z.startTime<=G)a(w),Z.sortIndex=Z.expirationTime,e(E,Z);else break;Z=i(w)}}function Ue(G){if(Oe=!1,We(G),!B)if(i(E)!==null)B=!0,vt||(vt=!0,P());else{var Z=i(w);Z!==null&&ae(Ue,Z.startTime-G)}}var vt=!1,q=-1,U=5,V=-1;function F(){return Se?!0:!(r.unstable_now()-V<U)}function x(){if(Se=!1,vt){var G=r.unstable_now();V=G;var Z=!0;try{e:{B=!1,Oe&&(Oe=!1,Pe(q),q=-1),ie=!0;var ve=H;try{t:{for(We(G),L=i(E);L!==null&&!(L.expirationTime>G&&F());){var fe=L.callback;if(typeof fe=="function"){L.callback=null,H=L.priorityLevel;var Me=fe(L.expirationTime<=G);if(G=r.unstable_now(),typeof Me=="function"){L.callback=Me,We(G),Z=!0;break t}L===i(E)&&a(E),We(G)}else a(E);L=i(E)}if(L!==null)Z=!0;else{var j=i(w);j!==null&&ae(Ue,j.startTime-G),Z=!1}}break e}finally{L=null,H=ve,ie=!1}Z=void 0}}finally{Z?P():vt=!1}}}var P;if(typeof Fe=="function")P=function(){Fe(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,K=R.port2;R.port1.onmessage=x,P=function(){K.postMessage(null)}}else P=function(){Le(x,0)};function ae(G,Z){q=Le(function(){G(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return H},r.unstable_next=function(G){switch(H){case 1:case 2:case 3:var Z=3;break;default:Z=H}var ve=H;H=Z;try{return G()}finally{H=ve}},r.unstable_requestPaint=function(){Se=!0},r.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ve=H;H=G;try{return Z()}finally{H=ve}},r.unstable_scheduleCallback=function(G,Z,ve){var fe=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?fe+ve:fe):ve=fe,G){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ve+Me,G={id:I++,callback:Z,priorityLevel:G,startTime:ve,expirationTime:Me,sortIndex:-1},ve>fe?(G.sortIndex=ve,e(w,G),i(E)===null&&G===i(w)&&(Oe?(Pe(q),q=-1):Oe=!0,ae(Ue,ve-fe))):(G.sortIndex=Me,e(E,G),B||ie||(B=!0,vt||(vt=!0,P()))),G},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(G){var Z=H;return function(){var ve=H;H=Z;try{return G.apply(this,arguments)}finally{H=ve}}}})(vm)),vm}var o0;function YE(){return o0||(o0=1,ym.exports=GE()),ym.exports}var _m={exports:{}},Zi={};var l0;function XE(){if(l0)return Zi;l0=1;var r=of();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)w+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,I){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:E,containerInfo:w,implementation:I}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zi.createPortal=function(E,w){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,I)},Zi.flushSync=function(E){var w=p.T,I=a.p;try{if(p.T=null,a.p=2,E)return E()}finally{p.T=w,a.p=I,a.d.f()}},Zi.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,a.d.C(E,w))},Zi.prefetchDNS=function(E){typeof E=="string"&&a.d.D(E)},Zi.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var I=w.as,L=b(I,w.crossOrigin),H=typeof w.integrity=="string"?w.integrity:void 0,ie=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;I==="style"?a.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:L,integrity:H,fetchPriority:ie}):I==="script"&&a.d.X(E,{crossOrigin:L,integrity:H,fetchPriority:ie,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Zi.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var I=b(w.as,w.crossOrigin);a.d.M(E,{crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&a.d.M(E)},Zi.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var I=w.as,L=b(I,w.crossOrigin);a.d.L(E,I,{crossOrigin:L,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Zi.preloadModule=function(E,w){if(typeof E=="string")if(w){var I=b(w.as,w.crossOrigin);a.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:I,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else a.d.m(E)},Zi.requestFormReset=function(E){a.d.r(E)},Zi.unstable_batchedUpdates=function(E,w){return E(w)},Zi.useFormState=function(E,w,I){return p.H.useFormState(E,w,I)},Zi.useFormStatus=function(){return p.H.useHostTransitionStatus()},Zi.version="19.2.0",Zi}var u0;function QE(){if(u0)return _m.exports;u0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=XE(),_m.exports}var c0;function KE(){if(c0)return ju;c0=1;var r=YE(),e=of(),i=QE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(a(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return E(h),t;if(m===o)return E(h),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=m;else{for(var T=!1,M=h.child;M;){if(M===s){T=!0,s=h,o=m;break}if(M===o){T=!0,o=h,s=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===s){T=!0,s=m,o=h;break}if(M===o){T=!0,o=m,s=h;break}M=M.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function I(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=I(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,H=Symbol.for("react.element"),ie=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Pe=Symbol.for("react.consumer"),Fe=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oe:return"Fragment";case Le:return"Profiler";case Se:return"StrictMode";case Ue:return"Suspense";case vt:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Fe:return t.displayName||"Context";case Pe:return(t._context.displayName||"Context")+".Consumer";case We:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:K(t.type)||"Memo";case U:n=t._payload,t=t._init;try{return K(t(n))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},fe=[],Me=-1;function j(t){return{current:t}}function re(t){0>Me||(t.current=fe[Me],fe[Me]=null,Me--)}function Ce(t,n){Me++,fe[Me]=t.current,t.current=n}var we=j(null),xe=j(null),Qe=j(null),mt=j(null);function ct(t,n){switch(Ce(Qe,n),Ce(xe,t),Ce(we,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sv(n),t=Cv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(we),Ce(we,t)}function dt(){re(we),re(xe),re(Qe)}function Tt(t){t.memoizedState!==null&&Ce(mt,t);var n=we.current,s=Cv(n,t.type);n!==s&&(Ce(xe,t),Ce(we,s))}function yt(t){xe.current===t&&(re(we),re(xe)),mt.current===t&&(re(mt),Ou._currentValue=ve)}var at,pt;function Ht(t){if(at===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);at=n&&n[1]||"",pt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+t+pt}var Lt=!1;function Yn(t,n){if(!t||Lt)return"";Lt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(pe){var ce=pe}Reflect.construct(t,[],Ee)}else{try{Ee.call()}catch(pe){ce=pe}t.call(Ee.prototype)}}else{try{throw Error()}catch(pe){ce=pe}(Ee=t())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(pe){if(pe&&ce&&typeof pe.stack=="string")return[pe.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var Y=T.split(`
`),le=M.split(`
`);for(h=o=0;o<Y.length&&!Y[o].includes("DetermineComponentFrameRoot");)o++;for(;h<le.length&&!le[h].includes("DetermineComponentFrameRoot");)h++;if(o===Y.length||h===le.length)for(o=Y.length-1,h=le.length-1;1<=o&&0<=h&&Y[o]!==le[h];)h--;for(;1<=o&&0<=h;o--,h--)if(Y[o]!==le[h]){if(o!==1||h!==1)do if(o--,h--,0>h||Y[o]!==le[h]){var ye=`
`+Y[o].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=o&&0<=h);break}}}finally{Lt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ht(s):""}function hi(t,n){switch(t.tag){case 26:case 27:case 5:return Ht(t.type);case 16:return Ht("Lazy");case 13:return t.child!==n&&n!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return Yn(t.type,!1);case 11:return Yn(t.type.render,!1);case 1:return Yn(t.type,!0);case 31:return Ht("Activity");default:return""}}function rn(t){try{var n="",s=null;do n+=hi(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var lt=Object.prototype.hasOwnProperty,on=r.unstable_scheduleCallback,An=r.unstable_cancelCallback,rr=r.unstable_shouldYield,Sn=r.unstable_requestPaint,Ct=r.unstable_now,ln=r.unstable_getCurrentPriorityLevel,C=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,O=r.unstable_LowPriority,W=r.unstable_IdlePriority,me=r.log,Ie=r.unstable_setDisableYieldValue,$e=null,nt=null;function je(t){if(typeof me=="function"&&Ie(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode($e,t)}catch{}}var tt=Math.clz32?Math.clz32:un,en=Math.log,fn=Math.LN2;function un(t){return t>>>=0,t===0?32:31-(en(t)/fn|0)|0}var Dn=256,On=262144,jt=4194304;function vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Un(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?h=vn(o):(T&=M,T!==0?h=vn(T):s||(s=M&~t,s!==0&&(h=vn(s))))):(M=o&~m,M!==0?h=vn(M):T!==0?h=vn(T):s||(s=o&~t,s!==0&&(h=vn(s)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:h}function ri(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Di(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Kn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function xt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yi(t,n,s,o,h,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,Y=t.expirationTimes,le=t.hiddenUpdates;for(s=T&~s;0<s;){var ye=31-tt(s),Ee=1<<ye;M[ye]=0,Y[ye]=-1;var ce=le[ye];if(ce!==null)for(le[ye]=null,ye=0;ye<ce.length;ye++){var pe=ce[ye];pe!==null&&(pe.lane&=-536870913)}s&=~Ee}o!==0&&Wn(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Wn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-tt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function qa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-tt(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Er(t,n){var s=n&-n;return s=(s&42)!==0?1:fi(s),(s&(t.suspendedLanes|n))!==0?0:s}function fi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ge(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xr(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Kv(t.type))}function ar(t,n){var s=Z.p;try{return Z.p=t,n()}finally{Z.p=s}}var sr=Math.random().toString(36).slice(2),_n="__reactFiber$"+sr,$n="__reactProps$"+sr,or="__reactContainer$"+sr,lr="__reactEvents$"+sr,Jn="__reactListeners$"+sr,Qr="__reactHandles$"+sr,Kr="__reactResources$"+sr,ur="__reactMarker$"+sr;function Oi(t){delete t[_n],delete t[$n],delete t[lr],delete t[Jn],delete t[Qr]}function cr(t){var n=t[_n];if(n)return n;for(var s=t.parentNode;s;){if(n=s[or]||s[_n]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ov(t);t!==null;){if(s=t[_n])return s;t=Ov(t)}return n}t=s,s=t.parentNode}return null}function Ai(t){if(t=t[_n]||t[or]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Si(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xi(t){var n=t[Kr];return n||(n=t[Kr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zn(t){t[ur]=!0}var ma=new Set,ki={};function Vi(t,n){Qi(t,n),Qi(t+"Capture",n)}function Qi(t,n){for(ki[t]=n,t=0;t<n.length;t++)ma.add(n[t])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wr={},Sa={};function pa(t){return lt.call(Sa,t)?!0:lt.call(Wr,t)?!1:Ga.test(t)?Sa[t]=!0:(Wr[t]=!0,!1)}function hr(t,n,s){if(pa(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ci(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function bn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fr(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tn(t){if(!t._valueTracker){var n=Pi(t)?"checked":"value";t._valueTracker=fr(t,n,""+t[n])}}function bi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Pi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function _t(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ai=/[\n"\\]/g;function kn(t){return t.replace(ai,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $r(t,n,s,o,h,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Bn(n)):t.value!==""+Bn(n)&&(t.value=""+Bn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ca(t,T,Bn(n)):s!=null?Ca(t,T,Bn(s)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Bn(M):t.removeAttribute("name")}function Ya(t,n,s,o,h,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){tn(t);return}s=s!=null?""+Bn(s):"",n=n!=null?""+Bn(n):s,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),tn(t)}function Ca(t,n,s){n==="number"&&_t(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Bt(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Bn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Jr(t,n,s){if(n!=null&&(n=""+Bn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Bn(s):""}function Tr(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ae(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Bn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),tn(t)}function ti(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ri(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Ki.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Wi(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ri(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ri(t,m,n[m])}function Zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ea=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ar(t){return dr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function X(){}var he=null;function ge(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _e=null,Ae=null;function qe(t){var n=Ai(t);if(n&&(t=n.stateNode)){var s=t[$n]||null;e:switch(t=n.stateNode,n.type){case"input":if($r(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+kn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[$n]||null;if(!h)throw Error(a(90));$r(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&bi(o)}break e;case"textarea":Jr(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Bt(t,!!s.multiple,n,!1)}}}var Ke=!1;function Ve(t,n,s){if(Ke)return t(n,s);Ke=!0;try{var o=t(n);return o}finally{if(Ke=!1,(_e!==null||Ae!==null)&&(Qc(),_e&&(n=_e,t=Ae,Ae=_e=null,qe(n),t)))for(n=0;n<t.length;n++)qe(t[n])}}function ut(t,n){var s=t.stateNode;if(s===null)return null;var o=s[$n]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ht=!1;if(ke)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){ht=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{ht=!1}var Pn=null,Xt=null,xi=null;function Xn(){if(xi)return xi;var t,n=Xt,s=n.length,o,h="value"in Pn?Pn.value:Pn.textContent,m=h.length;for(t=0;t<s&&n[t]===h[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===h[m-o];o++);return xi=h.slice(t,1<o?1-o:void 0)}function mr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Vr(){return!0}function Pr(){return!1}function wi(t){function n(s,o,h,m,T){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vr:Pr,this.isPropagationStopped=Pr,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),n}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=wi(Sr),Ra=L({},Sr,{view:0,detail:0}),Eo=wi(Ra),Lr,Xa,pr,Qa=L({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(Lr=t.screenX-pr.screenX,Xa=t.screenY-pr.screenY):Xa=Lr=0,pr=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),xs=wi(Qa),Ka=L({},Qa,{dataTransfer:0}),Ko=wi(Ka),si=L({},Ra,{relatedTarget:0}),xa=wi(si),gr=L({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=wi(gr),ga=L({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wa=wi(ga),Is=L({},Sr,{data:0}),jr=wi(Is),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Ia(){return Ns}var Li=L({},Ra,{key:function(t){if(t.key){var n=Ms[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=wi(Li),Zo=L({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ya=wi(Zo),u=L({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),y=wi(u),A=L({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=wi(A),ne=L({},Qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),de=wi(ne),ze=L({},Sr,{newState:0,oldState:0}),It=wi(ze),Zn=[9,13,27,32],cn=ke&&"CompositionEvent"in window,Ln=null;ke&&"documentMode"in document&&(Ln=document.documentMode);var $i=ke&&"TextEvent"in window&&!Ln,Cr=ke&&(!cn||Ln&&8<Ln&&11>=Ln),Rr=" ",yr=!1;function na(t,n){switch(t){case"keyup":return Zn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function xf(t,n){switch(t){case"compositionend":return $a(n);case"keypress":return n.which!==32?null:(yr=!0,Rr);case"textInput":return t=n.data,t===Rr&&yr?null:t;default:return null}}function gc(t,n){if(Ja)return t==="compositionend"||!cn&&na(t,n)?(t=Xn(),xi=Xt=Pn=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Cr&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function Fn(t,n,s,o){_e?Ae?Ae.push(o):Ae=[o]:_e=o,n=th(n,"onChange"),0<n.length&&(s=new ta("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var vr=null,Za=null;function yc(t){_v(t,0)}function Ao(t){var n=Si(t);if(bi(n))return t}function nu(t,n){if(t==="change")return n}var iu=!1;if(ke){var Ds;if(ke){var tl="oninput"in document;if(!tl){var f=document.createElement("div");f.setAttribute("oninput","return;"),tl=typeof f.oninput=="function"}Ds=tl}else Ds=!1;iu=Ds&&(!document.documentMode||9<document.documentMode)}function d(){vr&&(vr.detachEvent("onpropertychange",_),Za=vr=null)}function _(t){if(t.propertyName==="value"&&Ao(Za)){var n=[];Fn(n,Za,t,ge(t)),Ve(yc,n)}}function S(t,n,s){t==="focusin"?(d(),vr=n,Za=s,vr.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function N(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Za)}function z(t,n){if(t==="click")return Ao(n)}function $(t,n){if(t==="input"||t==="change")return Ao(n)}function J(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:J;function oe(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!lt.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function De(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Je(t,n){var s=De(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=De(s)}}function st(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?st(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ee(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_t(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=_t(t.document)}return n}function Be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var it=ke&&"documentMode"in document&&11>=document.documentMode,He=null,dn=null,Ze=null,Ut=!1;function wn(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ut||He==null||He!==_t(o)||(o=He,"selectionStart"in o&&Be(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ze&&oe(Ze,o)||(Ze=o,o=th(dn,"onSelect"),0<o.length&&(n=new ta("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=He)))}function oi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var xr={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Ft={},Ur={};ke&&(Ur=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function es(t){if(Ft[t])return Ft[t];if(!xr[t])return t;var n=xr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ur)return Ft[t]=n[s];return t}var Ne=es("animationend"),Ye=es("animationiteration"),zt=es("animationstart"),Qt=es("transitionrun"),kt=es("transitionstart"),qt=es("transitioncancel"),an=es("transitionend"),hn=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_r.push("scrollEnd");function En(t,n){hn.set(t,n),Vi(n,[t])}var ji=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],ts=0,nl=0;function Ma(){for(var t=ts,n=nl=ts=0;n<t;){var s=gn[n];gn[n++]=null;var o=gn[n];gn[n++]=null;var h=gn[n];gn[n++]=null;var m=gn[n];if(gn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&ru(s,h,m)}}function Na(t,n,s,o){gn[ts++]=t,gn[ts++]=n,gn[ts++]=s,gn[ts++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function va(t,n,s,o){return Na(t,n,s,o),So(t)}function br(t,n){return Na(t,null,null,n),So(t)}function ru(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-tt(s),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),m):null}function So(t){if(50<Cu)throw Cu=0,jd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var zr={};function If(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,n,s,o){return new If(t,n,s,o)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var s=t.alternate;return s===null?(s=Ji(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function tg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function vc(t,n,s,o,h,m){var T=0;if(o=t,typeof t=="function")Mf(t)&&(T=1);else if(typeof t=="string")T=ME(t,s,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Ji(31,s,n,h),t.elementType=V,t.lanes=m,t;case Oe:return Co(s.children,h,m,n);case Se:T=8,h|=24;break;case Le:return t=Ji(12,s,n,h|2),t.elementType=Le,t.lanes=m,t;case Ue:return t=Ji(13,s,n,h),t.elementType=Ue,t.lanes=m,t;case vt:return t=Ji(19,s,n,h),t.elementType=vt,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fe:T=10;break e;case Pe:T=9;break e;case We:T=11;break e;case q:T=14;break e;case U:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Ji(T,s,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Co(t,n,s,o){return t=Ji(7,t,o,n),t.lanes=s,t}function Nf(t,n,s){return t=Ji(6,t,null,n),t.lanes=s,t}function ng(t){var n=Ji(18,null,null,0);return n.stateNode=t,n}function Df(t,n,s){return n=Ji(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function ia(t,n){if(typeof t=="object"&&t!==null){var s=ig.get(t);return s!==void 0?s:(n={value:t,source:n,stack:rn(n)},ig.set(t,n),n)}return{value:t,source:n,stack:rn(n)}}var il=[],rl=0,_c=null,au=0,ra=[],aa=0,Os=null,Da=1,Oa="";function is(t,n){il[rl++]=au,il[rl++]=_c,_c=t,au=n}function rg(t,n,s){ra[aa++]=Da,ra[aa++]=Oa,ra[aa++]=Os,Os=t;var o=Da;t=Oa;var h=32-tt(o)-1;o&=~(1<<h),s+=1;var m=32-tt(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Da=1<<32-tt(n)+h|s<<h|o,Oa=m+t}else Da=1<<m|s<<h|o,Oa=t}function Of(t){t.return!==null&&(is(t,1),rg(t,1,0))}function kf(t){for(;t===_c;)_c=il[--rl],il[rl]=null,au=il[--rl],il[rl]=null;for(;t===Os;)Os=ra[--aa],ra[aa]=null,Oa=ra[--aa],ra[aa]=null,Da=ra[--aa],ra[aa]=null}function ag(t,n){ra[aa++]=Da,ra[aa++]=Oa,ra[aa++]=Os,Da=n.id,Oa=n.overflow,Os=t}var Ui=null,Hn=null,nn=!1,ks=null,sa=!1,Vf=Error(a(519));function Vs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(ia(n,t)),Vf}function sg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[_n]=t,n[$n]=o,s){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<xu.length;s++)Yt(xu[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),Ya(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),Tr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Tv(n.textContent,s)?(o.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),o.onScroll!=null&&Yt("scroll",n),o.onScrollEnd!=null&&Yt("scrollend",n),o.onClick!=null&&(n.onclick=X),n=!0):n=!1,n||Vs(t,!0)}function og(t){for(Ui=t.return;Ui;)switch(Ui.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:Ui=Ui.return}}function al(t){if(t!==Ui)return!1;if(!nn)return og(t),nn=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Zd(t.type,t.memoizedProps)),s=!s),s&&Hn&&Vs(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Hn=Dv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Hn=Dv(t)}else n===27?(n=Hn,Ks(t.type)?(t=rm,rm=null,Hn=t):Hn=n):Hn=Ui?la(t.stateNode.nextSibling):null;return!0}function Ro(){Hn=Ui=null,nn=!1}function Pf(){var t=ks;return t!==null&&(Dr===null?Dr=t:Dr.push.apply(Dr,t),ks=null),t}function su(t){ks===null?ks=[t]:ks.push(t)}var Lf=j(null),xo=null,rs=null;function Ps(t,n,s){Ce(Lf,n._currentValue),n._currentValue=s}function as(t){t._currentValue=Lf.current,re(Lf)}function jf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Uf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=h;for(var Y=0;Y<n.length;Y++)if(M.context===n[Y]){m.lanes|=s,M=m.alternate,M!==null&&(M.lanes|=s),jf(m.return,s,t),o||(T=null);break e}m=M.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),jf(T,s,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function sl(t,n,s,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(h===mt.current){if(T=h.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ou):t=[Ou])}h=h.return}t!==null&&Uf(n,t,s,o),n.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Io(t){xo=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function zi(t){return lg(xo,t)}function wc(t,n){return xo===null&&Io(t),lg(t,n)}function lg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},rs===null){if(t===null)throw Error(a(308));rs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else rs=rs.next=n;return s}var Cw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Rw=r.unstable_scheduleCallback,xw=r.unstable_NormalPriority,di={$$typeof:Fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new Cw,data:new Map,refCount:0}}function ou(t){t.refCount--,t.refCount===0&&Rw(xw,function(){t.controller.abort()})}var lu=null,Bf=0,ol=0,ll=null;function Iw(t,n){if(lu===null){var s=lu=[];Bf=0,ol=qd(),ll={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Bf++,n.then(ug,ug),n}function ug(){if(--Bf===0&&lu!==null){ll!==null&&(ll.status="fulfilled");var t=lu;lu=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Mw(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var cg=G.S;G.S=function(t,n){Xy=Ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Iw(t,n),cg!==null&&cg(t,n)};var Mo=j(null);function Ff(){var t=Mo.current;return t!==null?t:Vn.pooledCache}function Ec(t,n){n===null?Ce(Mo,Mo.current):Ce(Mo,n.pool)}function hg(){var t=Ff();return t===null?null:{parent:di._currentValue,pool:t}}var ul=Error(a(460)),Hf=Error(a(474)),Tc=Error(a(542)),Ac={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(X,X),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(X,X);else{if(t=Vn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw Do=n,ul}}function No(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Do=s,ul):s}}var Do=null;function mg(){if(Do===null)throw Error(a(459));var t=Do;return Do=null,t}function pg(t){if(t===ul||t===Tc)throw Error(a(483))}var cl=null,uu=0;function Sc(t){var n=uu;return uu+=1,cl===null&&(cl=[]),dg(cl,t,n)}function cu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Cc(t,n){throw n.$$typeof===H?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gg(t){function n(te,Q){if(t){var se=te.deletions;se===null?(te.deletions=[Q],te.flags|=16):se.push(Q)}}function s(te,Q){if(!t)return null;for(;Q!==null;)n(te,Q),Q=Q.sibling;return null}function o(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function h(te,Q){return te=ns(te,Q),te.index=0,te.sibling=null,te}function m(te,Q,se){return te.index=se,t?(se=te.alternate,se!==null?(se=se.index,se<Q?(te.flags|=67108866,Q):se):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function T(te){return t&&te.alternate===null&&(te.flags|=67108866),te}function M(te,Q,se,be){return Q===null||Q.tag!==6?(Q=Nf(se,te.mode,be),Q.return=te,Q):(Q=h(Q,se),Q.return=te,Q)}function Y(te,Q,se,be){var wt=se.type;return wt===Oe?ye(te,Q,se.props.children,be,se.key):Q!==null&&(Q.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===U&&No(wt)===Q.type)?(Q=h(Q,se.props),cu(Q,se),Q.return=te,Q):(Q=vc(se.type,se.key,se.props,null,te.mode,be),cu(Q,se),Q.return=te,Q)}function le(te,Q,se,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==se.containerInfo||Q.stateNode.implementation!==se.implementation?(Q=Df(se,te.mode,be),Q.return=te,Q):(Q=h(Q,se.children||[]),Q.return=te,Q)}function ye(te,Q,se,be,wt){return Q===null||Q.tag!==7?(Q=Co(se,te.mode,be,wt),Q.return=te,Q):(Q=h(Q,se),Q.return=te,Q)}function Ee(te,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Nf(""+Q,te.mode,se),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ie:return se=vc(Q.type,Q.key,Q.props,null,te.mode,se),cu(se,Q),se.return=te,se;case B:return Q=Df(Q,te.mode,se),Q.return=te,Q;case U:return Q=No(Q),Ee(te,Q,se)}if(ae(Q)||P(Q))return Q=Co(Q,te.mode,se,null),Q.return=te,Q;if(typeof Q.then=="function")return Ee(te,Sc(Q),se);if(Q.$$typeof===Fe)return Ee(te,wc(te,Q),se);Cc(te,Q)}return null}function ce(te,Q,se,be){var wt=Q!==null?Q.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return wt!==null?null:M(te,Q,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ie:return se.key===wt?Y(te,Q,se,be):null;case B:return se.key===wt?le(te,Q,se,be):null;case U:return se=No(se),ce(te,Q,se,be)}if(ae(se)||P(se))return wt!==null?null:ye(te,Q,se,be,null);if(typeof se.then=="function")return ce(te,Q,Sc(se),be);if(se.$$typeof===Fe)return ce(te,Q,wc(te,se),be);Cc(te,se)}return null}function pe(te,Q,se,be,wt){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return te=te.get(se)||null,M(Q,te,""+be,wt);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case ie:return te=te.get(be.key===null?se:be.key)||null,Y(Q,te,be,wt);case B:return te=te.get(be.key===null?se:be.key)||null,le(Q,te,be,wt);case U:return be=No(be),pe(te,Q,se,be,wt)}if(ae(be)||P(be))return te=te.get(se)||null,ye(Q,te,be,wt,null);if(typeof be.then=="function")return pe(te,Q,se,Sc(be),wt);if(be.$$typeof===Fe)return pe(te,Q,se,wc(Q,be),wt);Cc(Q,be)}return null}function ot(te,Q,se,be){for(var wt=null,mn=null,gt=Q,Pt=Q=0,Wt=null;gt!==null&&Pt<se.length;Pt++){gt.index>Pt?(Wt=gt,gt=null):Wt=gt.sibling;var pn=ce(te,gt,se[Pt],be);if(pn===null){gt===null&&(gt=Wt);break}t&&gt&&pn.alternate===null&&n(te,gt),Q=m(pn,Q,Pt),mn===null?wt=pn:mn.sibling=pn,mn=pn,gt=Wt}if(Pt===se.length)return s(te,gt),nn&&is(te,Pt),wt;if(gt===null){for(;Pt<se.length;Pt++)gt=Ee(te,se[Pt],be),gt!==null&&(Q=m(gt,Q,Pt),mn===null?wt=gt:mn.sibling=gt,mn=gt);return nn&&is(te,Pt),wt}for(gt=o(gt);Pt<se.length;Pt++)Wt=pe(gt,te,Pt,se[Pt],be),Wt!==null&&(t&&Wt.alternate!==null&&gt.delete(Wt.key===null?Pt:Wt.key),Q=m(Wt,Q,Pt),mn===null?wt=Wt:mn.sibling=Wt,mn=Wt);return t&&gt.forEach(function(eo){return n(te,eo)}),nn&&is(te,Pt),wt}function At(te,Q,se,be){if(se==null)throw Error(a(151));for(var wt=null,mn=null,gt=Q,Pt=Q=0,Wt=null,pn=se.next();gt!==null&&!pn.done;Pt++,pn=se.next()){gt.index>Pt?(Wt=gt,gt=null):Wt=gt.sibling;var eo=ce(te,gt,pn.value,be);if(eo===null){gt===null&&(gt=Wt);break}t&&gt&&eo.alternate===null&&n(te,gt),Q=m(eo,Q,Pt),mn===null?wt=eo:mn.sibling=eo,mn=eo,gt=Wt}if(pn.done)return s(te,gt),nn&&is(te,Pt),wt;if(gt===null){for(;!pn.done;Pt++,pn=se.next())pn=Ee(te,pn.value,be),pn!==null&&(Q=m(pn,Q,Pt),mn===null?wt=pn:mn.sibling=pn,mn=pn);return nn&&is(te,Pt),wt}for(gt=o(gt);!pn.done;Pt++,pn=se.next())pn=pe(gt,te,Pt,pn.value,be),pn!==null&&(t&&pn.alternate!==null&&gt.delete(pn.key===null?Pt:pn.key),Q=m(pn,Q,Pt),mn===null?wt=pn:mn.sibling=pn,mn=pn);return t&&gt.forEach(function(BE){return n(te,BE)}),nn&&is(te,Pt),wt}function Mn(te,Q,se,be){if(typeof se=="object"&&se!==null&&se.type===Oe&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case ie:e:{for(var wt=se.key;Q!==null;){if(Q.key===wt){if(wt=se.type,wt===Oe){if(Q.tag===7){s(te,Q.sibling),be=h(Q,se.props.children),be.return=te,te=be;break e}}else if(Q.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===U&&No(wt)===Q.type){s(te,Q.sibling),be=h(Q,se.props),cu(be,se),be.return=te,te=be;break e}s(te,Q);break}else n(te,Q);Q=Q.sibling}se.type===Oe?(be=Co(se.props.children,te.mode,be,se.key),be.return=te,te=be):(be=vc(se.type,se.key,se.props,null,te.mode,be),cu(be,se),be.return=te,te=be)}return T(te);case B:e:{for(wt=se.key;Q!==null;){if(Q.key===wt)if(Q.tag===4&&Q.stateNode.containerInfo===se.containerInfo&&Q.stateNode.implementation===se.implementation){s(te,Q.sibling),be=h(Q,se.children||[]),be.return=te,te=be;break e}else{s(te,Q);break}else n(te,Q);Q=Q.sibling}be=Df(se,te.mode,be),be.return=te,te=be}return T(te);case U:return se=No(se),Mn(te,Q,se,be)}if(ae(se))return ot(te,Q,se,be);if(P(se)){if(wt=P(se),typeof wt!="function")throw Error(a(150));return se=wt.call(se),At(te,Q,se,be)}if(typeof se.then=="function")return Mn(te,Q,Sc(se),be);if(se.$$typeof===Fe)return Mn(te,Q,wc(te,se),be);Cc(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Q!==null&&Q.tag===6?(s(te,Q.sibling),be=h(Q,se),be.return=te,te=be):(s(te,Q),be=Nf(se,te.mode,be),be.return=te,te=be),T(te)):s(te,Q)}return function(te,Q,se,be){try{uu=0;var wt=Mn(te,Q,se,be);return cl=null,wt}catch(gt){if(gt===ul||gt===Tc)throw gt;var mn=Ji(29,gt,null,te.mode);return mn.lanes=be,mn.return=te,mn}finally{}}}var Oo=gg(!0),yg=gg(!1),Ls=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(yn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=So(t),ru(t,null,s),n}return Na(t,o,n,s),So(t)}function hu(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,qa(t,s)}}function Yf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?h=m=n:m=m.next=n}else h=m=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Xf=!1;function fu(){if(Xf){var t=ll;if(t!==null)throw t}}function du(t,n,s,o){Xf=!1;var h=t.updateQueue;Ls=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var Y=M,le=Y.next;Y.next=null,T===null?m=le:T.next=le,T=Y;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,M=ye.lastBaseUpdate,M!==T&&(M===null?ye.firstBaseUpdate=le:M.next=le,ye.lastBaseUpdate=Y))}if(m!==null){var Ee=h.baseState;T=0,ye=le=Y=null,M=m;do{var ce=M.lane&-536870913,pe=ce!==M.lane;if(pe?(Kt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ol&&(Xf=!0),ye!==null&&(ye=ye.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ot=t,At=M;ce=n;var Mn=s;switch(At.tag){case 1:if(ot=At.payload,typeof ot=="function"){Ee=ot.call(Mn,Ee,ce);break e}Ee=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=At.payload,ce=typeof ot=="function"?ot.call(Mn,Ee,ce):ot,ce==null)break e;Ee=L({},Ee,ce);break e;case 2:Ls=!0}}ce=M.callback,ce!==null&&(t.flags|=64,pe&&(t.flags|=8192),pe=h.callbacks,pe===null?h.callbacks=[ce]:pe.push(ce))}else pe={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ye===null?(le=ye=pe,Y=Ee):ye=ye.next=pe,T|=ce;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;pe=M,M=pe.next,pe.next=null,h.lastBaseUpdate=pe,h.shared.pending=null}}while(!0);ye===null&&(Y=Ee),h.baseState=Y,h.firstBaseUpdate=le,h.lastBaseUpdate=ye,m===null&&(h.shared.lanes=0),qs|=T,t.lanes=T,t.memoizedState=Ee}}function vg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _g(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)vg(s[t],n)}var hl=j(null),Rc=j(0);function bg(t,n){t=ms,Ce(Rc,t),Ce(hl,n),ms=t|n.baseLanes}function Qf(){Ce(Rc,ms),Ce(hl,hl.current)}function Kf(){ms=Rc.current,re(hl),re(Rc)}var Br=j(null),oa=null;function zs(t){var n=t.alternate;Ce(li,li.current&1),Ce(Br,t),oa===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(oa=t)}function Wf(t){Ce(li,li.current),Ce(Br,t),oa===null&&(oa=t)}function wg(t){t.tag===22?(Ce(li,li.current),Ce(Br,t),oa===null&&(oa=t)):Bs()}function Bs(){Ce(li,li.current),Ce(Br,Br.current)}function Fr(t){re(Br),oa===t&&(oa=null),re(li)}var li=j(0);function xc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||nm(s)||im(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Vt=null,xn=null,mi=null,Ic=!1,fl=!1,ko=!1,Mc=0,mu=0,dl=null,Nw=0;function ni(){throw Error(a(321))}function $f(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ue(t[s],n[s]))return!1;return!0}function Jf(t,n,s,o,h,m){return ss=m,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ry:dd,ko=!1,m=s(o,h),ko=!1,fl&&(m=Tg(n,s,o,h)),Eg(t),m}function Eg(t){G.H=yu;var n=xn!==null&&xn.next!==null;if(ss=0,mi=xn=Vt=null,Ic=!1,mu=0,dl=null,n)throw Error(a(300));t===null||pi||(t=t.dependencies,t!==null&&bc(t)&&(pi=!0))}function Tg(t,n,s,o){Vt=t;var h=0;do{if(fl&&(dl=null),mu=0,fl=!1,25<=h)throw Error(a(301));if(h+=1,mi=xn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=ay,m=n(s,o)}while(fl);return m}function Dw(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?pu(n):n,t=t.useState()[0],(xn!==null?xn.memoizedState:null)!==t&&(Vt.flags|=1024),n}function Zf(){var t=Mc!==0;return Mc=0,t}function ed(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function td(t){if(Ic){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ic=!1}ss=0,mi=xn=Vt=null,fl=!1,mu=Mc=0,dl=null}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Vt.memoizedState=mi=t:mi=mi.next=t,mi}function ui(){if(xn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var n=mi===null?Vt.memoizedState:mi.next;if(n!==null)mi=n,xn=t;else{if(t===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},mi===null?Vt.memoizedState=mi=t:mi=mi.next=t}return mi}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var n=mu;return mu+=1,dl===null&&(dl=[]),t=dg(dl,t,n),n=Vt,(mi===null?n.memoizedState:mi.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ry:dd),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===Fe)return zi(t)}throw Error(a(438,String(t)))}function nd(t){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Vt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Nc(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=F;return n.index++,s}function os(t,n){return typeof n=="function"?n(t):n}function Oc(t){var n=ui();return id(n,xn,t)}function id(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var M=T=null,Y=null,le=n,ye=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(Kt&Ee)===Ee:(ss&Ee)===Ee){var ce=le.revertLane;if(ce===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===ol&&(ye=!0);else if((ss&ce)===ce){le=le.next,ce===ol&&(ye=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(M=Y=Ee,T=m):Y=Y.next=Ee,Vt.lanes|=ce,qs|=ce;Ee=le.action,ko&&s(m,Ee),m=le.hasEagerState?le.eagerState:s(m,Ee)}else ce={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(M=Y=ce,T=m):Y=Y.next=ce,Vt.lanes|=Ee,qs|=Ee;le=le.next}while(le!==null&&le!==n);if(Y===null?T=m:Y.next=M,!ue(m,t.memoizedState)&&(pi=!0,ye&&(s=ll,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=Y,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function rd(t){var n=ui(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,m=n.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(pi=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Ag(t,n,s){var o=Vt,h=ui(),m=nn;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!ue((xn||h).memoizedState,s);if(T&&(h.memoizedState=s,pi=!0),h=h.queue,od(Rg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||mi!==null&&mi.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Cg.bind(null,o,h,s,n),null),Vn===null)throw Error(a(349));m||(ss&127)!==0||Sg(o,n,s)}return s}function Sg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=Nc(),Vt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Cg(t,n,s,o){n.value=s,n.getSnapshot=o,xg(n)&&Ig(t)}function Rg(t,n,s){return s(function(){xg(n)&&Ig(t)})}function xg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ue(t,s)}catch{return!0}}function Ig(t){var n=br(t,2);n!==null&&Or(n,t,2)}function ad(t){var n=wr();if(typeof t=="function"){var s=t;if(t=s(),ko){je(!0);try{s()}finally{je(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n}function Mg(t,n,s,o){return t.baseState=s,id(t,xn,typeof o=="function"?o:os)}function Ow(t,n,s,o,h){if(Pc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,Ng(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Ng(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var M=s(h,o),Y=G.S;Y!==null&&Y(T,M),Dg(t,n,M)}catch(le){sd(t,n,le)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=s(h,o),Dg(t,n,m)}catch(le){sd(t,n,le)}}function Dg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Og(t,n,o)},function(o){return sd(t,n,o)}):Og(t,n,s)}function Og(t,n,s){n.status="fulfilled",n.value=s,kg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ng(t,s)))}function sd(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,kg(n),n=n.next;while(n!==o)}t.action=null}function kg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function Pg(t,n){if(nn){var s=Vn.formState;if(s!==null){e:{var o=Vt;if(nn){if(Hn){t:{for(var h=Hn,m=sa;h.nodeType!==8;){if(!m){h=null;break t}if(h=la(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Hn=la(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=s[0])}}return s=wr(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},s.queue=o,s=ty.bind(null,Vt,o),o.dispatch=s,o=ad(!1),m=fd.bind(null,Vt,!1,o.queue),o=wr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=Ow.bind(null,Vt,h,m,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function Lg(t){var n=ui();return jg(n,xn,t)}function jg(t,n,s){if(n=id(t,n,Vg)[0],t=Oc(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=pu(n)}catch(T){throw T===ul?Tc:T}else o=n;n=ui();var h=n.queue,m=h.dispatch;return s!==n.memoizedState&&(Vt.flags|=2048,ml(9,{destroy:void 0},kw.bind(null,h,s),null)),[o,m,t]}function kw(t,n){t.action=n}function Ug(t){var n=ui(),s=xn;if(s!==null)return jg(n,s,t);ui(),n=n.memoizedState,s=ui();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function ml(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Vt.updateQueue,n===null&&(n=Nc(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function zg(){return ui().memoizedState}function kc(t,n,s,o){var h=wr();Vt.flags|=t,h.memoizedState=ml(1|n,{destroy:void 0},s,o===void 0?null:o)}function Vc(t,n,s,o){var h=ui();o=o===void 0?null:o;var m=h.memoizedState.inst;xn!==null&&o!==null&&$f(o,xn.memoizedState.deps)?h.memoizedState=ml(n,m,s,o):(Vt.flags|=t,h.memoizedState=ml(1|n,m,s,o))}function Bg(t,n){kc(8390656,8,t,n)}function od(t,n){Vc(2048,8,t,n)}function Vw(t){Vt.flags|=4;var n=Vt.updateQueue;if(n===null)n=Nc(),Vt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Fg(t){var n=ui().memoizedState;return Vw({ref:n,nextImpl:t}),function(){if((yn&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Hg(t,n){return Vc(4,2,t,n)}function qg(t,n){return Vc(4,4,t,n)}function Gg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,s){s=s!=null?s.concat([t]):null,Vc(4,4,Gg.bind(null,n,t),s)}function ld(){}function Xg(t,n){var s=ui();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&$f(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Qg(t,n){var s=ui();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&$f(n,o[1]))return o[0];if(o=t(),ko){je(!0);try{t()}finally{je(!1)}}return s.memoizedState=[o,n],o}function ud(t,n,s){return s===void 0||(ss&1073741824)!==0&&(Kt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ky(),Vt.lanes|=t,qs|=t,s)}function Kg(t,n,s,o){return ue(s,n)?s:hl.current!==null?(t=ud(t,s,o),ue(t,n)||(pi=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Kt&261930)===0?(pi=!0,t.memoizedState=s):(t=Ky(),Vt.lanes|=t,qs|=t,n)}function Wg(t,n,s,o,h){var m=Z.p;Z.p=m!==0&&8>m?m:8;var T=G.T,M={};G.T=M,fd(t,!1,n,s);try{var Y=h(),le=G.S;if(le!==null&&le(M,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ye=Mw(Y,o);gu(t,n,ye,Gr(t))}else gu(t,n,o,Gr(t))}catch(Ee){gu(t,n,{then:function(){},status:"rejected",reason:Ee},Gr())}finally{Z.p=m,T!==null&&M.types!==null&&(T.types=M.types),G.T=T}}function Pw(){}function cd(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=$g(t).queue;Wg(t,h,n,ve,s===null?Pw:function(){return Jg(t),s(o)})}function $g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ve},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jg(t){var n=$g(t);n.next===null&&(n=t.alternate.memoizedState),gu(t,n.next.queue,{},Gr())}function hd(){return zi(Ou)}function Zg(){return ui().memoizedState}function ey(){return ui().memoizedState}function Lw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Gr();t=js(s);var o=Us(n,t,s);o!==null&&(Or(o,n,s),hu(o,n,s)),n={cache:zf()},t.payload=n;return}n=n.return}}function jw(t,n,s){var o=Gr();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pc(t)?ny(n,s):(s=va(t,n,s,o),s!==null&&(Or(s,t,o),iy(s,n,o)))}function ty(t,n,s){var o=Gr();gu(t,n,s,o)}function gu(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))ny(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,s);if(h.hasEagerState=!0,h.eagerState=M,ue(M,T))return Na(t,n,h,0),Vn===null&&Ma(),!1}catch{}finally{}if(s=va(t,n,h,o),s!==null)return Or(s,t,o),iy(s,n,o),!0}return!1}function fd(t,n,s,o){if(o={lane:2,revertLane:qd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(n)throw Error(a(479))}else n=va(t,s,o,2),n!==null&&Or(n,t,2)}function Pc(t){var n=t.alternate;return t===Vt||n!==null&&n===Vt}function ny(t,n){fl=Ic=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function iy(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,qa(t,s)}}var yu={readContext:zi,use:Dc,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni,useHostTransitionStatus:ni,useFormState:ni,useActionState:ni,useOptimistic:ni,useMemoCache:ni,useCacheRefresh:ni};yu.useEffectEvent=ni;var ry={readContext:zi,use:Dc,useCallback:function(t,n){return wr().memoizedState=[t,n===void 0?null:n],t},useContext:zi,useEffect:Bg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,kc(4194308,4,Gg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return kc(4194308,4,t,n)},useInsertionEffect:function(t,n){kc(4,2,t,n)},useMemo:function(t,n){var s=wr();n=n===void 0?null:n;var o=t();if(ko){je(!0);try{t()}finally{je(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=wr();if(s!==void 0){var h=s(n);if(ko){je(!0);try{s(n)}finally{je(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=jw.bind(null,Vt,t),[o.memoizedState,t]},useRef:function(t){var n=wr();return t={current:t},n.memoizedState=t},useState:function(t){t=ad(t);var n=t.queue,s=ty.bind(null,Vt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ld,useDeferredValue:function(t,n){var s=wr();return ud(s,t,n)},useTransition:function(){var t=ad(!1);return t=Wg.bind(null,Vt,t.queue,!0,!1),wr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Vt,h=wr();if(nn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Vn===null)throw Error(a(349));(Kt&127)!==0||Sg(o,n,s)}h.memoizedState=s;var m={value:s,getSnapshot:n};return h.queue=m,Bg(Rg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Cg.bind(null,o,m,s,n),null),s},useId:function(){var t=wr(),n=Vn.identifierPrefix;if(nn){var s=Oa,o=Da;s=(o&~(1<<32-tt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Nw++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:hd,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var n=wr();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=fd.bind(null,Vt,!0,s),s.dispatch=n,[t,n]},useMemoCache:nd,useCacheRefresh:function(){return wr().memoizedState=Lw.bind(null,Vt)},useEffectEvent:function(t){var n=wr(),s={impl:t};return n.memoizedState=s,function(){if((yn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},dd={readContext:zi,use:Dc,useCallback:Xg,useContext:zi,useEffect:od,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:Oc,useRef:zg,useState:function(){return Oc(os)},useDebugValue:ld,useDeferredValue:function(t,n){var s=ui();return Kg(s,xn.memoizedState,t,n)},useTransition:function(){var t=Oc(os)[0],n=ui().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:hd,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var s=ui();return Mg(s,xn,t,n)},useMemoCache:nd,useCacheRefresh:ey};dd.useEffectEvent=Fg;var ay={readContext:zi,use:Dc,useCallback:Xg,useContext:zi,useEffect:od,useImperativeHandle:Yg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:rd,useRef:zg,useState:function(){return rd(os)},useDebugValue:ld,useDeferredValue:function(t,n){var s=ui();return xn===null?ud(s,t,n):Kg(s,xn.memoizedState,t,n)},useTransition:function(){var t=rd(os)[0],n=ui().memoizedState;return[typeof t=="boolean"?t:pu(t),n]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:hd,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var s=ui();return xn!==null?Mg(s,xn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:nd,useCacheRefresh:ey};ay.useEffectEvent=Fg;function md(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:L({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var pd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Gr(),h=js(o);h.payload=n,s!=null&&(h.callback=s),n=Us(t,h,o),n!==null&&(Or(n,t,o),hu(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Gr(),h=js(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Us(t,h,o),n!==null&&(Or(n,t,o),hu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Gr(),o=js(s);o.tag=2,n!=null&&(o.callback=n),n=Us(t,o,s),n!==null&&(Or(n,t,s),hu(n,t,s))}};function sy(t,n,s,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!oe(s,o)||!oe(h,m):!0}function oy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&pd.enqueueReplaceState(n,n.state,null)}function Vo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=L({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function ly(t){ji(t)}function uy(t){console.error(t)}function cy(t){ji(t)}function Lc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,n,s){return s=js(s),s.tag=3,s.payload={element:null},s.callback=function(){Lc(t,n)},s}function fy(t){return t=js(t),t.tag=3,t}function dy(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){hy(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){hy(n,s,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function Uw(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&sl(n,s,h,!0),s=Br.current,s!==null){switch(s.tag){case 31:case 13:return oa===null?Kc():s.alternate===null&&ii===0&&(ii=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ac?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Bd(t,o,h)),!1;case 22:return s.flags|=65536,o===Ac?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Bd(t,o,h)),!1}throw Error(a(435,s.tag))}return Bd(t,o,h),Kc(),!1}if(nn)return n=Br.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Vf&&(t=Error(a(422),{cause:o}),su(ia(t,s)))):(o!==Vf&&(n=Error(a(423),{cause:o}),su(ia(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ia(o,s),h=gd(t.stateNode,o,h),Yf(t,h),ii!==4&&(ii=2)),!1;var m=Error(a(520),{cause:o});if(m=ia(m,s),Su===null?Su=[m]:Su.push(m),ii!==4&&(ii=2),n===null)return!0;o=ia(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=gd(s.stateNode,o,t),Yf(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gs===null||!Gs.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=fy(h),dy(h,t,s,o),Yf(s,h),!1}s=s.return}while(s!==null);return!1}var yd=Error(a(461)),pi=!1;function Bi(t,n,s,o){n.child=t===null?yg(n,null,s,o):Oo(n,t.child,s,o)}function my(t,n,s,o,h){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return Io(n),o=Jf(t,n,s,T,m,h),M=Zf(),t!==null&&!pi?(ed(t,n,h),ls(t,n,h)):(nn&&M&&Of(n),n.flags|=1,Bi(t,n,o,h),n.child)}function py(t,n,s,o,h){if(t===null){var m=s.type;return typeof m=="function"&&!Mf(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,gy(t,n,m,o,h)):(t=vc(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Sd(t,h)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:oe,s(T,o)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ns(m,o),t.ref=n.ref,t.return=n,n.child=t}function gy(t,n,s,o,h){if(t!==null){var m=t.memoizedProps;if(oe(m,o)&&t.ref===n.ref)if(pi=!1,n.pendingProps=o=m,Sd(t,h))(t.flags&131072)!==0&&(pi=!0);else return n.lanes=t.lanes,ls(t,n,h)}return vd(t,n,s,o,h)}function yy(t,n,s,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return vy(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(n,m!==null?m.cachePool:null),m!==null?bg(n,m):Qf(),wg(n);else return o=n.lanes=536870912,vy(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Ec(n,m.cachePool),bg(n,m),Bs(),n.memoizedState=null):(t!==null&&Ec(n,null),Qf(),Bs());return Bi(t,n,h,s),n.child}function vu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(t,n,s,o,h){var m=Ff();return m=m===null?null:{parent:di._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Ec(n,null),Qf(),wg(n),t!==null&&sl(t,n,o,!0),n.childLanes=h,null}function jc(t,n){return n=zc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _y(t,n,s){return Oo(n,t.child,null,s),t=jc(n,n.pendingProps),t.flags|=2,Fr(n),n.memoizedState=null,t}function zw(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(nn){if(o.mode==="hidden")return t=jc(n,o),n.lanes=536870912,vu(null,t);if(Wf(n),(t=Hn)?(t=Nv(t,sa),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Da,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},s=ng(t),s.return=n,n.child=s,Ui=n,Hn=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return jc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Wf(n),h)if(n.flags&256)n.flags&=-257,n=_y(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(pi||sl(t,n,s,!1),h=(s&t.childLanes)!==0,pi||h){if(o=Vn,o!==null&&(T=Er(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,br(t,T),Or(o,t,T),yd;Kc(),n=_y(t,n,s)}else t=m.treeContext,Hn=la(T.nextSibling),Ui=n,nn=!0,ks=null,sa=!1,t!==null&&ag(n,t),n=jc(n,o),n.flags|=4096;return n}return t=ns(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Uc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function vd(t,n,s,o,h){return Io(n),s=Jf(t,n,s,o,void 0,h),o=Zf(),t!==null&&!pi?(ed(t,n,h),ls(t,n,h)):(nn&&o&&Of(n),n.flags|=1,Bi(t,n,s,h),n.child)}function by(t,n,s,o,h,m){return Io(n),n.updateQueue=null,s=Tg(n,o,s,h),Eg(t),o=Zf(),t!==null&&!pi?(ed(t,n,m),ls(t,n,m)):(nn&&o&&Of(n),n.flags|=1,Bi(t,n,s,m),n.child)}function wy(t,n,s,o,h){if(Io(n),n.stateNode===null){var m=zr,T=s.contextType;typeof T=="object"&&T!==null&&(m=zi(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},qf(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?zi(T):zr,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(md(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&pd.enqueueReplaceState(m,m.state,null),du(n,o,m,h),fu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,Y=Vo(s,M);m.props=Y;var le=m.context,ye=s.contextType;T=zr,typeof ye=="object"&&ye!==null&&(T=zi(ye));var Ee=s.getDerivedStateFromProps;ye=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,ye||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||le!==T)&&oy(n,m,o,T),Ls=!1;var ce=n.memoizedState;m.state=ce,du(n,o,m,h),fu(),le=n.memoizedState,M||ce!==le||Ls?(typeof Ee=="function"&&(md(n,s,Ee,o),le=n.memoizedState),(Y=Ls||sy(n,s,Y,o,ce,le,T))?(ye||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=T,o=Y):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Gf(t,n),T=n.memoizedProps,ye=Vo(s,T),m.props=ye,Ee=n.pendingProps,ce=m.context,le=s.contextType,Y=zr,typeof le=="object"&&le!==null&&(Y=zi(le)),M=s.getDerivedStateFromProps,(le=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ee||ce!==Y)&&oy(n,m,o,Y),Ls=!1,ce=n.memoizedState,m.state=ce,du(n,o,m,h),fu();var pe=n.memoizedState;T!==Ee||ce!==pe||Ls||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof M=="function"&&(md(n,s,M,o),pe=n.memoizedState),(ye=Ls||sy(n,s,ye,o,ce,pe,Y)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,pe,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,pe,Y)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=pe),m.props=o,m.state=pe,m.context=Y,o=ye):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Uc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Oo(n,t.child,null,h),n.child=Oo(n,null,s,h)):Bi(t,n,s,h),n.memoizedState=m.state,t=n.child):t=ls(t,n,h),t}function Ey(t,n,s,o){return Ro(),n.flags|=256,Bi(t,n,s,o),n.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(t){return{baseLanes:t,cachePool:hg()}}function wd(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=qr),t}function Ty(t,n,s){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(li.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(nn){if(h?zs(n):Bs(),(t=Hn)?(t=Nv(t,sa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Da,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},s=ng(t),s.return=n,n.child=s,Ui=n,Hn=null)):t=null,t===null)throw Vs(n);return im(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,h?(Bs(),h=n.mode,M=zc({mode:"hidden",children:M},h),o=Co(o,h,s,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=bd(s),o.childLanes=wd(t,T,s),n.memoizedState=_d,vu(null,o)):(zs(n),Ed(n,M))}var Y=t.memoizedState;if(Y!==null&&(M=Y.dehydrated,M!==null)){if(m)n.flags&256?(zs(n),n.flags&=-257,n=Td(t,n,s)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),M=o.fallback,h=n.mode,o=zc({mode:"visible",children:o.children},h),M=Co(M,h,s,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Oo(n,t.child,null,s),o=n.child,o.memoizedState=bd(s),o.childLanes=wd(t,T,s),n.memoizedState=_d,n=vu(null,o));else if(zs(n),im(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var le=T.dgst;T=le,o=Error(a(419)),o.stack="",o.digest=T,su({value:o,source:null,stack:null}),n=Td(t,n,s)}else if(pi||sl(t,n,s,!1),T=(s&t.childLanes)!==0,pi||T){if(T=Vn,T!==null&&(o=Er(T,s),o!==0&&o!==Y.retryLane))throw Y.retryLane=o,br(t,o),Or(T,t,o),yd;nm(M)||Kc(),n=Td(t,n,s)}else nm(M)?(n.flags|=192,n.child=t.child,n=null):(t=Y.treeContext,Hn=la(M.nextSibling),Ui=n,nn=!0,ks=null,sa=!1,t!==null&&ag(n,t),n=Ed(n,o.children),n.flags|=4096);return n}return h?(Bs(),M=o.fallback,h=n.mode,Y=t.child,le=Y.sibling,o=ns(Y,{mode:"hidden",children:o.children}),o.subtreeFlags=Y.subtreeFlags&65011712,le!==null?M=ns(le,M):(M=Co(M,h,s,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,vu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=bd(s):(h=M.cachePool,h!==null?(Y=di._currentValue,h=h.parent!==Y?{parent:Y,pool:Y}:h):h=hg(),M={baseLanes:M.baseLanes|s,cachePool:h}),o.memoizedState=M,o.childLanes=wd(t,T,s),n.memoizedState=_d,vu(t.child,o)):(zs(n),s=t.child,t=s.sibling,s=ns(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function Ed(t,n){return n=zc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zc(t,n){return t=Ji(22,t,null,n),t.lanes=0,t}function Td(t,n,s){return Oo(n,t.child,null,s),t=Ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ay(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),jf(t.return,n,s)}function Ad(t,n,s,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=h,T.treeForkCount=m)}function Sy(t,n,s){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=li.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ce(li,T),Bi(t,n,o,s),o=nn?au:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,s,n);else if(t.tag===19)Ay(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&xc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Ad(n,!1,h,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&xc(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Ad(n,!0,s,null,m,o);break;case"together":Ad(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ls(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ns(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ns(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function Bw(t,n,s){switch(n.tag){case 3:ct(n,n.stateNode.containerInfo),Ps(n,di,t.memoizedState.cache),Ro();break;case 27:case 5:Tt(n);break;case 4:ct(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ty(t,n,s):(zs(n),t=ls(t,n,s),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(sl(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Sy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ce(li,li.current),o)break;return null;case 22:return n.lanes=0,yy(t,n,s,n.pendingProps);case 24:Ps(n,di,t.memoizedState.cache)}return ls(t,n,s)}function Cy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)pi=!0;else{if(!Sd(t,s)&&(n.flags&128)===0)return pi=!1,Bw(t,n,s);pi=(t.flags&131072)!==0}else pi=!1,nn&&(n.flags&1048576)!==0&&rg(n,au,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=No(n.elementType),n.type=t,typeof t=="function")Mf(t)?(o=Vo(t,o),n.tag=1,n=wy(null,n,t,o,s)):(n.tag=0,n=vd(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===We){n.tag=11,n=my(null,n,t,o,s);break e}else if(h===q){n.tag=14,n=py(null,n,t,o,s);break e}}throw n=K(t)||t,Error(a(306,n,""))}}return n;case 0:return vd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Vo(o,n.pendingProps),wy(t,n,o,h,s);case 3:e:{if(ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Gf(t,n),du(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Ps(n,di,o),o!==m.cache&&Uf(n,[di],s,!0),fu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ey(t,n,o,s);break e}else if(o!==h){h=ia(Error(a(424)),n),su(h),n=Ey(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Hn=la(t.firstChild),Ui=n,nn=!0,ks=null,sa=!0,s=yg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ro(),o===h){n=ls(t,n,s);break e}Bi(t,n,o,s)}n=n.child}return n;case 26:return Uc(t,n),t===null?(s=Lv(n.type,null,n.pendingProps,null))?n.memoizedState=s:nn||(s=n.type,t=n.pendingProps,o=nh(Qe.current).createElement(s),o[_n]=n,o[$n]=t,Fi(o,s,t),zn(o),n.stateNode=o):n.memoizedState=Lv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Tt(n),t===null&&nn&&(o=n.stateNode=kv(n.type,n.pendingProps,Qe.current),Ui=n,sa=!0,h=Hn,Ks(n.type)?(rm=h,Hn=la(o.firstChild)):Hn=h),Bi(t,n,n.pendingProps.children,s),Uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&nn&&((h=o=Hn)&&(o=yE(o,n.type,n.pendingProps,sa),o!==null?(n.stateNode=o,Ui=n,Hn=la(o.firstChild),sa=!1,h=!0):h=!1),h||Vs(n)),Tt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Zd(h,m)?o=null:T!==null&&Zd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Jf(t,n,Dw,null,null,s),Ou._currentValue=h),Uc(t,n),Bi(t,n,o,s),n.child;case 6:return t===null&&nn&&((t=s=Hn)&&(s=vE(s,n.pendingProps,sa),s!==null?(n.stateNode=s,Ui=n,Hn=null,t=!0):t=!1),t||Vs(n)),null;case 13:return Ty(t,n,s);case 4:return ct(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Oo(n,null,o,s):Bi(t,n,o,s),n.child;case 11:return my(t,n,n.type,n.pendingProps,s);case 7:return Bi(t,n,n.pendingProps,s),n.child;case 8:return Bi(t,n,n.pendingProps.children,s),n.child;case 12:return Bi(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),Bi(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Io(n),h=zi(h),o=o(h),n.flags|=1,Bi(t,n,o,s),n.child;case 14:return py(t,n,n.type,n.pendingProps,s);case 15:return gy(t,n,n.type,n.pendingProps,s);case 19:return Sy(t,n,s);case 31:return zw(t,n,s);case 22:return yy(t,n,s,n.pendingProps);case 24:return Io(n),o=zi(di),t===null?(h=Ff(),h===null&&(h=Vn,m=zf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),n.memoizedState={parent:o,cache:h},qf(n),Ps(n,di,h)):((t.lanes&s)!==0&&(Gf(t,n),du(n,null,null,s),fu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,di,o)):(o=m.cache,Ps(n,di,o),o!==h.cache&&Uf(n,[di],s,!0))),Bi(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Cd(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Do=Ac,Hf}else t.flags&=-16777217}function Ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fv(n))if(Zy())t.flags|=8192;else throw Do=Ac,Hf}function Bc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bt():536870912,t.lanes|=n,vl|=n)}function _u(t,n){if(!nn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function qn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Fw(t,n,s){var o=n.pendingProps;switch(kf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(n),null;case 1:return qn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),as(di),dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pf())),qn(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(us(n),m!==null?(qn(n),Ry(n,m)):(qn(n),Cd(n,h,null,o,s))):m?m!==t.memoizedState?(us(n),qn(n),Ry(n,m)):(qn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&us(n),qn(n),Cd(n,h,t,o,s)),null;case 27:if(yt(n),s=Qe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return qn(n),null}t=we.current,al(n)?sg(n):(t=kv(h,o,s),n.stateNode=t,us(n))}return qn(n),null;case 5:if(yt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return qn(n),null}if(m=we.current,al(n))sg(n);else{var T=nh(Qe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[_n]=n,m[$n]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Fi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&us(n)}}return qn(n),Cd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Qe.current,al(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=Ui,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[_n]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Tv(t.nodeValue,s)),t||Vs(n,!0)}else t=nh(t).createTextNode(o),t[_n]=n,n.stateNode=t}return qn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_n]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qn(n),t=!1}else s=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Fr(n),n):(Fr(n),null);if((n.flags&128)!==0)throw Error(a(558))}return qn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_n]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qn(n),h=!1}else h=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Fr(n),n):(Fr(n),null)}return Fr(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Bc(n,n.updateQueue),qn(n),null);case 4:return dt(),t===null&&Qd(n.stateNode.containerInfo),qn(n),null;case 10:return as(n.type),qn(n),null;case 19:if(re(li),o=n.memoizedState,o===null)return qn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)_u(o,!1);else{if(ii!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=xc(t),m!==null){for(n.flags|=128,_u(o,!1),t=m.updateQueue,n.updateQueue=t,Bc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)tg(s,t),s=s.sibling;return Ce(li,li.current&1|2),nn&&is(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ct()>Yc&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304)}else{if(!h)if(t=xc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Bc(n,t),_u(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!nn)return qn(n),null}else 2*Ct()-o.renderingStartTime>Yc&&s!==536870912&&(n.flags|=128,h=!0,_u(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ct(),t.sibling=null,s=li.current,Ce(li,h?s&1|2:s&1),nn&&is(n,o.treeForkCount),t):(qn(n),null);case 22:case 23:return Fr(n),Kf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(qn(n),n.subtreeFlags&6&&(n.flags|=8192)):qn(n),s=n.updateQueue,s!==null&&Bc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&re(Mo),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),as(di),qn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Hw(t,n){switch(kf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return as(di),dt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return yt(n),null;case 31:if(n.memoizedState!==null){if(Fr(n),n.alternate===null)throw Error(a(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Fr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return re(li),null;case 4:return dt(),null;case 10:return as(n.type),null;case 22:case 23:return Fr(n),Kf(),t!==null&&re(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return as(di),null;case 25:return null;default:return null}}function xy(t,n){switch(kf(n),n.tag){case 3:as(di),dt();break;case 26:case 27:case 5:yt(n);break;case 4:dt();break;case 31:n.memoizedState!==null&&Fr(n);break;case 13:Fr(n);break;case 19:re(li);break;case 10:as(n.type);break;case 22:case 23:Fr(n),Kf(),t!==null&&re(Mo);break;case 24:as(di)}}function bu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==h)}}catch(M){Rn(n,n.return,M)}}function Fs(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,h=n;var Y=s,le=M;try{le()}catch(ye){Rn(h,Y,ye)}}}o=o.next}while(o!==m)}}catch(ye){Rn(n,n.return,ye)}}function Iy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{_g(n,s)}catch(o){Rn(t,t.return,o)}}}function My(t,n,s){s.props=Vo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Rn(t,n,o)}}function wu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){Rn(t,n,h)}}function ka(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Rn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Rn(t,n,h)}else s.current=null}function Ny(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Rn(t,t.return,h)}}function Rd(t,n,s){try{var o=t.stateNode;hE(o,t.type,s,n),o[$n]=n}catch(h){Rn(t,t.return,h)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=X));else if(o!==4&&(o===27&&Ks(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Id(t,n,s),t=t.sibling;t!==null;)Id(t,n,s),t=t.sibling}function Fc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Fc(t,n,s),t=t.sibling;t!==null;)Fc(t,n,s),t=t.sibling}function Oy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fi(n,o,s),n[_n]=t,n[$n]=s}catch(m){Rn(t,t.return,m)}}var cs=!1,gi=!1,Md=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Ii=null;function qw(t,n){if(t=t.containerInfo,$d=uh,t=ee(t),Be(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,M=-1,Y=-1,le=0,ye=0,Ee=t,ce=null;t:for(;;){for(var pe;Ee!==s||h!==0&&Ee.nodeType!==3||(M=T+h),Ee!==m||o!==0&&Ee.nodeType!==3||(Y=T+o),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(pe=Ee.firstChild)!==null;)ce=Ee,Ee=pe;for(;;){if(Ee===t)break t;if(ce===s&&++le===h&&(M=T),ce===m&&++ye===o&&(Y=T),(pe=Ee.nextSibling)!==null)break;Ee=ce,ce=Ee.parentNode}Ee=pe}s=M===-1||Y===-1?null:{start:M,end:Y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jd={focusedElem:t,selectionRange:s},uh=!1,Ii=n;Ii!==null;)if(n=Ii,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ii=t;else for(;Ii!==null;){switch(n=Ii,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,h=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var ot=Vo(s.type,h);t=o.getSnapshotBeforeUpdate(ot,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(At){Rn(s,s.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)tm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ii=t;break}Ii=n.return}}function Vy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s),o&4&&bu(5,s);break;case 1:if(fs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){Rn(s,s.return,T)}else{var h=Vo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Rn(s,s.return,T)}}o&64&&Iy(s),o&512&&wu(s,s.return);break;case 3:if(fs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{_g(t,n)}catch(T){Rn(s,s.return,T)}}break;case 27:n===null&&o&4&&Oy(s);case 26:case 5:fs(t,s),n===null&&o&4&&Ny(s),o&512&&wu(s,s.return);break;case 12:fs(t,s);break;case 31:fs(t,s),o&4&&jy(t,s);break;case 13:fs(t,s),o&4&&Uy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Zw.bind(null,s),_E(t,s))));break;case 22:if(o=s.memoizedState!==null||cs,!o){n=n!==null&&n.memoizedState!==null||gi,h=cs;var m=gi;cs=o,(gi=n)&&!m?ds(t,s,(s.subtreeFlags&8772)!==0):fs(t,s),cs=h,gi=m}break;case 30:break;default:fs(t,s)}}function Py(t){var n=t.alternate;n!==null&&(t.alternate=null,Py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Oi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qn=null,Ir=!1;function hs(t,n,s){for(s=s.child;s!==null;)Ly(t,n,s),s=s.sibling}function Ly(t,n,s){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount($e,s)}catch{}switch(s.tag){case 26:gi||ka(s,n),hs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:gi||ka(s,n);var o=Qn,h=Ir;Ks(s.type)&&(Qn=s.stateNode,Ir=!1),hs(t,n,s),Mu(s.stateNode),Qn=o,Ir=h;break;case 5:gi||ka(s,n);case 6:if(o=Qn,h=Ir,Qn=null,hs(t,n,s),Qn=o,Ir=h,Qn!==null)if(Ir)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(s.stateNode)}catch(m){Rn(s,n,m)}else try{Qn.removeChild(s.stateNode)}catch(m){Rn(s,n,m)}break;case 18:Qn!==null&&(Ir?(t=Qn,Iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):Iv(Qn,s.stateNode));break;case 4:o=Qn,h=Ir,Qn=s.stateNode.containerInfo,Ir=!0,hs(t,n,s),Qn=o,Ir=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),gi||Fs(4,s,n),hs(t,n,s);break;case 1:gi||(ka(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&My(s,n,o)),hs(t,n,s);break;case 21:hs(t,n,s);break;case 22:gi=(o=gi)||s.memoizedState!==null,hs(t,n,s),gi=o;break;default:hs(t,n,s)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(s){Rn(n,n.return,s)}}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){Rn(n,n.return,s)}}function Gw(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ky),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ky),n;default:throw Error(a(435,t.tag))}}function Hc(t,n){var s=Gw(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=eE.bind(null,t,o);o.then(h,h)}})}function Mr(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if(Ks(M.type)){Qn=M.stateNode,Ir=!1;break e}break;case 5:Qn=M.stateNode,Ir=!1;break e;case 3:case 4:Qn=M.stateNode.containerInfo,Ir=!0;break e}M=M.return}if(Qn===null)throw Error(a(160));Ly(m,T,h),Qn=null,Ir=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zy(n,t),n=n.sibling}var _a=null;function zy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mr(n,t),Nr(t),o&4&&(Fs(3,t,t.return),bu(3,t),Fs(5,t,t.return));break;case 1:Mr(n,t),Nr(t),o&512&&(gi||s===null||ka(s,s.return)),o&64&&cs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=_a;if(Mr(n,t),Nr(t),o&512&&(gi||s===null||ka(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[ur]||m[_n]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Fi(m,o,s),m[_n]=t,zn(m),o=m;break e;case"link":var T=zv("link","href",h).get(o+(s.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(M,1);break t}}m=h.createElement(o),Fi(m,o,s),h.head.appendChild(m);break;case"meta":if(T=zv("meta","content",h).get(o+(s.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(M,1);break t}}m=h.createElement(o),Fi(m,o,s),h.head.appendChild(m);break;default:throw Error(a(468,o))}m[_n]=t,zn(m),o=m}t.stateNode=o}else Bv(h,t.type,t.stateNode);else t.stateNode=Uv(h,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Bv(h,t.type,t.stateNode):Uv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Mr(n,t),Nr(t),o&512&&(gi||s===null||ka(s,s.return)),s!==null&&o&4&&Rd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Mr(n,t),Nr(t),o&512&&(gi||s===null||ka(s,s.return)),t.flags&32){h=t.stateNode;try{ti(h,"")}catch(ot){Rn(t,t.return,ot)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Md=!0);break;case 6:if(Mr(n,t),Nr(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ot){Rn(t,t.return,ot)}}break;case 3:if(ah=null,h=_a,_a=ih(n.containerInfo),Mr(n,t),_a=h,Nr(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(ot){Rn(t,t.return,ot)}Md&&(Md=!1,By(t));break;case 4:o=_a,_a=ih(t.stateNode.containerInfo),Mr(n,t),Nr(t),_a=o;break;case 12:Mr(n,t),Nr(t);break;case 31:Mr(n,t),Nr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 13:Mr(n,t),Nr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gc=Ct()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 22:h=t.memoizedState!==null;var Y=s!==null&&s.memoizedState!==null,le=cs,ye=gi;if(cs=le||h,gi=ye||Y,Mr(n,t),gi=ye,cs=le,Nr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||Y||cs||gi||Po(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){Y=s=n;try{if(m=Y.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=Y.stateNode;var Ee=Y.memoizedProps.style,ce=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(ot){Rn(Y,Y.return,ot)}}}else if(n.tag===6){if(s===null){Y=n;try{Y.stateNode.nodeValue=h?"":Y.memoizedProps}catch(ot){Rn(Y,Y.return,ot)}}}else if(n.tag===18){if(s===null){Y=n;try{var pe=Y.stateNode;h?Mv(pe,!0):Mv(Y.stateNode,!1)}catch(ot){Rn(Y,Y.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hc(t,s))));break;case 19:Mr(n,t),Nr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 30:break;case 21:break;default:Mr(n,t),Nr(t)}}function Nr(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=xd(t);Fc(t,m,h);break;case 5:var T=s.stateNode;s.flags&32&&(ti(T,""),s.flags&=-33);var M=xd(t);Fc(t,M,T);break;case 3:case 4:var Y=s.stateNode.containerInfo,le=xd(t);Id(t,le,Y);break;default:throw Error(a(161))}}catch(ye){Rn(t,t.return,ye)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;By(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vy(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),Po(n);break;case 1:ka(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&My(n,n.return,s),Po(n);break;case 27:Mu(n.stateNode);case 26:case 5:ka(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function ds(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:ds(h,m,s),bu(4,m);break;case 1:if(ds(h,m,s),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(le){Rn(o,o.return,le)}if(o=m,h=o.updateQueue,h!==null){var M=o.stateNode;try{var Y=h.shared.hiddenCallbacks;if(Y!==null)for(h.shared.hiddenCallbacks=null,h=0;h<Y.length;h++)vg(Y[h],M)}catch(le){Rn(o,o.return,le)}}s&&T&64&&Iy(m),wu(m,m.return);break;case 27:Oy(m);case 26:case 5:ds(h,m,s),s&&o===null&&T&4&&Ny(m),wu(m,m.return);break;case 12:ds(h,m,s);break;case 31:ds(h,m,s),s&&T&4&&jy(h,m);break;case 13:ds(h,m,s),s&&T&4&&Uy(h,m);break;case 22:m.memoizedState===null&&ds(h,m,s),wu(m,m.return);break;case 30:break;default:ds(h,m,s)}n=n.sibling}}function Nd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ou(s))}function Dd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t))}function ba(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fy(t,n,s,o),n=n.sibling}function Fy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ba(t,n,s,o),h&2048&&bu(9,n);break;case 1:ba(t,n,s,o);break;case 3:ba(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ou(t)));break;case 12:if(h&2048){ba(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){Rn(n,n.return,Y)}}else ba(t,n,s,o);break;case 31:ba(t,n,s,o);break;case 13:ba(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?ba(t,n,s,o):Eu(t,n):m._visibility&2?ba(t,n,s,o):(m._visibility|=2,pl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(T,n);break;case 24:ba(t,n,s,o),h&2048&&Dd(n.alternate,n);break;default:ba(t,n,s,o)}}function pl(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=s,Y=o,le=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,Y,h),bu(8,T);break;case 23:break;case 22:var ye=T.stateNode;T.memoizedState!==null?ye._visibility&2?pl(m,T,M,Y,h):Eu(m,T):(ye._visibility|=2,pl(m,T,M,Y,h)),h&&le&2048&&Nd(T.alternate,T);break;case 24:pl(m,T,M,Y,h),h&&le&2048&&Dd(T.alternate,T);break;default:pl(m,T,M,Y,h)}n=n.sibling}}function Eu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:Eu(s,o),h&2048&&Nd(o.alternate,o);break;case 24:Eu(s,o),h&2048&&Dd(o.alternate,o);break;default:Eu(s,o)}n=n.sibling}}var Tu=8192;function gl(t,n,s){if(t.subtreeFlags&Tu)for(t=t.child;t!==null;)Hy(t,n,s),t=t.sibling}function Hy(t,n,s){switch(t.tag){case 26:gl(t,n,s),t.flags&Tu&&t.memoizedState!==null&&NE(s,_a,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,s);break;case 3:case 4:var o=_a;_a=ih(t.stateNode.containerInfo),gl(t,n,s),_a=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Tu,Tu=16777216,gl(t,n,s),Tu=o):gl(t,n,s));break;default:gl(t,n,s)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Au(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ii=o,Yy(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:Au(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:Au(t);break;case 12:Au(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qc(t)):Au(t);break;default:Au(t)}}function qc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ii=o,Yy(o,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),qc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qc(n));break;default:qc(n)}t=t.sibling}}function Yy(t,n){for(;Ii!==null;){var s=Ii;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ou(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ii=o;else e:for(s=t;Ii!==null;){o=Ii;var h=o.sibling,m=o.return;if(Py(o),o===s){Ii=null;break e}if(h!==null){h.return=m,Ii=h;break e}Ii=m}}}var Yw={getCacheForType:function(t){var n=zi(di),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return zi(di).controller.signal}},Xw=typeof WeakMap=="function"?WeakMap:Map,yn=0,Vn=null,Gt=null,Kt=0,Cn=0,Hr=null,Hs=!1,yl=!1,Od=!1,ms=0,ii=0,qs=0,Lo=0,kd=0,qr=0,vl=0,Su=null,Dr=null,Vd=!1,Gc=0,Xy=0,Yc=1/0,Xc=null,Gs=null,Ei=0,Ys=null,_l=null,ps=0,Pd=0,Ld=null,Qy=null,Cu=0,jd=null;function Gr(){return(yn&2)!==0&&Kt!==0?Kt&-Kt:G.T!==null?qd():Xr()}function Ky(){if(qr===0)if((Kt&536870912)===0||nn){var t=On;On<<=1,(On&3932160)===0&&(On=262144),qr=t}else qr=536870912;return t=Br.current,t!==null&&(t.flags|=32),qr}function Or(t,n,s){(t===Vn&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Xs(t,Kt,qr,!1)),xt(t,s),((yn&2)===0||t!==Vn)&&(t===Vn&&((yn&2)===0&&(Lo|=s),ii===4&&Xs(t,Kt,qr,!1)),Va(t))}function Wy(t,n,s){if((yn&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ri(t,n),h=o?Ww(t,n):zd(t,n,!0),m=o;do{if(h===0){yl&&!o&&Xs(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!Qw(s)){h=zd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;h=Su;var Y=M.current.memoizedState.isDehydrated;if(Y&&(bl(M,T).flags|=256),T=zd(M,T,!1),T!==2){if(Od&&!Y){M.errorRecoveryDisabledLanes|=m,Lo|=m,h=4;break e}m=Dr,Dr=h,m!==null&&(Dr===null?Dr=m:Dr.push.apply(Dr,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){bl(t,0),Xs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(o,n,qr,!Hs);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gc+300-Ct(),10<h)){if(Xs(o,n,qr,!Hs),Un(o,0,!0)!==0)break e;ps=n,o.timeoutHandle=Rv($y.bind(null,o,s,Dr,Xc,Vd,n,qr,Lo,vl,Hs,m,"Throttled",-0,0),h);break e}$y(o,s,Dr,Xc,Vd,n,qr,Lo,vl,Hs,m,null,-0,0)}}break}while(!0);Va(t)}function $y(t,n,s,o,h,m,T,M,Y,le,ye,Ee,ce,pe){if(t.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:X},Hy(n,m,Ee);var ot=(m&62914560)===m?Gc-Ct():(m&4194048)===m?Xy-Ct():0;if(ot=DE(Ee,ot),ot!==null){ps=m,t.cancelPendingCommit=ot(av.bind(null,t,n,m,s,o,h,T,M,Y,ye,Ee,null,ce,pe)),Xs(t,m,T,!le);return}}av(t,n,m,s,o,h,T,M,Y)}function Qw(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,s,o){n&=~kd,n&=~Lo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-tt(h),T=1<<m;o[m]=-1,h&=~T}s!==0&&Wn(t,s,n)}function Qc(){return(yn&6)===0?(Ru(0),!1):!0}function Ud(){if(Gt!==null){if(Cn===0)var t=Gt.return;else t=Gt,rs=xo=null,td(t),cl=null,uu=0,t=Gt;for(;t!==null;)xy(t.alternate,t),t=t.return;Gt=null}}function bl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,mE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ps=0,Ud(),Vn=t,Gt=s=ns(t.current,null),Kt=n,Cn=0,Hr=null,Hs=!1,yl=ri(t,n),Od=!1,vl=qr=kd=Lo=qs=ii=0,Dr=Su=null,Vd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-tt(o),m=1<<h;n|=t[h],o&=~m}return ms=n,Ma(),s}function Jy(t,n){Vt=null,G.H=yu,n===ul||n===Tc?(n=mg(),Cn=3):n===Hf?(n=mg(),Cn=4):Cn=n===yd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hr=n,Gt===null&&(ii=1,Lc(t,ia(n,t.current)))}function Zy(){var t=Br.current;return t===null?!0:(Kt&4194048)===Kt?oa===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?t===oa:!1}function ev(){var t=G.H;return G.H=yu,t===null?yu:t}function tv(){var t=G.A;return G.A=Yw,t}function Kc(){ii=4,Hs||(Kt&4194048)!==Kt&&Br.current!==null||(yl=!0),(qs&134217727)===0&&(Lo&134217727)===0||Vn===null||Xs(Vn,Kt,qr,!1)}function zd(t,n,s){var o=yn;yn|=2;var h=ev(),m=tv();(Vn!==t||Kt!==n)&&(Xc=null,bl(t,n)),n=!1;var T=ii;e:do try{if(Cn!==0&&Gt!==null){var M=Gt,Y=Hr;switch(Cn){case 8:Ud(),T=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(n=!0);var le=Cn;if(Cn=0,Hr=null,wl(t,M,Y,le),s&&yl){T=0;break e}break;default:le=Cn,Cn=0,Hr=null,wl(t,M,Y,le)}}Kw(),T=ii;break}catch(ye){Jy(t,ye)}while(!0);return n&&t.shellSuspendCounter++,rs=xo=null,yn=o,G.H=h,G.A=m,Gt===null&&(Vn=null,Kt=0,Ma()),T}function Kw(){for(;Gt!==null;)nv(Gt)}function Ww(t,n){var s=yn;yn|=2;var o=ev(),h=tv();Vn!==t||Kt!==n?(Xc=null,Yc=Ct()+500,bl(t,n)):yl=ri(t,n);e:do try{if(Cn!==0&&Gt!==null){n=Gt;var m=Hr;t:switch(Cn){case 1:Cn=0,Hr=null,wl(t,n,m,1);break;case 2:case 9:if(fg(m)){Cn=0,Hr=null,iv(n);break}n=function(){Cn!==2&&Cn!==9||Vn!==t||(Cn=7),Va(t)},m.then(n,n);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:fg(m)?(Cn=0,Hr=null,iv(n)):(Cn=0,Hr=null,wl(t,n,m,7));break;case 5:var T=null;switch(Gt.tag){case 26:T=Gt.memoizedState;case 5:case 27:var M=Gt;if(T?Fv(T):M.stateNode.complete){Cn=0,Hr=null;var Y=M.sibling;if(Y!==null)Gt=Y;else{var le=M.return;le!==null?(Gt=le,Wc(le)):Gt=null}break t}}Cn=0,Hr=null,wl(t,n,m,5);break;case 6:Cn=0,Hr=null,wl(t,n,m,6);break;case 8:Ud(),ii=6;break e;default:throw Error(a(462))}}$w();break}catch(ye){Jy(t,ye)}while(!0);return rs=xo=null,G.H=o,G.A=h,yn=s,Gt!==null?0:(Vn=null,Kt=0,Ma(),ii)}function $w(){for(;Gt!==null&&!rr();)nv(Gt)}function nv(t){var n=Cy(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?Wc(t):Gt=n}function iv(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=by(s,n,n.pendingProps,n.type,void 0,Kt);break;case 11:n=by(s,n,n.pendingProps,n.type.render,n.ref,Kt);break;case 5:td(n);default:xy(s,n),n=Gt=tg(n,ms),n=Cy(s,n,ms)}t.memoizedProps=t.pendingProps,n===null?Wc(t):Gt=n}function wl(t,n,s,o){rs=xo=null,td(n),cl=null,uu=0;var h=n.return;try{if(Uw(t,h,n,s,Kt)){ii=1,Lc(t,ia(s,t.current)),Gt=null;return}}catch(m){if(h!==null)throw Gt=h,m;ii=1,Lc(t,ia(s,t.current)),Gt=null;return}n.flags&32768?(nn||o===1?t=!0:yl||(Kt&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Br.current,o!==null&&o.tag===13&&(o.flags|=16384))),rv(n,t)):Wc(n)}function Wc(t){var n=t;do{if((n.flags&32768)!==0){rv(n,Hs);return}t=n.return;var s=Fw(n.alternate,n,ms);if(s!==null){Gt=s;return}if(n=n.sibling,n!==null){Gt=n;return}Gt=n=t}while(n!==null);ii===0&&(ii=5)}function rv(t,n){do{var s=Hw(t.alternate,t);if(s!==null){s.flags&=32767,Gt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Gt=t;return}Gt=t=s}while(t!==null);ii=6,Gt=null}function av(t,n,s,o,h,m,T,M,Y){t.cancelPendingCommit=null;do $c();while(Ei!==0);if((yn&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=nl,Yi(t,s,m,T,M,Y),t===Vn&&(Gt=Vn=null,Kt=0),_l=n,Ys=t,ps=s,Pd=m,Ld=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tE(v,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=Z.p,Z.p=2,T=yn,yn|=4;try{qw(t,n,s)}finally{yn=T,Z.p=h,G.T=o}}Ei=1,sv(),ov(),lv()}}function sv(){if(Ei===1){Ei=0;var t=Ys,n=_l,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=Z.p;Z.p=2;var h=yn;yn|=4;try{zy(n,t);var m=Jd,T=ee(t.containerInfo),M=m.focusedElem,Y=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&st(M.ownerDocument.documentElement,M)){if(Y!==null&&Be(M)){var le=Y.start,ye=Y.end;if(ye===void 0&&(ye=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(ye,M.value.length);else{var Ee=M.ownerDocument||document,ce=Ee&&Ee.defaultView||window;if(ce.getSelection){var pe=ce.getSelection(),ot=M.textContent.length,At=Math.min(Y.start,ot),Mn=Y.end===void 0?At:Math.min(Y.end,ot);!pe.extend&&At>Mn&&(T=Mn,Mn=At,At=T);var te=Je(M,At),Q=Je(M,Mn);if(te&&Q&&(pe.rangeCount!==1||pe.anchorNode!==te.node||pe.anchorOffset!==te.offset||pe.focusNode!==Q.node||pe.focusOffset!==Q.offset)){var se=Ee.createRange();se.setStart(te.node,te.offset),pe.removeAllRanges(),At>Mn?(pe.addRange(se),pe.extend(Q.node,Q.offset)):(se.setEnd(Q.node,Q.offset),pe.addRange(se))}}}}for(Ee=[],pe=M;pe=pe.parentNode;)pe.nodeType===1&&Ee.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var be=Ee[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}uh=!!$d,Jd=$d=null}finally{yn=h,Z.p=o,G.T=s}}t.current=n,Ei=2}}function ov(){if(Ei===2){Ei=0;var t=Ys,n=_l,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=Z.p;Z.p=2;var h=yn;yn|=4;try{Vy(t,n.alternate,n)}finally{yn=h,Z.p=o,G.T=s}}Ei=3}}function lv(){if(Ei===4||Ei===3){Ei=0,Sn();var t=Ys,n=_l,s=ps,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ei=5:(Ei=0,_l=Ys=null,uv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Ge(s),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot($e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=Z.p,Z.p=2,G.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{G.T=n,Z.p=h}}(ps&3)!==0&&$c(),Va(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===jd?Cu++:(Cu=0,jd=t):Cu=0,Ru(0)}}function uv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ou(n)))}function $c(){return sv(),ov(),lv(),cv()}function cv(){if(Ei!==5)return!1;var t=Ys,n=Pd;Pd=0;var s=Ge(ps),o=G.T,h=Z.p;try{Z.p=32>s?32:s,G.T=null,s=Ld,Ld=null;var m=Ys,T=ps;if(Ei=0,_l=Ys=null,ps=0,(yn&6)!==0)throw Error(a(331));var M=yn;if(yn|=4,Gy(m.current),Fy(m,m.current,T,s),yn=M,Ru(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot($e,m)}catch{}return!0}finally{Z.p=h,G.T=o,uv(t,n)}}function hv(t,n,s){n=ia(s,n),n=gd(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(xt(t,2),Va(t))}function Rn(t,n,s){if(t.tag===3)hv(t,t,s);else for(;n!==null;){if(n.tag===3){hv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){t=ia(s,t),s=fy(2),o=Us(n,s,2),o!==null&&(dy(s,o,n,t),xt(o,2),Va(o));break}}n=n.return}}function Bd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Xw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Od=!0,h.add(s),t=Jw.bind(null,t,n,s),n.then(t,t))}function Jw(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Vn===t&&(Kt&s)===s&&(ii===4||ii===3&&(Kt&62914560)===Kt&&300>Ct()-Gc?(yn&2)===0&&bl(t,0):kd|=s,vl===Kt&&(vl=0)),Va(t)}function fv(t,n){n===0&&(n=bt()),t=br(t,n),t!==null&&(xt(t,n),Va(t))}function Zw(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),fv(t,s)}function eE(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),fv(t,s)}function tE(t,n){return on(t,n)}var Jc=null,El=null,Fd=!1,Zc=!1,Hd=!1,Qs=0;function Va(t){t!==El&&t.next===null&&(El===null?Jc=El=t:El=El.next=t),Zc=!0,Fd||(Fd=!0,iE())}function Ru(t,n){if(!Hd&&Zc){Hd=!0;do for(var s=!1,o=Jc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-tt(42|t)+1)-1,m&=h&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,gv(o,m))}else m=Kt,m=Un(o,o===Vn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||ri(o,m)||(s=!0,gv(o,m));o=o.next}while(s);Hd=!1}}function nE(){dv()}function dv(){Zc=Fd=!1;var t=0;Qs!==0&&dE()&&(t=Qs);for(var n=Ct(),s=null,o=Jc;o!==null;){var h=o.next,m=mv(o,n);m===0?(o.next=null,s===null?Jc=h:s.next=h,h===null&&(El=s)):(s=o,(t!==0||(m&3)!==0)&&(Zc=!0)),o=h}Ei!==0&&Ei!==5||Ru(t),Qs!==0&&(Qs=0)}function mv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-tt(m),M=1<<T,Y=h[T];Y===-1?((M&s)===0||(M&o)!==0)&&(h[T]=Di(M,n)):Y<=n&&(t.expiredLanes|=M),m&=~M}if(n=Vn,s=Kt,s=Un(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&An(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ri(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&An(o),Ge(s)){case 2:case 8:s=g;break;case 32:s=v;break;case 268435456:s=W;break;default:s=v}return o=pv.bind(null,t),s=on(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&An(o),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,n){if(Ei!==0&&Ei!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if($c()&&t.callbackNode!==s)return null;var o=Kt;return o=Un(t,t===Vn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,n),mv(t,Ct()),t.callbackNode!=null&&t.callbackNode===s?pv.bind(null,t):null)}function gv(t,n){if($c())return null;Wy(t,n,!0)}function iE(){pE(function(){(yn&6)!==0?on(C,nE):dv()})}function qd(){if(Qs===0){var t=ol;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Qs=t}return Qs}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ar(""+t)}function vv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function rE(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var m=yv((h[$n]||null).action),T=o.submitter;T&&(n=(n=T[$n]||null)?yv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new ta("action","action",null,o,h);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var Y=T?vv(h,T):new FormData(h);cd(s,{pending:!0,data:Y,method:h.method,action:m},null,Y)}}else typeof m=="function"&&(M.preventDefault(),Y=T?vv(h,T):new FormData(h),cd(s,{pending:!0,data:Y,method:h.method,action:m},m,Y))},currentTarget:h}]})}}for(var Gd=0;Gd<_r.length;Gd++){var Yd=_r[Gd],aE=Yd.toLowerCase(),sE=Yd[0].toUpperCase()+Yd.slice(1);En(aE,"on"+sE)}En(Ne,"onAnimationEnd"),En(Ye,"onAnimationIteration"),En(zt,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Qt,"onTransitionRun"),En(kt,"onTransitionStart"),En(qt,"onTransitionCancel"),En(an,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function _v(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],Y=M.instance,le=M.currentTarget;if(M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(ye){ji(ye)}h.currentTarget=null,m=Y}else for(T=0;T<o.length;T++){if(M=o[T],Y=M.instance,le=M.currentTarget,M=M.listener,Y!==m&&h.isPropagationStopped())break e;m=M,h.currentTarget=le;try{m(h)}catch(ye){ji(ye)}h.currentTarget=null,m=Y}}}}function Yt(t,n){var s=n[lr];s===void 0&&(s=n[lr]=new Set);var o=t+"__bubble";s.has(o)||(bv(n,t,2,!1),s.add(o))}function Xd(t,n,s){var o=0;n&&(o|=4),bv(s,t,o,n)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[eh]){t[eh]=!0,ma.forEach(function(s){s!=="selectionchange"&&(oE.has(s)||Xd(s,!1,t),Xd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eh]||(n[eh]=!0,Xd("selectionchange",!1,n))}}function bv(t,n,s,o){switch(Kv(n)){case 2:var h=VE;break;case 8:h=PE;break;default:h=um}s=h.bind(null,n,s,t),h=void 0,!ht||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Kd(t,n,s,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===h)break;if(T===4)for(T=o.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;M!==null;){if(T=cr(M),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){o=m=T;continue e}M=M.parentNode}}o=o.return}Ve(function(){var le=m,ye=ge(s),Ee=[];e:{var ce=hn.get(t);if(ce!==void 0){var pe=ta,ot=t;switch(t){case"keypress":if(mr(s)===0)break e;case"keydown":case"keyup":pe=To;break;case"focusin":ot="focus",pe=xa;break;case"focusout":ot="blur",pe=xa;break;case"beforeblur":case"afterblur":pe=xa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=y;break;case Ne:case Ye:case zt:pe=Wo;break;case an:pe=k;break;case"scroll":case"scrollend":pe=Eo;break;case"wheel":pe=de;break;case"copy":case"cut":case"paste":pe=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=ya;break;case"toggle":case"beforetoggle":pe=It}var At=(n&4)!==0,Mn=!At&&(t==="scroll"||t==="scrollend"),te=At?ce!==null?ce+"Capture":null:ce;At=[];for(var Q=le,se;Q!==null;){var be=Q;if(se=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||se===null||te===null||(be=ut(Q,te),be!=null&&At.push(Iu(Q,be,se))),Mn)break;Q=Q.return}0<At.length&&(ce=new pe(ce,ot,null,s,ye),Ee.push({event:ce,listeners:At}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",ce&&s!==he&&(ot=s.relatedTarget||s.fromElement)&&(cr(ot)||ot[or]))break e;if((pe||ce)&&(ce=ye.window===ye?ye:(ce=ye.ownerDocument)?ce.defaultView||ce.parentWindow:window,pe?(ot=s.relatedTarget||s.toElement,pe=le,ot=ot?cr(ot):null,ot!==null&&(Mn=c(ot),At=ot.tag,ot!==Mn||At!==5&&At!==27&&At!==6)&&(ot=null)):(pe=null,ot=le),pe!==ot)){if(At=xs,be="onMouseLeave",te="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(At=ya,be="onPointerLeave",te="onPointerEnter",Q="pointer"),Mn=pe==null?ce:Si(pe),se=ot==null?ce:Si(ot),ce=new At(be,Q+"leave",pe,s,ye),ce.target=Mn,ce.relatedTarget=se,be=null,cr(ye)===le&&(At=new At(te,Q+"enter",ot,s,ye),At.target=se,At.relatedTarget=Mn,be=At),Mn=be,pe&&ot)t:{for(At=lE,te=pe,Q=ot,se=0,be=te;be;be=At(be))se++;be=0;for(var wt=Q;wt;wt=At(wt))be++;for(;0<se-be;)te=At(te),se--;for(;0<be-se;)Q=At(Q),be--;for(;se--;){if(te===Q||Q!==null&&te===Q.alternate){At=te;break t}te=At(te),Q=At(Q)}At=null}else At=null;pe!==null&&wv(Ee,ce,pe,At,!1),ot!==null&&Mn!==null&&wv(Ee,Mn,ot,At,!0)}}e:{if(ce=le?Si(le):window,pe=ce.nodeName&&ce.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ce.type==="file")var mn=nu;else if(tu(ce))if(iu)mn=$;else{mn=N;var gt=S}else pe=ce.nodeName,!pe||pe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Zr(le.elementType)&&(mn=nu):mn=z;if(mn&&(mn=mn(t,le))){Fn(Ee,mn,s,ye);break e}gt&&gt(t,ce,le),t==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Ca(ce,"number",ce.value)}switch(gt=le?Si(le):window,t){case"focusin":(tu(gt)||gt.contentEditable==="true")&&(He=gt,dn=le,Ze=null);break;case"focusout":Ze=dn=He=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,wn(Ee,s,ye);break;case"selectionchange":if(it)break;case"keydown":case"keyup":wn(Ee,s,ye)}var Pt;if(cn)e:{switch(t){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Ja?na(t,s)&&(Wt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Wt="onCompositionStart");Wt&&(Cr&&s.locale!=="ko"&&(Ja||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Ja&&(Pt=Xn()):(Pn=ye,Xt="value"in Pn?Pn.value:Pn.textContent,Ja=!0)),gt=th(le,Wt),0<gt.length&&(Wt=new jr(Wt,t,null,s,ye),Ee.push({event:Wt,listeners:gt}),Pt?Wt.data=Pt:(Pt=$a(s),Pt!==null&&(Wt.data=Pt)))),(Pt=$i?xf(t,s):gc(t,s))&&(Wt=th(le,"onBeforeInput"),0<Wt.length&&(gt=new jr("onBeforeInput","beforeinput",null,s,ye),Ee.push({event:gt,listeners:Wt}),gt.data=Pt)),rE(Ee,t,le,s,ye)}_v(Ee,n)})}function Iu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function th(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ut(t,s),h!=null&&o.unshift(Iu(t,h,m)),h=ut(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function lE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wv(t,n,s,o,h){for(var m=n._reactName,T=[];s!==null&&s!==o;){var M=s,Y=M.alternate,le=M.stateNode;if(M=M.tag,Y!==null&&Y===o)break;M!==5&&M!==26&&M!==27||le===null||(Y=le,h?(le=ut(s,m),le!=null&&T.unshift(Iu(s,le,Y))):h||(le=ut(s,m),le!=null&&T.push(Iu(s,le,Y)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var uE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(uE,`
`).replace(cE,"")}function Tv(t,n){return n=Ev(n),Ev(t)===n}function In(t,n,s,o,h,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ti(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ti(t,""+o);break;case"className":Ci(t,"class",o);break;case"tabIndex":Ci(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(t,s,o);break;case"style":Wi(t,o,m);break;case"data":if(n!=="object"){Ci(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ar(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&In(t,n,"name",h.name,h,null),In(t,n,"formEncType",h.formEncType,h,null),In(t,n,"formMethod",h.formMethod,h,null),In(t,n,"formTarget",h.formTarget,h,null)):(In(t,n,"encType",h.encType,h,null),In(t,n,"method",h.method,h,null),In(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ar(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=X);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ar(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),hr(t,"popover",o);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ea.get(s)||s,hr(t,s,o))}}function Wd(t,n,s,o,h,m){switch(s){case"style":Wi(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ti(t,o):(typeof o=="number"||typeof o=="bigint")&&ti(t,""+o);break;case"onScroll":o!=null&&Yt("scroll",t);break;case"onScrollEnd":o!=null&&Yt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=X);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ki.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),m=t[$n]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):hr(t,s,o)}}}function Fi(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var o=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:In(t,n,m,T,s,null)}}h&&In(t,n,"srcSet",s.srcSet,s,null),o&&In(t,n,"src",s.src,s,null);return;case"input":Yt("invalid",t);var M=m=T=h=null,Y=null,le=null;for(o in s)if(s.hasOwnProperty(o)){var ye=s[o];if(ye!=null)switch(o){case"name":h=ye;break;case"type":T=ye;break;case"checked":Y=ye;break;case"defaultChecked":le=ye;break;case"value":m=ye;break;case"defaultValue":M=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,n));break;default:In(t,n,o,ye,s,null)}}Ya(t,m,M,Y,le,T,h,!1);return;case"select":Yt("invalid",t),o=T=m=null;for(h in s)if(s.hasOwnProperty(h)&&(M=s[h],M!=null))switch(h){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:In(t,n,h,M,s,null)}n=m,s=T,t.multiple=!!o,n!=null?Bt(t,!!o,n,!1):s!=null&&Bt(t,!!o,s,!0);return;case"textarea":Yt("invalid",t),m=h=o=null;for(T in s)if(s.hasOwnProperty(T)&&(M=s[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":h=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:In(t,n,T,M,s,null)}Tr(t,o,h,m);return;case"option":for(Y in s)if(s.hasOwnProperty(Y)&&(o=s[Y],o!=null))switch(Y){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:In(t,n,Y,o,s,null)}return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(o=0;o<xu.length;o++)Yt(xu[o],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in s)if(s.hasOwnProperty(le)&&(o=s[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:In(t,n,le,o,s,null)}return;default:if(Zr(n)){for(ye in s)s.hasOwnProperty(ye)&&(o=s[ye],o!==void 0&&Wd(t,n,ye,o,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(o=s[M],o!=null&&In(t,n,M,o,s,null))}function hE(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,M=null,Y=null,le=null,ye=null;for(pe in s){var Ee=s[pe];if(s.hasOwnProperty(pe)&&Ee!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Y=Ee;default:o.hasOwnProperty(pe)||In(t,n,pe,null,o,Ee)}}for(var ce in o){var pe=o[ce];if(Ee=s[ce],o.hasOwnProperty(ce)&&(pe!=null||Ee!=null))switch(ce){case"type":m=pe;break;case"name":h=pe;break;case"checked":le=pe;break;case"defaultChecked":ye=pe;break;case"value":T=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(137,n));break;default:pe!==Ee&&In(t,n,ce,pe,o,Ee)}}$r(t,T,M,Y,le,ye,m,h);return;case"select":pe=T=M=ce=null;for(m in s)if(Y=s[m],s.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":pe=Y;default:o.hasOwnProperty(m)||In(t,n,m,null,o,Y)}for(h in o)if(m=o[h],Y=s[h],o.hasOwnProperty(h)&&(m!=null||Y!=null))switch(h){case"value":ce=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==Y&&In(t,n,h,m,o,Y)}n=M,s=T,o=pe,ce!=null?Bt(t,!!s,ce,!1):!!o!=!!s&&(n!=null?Bt(t,!!s,n,!0):Bt(t,!!s,s?[]:"",!1));return;case"textarea":pe=ce=null;for(M in s)if(h=s[M],s.hasOwnProperty(M)&&h!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:In(t,n,M,null,o,h)}for(T in o)if(h=o[T],m=s[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":pe=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&In(t,n,T,h,o,m)}Jr(t,ce,pe);return;case"option":for(var ot in s)if(ce=s[ot],s.hasOwnProperty(ot)&&ce!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:In(t,n,ot,null,o,ce)}for(Y in o)if(ce=o[Y],pe=s[Y],o.hasOwnProperty(Y)&&ce!==pe&&(ce!=null||pe!=null))switch(Y){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:In(t,n,Y,ce,o,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)ce=s[At],s.hasOwnProperty(At)&&ce!=null&&!o.hasOwnProperty(At)&&In(t,n,At,null,o,ce);for(le in o)if(ce=o[le],pe=s[le],o.hasOwnProperty(le)&&ce!==pe&&(ce!=null||pe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(137,n));break;default:In(t,n,le,ce,o,pe)}return;default:if(Zr(n)){for(var Mn in s)ce=s[Mn],s.hasOwnProperty(Mn)&&ce!==void 0&&!o.hasOwnProperty(Mn)&&Wd(t,n,Mn,void 0,o,ce);for(ye in o)ce=o[ye],pe=s[ye],!o.hasOwnProperty(ye)||ce===pe||ce===void 0&&pe===void 0||Wd(t,n,ye,ce,o,pe);return}}for(var te in s)ce=s[te],s.hasOwnProperty(te)&&ce!=null&&!o.hasOwnProperty(te)&&In(t,n,te,null,o,ce);for(Ee in o)ce=o[Ee],pe=s[Ee],!o.hasOwnProperty(Ee)||ce===pe||ce==null&&pe==null||In(t,n,Ee,ce,o,pe)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],m=h.transferSize,T=h.initiatorType,M=h.duration;if(m&&M&&Av(T)){for(T=0,M=h.responseEnd,o+=1;o<s.length;o++){var Y=s[o],le=Y.startTime;if(le>M)break;var ye=Y.transferSize,Ee=Y.initiatorType;ye&&Av(Ee)&&(Y=Y.responseEnd,T+=ye*(Y<M?1:(M-le)/(Y-le)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Jd=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function Sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Zd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var em=null;function dE(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(t){return xv.resolve(null).then(t).catch(gE)}:Rv;function gE(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function Iv(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Mu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Mu(s);for(var m=s.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[ur]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Mu(t.ownerDocument.body);s=h}while(s);Cl(n)}function Mv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function tm(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":tm(s),Oi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function yE(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ur])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=la(t.nextSibling),t===null)break}return null}function vE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=la(t.nextSibling),t===null))return null;return t}function Nv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=la(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _E(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function la(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var rm=null;function Dv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return la(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Ov(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function kv(t,n,s){switch(n=nh(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Mu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Oi(t)}var ua=new Map,Vv=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=Z.d;Z.d={f:bE,r:wE,D:EE,C:TE,L:AE,m:SE,X:RE,S:CE,M:xE};function bE(){var t=gs.f(),n=Qc();return t||n}function wE(t){var n=Ai(t);n!==null&&n.tag===5&&n.type==="form"?Jg(n):gs.r(t)}var Tl=typeof document>"u"?null:document;function Pv(t,n,s){var o=Tl;if(o&&typeof n=="string"&&n){var h=kn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Vv.has(h)||(Vv.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fi(n,"link",t),zn(n),o.head.appendChild(n)))}}function EE(t){gs.D(t),Pv("dns-prefetch",t,null)}function TE(t,n){gs.C(t,n),Pv("preconnect",t,n)}function AE(t,n,s){gs.L(t,n,s);var o=Tl;if(o&&t&&n){var h='link[rel="preload"][as="'+kn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+kn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+kn(s.imageSizes)+'"]')):h+='[href="'+kn(t)+'"]';var m=h;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ua.has(m)||(t=L({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ua.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Nu(m))||n==="script"&&o.querySelector(Du(m))||(n=o.createElement("link"),Fi(n,"link",t),zn(n),o.head.appendChild(n)))}}function SE(t,n){gs.m(t,n);var s=Tl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+kn(o)+'"][href="'+kn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ua.has(m)&&(t=L({rel:"modulepreload",href:t},n),ua.set(m,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Du(m)))return}o=s.createElement("link"),Fi(o,"link",t),zn(o),s.head.appendChild(o)}}}function CE(t,n,s){gs.S(t,n,s);var o=Tl;if(o&&t){var h=Xi(o).hoistableStyles,m=Al(t);n=n||"default";var T=h.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Nu(m)))M.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ua.get(m))&&am(t,s);var Y=T=o.createElement("link");zn(Y),Fi(Y,"link",t),Y._p=new Promise(function(le,ye){Y.onload=le,Y.onerror=ye}),Y.addEventListener("load",function(){M.loading|=1}),Y.addEventListener("error",function(){M.loading|=2}),M.loading|=4,rh(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},h.set(m,T)}}}function RE(t,n){gs.X(t,n);var s=Tl;if(s&&t){var o=Xi(s).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=s.querySelector(Du(h)),m||(t=L({src:t,async:!0},n),(n=ua.get(h))&&sm(t,n),m=s.createElement("script"),zn(m),Fi(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function xE(t,n){gs.M(t,n);var s=Tl;if(s&&t){var o=Xi(s).hoistableScripts,h=Sl(t),m=o.get(h);m||(m=s.querySelector(Du(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=ua.get(h))&&sm(t,n),m=s.createElement("script"),zn(m),Fi(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Lv(t,n,s,o){var h=(h=Qe.current)?ih(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Al(s.href),s=Xi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Al(s.href);var m=Xi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Nu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ua.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ua.set(t,s),m||IE(h,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(s),s=Xi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+kn(t)+'"'}function Nu(t){return'link[rel="stylesheet"]['+t+"]"}function jv(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function IE(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fi(n,"link",s),zn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+kn(t)+'"]'}function Du(t){return"script[async]"+t}function Uv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+kn(s.href)+'"]');if(o)return n.instance=o,zn(o),o;var h=L({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zn(o),Fi(o,"style",h),rh(o,s.precedence,t),n.instance=o;case"stylesheet":h=Al(s.href);var m=t.querySelector(Nu(h));if(m)return n.state.loading|=4,n.instance=m,zn(m),m;o=jv(s),(h=ua.get(h))&&am(o,h),m=(t.ownerDocument||t).createElement("link"),zn(m);var T=m;return T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Fi(m,"link",o),n.state.loading|=4,rh(m,s.precedence,t),n.instance=m;case"script":return m=Sl(s.src),(h=t.querySelector(Du(m)))?(n.instance=h,zn(h),h):(o=s,(h=ua.get(m))&&(o=L({},s),sm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),zn(h),Fi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rh(o,s.precedence,t));return n.instance}function rh(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function am(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ah=null;function zv(t,n,s){if(ah===null){var o=new Map,h=ah=new Map;h.set(s,o)}else h=ah,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var m=s[h];if(!(m[ur]||m[_n]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Bv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ME(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NE(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Al(o.href),m=n.querySelector(Nu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sh.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,zn(m);return}m=n.ownerDocument||n,o=jv(o),(h=ua.get(h))&&am(o,h),m=m.createElement("link"),zn(m);var T=m;T._p=new Promise(function(M,Y){T.onload=M,T.onerror=Y}),Fi(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=sh.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var om=0;function DE(t,n){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&om===0&&(om=62500*fE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>om?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,n.forEach(OE,t),oh=null,sh.call(t))}function OE(t,n){if(!(n.state.loading&4)){var s=oh.get(t);if(s)var o=s.get(null);else{s=new Map,oh.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,h),s.set(T,h),this.count++,o=sh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ou={$$typeof:Fe,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function kE(t,n,s,o,h,m,T,M,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Hv(t,n,s,o,h,m,T,M,Y,le,ye,Ee){return t=new kE(t,n,s,T,Y,le,ye,Ee,M),n=1,m===!0&&(n|=24),m=Ji(3,null,null,n),t.current=m,m.stateNode=t,n=zf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},qf(m),t}function qv(t){return t?(t=zr,t):zr}function Gv(t,n,s,o,h,m){h=qv(h),o.context===null?o.context=h:o.pendingContext=h,o=js(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Us(t,o,n),s!==null&&(Or(s,t,n),hu(s,t,n))}function Yv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function lm(t,n){Yv(t,n),(t=t.alternate)&&Yv(t,n)}function Xv(t){if(t.tag===13||t.tag===31){var n=br(t,67108864);n!==null&&Or(n,t,67108864),lm(t,67108864)}}function Qv(t){if(t.tag===13||t.tag===31){var n=Gr();n=fi(n);var s=br(t,n);s!==null&&Or(s,t,n),lm(t,n)}}var uh=!0;function VE(t,n,s,o){var h=G.T;G.T=null;var m=Z.p;try{Z.p=2,um(t,n,s,o)}finally{Z.p=m,G.T=h}}function PE(t,n,s,o){var h=G.T;G.T=null;var m=Z.p;try{Z.p=8,um(t,n,s,o)}finally{Z.p=m,G.T=h}}function um(t,n,s,o){if(uh){var h=cm(o);if(h===null)Kd(t,n,o,ch,s),Wv(t,o);else if(jE(h,t,n,s,o))o.stopPropagation();else if(Wv(t,o),n&4&&-1<LE.indexOf(t)){for(;h!==null;){var m=Ai(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=vn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var Y=1<<31-tt(T);M.entanglements[1]|=Y,T&=~Y}Va(m),(yn&6)===0&&(Yc=Ct()+500,Ru(0))}}break;case 31:case 13:M=br(m,2),M!==null&&Or(M,m,2),Qc(),lm(m,2)}if(m=cm(o),m===null&&Kd(t,n,o,ch,s),m===h)break;h=m}h!==null&&o.stopPropagation()}else Kd(t,n,o,null,s)}}function cm(t){return t=ge(t),hm(t)}var ch=null;function hm(t){if(ch=null,t=cr(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ch=t,null}function Kv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case C:return 2;case g:return 8;case v:case O:return 32;case W:return 268435456;default:return 32}default:return 32}}var fm=!1,Ws=null,$s=null,Js=null,ku=new Map,Vu=new Map,Zs=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":ku.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function Pu(t,n,s,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Ai(n),n!==null&&Xv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function jE(t,n,s,o,h){switch(n){case"focusin":return Ws=Pu(Ws,t,n,s,o,h),!0;case"dragenter":return $s=Pu($s,t,n,s,o,h),!0;case"mouseover":return Js=Pu(Js,t,n,s,o,h),!0;case"pointerover":var m=h.pointerId;return ku.set(m,Pu(ku.get(m)||null,t,n,s,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,Pu(Vu.get(m)||null,t,n,s,o,h)),!0}return!1}function $v(t){var n=cr(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,ar(t.priority,function(){Qv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,ar(t.priority,function(){Qv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=cm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);he=o,s.target.dispatchEvent(o),he=null}else return n=Ai(s),n!==null&&Xv(n),t.blockedOn=s,!1;n.shift()}return!0}function Jv(t,n,s){hh(t)&&s.delete(n)}function UE(){fm=!1,Ws!==null&&hh(Ws)&&(Ws=null),$s!==null&&hh($s)&&($s=null),Js!==null&&hh(Js)&&(Js=null),ku.forEach(Jv),Vu.forEach(Jv)}function fh(t,n){t.blockedOn===n&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UE)))}var dh=null;function Zv(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(hm(o||s)===null)continue;break}var m=Ai(s);m!==null&&(t.splice(n,3),n-=3,cd(m,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Cl(t){function n(Y){return fh(Y,t)}Ws!==null&&fh(Ws,t),$s!==null&&fh($s,t),Js!==null&&fh(Js,t),ku.forEach(n),Vu.forEach(n);for(var s=0;s<Zs.length;s++){var o=Zs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)$v(s),s.blockedOn===null&&Zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],m=s[o+1],T=h[$n]||null;if(typeof m=="function")T||Zv(s);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[$n]||null)M=T.formAction;else if(hm(h)!==null)continue}else M=T.action;typeof M=="function"?s[o+1]=M:(s.splice(o,3),o-=3),Zv(s)}}}function e0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function dm(t){this._internalRoot=t}mh.prototype.render=dm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Gr();Gv(s,o,t,n,null,null)},mh.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gv(t.current,2,null,t,null,null),Qc(),n[or]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var n=Xr();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Zs.length&&n!==0&&n<Zs[s].priority;s++);Zs.splice(s,0,t),s===0&&$v(t)}};var t0=e.version;if(t0!=="19.2.0")throw Error(a(527,t0,"19.2.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=w(n),t=t!==null?I(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{$e=ph.inject(zE),nt=ph}catch{}}return ju.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=ly,m=uy,T=cy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Hv(t,1,!1,null,null,s,o,null,h,m,T,e0),t[or]=n.current,Qd(t),new dm(n)},ju.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",m=ly,T=uy,M=cy,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(Y=s.formState)),n=Hv(t,1,!0,n,s??null,o,h,Y,m,T,M,e0),n.context=qv(null),s=n.current,o=Gr(),o=fi(o),h=js(o),h.callback=null,Us(s,h,o),s=o,n.current.lanes=s,xt(n,s),Va(n),t[or]=n.current,Qd(t),new mh(n)},ju.version="19.2.0",ju}var h0;function WE(){if(h0)return gm.exports;h0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=KE(),gm.exports}var $E=WE();const JE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),f0=r=>{const e=ZE(r);return e.charAt(0).toUpperCase()+e.slice(1)},Z_=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),eT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var tT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nT=Xe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},E)=>Xe.createElement("svg",{ref:E,...tT,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:Z_("lucide",l),...!c&&!eT(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,I])=>Xe.createElement(w,I)),...Array.isArray(c)?c:[c]]));const Nn=(r,e)=>{const i=Xe.forwardRef(({className:a,...l},c)=>Xe.createElement(nT,{ref:c,iconNode:e,className:Z_(`lucide-${JE(f0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=f0(r),i};const iT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],rT=Nn("arrow-down-a-z",iT);const aT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d0=Nn("arrow-left",aT);const sT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oT=Nn("book-open",sT);const lT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],uT=Nn("check-check",lT);const cT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hT=Nn("check",cT);const fT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dT=Nn("chevron-left",fT);const mT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pT=Nn("chevron-right",mT);const gT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yT=Nn("circle-alert",gT);const vT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jm=Nn("crown",vT);const _T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bT=Nn("eye",_T);const wT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ET=Nn("heart",wT);const TT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AT=Nn("info",TT);const ST=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CT=Nn("log-out",ST);const RT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xT=Nn("mail",RT);const IT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],MT=Nn("play",IT);const NT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],DT=Nn("rotate-ccw",NT);const OT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],kT=Nn("ruler",OT);const VT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],m0=Nn("scroll-text",VT);const PT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LT=Nn("settings",PT);const jT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],UT=Nn("share-2",jT);const zT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],BT=Nn("shuffle",zT);const FT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gh=Nn("sparkles",FT);const HT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bm=Nn("star",HT);const qT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],p0=Nn("trophy",qT);const GT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],YT=Nn("volume-2",GT);const XT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],QT=Nn("volume-x",XT);const KT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wm=Nn("x",KT);const WT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],g0=Nn("zap",WT);var Em={},Sh={exports:{}},$T=Sh.exports,y0;function JT(){return y0||(y0=1,(function(r,e){(function(a,l){r.exports=l()})($T,()=>(()=>{var i=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>I});var w=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(H={}){var ie,B=H,Oe,Se,Le=new Promise((f,d)=>{Oe=f,Se=d}),Pe=typeof window=="object",Fe=typeof importScripts=="function";function We(){function f($){const J=S;_=d=0,S=new Map,J.forEach(ue=>{try{ue($)}catch(oe){console.error(oe)}}),this.nb(),N&&N.Pb()}let d=0,_=0,S=new Map,N=null,z=null;this.requestAnimationFrame=function($){d||=requestAnimationFrame(f.bind(this));const J=++_;return S.set(J,$),J},this.cancelAnimationFrame=function($){S.delete($),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function($){z&&(document.body.remove(z),z=null),$||(z=document.createElement("div"),z.style.backgroundColor="black",z.style.position="fixed",z.style.right=0,z.style.top=0,z.style.color="white",z.style.padding="4px",z.innerHTML="RIVE FPS",$=function(J){z.innerHTML="RIVE FPS "+J.toFixed(1)},document.body.appendChild(z)),N=new function(){let J=0,ue=0;this.Pb=function(){var oe=performance.now();ue?(++J,oe-=ue,1e3<oe&&($(1e3*J/oe),J=ue=0)):(ue=oe,J=0)}}},this.Kb=function(){z&&(document.body.remove(z),z=null),N=null},this.nb=function(){}}function Ue(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const vt=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){vt&&vt();let f=B.decodeAudio;B.decodeAudio=function(N,z){N=f(N),z(N)};let d=B.decodeFont;B.decodeFont=function(N,z){N=d(N),z(N)};const _=B.FileAssetLoader;B.ptrToAsset=N=>{let z=B.ptrToFileAsset(N);return z.isImage?B.ptrToImageAsset(N):z.isFont?B.ptrToFontAsset(N):z.isAudio?B.ptrToAudioAsset(N):z},B.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:N}){this.__parent.__construct.call(this),this.Db=N},loadContents:function(N,z){return N=B.ptrToAsset(N),this.Db(N,z)}}),B.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(N){let z=B.ptrToAsset(N);return N=z.cdnUuid,N===""?!1:((function($,J){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&J(ue)},ue.open("GET",$,!0),ue.send(null)})(z.cdnBaseUrl+"/"+N,$=>{z.decode(new Uint8Array($.response))}),!0)}}),B.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(N){this.jb.push(N)},loadContents:function(N,z){for(let $ of this.jb)if($.loadContents(N,z))return!0;return!1}});let S=B.computeAlignment;B.computeAlignment=function(N,z,$,J,ue=1){return S.call(this,N,z,$,J,ue)}};const q="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),U=new function(){function f(){if(!d){let dn=function(Ze,Ut,wn){if(Ut=He.createShader(Ut),He.shaderSource(Ut,wn),He.compileShader(Ut),wn=He.getShaderInfoLog(Ut),0<(wn||"").length)throw wn;He.attachShader(Ze,Ut)};var it=dn,ee=document.createElement("canvas"),Be={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let He;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(He=ee.getContext("webgl",Be),_=1,!He)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(He=ee.getContext("webgl2",Be))_=2;else if(He=ee.getContext("webgl",Be))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(He=new Proxy(He,{get(Ze,Ut){if(Ze.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ut),ue=!0),typeof Ze[Ut]=="function")return function(){}}else return typeof Ze[Ut]=="function"?function(...wn){return Ze[Ut].apply(Ze,wn)}:Ze[Ut]},set(Ze,Ut,wn){if(Ze.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ut),ue=!0);else return Ze[Ut]=wn,!0}}),S=Math.min(He.getParameter(He.MAX_RENDERBUFFER_SIZE),He.getParameter(He.MAX_TEXTURE_SIZE)),ee=He.createProgram(),dn(ee,He.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),dn(ee,He.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),He.bindAttribLocation(ee,0,"vertex"),He.bindAttribLocation(ee,1,"uv"),He.linkProgram(ee),Be=He.getProgramInfoLog(ee),0<(Be||"").trim().length)throw Be;N=He.getUniformLocation(ee,"mat"),z=He.getUniformLocation(ee,"translate"),He.useProgram(ee),He.bindBuffer(He.ARRAY_BUFFER,He.createBuffer()),He.enableVertexAttribArray(0),He.enableVertexAttribArray(1),He.bindBuffer(He.ELEMENT_ARRAY_BUFFER,He.createBuffer()),He.uniform1i(He.getUniformLocation(ee,"image"),0),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=He}return!0}let d=null,_=0,S=0,N=null,z=null,$=0,J=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(ee){d.deleteTexture&&d.deleteTexture(ee)},this.Ib=function(ee){if(!f())return null;const Be=d.createTexture();return Be?(d.bindTexture(d.TEXTURE_2D,Be),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ee),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Be):null};const oe=new Ue(8),De=new Ue(8),Je=new Ue(10),st=new Ue(10);this.Mb=function(ee,Be,it,He,dn){if(f()){var Ze=oe.push(ee),Ut=De.push(Be);if(d.canvas){(d.canvas.width!=Ze||d.canvas.height!=Ut)&&(d.canvas.width=Ze,d.canvas.height=Ut),d.viewport(0,Ut-Be,ee,Be),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),it.sort((Ft,Ur)=>Ur.ub-Ft.ub),Ze=Je.push(He),$!=Ze&&(d.bufferData(d.ARRAY_BUFFER,8*Ze,d.DYNAMIC_DRAW),$=Ze),Ze=0;for(var wn of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,wn.Sa),Ze+=4*wn.Sa.length;console.assert(Ze==4*He);for(var oi of it)d.bufferSubData(d.ARRAY_BUFFER,Ze,oi.Ab),Ze+=4*oi.Ab.length;console.assert(Ze==8*He),Ze=st.push(dn),J!=Ze&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Ze,d.DYNAMIC_DRAW),J=Ze),wn=0;for(var xr of it)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,wn,xr.indices),wn+=2*xr.indices.length;console.assert(wn==2*dn),xr=0,oi=!0,Ze=wn=0;for(const Ft of it){Ft.image.Ia!=xr&&(d.bindTexture(d.TEXTURE_2D,Ft.image.Ha||null),xr=Ft.image.Ia),Ft.fc?(d.scissor(Ft.Ya,Ut-Ft.Za-Ft.ib,Ft.tc,Ft.ib),oi=!0):oi&&(d.scissor(0,Ut-Be,ee,Be),oi=!1),it=2/ee;const Ur=-2/Be;d.uniform4f(N,Ft.ga[0]*it*Ft.za,Ft.ga[1]*Ur*Ft.Aa,Ft.ga[2]*it*Ft.za,Ft.ga[3]*Ur*Ft.Aa),d.uniform2f(z,Ft.ga[4]*it*Ft.za+it*(Ft.Ya-Ft.bc*Ft.za)-1,Ft.ga[5]*Ur*Ft.Aa+Ur*(Ft.Za-Ft.cc*Ft.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Ze),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Ze+4*He),d.drawElements(d.TRIANGLES,Ft.indices.length,d.UNSIGNED_SHORT,wn),Ze+=4*Ft.Sa.length,wn+=2*Ft.indices.length}console.assert(Ze==4*He),console.assert(wn==2*dn)}}},this.canvas=function(){return f()&&d.canvas}},V=B.onRuntimeInitialized;B.onRuntimeInitialized=function(){function f(Ne){switch(Ne){case oe.srcOver:return"source-over";case oe.screen:return"screen";case oe.overlay:return"overlay";case oe.darken:return"darken";case oe.lighten:return"lighten";case oe.colorDodge:return"color-dodge";case oe.colorBurn:return"color-burn";case oe.hardLight:return"hard-light";case oe.softLight:return"soft-light";case oe.difference:return"difference";case oe.exclusion:return"exclusion";case oe.multiply:return"multiply";case oe.hue:return"hue";case oe.saturation:return"saturation";case oe.color:return"color";case oe.luminosity:return"luminosity"}}function d(Ne){return"rgba("+((16711680&Ne)>>>16)+","+((65280&Ne)>>>8)+","+((255&Ne)>>>0)+","+((4278190080&Ne)>>>24)/255+")"}function _(){0<Ut.length&&(U.Mb(Ze.drawWidth(),Ze.drawHeight(),Ut,wn,oi),Ut=[],oi=wn=0,Ze.reset(512,512));for(const Ne of dn){for(const Ye of Ne.H)Ye();Ne.H=[]}dn.clear()}V&&V();var S=B.RenderPaintStyle;const N=B.RenderPath,z=B.RenderPaint,$=B.Renderer,J=B.StrokeCap,ue=B.StrokeJoin,oe=B.BlendMode,De=S.fill,Je=S.stroke,st=B.FillRule.evenOdd;let ee=1;var Be=B.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Ne,va:Ye}={}){this.__parent.__construct.call(this),this.Ia=ee,ee=ee+1&2147483647||1,this.ka=Ne,this.va=Ye},__destruct:function(){this.Ha&&(U.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Ne){var Ye=this;Ye.va&&Ye.va(Ye);var zt=new Image;Ye.Va=URL.createObjectURL(new Blob([Ne],{type:"image/png"})),zt.onload=function(){Ye.Cb=zt,Ye.Ha=U.Ib(zt),Ye.size(zt.width,zt.height),Ye.ka&&Ye.ka(Ye)},zt.src=Ye.Va}}),it=N.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Ne,Ye,zt,Qt,kt,qt,an){var hn=this.T,_r=hn.addPath;Ne=Ne.T;const En=new DOMMatrix;En.a=Ye,En.b=zt,En.c=Qt,En.d=kt,En.e=qt,En.f=an,_r.call(hn,Ne,En)},fillRule:function(Ne){this.Ua=Ne},moveTo:function(Ne,Ye){this.T.moveTo(Ne,Ye)},lineTo:function(Ne,Ye){this.T.lineTo(Ne,Ye)},cubicTo:function(Ne,Ye,zt,Qt,kt,qt){this.T.bezierCurveTo(Ne,Ye,zt,Qt,kt,qt)},close:function(){this.T.closePath()}}),He=z.extend("CanvasRenderPaint",{color:function(Ne){this.Wa=d(Ne)},thickness:function(Ne){this.Fb=Ne},join:function(Ne){switch(Ne){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(Ne){switch(Ne){case J.butt:this.Fa="butt";break;case J.round:this.Fa="round";break;case J.square:this.Fa="square"}},style:function(Ne){this.Eb=Ne},blendMode:function(Ne){this.Bb=f(Ne)},clearGradient:function(){this.ia=null},linearGradient:function(Ne,Ye,zt,Qt){this.ia={wb:Ne,xb:Ye,bb:zt,cb:Qt,Pa:[]}},radialGradient:function(Ne,Ye,zt,Qt){this.ia={wb:Ne,xb:Ye,bb:zt,cb:Qt,Pa:[],$b:!0}},addStop:function(Ne,Ye){this.ia.Pa.push({color:Ne,stop:Ye})},completeGradient:function(){},draw:function(Ne,Ye,zt){let Qt=this.Eb;var kt=this.Wa,qt=this.ia;if(Ne.globalCompositeOperation=this.Bb,qt!=null){kt=qt.wb;var an=qt.xb;const _r=qt.bb;var hn=qt.cb;const En=qt.Pa;qt.$b?(qt=_r-kt,hn-=an,kt=Ne.createRadialGradient(kt,an,0,kt,an,Math.sqrt(qt*qt+hn*hn))):kt=Ne.createLinearGradient(kt,an,_r,hn);for(let ji=0,gn=En.length;ji<gn;ji++)an=En[ji],kt.addColorStop(an.stop,d(an.color));this.Wa=kt,this.ia=null}switch(Qt){case Je:Ne.strokeStyle=kt,Ne.lineWidth=this.Fb,Ne.lineCap=this.Fa,Ne.lineJoin=this.Ga,Ne.stroke(Ye);break;case De:Ne.fillStyle=kt,Ne.fill(Ye,zt)}}});const dn=new Set;let Ze=null,Ut=[],wn=0,oi=0;var xr=B.CanvasRenderer=$.extend("Renderer",{__construct:function(Ne){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Ne.getContext("2d"),this.Ta=Ne,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Ne=this.S.length-6;if(6>Ne)throw"restore() called without matching save().";this.S.splice(Ne),this.H.push(this.B.restore.bind(this.B))},transform:function(Ne,Ye,zt,Qt,kt,qt){const an=this.S,hn=an.length-6;an.splice(hn,6,an[hn]*Ne+an[hn+2]*Ye,an[hn+1]*Ne+an[hn+3]*Ye,an[hn]*zt+an[hn+2]*Qt,an[hn+1]*zt+an[hn+3]*Qt,an[hn]*kt+an[hn+2]*qt+an[hn+4],an[hn+1]*kt+an[hn+3]*qt+an[hn+5]),this.H.push(this.B.transform.bind(this.B,Ne,Ye,zt,Qt,kt,qt))},rotate:function(Ne){const Ye=Math.sin(Ne);Ne=Math.cos(Ne),this.transform(Ne,Ye,-Ye,Ne,0,0)},_drawPath:function(Ne,Ye){this.H.push(Ye.draw.bind(Ye,this.B,Ne.T,Ne.Ua===st?"evenodd":"nonzero"))},_drawRiveImage:function(Ne,Ye,zt,Qt){var kt=Ne.Cb;if(kt){var qt=this.B,an=f(zt);this.H.push(function(){qt.globalCompositeOperation=an,qt.globalAlpha=Qt,qt.drawImage(kt,0,0),qt.globalAlpha=1})}},_getMatrix:function(Ne){const Ye=this.S,zt=Ye.length-6;for(let Qt=0;6>Qt;++Qt)Ne[Qt]=Ye[zt+Qt]},_drawImageMesh:function(Ne,Ye,zt,Qt,kt,qt,an,hn,_r,En,ji){Ye=this.B.canvas.width;var gn=this.B.canvas.height;const ts=En-hn,nl=ji-_r;hn=Math.max(hn,0),_r=Math.max(_r,0),En=Math.min(En,Ye),ji=Math.min(ji,gn);const Ma=En-hn,Na=ji-_r;if(console.assert(Ma<=Math.min(ts,Ye)),console.assert(Na<=Math.min(nl,gn)),!(0>=Ma||0>=Na)){En=Ma<ts||Na<nl,Ye=ji=1;var va=Math.ceil(Ma*ji),br=Math.ceil(Na*Ye);gn=U.ac(),va>gn&&(ji*=gn/va,va=gn),br>gn&&(Ye*=gn/br,br=gn),Ze||(Ze=new B.DynamicRectanizer(gn),Ze.reset(512,512)),gn=Ze.addRect(va,br),0>gn&&(_(),dn.add(this),gn=Ze.addRect(va,br),console.assert(0<=gn));var ru=gn&65535,So=gn>>16;Ut.push({ga:this.S.slice(this.S.length-6),image:Ne,Ya:ru,Za:So,bc:hn,cc:_r,tc:va,ib:br,za:ji,Aa:Ye,Sa:new Float32Array(kt),Ab:new Float32Array(qt),indices:new Uint16Array(an),fc:En,ub:Ne.Ia<<1|(En?1:0)}),wn+=kt.length,oi+=an.length;var zr=this.B,If=f(zt);this.H.push(function(){zr.save(),zr.resetTransform(),zr.globalCompositeOperation=If,zr.globalAlpha=Qt;const Ji=U.canvas();Ji&&zr.drawImage(Ji,ru,So,va,br,hn,_r,Ma,Na),zr.restore()})}},_clipPath:function(Ne){this.H.push(this.B.clip.bind(this.B,Ne.T,Ne.Ua===st?"evenodd":"nonzero"))},clear:function(){dn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Ne,Ye){this.transform(1,0,0,1,Ne,Ye)}});B.makeRenderer=function(Ne){const Ye=new xr(Ne),zt=Ye.B;return new Proxy(Ye,{get(Qt,kt){if(typeof Qt[kt]=="function")return function(...qt){return Qt[kt].apply(Qt,qt)};if(typeof zt[kt]=="function"){if(-1<q.indexOf(kt))throw Error("RiveException: Method call to '"+kt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...qt){Ye.H.push(zt[kt].bind(zt,...qt))}}return Qt[kt]},set(Qt,kt,qt){if(kt in zt)return Ye.H.push(()=>{zt[kt]=qt}),!0}})},B.decodeImage=function(Ne,Ye){new Be({ka:Ye}).decode(Ne)},B.renderFactory={makeRenderPaint:function(){return new He},makeRenderPath:function(){return new it},makeRenderImage:function(){let Ne=Ur;return new Be({va:()=>{Ne.total++},ka:()=>{if(Ne.loaded++,Ne.loaded===Ne.total){const Ye=Ne.ready;Ye&&(Ye(),Ne.ready=null)}}})}};let Ft=B.load,Ur=null;B.load=function(Ne,Ye,zt=!0){const Qt=new B.FallbackFileAssetLoader;return Ye!==void 0&&Qt.addLoader(Ye),zt&&(Ye=new B.CDNFileAssetLoader,Qt.addLoader(Ye)),new Promise(function(kt){let qt=null;Ur={total:0,loaded:0,ready:function(){kt(qt)}},qt=Ft(Ne,Qt),Ur.total==0&&kt(qt)})};let es=B.RendererWrapper.prototype.align;B.RendererWrapper.prototype.align=function(Ne,Ye,zt,Qt,kt=1){es.call(this,Ne,Ye,zt,Qt,kt)},S=new We,B.requestAnimationFrame=S.requestAnimationFrame.bind(S),B.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),B.enableFPSCounter=S.Nb.bind(S),B.disableFPSCounter=S.Kb,S.nb=_,B.resolveAnimationFrame=_,B.cleanup=function(){Ze&&Ze.delete()}};var F=Object.assign({},B),x="./this.program",P="",R,K;(Pe||Fe)&&(Fe?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),L&&(P=L),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),Fe&&(K=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),R=(f,d,_)=>{if(hi(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(N=>N.ok?N.arrayBuffer():Promise.reject(Error(N.status+" : "+N.url))).then(d,_)});var ae=B.print||console.log.bind(console),G=B.printErr||console.error.bind(console);Object.assign(B,F),F=null,B.thisProgram&&(x=B.thisProgram);var Z;B.wasmBinary&&(Z=B.wasmBinary);var ve,fe=!1,Me,j,re,Ce,we,xe,Qe,mt;function ct(){var f=ve.buffer;B.HEAP8=Me=new Int8Array(f),B.HEAP16=re=new Int16Array(f),B.HEAPU8=j=new Uint8Array(f),B.HEAPU16=Ce=new Uint16Array(f),B.HEAP32=we=new Int32Array(f),B.HEAPU32=xe=new Uint32Array(f),B.HEAPF32=Qe=new Float32Array(f),B.HEAPF64=mt=new Float64Array(f)}var dt=[],Tt=[],yt=[];function at(){var f=B.preRun.shift();dt.unshift(f)}var pt=0,Ht=null;function Lt(f){throw B.onAbort?.(f),f="Aborted("+f+")",G(f),fe=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Se(f),f}var Yn=f=>f.startsWith("data:application/octet-stream;base64,"),hi=f=>f.startsWith("file://"),rn;function lt(f){if(f==rn&&Z)return new Uint8Array(Z);if(K)return K(f);throw"both async and sync fetching of the wasm failed"}function on(f){return Z?Promise.resolve().then(()=>lt(f)):new Promise((d,_)=>{R(f,S=>d(new Uint8Array(S)),()=>{try{d(lt(f))}catch(S){_(S)}})})}function An(f,d,_){return on(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{G(`failed to asynchronously prepare wasm: ${S}`),Lt(S)})}function rr(f,d){var _=rn;return Z||typeof WebAssembly.instantiateStreaming!="function"||Yn(_)||hi(_)||typeof fetch!="function"?An(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(N){return G(`wasm streaming compile failed: ${N}`),G("falling back to ArrayBuffer instantiation"),An(_,f,d)}))}var Sn,Ct,ln={464256:(f,d,_,S,N)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=N;let z=window.h;z.D=[],z.rc=function($){for(var J=0;J<z.D.length;++J)if(z.D[J]==null)return z.D[J]=$,J;return z.D.push($),z.D.length-1},z.zb=function($){for(z.D[$]=null;0<z.D.length&&z.D[z.D.length-1]==null;)z.D.pop()},z.Oc=function($){for(var J=0;J<z.D.length;++J)if(z.D[J]==$)return z.zb(J)},z.pa=function($){return z.D[$]},z.Ra=["touchend","click"],z.unlock=function(){for(var $=0;$<z.D.length;++$){var J=z.D[$];J!=null&&J.K!=null&&J.state===z.fa.vb&&J.K.resume().then(()=>{Ao(J.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}z.Ra.map(function(ue){document.removeEventListener(ue,z.unlock,!0)})},z.Ra.map(function($){document.addEventListener($,z.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,N,z)=>{if(typeof window.h>"u")return-1;var $={},J={};return f==window.h.I.wa&&_!=0&&(J.sampleRate=_),$.K=new(window.AudioContext||window.webkitAudioContext)(J),$.K.suspend(),$.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),$.Y=$.K.createScriptProcessor(S,_,d),$.Y.onaudioprocess=function(ue){if(($.qa==null||$.qa.length==0)&&($.qa=new Float32Array(Qe.buffer,N,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var oe=0;oe<d;oe+=1)for(var De=ue.inputBuffer.getChannelData(oe),Je=$.qa,st=0;st<S;st+=1)Je[st*d+oe]=De[st];nu(z,S,N)}if(f==window.h.I.wa||f==window.h.I.Ja)for(iu(z,S,N),oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)for(De=ue.outputBuffer.getChannelData(oe),Je=$.qa,st=0;st<S;st+=1)De[st]=Je[st*d+oe];else for(oe=0;oe<ue.outputBuffer.numberOfChannels;++oe)ue.outputBuffer.getChannelData(oe).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){$.Ba=$.K.createMediaStreamSource(ue),$.Ba.connect($.Y),$.Y.connect($.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&$.Y.connect($.K.destination),$.ob=z,window.h.rc($)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},C=f=>{for(;0<f.length;)f.shift()(B)};function g(){var f=we[+Pi>>2];return Pi+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var N=f[S];N==="."?f.splice(S,1):N===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},O=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},W=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},me=f=>{if(f==="/")return"/";f=O(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Lt("initRandomDevice")},$e=f=>($e=Ie())(f),nt=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(N=>!!N),!_).join("/"),(_?"/":"")+d||"."},je=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,tt=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&je)return je.decode(f.subarray(d,_));for(S="";d<_;){var N=f[d++];if(N&128){var z=f[d++]&63;if((N&224)==192)S+=String.fromCharCode((N&31)<<6|z);else{var $=f[d++]&63;N=(N&240)==224?(N&15)<<12|z<<6|$:(N&7)<<18|z<<12|$<<6|f[d++]&63,65536>N?S+=String.fromCharCode(N):(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023))}}else S+=String.fromCharCode(N)}return S},en=[],fn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},un=(f,d,_,S)=>{if(!(0<S))return 0;var N=_;S=_+S-1;for(var z=0;z<f.length;++z){var $=f.charCodeAt(z);if(55296<=$&&57343>=$){var J=f.charCodeAt(++z);$=65536+(($&1023)<<10)|J&1023}if(127>=$){if(_>=S)break;d[_++]=$}else{if(2047>=$){if(_+1>=S)break;d[_++]=192|$>>6}else{if(65535>=$){if(_+2>=S)break;d[_++]=224|$>>12}else{if(_+3>=S)break;d[_++]=240|$>>18,d[_++]=128|$>>12&63}d[_++]=128|$>>6&63}d[_++]=128|$&63}}return d[_]=0,_-N};function Dn(f,d){var _=Array(fn(f)+1);return f=un(f,_,0,_.length),d&&(_.length=f),_}var On=[];function jt(f,d){On[f]={input:[],G:[],V:d},Xi(f,vn)}var vn={open(f){var d=On[f.node.xa];if(!d)throw new Ge(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ge(60);for(var N=0,z=0;z<S;z++){try{var $=f.s.V.hb(f.s)}catch{throw new Ge(29)}if($===void 0&&N===0)throw new Ge(6);if($==null)break;N++,d[_+z]=$}return N&&(f.node.timestamp=Date.now()),N},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ge(60);try{for(var N=0;N<S;N++)f.s.V.Ma(f.s,d[_+N])}catch{throw new Ge(29)}return S&&(f.node.timestamp=Date.now()),N}},Un={hb(){e:{if(!en.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}en=Dn(f,!0)}f=en.shift()}return f},Ma(f,d){d===null||d===10?(ae(tt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(ae(tt(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},ri={Ma(f,d){d===null||d===10?(G(tt(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(G(tt(f.G,0)),f.G=[])}};function Di(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var bt={N:null,U(){return bt.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ge(63);return bt.N||(bt.N={dir:{node:{X:bt.j.X,P:bt.j.P,ja:bt.j.ja,ta:bt.j.ta,sb:bt.j.sb,yb:bt.j.yb,tb:bt.j.tb,rb:bt.j.rb,Ca:bt.j.Ca},stream:{aa:bt.m.aa}},file:{node:{X:bt.j.X,P:bt.j.P},stream:{aa:bt.m.aa,read:bt.m.read,write:bt.m.write,Xa:bt.m.Xa,kb:bt.m.kb,mb:bt.m.mb}},link:{node:{X:bt.j.X,P:bt.j.P,la:bt.j.la},stream:{}},$a:{node:{X:bt.j.X,P:bt.j.P},stream:Si}}),_=Jn(f,d,_,S),(_.mode&61440)===16384?(_.j=bt.N.dir.node,_.m=bt.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=bt.N.file.node,_.m=bt.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=bt.N.link.node,_.m=bt.N.link.stream):(_.mode&61440)===8192&&(_.j=bt.N.$a.node,_.m=bt.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw Xr[44]},ta(f,d,_,S){return bt.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=lr(d,_)}catch{}if(S)for(var N in S.l)throw new Ge(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=lr(f,d),S;for(S in _.l)throw new Ge(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=bt.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ge(28);return f.link}},m:{read(f,d,_,S,N){var z=f.node.l;if(N>=f.node.v)return 0;if(f=Math.min(f.node.v-N,S),8<f&&z.subarray)d.set(z.subarray(N,N+f),_);else for(S=0;S<f;S++)d[_+S]=z[N+S];return f},write(f,d,_,S,N,z){if(d.buffer===Me.buffer&&(z=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(z)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&N===0)return f.l=d.slice(_,_+S),f.v=S;if(N+S<=f.v)return f.l.set(d.subarray(_,_+S),N),S}if(Di(f,N+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),N);else for(z=0;z<S;z++)f.l[N+z]=d[_+z];return f.v=Math.max(f.v,N+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ge(28);return d},Xa(f,d,_){Di(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,N){if((f.node.mode&61440)!==32768)throw new Ge(43);if(f=f.node.l,N&2||f.buffer!==Me.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Lt(),d=void 0,!d)throw new Ge(48);Me.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return bt.m.write(f,d,0,S,_,!1),0}}},Kn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},xt=null,Yi={},Wn=[],qa=1,Er=null,fi=!0,Ge=class{constructor(f){this.name="ErrnoError",this.$=f}},Xr={},ar=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},sr=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=qa++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function _n(f,d={}){if(f=nt(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ge(32);f=f.split("/").filter($=>!!$);for(var _=xt,S="/",N=0;N<f.length;N++){var z=N===f.length-1;if(z&&d.parent)break;if(_=lr(_,f[N]),S=O(S+"/"+f[N]),_.ua&&(!z||z&&d.gb)&&(_=_.ua.root),!z||d.fb){for(z=0;(_.mode&61440)===40960;)if(_=Ga(S),S=nt(W(S),_),_=_n(S,{Oa:d.Oa+1}).node,40<z++)throw new Ge(32)}}return{path:S,node:_}}function $n(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function or(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Er.length}function lr(f,d){var _=(f.mode&61440)===16384?(_=Kr(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ge(_);for(_=Er[or(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Jn(f,d,_,S){return f=new sr(f,d,_,S),d=or(f.parent.id,f.name),f.ec=Er[d],Er[d]=f}function Qr(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function Kr(f,d){if(fi)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function ur(f,d){try{return lr(f,d),20}catch{}return Kr(f,"wx")}function Oi(f){if(f=Wn[f],!f)throw new Ge(8);return f}function cr(f,d=-1){if(f=Object.assign(new ar,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Wn[d])break e;throw new Ge(33)}return f.W=d,Wn[d]=f}function Ai(f,d=-1){return f=cr(f,d),f.m?.Ec?.(f),f}var Si={open(f){f.m=Yi[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ge(70)}};function Xi(f,d){Yi[f]={m:d}}function zn(f,d){var _=d==="/";if(_&&xt)throw new Ge(10);if(!_&&d){var S=_n(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ge(10);if((S.mode&61440)!==16384)throw new Ge(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?xt=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function ma(f,d,_){var S=_n(f,{parent:!0}).node;if(f=me(f),!f||f==="."||f==="..")throw new Ge(28);var N=ur(S,f);if(N)throw new Ge(N);if(!S.j.ta)throw new Ge(63);return S.j.ta(S,f,d,_)}function ki(f){return ma(f,16895,0)}function Vi(f,d,_){typeof _>"u"&&(_=d,d=438),ma(f,d|8192,_)}function Qi(f,d){if(!nt(f))throw new Ge(44);var _=_n(d,{parent:!0}).node;if(!_)throw new Ge(44);d=me(d);var S=ur(_,d);if(S)throw new Ge(S);if(!_.j.Ca)throw new Ge(63);_.j.Ca(_,d,f)}function Ga(f){if(f=_n(f).node,!f)throw new Ge(44);if(!f.j.la)throw new Ge(28);return nt($n(f.parent),f.j.la(f))}function Wr(f,d,_){if(f==="")throw new Ge(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var N=f;else{f=O(f);try{N=_n(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(N){if(d&128)throw new Ge(20)}else N=ma(f,_,0),S=!0;if(!N)throw new Ge(44);if((N.mode&61440)===8192&&(d&=-513),d&65536&&(N.mode&61440)!==16384)throw new Ge(54);if(!S&&(_=N?(N.mode&61440)===40960?32:(N.mode&61440)===16384&&(Qr(d)!=="r"||d&512)?31:Kr(N,Qr(d)):44))throw new Ge(_);if(d&512&&!S){if(_=N,_=typeof _=="string"?_n(_,{fb:!0}).node:_,!_.j.P)throw new Ge(63);if((_.mode&61440)===16384)throw new Ge(31);if((_.mode&61440)!==32768)throw new Ge(28);if(S=Kr(_,"w"))throw new Ge(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,N=cr({node:N,path:$n(N),flags:d,seekable:!0,position:0,m:N.m,sc:[],error:!1}),N.m.open&&N.m.open(N),!B.logReadFiles||d&1||(Bn||={},f in Bn||(Bn[f]=1)),N}function Sa(f,d,_){if(f.W===null)throw new Ge(8);if(!f.seekable||!f.m.aa)throw new Ge(70);if(_!=0&&_!=1&&_!=2)throw new Ge(28);f.position=f.m.aa(f,d,_),f.sc=[]}var pa;function hr(f,d,_){f=O("/dev/"+f);var S=Kn(!!d,!!_);Ci||=64;var N=Ci++<<8|0;Xi(N,{open(z){z.seekable=!1},close(){_?.buffer?.length&&_(10)},read(z,$,J,ue){for(var oe=0,De=0;De<ue;De++){try{var Je=d()}catch{throw new Ge(29)}if(Je===void 0&&oe===0)throw new Ge(6);if(Je==null)break;oe++,$[J+De]=Je}return oe&&(z.node.timestamp=Date.now()),oe},write(z,$,J,ue){for(var oe=0;oe<ue;oe++)try{_($[J+oe])}catch{throw new Ge(29)}return ue&&(z.node.timestamp=Date.now()),oe}}),Vi(f,S,N)}var Ci,bn={},Bn,Pi=void 0,fr=(f,d)=>Object.defineProperty(d,"name",{value:f}),tn=[],bi=[],_t,ai=f=>{if(!f)throw new _t("Cannot use deleted val. handle = "+f);return bi[f]},kn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=tn.pop()||bi.length;return bi[d]=f,bi[d+1]=1,d}},$r=f=>{var d=Error,_=fr(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Ya,Ca,Bt=f=>{for(var d="";j[f];)d+=Ca[j[f++]];return d},Jr=[],Tr=()=>{for(;Jr.length;){var f=Jr.pop();f.g.ea=!1,f.delete()}},ti,Ki={},Ri=(f,d)=>{if(d===void 0)throw new _t("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Wi={},Zr=f=>{f=yc(f);var d=Bt(f);return vr(f),d},ea=(f,d)=>{var _=Wi[f];if(_===void 0)throw f=`${d} has unknown type ${Zr(f)}`,new _t(f);return _},dr=()=>{},Ar=!1,X=(f,d,_)=>d===_?f:_.C===void 0?null:(f=X(f,d,_.C),f===null?null:_.Lb(f)),he={},ge=(f,d)=>(d=Ri(f,d),Ki[d]),_e,Ae=(f,d)=>{if(!d.u||!d.o)throw new _e("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new _e("Both smartPtrType and smartPtr must be specified");return d.count={value:1},qe(Object.create(f,{g:{value:d,writable:!0}}))},qe=f=>typeof FinalizationRegistry>"u"?(qe=d=>d,f):(Ar=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),qe=d=>{var _=d.g;return _.F&&Ar.register(d,{g:_},d),d},dr=d=>{Ar.unregister(d)},qe(f)),Ke={},Ve=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function ut(f){return this.fromWireType(xe[f>>2])}var ke={},ht={},ft=(f,d,_)=>{function S(J){if(J=_(J),J.length!==f.length)throw new _e("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Xt(f[ue],J[ue])}f.forEach(function(J){ht[J]=d});var N=Array(d.length),z=[],$=0;d.forEach((J,ue)=>{Wi.hasOwnProperty(J)?N[ue]=Wi[J]:(z.push(J),ke.hasOwnProperty(J)||(ke[J]=[]),ke[J].push(()=>{N[ue]=Wi[J],++$,$===z.length&&S(N)}))}),z.length===0&&S(N)};function Pn(f,d,_={}){var S=d.name;if(!f)throw new _t(`type "${S}" must have a positive integer typeid pointer`);if(Wi.hasOwnProperty(f)){if(_.Vb)return;throw new _t(`Cannot register type '${S}' twice`)}Wi[f]=d,delete ht[f],ke.hasOwnProperty(f)&&(d=ke[f],delete ke[f],d.forEach(N=>N()))}function Xt(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Pn(f,d,_)}var xi=f=>{throw new _t(f.g.u.i.name+" instance already deleted")};function Xn(){}var mr=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...N){if(!f[d].A.hasOwnProperty(N.length))throw new _t(`Function '${_}' called with an invalid number of arguments (${N.length}) - expects one of (${f[d].A})!`);return f[d].A[N.length].apply(this,N)},f[d].A=[],f[d].A[S.da]=S}},Vr=(f,d,_)=>{if(B.hasOwnProperty(f)){if(_===void 0||B[f].A!==void 0&&B[f].A[_]!==void 0)throw new _t(`Cannot register public name '${f}' twice`);if(mr(B,f,f),B.hasOwnProperty(_))throw new _t(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);B[f].A[_]=d}else B[f]=d,_!==void 0&&(B[f].Lc=_)},Pr=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function wi(f,d,_,S,N,z,$,J){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=N,this.Qb=z,this.ma=$,this.Lb=J,this.pb=[]}var Sr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new _t(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function ta(f,d){if(d===null){if(this.La)throw new _t(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new _t(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new _t(`Cannot pass deleted object as a pointer of type ${this.name}`);return Sr(d.g.o,d.g.u.i,this.i)}function Ra(f,d){if(d===null){if(this.La)throw new _t(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new _t(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new _t(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new _t(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=Sr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new _t("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new _t(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,kn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new _t("Unsupporting sharing policy")}}return _}function Eo(f,d){if(d===null){if(this.La)throw new _t(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new _t(`Cannot pass "${Ns(d)}" as a ${this.name}`);if(!d.g.o)throw new _t(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new _t(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return Sr(d.g.o,d.g.u.i,this.i)}function Lr(f,d,_,S,N,z,$,J,ue,oe,De){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=N,this.hc=z,this.mc=$,this.qb=J,this.Na=ue,this.ic=oe,this.O=De,N||d.C!==void 0?this.toWireType=Ra:(this.toWireType=S?ta:Eo,this.L=null)}var Xa=(f,d,_)=>{if(!B.hasOwnProperty(f))throw new _e("Replacing nonexistent public symbol");B[f].A!==void 0&&_!==void 0?B[f].A[_]=d:(B[f]=d,B[f].da=_)},pr=[],Qa,xs=f=>{var d=pr[f];return d||(f>=pr.length&&(pr.length=f+1),pr[f]=d=Qa.get(f)),d},Ka=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,B["dynCall_"+f])(d,..._)):d=xs(d)(..._),d),Ko=(f,d)=>(..._)=>Ka(f,d,_),si=(f,d)=>{f=Bt(f);var _=f.includes("j")?Ko(f,d):xs(d);if(typeof _!="function")throw new _t(`unknown function pointer with signature ${f}: ${d}`);return _},xa,gr=(f,d)=>{function _(z){N[z]||Wi[z]||(ht[z]?ht[z].forEach(_):(S.push(z),N[z]=!0))}var S=[],N={};throw d.forEach(_),new xa(`${f}: `+S.map(Zr).join([", "]))};function Wo(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ga(f,d,_,S,N){var z=d.length;if(2>z)throw new _t("argTypes array size mismatch! Must at least get return value and 'this' types!");var $=d[1]!==null&&_!==null,J=Wo(d),ue=d[0].name!=="void",oe=z-2,De=Array(oe),Je=[],st=[];return fr(f,function(...ee){if(ee.length!==oe)throw new _t(`function ${f} called with ${ee.length} arguments, expected ${oe}`);if(st.length=0,Je.length=$?2:1,Je[0]=N,$){var Be=d[1].toWireType(st,this);Je[1]=Be}for(var it=0;it<oe;++it)De[it]=d[it+2].toWireType(st,ee[it]),Je.push(De[it]);if(ee=S(...Je),J)Ve(st);else for(it=$?1:2;it<d.length;it++){var He=it===1?Be:De[it-2];d[it].L!==null&&d[it].L(He)}return Be=ue?d[0].fromWireType(ee):void 0,Be})}var Wa=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(xe[d+4*S>>2]);return _},Is=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},jr=(f,d,_)=>{if(!(f instanceof Object))throw new _t(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new _t(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new _t(`cannot call emscripten binding method ${_} on deleted object`);return Sr(f.g.o,f.g.u.i,d.i)},Ms=f=>{9<f&&--bi[f+1]===0&&(bi[f]=void 0,tn.push(f))},$o={name:"emscripten::val",fromWireType:f=>{var d=ai(f);return Ms(f),d},toWireType:(f,d)=>kn(d),argPackAdvance:8,readValueFromPointer:ut,L:null},Jo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Me[S])}:function(S){return this.fromWireType(j[S])};case 2:return _?function(S){return this.fromWireType(re[S>>1])}:function(S){return this.fromWireType(Ce[S>>1])};case 4:return _?function(S){return this.fromWireType(we[S>>2])}:function(S){return this.fromWireType(xe[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ns=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Ia=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Qe[_>>2])};case 8:return function(_){return this.fromWireType(mt[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Li=(f,d,_)=>{switch(d){case 1:return _?S=>Me[S]:S=>j[S];case 2:return _?S=>re[S>>1]:S=>Ce[S>>1];case 4:return _?S=>we[S>>2]:S=>xe[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},To=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Ce[_];)++_;if(_<<=1,32<_-f&&To)return To.decode(j.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var N=re[f+2*S>>1];if(N==0)break;_+=String.fromCharCode(N)}return _},ya=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var N=0;N<_;++N)re[d>>1]=f.charCodeAt(N),d+=2;return re[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var N=we[f+4*_>>2];if(N==0)break;++_,65536<=N?(N-=65536,S+=String.fromCharCode(55296|N>>10,56320|N&1023)):S+=String.fromCharCode(N)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var N=0;N<f.length;++N){var z=f.charCodeAt(N);if(55296<=z&&57343>=z){var $=f.charCodeAt(++N);z=65536+((z&1023)<<10)|$&1023}if(we[d>>2]=z,d+=4,d+4>_)break}return we[d>>2]=0,d-S},k=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ne=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(xe[d>>2]=kn(S)),f},de={},ze=f=>{var d=de[f];return d===void 0?Bt(f):d},It=[],Zn=f=>{var d=It.length;return It.push(f),d},cn=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=ea(xe[d+4*S>>2],"parameter "+S);return _},Ln=Reflect.construct,$i=[],Cr={},Rr=()=>{if(!yr){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"},d;for(d in Cr)Cr[d]===void 0?delete f[d]:f[d]=Cr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);yr=_}return yr},yr,na=f=>f%4===0&&(f%100!==0||f%400===0),$a=[31,29,31,30,31,30,31,31,30,31,30,31],Ja=[31,28,31,30,31,30,31,31,30,31,30,31],xf=(f,d,_,S)=>{function N(ee,Be,it){for(ee=typeof ee=="number"?ee.toString():ee||"";ee.length<Be;)ee=it[0]+ee;return ee}function z(ee,Be){return N(ee,Be,"0")}function $(ee,Be){function it(dn){return 0>dn?-1:0<dn?1:0}var He;return(He=it(ee.getFullYear()-Be.getFullYear()))===0&&(He=it(ee.getMonth()-Be.getMonth()))===0&&(He=it(ee.getDate()-Be.getDate())),He}function J(ee){switch(ee.getDay()){case 0:return new Date(ee.getFullYear()-1,11,29);case 1:return ee;case 2:return new Date(ee.getFullYear(),0,3);case 3:return new Date(ee.getFullYear(),0,2);case 4:return new Date(ee.getFullYear(),0,1);case 5:return new Date(ee.getFullYear()-1,11,31);case 6:return new Date(ee.getFullYear()-1,11,30)}}function ue(ee){var Be=ee.ba;for(ee=new Date(new Date(ee.ca+1900,0,1).getTime());0<Be;){var it=ee.getMonth(),He=(na(ee.getFullYear())?$a:Ja)[it];if(Be>He-ee.getDate())Be-=He-ee.getDate()+1,ee.setDate(1),11>it?ee.setMonth(it+1):(ee.setMonth(0),ee.setFullYear(ee.getFullYear()+1));else{ee.setDate(ee.getDate()+Be);break}}return it=new Date(ee.getFullYear()+1,0,4),Be=J(new Date(ee.getFullYear(),0,4)),it=J(it),0>=$(Be,ee)?0>=$(it,ee)?ee.getFullYear()+1:ee.getFullYear():ee.getFullYear()-1}var oe=xe[S+40>>2];S={pc:we[S>>2],oc:we[S+4>>2],Da:we[S+8>>2],Qa:we[S+12>>2],Ea:we[S+16>>2],ca:we[S+20>>2],R:we[S+24>>2],ba:we[S+28>>2],Nc:we[S+32>>2],nc:we[S+36>>2],qc:oe&&oe?tt(j,oe):""},_=_?tt(j,_):"",oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var De in oe)_=_.replace(new RegExp(De,"g"),oe[De]);var Je="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");oe={"%a":ee=>Je[ee.R].substring(0,3),"%A":ee=>Je[ee.R],"%b":ee=>st[ee.Ea].substring(0,3),"%B":ee=>st[ee.Ea],"%C":ee=>z((ee.ca+1900)/100|0,2),"%d":ee=>z(ee.Qa,2),"%e":ee=>N(ee.Qa,2," "),"%g":ee=>ue(ee).toString().substring(2),"%G":ue,"%H":ee=>z(ee.Da,2),"%I":ee=>(ee=ee.Da,ee==0?ee=12:12<ee&&(ee-=12),z(ee,2)),"%j":ee=>{for(var Be=0,it=0;it<=ee.Ea-1;Be+=(na(ee.ca+1900)?$a:Ja)[it++]);return z(ee.Qa+Be,3)},"%m":ee=>z(ee.Ea+1,2),"%M":ee=>z(ee.oc,2),"%n":()=>`
`,"%p":ee=>0<=ee.Da&&12>ee.Da?"AM":"PM","%S":ee=>z(ee.pc,2),"%t":()=>"	","%u":ee=>ee.R||7,"%U":ee=>z(Math.floor((ee.ba+7-ee.R)/7),2),"%V":ee=>{var Be=Math.floor((ee.ba+7-(ee.R+6)%7)/7);if(2>=(ee.R+371-ee.ba-2)%7&&Be++,Be)Be==53&&(it=(ee.R+371-ee.ba)%7,it==4||it==3&&na(ee.ca)||(Be=1));else{Be=52;var it=(ee.R+7-ee.ba-1)%7;(it==4||it==5&&na(ee.ca%400-1))&&Be++}return z(Be,2)},"%w":ee=>ee.R,"%W":ee=>z(Math.floor((ee.ba+7-(ee.R+6)%7)/7),2),"%y":ee=>(ee.ca+1900).toString().substring(2),"%Y":ee=>ee.ca+1900,"%z":ee=>{ee=ee.nc;var Be=0<=ee;return ee=Math.abs(ee)/60,(Be?"+":"-")+("0000"+(ee/60*100+ee%60)).slice(-4)},"%Z":ee=>ee.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(De in oe)_.includes(De)&&(_=_.replace(new RegExp(De,"g"),oe[De](S)));return _=_.replace(/\0\0/g,"%"),De=Dn(_,!1),De.length>d?0:(Me.set(De,f),De.length-1)};[44].forEach(f=>{Xr[f]=new Ge(f),Xr[f].stack="<generic error, no stack>"}),Er=Array(4096),zn(bt,"/"),ki("/tmp"),ki("/home"),ki("/home/web_user"),(function(){ki("/dev"),Xi(259,{read:()=>0,write:(S,N,z,$)=>$}),Vi("/dev/null",259),jt(1280,Un),jt(1536,ri),Vi("/dev/tty",1280),Vi("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=$e(f).byteLength),f[--d]);hr("random",_),hr("urandom",_),ki("/dev/shm"),ki("/dev/shm/tmp")})(),(function(){ki("/proc");var f=ki("/proc/self");ki("/proc/self/fd"),zn({U(){var d=Jn(f,"fd",16895,73);return d.j={ja(_,S){var N=Oi(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>N.path}},_.parent=_}},d}},"/proc/self/fd")})(),_t=B.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},bi.push(0,1,void 0,1,null,1,!0,1,!1,1),B.count_emval_handles=()=>bi.length/2-5-tn.length,Ya=B.PureVirtualError=$r("PureVirtualError");for(var gc=Array(256),el=0;256>el;++el)gc[el]=String.fromCharCode(el);Ca=gc,B.getInheritedInstanceCount=()=>Object.keys(Ki).length,B.getLiveInheritedInstances=()=>{var f=[],d;for(d in Ki)Ki.hasOwnProperty(d)&&f.push(Ki[d]);return f},B.flushPendingDeletes=Tr,B.setDelayFunction=f=>{ti=f,Jr.length&&ti&&ti(Tr)},_e=B.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Xn.prototype,{isAliasOf:function(f){if(!(this instanceof Xn&&f instanceof Xn))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||xi(this),this.g.ha)return this.g.count.value+=1,this;var f=qe,d=Object,_=d.create,S=Object.getPrototypeOf(this),N=this.g;return f=f(_.call(d,S,{g:{value:{count:N.count,ea:N.ea,ha:N.ha,o:N.o,u:N.u,F:N.F,J:N.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||xi(this),this.g.ea&&!this.g.ha)throw new _t("Object already scheduled for deletion");dr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||xi(this),this.g.ea&&!this.g.ha)throw new _t("Object already scheduled for deletion");return Jr.push(this),Jr.length===1&&ti&&ti(Tr),this.g.ea=!0,this}}),Object.assign(Lr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:ut,fromWireType:function(f){function d(){return this.sa?Ae(this.i.M,{u:this.hc,o:_,J:this,F:f}):Ae(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=ge(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=he[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var N=X(_,this.i,S.i);return N===null?d.call(this):this.sa?Ae(S.i.M,{u:S,o:N,J:this,F:f}):Ae(S.i.M,{u:S,o:N})}}),xa=B.UnboundTypeError=$r("UnboundTypeError");var tu={__syscall_fcntl64:function(f,d,_){Pi=_;try{var S=Oi(f);switch(d){case 0:var N=g();if(0>N)break;for(;Wn[N];)N++;return Ai(S,N).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return N=g(),S.flags|=N,0;case 12:return N=g(),re[N+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(z){if(typeof bn>"u"||z.name!=="ErrnoError")throw z;return-z.$}},__syscall_ioctl:function(f,d,_){Pi=_;try{var S=Oi(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var N=g();we[N>>2]=25856,we[N+4>>2]=5,we[N+8>>2]=191,we[N+12>>2]=35387;for(var z=0;32>z;z++)Me[N+z+17]=f[z]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(N=g(),f=[],z=0;32>z;z++)f.push(Me[N+z+17]);return 0;case 21519:return S.s?(N=g(),we[N>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(N=g(),!S.m.Wb)throw new Ge(59);return S.m.Wb(S,d,N);case 21523:return S.s?(S.s.V.Zb&&(z=[24,80],N=g(),re[N>>1]=z[0],re[N+2>>1]=z[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch($){if(typeof bn>"u"||$.name!=="ErrnoError")throw $;return-$.$}},__syscall_openat:function(f,d,_,S){Pi=S;try{d=d?tt(j,d):"";var N=d;if(N.charAt(0)==="/")d=N;else{var z=f===-100?"/":Oi(f).path;if(N.length==0)throw new Ge(44);d=O(z+"/"+N)}var $=S?g():0;return Wr(d,_,$).W}catch(J){if(typeof bn>"u"||J.name!=="ErrnoError")throw J;return-J.$}},_abort_js:()=>{Lt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=Bt(f),d=ea(d,"wrapper"),_=ai(_);var S=d.i,N=S.M,z=S.C.M,$=S.C.constructor;return f=fr(f,function(...J){S.C.pb.forEach((function(ue){if(this[ue]===z[ue])throw new Ya(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:N}),this.__construct(...J)}),N.__construct=function(...J){if(this===N)throw new _t("Pass correct 'this' to __construct");J=$.implement(this,...J),dr(J);var ue=J.g;if(J.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),qe(this),J=ue.o,J=Ri(S,J),Ki.hasOwnProperty(J))throw new _t(`Tried to register registered instance: ${J}`);Ki[J]=this},N.__destruct=function(){if(this===N)throw new _t("Pass correct 'this' to __destruct");dr(this);var J=this.g.o;if(J=Ri(S,J),Ki.hasOwnProperty(J))delete Ki[J];else throw new _t(`Tried to unregister unregistered instance: ${J}`)},f.prototype=Object.create(N),Object.assign(f.prototype,_),kn(f)},_embind_finalize_value_object:f=>{var d=Ke[f];delete Ke[f];var _=d.Na,S=d.O,N=d.eb,z=N.map($=>$.Ub).concat(N.map($=>$.kc));ft([f],z,$=>{var J={};return N.forEach((ue,oe)=>{var De=$[oe],Je=ue.Sb,st=ue.Tb,ee=$[oe+N.length],Be=ue.jc,it=ue.lc;J[ue.Ob]={read:He=>De.fromWireType(Je(st,He)),write:(He,dn)=>{var Ze=[];Be(it,He,ee.toWireType(Ze,dn)),Ve(Ze)}}}),[{name:d.name,fromWireType:ue=>{var oe={},De;for(De in J)oe[De]=J[De].read(ue);return S(ue),oe},toWireType:(ue,oe)=>{for(var De in J)if(!(De in oe))throw new TypeError(`Missing field: "${De}"`);var Je=_();for(De in J)J[De].write(Je,oe[De]);return ue!==null&&ue.push(S,Je),Je},argPackAdvance:8,readValueFromPointer:ut,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=Bt(d),Xt(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,z){return z?_:S},argPackAdvance:8,readValueFromPointer:function(N){return this.fromWireType(j[N])},L:null})},_embind_register_class:(f,d,_,S,N,z,$,J,ue,oe,De,Je,st)=>{De=Bt(De),z=si(N,z),J&&=si($,J),oe&&=si(ue,oe),st=si(Je,st);var ee=Pr(De);Vr(ee,function(){gr(`Cannot construct ${De} due to unbound types`,[S])}),ft([f,d,_],S?[S]:[],Be=>{if(Be=Be[0],S)var it=Be.i,He=it.M;else He=Xn.prototype;Be=fr(De,function(...wn){if(Object.getPrototypeOf(this)!==dn)throw new _t("Use 'new' to construct "+De);if(Ze.Z===void 0)throw new _t(De+" has no accessible constructor");var oi=Ze.Z[wn.length];if(oi===void 0)throw new _t(`Tried to invoke ctor of ${De} with invalid number of parameters (${wn.length}) - expected (${Object.keys(Ze.Z).toString()}) parameters instead!`);return oi.apply(this,wn)});var dn=Object.create(He,{constructor:{value:Be}});Be.prototype=dn;var Ze=new wi(De,Be,dn,st,it,z,J,oe);if(Ze.C){var Ut;(Ut=Ze.C).na??(Ut.na=[]),Ze.C.na.push(Ze)}return it=new Lr(De,Ze,!0,!1,!1),Ut=new Lr(De+"*",Ze,!1,!1,!1),He=new Lr(De+" const*",Ze,!1,!0,!1),he[f]={pointerType:Ut,Hb:He},Xa(ee,Be),[it,Ut,He]})},_embind_register_class_class_function:(f,d,_,S,N,z,$)=>{var J=Wa(_,S);d=Bt(d),d=Is(d),z=si(N,z),ft([],[f],ue=>{function oe(){gr(`Cannot call ${De} due to unbound types`,J)}ue=ue[0];var De=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Je=ue.i.constructor;return Je[d]===void 0?(oe.da=_-1,Je[d]=oe):(mr(Je,d,De),Je[d].A[_-1]=oe),ft([],J,st=>{if(st=ga(De,[st[0],null].concat(st.slice(1)),null,z,$),Je[d].A===void 0?(st.da=_-1,Je[d]=st):Je[d].A[_-1]=st,ue.i.na)for(const ee of ue.i.na)ee.constructor.hasOwnProperty(d)||(ee.constructor[d]=st);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,N,z,$,J)=>{d=Bt(d),z=si(N,z),ft([],[f],ue=>{ue=ue[0];var oe=`${ue.name}.${d}`,De={get(){gr(`Cannot access ${oe} due to unbound types`,[_])},enumerable:!0,configurable:!0};return De.set=J?()=>{gr(`Cannot access ${oe} due to unbound types`,[_])}:()=>{throw new _t(`${oe} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,De),ft([],[_],Je=>{Je=Je[0];var st={get(){return Je.fromWireType(z(S))},enumerable:!0};return J&&(J=si($,J),st.set=ee=>{var Be=[];J(S,Je.toWireType(Be,ee)),Ve(Be)}),Object.defineProperty(ue.i.constructor,d,st),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,N,z)=>{var $=Wa(d,_);N=si(S,N),ft([],[f],J=>{J=J[0];var ue=`constructor ${J.name}`;if(J.i.Z===void 0&&(J.i.Z=[]),J.i.Z[d-1]!==void 0)throw new _t(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${J.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return J.i.Z[d-1]=()=>{gr(`Cannot construct ${J.name} due to unbound types`,$)},ft([],$,oe=>(oe.splice(1,0,null),J.i.Z[d-1]=ga(ue,oe,null,N,z),[])),[]})},_embind_register_class_function:(f,d,_,S,N,z,$,J)=>{var ue=Wa(_,S);d=Bt(d),d=Is(d),z=si(N,z),ft([],[f],oe=>{function De(){gr(`Cannot call ${Je} due to unbound types`,ue)}oe=oe[0];var Je=`${oe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),J&&oe.i.pb.push(d);var st=oe.i.M,ee=st[d];return ee===void 0||ee.A===void 0&&ee.className!==oe.name&&ee.da===_-2?(De.da=_-2,De.className=oe.name,st[d]=De):(mr(st,d,Je),st[d].A[_-2]=De),ft([],ue,Be=>(Be=ga(Je,Be,oe,z,$),st[d].A===void 0?(Be.da=_-2,st[d]=Be):st[d].A[_-2]=Be,[])),[]})},_embind_register_class_property:(f,d,_,S,N,z,$,J,ue,oe)=>{d=Bt(d),N=si(S,N),ft([],[f],De=>{De=De[0];var Je=`${De.name}.${d}`,st={get(){gr(`Cannot access ${Je} due to unbound types`,[_,$])},enumerable:!0,configurable:!0};return st.set=ue?()=>gr(`Cannot access ${Je} due to unbound types`,[_,$]):()=>{throw new _t(Je+" is a read-only property")},Object.defineProperty(De.i.M,d,st),ft([],ue?[_,$]:[_],ee=>{var Be=ee[0],it={get(){var dn=jr(this,De,Je+" getter");return Be.fromWireType(N(z,dn))},enumerable:!0};if(ue){ue=si(J,ue);var He=ee[1];it.set=function(dn){var Ze=jr(this,De,Je+" setter"),Ut=[];ue(oe,Ze,He.toWireType(Ut,dn)),Ve(Ut)}}return Object.defineProperty(De.i.M,d,it),[]}),[]})},_embind_register_emval:f=>Xt(f,$o),_embind_register_enum:(f,d,_,S)=>{function N(){}d=Bt(d),N.values={},Xt(f,{name:d,constructor:N,fromWireType:function(z){return this.constructor.values[z]},toWireType:(z,$)=>$.value,argPackAdvance:8,readValueFromPointer:Jo(d,_,S),L:null}),Vr(d,N)},_embind_register_enum_value:(f,d,_)=>{var S=ea(f,"enum");d=Bt(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:fr(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=Bt(d),Xt(f,{name:d,fromWireType:S=>S,toWireType:(S,N)=>N,argPackAdvance:8,readValueFromPointer:Ia(d,_),L:null})},_embind_register_function:(f,d,_,S,N,z)=>{var $=Wa(d,_);f=Bt(f),f=Is(f),N=si(S,N),Vr(f,function(){gr(`Cannot call ${f} due to unbound types`,$)},d-1),ft([],$,J=>(Xa(f,ga(f,[J[0],null].concat(J.slice(1)),null,N,z),d-1),[]))},_embind_register_integer:(f,d,_,S,N)=>{if(d=Bt(d),N===-1&&(N=4294967295),N=J=>J,S===0){var z=32-8*_;N=J=>J<<z>>>z}var $=d.includes("unsigned")?function(J,ue){return ue>>>0}:function(J,ue){return ue};Xt(f,{name:d,fromWireType:N,toWireType:$,argPackAdvance:8,readValueFromPointer:Li(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(z){return new N(Me.buffer,xe[z+4>>2],xe[z>>2])}var N=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=Bt(_),Xt(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=Bt(d);var _=d==="std::string";Xt(f,{name:d,fromWireType:function(S){var N=xe[S>>2],z=S+4;if(_)for(var $=z,J=0;J<=N;++J){var ue=z+J;if(J==N||j[ue]==0){if($=$?tt(j,$,ue-$):"",oe===void 0)var oe=$;else oe+="\0",oe+=$;$=ue+1}}else{for(oe=Array(N),J=0;J<N;++J)oe[J]=String.fromCharCode(j[z+J]);oe=oe.join("")}return vr(S),oe},toWireType:function(S,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var z=typeof N=="string";if(!(z||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array))throw new _t("Cannot pass non-string to std::string");var $=_&&z?fn(N):N.length,J=Za(4+$+1),ue=J+4;if(xe[J>>2]=$,_&&z)un(N,j,ue,$+1);else if(z)for(z=0;z<$;++z){var oe=N.charCodeAt(z);if(255<oe)throw vr(ue),new _t("String has UTF-16 code units that do not fit in 8 bits");j[ue+z]=oe}else for(z=0;z<$;++z)j[ue+z]=N[z];return S!==null&&S.push(vr,J),J},argPackAdvance:8,readValueFromPointer:ut,L(S){vr(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=Bt(_),d===2)var S=Zo,N=ya,z=u,$=J=>Ce[J>>1];else d===4&&(S=y,N=A,z=k,$=J=>xe[J>>2]);Xt(f,{name:_,fromWireType:J=>{for(var ue=xe[J>>2],oe,De=J+4,Je=0;Je<=ue;++Je){var st=J+4+Je*d;(Je==ue||$(st)==0)&&(De=S(De,st-De),oe===void 0?oe=De:(oe+="\0",oe+=De),De=st+d)}return vr(J),oe},toWireType:(J,ue)=>{if(typeof ue!="string")throw new _t(`Cannot pass non-string to C++ string type ${_}`);var oe=z(ue),De=Za(4+oe+d);return xe[De>>2]=oe/d,N(ue,De+4,oe+d),J!==null&&J.push(vr,De),De},argPackAdvance:8,readValueFromPointer:ut,L(J){vr(J)}})},_embind_register_value_object:(f,d,_,S,N,z)=>{Ke[f]={name:Bt(d),Na:si(_,S),O:si(N,z),eb:[]}},_embind_register_value_object_field:(f,d,_,S,N,z,$,J,ue,oe)=>{Ke[f].eb.push({Ob:Bt(d),Ub:_,Sb:si(S,N),Tb:z,kc:$,jc:si(J,ue),lc:oe})},_embind_register_void:(f,d)=>{d=Bt(d),Xt(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>j.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=ai(f),d=ea(d,"emval::as"),ne(d,_,f)),_emval_call_method:(f,d,_,S,N)=>(f=It[f],d=ai(d),_=ze(_),f(d,d[_],S,N)),_emval_decref:Ms,_emval_get_method_caller:(f,d,_)=>{var S=cn(f,d),N=S.shift();f--;var z=Array(f);return d=`methodCaller<(${S.map($=>$.name).join(", ")}) => ${N.name}>`,Zn(fr(d,($,J,ue,oe)=>{for(var De=0,Je=0;Je<f;++Je)z[Je]=S[Je].readValueFromPointer(oe+De),De+=S[Je].argPackAdvance;return $=_===1?Ln(J,z):J.apply($,z),ne(N,ue,$)}))},_emval_get_module_property:f=>(f=ze(f),kn(B[f])),_emval_get_property:(f,d)=>(f=ai(f),d=ai(d),kn(f[d])),_emval_incref:f=>{9<f&&(bi[f+1]+=1)},_emval_new_array:()=>kn([]),_emval_new_cstring:f=>kn(ze(f)),_emval_new_object:()=>kn({}),_emval_run_destructors:f=>{var d=ai(f);Ve(d),Ms(f)},_emval_set_property:(f,d,_)=>{f=ai(f),d=ai(d),_=ai(_),f[d]=_},_emval_take_value:(f,d)=>(f=ea(f,"_emval_take_value"),f=f.readValueFromPointer(d),kn(f)),emscripten_asm_const_int:(f,d,_)=>{$i.length=0;for(var S;S=j[d++];){var N=S!=105;N&=S!=112,_+=N&&_%8?4:0,$i.push(S==112?xe[_>>2]:S==105?we[_>>2]:mt[_>>3]),_+=N?8:4}return ln[f](...$i)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=j.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var N=Math;S=Math.max(f,S);e:{N=(N.min.call(N,2147483648,S+(65536-S%65536)%65536)-ve.buffer.byteLength+65535)/65536;try{ve.grow(N),ct();var z=1;break e}catch{}z=void 0}if(z)return!0}return!1},environ_get:(f,d)=>{var _=0;return Rr().forEach((S,N)=>{var z=d+_;for(N=xe[f+4*N>>2]=z,z=0;z<S.length;++z)Me[N++]=S.charCodeAt(z);Me[N]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=Rr();xe[f>>2]=_.length;var S=0;return _.forEach(N=>S+=N.length+1),xe[d>>2]=S,0},fd_close:function(f){try{var d=Oi(f);if(d.W===null)throw new Ge(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Wn[d.W]=null}return d.W=null,0}catch(_){if(typeof bn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var N=Oi(f);f=d;for(var z,$=d=0;$<_;$++){var J=xe[f>>2],ue=xe[f+4>>2];f+=8;var oe=N,De=z,Je=Me;if(0>ue||0>De)throw new Ge(28);if(oe.W===null)throw new Ge(8);if((oe.flags&2097155)===1)throw new Ge(8);if((oe.node.mode&61440)===16384)throw new Ge(31);if(!oe.m.read)throw new Ge(28);var st=typeof De<"u";if(!st)De=oe.position;else if(!oe.seekable)throw new Ge(70);var ee=oe.m.read(oe,Je,J,ue,De);st||(oe.position+=ee);var Be=ee;if(0>Be){var it=-1;break e}if(d+=Be,Be<ue)break;typeof z<"u"&&(z+=Be)}it=d}return xe[S>>2]=it,0}catch(He){if(typeof bn>"u"||He.name!=="ErrnoError")throw He;return He.$}},fd_seek:function(f,d,_,S,N){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var z=Oi(f);return Sa(z,d,S),Ct=[z.position>>>0,(Sn=z.position,1<=+Math.abs(Sn)?0<Sn?+Math.floor(Sn/4294967296)>>>0:~~+Math.ceil((Sn-+(~~Sn>>>0))/4294967296)>>>0:0)],we[N>>2]=Ct[0],we[N+4>>2]=Ct[1],z.Ka&&d===0&&S===0&&(z.Ka=null),0}catch($){if(typeof bn>"u"||$.name!=="ErrnoError")throw $;return $.$}},fd_write:function(f,d,_,S){try{e:{var N=Oi(f);f=d;for(var z,$=d=0;$<_;$++){var J=xe[f>>2],ue=xe[f+4>>2];f+=8;var oe=N,De=J,Je=ue,st=z,ee=Me;if(0>Je||0>st)throw new Ge(28);if(oe.W===null)throw new Ge(8);if((oe.flags&2097155)===0)throw new Ge(8);if((oe.node.mode&61440)===16384)throw new Ge(31);if(!oe.m.write)throw new Ge(28);oe.seekable&&oe.flags&1024&&Sa(oe,0,2);var Be=typeof st<"u";if(!Be)st=oe.position;else if(!oe.seekable)throw new Ge(70);var it=oe.m.write(oe,ee,De,Je,st,void 0);Be||(oe.position+=it);var He=it;if(0>He){var dn=-1;break e}d+=He,typeof z<"u"&&(z+=He)}dn=d}return xe[S>>2]=dn,0}catch(Ze){if(typeof bn>"u"||Ze.name!=="ErrnoError")throw Ze;return Ze.$}},strftime_l:(f,d,_,S)=>xf(f,d,_,S)},Fn=(function(){function f(_){return Fn=_.exports,ve=Fn.memory,ct(),Qa=Fn.__indirect_function_table,Tt.unshift(Fn.__wasm_call_ctors),pt--,B.monitorRunDependencies?.(pt),pt==0&&Ht&&(_=Ht,Ht=null,_()),Fn}var d={env:tu,wasi_snapshot_preview1:tu};if(pt++,B.monitorRunDependencies?.(pt),B.instantiateWasm)try{return B.instantiateWasm(d,f)}catch(_){G(`Module.instantiateWasm callback failed with error: ${_}`),Se(_)}return rn||=Yn("canvas_advanced.wasm")?"canvas_advanced.wasm":B.locateFile?B.locateFile("canvas_advanced.wasm",P):P+"canvas_advanced.wasm",rr(d,function(_){f(_.instance)}).catch(Se),{}})(),vr=f=>(vr=Fn.free)(f),Za=f=>(Za=Fn.malloc)(f),yc=f=>(yc=Fn.__getTypeName)(f),Ao=B._ma_device__on_notification_unlocked=f=>(Ao=B._ma_device__on_notification_unlocked=Fn.ma_device__on_notification_unlocked)(f);B._ma_malloc_emscripten=(f,d)=>(B._ma_malloc_emscripten=Fn.ma_malloc_emscripten)(f,d),B._ma_free_emscripten=(f,d)=>(B._ma_free_emscripten=Fn.ma_free_emscripten)(f,d);var nu=B._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(nu=B._ma_device_process_pcm_frames_capture__webaudio=Fn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),iu=B._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(iu=B._ma_device_process_pcm_frames_playback__webaudio=Fn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);B.dynCall_iiji=(f,d,_,S,N)=>(B.dynCall_iiji=Fn.dynCall_iiji)(f,d,_,S,N),B.dynCall_jiji=(f,d,_,S,N)=>(B.dynCall_jiji=Fn.dynCall_jiji)(f,d,_,S,N),B.dynCall_iiiji=(f,d,_,S,N,z)=>(B.dynCall_iiiji=Fn.dynCall_iiiji)(f,d,_,S,N,z),B.dynCall_iij=(f,d,_,S)=>(B.dynCall_iij=Fn.dynCall_iij)(f,d,_,S),B.dynCall_jii=(f,d,_)=>(B.dynCall_jii=Fn.dynCall_jii)(f,d,_),B.dynCall_viijii=(f,d,_,S,N,z,$)=>(B.dynCall_viijii=Fn.dynCall_viijii)(f,d,_,S,N,z,$),B.dynCall_iiiiij=(f,d,_,S,N,z,$)=>(B.dynCall_iiiiij=Fn.dynCall_iiiiij)(f,d,_,S,N,z,$),B.dynCall_iiiiijj=(f,d,_,S,N,z,$,J,ue)=>(B.dynCall_iiiiijj=Fn.dynCall_iiiiijj)(f,d,_,S,N,z,$,J,ue),B.dynCall_iiiiiijj=(f,d,_,S,N,z,$,J,ue,oe)=>(B.dynCall_iiiiiijj=Fn.dynCall_iiiiiijj)(f,d,_,S,N,z,$,J,ue,oe);var Ds;Ht=function f(){Ds||tl(),Ds||(Ht=f)};function tl(){function f(){if(!Ds&&(Ds=!0,B.calledRun=!0,!fe)){if(B.noFSInit||pa||(pa=!0,B.stdin=B.stdin,B.stdout=B.stdout,B.stderr=B.stderr,B.stdin?hr("stdin",B.stdin):Qi("/dev/tty","/dev/stdin"),B.stdout?hr("stdout",null,B.stdout):Qi("/dev/tty","/dev/stdout"),B.stderr?hr("stderr",null,B.stderr):Qi("/dev/tty1","/dev/stderr"),Wr("/dev/stdin",0),Wr("/dev/stdout",1),Wr("/dev/stderr",1)),fi=!1,C(Tt),Oe(B),B.onRuntimeInitialized&&B.onRuntimeInitialized(),B.postRun)for(typeof B.postRun=="function"&&(B.postRun=[B.postRun]);B.postRun.length;){var d=B.postRun.shift();yt.unshift(d)}C(yt)}}if(!(0<pt)){if(B.preRun)for(typeof B.preRun=="function"&&(B.preRun=[B.preRun]);B.preRun.length;)at();C(dt),0<pt||(B.setStatus?(B.setStatus("Running..."),setTimeout(function(){setTimeout(function(){B.setStatus("")},1),f()},1)):f())}}if(B.preInit)for(typeof B.preInit=="function"&&(B.preInit=[B.preInit]);0<B.preInit.length;)B.preInit.pop()();return tl(),ie=Le,ie})})();const I=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function I(L,H,ie,B){this.animation=L,this.artboard=H,this.playing=B,this.loopCount=0,this.scrubTo=null,this.instance=new ie.LinearAnimationInstance(L,H)}return Object.defineProperty(I.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),I.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},I.prototype.apply=function(L){this.instance.apply(L)},I.prototype.cleanup=function(){this.instance.delete()},I})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>I.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>I.sanitizeUrl});var w=E(6),I=E(7),L=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>L});var w=void 0,I=function(H,ie,B){var Oe,Se,Le=[];if(["touchstart","touchmove"].indexOf(H.type)>-1&&(!((Oe=H.changedTouches)===null||Oe===void 0)&&Oe.length)){ie||H.preventDefault();for(var Pe=0,Fe=B?H.changedTouches.length:1;Pe<Fe;){var We=H.changedTouches[Pe];Le.push({clientX:We.clientX,clientY:We.clientY,identifier:We.identifier}),Pe++}}else if(H.type==="touchend"&&(!((Se=H.changedTouches)===null||Se===void 0)&&Se.length))for(var Pe=0,Fe=B?H.changedTouches.length:1;Pe<Fe;){var We=H.changedTouches[Pe];Le.push({clientX:We.clientX,clientY:We.clientY,identifier:We.identifier}),Pe++}else Le.push({clientX:H.clientX,clientY:H.clientY,identifier:0});return Le},L=function(H){var ie=H.canvas,B=H.artboard,Oe=H.stateMachines,Se=Oe===void 0?[]:Oe,Le=H.renderer,Pe=H.rive,Fe=H.fit,We=H.alignment,Ue=H.isTouchScrollEnabled,vt=Ue===void 0?!1:Ue,q=H.dispatchPointerExit,U=q===void 0?!0:q,V=H.enableMultiTouch,F=V===void 0?!1:V,x=H.layoutScaleFactor,P=x===void 0?1:x;if(!ie||!Se.length||!Le||!Pe||!B||typeof window>"u")return null;var R=null,K=!1,ae=function(Z){if(K&&Z instanceof MouseEvent){Z.type=="mouseup"&&(K=!1);return}K=vt&&Z.type==="touchend"&&R==="touchstart",R=Z.type;var ve=Z.currentTarget.getBoundingClientRect(),fe=I(Z,vt,F),Me=Pe.computeAlignment(Fe,We,{minX:0,minY:0,maxX:ve.width,maxY:ve.height},B.bounds,P),j=new Pe.Mat2D;switch(Me.invert(j),fe.forEach(function(rn){var lt=rn.clientX,on=rn.clientY;if(!(!lt&&!on)){var An=lt-ve.left,rr=on-ve.top,Sn=new Pe.Vec2D(An,rr),Ct=Pe.mapXY(j,Sn),ln=Ct.x(),C=Ct.y();rn.transformedX=ln,rn.transformedY=C,Ct.delete(),Sn.delete()}}),j.delete(),Me.delete(),Z.type){case"mouseout":for(var re=function(rn){U?fe.forEach(function(lt){rn.pointerExit(lt.transformedX,lt.transformedY,lt.identifier)}):fe.forEach(function(lt){rn.pointerMove(lt.transformedX,lt.transformedY,lt.identifier)})},Ce=0,we=Se;Ce<we.length;Ce++){var xe=we[Ce];re(xe)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Qe=function(rn){fe.forEach(function(lt){rn.pointerMove(lt.transformedX,lt.transformedY,lt.identifier)})},mt=0,ct=Se;mt<ct.length;mt++){var xe=ct[mt];Qe(xe)}break}case"touchstart":case"mousedown":{for(var dt=function(rn){fe.forEach(function(lt){rn.pointerDown(lt.transformedX,lt.transformedY,lt.identifier)})},Tt=0,yt=Se;Tt<yt.length;Tt++){var xe=yt[Tt];dt(xe)}break}case"touchend":{for(var at=function(rn){fe.forEach(function(lt){rn.pointerUp(lt.transformedX,lt.transformedY,lt.identifier),rn.pointerExit(lt.transformedX,lt.transformedY,lt.identifier)})},pt=0,Ht=Se;pt<Ht.length;pt++){var xe=Ht[pt];at(xe)}break}case"mouseup":{for(var Lt=function(rn){fe.forEach(function(lt){rn.pointerUp(lt.transformedX,lt.transformedY,lt.identifier)})},Yn=0,hi=Se;Yn<hi.length;Yn++){var xe=hi[Yn];Lt(xe)}break}}},G=ae.bind(w);return ie.addEventListener("mouseover",G),ie.addEventListener("mouseout",G),ie.addEventListener("mousemove",G),ie.addEventListener("mousedown",G),ie.addEventListener("mouseup",G),ie.addEventListener("touchmove",G,{passive:vt}),ie.addEventListener("touchstart",G,{passive:vt}),ie.addEventListener("touchend",G),function(){ie.removeEventListener("mouseover",G),ie.removeEventListener("mouseout",G),ie.removeEventListener("mousemove",G),ie.removeEventListener("mousedown",G),ie.removeEventListener("mouseup",G),ie.removeEventListener("touchmove",G),ie.removeEventListener("touchstart",G),ie.removeEventListener("touchend",G)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>Oe,sanitizeUrl:()=>Pe});var w=/^([^\w]*)(javascript|data|vbscript)/im,I=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,H=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ie=/^.+(:|&colon;)/gim,B=[".","/"],Oe="about:blank";function Se(Fe){return B.indexOf(Fe[0])>-1}function Le(Fe){var We=Fe.replace(H,"");return We.replace(I,function(Ue,vt){return String.fromCharCode(vt)})}function Pe(Fe){if(!Fe)return Oe;var We=Le(Fe).replace(L,"").replace(H,"").trim();if(!We)return Oe;if(Se(We))return We;var Ue=We.match(ie);if(!Ue)return We;var vt=Ue[0];return w.test(vt)?Oe:We}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>Fe,AudioWrapper:()=>B,CustomFileAssetLoaderWrapper:()=>Se,FileAssetWrapper:()=>Le,FileFinalizer:()=>I,FontAssetWrapper:()=>We,FontWrapper:()=>Oe,ImageAssetWrapper:()=>Pe,ImageWrapper:()=>ie,createFinalization:()=>U,finalizationRegistry:()=>q});var w=(function(){var V=function(F,x){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,R){P.__proto__=R}||function(P,R){for(var K in R)Object.prototype.hasOwnProperty.call(R,K)&&(P[K]=R[K])},V(F,x)};return function(F,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");V(F,x);function P(){this.constructor=F}F.prototype=x===null?Object.create(x):(P.prototype=x.prototype,new P)}})(),I=(function(){function V(F){this.selfUnref=!1,this._file=F}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),L=(function(){function V(F){this._finalizableObject=F}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),H=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),ie=(function(V){w(F,V);function F(x){var P=V.call(this)||this;return P._nativeImage=x,P}return Object.defineProperty(F.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),F.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},F})(H),B=(function(V){w(F,V);function F(x){var P=V.call(this)||this;return P._nativeAudio=x,P}return Object.defineProperty(F.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),F.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},F})(H),Oe=(function(V){w(F,V);function F(x){var P=V.call(this)||this;return P._nativeFont=x,P}return Object.defineProperty(F.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),F.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},F})(H),Se=(function(){function V(F,x){this._assetLoaderCallback=x,this.assetLoader=new F.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(F,x){var P;return F.isImage?P=new Pe(F):F.isAudio?P=new Fe(F):F.isFont&&(P=new We(F)),this._assetLoaderCallback(P,x)},V})(),Le=(function(){function V(F){this._nativeFileAsset=F}return V.prototype.decode=function(F){this._nativeFileAsset.decode(F)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Pe=(function(V){w(F,V);function F(){return V!==null&&V.apply(this,arguments)||this}return F.prototype.setRenderImage=function(x){this._nativeFileAsset.setRenderImage(x.nativeImage)},F})(Le),Fe=(function(V){w(F,V);function F(){return V!==null&&V.apply(this,arguments)||this}return F.prototype.setAudioSource=function(x){this._nativeFileAsset.setAudioSource(x.nativeAudio)},F})(Le),We=(function(V){w(F,V);function F(){return V!==null&&V.apply(this,arguments)||this}return F.prototype.setFont=function(x){this._nativeFileAsset.setFont(x.nativeFont)},F})(Le),Ue=(function(){function V(F){}return V.prototype.register=function(F){F.selfUnref=!0},V.prototype.unregister=function(F){},V})(),vt=typeof FinalizationRegistry<"u"?FinalizationRegistry:Ue,q=new vt(function(V){V?.unref()}),U=function(V,F){var x=new L(F);q.register(V,x)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var E=a[p]={exports:{}};return i[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Pe,DataEnum:()=>mt,EventType:()=>R,Fit:()=>Le,Layout:()=>Fe,LoopType:()=>K,Rive:()=>xe,RiveEventType:()=>q,RiveFile:()=>we,RuntimeLoader:()=>We,StateMachineInput:()=>vt,StateMachineInputType:()=>Ue,Testing:()=>rr,ViewModel:()=>Qe,ViewModelInstance:()=>dt,ViewModelInstanceArtboard:()=>lt,ViewModelInstanceAssetImage:()=>rn,ViewModelInstanceBoolean:()=>pt,ViewModelInstanceColor:()=>hi,ViewModelInstanceEnum:()=>Lt,ViewModelInstanceList:()=>Yn,ViewModelInstanceNumber:()=>at,ViewModelInstanceString:()=>yt,ViewModelInstanceTrigger:()=>Ht,ViewModelInstanceValue:()=>Tt,decodeAudio:()=>Sn,decodeFont:()=>ln,decodeImage:()=>Ct});var p=l(1),b=l(2),E=l(3),w=l(5),I=(function(){var C=function(g,v){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,W){O.__proto__=W}||function(O,W){for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&(O[me]=W[me])},C(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");C(g,v);function O(){this.constructor=g}g.prototype=v===null?Object.create(v):(O.prototype=v.prototype,new O)}})(),L=function(){return L=Object.assign||function(C){for(var g,v=1,O=arguments.length;v<O;v++){g=arguments[v];for(var W in g)Object.prototype.hasOwnProperty.call(g,W)&&(C[W]=g[W])}return C},L.apply(this,arguments)},H=function(C,g,v,O){function W(me){return me instanceof v?me:new v(function(Ie){Ie(me)})}return new(v||(v=Promise))(function(me,Ie){function $e(tt){try{je(O.next(tt))}catch(en){Ie(en)}}function nt(tt){try{je(O.throw(tt))}catch(en){Ie(en)}}function je(tt){tt.done?me(tt.value):W(tt.value).then($e,nt)}je((O=O.apply(C,g||[])).next())})},ie=function(C,g){var v={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},O,W,me,Ie=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ie.next=$e(0),Ie.throw=$e(1),Ie.return=$e(2),typeof Symbol=="function"&&(Ie[Symbol.iterator]=function(){return this}),Ie;function $e(je){return function(tt){return nt([je,tt])}}function nt(je){if(O)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,je[0]&&(v=0)),v;)try{if(O=1,W&&(me=je[0]&2?W.return:je[0]?W.throw||((me=W.return)&&me.call(W),0):W.next)&&!(me=me.call(W,je[1])).done)return me;switch(W=0,me&&(je=[je[0]&2,me.value]),je[0]){case 0:case 1:me=je;break;case 4:return v.label++,{value:je[1],done:!1};case 5:v.label++,W=je[1],je=[0];continue;case 7:je=v.ops.pop(),v.trys.pop();continue;default:if(me=v.trys,!(me=me.length>0&&me[me.length-1])&&(je[0]===6||je[0]===2)){v=0;continue}if(je[0]===3&&(!me||je[1]>me[0]&&je[1]<me[3])){v.label=je[1];break}if(je[0]===6&&v.label<me[1]){v.label=me[1],me=je;break}if(me&&v.label<me[2]){v.label=me[2],v.ops.push(je);break}me[2]&&v.ops.pop(),v.trys.pop();continue}je=g.call(C,v)}catch(tt){je=[6,tt],W=0}finally{O=me=0}if(je[0]&5)throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}},B=function(C,g,v){if(v||arguments.length===2)for(var O=0,W=g.length,me;O<W;O++)(me||!(O in g))&&(me||(me=Array.prototype.slice.call(g,0,O)),me[O]=g[O]);return C.concat(me||Array.prototype.slice.call(g))},Oe=(function(C){I(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Se=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},Le;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(Le||(Le={}));var Pe;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(Pe||(Pe={}));var Fe=(function(){function C(g){var v,O,W,me,Ie,$e,nt;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Le.Contain,this.alignment=(O=g?.alignment)!==null&&O!==void 0?O:Pe.Center,this.layoutScaleFactor=(W=g?.layoutScaleFactor)!==null&&W!==void 0?W:1,this.minX=(me=g?.minX)!==null&&me!==void 0?me:0,this.minY=(Ie=g?.minY)!==null&&Ie!==void 0?Ie:0,this.maxX=($e=g?.maxX)!==null&&$e!==void 0?$e:0,this.maxY=(nt=g?.maxY)!==null&&nt!==void 0?nt:0}return C.new=function(g){var v=g.fit,O=g.alignment,W=g.minX,me=g.minY,Ie=g.maxX,$e=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:v,alignment:O,minX:W,minY:me,maxX:Ie,maxY:$e})},C.prototype.copyWith=function(g){var v=g.fit,O=g.alignment,W=g.layoutScaleFactor,me=g.minX,Ie=g.minY,$e=g.maxX,nt=g.maxY;return new C({fit:v??this.fit,alignment:O??this.alignment,layoutScaleFactor:W??this.layoutScaleFactor,minX:me??this.minX,minY:Ie??this.minY,maxX:$e??this.maxX,maxY:nt??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Le.Cover?v=g.Fit.cover:this.fit===Le.Contain?v=g.Fit.contain:this.fit===Le.Fill?v=g.Fit.fill:this.fit===Le.FitWidth?v=g.Fit.fitWidth:this.fit===Le.FitHeight?v=g.Fit.fitHeight:this.fit===Le.ScaleDown?v=g.Fit.scaleDown:this.fit===Le.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Pe.TopLeft?v=g.Alignment.topLeft:this.alignment===Pe.TopCenter?v=g.Alignment.topCenter:this.alignment===Pe.TopRight?v=g.Alignment.topRight:this.alignment===Pe.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Pe.CenterRight?v=g.Alignment.centerRight:this.alignment===Pe.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Pe.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Pe.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},C})(),We=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var v;for(C.runtime=g;C.callBackQueue.length>0;)(v=C.callBackQueue.shift())===null||v===void 0||v(C.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var O="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==O)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),C.setWasmUrl(O),C.loadRuntime();else{var W=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(O,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(W)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(v){return g(v)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),Ue;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(Ue||(Ue={}));var vt=(function(){function C(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===Ue.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),q;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(q||(q={}));var U=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),V=(function(C){I(g,C);function g(v,O){var W=C.call(this,!1)||this;return W.nativeArtboard=v,W.file=O,W}return g})(U),F=(function(C){I(g,C);function g(v){var O=C.call(this,!0)||this;return O.selfUnref=!1,O.nativeArtboard=v,O}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(U),x=(function(){function C(g,v,O,W){this.stateMachine=g,this.playing=O,this.artboard=W,this.inputs=[],this.instance=new v.StateMachineInstance(g,W),this.initInputs(v)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var O=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(O,g))}},C.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new vt(Ue.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new vt(Ue.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new vt(Ue.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),P=(function(){function C(g,v,O,W,me){W===void 0&&(W=[]),me===void 0&&(me=[]),this.runtime=g,this.artboard=v,this.eventManager=O,this.animations=W,this.stateMachines=me}return C.prototype.add=function(g,v,O){if(O===void 0&&(O=!0),g=An(g),g.length===0)this.animations.forEach(function(un){return un.playing=v}),this.stateMachines.forEach(function(un){return un.playing=v});else for(var W=this.animations.map(function(un){return un.name}),me=this.stateMachines.map(function(un){return un.name}),Ie=0;Ie<g.length;Ie++){var $e=W.indexOf(g[Ie]),nt=me.indexOf(g[Ie]);if($e>=0||nt>=0)$e>=0?this.animations[$e].playing=v:this.stateMachines[nt].playing=v;else{var je=this.artboard.animationByName(g[Ie]);if(je){var tt=new E.Animation(je,this.artboard,this.runtime,v);tt.advance(0),tt.apply(1),this.animations.push(tt)}else{var en=this.artboard.stateMachineByName(g[Ie]);if(en){var fn=new x(en,this.runtime,v,this.artboard);this.stateMachines.push(fn)}}}}return O&&(v?this.eventManager.fire({type:R.Play,data:this.playing}):this.eventManager.fire({type:R.Pause,data:this.paused})),v?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,v){for(var O=this.animations.map(function(nt){return nt.name}),W=0;W<g.length;W++){var me=O.indexOf(g[W]);if(me>=0)this.animations[me].playing=v;else{var Ie=this.artboard.animationByName(g[W]);if(Ie){var $e=new E.Animation(Ie,this.artboard,this.runtime,v);$e.advance(0),$e.apply(1),this.animations.push($e)}else console.error("Animation with name ".concat(g[W]," not found."))}}},C.prototype.initStateMachines=function(g,v){for(var O=this.stateMachines.map(function(nt){return nt.name}),W=0;W<g.length;W++){var me=O.indexOf(g[W]);if(me>=0)this.stateMachines[me].playing=v;else{var Ie=this.artboard.stateMachineByName(g[W]);if(Ie){var $e=new x(Ie,this.runtime,v,this.artboard);this.stateMachines.push($e)}else console.warn("State Machine with name ".concat(g[W]," not found.")),this.initLinearAnimations([g[W]],v)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,v){var O=this.animations.filter(function(W){return g.includes(W.name)});return O.forEach(function(W){return W.scrubTo=v}),O.map(function(W){return W.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var v=this;g=An(g);var O=[];if(g.length===0)O=this.animations.map(function(Ie){return Ie.name}).concat(this.stateMachines.map(function(Ie){return Ie.name})),this.animations.forEach(function(Ie){return Ie.cleanup()}),this.stateMachines.forEach(function(Ie){return Ie.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var W=this.animations.filter(function(Ie){return g.includes(Ie.name)});W.forEach(function(Ie){Ie.cleanup(),v.animations.splice(v.animations.indexOf(Ie),1)});var me=this.stateMachines.filter(function(Ie){return g.includes(Ie.name)});me.forEach(function(Ie){Ie.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ie),1)}),O=W.map(function(Ie){return Ie.name}).concat(me.map(function(Ie){return Ie.name}))}return this.eventManager.fire({type:R.Stop,data:O}),O},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var O;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([O=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([O=this.artboard.stateMachineByIndex(0).name],g,v)),O},C.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(W){return W.playing});g<v.length;g++){var O=v[g];O.loopValue===0&&O.loopCount?(O.loopCount=0,this.stop(O.name)):O.loopValue===1&&O.loopCount?(this.eventManager.fire({type:R.Loop,data:{animation:O.name,type:K.Loop}}),O.loopCount=0):O.loopValue===2&&O.loopCount>1&&(this.eventManager.fire({type:R.Loop,data:{animation:O.name,type:K.PingPong}}),O.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],v=0,O=this.stateMachines.filter(function(me){return me.playing});v<O.length;v++){var W=O[v];g.push.apply(g,W.statesChanged)}g.length>0&&this.eventManager.fire({type:R.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:R.Advance,data:g})},C})(),R;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(R||(R={}));var K;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(K||(K={}));var ae=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var O=this.listeners[v];if(O.type===g.type&&O.callback===g.callback){this.listeners.splice(v,1);break}}},C.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(O){return O.type===g}).forEach(function(O){return v.remove(O)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(O){return O.callback(g)})},C})(),G=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),Z;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(Z||(Z={}));var ve=(function(C){I(g,C);function g(){var v=C!==null&&C.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=Z.UNAVAILABLE,v}return g.prototype.delay=function(v){return H(this,void 0,void 0,function(){return ie(this,function(O){return[2,new Promise(function(W){return setTimeout(W,v)})]})})},g.prototype.timeout=function(){return H(this,void 0,void 0,function(){return ie(this,function(v){return[2,new Promise(function(O,W){return setTimeout(W,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:R.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return H(this,void 0,void 0,function(){return ie(this,function(v){return this._enabled||(this._enabled=!0,this._status=Z.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return H(this,void 0,void 0,function(){return ie(this,function(v){switch(v.label){case 0:if(!(this._status===Z.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return H(this,void 0,void 0,function(){return ie(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==Z.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,O=function(){return H(v,void 0,void 0,function(){return ie(this,function(W){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",O,{once:!0})},g.prototype.establishAudio=function(){return H(this,void 0,void 0,function(){return ie(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===Z.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(ae),fe=new ve,Me=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),j=globalThis.ResizeObserver||Me,re=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var O=g._elementsMap.get(v.target);O!==null?O.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new j(this._onObserved)}return C.prototype.add=function(g,v){var O={onResize:v,element:g};return this._elementsMap.set(g,O),this._resizeObserver.observe(g),O},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ce=new re,we=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new ae,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return H(this,void 0,void 0,function(){var g,v,O,W,me;return ie(this,function(Ie){switch(Ie.label){case 0:return this.src?(g=this,[4,on(this.src)]):[3,2];case 1:g.buffer=Ie.sent(),Ie.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(O=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=O.assetLoader),W=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return W.file=Ie.sent(),me=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,me),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:R.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return H(this,void 0,void 0,function(){var g,v;return ie(this,function(O){switch(O.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];O.label=1;case 1:return O.trys.push([1,4,,5]),g=this,[4,We.awaitInstance()];case 2:return g.runtime=O.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return O.sent(),[3,5];case 4:return v=O.sent(),this.fireLoadError(v instanceof Error?v.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:R.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var v=new F(g);return(0,w.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},C.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},C.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),xe=(function(){function C(g){var v=this,O;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(W){var me=v._hasZeroSize!==W;v._hasZeroSize=W,W?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():me&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ce.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(O=g.layout)!==null&&O!==void 0?O:new Fe,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new ae,g.onLoad&&this.on(R.Load,g.onLoad),g.onLoadError&&this.on(R.LoadError,g.onLoadError),g.onPlay&&this.on(R.Play,g.onPlay),g.onPause&&this.on(R.Pause,g.onPause),g.onStop&&this.on(R.Stop,g.onStop),g.onLoop&&this.on(R.Loop,g.onLoop),g.onStateChange&&this.on(R.StateChange,g.onStateChange),g.onAdvance&&this.on(R.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(R.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(R.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(R.Play,g.onplay),g.onpause&&!g.onPause&&this.on(R.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(R.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(R.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(R.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new G(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var v=this,O=g.src,W=g.buffer,me=g.riveFile,Ie=g.animations,$e=g.stateMachines,nt=g.artboard,je=g.autoplay,tt=je===void 0?!1:je,en=g.useOffscreenRenderer,fn=en===void 0?!1:en,un=g.autoBind,Dn=un===void 0?!1:un;if(!this.destroyed){if(this.src=O,this.buffer=W,this.riveFile=me,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(C.missingErrorMessage);var On=An(Ie),jt=An($e);this.loaded=!1,this.readyForPlaying=!1,We.awaitInstance().then(function(vn){v.destroyed||(v.runtime=vn,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,fn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(nt,On,jt,tt,Dn).then(function(Un){if(Un)return v.setupRiveListeners()}).catch(function(Un){console.error(Un)}))}).catch(function(vn){console.error(vn)})}},C.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var O=(this.animator.stateMachines||[]).filter(function($e){return $e.playing&&v.runtime.hasListeners($e.instance)}).map(function($e){return $e.instance}),W=this.isTouchScrollEnabled,me=this.dispatchPointerExit,Ie=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(W=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:O,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:W,dispatchPointerExit:me,enableMultiTouch:Ie,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,v;fe.status==Z.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:R.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},fe.add(this._audioEventListener),fe.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,v,O,W,me){return H(this,void 0,void 0,function(){var Ie,$e,nt,je;return ie(this,function(tt){switch(tt.label){case 0:return tt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ie=new we({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ie,[4,Ie.init()]);case 1:if(tt.sent(),this.destroyed)return Ie.destroyIfUnused(),[2,!1];tt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,O,W,me),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:R.Load,data:(je=this.src)!==null&&je!==void 0?je:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return $e=tt.sent(),nt=Se($e),console.warn(nt),this.eventManager.fire({type:R.LoadError,data:nt}),[2,Promise.reject(nt)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,v,O,W,me){if(this.file){var Ie=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ie){var $e="Invalid artboard name or no default artboard";console.warn($e),this.eventManager.fire({type:R.LoadError,data:$e});return}this.artboard=Ie,Ie.volume=this._volume*fe.systemVolume,this.animator=new P(this.runtime,this.artboard,this.eventManager);var nt;if(v.length>0||O.length>0?(nt=v.concat(O),this.animator.initLinearAnimations(v,W),this.animator.initStateMachines(O,W)):nt=[this.animator.atLeastOne(W,!1)],this.taskQueue.add({event:{type:W?R.Play:R.Pause,data:nt}}),me){var je=this.file.defaultArtboardViewModel(Ie);if(je!==null){var tt=je.defaultInstance();if(tt!==null){var en=new dt(tt,null);(0,w.createFinalization)(en,en.runtimeInstance),this.bindViewModelInstance(en)}}}}},C.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},C.prototype.draw=function(g,v){var O;this.frameRequestId=null;var W=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var me=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ie=this.animator.animations.filter(function(Yi){return Yi.playing||Yi.needsScrub}).sort(function(Yi){return Yi.needsScrub?-1:1}),$e=0,nt=Ie;$e<nt.length;$e++){var je=nt[$e];je.advance(me),je.instance.didLoop&&(je.loopCount+=1),je.apply(1)}for(var tt=this.animator.stateMachines.filter(function(Yi){return Yi.playing}),en=0,fn=tt;en<fn.length;en++){var un=fn[en],Dn=un.reportedEventCount();if(Dn)for(var On=0;On<Dn;On++){var jt=un.reportedEventAt(On);if(jt)if(jt.type===q.OpenUrl){if(this.eventManager.fire({type:R.RiveEvent,data:jt}),this.automaticallyHandleEvents){var vn=document.createElement("a"),Un=jt,ri=Un.url,Di=Un.target,bt=(0,w.sanitizeUrl)(ri);ri&&vn.setAttribute("href",bt),Di&&vn.setAttribute("target",Di),bt&&bt!==w.BLANK_URL&&vn.click()}}else this.eventManager.fire({type:R.RiveEvent,data:jt})}un.advanceAndApply(me)}this.animator.stateMachines.length==0&&this.artboard.advance(me);var Kn=this.renderer;Kn.clear(),Kn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Kn),Kn.restore(),Kn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(me),this.frameCount++;var xt=performance.now();for(this.frameTimes.push(xt),this.durations.push(xt-W);this.frameTimes[0]<=xt-1e3;)this.frameTimes.shift(),this.durations.shift();(O=this._viewModelInstance)===null||O===void 0||O.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,v=g.renderer,O=g.runtime,W=g._layout,me=g.artboard;v.align(W.runtimeFit(O),W.runtimeAlignment(O),{minX:W.minX,minY:W.minY,maxX:W.maxX,maxY:W.maxY},me.bounds,this._devicePixelRatioUsed*W.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ce.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(fe.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var O=this.artboard.textRun(g);if(!O){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return O},C.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},C.prototype.setTextRunValue=function(g,v){var O=this.retrieveTextRun(g);O&&(O.text=v)},C.prototype.play=function(g,v){var O=this;if(g=An(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return O.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var v=this;if(g=An(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,v){var O=this;if(g=An(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return O.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},C.prototype.stop=function(g){var v=this;if(g=An(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var v,O,W=g?.artboard,me=An(g?.animations),Ie=An(g?.stateMachines),$e=(v=g?.autoplay)!==null&&v!==void 0?v:!1,nt=(O=g?.autoBind)!==null&&O!==void 0?O:!1;this.cleanupInstances(),this.initArtboard(W,me,Ie,$e,nt),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),O=v.width,W=v.height,me=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=me,this.canvas.width=me*O,this.canvas.height=me*W,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Ie=this._layout.layoutScaleFactor;this.artboard.width=O/Ie,this.artboard.height=W/Ie}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(O){return O.name===g});return v?.inputs}},C.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var O=this.artboard.inputByPath(g,v);if(!O){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return O},C.prototype.setBooleanStateAtPath=function(g,v,O){var W=this.retrieveInputAtPath(g,O);W&&(W.type===Ue.Boolean?W.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(O,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,v,O){var W=this.retrieveInputAtPath(g,O);W&&(W.type===Ue.Number?W.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(O,"' is not a number")))},C.prototype.fireStateAtPath=function(g,v){var O=this.retrieveInputAtPath(g,v);O&&(O.type===Ue.Trigger?O.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var O=this.artboard.textByPath(g,v);if(!O){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return O},C.prototype.getTextRunValueAtPath=function(g,v){var O=this.retrieveTextAtPath(g,v);if(!O){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return O.text},C.prototype.setTextRunValueAtPath=function(g,v,O){var W=this.retrieveTextAtPath(g,O);if(!W){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(O,"'"));return}W.text=v},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},C.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},C.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var O=this.file.artboardByIndex(v),W={name:O.name,animations:[],stateMachines:[]},me=0;me<O.animationCount();me++){var Ie=O.animationByIndex(me);W.animations.push(Ie.name)}for(var $e=0;$e<O.stateMachineCount();$e++){for(var nt=O.stateMachineByIndex($e),je=nt.name,tt=new this.runtime.StateMachineInstance(nt,O),en=[],fn=0;fn<tt.inputCount();fn++){var un=tt.input(fn);en.push({name:un.name,type:un.type})}W.stateMachines.push({name:je,inputs:en})}g.artboards.push(W)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*fe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(O){return O.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Qe(v):null},C.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Qe(v):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new mt(v)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Qe(g)}return null},C.prototype.getArtboard=function(g){var v,O;return(O=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&O!==void 0?O:null},C.prototype.getBindableArtboard=function(g){var v,O;return(O=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&O!==void 0?O:null},C.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),Qe=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var O=new dt(v,null);return(0,w.createFinalization)(O,v),O}return null},C.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var O=new dt(v,null);return(0,w.createFinalization)(O,v),O}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new dt(g,null);return(0,w.createFinalization)(v,g),v}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new dt(g,null);return(0,w.createFinalization)(v,g),v}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),mt=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),ct;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(ct||(ct={}));var dt=(function(){function C(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var O=this._parents[v];O.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},C.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(O){O.addToViewModelCallbacks(v)}))},C.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(O){return O!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(O){O.removeFromViewModelCallbacks(v)}))},C.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(O){O.addToViewModelCallbacks(v)}))},C.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(O){return O!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(O){O.removeFromViewModelCallbacks(v)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,v){var O=g.split("/");return this.propertyFromPathSegments(O,0,v)},C.prototype.viewModelFromPathSegments=function(g,v){var O=this.internalViewModelInstance(g[v]);return O!==null?v==g.length-1?O:O.viewModelFromPathSegments(g,v++):null},C.prototype.propertyFromPathSegments=function(g,v,O){var W,me,Ie,$e,nt,je,tt,en,fn,un,Dn,On,jt,vn,Un,ri,Di,bt;if(v<g.length-1){var Kn=this.internalViewModelInstance(g[v]);return Kn!==null?Kn.propertyFromPathSegments(g,v+1,O):null}var xt=null;switch(O){case ct.Number:if(xt=(me=(W=this._runtimeInstance)===null||W===void 0?void 0:W.number(g[v]))!==null&&me!==void 0?me:null,xt!==null)return new at(xt,this);break;case ct.String:if(xt=($e=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.string(g[v]))!==null&&$e!==void 0?$e:null,xt!==null)return new yt(xt,this);break;case ct.Boolean:if(xt=(je=(nt=this._runtimeInstance)===null||nt===void 0?void 0:nt.boolean(g[v]))!==null&&je!==void 0?je:null,xt!==null)return new pt(xt,this);break;case ct.Color:if(xt=(en=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.color(g[v]))!==null&&en!==void 0?en:null,xt!==null)return new hi(xt,this);break;case ct.Trigger:if(xt=(un=(fn=this._runtimeInstance)===null||fn===void 0?void 0:fn.trigger(g[v]))!==null&&un!==void 0?un:null,xt!==null)return new Ht(xt,this);break;case ct.Enum:if(xt=(On=(Dn=this._runtimeInstance)===null||Dn===void 0?void 0:Dn.enum(g[v]))!==null&&On!==void 0?On:null,xt!==null)return new Lt(xt,this);break;case ct.List:if(xt=(vn=(jt=this._runtimeInstance)===null||jt===void 0?void 0:jt.list(g[v]))!==null&&vn!==void 0?vn:null,xt!==null)return new Yn(xt,this);break;case ct.Image:if(xt=(ri=(Un=this._runtimeInstance)===null||Un===void 0?void 0:Un.image(g[v]))!==null&&ri!==void 0?ri:null,xt!==null)return new rn(xt,this);break;case ct.Artboard:if(xt=(bt=(Di=this._runtimeInstance)===null||Di===void 0?void 0:Di.artboard(g[v]))!==null&&bt!==void 0?bt:null,xt!==null)return new lt(xt,this);break}return null},C.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var O=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(O!==null){var W=new C(O,this);return(0,w.createFinalization)(W,O),W.internalIncrementReferenceCount(),this._viewModelInstances.set(g,W),W}return null},C.prototype.number=function(g){var v=this.propertyFromPath(g,ct.Number);return v},C.prototype.string=function(g){var v=this.propertyFromPath(g,ct.String);return v},C.prototype.boolean=function(g){var v=this.propertyFromPath(g,ct.Boolean);return v},C.prototype.color=function(g){var v=this.propertyFromPath(g,ct.Color);return v},C.prototype.trigger=function(g){var v=this.propertyFromPath(g,ct.Trigger);return v},C.prototype.enum=function(g){var v=this.propertyFromPath(g,ct.Enum);return v},C.prototype.list=function(g){var v=this.propertyFromPath(g,ct.List);return v},C.prototype.image=function(g){var v=this.propertyFromPath(g,ct.Image);return v},C.prototype.artboard=function(g){var v=this.propertyFromPath(g,ct.Artboard);return v},C.prototype.viewModel=function(g){var v=g.split("/"),O=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return O!=null?O.internalViewModelInstance(v[v.length-1]):null},C.prototype.internalReplaceViewModel=function(g,v){var O;if(v.runtimeInstance!==null){var W=((O=this._runtimeInstance)===null||O===void 0?void 0:O.replaceViewModel(g,v.runtimeInstance))||!1;if(W){v.internalIncrementReferenceCount();var me=this.internalViewModelInstance(g);me!==null&&(me.removeParent(this),this._children.includes(me)&&(this._children=this._children.filter(function(Ie){return Ie!==me})),me.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return W}return!1},C.prototype.replaceViewModel=function(g,v){var O,W=g.split("/"),me=W.length>1?this.viewModelFromPathSegments(W.slice(0,W.length-1),0):this;return(O=me?.internalReplaceViewModel(W[W.length-1],v))!==null&&O!==void 0?O:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return L({},v)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(me){me.cleanup()}),this._viewModelInstances.clear();var O=B([],this._children,!0);this._children.length=0;var W=B([],this._parents,!0);this._parents.length=0,O.forEach(function(me){me.removeParent(g)}),W.forEach(function(me){me.removeFromViewModelCallbacks(g)})}},C})(),Tt=(function(){function C(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),yt=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Tt),at=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Tt),pt=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Tt),Ht=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Tt),Lt=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Tt),Yn=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,O){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,O)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var O=this._viewModelInstanceValue.instanceAt(v);if(O!=null){var W=new dt(O,this._parentViewModel);return(0,w.createFinalization)(W,O),W}return null},g.prototype.swap=function(v,O){this._viewModelInstanceValue.swap(v,O)},g.prototype.internalHandleCallback=function(v){v()},g})(Tt),hi=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,O,W){this._viewModelInstanceValue.rgb(v,O,W)},g.prototype.rgba=function(v,O,W,me){this._viewModelInstanceValue.argb(me,v,O,W)},g.prototype.argb=function(v,O,W,me){this._viewModelInstanceValue.argb(v,O,W,me)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Tt),rn=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var O;this._viewModelInstanceValue.value((O=v?.nativeImage)!==null&&O!==void 0?O:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Tt),lt=(function(C){I(g,C);function g(v,O){return C.call(this,v,O)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var O,W;v.isBindableArtboard?W=v:W=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((O=W?.nativeArtboard)!==null&&O!==void 0?O:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Tt),on=function(C){return H(void 0,void 0,void 0,function(){var g,v,O;return ie(this,function(W){switch(W.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return v=W.sent(),[4,v.arrayBuffer()];case 2:return O=W.sent(),[2,O]}})})},An=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},rr={EventManager:ae,TaskQueueManager:G},Sn=function(C){return H(void 0,void 0,void 0,function(){var g,v,O;return ie(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return We.getInstance(function(Ie){Ie.decodeAudio(C,me)})}),[4,g];case 1:return v=W.sent(),O=new w.AudioWrapper(v),w.finalizationRegistry.register(O,v),[2,O]}})})},Ct=function(C){return H(void 0,void 0,void 0,function(){var g,v,O;return ie(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return We.getInstance(function(Ie){Ie.decodeImage(C,me)})}),[4,g];case 1:return v=W.sent(),O=new w.ImageWrapper(v),w.finalizationRegistry.register(O,v),[2,O]}})})},ln=function(C){return H(void 0,void 0,void 0,function(){var g,v,O;return ie(this,function(W){switch(W.label){case 0:return g=new Promise(function(me){return We.getInstance(function(Ie){Ie.decodeFont(C,me)})}),[4,g];case 1:return v=W.sent(),O=new w.FontWrapper(v),w.finalizationRegistry.register(O,v),[2,O]}})})}})(),c})())})(Sh)),Sh.exports}var v0;function ZT(){return v0||(v0=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=of(),i=JT();function a(x){return x&&typeof x=="object"&&"default"in x?x:{default:x}}var l=a(e),c=function(){return c=Object.assign||function(x){for(var P,R=1,K=arguments.length;R<K;R++)for(var ae in P=arguments[R])Object.prototype.hasOwnProperty.call(P,ae)&&(x[ae]=P[ae]);return x},c.apply(this,arguments)};function p(x,P){var R={};for(var K in x)Object.prototype.hasOwnProperty.call(x,K)&&P.indexOf(K)<0&&(R[K]=x[K]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function"){var ae=0;for(K=Object.getOwnPropertySymbols(x);ae<K.length;ae++)P.indexOf(K[ae])<0&&Object.prototype.propertyIsEnumerable.call(x,K[ae])&&(R[K[ae]]=x[K[ae]])}return R}function b(x,P,R,K){return new(R||(R=Promise))(function(ae,G){function Z(Me){try{fe(K.next(Me))}catch(j){G(j)}}function ve(Me){try{fe(K.throw(Me))}catch(j){G(j)}}function fe(Me){var j;Me.done?ae(Me.value):(j=Me.value,j instanceof R?j:new R(function(re){re(j)})).then(Z,ve)}fe((K=K.apply(x,[])).next())})}function E(x,P){var R,K,ae,G,Z={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return G={next:ve(0),throw:ve(1),return:ve(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function ve(fe){return function(Me){return(function(j){if(R)throw new TypeError("Generator is already executing.");for(;Z;)try{if(R=1,K&&(ae=2&j[0]?K.return:j[0]?K.throw||((ae=K.return)&&ae.call(K),0):K.next)&&!(ae=ae.call(K,j[1])).done)return ae;switch(K=0,ae&&(j=[2&j[0],ae.value]),j[0]){case 0:case 1:ae=j;break;case 4:return Z.label++,{value:j[1],done:!1};case 5:Z.label++,K=j[1],j=[0];continue;case 7:j=Z.ops.pop(),Z.trys.pop();continue;default:if(ae=Z.trys,!((ae=ae.length>0&&ae[ae.length-1])||j[0]!==6&&j[0]!==2)){Z=0;continue}if(j[0]===3&&(!ae||j[1]>ae[0]&&j[1]<ae[3])){Z.label=j[1];break}if(j[0]===6&&Z.label<ae[1]){Z.label=ae[1],ae=j;break}if(ae&&Z.label<ae[2]){Z.label=ae[2],Z.ops.push(j);break}ae[2]&&Z.ops.pop(),Z.trys.pop();continue}j=P.call(x,Z)}catch(re){j=[6,re],K=0}finally{R=ae=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}})([fe,Me])}}}function w(x){var P=x||I(),R=e.useState(P),K=R[0],ae=R[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var G=function(){var ve=x||I();ae(ve)},Z=window.matchMedia("screen and (resolution: ".concat(K,"dppx)"));return Z.hasOwnProperty("addEventListener")?Z.addEventListener("change",G):Z.addListener(G),function(){Z.hasOwnProperty("removeEventListener")?Z.removeEventListener("change",G):Z.removeListener(G)}}},[K,x]),K}function I(){var x=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,x),3)}var L=(function(){function x(){}return x.prototype.observe=function(){},x.prototype.unobserve=function(){},x.prototype.disconnect=function(){},x})(),H=globalThis.ResizeObserver||L,ie=globalThis.ResizeObserver!==void 0,B=!ie;function Oe(x,P){P===void 0&&(P=!0);var R=e.useState({width:0,height:0}),K=R[0],ae=R[1];e.useEffect(function(){if(typeof window<"u"&&P){var Me=function(){ae({width:window.innerWidth,height:window.innerHeight})};return B&&(Me(),window.addEventListener("resize",Me)),function(){return window.removeEventListener("resize",Me)}}},[]);var G,Z,ve,fe=e.useRef(new H((G=function(Me){ie&&ae({width:Me[Me.length-1].contentRect.width,height:Me[Me.length-1].contentRect.height})},Z=0,ve=0,function(){for(var Me=this,j=[],re=0;re<arguments.length;re++)j[re]=arguments[re];clearTimeout(ve),ve=window.setTimeout(function(){return G.apply(Me,j)},Z)})));return e.useEffect(function(){var Me=fe.current;if(P){var j=x.current;return x.current&&ie&&Me.observe(x.current),function(){Me.disconnect(),j&&ie&&Me.unobserve(j)}}Me.disconnect()},[x,fe]),K}var Se={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(x){return Object.assign({},Se,x)}function Pe(x){var P=x.riveLoaded,R=P!==void 0&&P,K=x.canvasElem,ae=x.containerRef,G=x.options,Z=G===void 0?{}:G,ve=x.onCanvasHasResized,fe=x.artboardBounds,Me=Le(Z),j=e.useState({height:0,width:0}),re=j[0],Ce=re.height,we=re.width,xe=j[1],Qe=e.useState({height:0,width:0}),mt=Qe[0],ct=mt.height,dt=mt.width,Tt=Qe[1],yt=e.useState(!0),at=yt[0],pt=yt[1],Ht=Me.fitCanvasToArtboardHeight,Lt=Me.shouldResizeCanvasToContainer,Yn=Me.useDevicePixelRatio,hi=Me.customDevicePixelRatio,rn=Oe(ae,Lt),lt=w(hi),on=fe??{},An=on.maxX,rr=on.maxY,Sn=e.useCallback(function(){var Ct,ln,C,g,v=(ln=(Ct=ae.current)===null||Ct===void 0?void 0:Ct.clientWidth)!==null&&ln!==void 0?ln:0,O=(g=(C=ae.current)===null||C===void 0?void 0:C.clientHeight)!==null&&g!==void 0?g:0;return Ht&&fe?{width:v,height:v*(fe.maxY/fe.maxX)}:{width:v,height:O}},[ae,Ht,An,rr]);e.useEffect(function(){if(Lt&&ae.current&&R){var Ct=Sn(),ln=Ct.width,C=Ct.height,g=!1;if(K){var v=ln!==we||C!==Ce;if(Me.fitCanvasToArtboardHeight&&v&&(ae.current.style.height=C+"px",g=!0),Me.useDevicePixelRatio){if(v||ln*lt!==dt||C*lt!==ct){var O=lt*ln,W=lt*C;K.width=O,K.height=W,K.style.width=ln+"px",K.style.height=C+"px",Tt({width:O,height:W}),g=!0}}else v&&(K.width=ln,K.height=C,Tt({width:ln,height:C}),g=!0);xe({width:ln,height:C})}ve&&(at||g)&&ve&&ve(),at&&pt(!1)}},[K,ae,rn,lt,Sn,at,pt,ct,dt,Ce,we,ve,Lt,Ht,Yn,R]),e.useEffect(function(){Tt({width:0,height:0})},[K])}var Fe,We=(function(){function x(){}return x.prototype.observe=function(){},x.prototype.unobserve=function(){},x.prototype.disconnect=function(){},x})(),Ue=globalThis.IntersectionObserver||We,vt=(function(){function x(){var P=this;this.elementsMap=new Map,this.onObserved=function(R){R.forEach(function(K){var ae=P.elementsMap.get(K.target);ae&&ae(K)})},this.observer=new Ue(this.onObserved)}return x.prototype.registerCallback=function(P,R){this.observer.observe(P),this.elementsMap.set(P,R)},x.prototype.removeCallback=function(P){this.observer.unobserve(P),this.elementsMap.delete(P)},x})(),q=function(){return Fe||(Fe=new vt),Fe};function U(x){var P=x.setContainerRef,R=x.setCanvasRef,K=x.className,ae=K===void 0?"":K,G=x.style,Z=x.children,ve=p(x,["setContainerRef","setCanvasRef","className","style","children"]),fe=c({width:"100%",height:"100%"},G);return l.default.createElement("div",c({ref:P,className:ae},!ae&&{style:fe}),l.default.createElement("canvas",c({ref:R,style:{verticalAlign:"top",width:0,height:0}},ve),Z))}function V(x,P){P===void 0&&(P={});var R=e.useState(null),K=R[0],ae=R[1],G=e.useRef(null),Z=e.useRef(null),ve=e.useState(null),fe=ve[0],Me=ve[1],j=!!x,re=Le(P),Ce=w(),we=e.useCallback(function(){if(fe){if(fe.layout&&fe.layout.fit===i.Fit.Layout&&K){var at=Ce*fe.layout.layoutScaleFactor;fe.devicePixelRatioUsed=Ce,fe.artboardWidth=K?.width/at,fe.artboardHeight=K?.height/at}fe.startRendering(),fe.resizeToCanvas()}},[fe,Ce]);Pe({riveLoaded:!!fe,canvasElem:K,containerRef:G,options:re,onCanvasHasResized:we,artboardBounds:fe?.bounds});var xe=e.useCallback(function(at){at===null&&K&&(K.height=0,K.width=0),ae(at)},[]);e.useEffect(function(){if(K&&x){var at,pt=fe!=null;if(fe==null){var Ht=re.useOffscreenRenderer,Lt=x.onRiveReady,Yn=p(x,["onRiveReady"]);at=new i.Rive(c(c({useOffscreenRenderer:Ht},Yn),{canvas:K})),Z.current!=null&&Z.current.cleanup(),Z.current=at,at.on(i.EventType.Load,function(){pt=!0,Lt&&Lt(at),K?Me(at):at.cleanup()})}return function(){pt||at==null||at.cleanup()}}},[K,j,fe]);var Qe=e.useCallback(function(at){G.current=at},[]),mt={observe:e.useCallback(function(at,pt){q().registerCallback(at,pt)},[]),unobserve:e.useCallback(function(at){q().removeCallback(at)},[])},ct=mt.observe,dt=mt.unobserve;e.useEffect(function(){var at,pt=!1,Ht=function(){if(K&&pt){var Lt=K.getBoundingClientRect();Lt.width>0&&Lt.height>0&&Lt.top<(window.innerHeight||document.documentElement.clientHeight)&&Lt.bottom>0&&Lt.left<(window.innerWidth||document.documentElement.clientWidth)&&Lt.right>0&&(fe?.startRendering(),pt=!1)}};return K&&re.shouldUseIntersectionObserver!==!1&&ct(K,function(Lt){Lt.isIntersecting?fe&&fe.startRendering():fe&&fe.stopRendering(),pt=!Lt.isIntersecting,clearTimeout(at),Lt.isIntersecting||Lt.boundingClientRect.width!==0||(at=setTimeout(Ht,10))}),function(){K&&dt(K)}},[ct,dt,fe,K,re.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){fe&&(fe.cleanup(),Me(null))}},[fe,K]),e.useEffect(function(){return function(){Z.current!=null&&Z.current.cleanup()}},[]);var Tt=x?.animations;e.useEffect(function(){fe&&Tt&&(fe.isPlaying?(fe.stop(fe.animationNames),fe.play(Tt)):fe.isPaused&&(fe.stop(fe.animationNames),fe.pause(Tt)))},[Tt,fe]);var yt=e.useCallback(function(at){return l.default.createElement(U,c({setContainerRef:Qe,setCanvasRef:xe},at))},[xe,Qe]);return{canvas:K,container:G.current,setCanvasRef:xe,setContainerRef:Qe,rive:fe,RiveComponent:yt}}function F(x,P,R){var K=e.useState(null),ae=K[0],G=K[1],Z=e.useState(R.defaultValue),ve=Z[0],fe=Z[1],Me=e.useState(null),j=Me[0],re=Me[1],Ce=e.useRef(null),we=e.useRef(x),xe=e.useRef(R);e.useEffect(function(){xe.current=R},[R]);var Qe=e.useCallback(function(){var Tt=Ce.current,yt=we.current,at=xe.current;if(!Tt||!yt)return G(null),fe(at.defaultValue),re(null),function(){};var pt=at.getProperty(Tt,yt);if(pt){G(pt),fe(at.getValue(pt)),at.getExtendedData&&re(at.getExtendedData(pt));var Ht=function(){fe(at.getValue(pt)),at.getExtendedData&&re(at.getExtendedData(pt)),at.onPropertyEvent&&at.onPropertyEvent()};return pt.on(Ht),function(){pt.off(Ht)}}return function(){}},[]);e.useEffect(function(){return Ce.current=P,we.current=x,Qe()},[P,x,Qe]);var mt=e.useCallback(function(Tt){if(ae&&Ce.current===P)try{return Tt(ae),void(xe.current.getExtendedData&&re(xe.current.getExtendedData(ae)))}catch{}if(Ce.current)try{var yt=xe.current.getProperty(Ce.current,we.current);yt&&(G(yt),Tt(yt),xe.current.getExtendedData&&re(xe.current.getExtendedData(yt)))}catch{}},[ae,P]),ct=e.useMemo(function(){return xe.current.buildPropertyOperations(mt)},[mt]),dt=c({value:ve},ct);return R.getExtendedData&&(dt.extendedData=j),dt}r.default=function(x){var P=x.src,R=x.artboard,K=x.animations,ae=x.stateMachines,G=x.layout,Z=x.useOffscreenRenderer,ve=Z===void 0||Z,fe=x.shouldDisableRiveListeners,Me=fe!==void 0&&fe,j=x.shouldResizeCanvasToContainer,re=j===void 0||j,Ce=x.automaticallyHandleEvents,we=Ce!==void 0&&Ce,xe=x.children,Qe=p(x,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),mt=V({src:P,artboard:R,animations:K,layout:G,stateMachines:ae,autoplay:!0,shouldDisableRiveListeners:Me,automaticallyHandleEvents:we},{useOffscreenRenderer:ve,shouldResizeCanvasToContainer:re}).RiveComponent;return l.default.createElement(mt,c({},Qe),xe)},r.useResizeCanvas=Pe,r.useRive=V,r.useRiveFile=function(x){var P=this,R=e.useState(null),K=R[0],ae=R[1],G=e.useState("idle"),Z=G[0],ve=G[1];return e.useEffect(function(){var fe=null;return b(P,void 0,void 0,function(){return E(this,function(Me){try{ve("loading"),(fe=new i.RiveFile(x)).init(),fe.on(i.EventType.Load,function(){fe?.getInstance(),ae(fe),ve("success")}),fe.on(i.EventType.LoadError,function(){ve("failed")}),ae(fe)}catch(j){console.error(j),ve("failed")}return[2]})}),function(){fe?.cleanup()}},[x.src,x.buffer]),{riveFile:K,status:Z}},r.useStateMachineInput=function(x,P,R,K){var ae=e.useState(null),G=ae[0],Z=ae[1];return e.useEffect(function(){function ve(){if(x&&P&&R||Z(null),x&&P&&R){var fe=x.stateMachineInputs(P);if(fe){var Me=fe.find(function(j){return j.name===R});K!==void 0&&Me&&(Me.value=K),Z(Me||null)}}else Z(null)}ve(),x&&x.on(i.EventType.Load,function(){ve()})},[x]),G},r.useViewModel=function(x,P){var R=P??{},K=R.name,ae=R.useDefault,G=ae!==void 0&&ae,Z=e.useState(null),ve=Z[0],fe=Z[1];return e.useEffect(function(){function Me(){var j;if(x){var re=null;re=K!=null?((j=x.viewModelByName)===null||j===void 0?void 0:j.call(x,K))||null:x.defaultViewModel()||null,fe(re)}else fe(null)}return Me(),x&&x.on(i.EventType.Load,Me),function(){x&&x.off(i.EventType.Load,Me)}},[x,K,G]),ve},r.useViewModelInstance=function(x,P){var R=P??{},K=R.name,ae=R.useDefault,G=ae!==void 0&&ae,Z=R.useNew,ve=Z!==void 0&&Z,fe=R.rive,Me=e.useState(null),j=Me[0],re=Me[1];return e.useEffect(function(){var Ce,we,xe;if(x){var Qe=null;Qe=K!=null?x.instanceByName(K)||null:G?((Ce=x.defaultInstance)===null||Ce===void 0?void 0:Ce.call(x))||null:ve?((we=x.instance)===null||we===void 0?void 0:we.call(x))||null:((xe=x.defaultInstance)===null||xe===void 0?void 0:xe.call(x))||null,re(Qe),fe&&Qe&&fe.viewModelInstance!==Qe&&fe.bindViewModelInstance(Qe)}else re(null)},[x,K,G,ve,fe]),j},r.useViewModelInstanceArtboard=function(x,P){return{setValue:F(x,P,{getProperty:e.useCallback(function(R,K){return R.artboard(K)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function(K){R(function(ae){ae.value=K})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(x,P){var R=F(x,P,{getProperty:e.useCallback(function(K,ae){return K.boolean(ae)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(ae){K(function(G){G.value=ae})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceColor=function(x,P){var R=F(x,P,{getProperty:e.useCallback(function(K,ae){return K.color(ae)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(ae){K(function(G){G.value=ae})},setRgb:function(ae,G,Z){K(function(ve){ve.rgb(ae,G,Z)})},setRgba:function(ae,G,Z,ve){K(function(fe){fe.rgba(ae,G,Z,ve)})},setAlpha:function(ae){K(function(G){G.alpha(ae)})},setOpacity:function(ae){K(function(G){G.opacity(ae)})}}},[])});return{value:R.value,setValue:R.setValue,setRgb:R.setRgb,setRgba:R.setRgba,setAlpha:R.setAlpha,setOpacity:R.setOpacity}},r.useViewModelInstanceEnum=function(x,P){var R=F(x,P,{getProperty:e.useCallback(function(K,ae){return K.enum(ae)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(K){return K.values},[]),buildPropertyOperations:e.useCallback(function(K){return{setValue:function(ae){K(function(G){G.value=ae})}}},[])});return{value:R.value,values:R.extendedData||[],setValue:R.setValue}},r.useViewModelInstanceImage=function(x,P){return{setValue:F(x,P,{getProperty:e.useCallback(function(R,K){return R.image(K)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(R){return{setValue:function(K){R(function(ae){ae.value=K})}}},[])}).setValue}},r.useViewModelInstanceList=function(x,P){var R,K=e.useState(0)[1],ae=F(x,P,{getProperty:e.useCallback(function(G,Z){return G.list(Z)},[]),getValue:e.useCallback(function(G){return G.length},[]),defaultValue:null,onPropertyEvent:function(){K(function(G){return G+1})},buildPropertyOperations:e.useCallback(function(G){return{addInstance:function(Z){G(function(ve){return ve.addInstance(Z)})},addInstanceAt:function(Z,ve){var fe=!1;return G(function(Me){fe=Me.addInstanceAt(Z,ve)}),fe},removeInstance:function(Z){G(function(ve){return ve.removeInstance(Z)})},removeInstanceAt:function(Z){G(function(ve){return ve.removeInstanceAt(Z)})},getInstanceAt:function(Z){var ve=null;return G(function(fe){ve=fe.instanceAt(Z)}),ve},swap:function(Z,ve){G(function(fe){return fe.swap(Z,ve)})}}},[])});return{length:(R=ae.value)!==null&&R!==void 0?R:0,addInstance:ae.addInstance,addInstanceAt:ae.addInstanceAt,removeInstance:ae.removeInstance,removeInstanceAt:ae.removeInstanceAt,getInstanceAt:ae.getInstanceAt,swap:ae.swap}},r.useViewModelInstanceNumber=function(x,P){var R=F(x,P,{getProperty:e.useCallback(function(K,ae){return K.number(ae)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(ae){K(function(G){G.value=ae})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceString=function(x,P){var R=F(x,P,{getProperty:e.useCallback(function(K,ae){return K.string(ae)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(ae){K(function(G){G.value=ae})}}},[])});return{value:R.value,setValue:R.setValue}},r.useViewModelInstanceTrigger=function(x,P,R){var K=(R??{}).onTrigger;return{trigger:F(x,P,{getProperty:e.useCallback(function(ae,G){return ae.trigger(G)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:K,buildPropertyOperations:e.useCallback(function(ae){return{trigger:function(){ae(function(G){G.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(x){x==="default"||r.hasOwnProperty(x)||Object.defineProperty(r,x,{enumerable:!0,get:function(){return i[x]}})})})(Em)),Em}var so=ZT();const eA=()=>{};var _0={};const eb=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},tA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(E>>10)),e[a++]=String.fromCharCode(56320+(E&1023))}else{const c=r[i++],p=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,E=l+2<r.length,w=E?r[l+2]:0,I=c>>2,L=(c&3)<<4|b>>4;let H=(b&15)<<2|w>>6,ie=w&63;E||(ie=64,p||(H=64)),a.push(i[I],i[L],i[H],i[ie])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(eb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const w=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||w==null||L==null)throw new nA;const H=c<<2|b>>4;if(a.push(H),w!==64){const ie=b<<4&240|w>>2;if(a.push(ie),L!==64){const B=w<<6&192|L;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iA=function(r){const e=eb(r);return tb.encodeByteArray(e,!0)},jh=function(r){return iA(r).replace(/\./g,"")},nb=function(r){try{return tb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aA=()=>rA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof _0>"u")return;const r=_0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&nb(r[1]);return e&&JSON.parse(e)},lf=()=>{try{return eA()||aA()||sA()||oA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ib=r=>lf()?.emulatorHosts?.[r],lA=r=>{const e=ib(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},rb=()=>lf()?.config,ab=r=>lf()?.[`_${r}`];class uA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(r){return(await fetch(r,{credentials:"include"})).ok}function cA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jh(JSON.stringify(i)),jh(JSON.stringify(p)),""].join(".")}const Fu={};function hA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function fA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let b0=!1;function ob(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||Fu[r]===e||Fu[r]||b0)return;Fu[r]=e;function i(H){return`__firebase__banner__${H}`}const a="__firebase__banner",c=hA().prod.length>0;function p(){const H=document.getElementById(a);H&&H.remove()}function b(H){H.style.display="flex",H.style.background="#7faaf0",H.style.position="fixed",H.style.bottom="5px",H.style.left="5px",H.style.padding=".5em",H.style.borderRadius="5px",H.style.alignItems="center"}function E(H,ie){H.setAttribute("width","24"),H.setAttribute("id",ie),H.setAttribute("height","24"),H.setAttribute("viewBox","0 0 24 24"),H.setAttribute("fill","none"),H.style.marginLeft="-6px"}function w(){const H=document.createElement("span");return H.style.cursor="pointer",H.style.marginLeft="16px",H.style.fontSize="24px",H.innerHTML=" &times;",H.onclick=()=>{b0=!0,p()},H}function I(H,ie){H.setAttribute("id",ie),H.innerText="Learn more",H.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",H.setAttribute("target","__blank"),H.style.paddingLeft="5px",H.style.textDecoration="underline"}function L(){const H=fA(a),ie=i("text"),B=document.getElementById(ie)||document.createElement("span"),Oe=i("learnmore"),Se=document.getElementById(Oe)||document.createElement("a"),Le=i("preprendIcon"),Pe=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(H.created){const Fe=H.element;b(Fe),I(Se,Oe);const We=w();E(Pe,Le),Fe.append(Pe,B,Se,We),document.body.appendChild(Fe)}c?(B.innerText="Preview backend disconnected.",Pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",ie)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function mA(){const r=lf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const r=ir();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _A(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const EA="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=EA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?TA(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Rs(l,b,a)}}function TA(r,e){return r.replace(AA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const AA=/\{\$([^}]+)}/g;function SA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zo(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],p=e[l];if(w0(c)&&w0(p)){if(!zo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function w0(r){return r!==null&&typeof r=="object"}function ac(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function CA(r,e){const i=new RA(r,e);return i.subscribe.bind(i)}class RA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");xA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Tm),l.error===void 0&&(l.error=Tm),l.complete===void 0&&(l.complete=Tm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Tm(){}function Yr(r){return r&&r._delegate?r._delegate:r}class Bo{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class IA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new uA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===jo?void 0:r}function NA(r){return r.instantiationMode==="EAGER"}class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var $t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($t||($t={}));const OA={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},kA=$t.INFO,VA={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},PA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=VA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=kA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const LA=(r,e)=>e.some(i=>r instanceof i);let E0,T0;function jA(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Um=new WeakMap,ub=new WeakMap,Am=new WeakMap,fp=new WeakMap;function zA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(lo(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&lb.set(i,r)}).catch(()=>{}),fp.set(e,r),e}function BA(r){if(Um.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Um.set(r,e)}let zm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ub.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lo(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FA(r){zm=r(zm)}function HA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Sm(this),e,...i);return ub.set(a,e.sort?e.sort():[e]),lo(a)}:UA().includes(r)?function(...e){return r.apply(Sm(this),e),lo(lb.get(this))}:function(...e){return lo(r.apply(Sm(this),e))}}function qA(r){return typeof r=="function"?HA(r):(r instanceof IDBTransaction&&BA(r),LA(r,jA())?new Proxy(r,zm):r)}function lo(r){if(r instanceof IDBRequest)return zA(r);if(Am.has(r))return Am.get(r);const e=qA(r);return e!==r&&(Am.set(r,e),fp.set(e,r)),e}const Sm=r=>fp.get(r);function GA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=lo(p);return a&&p.addEventListener("upgradeneeded",E=>{a(lo(p.result),E.oldVersion,E.newVersion,lo(p.transaction),E)}),i&&p.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const YA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],Cm=new Map;function A0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=XA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||YA.includes(i)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return a&&(w=w.index(b.shift())),(await Promise.all([w[i](...b),l&&E.done]))[0]};return Cm.set(e,c),c}FA(r=>({...r,get:(e,i,a)=>A0(e,i)||r.get(e,i,a),has:(e,i)=>!!A0(e,i)||r.has(e,i)}));class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function KA(r){return r.getComponent()?.type==="VERSION"}const Bm="@firebase/app",S0="0.14.6";const ws=new hp("@firebase/app"),WA="@firebase/app-compat",$A="@firebase/analytics-compat",JA="@firebase/analytics",ZA="@firebase/app-check-compat",eS="@firebase/app-check",tS="@firebase/auth",nS="@firebase/auth-compat",iS="@firebase/database",rS="@firebase/data-connect",aS="@firebase/database-compat",sS="@firebase/functions",oS="@firebase/functions-compat",lS="@firebase/installations",uS="@firebase/installations-compat",cS="@firebase/messaging",hS="@firebase/messaging-compat",fS="@firebase/performance",dS="@firebase/performance-compat",mS="@firebase/remote-config",pS="@firebase/remote-config-compat",gS="@firebase/storage",yS="@firebase/storage-compat",vS="@firebase/firestore",_S="@firebase/ai",bS="@firebase/firestore-compat",wS="firebase",ES="12.6.0";const Fm="[DEFAULT]",TS={[Bm]:"fire-core",[WA]:"fire-core-compat",[JA]:"fire-analytics",[$A]:"fire-analytics-compat",[eS]:"fire-app-check",[ZA]:"fire-app-check-compat",[tS]:"fire-auth",[nS]:"fire-auth-compat",[iS]:"fire-rtdb",[rS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[sS]:"fire-fn",[oS]:"fire-fn-compat",[lS]:"fire-iid",[uS]:"fire-iid-compat",[cS]:"fire-fcm",[hS]:"fire-fcm-compat",[fS]:"fire-perf",[dS]:"fire-perf-compat",[mS]:"fire-rc",[pS]:"fire-rc-compat",[gS]:"fire-gcs",[yS]:"fire-gcs-compat",[vS]:"fire-fst",[bS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[wS]:"fire-js-all"};const Uh=new Map,AS=new Map,Hm=new Map;function C0(r,e){try{r.container.addComponent(e)}catch(i){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function zl(r){const e=r.name;if(Hm.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const i of Uh.values())C0(i,r);for(const i of AS.values())C0(i,r);return!0}function dp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ha(r){return r==null?!1:r.settings!==void 0}const SS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new rc("app","Firebase",SS);class CS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Ql=ES;function cb(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Fm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(i||(i=rb()),!i)throw uo.create("no-options");const c=Uh.get(l);if(c){if(zo(i,c.options)&&zo(a,c.config))return c;throw uo.create("duplicate-app",{appName:l})}const p=new DA(l);for(const E of Hm.values())p.addComponent(E);const b=new CS(i,a,p);return Uh.set(l,b),b}function hb(r=Fm){const e=Uh.get(r);if(!e&&r===Fm&&rb())return cb();if(!e)throw uo.create("no-app",{appName:r});return e}function co(r,e,i){let a=TS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(p.join(" "));return}zl(new Bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const RS="firebase-heartbeat-database",xS=1,Ku="firebase-heartbeat-store";let Rm=null;function fb(){return Rm||(Rm=GA(RS,xS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ku)}catch(i){console.warn(i)}}}}).catch(r=>{throw uo.create("idb-open",{originalErrorMessage:r.message})})),Rm}async function IS(r){try{const i=(await fb()).transaction(Ku),a=await i.objectStore(Ku).get(db(r));return await i.done,a}catch(e){if(e instanceof Rs)ws.warn(e.message);else{const i=uo.create("idb-get",{originalErrorMessage:e?.message});ws.warn(i.message)}}}async function R0(r,e){try{const a=(await fb()).transaction(Ku,"readwrite");await a.objectStore(Ku).put(e,db(r)),await a.done}catch(i){if(i instanceof Rs)ws.warn(i.message);else{const a=uo.create("idb-set",{originalErrorMessage:i?.message});ws.warn(a.message)}}}function db(r){return`${r.name}!${r.options.appId}`}const MS=1024,NS=30;class DS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=x0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NS){const l=VS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x0(),{heartbeatsToSend:i,unsentEntries:a}=OS(this._heartbeatsCache.heartbeats),l=jh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ws.warn(e),""}}}function x0(){return new Date().toISOString().substring(0,10)}function OS(r,e=MS){const i=[];let a=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),I0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),I0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function I0(r){return jh(JSON.stringify({version:2,heartbeats:r})).length}function VS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function PS(r){zl(new Bo("platform-logger",e=>new QA(e),"PRIVATE")),zl(new Bo("heartbeat",e=>new DS(e),"PRIVATE")),co(Bm,S0,r),co(Bm,S0,"esm2020"),co("fire-js","")}PS("");var LS="firebase",jS="12.6.0";co(LS,jS,"app");function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const US=mb,pb=new rc("auth","Firebase",mb());const zh=new hp("@firebase/auth");function zS(r,...e){zh.logLevel<=$t.WARN&&zh.warn(`Auth (${Ql}): ${r}`,...e)}function Ch(r,...e){zh.logLevel<=$t.ERROR&&zh.error(`Auth (${Ql}): ${r}`,...e)}function Es(r,...e){throw mp(r,...e)}function La(r,...e){return mp(r,...e)}function gb(r,e,i){const a={...US(),[e]:i};return new rc("auth","Firebase",a).create(e,{appName:r.name})}function _s(r){return gb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return pb.create(r,...e)}function Rt(r,e,...i){if(!r)throw mp(e,...i)}function ys(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ch(e),new Error(e)}function Ts(r,e){r||ys(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function BS(){return M0()==="http:"||M0()==="https:"}function M0(){return typeof self<"u"&&self.location?.protocol||null}function FS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BS()||gA()||"connection"in navigator)?navigator.onLine:!0}function HS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class sc{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ts(i>e,"Short delay should be less than long delay!"),this.isMobile=dA()||yA()}get(){return FS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(r,e){Ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class yb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YS=new sc(3e4,6e4);function oc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Kl(r,e,i,a,l={}){return vb(r,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=ac({key:r.config.apiKey,...p}).slice(1),E=await r._getAdditionalHeaders();E["Content-Type"]="application/json",r.languageCode&&(E["X-Firebase-Locale"]=r.languageCode);const w={method:e,headers:E,...c};return pA()||(w.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(w.credentials="include"),yb.fetch()(await _b(r,r.config.apiHost,i,b),w)})}async function vb(r,e,i){r._canInitEmulator=!1;const a={...qS,...e};try{const l=new XS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw yh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(r,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw yh(r,"email-already-in-use",p);if(E==="USER_DISABLED")throw yh(r,"user-disabled",p);const I=a[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw gb(r,I,w);Es(r,I)}}catch(l){if(l instanceof Rs)throw l;Es(r,"network-request-failed",{message:String(l)})}}async function gp(r,e,i,a,l={}){const c=await Kl(r,e,i,a,l);return"mfaPendingCredential"in c&&Es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function _b(r,e,i,a){const l=`${e}${i}?${a}`,c=r,p=c.config.emulator?pp(r.config,l):`${r.config.apiScheme}://${l}`;return GS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class XS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(La(this.auth,"network-request-failed")),YS.get())})}}function yh(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=La(r,e,a);return l.customData._tokenResponse=i,l}async function QS(r,e){return Kl(r,"POST","/v1/accounts:delete",e)}async function Bh(r,e){return Kl(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KS(r,e=!1){const i=Yr(r),a=await i.getIdToken(e),l=yp(a);Rt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:Hu(xm(l.auth_time)),issuedAtTime:Hu(xm(l.iat)),expirationTime:Hu(xm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function yp(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=nb(i);return l?JSON.parse(l):(Ch("Failed to decode base64 JWT payload"),null)}catch(l){return Ch("Caught error parsing JWT payload as JSON",l?.toString()),null}}function N0(r){const e=yp(r);return Rt(e,"internal-error"),Rt(typeof e.exp<"u","internal-error"),Rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Rs&&WS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $S{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fh(r){const e=r.auth,i=await r.getIdToken(),a=await Wu(r,Bh(e,{idToken:i}));Rt(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?bb(l.providerUserInfo):[],p=ZS(r.providerData,c),b=r.isAnonymous,E=!(r.email&&l.passwordHash)&&!p?.length,w=b?E:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,I)}async function JS(r){const e=Yr(r);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function bb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function e2(r,e){const i=await vb(r,{},async()=>{const a=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await _b(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:a};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(E.credentials="include"),yb.fetch()(p,E)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function t2(r,e){return Kl(r,"POST","/v2/accounts:revokeToken",oc(r,e))}class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rt(e.idToken,"internal-error"),Rt(typeof e.idToken<"u","internal-error"),Rt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Rt(e.length!==0,"internal-error");const i=N0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await e2(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,p=new kl;return a&&(Rt(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(Rt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(Rt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return ys("not implemented")}}function to(r,e){Rt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ea{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return Rt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return KS(this,e)}reload(){return JS(this)}_assign(e){this!==e&&(Rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Fh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Wu(this,QS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,E=i._redirectEventId??void 0,w=i.createdAt??void 0,I=i.lastLoginAt??void 0,{uid:L,emailVerified:H,isAnonymous:ie,providerData:B,stsTokenManager:Oe}=i;Rt(L&&Oe,e,"internal-error");const Se=kl.fromJSON(this.name,Oe);Rt(typeof L=="string",e,"internal-error"),to(a,e.name),to(l,e.name),Rt(typeof H=="boolean",e,"internal-error"),Rt(typeof ie=="boolean",e,"internal-error"),to(c,e.name),to(p,e.name),to(b,e.name),to(E,e.name),to(w,e.name),to(I,e.name);const Le=new Ea({uid:L,auth:e,email:l,emailVerified:H,displayName:a,isAnonymous:ie,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Se,createdAt:w,lastLoginAt:I});return B&&Array.isArray(B)&&(Le.providerData=B.map(Pe=>({...Pe}))),E&&(Le._redirectEventId=E),Le}static async _fromIdTokenResponse(e,i,a=!1){const l=new kl;l.updateFromServerResponse(i);const c=new Ea({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Fh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Rt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?bb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new kl;b.updateFromIdToken(a);const E=new Ea({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const D0=new Map;function vs(r){Ts(r instanceof Function,"Expected a class definition");let e=D0.get(r);return e?(Ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,D0.set(r,e),e)}class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}wb.type="NONE";const O0=wb;function Rh(r,e,i){return`firebase:${r}:${e}:${i}`}class Vl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Bh(this.auth,{idToken:e}).catch(()=>{});return i?Ea._fromGetAccountInfoResponse(this.auth,i,e):null}return Ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Vl(vs(O0),e,a);const l=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||vs(O0);const p=Rh(a,e.config.apiKey,e.name);let b=null;for(const w of i)try{const I=await w._get(p);if(I){let L;if(typeof I=="string"){const H=await Bh(e,{idToken:I}).catch(()=>{});if(!H)break;L=await Ea._fromGetAccountInfoResponse(e,H,I)}else L=Ea._fromJSON(e,I);w!==c&&(b=L),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new Vl(c,e,a):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new Vl(c,e,a))}}function k0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rb(e))return"Blackberry";if(xb(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Ab(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Eb(r=ir()){return/firefox\//i.test(r)}function Tb(r=ir()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ab(r=ir()){return/crios\//i.test(r)}function Sb(r=ir()){return/iemobile/i.test(r)}function Cb(r=ir()){return/android/i.test(r)}function Rb(r=ir()){return/blackberry/i.test(r)}function xb(r=ir()){return/webos/i.test(r)}function vp(r=ir()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function n2(r=ir()){return vp(r)&&!!window.navigator?.standalone}function i2(){return vA()&&document.documentMode===10}function Ib(r=ir()){return vp(r)||Cb(r)||xb(r)||Rb(r)||/windows phone/i.test(r)||Sb(r)}function Mb(r,e=[]){let i;switch(r){case"Browser":i=k0(ir());break;case"Worker":i=`${k0(ir())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ql}/${a}`}class r2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function a2(r,e={}){return Kl(r,"GET","/v2/passwordPolicy",oc(r,e))}const s2=6;class o2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??s2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class l2{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new r2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Bh(this,{idToken:e}),a=await Ea._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ha(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(_s(this));const i=e?Yr(e):null;return i&&Rt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a2(this),i=new o2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rc("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await t2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;Rt(i,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const E=e.addObserver(i,a,l);return()=>{p=!0,E()}}else{const E=e.addObserver(i);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function lc(r){return Yr(r)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=CA(i=>this.observer=i)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(r){_p=r}function c2(r){return _p.loadJS(r)}function h2(){return _p.gapiScript}function f2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function d2(r,e){const i=dp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zo(c,e??{}))return l;Es(l,"already-initialized")}return i.initialize({options:e})}function m2(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function p2(r,e,i){const a=lc(r);Rt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Nb(e),{host:p,port:b}=g2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},I=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Rt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Rt(zo(w,a.config.emulator)&&zo(I,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=w,a.emulatorConfig=I,a.settings.appVerificationDisabledForTesting=!0,Xl(p)?(sb(`${c}//${p}${E}`),ob("Auth",!0)):y2()}function Nb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function g2(r){const e=Nb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:P0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:P0(p)}}}function P0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function y2(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Db{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,i){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function Pl(r,e){return gp(r,"POST","/v1/accounts:signInWithIdp",oc(r,e))}const v2="http://localhost";class Fo extends Db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const p=new Fo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Pl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Pl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Pl(e,i)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ac(i)}return e}}class Ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uc extends Ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class no extends uc{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";class io extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return io.credential(i,a)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";class ro extends uc{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";class ao extends uc{constructor(){super("twitter.com")}static credential(e,i){return Fo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ao.credential(i,a)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";async function _2(r,e){return gp(r,"POST","/v1/accounts:signUp",oc(r,e))}class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Ea._fromIdTokenResponse(e,a,l),p=L0(a);return new As({user:c,providerId:p,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=L0(a);return new As({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function L0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function b2(r){if(ha(r.app))return Promise.reject(_s(r));const e=lc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new As({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await _2(e,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Hh extends Rs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Hh(e,i,a,l)}}function kb(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(r,c,e,a):c})}async function w2(r,e,i=!1){const a=await Wu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return As._forOperation(r,"link",a)}async function E2(r,e,i=!1){const{auth:a}=r;if(ha(a.app))return Promise.reject(_s(a));const l="reauthenticate";try{const c=await Wu(r,kb(a,l,e,r),i);Rt(c.idToken,a,"internal-error");const p=yp(c.idToken);Rt(p,a,"internal-error");const{sub:b}=p;return Rt(r.uid===b,a,"user-mismatch"),As._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(a,"user-mismatch"),c}}async function T2(r,e,i=!1){if(ha(r.app))return Promise.reject(_s(r));const a="signIn",l=await kb(r,a,e),c=await As._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function A2(r,e){return gp(r,"POST","/v1/accounts:signInWithCustomToken",oc(r,e))}async function S2(r,e){if(ha(r.app))return Promise.reject(_s(r));const i=lc(r),a=await A2(i,{token:e,returnSecureToken:!0}),l=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function C2(r,e,i,a){return Yr(r).onIdTokenChanged(e,i,a)}function R2(r,e,i){return Yr(r).beforeAuthStateChanged(e,i)}function x2(r,e,i,a){return Yr(r).onAuthStateChanged(e,i,a)}const qh="__sak";class Vb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const I2=1e3,M2=10;class Pb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!i&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);i2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,M2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pb.type="LOCAL";const N2=Pb;class Lb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Lb.type="SESSION";const jb=Lb;function D2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new uf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async w=>w(i.origin,c)),E=await D2(b);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:E})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];function bp(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class O2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=bp("",20);l.port1.start();const I=setTimeout(()=>{E(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(L){const H=L;if(H.data.eventId===w)switch(H.data.status){case"ack":clearTimeout(I),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(H.data.response);break;default:clearTimeout(I),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function ja(){return window}function k2(r){ja().location.href=r}function Ub(){return typeof ja().WorkerGlobalScope<"u"&&typeof ja().importScripts=="function"}async function V2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P2(){return navigator?.serviceWorker?.controller||null}function L2(){return Ub()?self:null}const zb="firebaseLocalStorageDb",j2=1,Gh="firebaseLocalStorage",Bb="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function cf(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function U2(){const r=indexedDB.deleteDatabase(zb);return new cc(r).toPromise()}function Ym(){const r=indexedDB.open(zb,j2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Gh,{keyPath:Bb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Gh)?e(a):(a.close(),await U2(),e(await Ym()))})})}async function j0(r,e,i){const a=cf(r,!0).put({[Bb]:e,value:i});return new cc(a).toPromise()}async function z2(r,e){const i=cf(r,!1).get(e),a=await new cc(i).toPromise();return a===void 0?null:a.value}function U0(r,e){const i=cf(r,!0).delete(e);return new cc(i).toPromise()}const B2=800,F2=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>F2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(L2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V2(),!this.activeServiceWorker)return;this.sender=new O2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await j0(e,qh,"1"),await U0(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>j0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>z2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>U0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=cf(l,!1).getAll();return new cc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const H2=Fb;new sc(3e4,6e4);function q2(r,e){return e?vs(e):(Rt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends Db{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Pl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function G2(r){return T2(r.auth,new wp(r),r.bypassAuthState)}function Y2(r){const{auth:e,user:i}=r;return Rt(i,e,"internal-error"),E2(i,new wp(r),r.bypassAuthState)}async function X2(r){const{auth:e,user:i}=r;return Rt(i,e,"internal-error"),w2(i,new wp(r),r.bypassAuthState)}class Hb{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G2;case"linkViaPopup":case"linkViaRedirect":return X2;case"reauthViaPopup":case"reauthViaRedirect":return Y2;default:Es(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Q2=new sc(2e3,1e4);class Dl extends Hb{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rt(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(La(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(La(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(La(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q2.get())};e()}}Dl.currentPopupAction=null;const K2="pendingRedirect",xh=new Map;class W2 extends Hb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const a=await $2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(r,e){const i=eC(e),a=Z2(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function J2(r,e){xh.set(r._key(),e)}function Z2(r){return vs(r._redirectPersistence)}function eC(r){return Rh(K2,r.config.apiKey,r.name)}async function tC(r,e,i=!1){if(ha(r.app))return Promise.reject(_s(r));const a=lc(r),l=q2(a,e),p=await new W2(a,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const nC=600*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!qb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(La(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function rC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(r);default:return!1}}async function aC(r,e={}){return Kl(r,"GET","/v1/projects",e)}const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await aC(r);for(const i of e)try{if(uC(i))return}catch{}Es(r,"unauthorized-domain")}function uC(r){const e=qm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===a}if(!oC.test(i))return!1;if(sC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const cC=new sc(3e4,6e4);function B0(){const r=ja().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function hC(r){return new Promise((e,i)=>{function a(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),i(La(r,"network-request-failed"))},timeout:cC.get()})}if(ja().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ja().gapi?.load)a();else{const l=f2("iframefcb");return ja()[l]=()=>{gapi.load?a():i(La(r,"network-request-failed"))},c2(`${h2()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function fC(r){return Ih=Ih||hC(r),Ih}const dC=new sc(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(r){const e=r.config;Rt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?pp(e,pC):`https://${r.config.authDomain}/${mC}`,a={apiKey:e.apiKey,appName:r.name,v:Ql},l=yC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ac(a).slice(1)}`}async function _C(r){const e=await fC(r),i=ja().gapi;return Rt(i,r,"internal-error"),e.open({where:document.body,url:vC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=La(r,"network-request-failed"),b=ja().setTimeout(()=>{c(p)},dC.get());function E(){ja().clearTimeout(b),l(a)}a.ping(E).then(E,()=>{c(p)})}))}const bC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,EC=600,TC="_blank",AC="http://localhost";class F0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SC(r,e,i,a=wC,l=EC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const E={...bC,width:a.toString(),height:l.toString(),top:c,left:p},w=ir().toLowerCase();i&&(b=Ab(w)?TC:i),Eb(w)&&(e=e||AC,E.scrollbars="yes");const I=Object.entries(E).reduce((H,[ie,B])=>`${H}${ie}=${B},`,"");if(n2(w)&&b!=="_self")return CC(e||"",b),new F0(null);const L=window.open(e||"",b,I);Rt(L,r,"popup-blocked");try{L.focus()}catch{}return new F0(L)}function CC(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const RC="__/auth/handler",xC="emulator/auth/handler",IC=encodeURIComponent("fac");async function H0(r,e,i,a,l,c){Rt(r.config.authDomain,r,"auth-domain-config-required"),Rt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ql,eventId:l};if(e instanceof Ob){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",SA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,L]of Object.entries({}))p[I]=L}if(e instanceof uc){const I=e.getScopes().filter(L=>L!=="");I.length>0&&(p.scopes=I.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const I of Object.keys(b))b[I]===void 0&&delete b[I];const E=await r._getAppCheckToken(),w=E?`#${IC}=${encodeURIComponent(E)}`:"";return`${MC(r)}?${ac(b).slice(1)}${w}`}function MC({config:r}){return r.emulator?pp(r,xC):`https://${r.authDomain}/${RC}`}const Im="webStorageSupport";class NC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=tC,this._overrideRedirectResult=J2}async _openPopup(e,i,a,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await H0(e,i,a,qm(),l);return SC(e,c,bp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await H0(e,i,a,qm(),l);return k2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await _C(e),a=new iC(e);return i.register("authEvent",l=>(Rt(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Im,{type:Im},l=>{const c=l?.[0]?.[Im];c!==void 0&&i(!!c),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ib()||Tb()||vp()}}const DC=NC;var q0="@firebase/auth",G0="1.11.1";class OC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(r){zl(new Bo("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;Rt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const E={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(r)},w=new l2(a,l,c,E);return m2(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),zl(new Bo("auth-internal",e=>{const i=lc(e.getProvider("auth").getImmediate());return(a=>new OC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(q0,G0,kC(r)),co(q0,G0,"esm2020")}const PC=300,LC=ab("authIdTokenMaxAge")||PC;let Y0=null;const jC=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>LC)return;const l=i?.token;Y0!==l&&(Y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function UC(r=hb()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=d2(r,{popupRedirectResolver:DC,persistence:[H2,N2,jb]}),a=ab("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=jC(c.toString());R2(i,p,()=>p(i.currentUser)),C2(i,b=>p(b))}}const l=ib("auth");return l&&p2(i,`http://${l}`),i}function zC(){return document.getElementsByTagName("head")?.[0]??document}u2({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=La("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",zC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ho,Gb;(function(){var r;function e(q,U){function V(){}V.prototype=U.prototype,q.F=U.prototype,q.prototype=new V,q.prototype.constructor=q,q.D=function(F,x,P){for(var R=Array(arguments.length-2),K=2;K<arguments.length;K++)R[K-2]=arguments[K];return U.prototype[x].apply(F,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(q,U,V){V||(V=0);const F=Array(16);if(typeof U=="string")for(var x=0;x<16;++x)F[x]=U.charCodeAt(V++)|U.charCodeAt(V++)<<8|U.charCodeAt(V++)<<16|U.charCodeAt(V++)<<24;else for(x=0;x<16;++x)F[x]=U[V++]|U[V++]<<8|U[V++]<<16|U[V++]<<24;U=q.g[0],V=q.g[1],x=q.g[2];let P=q.g[3],R;R=U+(P^V&(x^P))+F[0]+3614090360&4294967295,U=V+(R<<7&4294967295|R>>>25),R=P+(x^U&(V^x))+F[1]+3905402710&4294967295,P=U+(R<<12&4294967295|R>>>20),R=x+(V^P&(U^V))+F[2]+606105819&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(U^x&(P^U))+F[3]+3250441966&4294967295,V=x+(R<<22&4294967295|R>>>10),R=U+(P^V&(x^P))+F[4]+4118548399&4294967295,U=V+(R<<7&4294967295|R>>>25),R=P+(x^U&(V^x))+F[5]+1200080426&4294967295,P=U+(R<<12&4294967295|R>>>20),R=x+(V^P&(U^V))+F[6]+2821735955&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(U^x&(P^U))+F[7]+4249261313&4294967295,V=x+(R<<22&4294967295|R>>>10),R=U+(P^V&(x^P))+F[8]+1770035416&4294967295,U=V+(R<<7&4294967295|R>>>25),R=P+(x^U&(V^x))+F[9]+2336552879&4294967295,P=U+(R<<12&4294967295|R>>>20),R=x+(V^P&(U^V))+F[10]+4294925233&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(U^x&(P^U))+F[11]+2304563134&4294967295,V=x+(R<<22&4294967295|R>>>10),R=U+(P^V&(x^P))+F[12]+1804603682&4294967295,U=V+(R<<7&4294967295|R>>>25),R=P+(x^U&(V^x))+F[13]+4254626195&4294967295,P=U+(R<<12&4294967295|R>>>20),R=x+(V^P&(U^V))+F[14]+2792965006&4294967295,x=P+(R<<17&4294967295|R>>>15),R=V+(U^x&(P^U))+F[15]+1236535329&4294967295,V=x+(R<<22&4294967295|R>>>10),R=U+(x^P&(V^x))+F[1]+4129170786&4294967295,U=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(U^V))+F[6]+3225465664&4294967295,P=U+(R<<9&4294967295|R>>>23),R=x+(U^V&(P^U))+F[11]+643717713&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^U&(x^P))+F[0]+3921069994&4294967295,V=x+(R<<20&4294967295|R>>>12),R=U+(x^P&(V^x))+F[5]+3593408605&4294967295,U=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(U^V))+F[10]+38016083&4294967295,P=U+(R<<9&4294967295|R>>>23),R=x+(U^V&(P^U))+F[15]+3634488961&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^U&(x^P))+F[4]+3889429448&4294967295,V=x+(R<<20&4294967295|R>>>12),R=U+(x^P&(V^x))+F[9]+568446438&4294967295,U=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(U^V))+F[14]+3275163606&4294967295,P=U+(R<<9&4294967295|R>>>23),R=x+(U^V&(P^U))+F[3]+4107603335&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^U&(x^P))+F[8]+1163531501&4294967295,V=x+(R<<20&4294967295|R>>>12),R=U+(x^P&(V^x))+F[13]+2850285829&4294967295,U=V+(R<<5&4294967295|R>>>27),R=P+(V^x&(U^V))+F[2]+4243563512&4294967295,P=U+(R<<9&4294967295|R>>>23),R=x+(U^V&(P^U))+F[7]+1735328473&4294967295,x=P+(R<<14&4294967295|R>>>18),R=V+(P^U&(x^P))+F[12]+2368359562&4294967295,V=x+(R<<20&4294967295|R>>>12),R=U+(V^x^P)+F[5]+4294588738&4294967295,U=V+(R<<4&4294967295|R>>>28),R=P+(U^V^x)+F[8]+2272392833&4294967295,P=U+(R<<11&4294967295|R>>>21),R=x+(P^U^V)+F[11]+1839030562&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^U)+F[14]+4259657740&4294967295,V=x+(R<<23&4294967295|R>>>9),R=U+(V^x^P)+F[1]+2763975236&4294967295,U=V+(R<<4&4294967295|R>>>28),R=P+(U^V^x)+F[4]+1272893353&4294967295,P=U+(R<<11&4294967295|R>>>21),R=x+(P^U^V)+F[7]+4139469664&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^U)+F[10]+3200236656&4294967295,V=x+(R<<23&4294967295|R>>>9),R=U+(V^x^P)+F[13]+681279174&4294967295,U=V+(R<<4&4294967295|R>>>28),R=P+(U^V^x)+F[0]+3936430074&4294967295,P=U+(R<<11&4294967295|R>>>21),R=x+(P^U^V)+F[3]+3572445317&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^U)+F[6]+76029189&4294967295,V=x+(R<<23&4294967295|R>>>9),R=U+(V^x^P)+F[9]+3654602809&4294967295,U=V+(R<<4&4294967295|R>>>28),R=P+(U^V^x)+F[12]+3873151461&4294967295,P=U+(R<<11&4294967295|R>>>21),R=x+(P^U^V)+F[15]+530742520&4294967295,x=P+(R<<16&4294967295|R>>>16),R=V+(x^P^U)+F[2]+3299628645&4294967295,V=x+(R<<23&4294967295|R>>>9),R=U+(x^(V|~P))+F[0]+4096336452&4294967295,U=V+(R<<6&4294967295|R>>>26),R=P+(V^(U|~x))+F[7]+1126891415&4294967295,P=U+(R<<10&4294967295|R>>>22),R=x+(U^(P|~V))+F[14]+2878612391&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~U))+F[5]+4237533241&4294967295,V=x+(R<<21&4294967295|R>>>11),R=U+(x^(V|~P))+F[12]+1700485571&4294967295,U=V+(R<<6&4294967295|R>>>26),R=P+(V^(U|~x))+F[3]+2399980690&4294967295,P=U+(R<<10&4294967295|R>>>22),R=x+(U^(P|~V))+F[10]+4293915773&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~U))+F[1]+2240044497&4294967295,V=x+(R<<21&4294967295|R>>>11),R=U+(x^(V|~P))+F[8]+1873313359&4294967295,U=V+(R<<6&4294967295|R>>>26),R=P+(V^(U|~x))+F[15]+4264355552&4294967295,P=U+(R<<10&4294967295|R>>>22),R=x+(U^(P|~V))+F[6]+2734768916&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~U))+F[13]+1309151649&4294967295,V=x+(R<<21&4294967295|R>>>11),R=U+(x^(V|~P))+F[4]+4149444226&4294967295,U=V+(R<<6&4294967295|R>>>26),R=P+(V^(U|~x))+F[11]+3174756917&4294967295,P=U+(R<<10&4294967295|R>>>22),R=x+(U^(P|~V))+F[2]+718787259&4294967295,x=P+(R<<15&4294967295|R>>>17),R=V+(P^(x|~U))+F[9]+3951481745&4294967295,q.g[0]=q.g[0]+U&4294967295,q.g[1]=q.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,q.g[2]=q.g[2]+x&4294967295,q.g[3]=q.g[3]+P&4294967295}a.prototype.v=function(q,U){U===void 0&&(U=q.length);const V=U-this.blockSize,F=this.C;let x=this.h,P=0;for(;P<U;){if(x==0)for(;P<=V;)l(this,q,P),P+=this.blockSize;if(typeof q=="string"){for(;P<U;)if(F[x++]=q.charCodeAt(P++),x==this.blockSize){l(this,F),x=0;break}}else for(;P<U;)if(F[x++]=q[P++],x==this.blockSize){l(this,F),x=0;break}}this.h=x,this.o+=U},a.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var U=1;U<q.length-8;++U)q[U]=0;U=this.o*8;for(var V=q.length-8;V<q.length;++V)q[V]=U&255,U/=256;for(this.v(q),q=Array(16),U=0,V=0;V<4;++V)for(let F=0;F<32;F+=8)q[U++]=this.g[V]>>>F&255;return q};function c(q,U){var V=b;return Object.prototype.hasOwnProperty.call(V,q)?V[q]:V[q]=U(q)}function p(q,U){this.h=U;const V=[];let F=!0;for(let x=q.length-1;x>=0;x--){const P=q[x]|0;F&&P==U||(V[x]=P,F=!1)}this.g=V}var b={};function E(q){return-128<=q&&q<128?c(q,function(U){return new p([U|0],U<0?-1:0)}):new p([q|0],q<0?-1:0)}function w(q){if(isNaN(q)||!isFinite(q))return L;if(q<0)return Se(w(-q));const U=[];let V=1;for(let F=0;q>=V;F++)U[F]=q/V|0,V*=4294967296;return new p(U,0)}function I(q,U){if(q.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(q.charAt(0)=="-")return Se(I(q.substring(1),U));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=w(Math.pow(U,8));let F=L;for(let P=0;P<q.length;P+=8){var x=Math.min(8,q.length-P);const R=parseInt(q.substring(P,P+x),U);x<8?(x=w(Math.pow(U,x)),F=F.j(x).add(w(R))):(F=F.j(V),F=F.add(w(R)))}return F}var L=E(0),H=E(1),ie=E(16777216);r=p.prototype,r.m=function(){if(Oe(this))return-Se(this).m();let q=0,U=1;for(let V=0;V<this.g.length;V++){const F=this.i(V);q+=(F>=0?F:4294967296+F)*U,U*=4294967296}return q},r.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(B(this))return"0";if(Oe(this))return"-"+Se(this).toString(q);const U=w(Math.pow(q,6));var V=this;let F="";for(;;){const x=We(V,U).g;V=Le(V,x.j(U));let P=((V.g.length>0?V.g[0]:V.h)>>>0).toString(q);if(V=x,B(V))return P+F;for(;P.length<6;)P="0"+P;F=P+F}},r.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function B(q){if(q.h!=0)return!1;for(let U=0;U<q.g.length;U++)if(q.g[U]!=0)return!1;return!0}function Oe(q){return q.h==-1}r.l=function(q){return q=Le(this,q),Oe(q)?-1:B(q)?0:1};function Se(q){const U=q.g.length,V=[];for(let F=0;F<U;F++)V[F]=~q.g[F];return new p(V,~q.h).add(H)}r.abs=function(){return Oe(this)?Se(this):this},r.add=function(q){const U=Math.max(this.g.length,q.g.length),V=[];let F=0;for(let x=0;x<=U;x++){let P=F+(this.i(x)&65535)+(q.i(x)&65535),R=(P>>>16)+(this.i(x)>>>16)+(q.i(x)>>>16);F=R>>>16,P&=65535,R&=65535,V[x]=R<<16|P}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Le(q,U){return q.add(Se(U))}r.j=function(q){if(B(this)||B(q))return L;if(Oe(this))return Oe(q)?Se(this).j(Se(q)):Se(Se(this).j(q));if(Oe(q))return Se(this.j(Se(q)));if(this.l(ie)<0&&q.l(ie)<0)return w(this.m()*q.m());const U=this.g.length+q.g.length,V=[];for(var F=0;F<2*U;F++)V[F]=0;for(F=0;F<this.g.length;F++)for(let x=0;x<q.g.length;x++){const P=this.i(F)>>>16,R=this.i(F)&65535,K=q.i(x)>>>16,ae=q.i(x)&65535;V[2*F+2*x]+=R*ae,Pe(V,2*F+2*x),V[2*F+2*x+1]+=P*ae,Pe(V,2*F+2*x+1),V[2*F+2*x+1]+=R*K,Pe(V,2*F+2*x+1),V[2*F+2*x+2]+=P*K,Pe(V,2*F+2*x+2)}for(q=0;q<U;q++)V[q]=V[2*q+1]<<16|V[2*q];for(q=U;q<2*U;q++)V[q]=0;return new p(V,0)};function Pe(q,U){for(;(q[U]&65535)!=q[U];)q[U+1]+=q[U]>>>16,q[U]&=65535,U++}function Fe(q,U){this.g=q,this.h=U}function We(q,U){if(B(U))throw Error("division by zero");if(B(q))return new Fe(L,L);if(Oe(q))return U=We(Se(q),U),new Fe(Se(U.g),Se(U.h));if(Oe(U))return U=We(q,Se(U)),new Fe(Se(U.g),U.h);if(q.g.length>30){if(Oe(q)||Oe(U))throw Error("slowDivide_ only works with positive integers.");for(var V=H,F=U;F.l(q)<=0;)V=Ue(V),F=Ue(F);var x=vt(V,1),P=vt(F,1);for(F=vt(F,2),V=vt(V,2);!B(F);){var R=P.add(F);R.l(q)<=0&&(x=x.add(V),P=R),F=vt(F,1),V=vt(V,1)}return U=Le(q,x.j(U)),new Fe(x,U)}for(x=L;q.l(U)>=0;){for(V=Math.max(1,Math.floor(q.m()/U.m())),F=Math.ceil(Math.log(V)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),P=w(V),R=P.j(U);Oe(R)||R.l(q)>0;)V-=F,P=w(V),R=P.j(U);B(P)&&(P=H),x=x.add(P),q=Le(q,R)}return new Fe(x,q)}r.B=function(q){return We(this,q).h},r.and=function(q){const U=Math.max(this.g.length,q.g.length),V=[];for(let F=0;F<U;F++)V[F]=this.i(F)&q.i(F);return new p(V,this.h&q.h)},r.or=function(q){const U=Math.max(this.g.length,q.g.length),V=[];for(let F=0;F<U;F++)V[F]=this.i(F)|q.i(F);return new p(V,this.h|q.h)},r.xor=function(q){const U=Math.max(this.g.length,q.g.length),V=[];for(let F=0;F<U;F++)V[F]=this.i(F)^q.i(F);return new p(V,this.h^q.h)};function Ue(q){const U=q.g.length+1,V=[];for(let F=0;F<U;F++)V[F]=q.i(F)<<1|q.i(F-1)>>>31;return new p(V,q.h)}function vt(q,U){const V=U>>5;U%=32;const F=q.g.length-V,x=[];for(let P=0;P<F;P++)x[P]=U>0?q.i(P+V)>>>U|q.i(P+V+1)<<32-U:q.i(P+V);return new p(x,q.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Gb=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=I,ho=p}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yb,Uu,Xb,Mh,Xm,Qb,Kb,Wb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=i(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var k=0;k<u.length-1;k++){var ne=u[k];if(!(ne in A))break e;A=A[ne]}u=u[u.length-1],k=A[u],y=y(k),y!=k&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&A.push([k,y[k]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function I(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(k,ne,de){for(var ze=Array(arguments.length-2),It=2;It<arguments.length;It++)ze[It-2]=arguments[It];return y.prototype[ne].apply(k,ze)}}var H=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ie(u){const y=u.length;if(y>0){const A=Array(y);for(let k=0;k<y;k++)A[k]=u[k];return A}return[]}function B(u,y){for(let k=1;k<arguments.length;k++){const ne=arguments[k];var A=typeof ne;if(A=A!="object"?A:ne?Array.isArray(ne)?"array":A:"null",A=="array"||A=="object"&&typeof ne.length=="number"){A=u.length||0;const de=ne.length||0;u.length=A+de;for(let ze=0;ze<de;ze++)u[A+ze]=ne[ze]}else u.push(ne)}}class Oe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Se(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=q;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Pe{constructor(){this.h=this.g=null}add(y,A){const k=Fe.get();k.set(y,A),this.h?this.h.next=k:this.g=k,this.h=k}}var Fe=new Oe(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,vt=!1,q=new Pe,U=()=>{const u=Promise.resolve(void 0);Ue=()=>{u.then(V)}};function V(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){Se(A)}var y=Fe;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}vt=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function K(u,y){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(K,x),K.prototype.init=function(u,y){const A=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function Z(u,y,A,k,ne){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!k,this.ha=ne,this.key=++G,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,y,A){for(const k in u)y.call(A,u[k],k,u)}function Me(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function j(u){const y={};for(const A in u)y[A]=u[A];return y}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(u,y){let A,k;for(let ne=1;ne<arguments.length;ne++){k=arguments[ne];for(A in k)u[A]=k[A];for(let de=0;de<re.length;de++)A=re[de],Object.prototype.hasOwnProperty.call(k,A)&&(u[A]=k[A])}}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,y,A,k,ne){const de=u.toString();u=this.g[de],u||(u=this.g[de]=[],this.h++);const ze=Qe(u,y,k,ne);return ze>-1?(y=u[ze],A||(y.fa=!1)):(y=new Z(y,this.src,de,!!k,ne),y.fa=A,u.push(y)),y};function xe(u,y){const A=y.type;if(A in u.g){var k=u.g[A],ne=Array.prototype.indexOf.call(k,y,void 0),de;(de=ne>=0)&&Array.prototype.splice.call(k,ne,1),de&&(ve(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Qe(u,y,A,k){for(let ne=0;ne<u.length;++ne){const de=u[ne];if(!de.da&&de.listener==y&&de.capture==!!A&&de.ha==k)return ne}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),ct={};function dt(u,y,A,k,ne){if(Array.isArray(y)){for(let de=0;de<y.length;de++)dt(u,y[de],A,k,ne);return null}return A=rn(A),u&&u[ae]?u.J(y,A,b(k)?!!k.capture:!1,ne):Tt(u,y,A,!1,k,ne)}function Tt(u,y,A,k,ne,de){if(!y)throw Error("Invalid event type");const ze=b(ne)?!!ne.capture:!!ne;let It=Yn(u);if(It||(u[mt]=It=new we(u)),A=It.add(y,A,k,ze,de),A.proxy)return A;if(k=yt(),A.proxy=k,k.src=u,k.listener=A,u.addEventListener)P||(ne=ze),ne===void 0&&(ne=!1),u.addEventListener(y.toString(),k,ne);else if(u.attachEvent)u.attachEvent(Ht(y.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function yt(){function u(A){return y.call(u.src,u.listener,A)}const y=Lt;return u}function at(u,y,A,k,ne){if(Array.isArray(y))for(var de=0;de<y.length;de++)at(u,y[de],A,k,ne);else k=b(k)?!!k.capture:!!k,A=rn(A),u&&u[ae]?(u=u.i,de=String(y).toString(),de in u.g&&(y=u.g[de],A=Qe(y,A,k,ne),A>-1&&(ve(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[de],u.h--)))):u&&(u=Yn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Qe(y,A,k,ne)),(A=u>-1?y[u]:null)&&pt(A))}function pt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ae])xe(y.i,u);else{var A=u.type,k=u.proxy;y.removeEventListener?y.removeEventListener(A,k,u.capture):y.detachEvent?y.detachEvent(Ht(A),k):y.addListener&&y.removeListener&&y.removeListener(k),(A=Yn(y))?(xe(A,u),A.h==0&&(A.src=null,y[mt]=null)):ve(u)}}}function Ht(u){return u in ct?ct[u]:ct[u]="on"+u}function Lt(u,y){if(u.da)u=!0;else{y=new K(y,this);const A=u.listener,k=u.ha||u.src;u.fa&&pt(u),u=A.call(k,y)}return u}function Yn(u){return u=u[mt],u instanceof we?u:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function rn(u){return typeof u=="function"?u:(u[hi]||(u[hi]=function(y){return u.handleEvent(y)}),u[hi])}function lt(){F.call(this),this.i=new we(this),this.M=this,this.G=null}L(lt,F),lt.prototype[ae]=!0,lt.prototype.removeEventListener=function(u,y,A,k){at(this,u,y,A,k)};function on(u,y){var A,k=u.G;if(k)for(A=[];k;k=k.G)A.push(k);if(u=u.M,k=y.type||y,typeof y=="string")y=new x(y,u);else if(y instanceof x)y.target=y.target||u;else{var ne=y;y=new x(k,u),Ce(y,ne)}ne=!0;let de,ze;if(A)for(ze=A.length-1;ze>=0;ze--)de=y.g=A[ze],ne=An(de,k,!0,y)&&ne;if(de=y.g=u,ne=An(de,k,!0,y)&&ne,ne=An(de,k,!1,y)&&ne,A)for(ze=0;ze<A.length;ze++)de=y.g=A[ze],ne=An(de,k,!1,y)&&ne}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let k=0;k<A.length;k++)ve(A[k]);delete u.g[y],u.h--}}this.G=null},lt.prototype.J=function(u,y,A,k){return this.i.add(String(u),y,!1,A,k)},lt.prototype.K=function(u,y,A,k){return this.i.add(String(u),y,!0,A,k)};function An(u,y,A,k){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ne=!0;for(let de=0;de<y.length;++de){const ze=y[de];if(ze&&!ze.da&&ze.capture==A){const It=ze.listener,Zn=ze.ha||ze.src;ze.fa&&xe(u.i,ze),ne=It.call(Zn,k)!==!1&&ne}}return ne&&!k.defaultPrevented}function rr(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Sn(u){u.g=rr(()=>{u.g=null,u.i&&(u.i=!1,Sn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ct extends F{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Sn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(u){F.call(this),this.h=u,this.g={}}L(ln,F);var C=[];function g(u){fe(u.g,function(y,A){this.g.hasOwnProperty(A)&&pt(y)},u),u.g={}}ln.prototype.N=function(){ln.Z.N.call(this),g(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,O=p.JSON.parse,W=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function me(){}function Ie(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){x.call(this,"d")}L(nt,x);function je(){x.call(this,"c")}L(je,x);var tt={},en=null;function fn(){return en=en||new lt}tt.Ia="serverreachability";function un(u){x.call(this,tt.Ia,u)}L(un,x);function Dn(u){const y=fn();on(y,new un(y))}tt.STAT_EVENT="statevent";function On(u,y){x.call(this,tt.STAT_EVENT,u),this.stat=y}L(On,x);function jt(u){const y=fn();on(y,new On(y,u))}tt.Ja="timingevent";function vn(u,y){x.call(this,tt.Ja,u),this.size=y}L(vn,x);function Un(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Di(u,y,A,k,ne,de){u.info(function(){if(u.g)if(de){var ze="",It=de.split("&");for(let cn=0;cn<It.length;cn++){var Zn=It[cn].split("=");if(Zn.length>1){const Ln=Zn[0];Zn=Zn[1];const $i=Ln.split("_");ze=$i.length>=2&&$i[1]=="type"?ze+(Ln+"="+Zn+"&"):ze+(Ln+"=redacted&")}}}else ze=null;else ze=de;return"XMLHTTP REQ ("+k+") [attempt "+ne+"]: "+y+`
`+A+`
`+ze})}function bt(u,y,A,k,ne,de,ze){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+ne+"]: "+y+`
`+A+`
`+de+" "+ze})}function Kn(u,y,A,k){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Yi(u,A)+(k?" "+k:"")})}function xt(u,y){u.info(function(){return"TIMEOUT: "+y})}ri.prototype.info=function(){};function Yi(u,y){if(!u.g)return y;if(!y)return null;try{const de=JSON.parse(y);if(de){for(u=0;u<de.length;u++)if(Array.isArray(de[u])){var A=de[u];if(!(A.length<2)){var k=A[1];if(Array.isArray(k)&&!(k.length<1)){var ne=k[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let ze=1;ze<k.length;ze++)k[ze]=""}}}}return v(de)}catch{return y}}var Wn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Er;function fi(){}L(fi,me),fi.prototype.g=function(){return new XMLHttpRequest},Er=new fi;function Ge(u){return encodeURIComponent(String(u))}function Xr(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function ar(u,y,A,k){this.j=u,this.i=y,this.l=A,this.S=k||1,this.V=new ln(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sr}function sr(){this.i=null,this.g="",this.h=!1}var _n={},$n={};function or(u,y,A){u.M=1,u.A=bi(bn(y)),u.u=A,u.R=!0,lr(u,null)}function lr(u,y){u.F=Date.now(),ur(u),u.B=bn(u.A);var A=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),Zr(A.i,"t",k),u.C=0,A=u.j.L,u.h=new sr,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Ct(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,k=u.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(C[0]=ne.toString()),ne=C);for(let de=0;de<ne.length;de++){const ze=dt(A,ne[de],k||y.handleEvent,!1,y.h||y);if(!ze)break;y.g[ze.key]=ze}y=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Dn(),Di(u.i,u.v,u.B,u.l,u.S,u.u)}ar.prototype.ba=function(u){u=u.target;const y=this.O;y&&Pr(u)==3?y.j():this.Y(u)},ar.prototype.Y=function(u){try{if(u==this.g)e:{const It=Pr(this.g),Zn=this.g.ya(),cn=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||wi(this.g)))){this.K||It!=4||Zn==7||(Zn==8||cn<=0?Dn(3):Dn(2)),cr(this);var y=this.g.ca();this.X=y;var A=Jn(this);if(this.o=y==200,bt(this.i,this.v,this.B,this.l,this.S,It,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,ne=this.g;if((k=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(k)){var de=k;break t}}de=null}if(u=de)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,u);else{this.o=!1,this.m=3,jt(12),Si(this),Ai(this);break e}}if(this.R){u=!0;let Ln;for(;!this.K&&this.C<A.length;)if(Ln=Kr(this,A),Ln==$n){It==4&&(this.m=4,jt(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==_n){this.m=4,jt(15),Kn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,Ln,null),Xi(this,Ln);if(Qr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||A.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,A,"[Invalid Chunked Response]"),Si(this),Ai(this);else if(A.length>0&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.aa&&!ze.P&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),gr(ze),ze.P=!0,jt(11))}}else Kn(this.i,this.l,A,null),Xi(this,A);It==4&&Si(this),this.o&&!this.K&&(It==4?Wa(this.j,this):(this.o=!1,ur(this)))}else Sr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Si(this),Ai(this)}}}catch{}finally{}};function Jn(u){if(!Qr(u))return u.g.la();const y=wi(u.g);if(y==="")return"";let A="";const k=y.length,ne=Pr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Si(u),Ai(u),"";u.h.i=new p.TextDecoder}for(let de=0;de<k;de++)u.h.h=!0,A+=u.h.i.decode(y[de],{stream:!(ne&&de==k-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Qr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kr(u,y){var A=u.C,k=y.indexOf(`
`,A);return k==-1?$n:(A=Number(y.substring(A,k)),isNaN(A)?_n:(k+=1,k+A>y.length?$n:(y=y.slice(k,k+A),u.C=k+A,y)))}ar.prototype.cancel=function(){this.K=!0,Si(this)};function ur(u){u.T=Date.now()+u.H,Oi(u,u.H)}function Oi(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Un(w(u.aa,u),y)}function cr(u){u.D&&(p.clearTimeout(u.D),u.D=null)}ar.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xt(this.i,this.B),this.M!=2&&(Dn(),jt(17)),Si(this),this.m=2,Ai(this)):Oi(this,this.T-u)};function Ai(u){u.j.I==0||u.K||Wa(u.j,u)}function Si(u){cr(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Xi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||Qi(A.h,u))){if(!u.L&&Qi(A.h,u)&&A.I==3){try{var k=A.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var ne=k;if(ne[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ga(A),Lr(A);else break e;xa(A),jt(18)}}else A.xa=ne[1],0<A.xa-A.K&&ne[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Un(w(A.Va,A),6e3));Vi(A.h)<=1&&A.ta&&(A.ta=void 0)}else jr(A,11)}else if((u.L||A.g==u)&&ga(A),!R(y))for(ne=A.Ba.g.parse(y),y=0;y<ne.length;y++){let cn=ne[y];const Ln=cn[0];if(!(Ln<=A.K))if(A.K=Ln,cn=cn[1],A.I==2)if(cn[0]=="c"){A.M=cn[1],A.ba=cn[2];const $i=cn[3];$i!=null&&(A.ka=$i,A.j.info("VER="+A.ka));const Cr=cn[4];Cr!=null&&(A.za=Cr,A.j.info("SVER="+A.za));const Rr=cn[5];Rr!=null&&typeof Rr=="number"&&Rr>0&&(k=1.5*Rr,A.O=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const yr=u.g;if(yr){const na=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var de=k.h;de.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Ga(de,de.h),de.h=null))}if(k.G){const $a=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(k.wa=$a,tn(k.J,k.G,$a))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),k=A;var ze=u;if(k.na=$o(k,k.L?k.ba:null,k.W),ze.L){Wr(k.h,ze);var It=ze,Zn=k.O;Zn&&(It.H=Zn),It.D&&(cr(It),ur(It)),k.g=ze}else si(k);A.i.length>0&&pr(A)}else cn[0]!="stop"&&cn[0]!="close"||jr(A,7);else A.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?jr(A,7):Eo(A):cn[0]!="noop"&&A.l&&A.l.qa(cn),A.A=0)}}Dn(4)}catch{}}var zn=class{constructor(u,y){this.g=u,this.map=y}};function ma(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ki(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vi(u){return u.h?1:u.g?u.g.size:0}function Qi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ga(u,y){u.g?u.g.add(y):u.h=y}function Wr(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}ma.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ie(u.i)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hr(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const k=u[A].indexOf("=");let ne,de=null;k>=0?(ne=u[A].substring(0,k),de=u[A].substring(k+1)):ne=u[A],y(ne,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ci(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ci?(this.l=u.l,Bn(this,u.j),this.o=u.o,this.g=u.g,Pi(this,u.u),this.h=u.h,fr(this,ea(u.i)),this.m=u.m):u&&(y=String(u).match(pa))?(this.l=!1,Bn(this,y[1]||"",!0),this.o=_t(y[2]||""),this.g=_t(y[3]||"",!0),Pi(this,y[4]),this.h=_t(y[5]||"",!0),fr(this,y[6]||"",!0),this.m=_t(y[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}Ci.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ai(y,$r,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ai(y,$r,!0),"@"),u.push(Ge(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(ai(A,A.charAt(0)=="/"?Ca:Ya,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",ai(A,Jr)),u.join("")},Ci.prototype.resolve=function(u){const y=bn(this);let A=!!u.j;A?Bn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var k=u.h;if(A)Pi(y,u.u);else if(A=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var ne=y.h.lastIndexOf("/");ne!=-1&&(k=y.h.slice(0,ne+1)+k)}if(ne=k,ne==".."||ne==".")k="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){k=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const de=[];for(let ze=0;ze<ne.length;){const It=ne[ze++];It=="."?k&&ze==ne.length&&de.push(""):It==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),k&&ze==ne.length&&de.push("")):(de.push(It),k=!0)}k=de.join("/")}else k=ne}return A?y.h=k:A=u.i.toString()!=="",A?fr(y,ea(u.i)):A=!!u.m,A&&(y.m=u.m),y};function bn(u){return new Ci(u)}function Bn(u,y,A){u.j=A?_t(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Pi(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function fr(u,y,A){y instanceof Tr?(u.i=y,Ar(u.i,u.l)):(A||(y=ai(y,Bt)),u.i=new Tr(y,u.l))}function tn(u,y,A){u.i.set(y,A)}function bi(u){return tn(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _t(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,kn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $r=/[#\/\?@]/g,Ya=/[#\?:]/g,Ca=/[#\?]/g,Bt=/[#\?@]/g,Jr=/#/g;function Tr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ti(u){u.g||(u.g=new Map,u.h=0,u.i&&hr(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=Tr.prototype,r.add=function(u,y){ti(this),this.i=null,u=dr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function Ki(u,y){ti(u),y=dr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ri(u,y){return ti(u),y=dr(u,y),u.g.has(y)}r.forEach=function(u,y){ti(this),this.g.forEach(function(A,k){A.forEach(function(ne){u.call(y,ne,k,this)},this)},this)};function Wi(u,y){ti(u);let A=[];if(typeof y=="string")Ri(u,y)&&(A=A.concat(u.g.get(dr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ti(this),this.i=null,u=dr(this,u),Ri(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Wi(this,u),u.length>0?String(u[0]):y):y};function Zr(u,y,A){Ki(u,y),A.length>0&&(u.i=null,u.g.set(dr(u,y),ie(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var A=y[k];const ne=Ge(A);A=Wi(this,A);for(let de=0;de<A.length;de++){let ze=ne;A[de]!==""&&(ze+="="+Ge(A[de])),u.push(ze)}}return this.i=u.join("&")};function ea(u){const y=new Tr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function dr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Ar(u,y){y&&!u.j&&(ti(u),u.i=null,u.g.forEach(function(A,k){const ne=k.toLowerCase();k!=ne&&(Ki(this,k),Zr(this,ne,A))},u)),u.j=y}function X(u,y){const A=new ri;if(p.Image){const k=new Image;k.onload=I(ge,A,"TestLoadImage: loaded",!0,y,k),k.onerror=I(ge,A,"TestLoadImage: error",!1,y,k),k.onabort=I(ge,A,"TestLoadImage: abort",!1,y,k),k.ontimeout=I(ge,A,"TestLoadImage: timeout",!1,y,k),p.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else y(!1)}function he(u,y){const A=new ri,k=new AbortController,ne=setTimeout(()=>{k.abort(),ge(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:k.signal}).then(de=>{clearTimeout(ne),de.ok?ge(A,"TestPingServer: ok",!0,y):ge(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ne),ge(A,"TestPingServer: error",!1,y)})}function ge(u,y,A,k,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),k(A)}catch{}}function _e(){this.g=new W}function Ae(u){this.i=u.Sb||null,this.h=u.ab||!1}L(Ae,me),Ae.prototype.g=function(){return new qe(this.i,this.h)};function qe(u,y){lt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(qe,lt),r=qe.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,ut(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ve(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ut(this)),this.g&&(this.readyState=3,ut(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ke(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ke(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Ve(this):ut(this),this.readyState==3&&Ke(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ve(this))},r.Na=function(u){this.g&&(this.response=u,Ve(this))},r.ga=function(){this.g&&Ve(this)};function Ve(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ut(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function ut(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qe.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ke(u){let y="";return fe(u,function(A,k){y+=k,y+=":",y+=A,y+=`\r
`}),y}function ht(u,y,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=ke(A),typeof u=="string"?A!=null&&Ge(A):tn(u,y,A))}function ft(u){lt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(ft,lt);var Pn=/^https?$/i,Xt=["POST","PUT"];r=ft.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Er.g(),this.g.onreadystatechange=H(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(de){xi(this,de);return}if(u=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var ne in k)A.set(ne,k[ne]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const de of k.keys())A.set(de,k.get(de));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),ne=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Xt,y,void 0)>=0)||k||ne||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,ze]of A)this.g.setRequestHeader(de,ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(de){xi(this,de)}};function xi(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Xn(u),Vr(u)}function Xn(u){u.A||(u.A=!0,on(u,"complete"),on(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,on(this,"complete"),on(this,"abort"),Vr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),ft.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},r.Xa=function(){mr(this)};function mr(u){if(u.h&&typeof c<"u"){if(u.v&&Pr(u)==4)setTimeout(u.Ca.bind(u),0);else if(on(u,"readystatechange"),Pr(u)==4){u.h=!1;try{const de=u.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var k;if(k=de===0){let ze=String(u.D).match(pa)[1]||null;!ze&&p.self&&p.self.location&&(ze=p.self.location.protocol.slice(0,-1)),k=!Pn.test(ze?ze.toLowerCase():"")}A=k}if(A)on(u,"complete"),on(u,"success");else{u.o=6;try{var ne=Pr(u)>2?u.g.statusText:""}catch{ne=""}u.l=ne+" ["+u.ca()+"]",Xn(u)}}finally{Vr(u)}}}}function Vr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||on(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Pr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),O(y)}};function wi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Sr(u){const y={};u=(u.g&&Pr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(R(u[k]))continue;var A=Xr(u[k]);const ne=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=y[ne]||[];y[ne]=de,de.push(A)}Me(y,function(k){return k.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function Ra(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ta("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ta("baseRetryDelayMs",5e3,u),this.Za=ta("retryDelaySeedMs",1e4,u),this.Ta=ta("forwardChannelMaxRetries",2,u),this.va=ta("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ma(u&&u.concurrentRequestLimit),this.Ba=new _e,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ra.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,k){jt(0),this.W=u,this.H=y||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.J=$o(this,null,this.W),pr(this)};function Eo(u){if(Xa(u),u.I==3){var y=u.V++,A=bn(u.J);if(tn(A,"SID",u.M),tn(A,"RID",y),tn(A,"TYPE","terminate"),Ka(u,A),y=new ar(u,u.j,y),y.M=2,y.A=bi(bn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ur(y)}Ms(u)}function Lr(u){u.g&&(gr(u),u.g.cancel(),u.g=null)}function Xa(u){Lr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function pr(u){if(!ki(u.h)&&!u.m){u.m=!0;var y=u.Ea;Ue||U(),vt||(Ue(),vt=!0),q.add(y,u),u.D=0}}function Qa(u,y){return Vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Un(w(u.Ea,u,y),Is(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ne=new ar(this,this.j,u);let de=this.o;if(this.U&&(de?(de=j(de),Ce(de,this.U)):de=this.U),this.u!==null||this.R||(ne.J=de,de=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Ko(this,ne,y),A=bn(this.J),tn(A,"RID",u),tn(A,"CVER",22),this.G&&tn(A,"X-HTTP-Session-Id",this.G),Ka(this,A),de&&(this.R?y="headers="+Ge(ke(de))+"&"+y:this.u&&ht(A,this.u,de)),Ga(this.h,ne),this.Ra&&tn(A,"TYPE","init"),this.S?(tn(A,"$req",y),tn(A,"SID","null"),ne.U=!0,or(ne,A,null)):or(ne,A,y),this.I=2}}else this.I==3&&(u?xs(this,u):this.i.length==0||ki(this.h)||xs(this))};function xs(u,y){var A;y?A=y.l:A=u.V++;const k=bn(u.J);tn(k,"SID",u.M),tn(k,"RID",A),tn(k,"AID",u.K),Ka(u,k),u.u&&u.o&&ht(k,u.u,u.o),A=new ar(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ko(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ga(u.h,A),or(A,k,y)}function Ka(u,y){u.H&&fe(u.H,function(A,k){tn(y,k,A)}),u.l&&fe({},function(A,k){tn(y,k,A)})}function Ko(u,y,A){A=Math.min(u.i.length,A);const k=u.l?w(u.l.Ka,u.l,u):null;e:{var ne=u.i;let It=-1;for(;;){const Zn=["count="+A];It==-1?A>0?(It=ne[0].g,Zn.push("ofs="+It)):It=0:Zn.push("ofs="+It);let cn=!0;for(let Ln=0;Ln<A;Ln++){var de=ne[Ln].g;const $i=ne[Ln].map;if(de-=It,de<0)It=Math.max(0,ne[Ln].g-100),cn=!1;else try{de="req"+de+"_"||"";try{var ze=$i instanceof Map?$i:Object.entries($i);for(const[Cr,Rr]of ze){let yr=Rr;b(Rr)&&(yr=v(Rr)),Zn.push(de+Cr+"="+encodeURIComponent(yr))}}catch(Cr){throw Zn.push(de+"type="+encodeURIComponent("_badmap")),Cr}}catch{k&&k($i)}}if(cn){ze=Zn.join("&");break e}}ze=void 0}return u=u.i.splice(0,A),y.G=u,ze}function si(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Ue||U(),vt||(Ue(),vt=!0),q.add(y,u),u.A=0}}function xa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Un(w(u.Da,u),Is(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Un(w(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Lr(this),Wo(this))};function gr(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Wo(u){u.g=new ar(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=bn(u.na);tn(y,"RID","rpc"),tn(y,"SID",u.M),tn(y,"AID",u.K),tn(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&tn(y,"TO",u.ia),tn(y,"TYPE","xmlhttp"),Ka(u,y),u.u&&u.o&&ht(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=bi(bn(y)),A.u=null,A.R=!0,lr(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Lr(this),xa(this),jt(19))};function ga(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Wa(u,y){var A=null;if(u.g==y){ga(u),gr(u),u.g=null;var k=2}else if(Qi(u.h,y))A=y.G,Wr(u.h,y),k=1;else return;if(u.I!=0){if(y.o)if(k==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ne=u.D;k=fn(),on(k,new vn(k,A)),pr(u)}else si(u);else if(ne=y.m,ne==3||ne==0&&y.X>0||!(k==1&&Qa(u,y)||k==2&&xa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ne){case 1:jr(u,5);break;case 4:jr(u,10);break;case 3:jr(u,6);break;default:jr(u,2)}}}function Is(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function jr(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),k=u.Ua;const ne=!k;k=new Ci(k||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Bn(k,"https"),bi(k),ne?X(k.toString(),A):he(k.toString(),A)}else jt(2);u.I=0,u.l&&u.l.pa(y),Ms(u),Xa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ms(u){if(u.I=0,u.ja=[],u.l){const y=Sa(u.h);(y.length!=0||u.i.length!=0)&&(B(u.ja,y),B(u.ja,u.i),u.h.i.length=0,ie(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var k=A instanceof Ci?bn(A):new Ci(A);if(k.g!="")y&&(k.g=y+"."+k.g),Pi(k,k.u);else{var ne=p.location;k=ne.protocol,y=y?y+"."+ne.hostname:ne.hostname,ne=+ne.port;const de=new Ci(null);k&&Bn(de,k),y&&(de.g=y),ne&&Pi(de,ne),A&&(de.h=A),k=de}return A=u.G,y=u.wa,A&&y&&tn(k,A,y),tn(k,"VER",u.ka),Ka(u,k),k}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new ft(new Ae({ab:A})):new ft(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}r=Ns.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ia(){}Ia.prototype.g=function(u,y){return new Li(u,y)};function Li(u,y){lt.call(this),this.g=new Ra(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ya(this)}L(Li,lt),Li.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Li.prototype.close=function(){Eo(this.g)},Li.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new zn(y.Ya++,u)),y.I==3&&pr(y)},Li.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Li.Z.N.call(this)};function To(u){nt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(To,nt);function Zo(){je.call(this),this.status=1}L(Zo,je);function ya(u){this.g=u}L(ya,Ns),ya.prototype.ra=function(){on(this.g,"a")},ya.prototype.qa=function(u){on(this.g,new To(u))},ya.prototype.pa=function(u){on(this.g,new Zo)},ya.prototype.oa=function(){on(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Li.prototype.send=Li.prototype.o,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,Wb=function(){return new Ia},Kb=function(){return fn()},Qb=tt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wn.NO_ERROR=0,Wn.TIMEOUT=8,Wn.HTTP_ERROR=6,Mh=Wn,qa.COMPLETE="complete",Xb=qa,Ie.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Uu=Ie,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,Yb=ft}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",K0="4.9.2";class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let Wl="12.3.0";const Ho=new hp("@firebase/firestore");function Rl(){return Ho.logLevel}function rt(r,...e){if(Ho.logLevel<=$t.DEBUG){const i=e.map(Ep);Ho.debug(`Firestore (${Wl}): ${r}`,...i)}}function Ss(r,...e){if(Ho.logLevel<=$t.ERROR){const i=e.map(Ep);Ho.error(`Firestore (${Wl}): ${r}`,...i)}}function Bl(r,...e){if(Ho.logLevel<=$t.WARN){const i=e.map(Ep);Ho.warn(`Firestore (${Wl}): ${r}`,...i)}}function Ep(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function St(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,$b(r,a,i)}function $b(r,e,i){let a=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function Tn(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||$b(e,l,a)}function Ot(r,e){return r}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Jb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(tr.UNAUTHENTICATED)))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class HC{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Tn(this.o===void 0,42304);let a=this.i;const l=E=>this.i!==a?(a=this.i,i(E)):Promise.resolve();let c=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Tn(typeof a.accessToken=="string",31837,{l:a}),new Jb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class qC{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ha(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Tn(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Tn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=XC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Jt(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Mm(l)===Mm(c)?Jt(l,c):Mm(l)?1:-1}return Jt(r.length,e.length)}const QC=55296,KC=57343;function Mm(r){const e=r.charCodeAt(0);return e>=QC&&e<=KC}function Fl(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const $0="__name__";class Pa{constructor(e,i,a){i===void 0?i=0:i>e.length&&St(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&St(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Pa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Jt(e.length,i.length)}static compareSegments(e,i){const a=Pa.isNumericId(e),l=Pa.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Pa.extractNumericId(e).compare(Pa.extractNumericId(i)):Qm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class jn extends Pa{construct(e,i,a){return new jn(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new et(Te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new jn(i)}static emptyPath(){return new jn([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends Pa{construct(e,i,a){return new qi(e,i,a)}static isValidIdentifier(e){return WC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new qi([$0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new et(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new et(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new et(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new et(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(i)}static emptyPath(){return new qi([])}}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(jn.fromString(e))}static fromName(e){return new Et(jn.fromString(e).popFirst(5))}static empty(){return new Et(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return jn.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new jn(e.slice()))}}function Zb(r,e,i){if(!i)throw new et(Te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $C(r,e,i,a){if(e===!0&&a===!0)throw new et(Te.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function J0(r){if(!Et.isDocumentKey(r))throw new et(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Z0(r){if(Et.isDocumentKey(r))throw new et(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function e1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function Yh(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new et(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hf(r);throw new et(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function JC(r,e){if(e<=0)throw new et(Te.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function _i(r,e){const i={typeString:r};return e&&(i.value=e),i}function hc(r,e){if(!e1(r))throw new et(Te.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new et(Te.INVALID_ARGUMENT,i);return!0}const e_=-62135596800,t_=1e6;class Gn{static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*t_);return new Gn(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new et(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new et(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e_)throw new et(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,Gn._jsonSchema))return new Gn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gn._jsonSchemaVersion="firestore/timestamp/1.0",Gn._jsonSchema={type:_i("string",Gn._jsonSchemaVersion),seconds:_i("number"),nanoseconds:_i("number")};class Nt{static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Gn(0,0))}static max(){return new Nt(new Gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function ZC(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Nt.fromTimestamp(a===1e9?new Gn(i+1,0):new Gn(i,a));return new po(l,Et.empty(),e)}function eR(r){return new po(r.readTime,r.key,$u)}class po{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new po(Nt.min(),Et.empty(),$u)}static max(){return new po(Nt.max(),Et.empty(),$u)}}function tR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Et.comparator(r.documentKey,e.documentKey),i!==0?i:Jt(r.largestBatchId,e.largestBatchId))}const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $l(r){if(r.code!==Te.FAILED_PRECONDITION||r.message!==nR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Re(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Re?i:Re.resolve(i)}catch(i){return Re.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Re.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Re.reject(i)}static resolve(e){return new Re(((i,a)=>{i(e)}))}static reject(e){return new Re(((i,a)=>{a(e)}))}static waitFor(e){return new Re(((i,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(E=>a(E)))})),p=!0,c===l&&i()}))}static or(e){let i=Re.resolve(!1);for(const a of e)i=i.next((l=>l?Re.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new Re(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;i(e[w]).next((I=>{p[w]=I,++b,b===c&&a(p)}),(I=>l(I)))}}))}static doWhile(e,i){return new Re(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function rR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Jl(r){return r.name==="IndexedDbTransactionError"}class ff{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;const Ap=-1;function df(r){return r==null}function Xh(r){return r===0&&1/r==-1/0}function aR(r){return typeof r=="number"&&Number.isInteger(r)&&!Xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const t1="";function sR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=n_(e)),e=oR(r.get(i),e);return n_(e)}function oR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case t1:i+="";break;default:i+=c}}return i}function n_(r){return r+t1+""}function i_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Go(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function n1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ei{constructor(e,i){this.comparator=e,this.root=i||Hi.EMPTY}insert(e,i){return new ei(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hi{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Hi.RED,this.left=l??Hi.EMPTY,this.right=c??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Hi(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Hi.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1;Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Hi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ti(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ta{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new Ta([])}unionWith(e){let i=new Ti(qi.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ta(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new i1("Invalid base64 string: "+c):c}})(e);return new Gi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Gi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(r){if(Tn(!!r,39018),typeof r=="string"){let e=0;const i=lR.exec(r);if(Tn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ci(r.seconds),nanos:ci(r.nanos)}}function ci(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yo(r){return typeof r=="string"?Gi.fromBase64String(r):Gi.fromUint8Array(r)}const r1="server_timestamp",a1="__type__",s1="__previous_value__",o1="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[a1]?.stringValue===r1}function mf(r){const e=r.mapValue.fields[s1];return Sp(e)?mf(e):e}function Ju(r){const e=go(r.mapValue.fields[o1].timestampValue);return new Gn(e.seconds,e.nanos)}class uR{constructor(e,i,a,l,c,p,b,E,w,I){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=I}}const Qh="(default)";class Zu{constructor(e,i){this.projectId=e,this.database=i||Qh}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const l1="__type__",cR="__max__",bh={mapValue:{}},u1="__vector__",Kh="value";function vo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:fR(r)?9007199254740991:hR(r)?10:11:St(28295,{value:r})}function Ha(r,e){if(r===e)return!0;const i=vo(r);if(i!==vo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ju(r).isEqual(Ju(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=go(l.timestampValue),b=go(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return yo(l.bytesValue).isEqual(yo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ci(l.geoPointValue.latitude)===ci(c.geoPointValue.latitude)&&ci(l.geoPointValue.longitude)===ci(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ci(l.integerValue)===ci(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ci(l.doubleValue),b=ci(c.doubleValue);return p===b?Xh(p)===Xh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Fl(r.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(i_(p)!==i_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!Ha(p[E],b[E])))return!1;return!0})(r,e);default:return St(52216,{left:r})}}function ec(r,e){return(r.values||[]).find((i=>Ha(i,e)))!==void 0}function Hl(r,e){if(r===e)return 0;const i=vo(r),a=vo(e);if(i!==a)return Jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Jt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ci(c.integerValue||c.doubleValue),E=ci(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(r,e);case 3:return a_(r.timestampValue,e.timestampValue);case 4:return a_(Ju(r),Ju(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=yo(c),E=yo(p);return b.compareTo(E)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const I=Jt(b[w],E[w]);if(I!==0)return I}return Jt(b.length,E.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Jt(ci(c.latitude),ci(p.latitude));return b!==0?b:Jt(ci(c.longitude),ci(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return s_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[Kh]?.arrayValue,I=E[Kh]?.arrayValue,L=Jt(w?.values?.length||0,I?.values?.length||0);return L!==0?L:s_(w,I)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===bh.mapValue&&p===bh.mapValue)return 0;if(c===bh.mapValue)return 1;if(p===bh.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},I=Object.keys(w);E.sort(),I.sort();for(let L=0;L<E.length&&L<I.length;++L){const H=Qm(E[L],I[L]);if(H!==0)return H;const ie=Hl(b[E[L]],w[I[L]]);if(ie!==0)return ie}return Jt(E.length,I.length)})(r.mapValue,e.mapValue);default:throw St(23264,{he:i})}}function a_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Jt(r,e);const i=go(r),a=go(e),l=Jt(i.seconds,a.seconds);return l!==0?l:Jt(i.nanos,a.nanos)}function s_(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Hl(i[l],a[l]);if(c)return c}return Jt(i.length,a.length)}function ql(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=go(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Et.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Km(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Km(i.fields[p])}`;return l+"}"})(r.mapValue):St(61005,{value:r})}function Nh(r){switch(vo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Nh(e):16;case 5:return 2*r.stringValue.length;case 6:return yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Nh(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Go(a.fields,((c,p)=>{l+=c.length+Nh(p)})),l})(r.mapValue);default:throw St(13486,{value:r})}}function o_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function Cp(r){return!!r&&"arrayValue"in r}function l_(r){return!!r&&"nullValue"in r}function u_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dh(r){return!!r&&"mapValue"in r}function hR(r){return(r?.mapValue?.fields||{})[l1]?.stringValue===u1}function qu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Go(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=qu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=qu(r.arrayValue.values[i]);return e}return{...r}}function fR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}class fa{constructor(e){this.value=e}static empty(){return new fa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Dh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(i)}setAll(e){let i=qi.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const E=this.getFieldsMap(i);this.applyChanges(E,a,l),a={},l=[],i=b.popLast()}p?a[b.lastSegment()]=qu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Dh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Dh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Go(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new fa(qu(this.value))}}function c1(r){const e=[];return Go(r.fields,((i,a)=>{const l=new qi([i]);if(Dh(a)){const c=c1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new Ta(e)}class nr{constructor(e,i,a,l,c,p,b){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new nr(e,0,Nt.min(),Nt.min(),Nt.min(),fa.empty(),0)}static newFoundDocument(e,i,a,l){return new nr(e,1,i,Nt.min(),a,l,0)}static newNoDocument(e,i){return new nr(e,2,i,Nt.min(),Nt.min(),fa.empty(),0)}static newUnknownDocument(e,i){return new nr(e,3,i,Nt.min(),Nt.min(),fa.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,i){this.position=e,this.inclusive=i}}function c_(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?a=Et.comparator(Et.fromName(p.referenceValue),i.key):a=Hl(p,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function h_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ha(r.position[i],e.position[i]))return!1;return!0}class tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function dR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class h1{}class vi extends h1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new pR(e,i,a):i==="array-contains"?new vR(e,a):i==="in"?new _R(e,a):i==="not-in"?new bR(e,a):i==="array-contains-any"?new wR(e,a):new vi(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new gR(e,a):new yR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hl(i,this.value)):i!==null&&vo(this.value)===vo(i)&&this.matchesComparison(Hl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Aa extends h1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Aa(e,i)}matches(e){return f1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f1(r){return r.op==="and"}function d1(r){return mR(r)&&f1(r)}function mR(r){for(const e of r.filters)if(e instanceof Aa)return!1;return!0}function $m(r){if(r instanceof vi)return r.field.canonicalString()+r.op.toString()+ql(r.value);if(d1(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((i=>$m(i))).join(",");return`${r.op}(${e})`}}function m1(r,e){return r instanceof vi?(function(a,l){return l instanceof vi&&a.op===l.op&&a.field.isEqual(l.field)&&Ha(a.value,l.value)})(r,e):r instanceof Aa?(function(a,l){return l instanceof Aa&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&m1(p,l.filters[b])),!0):!1})(r,e):void St(19439)}function p1(r){return r instanceof vi?(function(i){return`${i.field.canonicalString()} ${i.op} ${ql(i.value)}`})(r):r instanceof Aa?(function(i){return i.op.toString()+" {"+i.getFilters().map(p1).join(" ,")+"}"})(r):"Filter"}class pR extends vi{constructor(e,i,a){super(e,i,a),this.key=Et.fromName(a.referenceValue)}matches(e){const i=Et.comparator(e.key,this.key);return this.matchesComparison(i)}}class gR extends vi{constructor(e,i){super(e,"in",i),this.keys=g1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class yR extends vi{constructor(e,i){super(e,"not-in",i),this.keys=g1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function g1(r,e){return(e.arrayValue?.values||[]).map((i=>Et.fromName(i.referenceValue)))}class vR extends vi{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Cp(i)&&ec(i.arrayValue,this.value)}}class _R extends vi{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ec(this.value.arrayValue,i)}}class bR extends vi{constructor(e,i){super(e,"not-in",i)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ec(this.value.arrayValue,i)}}class wR extends vi{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Cp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ec(this.value.arrayValue,a)))}}class ER{constructor(e,i=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function f_(r,e=null,i=[],a=[],l=null,c=null,p=null){return new ER(r,e,i,a,l,c,p)}function Rp(r){const e=Ot(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>$m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),df(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ql(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ql(a))).join(",")),e.Te=i}return e.Te}function xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!m1(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!h_(r.startAt,e.startAt)&&h_(r.endAt,e.endAt)}function Jm(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zl{constructor(e,i=null,a=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(r,e,i,a,l,c,p,b){return new Zl(r,e,i,a,l,c,p,b)}function y1(r){return new Zl(r)}function d_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function v1(r){return r.collectionGroup!==null}function Gu(r){const e=Ot(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Ti(qi.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new tc(c,a))})),i.has(qi.keyField().canonicalString())||e.Ie.push(new tc(qi.keyField(),a))}return e.Ie}function Ua(r){const e=Ot(r);return e.Ee||(e.Ee=AR(e,Gu(r))),e.Ee}function AR(r,e){if(r.limitType==="F")return f_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new tc(l.field,c)}));const i=r.endAt?new Wh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wh(r.startAt.position,r.startAt.inclusive):null;return f_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Zm(r,e){const i=r.filters.concat([e]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function $h(r,e,i){return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function pf(r,e){return xp(Ua(r),Ua(e))&&r.limitType===e.limitType}function _1(r){return`${Rp(Ua(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>p1(l))).join(", ")}]`),df(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ql(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ql(l))).join(",")),`Target(${a})`})(Ua(r))}; limitType=${r.limitType})`}function gf(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Et.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Gu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,E){const w=c_(p,b,E);return p.inclusive?w<=0:w<0})(a.startAt,Gu(a),l)||a.endAt&&!(function(p,b,E){const w=c_(p,b,E);return p.inclusive?w>=0:w>0})(a.endAt,Gu(a),l))})(r,e)}function SR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b1(r){return(e,i)=>{let a=!1;for(const l of Gu(r)){const c=CR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function CR(r,e,i){const a=r.field.isKeyField()?Et.comparator(e.key,i.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Hl(E,w):St(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return St(19790,{direction:r.dir})}}class Yo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const RR=new ei(Et.comparator);function Cs(){return RR}const w1=new ei(Et.comparator);function zu(...r){let e=w1;for(const i of r)e=e.insert(i.key,i);return e}function E1(r){let e=w1;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Uo(){return Yu()}function T1(){return Yu()}function Yu(){return new Yo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xR=new ei(Et.comparator),IR=new Ti(Et.comparator);function Zt(...r){let e=IR;for(const i of r)e=e.add(i);return e}const MR=new Ti(Jt);function NR(){return MR}function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function A1(r){return{integerValue:""+r}}function DR(r,e){return aR(e)?A1(e):Ip(r,e)}class yf{constructor(){this._=void 0}}function OR(r,e,i){return r instanceof Jh?(function(l,c){const p={fields:{[a1]:{stringValue:r1},[o1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sp(c)&&(c=mf(c)),c&&(p.fields[s1]=c),{mapValue:p}})(i,e):r instanceof nc?C1(r,e):r instanceof ic?R1(r,e):(function(l,c){const p=S1(l,c),b=m_(p)+m_(l.Ae);return Wm(p)&&Wm(l.Ae)?A1(b):Ip(l.serializer,b)})(r,e)}function kR(r,e,i){return r instanceof nc?C1(r,e):r instanceof ic?R1(r,e):i}function S1(r,e){return r instanceof Zh?(function(a){return Wm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Jh extends yf{}class nc extends yf{constructor(e){super(),this.elements=e}}function C1(r,e){const i=x1(e);for(const a of r.elements)i.some((l=>Ha(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ic extends yf{constructor(e){super(),this.elements=e}}function R1(r,e){let i=x1(e);for(const a of r.elements)i=i.filter((l=>!Ha(l,a)));return{arrayValue:{values:i}}}class Zh extends yf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function m_(r){return ci(r.integerValue||r.doubleValue)}function x1(r){return Cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function VR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof nc&&l instanceof nc||a instanceof ic&&l instanceof ic?Fl(a.elements,l.elements,Ha):a instanceof Zh&&l instanceof Zh?Ha(a.Ae,l.Ae):a instanceof Jh&&l instanceof Jh})(r.transform,e.transform)}class PR{constructor(e,i){this.version=e,this.transformResults=i}}class bs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vf{}function I1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new N1(r.key,bs.none()):new fc(r.key,r.data,bs.none());{const i=r.data,a=fa.empty();let l=new Ti(qi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Xo(r.key,a,new Ta(l.toArray()),bs.none())}}function LR(r,e,i){r instanceof fc?(function(l,c,p){const b=l.value.clone(),E=g_(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Xo?(function(l,c,p){if(!Oh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=g_(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(M1(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Xu(r,e,i,a){return r instanceof fc?(function(c,p,b,E){if(!Oh(c.precondition,p))return b;const w=c.value.clone(),I=y_(c.fieldTransforms,E,p);return w.setAll(I),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(r,e,i,a):r instanceof Xo?(function(c,p,b,E){if(!Oh(c.precondition,p))return b;const w=y_(c.fieldTransforms,E,p),I=p.data;return I.setAll(M1(c)),I.setAll(w),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,a):(function(c,p,b){return Oh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function jR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=S1(a.transform,l||null);c!=null&&(i===null&&(i=fa.empty()),i.set(a.field,c))}return i||null}function p_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Fl(a,l,((c,p)=>VR(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends vf{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xo extends vf{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function M1(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function g_(r,e,i){const a=new Map;Tn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,kR(p,b,i[l]))}return a}function y_(r,e,i){const a=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);a.set(l.field,OR(c,p,e))}return a}class N1 extends vf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UR extends vf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&LR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Xu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Xu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=T1();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const E=I1(p,b);E!==null&&a.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(Nt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Zt())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((i,a)=>p_(i,a)))&&Fl(this.baseMutations,e.baseMutations,((i,a)=>p_(i,a)))}}class Mp{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Tn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return xR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Mp(e,i,a,l)}}class BR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FR{constructor(e,i){this.count=e,this.unchangedNames=i}}var yi,sn;function HR(r){switch(r){case Te.OK:return St(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function D1(r){if(r===void 0)return Ss("GRPC error has no .code"),Te.UNKNOWN;switch(r){case yi.OK:return Te.OK;case yi.CANCELLED:return Te.CANCELLED;case yi.UNKNOWN:return Te.UNKNOWN;case yi.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case yi.INTERNAL:return Te.INTERNAL;case yi.UNAVAILABLE:return Te.UNAVAILABLE;case yi.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case yi.NOT_FOUND:return Te.NOT_FOUND;case yi.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case yi.ABORTED:return Te.ABORTED;case yi.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case yi.DATA_LOSS:return Te.DATA_LOSS;default:return St(39323,{code:r})}}(sn=yi||(yi={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";function qR(){return new TextEncoder}const GR=new ho([4294967295,4294967295],0);function v_(r){const e=qR().encode(r),i=new Gb;return i.update(e),new Uint8Array(i.digest())}function __(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ho([i,a],0),new ho([l,c],0)]}class Np{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bu(`Invalid padding: ${i}`);if(a<0)throw new Bu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ho.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(ho.fromNumber(a)));return l.compare(GR)===1&&(l=new ho([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[a,l]=__(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Np(c,l,i);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=v_(e),[a,l]=__(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new _f(Nt.min(),l,new ei(Jt),Cs(),Zt())}}class dc{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new dc(a,i,Zt(),Zt(),Zt())}}class kh{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class O1{constructor(e,i){this.targetId=e,this.Ce=i}}class k1{constructor(e,i,a=Gi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class b_{constructor(){this.ve=0,this.Fe=w_(),this.Me=Gi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zt(),i=Zt(),a=Zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:St(38017,{changeType:c})}})),new dc(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=w_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=wh(),this.He=wh(),this.Ye=new ei(Jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:St(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Jm(c))if(a===0){const p=new Et(c.path);this.et(i,p,nr.newNoDocument(p,Nt.min()))}else Tn(a===1,20013,{expectedCount:a});else{const p=this._t(i);if(p!==a){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(i);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,w)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=yo(a).toUint8Array()}catch(E){if(E instanceof i1)return Bl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new Np(p,l,c)}catch(E){return Bl(E instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Jm(b.target)){const E=new Et(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,nr.newNoDocument(E,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let a=Zt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new _f(e,i,this.Ye,this.je,a);return this.je=Cs(),this.Je=wh(),this.He=wh(),this.Ye=new ei(Jt),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new b_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ti(Jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ti(Jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function wh(){return new ei(Et.comparator)}function w_(){return new ei(Et.comparator)}const XR={asc:"ASCENDING",desc:"DESCENDING"},QR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class WR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ep(r,e){return r.useProto3Json||df(e)?e:{value:e}}function ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $R(r,e){return ef(r,e.toTimestamp())}function za(r){return Tn(!!r,49232),Nt.fromTimestamp((function(i){const a=go(i);return new Gn(a.seconds,a.nanos)})(r))}function Dp(r,e){return tp(r,e).canonicalString()}function tp(r,e){const i=(function(l){return new jn(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function P1(r){const e=jn.fromString(r);return Tn(B1(e),10190,{key:e.toString()}),e}function np(r,e){return Dp(r.databaseId,e.path)}function Nm(r,e){const i=P1(e);if(i.get(1)!==r.databaseId.projectId)throw new et(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new et(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Et(j1(i))}function L1(r,e){return Dp(r.databaseId,e)}function JR(r){const e=P1(r);return e.length===4?jn.emptyPath():j1(e)}function ip(r){return new jn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function j1(r){return Tn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function E_(r,e,i){return{name:np(r,e),fields:i.value.mapValue.fields}}function ZR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:St(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,I){return w.useProto3Json?(Tn(I===void 0||typeof I=="string",58123),Gi.fromBase64String(I||"")):(Tn(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),Gi.fromUint8Array(I||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const I=w.code===void 0?Te.UNKNOWN:D1(w.code);return new et(I,w.message||"")})(p);i=new k1(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Nm(r,a.document.name),c=za(a.document.updateTime),p=a.document.createTime?za(a.document.createTime):Nt.min(),b=new fa({mapValue:{fields:a.document.fields}}),E=nr.newFoundDocument(l,c,p,b),w=a.targetIds||[],I=a.removedTargetIds||[];i=new kh(w,I,E.key,E)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Nm(r,a.document),c=a.readTime?za(a.readTime):Nt.min(),p=nr.newNoDocument(l,c),b=a.removedTargetIds||[];i=new kh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Nm(r,a.document),c=a.removedTargetIds||[];i=new kh([],c,l,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new FR(l,c),b=a.targetId;i=new O1(b,p)}}return i}function ex(r,e){let i;if(e instanceof fc)i={update:E_(r,e.key,e.value)};else if(e instanceof N1)i={delete:np(r,e.key)};else if(e instanceof Xo)i={update:E_(r,e.key,e.data),updateMask:ux(e.fieldMask)};else{if(!(e instanceof UR))return St(16599,{Vt:e.type});i={verify:np(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof Jh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ic)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Zh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw St(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$R(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)})(r,e.precondition)),i}function tx(r,e){return r&&r.length>0?(Tn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?za(l.updateTime):za(c);return p.isEqual(Nt.min())&&(p=za(c)),new PR(p,l.transformResults||[])})(i,e)))):[]}function nx(r,e){return{documents:[L1(r,e.path)]}}function ix(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=L1(r,l);const c=(function(w){if(w.length!==0)return z1(Aa.create(w,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((I=>(function(H){return{field:Il(H.field),direction:sx(H.dir)}})(I)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=ep(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:i,parent:l}}function rx(r){let e=JR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Tn(a===1,65062);const I=i.from[0];I.allDescendants?l=I.collectionId:e=e.child(I.collectionId)}let c=[];i.where&&(c=(function(L){const H=U1(L);return H instanceof Aa&&d1(H)?H.getFilters():[H]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((H=>(function(B){return new tc(Ml(B.field),(function(Se){switch(Se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(H)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let H;return H=typeof L=="object"?L.value:L,df(H)?null:H})(i.limit));let E=null;i.startAt&&(E=(function(L){const H=!!L.before,ie=L.values||[];return new Wh(ie,H)})(i.startAt));let w=null;return i.endAt&&(w=(function(L){const H=!L.before,ie=L.values||[];return new Wh(ie,H)})(i.endAt)),TR(e,l,p,c,b,"F",E,w)}function ax(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function U1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ml(i.unaryFilter.field);return vi.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return vi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return vi.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return vi.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(r):r.fieldFilter!==void 0?(function(i){return vi.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Aa.create(i.compositeFilter.filters.map((a=>U1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(i.compositeFilter.op))})(r):St(30097,{filter:r})}function sx(r){return XR[r]}function ox(r){return QR[r]}function lx(r){return KR[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Ml(r){return qi.fromServerFormat(r.fieldPath)}function z1(r){return r instanceof vi?(function(i){if(i.op==="=="){if(u_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(l_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(u_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(l_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:ox(i.op),value:i.value}}})(r):r instanceof Aa?(function(i){const a=i.getFilters().map((l=>z1(l)));return a.length===1?a[0]:{compositeFilter:{op:lx(i.op),filters:a}}})(r):St(54877,{filter:r})}function ux(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function B1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class oo{constructor(e,i,a,l,c=Nt.min(),p=Nt.min(),b=Gi.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cx{constructor(e){this.yt=e}}function hx(r){const e=rx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$h(e,e.limit,"L"):e}class fx{constructor(){this.Cn=new dx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Re.resolve()}getCollectionParents(e,i){return Re.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Re.resolve()}deleteFieldIndex(e,i){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,i){return Re.resolve()}getDocumentsMatchingTarget(e,i){return Re.resolve(null)}getIndexType(e,i){return Re.resolve(0)}getFieldIndexes(e,i){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,i){return Re.resolve(po.min())}getMinOffsetFromCollectionGroup(e,i){return Re.resolve(po.min())}updateCollectionGroup(e,i,a){return Re.resolve()}updateIndexEntries(e,i){return Re.resolve()}}class dx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ti(jn.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ti(jn.comparator)).toArray()}}const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F1=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(F1,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}const A_="LruGarbageCollector",mx=1048576;function S_([r,e],[i,a]){const l=Jt(r,i);return l===0?Jt(e,a):l}class px{constructor(e){this.Ir=e,this.buffer=new Ti(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();S_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Jl(i)?rt(A_,"Ignoring IndexedDB error during garbage collection: ",i):await $l(i)}await this.Vr(3e5)}))}}class yx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Re.resolve(ff.ce);const a=new px(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(T_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,p,b,E,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(a=L,b=Date.now(),this.removeTargets(e,a,i)))).next((L=>(c=L,E=Date.now(),this.removeOrphanedDocuments(e,a)))).next((L=>(w=Date.now(),Rl()<=$t.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${L} documents in `+(w-E)+`ms
Total Duration: ${w-I}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function vx(r,e){return new yx(r,e)}class _x{constructor(){this.changes=new Yo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Re.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class wx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Xu(a.mutation,l,Ta.empty(),Gn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Zt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Zt()){const l=Uo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let p=zu();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const a=Uo();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Zt())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,a,l){let c=Cs();const p=Yu(),b=(function(){return Yu()})();return i.forEach(((E,w)=>{const I=a.get(w.key);l.has(w.key)&&(I===void 0||I.mutation instanceof Xo)?c=c.insert(w.key,w):I!==void 0?(p.set(w.key,I.mutation.getFieldMask()),Xu(I.mutation,w,I.mutation.getFieldMask(),Gn.now())):p.set(w.key,Ta.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,I)=>p.set(w,I))),i.forEach(((w,I)=>b.set(w,new bx(I,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,i){const a=Yu();let l=new ei(((p,b)=>p-b)),c=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=i.get(E);if(w===null)return;let I=a.get(E)||Ta.empty();I=b.applyToLocalView(w,I),a.set(E,I);const L=(l.get(b.batchId)||Zt()).add(E);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,I=E.value,L=T1();I.forEach((H=>{if(!c.has(H)){const ie=I1(i.get(H),a.get(H));ie!==null&&L.set(H,ie),c=c.add(H)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,L))}return Re.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(p){return Et.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):v1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):Re.resolve(Uo());let b=$u,E=c;return p.next((w=>Re.forEach(w,((I,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(I)?Re.resolve():this.remoteDocumentCache.getEntry(e,I).next((H=>{E=E.insert(I,H)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,Zt()))).next((I=>({batchId:b,changes:E1(I)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Et(i)).next((a=>{let l=zu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let p=zu();return this.indexManager.getCollectionParents(e,c).next((b=>Re.forEach(b,(E=>{const w=(function(L,H){return new Zl(H,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,a,l).next((I=>{I.forEach(((L,H)=>{p=p.insert(L,H)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((p=>{c.forEach(((E,w)=>{const I=w.getKey();p.get(I)===null&&(p=p.insert(I,nr.newInvalidDocument(I)))}));let b=zu();return p.forEach(((E,w)=>{const I=c.get(E);I!==void 0&&Xu(I.mutation,w,Ta.empty(),Gn.now()),gf(i,w)&&(b=b.insert(E,w))})),b}))}}class Ex{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Re.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:za(l.createTime)}})(i)),Re.resolve()}getNamedQuery(e,i){return Re.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:hx(l.bundledQuery),readTime:za(l.readTime)}})(i)),Re.resolve()}}class Tx{constructor(){this.overlays=new ei(Et.comparator),this.qr=new Map}getOverlay(e,i){return Re.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Uo();return Re.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),Re.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Re.resolve()}getOverlaysForCollection(e,i,a){const l=Uo(),c=i.length+1,p=new Et(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!i.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>a&&l.set(E.getKey(),E)}return Re.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new ei(((w,I)=>w-I));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===i&&w.largestBatchId>a){let I=c.get(w.largestBatchId);I===null&&(I=Uo(),c=c.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const b=Uo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,I)=>b.set(w,I))),!(b.size()>=l)););return Re.resolve(b)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new BR(i,a));let c=this.qr.get(i);c===void 0&&(c=Zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Ax{constructor(){this.sessionToken=Gi.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Re.resolve()}}class Op{constructor(){this.Qr=new Ti(Mi.$r),this.Ur=new Ti(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Mi(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Mi(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Et(new jn([])),a=new Mi(i,e),l=new Mi(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Et(new jn([])),a=new Mi(i,e),l=new Mi(i,e+1);let c=Zt();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new Mi(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Mi{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Et.comparator(e.key,i.key)||Jt(e.Yr,i.Yr)}static Kr(e,i){return Jt(e.Yr,i.Yr)||Et.comparator(e.key,i.key)}}class Sx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ti(Mi.$r)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new zR(c,i,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Mi(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Re.resolve(p)}lookupMutationBatch(e,i){return Re.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Mi(i,0),l=new Mi(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ti(Jt);return i.forEach((l=>{const c=new Mi(l,0),p=new Mi(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Re.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Et.isDocumentKey(c)||(c=c.child(""));const p=new Mi(new Et(c),0);let b=new Ti(Jt);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!a.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),Re.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Tn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Re.forEach(i.mutations,(l=>{const c=new Mi(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Mi(i,0),l=this.Zr.firstAfterOrEqual(a);return Re.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Cx{constructor(e){this.ri=e,this.docs=(function(){return new ei(Et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Re.resolve(a?a.document.mutableCopy():nr.newInvalidDocument(i))}getEntries(e,i){let a=Cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nr.newInvalidDocument(l))})),Re.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Cs();const p=i.path,b=new Et(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:I}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||tR(eR(I),a)<=0||(l.has(I.key)||gf(i,I))&&(c=c.insert(I.key,I.mutableCopy()))}return Re.resolve(c)}getAllFromCollectionGroup(e,i,a,l){St(9500)}ii(e,i){return Re.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Rx(this)}getSize(e){return Re.resolve(this.size)}}class Rx extends _x{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Re.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class xx{constructor(e){this.persistence=e,this.si=new Yo((i=>Rp(i)),xp),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Re.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Gl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Re.resolve()}updateTargetData(e,i){return this.Pr(i),Re.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Re.waitFor(c).next((()=>l))}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Re.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Re.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Re.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Re.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Re.resolve(a)}containsKey(e,i){return Re.resolve(this._i.containsKey(i))}}class H1{constructor(e,i){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new Ax,this.referenceDelegate=e(this),this.Pi=new xx(this),this.indexManager=new fx,this.remoteDocumentCache=(function(l){return new Cx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new cx(i),this.Ii=new Ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Tx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Sx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const l=new Ix(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Re.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Ix extends iR{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Re.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Re.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Re.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.fi,(a=>{const l=Et.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Nt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Re.or([()=>Re.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class tf{constructor(e,i){this.persistence=e,this.pi=new Yo((a=>sR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=vx(this,i)}static mi(e,i){return new tf(e,i)}Ei(){}di(e){return Re.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Re.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Re.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(a++,c.removeEntry(p,Nt.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Re.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Re.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Re.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Nh(e.data.value)),i}br(e,i,a){return Re.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Re.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Zt(),l=Zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vp(e,i.fromCache,a,l)}}class Mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _A()?8:rR(ir())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new Mx;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(Rl()<=$t.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",xl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Re.resolve()):(Rl()<=$t.DEBUG&&rt("QueryEngine","Query:",xl(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Rl()<=$t.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",xl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ua(i))):Re.resolve())}ys(e,i){if(d_(i))return Re.resolve(null);let a=Ua(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$h(i,null,"F"),a=Ua(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=Zt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((E=>{const w=this.Ds(i,b);return this.Cs(i,w,p,E.readTime)?this.ys(e,$h(i,null,"F")):this.vs(e,w,i,E)}))))})))))}ws(e,i,a,l){return d_(i)||l.isEqual(Nt.min())?Re.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,a,l)?Re.resolve(null):(Rl()<=$t.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xl(i)),this.vs(e,p,i,ZC(l,$u)).next((b=>b)))}))}Ds(e,i){let a=new Ti(b1(e));return i.forEach(((l,c)=>{gf(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return Rl()<=$t.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",xl(i)),this.ps.getDocumentsMatchingQuery(e,i,po.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Pp="LocalStore",Dx=3e8;class Ox{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ei(Jt),this.xs=new Yo((c=>Rp(c)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function kx(r,e,i,a){return new Ox(r,e,i,a)}async function q1(r,e){const i=Ot(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let E=Zt();for(const w of l){p.push(w.batchId);for(const I of w.mutations)E=E.add(I.key)}for(const w of c){b.push(w.batchId);for(const I of w.mutations)E=E.add(I.key)}return i.localDocuments.getDocuments(a,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function Vx(r,e){const i=Ot(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,I){const L=w.batch,H=L.keys();let ie=Re.resolve();return H.forEach((B=>{ie=ie.next((()=>I.getEntry(E,B))).next((Oe=>{const Se=w.docVersions.get(B);Tn(Se!==null,48541),Oe.version.compareTo(Se)<0&&(L.applyToRemoteDocument(Oe,w),Oe.isValidDocument()&&(Oe.setReadTime(w.commitVersion),I.addEntry(Oe)))}))})),ie.next((()=>b.mutationQueue.removeMutationBatch(E,L)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let E=Zt();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function G1(r){const e=Ot(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Px(r,e){const i=Ot(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((I,L)=>{const H=l.get(L);if(!H)return;b.push(i.Pi.removeMatchingKeys(c,I.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,I.addedDocuments,L))));let ie=H.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?ie=ie.withResumeToken(Gi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):I.resumeToken.approximateByteSize()>0&&(ie=ie.withResumeToken(I.resumeToken,a)),l=l.insert(L,ie),(function(Oe,Se,Le){return Oe.resumeToken.approximateByteSize()===0||Se.snapshotVersion.toMicroseconds()-Oe.snapshotVersion.toMicroseconds()>=Dx?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(H,ie,I)&&b.push(i.Pi.updateTargetData(c,ie))}));let E=Cs(),w=Zt();if(e.documentUpdates.forEach((I=>{e.resolvedLimboDocuments.has(I)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,I))})),b.push(Lx(c,p,e.documentUpdates).next((I=>{E=I.ks,w=I.qs}))),!a.isEqual(Nt.min())){const I=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(I)}return Re.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(i.Ms=l,c)))}function Lx(r,e,i){let a=Zt(),l=Zt();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let p=Cs();return i.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(Nt.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):rt(Pp,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function jx(r,e){const i=Ot(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ap),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Ux(r,e){const i=Ot(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,Re.resolve(l)):i.Pi.allocateTargetId(a).next((p=>(l=new oo(e,p,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function rp(r,e,i){const a=Ot(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Jl(p))throw p;rt(Pp,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function C_(r,e,i){const a=Ot(r);let l=Nt.min(),c=Zt();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,I){const L=Ot(E),H=L.xs.get(I);return H!==void 0?Re.resolve(L.Ms.get(H)):L.Pi.getTargetData(w,I)})(a,p,Ua(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,i?l:Nt.min(),i?c:Zt()))).next((b=>(zx(a,SR(e),b),{documents:b,Qs:c})))))}function zx(r,e,i){let a=r.Os.get(e)||Nt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class R_{constructor(){this.activeTargetIds=NR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bx{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fx{Oo(e){}shutdown(){}}const x_="ConnectivityMonitor";class I_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(x_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function ap(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const Dm="RestConnection",Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const p=ap(),b=this.zo(e,i.toUriEncodedString());rt(Dm,`Sending RPC '${e}' ${p}:`,b,a);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),I=Xl(w);return this.Jo(e,b,E,a,I).then((L=>(rt(Dm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw Bl(Dm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",a),L}))}Ho(e,i,a,l,c,p){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=Hx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Gx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const er="WebChannelConnection";class Yx extends qx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const p=ap();return new Promise(((b,E)=>{const w=new Yb;w.setWithCredentials(!0),w.listenOnce(Xb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case Mh.NO_ERROR:const L=w.getResponseJson();rt(er,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case Mh.TIMEOUT:rt(er,`RPC '${e}' ${p} timed out`),E(new et(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const H=w.getStatus();if(rt(er,`RPC '${e}' ${p} failed with status:`,H,"response text:",w.getResponseText()),H>0){let ie=w.getResponseJson();Array.isArray(ie)&&(ie=ie[0]);const B=ie?.error;if(B&&B.status&&B.message){const Oe=(function(Le){const Pe=Le.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Pe)>=0?Pe:Te.UNKNOWN})(B.status);E(new et(Oe,B.message))}else E(new et(Te.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new et(Te.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{rt(er,`RPC '${e}' ${p} completed.`)}}));const I=JSON.stringify(l);rt(er,`RPC '${e}' ${p} sending request:`,l),w.send(i,"POST",I,a,15)}))}T_(e,i,a){const l=ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Wb(),b=Kb(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,i,a),E.encodeInitMessageHeaders=!0;const I=c.join("");rt(er,`Creating RPC '${e}' stream ${l}: ${I}`,E);const L=p.createWebChannel(I,E);this.I_(L);let H=!1,ie=!1;const B=new Gx({Yo:Se=>{ie?rt(er,`Not sending because RPC '${e}' stream ${l} is closed:`,Se):(H||(rt(er,`Opening RPC '${e}' stream ${l} transport.`),L.open(),H=!0),rt(er,`RPC '${e}' stream ${l} sending:`,Se),L.send(Se))},Zo:()=>L.close()}),Oe=(Se,Le,Pe)=>{Se.listen(Le,(Fe=>{try{Pe(Fe)}catch(We){setTimeout((()=>{throw We}),0)}}))};return Oe(L,Uu.EventType.OPEN,(()=>{ie||(rt(er,`RPC '${e}' stream ${l} transport opened.`),B.o_())})),Oe(L,Uu.EventType.CLOSE,(()=>{ie||(ie=!0,rt(er,`RPC '${e}' stream ${l} transport closed`),B.a_(),this.E_(L))})),Oe(L,Uu.EventType.ERROR,(Se=>{ie||(ie=!0,Bl(er,`RPC '${e}' stream ${l} transport errored. Name:`,Se.name,"Message:",Se.message),B.a_(new et(Te.UNAVAILABLE,"The operation could not be completed")))})),Oe(L,Uu.EventType.MESSAGE,(Se=>{if(!ie){const Le=Se.data[0];Tn(!!Le,16349);const Pe=Le,Fe=Pe?.error||Pe[0]?.error;if(Fe){rt(er,`RPC '${e}' stream ${l} received error:`,Fe);const We=Fe.status;let Ue=(function(U){const V=yi[U];if(V!==void 0)return D1(V)})(We),vt=Fe.message;Ue===void 0&&(Ue=Te.INTERNAL,vt="Unknown error status: "+We+" with message "+Fe.message),ie=!0,B.a_(new et(Ue,vt)),L.close()}else rt(er,`RPC '${e}' stream ${l} received:`,Le),B.u_(Le)}})),Oe(b,Qb.STAT_EVENT,(Se=>{Se.stat===Xm.PROXY?rt(er,`RPC '${e}' stream ${l} detected buffering proxy`):Se.stat===Xm.NOPROXY&&rt(er,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Om(){return typeof document<"u"?document:null}function bf(r){return new WR(r,!0)}class Y1{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const M_="PersistentStream";class X1{constructor(e,i,a,l,c,p,b,E){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Te.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new et(Te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xx extends X1{constructor(e,i,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ZR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Nt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Nt.min():p.readTime?za(p.readTime):Nt.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ip(this.serializer),i.addTarget=(function(c,p){let b;const E=p.target;if(b=Jm(E)?{documents:nx(c,E)}:{query:ix(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=V1(c,p.resumeToken);const w=ep(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(Nt.min())>0){b.readTime=ef(c,p.snapshotVersion.toTimestamp());const w=ep(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const a=ax(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ip(this.serializer),i.removeTarget=e,this.q_(i)}}class Qx extends X1{constructor(e,i,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=tx(e.writeResults,e.commitTime),a=za(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>ex(this.serializer,a)))};this.q_(i)}}class Kx{}class Wx extends Kx{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,tp(i,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Te.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,tp(i,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new et(Te.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $x{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qo="RemoteStore";class Jx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Qo(this)&&(rt(qo,"Restarting streams for network reachability change."),await(async function(E){const w=Ot(E);w.Ea.add(4),await mc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await wf(w)})(this))}))})),this.Ra=new $x(a,l)}}async function wf(r){if(Qo(r))for(const e of r.da)await e(!0)}async function mc(r){for(const e of r.da)await e(!1)}function Q1(r,e){const i=Ot(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zp(i)?Up(i):eu(i).O_()&&jp(i,e))}function Lp(r,e){const i=Ot(r),a=eu(i);i.Ia.delete(e),a.O_()&&K1(i,e),i.Ia.size===0&&(a.O_()?a.L_():Qo(i)&&i.Ra.set("Unknown"))}function jp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}eu(r).Y_(e)}function K1(r,e){r.Va.Ue(e),eu(r).Z_(e)}function Up(r){r.Va=new YR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),eu(r).start(),r.Ra.ua()}function zp(r){return Qo(r)&&!eu(r).x_()&&r.Ia.size>0}function Qo(r){return Ot(r).Ea.size===0}function W1(r){r.Va=void 0}async function Zx(r){r.Ra.set("Online")}async function eI(r){r.Ia.forEach(((e,i)=>{jp(r,e)}))}async function tI(r,e){W1(r),zp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function nI(r,e,i){if(r.Ra.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(a){rt(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nf(r,a)}else if(e instanceof kh?r.Va.Ze(e):e instanceof O1?r.Va.st(e):r.Va.tt(e),!i.isEqual(Nt.min()))try{const a=await G1(r.localStore);i.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const I=c.Ia.get(w);I&&c.Ia.set(w,I.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const I=c.Ia.get(E);if(!I)return;c.Ia.set(E,I.withResumeToken(Gi.EMPTY_BYTE_STRING,I.snapshotVersion)),K1(c,E);const L=new oo(I.target,E,w,I.sequenceNumber);jp(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(a){rt(qo,"Failed to raise snapshot:",a),await nf(r,a)}}async function nf(r,e,i){if(!Jl(e))throw e;r.Ea.add(1),await mc(r),r.Ra.set("Offline"),i||(i=()=>G1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(qo,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wf(r)}))}function $1(r,e){return e().catch((i=>nf(r,i,e)))}async function Ef(r){const e=Ot(r),i=_o(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;iI(e);)try{const l=await jx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,rI(e,l)}catch(l){await nf(e,l)}J1(e)&&Z1(e)}function iI(r){return Qo(r)&&r.Ta.length<10}function rI(r,e){r.Ta.push(e);const i=_o(r);i.O_()&&i.X_&&i.ea(e.mutations)}function J1(r){return Qo(r)&&!_o(r).x_()&&r.Ta.length>0}function Z1(r){_o(r).start()}async function aI(r){_o(r).ra()}async function sI(r){const e=_o(r);for(const i of r.Ta)e.ea(i.mutations)}async function oI(r,e,i){const a=r.Ta.shift(),l=Mp.from(a,e,i);await $1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ef(r)}async function lI(r,e){e&&_o(r).X_&&await(async function(a,l){if((function(p){return HR(p)&&p!==Te.ABORTED})(l.code)){const c=a.Ta.shift();_o(a).B_(),await $1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ef(a)}})(r,e),J1(r)&&Z1(r)}async function N_(r,e){const i=Ot(r);i.asyncQueue.verifyOperationInProgress(),rt(qo,"RemoteStore received new credentials");const a=Qo(i);i.Ea.add(3),await mc(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wf(i)}async function uI(r,e){const i=Ot(r);e?(i.Ea.delete(2),await wf(i)):e||(i.Ea.add(2),await mc(i),i.Ra.set("Unknown"))}function eu(r){return r.ma||(r.ma=(function(i,a,l){const c=Ot(i);return c.sa(),new Xx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:Zx.bind(null,r),t_:eI.bind(null,r),r_:tI.bind(null,r),H_:nI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),W1(r))}))),r.ma}function _o(r){return r.fa||(r.fa=(function(i,a,l){const c=Ot(i);return c.sa(),new Qx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:aI.bind(null,r),r_:lI.bind(null,r),ta:sI.bind(null,r),na:oI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ef(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(qo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const p=Date.now()+a,b=new Bp(e,i,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(Ss("AsyncQueue",`${e}: ${r}`),Jl(r))return new et(Te.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Et.comparator(i.key,a.key):(i,a)=>Et.comparator(i.key,a.key),this.keyedMap=zu(),this.sortedSet=new ei(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ll;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class D_{constructor(){this.ga=new ei(Et.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Yl{constructor(e,i,a,l,c,p,b,E,w){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,i,a,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Yl(e,i,Ll.emptySet(i),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class cI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hI{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ot(i),c=l.queries;l.queries=O_(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(a)}))})(this,new et(Te.ABORTED,"Firestore shutting down"))}}function O_(){return new Yo((r=>_1(r)),pf)}async function fI(r,e){const i=Ot(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new cI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Fp(p,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Hp(i)}async function dI(r,e){const i=Ot(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mI(r,e){const i=Ot(r);let a=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Hp(i)}function pI(r,e,i){const a=Ot(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var sp,k_;(k_=sp||(sp={})).Ma="default",k_.Cache="cache";class gI{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class ew{constructor(e){this.key=e}}class tw{constructor(e){this.key=e}}class yI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zt(),this.mutatedKeys=Zt(),this.eu=b1(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new D_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((I,L)=>{const H=l.get(I),ie=gf(this.query,L)?L:null,B=!!H&&this.mutatedKeys.has(H.key),Oe=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let Se=!1;H&&ie?H.data.isEqual(ie.data)?B!==Oe&&(a.track({type:3,doc:ie}),Se=!0):this.su(H,ie)||(a.track({type:2,doc:ie}),Se=!0,(E&&this.eu(ie,E)>0||w&&this.eu(ie,w)<0)&&(b=!0)):!H&&ie?(a.track({type:0,doc:ie}),Se=!0):H&&!ie&&(a.track({type:1,doc:H}),Se=!0,(E||w)&&(b=!0)),Se&&(ie?(p=p.add(ie),c=Oe?c.add(I):c.delete(I)):(p=p.delete(I),c=c.delete(I)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),c=c.delete(I.key),a.track({type:1,doc:I})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((I,L)=>(function(ie,B){const Oe=Se=>{switch(Se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:Se})}};return Oe(ie)-Oe(B)})(I.type,L.type)||this.eu(I.doc,L.doc))),this.ou(a),l=l??!1;const b=i&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Yl(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new tw(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new ew(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class vI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class _I{constructor(e){this.key=e,this.hu=!1}}class bI{constructor(e,i,a,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Yo((b=>_1(b)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ei(Et.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wI(r,e,i=!0){const a=ow(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nw(a,e,i,!0),l}async function EI(r,e){const i=ow(r);await nw(i,e,!0,!1)}async function nw(r,e,i,a){const l=await Ux(r.localStore,Ua(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return a&&(b=await TI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Q1(r.remoteStore,l),b}async function TI(r,e,i,a,l){r.pu=(L,H,ie)=>(async function(Oe,Se,Le,Pe){let Fe=Se.view.ru(Le);Fe.Cs&&(Fe=await C_(Oe.localStore,Se.query,!1).then((({documents:q})=>Se.view.ru(q,Fe))));const We=Pe&&Pe.targetChanges.get(Se.targetId),Ue=Pe&&Pe.targetMismatches.get(Se.targetId)!=null,vt=Se.view.applyChanges(Fe,Oe.isPrimaryClient,We,Ue);return P_(Oe,Se.targetId,vt.au),vt.snapshot})(r,L,H,ie);const c=await C_(r.localStore,e,!0),p=new yI(e,c.Qs),b=p.ru(c.documents),E=dc.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),w=p.applyChanges(b,r.isPrimaryClient,E);P_(r,i,w.au);const I=new vI(e,i,p);return r.Tu.set(e,I),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),w.snapshot}async function AI(r,e,i){const a=Ot(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!pf(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lp(a.remoteStore,l.targetId),op(a,l.targetId)})).catch($l)):(op(a,l.targetId),await rp(a.localStore,l.targetId,!0))}async function SI(r,e){const i=Ot(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lp(i.remoteStore,a.targetId))}async function CI(r,e,i){const a=OI(r);try{const l=await(function(p,b){const E=Ot(p),w=Gn.now(),I=b.reduce(((ie,B)=>ie.add(B.key)),Zt());let L,H;return E.persistence.runTransaction("Locally write mutations","readwrite",(ie=>{let B=Cs(),Oe=Zt();return E.Ns.getEntries(ie,I).next((Se=>{B=Se,B.forEach(((Le,Pe)=>{Pe.isValidDocument()||(Oe=Oe.add(Le))}))})).next((()=>E.localDocuments.getOverlayedDocuments(ie,B))).next((Se=>{L=Se;const Le=[];for(const Pe of b){const Fe=jR(Pe,L.get(Pe.key).overlayedDocument);Fe!=null&&Le.push(new Xo(Pe.key,Fe,c1(Fe.value.mapValue),bs.exists(!0)))}return E.mutationQueue.addMutationBatch(ie,w,Le,b)})).next((Se=>{H=Se;const Le=Se.applyToLocalDocumentSet(L,Oe);return E.documentOverlayCache.saveOverlays(ie,Se.batchId,Le)}))})).then((()=>({batchId:H.batchId,changes:E1(L)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new ei(Jt)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(a,l.batchId,i),await pc(a,l.changes),await Ef(a.remoteStore)}catch(l){const c=Fp(l,"Failed to persist write");i.reject(c)}}async function iw(r,e){const i=Ot(r);try{const a=await Px(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(Tn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Tn(p.hu,14607):l.removedDocuments.size>0&&(Tn(p.hu,42227),p.hu=!1))})),await pc(i,a,e)}catch(a){await $l(a)}}function V_(r,e,i){const a=Ot(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Ot(p);E.onlineState=b;let w=!1;E.queries.forEach(((I,L)=>{for(const H of L.Sa)H.va(b)&&(w=!0)})),w&&Hp(E)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RI(r,e,i){const a=Ot(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new ei(Et.comparator);p=p.insert(c,nr.newNoDocument(c,Nt.min()));const b=Zt().add(c),E=new _f(Nt.min(),new Map,new ei(Jt),p,b);await iw(a,E),a.du=a.du.remove(c),a.Au.delete(e),Gp(a)}else await rp(a.localStore,e,!1).then((()=>op(a,e,i))).catch($l)}async function xI(r,e){const i=Ot(r),a=e.batch.batchId;try{const l=await Vx(i.localStore,e);aw(i,a,null),rw(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await pc(i,l)}catch(l){await $l(l)}}async function II(r,e,i){const a=Ot(r);try{const l=await(function(p,b){const E=Ot(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let I;return E.mutationQueue.lookupMutationBatch(w,b).next((L=>(Tn(L!==null,37113),I=L.keys(),E.mutationQueue.removeMutationBatch(w,L)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,I,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,I))).next((()=>E.localDocuments.getDocuments(w,I)))}))})(a.localStore,e);aw(a,e,i),rw(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await pc(a,l)}catch(l){await $l(l)}}function rw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function aw(r,e,i){const a=Ot(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function op(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||sw(r,a)}))}function sw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Lp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Gp(r))}function P_(r,e,i){for(const a of i)a instanceof ew?(r.Ru.addReference(a.key,e),MI(r,a)):a instanceof tw?(rt(qp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||sw(r,a.key)):St(19791,{wu:a})}function MI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(qp,"New document in limbo: "+i),r.Eu.add(a),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Et(jn.fromString(e)),a=r.fu.next();r.Au.set(a,new _I(i)),r.du=r.du.insert(i,a),Q1(r.remoteStore,new oo(Ua(y1(i.path)),a,"TargetPurposeLimboResolution",ff.ce))}}async function pc(r,e,i){const a=Ot(r),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,E)=>{p.push(a.pu(E,e,i).then((w=>{if((w||i)&&a.isPrimaryClient){const I=w?!w.fromCache:i?.targetChanges.get(E.targetId)?.current;a.sharedClientState.updateQueryState(E.targetId,I?"current":"not-current")}if(w){l.push(w);const I=Vp.As(E.targetId,w);c.push(I)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(E,w){const I=Ot(E);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Re.forEach(w,(H=>Re.forEach(H.Es,(ie=>I.persistence.referenceDelegate.addReference(L,H.targetId,ie))).next((()=>Re.forEach(H.ds,(ie=>I.persistence.referenceDelegate.removeReference(L,H.targetId,ie)))))))))}catch(L){if(!Jl(L))throw L;rt(Pp,"Failed to update sequence numbers: "+L)}for(const L of w){const H=L.targetId;if(!L.fromCache){const ie=I.Ms.get(H),B=ie.snapshotVersion,Oe=ie.withLastLimboFreeSnapshotVersion(B);I.Ms=I.Ms.insert(H,Oe)}}})(a.localStore,c))}async function NI(r,e){const i=Ot(r);if(!i.currentUser.isEqual(e)){rt(qp,"User change. New user:",e.toKey());const a=await q1(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new et(Te.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await pc(i,a.Ls)}}function DI(r,e){const i=Ot(r),a=i.Au.get(e);if(a&&a.hu)return Zt().add(a.key);{let l=Zt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function ow(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RI.bind(null,e),e.Pu.H_=mI.bind(null,e.eventManager),e.Pu.yu=pI.bind(null,e.eventManager),e}function OI(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return kx(this.persistence,new Nx,e.initialUser,this.serializer)}Cu(e){return new H1(kp.mi,this.serializer)}Du(e){return new Bx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class kI extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Tn(this.persistence.referenceDelegate instanceof tf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new H1((a=>tf.mi(a,i)),this.serializer)}}class lp{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>V_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await uI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hI})()}createDatastore(e){const i=bf(e.databaseInfo.databaseId),a=(function(c){return new Yx(c)})(e.databaseInfo);return(function(c,p,b,E){return new Wx(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,p,b){return new Jx(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>V_(this.syncEngine,i,0)),(function(){return I_.v()?new I_:new Fx})())}createSyncEngine(e,i){return(function(l,c,p,b,E,w,I){const L=new bI(l,c,p,b,E,w);return I&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ot(i);rt(qo,"RemoteStore shutting down."),a.Ea.add(5),await mc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class VI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const bo="FirestoreClient";class PI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=tr.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{rt(bo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(rt(bo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Fp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function km(r,e){r.asyncQueue.verifyOperationInProgress(),rt(bo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await q1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function L_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await LI(r);rt(bo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>N_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>N_(e.remoteStore,l))),r._onlineComponents=e}async function LI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(bo,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Te.FAILED_PRECONDITION||l.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bl("Error using user provided cache. Falling back to memory cache: "+i),await km(r,new rf)}}else rt(bo,"Using default OfflineComponentProvider"),await km(r,new kI(void 0));return r._offlineComponents}async function lw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(bo,"Using user provided OnlineComponentProvider"),await L_(r,r._uninitializedComponentsProvider._online)):(rt(bo,"Using default OnlineComponentProvider"),await L_(r,new lp))),r._onlineComponents}function jI(r){return lw(r).then((e=>e.syncEngine))}async function UI(r){const e=await lw(r),i=e.eventManager;return i.onListen=wI.bind(null,e.syncEngine),i.onUnlisten=AI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=EI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=SI.bind(null,e.syncEngine),i}function zI(r,e,i={}){const a=new fo;return r.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const I=new VI({next:H=>{I.Nu(),p.enqueueAndForget((()=>dI(c,L))),H.fromCache&&E.source==="server"?w.reject(new et(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(H)},error:H=>w.reject(H)}),L=new gI(b,I,{includeMetadataChanges:!0,qa:!0});return fI(c,L)})(await UI(r),r.asyncQueue,e,i,a))),a.promise}function uw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const j_=new Map;const cw="firestore.googleapis.com",U_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cw,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mx)throw new et(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new et(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new et(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new et(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new BC;switch(a.type){case"firstParty":return new GC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new et(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=j_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),j_.delete(i),a.terminate())})(this),Promise.resolve()}}function BI(r,e,i,a={}){r=Yh(r,Tf);const l=Xl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(sb(`https://${b}`),ob("Firestore",!0)),c.host!==cw&&c.host!==b&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:a};if(!zo(E,p)&&(r._setSettings(E),a.mockUserToken)){let w,I;if(typeof a.mockUserToken=="string")w=a.mockUserToken,I=tr.MOCK_USER;else{w=cA(a.mockUserToken,r._app?.options.projectId);const L=a.mockUserToken.sub||a.mockUserToken.user_id;if(!L)throw new et(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new tr(L)}r._authCredentials=new FC(new Jb(w,I))}}class wo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Ni{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}toJSON(){return{type:Ni._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(hc(i,Ni._jsonSchema))return new Ni(e,a||null,new Et(jn.fromString(i.referencePath)))}}Ni._jsonSchemaVersion="firestore/documentReference/1.0",Ni._jsonSchema={type:_i("string",Ni._jsonSchemaVersion),referencePath:_i("string")};class mo extends wo{constructor(e,i,a){super(e,i,y1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new Et(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function Vh(r,e,...i){if(r=Yr(r),Zb("collection","path",e),r instanceof Tf){const a=jn.fromString(e,...i);return Z0(a),new mo(r,null,a)}{if(!(r instanceof Ni||r instanceof mo))throw new et(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(jn.fromString(e,...i));return Z0(a),new mo(r.firestore,null,a)}}function FI(r,e,...i){if(r=Yr(r),arguments.length===1&&(e=Tp.newId()),Zb("doc","path",e),r instanceof Tf){const a=jn.fromString(e,...i);return J0(a),new Ni(r,null,new Et(a))}{if(!(r instanceof Ni||r instanceof mo))throw new et(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(jn.fromString(e,...i));return J0(a),new Ni(r.firestore,r instanceof mo?r.converter:null,new Et(a))}}const B_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const a=Om();a&&rt(B_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Om();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Om();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;rt(B_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",H_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Bp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&St(47125,{Pc:H_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function H_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yp extends Tf{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new F_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function HI(r,e){const i=typeof r=="object"?r:hb(),a=typeof r=="string"?r:Qh,l=dp(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=lA("firestore");c&&BI(l,...c)}return l}function hw(r){if(r._terminated)throw new et(Te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qI(r),r._firestoreClient}function qI(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new uR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,uw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new PI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Gi.fromBase64String(e))}catch(i){throw new et(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new da(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,da._jsonSchema))return da.fromBase64String(e.bytes)}}da._jsonSchemaVersion="firestore/bytes/1.0",da._jsonSchema={type:_i("string",da._jsonSchemaVersion),bytes:_i("string")};class Xp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new et(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fw{constructor(e){this._methodName=e}}class Ba{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new et(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new et(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ba._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Ba._jsonSchema))return new Ba(e.latitude,e.longitude)}}Ba._jsonSchemaVersion="firestore/geoPoint/1.0",Ba._jsonSchema={type:_i("string",Ba._jsonSchemaVersion),latitude:_i("number"),longitude:_i("number")};class Fa{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,Fa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fa(e.vectorValues);throw new et(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fa._jsonSchemaVersion="firestore/vectorValue/1.0",Fa._jsonSchema={type:_i("string",Fa._jsonSchemaVersion),vectorValues:_i("object")};const GI=/^__.*__$/;class YI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,i,this.fieldTransforms):new fc(e,this.data,i,this.fieldTransforms)}}function dw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:r})}}class Qp{constructor(e,i,a,l,c,p){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dw(this.Ac)&&GI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||bf(e)}Cc(e,i,a,l=!1){return new Qp({Ac:e,methodName:i,Dc:a,path:qi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mw(r){const e=r._freezeSettings(),i=bf(r._databaseId);return new XI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function QI(r,e,i,a,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);yw("Data must be an object, but it was:",p,a);const b=pw(a,p);let E,w;if(c.merge)E=new Ta(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const I=[];for(const L of c.mergeFields){const H=WI(e,L,i);if(!p.contains(H))throw new et(Te.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);JI(I,H)||I.push(H)}E=new Ta(I),w=p.fieldTransforms.filter((L=>E.covers(L.field)))}else E=null,w=p.fieldTransforms;return new YI(new fa(b),E,w)}function KI(r,e,i,a=!1){return Kp(i,r.Cc(a?4:3,e))}function Kp(r,e){if(gw(r=Yr(r)))return yw("Unsupported field value:",e,r),pw(r,e);if(r instanceof fw)return(function(a,l){if(!dw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let E=Kp(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=Yr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return DR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Gn.fromDate(a);return{timestampValue:ef(l.serializer,c)}}if(a instanceof Gn){const c=new Gn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ef(l.serializer,c)}}if(a instanceof Ba)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof da)return{bytesValue:V1(l.serializer,a._byteString)};if(a instanceof Ni){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fa)return(function(p,b){return{mapValue:{fields:{[l1]:{stringValue:u1},[Kh]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return Ip(b.serializer,w)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${hf(a)}`)})(r,e)}function pw(r,e){const i={};return n1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(r,((a,l)=>{const c=Kp(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function gw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Gn||r instanceof Ba||r instanceof da||r instanceof Ni||r instanceof fw||r instanceof Fa)}function yw(r,e,i){if(!gw(i)||!e1(i)){const a=hf(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function WI(r,e,i){if((e=Yr(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return vw(r,e);throw af("Field path arguments must be of type string or ",r,!1,void 0,i)}const $I=new RegExp("[~\\*/\\[\\]]");function vw(r,e,i){if(e.search($I)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Xp(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function af(r,e,i,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${a}`),p&&(E+=` in document ${l}`),E+=")"),new et(Te.INVALID_ARGUMENT,b+r+E)}function JI(r,e){return r.some((i=>i.isEqual(e)))}class _w{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Af("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZI extends _w{data(){return super.data()}}function Af(r,e){return typeof e=="string"?vw(r,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}function eM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class $p extends Wp{}function bw(r,e,...i){let a=[];e instanceof Wp&&a.push(e),a=a.concat(i),(function(c){const p=c.filter((E=>E instanceof Jp)).length,b=c.filter((E=>E instanceof Sf)).length;if(p>1||p>0&&b>0)throw new et(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Sf extends $p{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Sf(e,i,a)}_apply(e){const i=this._parse(e);return ww(e._query,i),new wo(e.firestore,e.converter,Zm(e._query,i))}_parse(e){const i=mw(e.firestore);return(function(c,p,b,E,w,I,L){let H;if(w.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new et(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){G_(L,I);const B=[];for(const Oe of L)B.push(q_(E,c,Oe));H={arrayValue:{values:B}}}else H=q_(E,c,L)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||G_(L,I),H=KI(b,p,L,I==="in"||I==="not-in");return vi.create(w,I,H)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Qu(r,e,i){const a=e,l=Af("where",r);return Sf._create(l,a,i)}class Jp extends Wp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Jp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Aa.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)ww(p,E),p=Zm(p,E)})(e._query,i),new wo(e.firestore,e.converter,Zm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends $p{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Zp(e,i)}_apply(e){const i=(function(l,c,p){if(l.startAt!==null)throw new et(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(c,p)})(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new Zl(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Ol(r,e="asc"){const i=e,a=Af("orderBy",r);return Zp._create(a,i)}class eg extends $p{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new eg(e,i,a)}_apply(e){return new wo(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function sf(r){return JC("limit",r),eg._create("limit",r,"F")}function q_(r,e,i){if(typeof(i=Yr(i))=="string"){if(i==="")throw new et(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&i.indexOf("/")!==-1)throw new et(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(jn.fromString(i));if(!Et.isDocumentKey(a))throw new et(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return o_(r,new Et(a))}if(i instanceof Ni)return o_(r,i._key);throw new et(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(i)}.`)}function G_(r,e){if(!Array.isArray(r)||r.length===0)throw new et(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ww(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new et(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class tM{convertValue(e,i="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Go(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Kh].arrayValue?.values?.map((a=>ci(a.doubleValue)));return new Fa(i)}convertGeoPoint(e){return new Ba(ci(e.latitude),ci(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=mf(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const i=go(e);return new Gn(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=jn.fromString(e);Tn(B1(a),9688,{name:e});const l=new Zu(a.get(1),a.get(3)),c=new Et(a.popFirst(5));return l.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function nM(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Th{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jl extends _w{constructor(e,i,a,l,c,p){super(e,i,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Af("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=jl._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jl._jsonSchemaVersion="firestore/documentSnapshot/1.0",jl._jsonSchema={type:_i("string",jl._jsonSchemaVersion),bundleSource:_i("string","DocumentSnapshot"),bundleName:_i("string"),bundle:_i("string")};class Ph extends jl{data(e={}){return super.data(e)}}class Ul{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Th(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Ph(this._firestore,this._userDataWriter,a.key,a,new Th(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new et(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new Ph(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Th(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new Ph(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Th(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,I=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),I=p.indexOf(b.doc.key)),{type:iM(b.type),doc:E,oldIndex:w,newIndex:I}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:_i("string",Ul._jsonSchemaVersion),bundleSource:_i("string","QuerySnapshot"),bundleName:_i("string"),bundle:_i("string")};class rM extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,i)}}function Ew(r){r=Yh(r,wo);const e=Yh(r.firestore,Yp),i=hw(e),a=new rM(e);return eM(r._query),zI(i,r._query).then((l=>new Ul(e,a,r,l)))}function Y_(r,e){const i=Yh(r.firestore,Yp),a=FI(r),l=nM(r.converter,e);return aM(i,[QI(mw(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,bs.exists(!1))]).then((()=>a))}function aM(r,e){return(function(a,l){const c=new fo;return a.asyncQueue.enqueueAndForget((async()=>CI(await jI(a),l,c))),c.promise})(hw(r),e)}(function(e,i=!0){(function(l){Wl=l})(Ql),zl(new Bo("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Yp(new HC(a.getProvider("auth-internal")),new YC(p,a.getProvider("app-check-internal")),(function(w,I){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new et(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(w.options.projectId,I)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),co(Q0,K0,e),co(Q0,K0,"esm2020")})();const sM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},oM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):sM,Tw=cb(oM),Vm=UC(Tw),Lh=HI(Tw),up=typeof __app_id<"u"?__app_id:"long-jump-game",Mt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000"},ca=5,cp=50,lM=25,Aw=30,uM=15,wa=40,Sw={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},cM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),X_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],Q_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],Nl={ctx:null,init:()=>{Nl.ctx||(Nl.ctx=new(window.AudioContext||window.webkitAudioContext))},play:r=>{Nl.ctx||Nl.init();const e=Nl.ctx,i=e.createOscillator(),a=e.createGain();i.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();r==="pop"?(i.type="triangle",i.frequency.setValueAtTime(600*c,l),i.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),i.start(l),i.stop(l+.15)):r==="success"?(i.type="sine",i.frequency.setValueAtTime(400*c,l),i.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),i.start(l),i.stop(l+.3)):r==="error"?(i.type="sawtooth",i.frequency.setValueAtTime(150,l),i.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),i.start(l),i.stop(l+.2)):r==="click"?(i.type="square",i.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),i.start(l),i.stop(l+.05)):r==="fanfare"&&(i.type="square",i.frequency.setValueAtTime(2e3,l),i.frequency.linearRampToValueAtTime(2200,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.5),i.start(l),i.stop(l+.5))}},hM=r=>{if(navigator.vibrate)switch(r){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},Cf=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},Rf=r=>{let e=1779033703,i=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=a^Math.imul(i^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^a^l)>>>0},fM=()=>new Date().toISOString().split("T")[0],dM=(r,e)=>{const i=Rf(r),a=Cf(i),l=[],c=Math.floor(e*.3),p=new Set;for(;l.length<c;){const b=Math.floor(a()*ca),E=Math.floor(a()*e);if(E===0)continue;const w=`${b},${E}`;if(!p.has(w)){p.add(w);const I=a();let L=1;I>.5&&(L=2),I>.8&&(L=3),l.push({r:b,c:E,val:L})}}return l},mM=(r,e)=>{const i=Rf(r+"OBSTACLES"),a=Cf(i),l=[],c=Math.floor(e*.1),p=new Set;for(;l.length<c;){const b=Math.floor(a()*ca),E=Math.floor(a()*e);if(E===0)continue;const w=`${b},${E}`;p.has(w)||(p.add(w),l.push({r:b,c:E}))}return l},pM=(r,e,i)=>{const a=Rf(r+"WILDCARDS_V3"),l=Cf(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*ca),E=5,w=Math.min(29,i-2);if(w<=E)break;const I=Math.floor(l()*(w-E+1))+E;if(!e.some(L=>L.r===b&&L.c===I)){c.push({r:b,c:I});break}p++}if(i>30)for(p=0;p<100;){const b=Math.floor(l()*ca),E=30,w=i-5,I=Math.floor(l()*(w-E+1))+E;if(!e.some(L=>L.r===b&&L.c===I)){c.push({r:b,c:I});break}p++}return c},gM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],yM=r=>{const e=Rf(r),i=Cf(e);let a=[];Object.entries(Sw).forEach(([b,E])=>{for(let w=0;w<E;w++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const E=Math.floor(i()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=Aw;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(i()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},vM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},_M=r=>{const e=new Date().toISOString().split("T")[0],i=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=i;if(a+=1,p+=r,b!==e){const w=new Date;w.setDate(w.getDate()-1);const I=w.toISOString().split("T")[0];b===I?l+=1:l=1}l>c&&(c=l);const E={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(E)),E},bM=()=>{const r=Xe.useRef(null);return Xe.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let a=window.innerWidth,l=window.innerHeight;if(a===0||l===0)return;e.width=a,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",Mt.accentPrimary];for(let I=0;I<150;I++)c.push({x:Math.random()*a,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const E=()=>{!i||!e.width||!e.height||(i.clearRect(0,0,a,l),c.forEach(I=>{I.y+=I.vy,I.x+=I.vx+Math.sin(I.y/50),I.rotation+=I.rotationSpeed,I.y>l&&(I.y=-10,I.x=Math.random()*a),!(!Number.isFinite(I.x)||!Number.isFinite(I.y)||!Number.isFinite(I.rotation)||!Number.isFinite(I.size))&&(i.save(),i.translate(I.x,I.y),i.rotate(I.rotation*Math.PI/180),i.fillStyle=I.color,i.fillRect(-I.size/2,-I.size/2,I.size,I.size),i.restore())}),b=requestAnimationFrame(E))};E();const w=()=>{e&&(a=window.innerWidth,l=window.innerHeight,a>0&&l>0&&(e.width=a,e.height=l))};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),b&&cancelAnimationFrame(b)}},[]),D.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},K_=()=>{const{RiveComponent:r}=so.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return D.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},W_=({trigger:r})=>{const{rive:e,RiveComponent:i}=so.useRive({src:"fan.riv",autoplay:!0,layout:new so.Layout({fit:so.Fit.Contain,alignment:so.Alignment.Center})});return Xe.useEffect(()=>{if(r&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[r,e]),i?D.jsx("div",{style:{width:`${wa}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:D.jsx("div",{style:{width:"39px",height:"60px"},children:D.jsx(i,{})})}):null},Pm=({highlightName:r,user:e,onRankFound:i,lastUpdated:a,initialMode:l="standard",onParCalculated:c})=>{const[p,b]=Xe.useState([]),[E,w]=Xe.useState(!0),[I,L]=Xe.useState("daily"),[H,ie]=Xe.useState(l),[B,Oe]=Xe.useState(null);Xe.useEffect(()=>{ie(l)},[l]);const Se=async()=>{if(!e)return;w(!0),Oe(null);const Le=Vh(Lh,"artifacts",up,"public","data","scores"),Pe=new Date,Fe=Pe.toISOString().split("T")[0],We=Pe.getDay(),Ue=Pe.getDate()-We+(We===0?-6:1),q=new Date(Pe.setDate(Ue)).toISOString().split("T")[0];let U=[];H==="quick"&&U.push(Qu("mode","==","quick")),I==="daily"?(U.push(Qu("date","==",Fe)),U.push(Ol("score","desc")),U.push(Ol("timestamp","asc")),U.push(sf(100))):(U.push(Qu("date",">=",q)),U.push(Ol("date","desc")),U.push(Ol("score","desc")),U.push(sf(500)));try{const V=bw(Le,...U),F=await Ew(V);if(F.empty){b([]),w(!1),c&&I==="daily"&&c(H==="quick"?12:25,H);return}let x=F.docs.map(P=>({id:P.id,...P.data()}));if(H==="standard"&&(x=x.filter(P=>!P.mode||P.mode==="standard")),I==="daily"&&c){const R=x.reduce((G,Z)=>G+Z.score,0)/x.length,ae=Math.floor(((H==="quick"?12:25)+R)/2);c(ae,H)}if(I==="weekly"){const P=new Map;x.forEach(R=>{const K=P.get(R.name);K?(R.score>K.score||R.score===K.score&&R.timestamp<K.timestamp)&&P.set(R.name,R):P.set(R.name,R)}),x=Array.from(P.values()),x.sort((R,K)=>K.score!==R.score?K.score-R.score:R.timestamp-K.timestamp),x=x.slice(0,100)}if(b(x),w(!1),r&&i){const P=x.findIndex(R=>R.name===r);P!==-1&&i(P+1)}}catch(V){console.error(" FIRESTORE ERROR:",V),Oe(V.message),w(!1)}};return Xe.useEffect(()=>{Se()},[e,I,H,r,a]),D.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col relative",children:[B&&B.includes("index")&&D.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center p-4 text-center",children:[D.jsx(yT,{className:"text-red-500 mb-2",size:32}),D.jsx("p",{className:"text-xs font-bold text-red-600 mb-2",children:"DATABASE INDEX MISSING"}),D.jsx("button",{onClick:Se,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold",children:"Retry"})]}),D.jsxs("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx(jm,{size:20,className:"text-yellow-500"}),D.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:I==="daily"?"Today's Top":"Weekly Best"})]}),D.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[D.jsx("button",{onClick:()=>L("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${I==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),D.jsx("button",{onClick:()=>L("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${I==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),D.jsx("div",{className:"flex justify-center",children:D.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 w-full",children:[D.jsx("button",{onClick:()=>ie("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${H==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Standard"}),D.jsx("button",{onClick:()=>ie("quick"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${H==="quick"?"bg-white shadow-sm text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:"Quick Mode"})]})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:E?D.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):p.length===0?D.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",D.jsx("br",{}),"Be the first!"]}):D.jsx("div",{className:"space-y-1",children:p.map((Le,Pe)=>{const Fe=Le.mode==="quick"?25:40,We=Le.score>=Fe;return D.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${Le.name===r?`bg-[${Mt.accentPrimary}]/10 border-[${Mt.accentPrimary}]/20`:We?"bg-amber-100 border-amber-300":"hover:bg-white/60 border-transparent"}`,children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`font-black w-5 text-center ${Pe===0?"text-yellow-600 text-lg":Pe===1?"text-gray-600 text-base":Pe===2?"text-orange-800 text-base":"text-gray-500"}`,children:Pe+1}),D.jsxs("div",{className:"flex items-center gap-1 overflow-hidden",children:[We&&D.jsx(jm,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),D.jsx("span",{className:`font-bold truncate max-w-[90px] ${Le.name===r?"text-black":We?"text-amber-900":"text-gray-700"}`,children:Le.name}),I==="weekly"&&D.jsx("span",{className:"text-[9px] text-gray-400 font-normal ml-1 border-l pl-1 border-gray-300",children:new Date(Le.date).toLocaleDateString(void 0,{weekday:"short"})})]})]}),D.jsxs("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${We?"bg-amber-200 text-amber-900":"text-gray-900 bg-gray-100"}`,children:[Le.score,"m"]})]},Pe)})})})]})},$_=()=>{const r=X_[Math.floor(Math.random()*X_.length)],e=Q_[Math.floor(Math.random()*Q_.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},J_=(r=cp)=>Array(ca).fill(null).map(()=>Array(r).fill(null)),Lm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(a=>a.r===e)||r.every(a=>a.c===i)},Ah=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:r,isNew:e});function wM(){const[r,e]=Xe.useState("menu"),[i,a]=Xe.useState("standard"),[l,c]=Xe.useState(()=>localStorage.getItem("longJumpPlayerName")||$_()),[p,b]=Xe.useState(!1),[E,w]=Xe.useState(!1),[I,L]=Xe.useState(()=>{const X=localStorage.getItem("longJumpShowFans");return X===null?!0:X!=="false"}),[H,ie]=Xe.useState(()=>{const X=localStorage.getItem("longJumpSound");return X===null?!0:X!=="false"}),[B,Oe]=Xe.useState(()=>{const X=localStorage.getItem("longJumpHaptics");return X===null?!0:X!=="false"}),[Se,Le]=Xe.useState(""),[Pe,Fe]=Xe.useState("idle"),We=async()=>{if(Se.trim()){Fe("submitting");try{const X=Vh(Lh,"suggestions");await Y_(X,{text:Se,player:l,date:new Date().toISOString(),version:"6.20"}),Fe("success"),Le(""),setTimeout(()=>Fe("idle"),3e3)}catch(X){console.error("Error submitting suggestion:",X),Fe("idle"),Ct({text:"Could not send suggestion. Try again.",type:"error"})}}},[Ue,vt]=Xe.useState(()=>J_(cp)),[q,U]=Xe.useState([]),[V,F]=Xe.useState([]),[x,P]=Xe.useState(0),[R,K]=Xe.useState(!1),[ae,G]=Xe.useState([]),[Z,ve]=Xe.useState(0),[fe,Me]=Xe.useState([]),[j,re]=Xe.useState([]),[Ce,we]=Xe.useState([]),[xe,Qe]=Xe.useState([]),[mt,ct]=Xe.useState(null),[dt,Tt]=Xe.useState(null),[yt,at]=Xe.useState([]),[pt,Ht]=Xe.useState(0),[Lt,Yn]=Xe.useState(0),[hi,rn]=Xe.useState(null),[lt,on]=Xe.useState(!1),[An,rr]=Xe.useState(!1),[Sn,Ct]=Xe.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[ln,C]=Xe.useState(!1),[g,v]=Xe.useState(!1),[O,W]=Xe.useState(!1),[me,Ie]=Xe.useState(!1),[$e,nt]=Xe.useState(!1),[je,tt]=Xe.useState(!1),[en,fn]=Xe.useState(!1),[un,Dn]=Xe.useState(!1),[On,jt]=Xe.useState(null),[vn,Un]=Xe.useState(null),[ri,Di]=Xe.useState(!1),[bt,Kn]=Xe.useState(null),[xt,Yi]=Xe.useState(25),[Wn,qa]=Xe.useState(null),Er=Xe.useRef({standard:25,quick:12}),fi=Xe.useRef(null),[Ge,Xr]=Xe.useState(!1),[ar,sr]=Xe.useState(0),[_n,$n]=Xe.useState(0),or=Ue.some(X=>X.some(he=>he!==null));Xe.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Xe.useEffect(()=>{localStorage.setItem("longJumpShowFans",I)},[I]),Xe.useEffect(()=>{localStorage.setItem("longJumpSound",H)},[H]),Xe.useEffect(()=>{localStorage.setItem("longJumpHaptics",B)},[B]),Xe.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await S2(Vm,__initial_auth_token):await b2(Vm)})();const he=x2(Vm,Un);return()=>he()},[]),Xe.useEffect(()=>{if(Lt===pt)return;const X=500,he=performance.now(),ge=Lt,_e=pt,Ae=qe=>{const Ke=qe-he,Ve=Math.min(Ke/X,1),ut=1-Math.pow(1-Ve,3),ke=Math.floor(ge+(_e-ge)*ut);Yn(ke),Ve<1&&requestAnimationFrame(Ae)};requestAnimationFrame(Ae)},[pt]),Xe.useEffect(()=>{(async()=>{try{const he=Vh(Lh,"artifacts",up,"public","data","scores"),ge=new Date().toISOString().split("T")[0];let _e=[Qu("date","==",ge),Ol("score","desc"),Ol("timestamp","asc")];i==="quick"?(_e.push(Qu("mode","==","quick")),_e.push(sf(1))):_e.push(sf(50));const Ae=bw(he,..._e),qe=await Ew(Ae);let Ke=null;if(!qe.empty){const Ve=qe.docs.map(ut=>ut.data());i==="quick"?Ke=Ve[0]:Ke=Ve.find(ut=>!ut.mode||ut.mode==="standard")}Kn(Ke||null)}catch(he){console.error("Error fetching leader:",he)}})()},[x,i]);const lr=Xe.useCallback((X,he)=>{(he==="quick"||he==="standard")&&(Er.current[he]=X),Yi(X)},[]),Jn=X=>{H&&Nl.play(X==="light"?"pop":X),B&&hM(X)};Xe.useEffect(()=>{Qr("standard")},[]);const Qr=(X="standard")=>{const he=fM(),ge=yM(he);G(ge),a(X);const _e=X==="quick"?lM:cp,Ae=X==="quick"?uM:Aw;let qe;X==="quick"?(qe=ge.slice(0,Ae-1),qe.push("*")):qe=ge.slice(0,Ae);const Ke=qe.map(ke=>Ah(ke,!1)).sort((ke,ht)=>ke.letter.localeCompare(ht.letter));U(Ke),ve(Ae),vt(J_(_e)),at([]),F([]),Ht(0),Yn(0),rn(null),on(!1),rr(!1),Me(dM(he,_e));const Ve=mM(he,_e);re(Ve),we(pM(he,Ve,_e)),Qe(gM()),Ct({text:"Goal: Get as far right as you can.",type:"neutral"}),tt(!1),v(!1),Ie(!1),nt(!1),Di(!1),fn(!1),W(!1),K(!1),ct(null),Tt(null),b(!1);const ut=Er.current[X]||(X==="quick"?12:25);Yi(ut),fi.current&&(fi.current.scrollLeft=0)},Kr=X=>{Jn("click"),l.trim()||c($_()),e("playing"),Qr(X),Ie(!0)},ur=()=>{Jn("click"),e("menu"),Qr("standard")},Oi=()=>{if(Jn("click"),V.length===0)return;const X=V[V.length-1],he=V.slice(0,-1);vt(X.grid),U(X.hand),Ht(X.score),ve(X.drawCount),F(he),at([]),Ct({text:"Move undone",type:"info"})},cr=X=>{const he=X.toUpperCase();return[...q].reverse().find(ge=>ge.letter===he)},Ai=X=>{const he=Ue[0].length;if(!dt){Tt({r:2,c:pt});return}let{r:ge,c:_e}=dt;X==="ArrowUp"&&(ge=Math.max(0,ge-1)),X==="ArrowDown"&&(ge=Math.min(ca-1,ge+1)),X==="ArrowLeft"&&(_e=Math.max(0,_e-1)),X==="ArrowRight"&&(_e=Math.min(he-1,_e+1)),Tt({r:ge,c:_e})};Xe.useEffect(()=>{const X=he=>{if(!(r!=="playing"||je||$e||me||g||un||O||p)){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(he.key)){he.preventDefault(),Ai(he.key);return}if(he.key==="Backspace"||he.key==="Delete"){if(dt){const{r:ge,c:_e}=dt;yt.find(qe=>qe.r===ge&&qe.c===_e)?Bn(ge,_e):Ai("ArrowLeft")}return}if(he.key==="Enter"){yt.length>0&&$r();return}if(/^[a-zA-Z]$/.test(he.key)){const ge=Ue[0].length;if(!dt){Tt({r:2,c:pt});return}const{r:_e,c:Ae}=dt;if(Ue[_e]&&Ue[_e][Ae]||j.some(Ke=>Ke.r===_e&&Ke.c===Ae)){Ai("ArrowRight");return}const qe=cr(he.key);qe?(pa(qe,_e,Ae),Tt({r:_e,c:Math.min(ge-1,Ae+1)})):(Ct({text:`No '${he.key.toUpperCase()}' in hand`,type:"error"}),setTimeout(()=>Ct({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[r,je,dt,q,yt,$e,me,g,un,O,p]),Xe.useEffect(()=>{if(dt&&fi.current){const X=fi.current,he=dt.c*wa,ge=he+wa,_e=X.scrollLeft,Ae=_e+X.clientWidth,qe=100;he<_e?X.scrollTo({left:Math.max(0,he-qe),behavior:"smooth"}):ge>Ae&&X.scrollTo({left:ge-X.clientWidth+qe,behavior:"smooth"})}},[dt]);const Si=()=>v(!0),Xi=async()=>{v(!1),tt(!0),Di(!0),Jn("fanfare");const X=l.trim().toLowerCase()==="test";if(vn&&!X)try{const Ae=new Date().toISOString().split("T")[0],qe=Vh(Lh,"artifacts",up,"public","data","scores");await Y_(qe,{name:l||"Anonymous",score:pt,mode:i,date:Ae,timestamp:Date.now(),userId:vn.uid}),P(Date.now())}catch(Ae){console.error("Error saving score:",Ae)}const he=_M(pt);qa(he),Di(!1);const ge=pt*50+800;setTimeout(()=>{e("gameOver"),tt(!1)},Math.max(ge,2500))},zn=()=>v(!1),ma=()=>r==="playing"?W(!0):e("menu"),ki=()=>{W(!1),e("menu"),Qr()},Vi=async()=>{const X=hi?vM(hi):"top",he="https://www.longjump.co.za";let ge=hi?`${l} placed ${X} in Long-Jump with a distance of ${pt}m. How far can you get? ${he}`:`${l} got a distance of ${pt}m in Long-Jump. How far can you get? ${he}`;try{await navigator.clipboard.writeText(ge),on(!0),setTimeout(()=>on(!1),1e3)}catch(_e){console.error("Failed to copy: ",_e),Ct({text:"Failed to copy result.",type:"error"})}},Qi=X=>{X.target.closest('[draggable="true"]')||X.target.tagName==="BUTTON"||(Xr(!0),sr(X.pageX-fi.current.offsetLeft),$n(fi.current.scrollLeft))},Ga=()=>Xr(!1),Wr=()=>Xr(!1),Sa=X=>{if(!Ge)return;X.preventDefault();const ge=(X.pageX-fi.current.offsetLeft-ar)*1.5;fi.current.scrollLeft=_n-ge},pa=(X,he,ge)=>{if(Jn("light"),X.letter==="*"){jt({r:he,c:ge,tileId:X.id}),Dn(!0);return}hr(X,he,ge)},hr=(X,he,ge,_e=!1,Ae=null)=>{if(Ue.every(ut=>ut.every(ke=>ke===null))&&yt.length===0&&ge!==0){fn(!0),setTimeout(()=>fn(!1),3e3);return}const Ke=Ae||X.letter,Ve=[...yt,{r:he,c:ge,letter:Ke,isWild:_e,id:X.id}];if(!Lm(Ve)){Ct({text:" Tiles must be placed in a single row or column",type:"error"}),Jn("error");return}at(Ve),U(ut=>ut.filter(ke=>ke.id!==X.id)),fn(!1),Sn.type==="error"&&Ct({text:"Goal: Get as far right as you can.",type:"neutral"})},Ci=X=>{if(Jn("light"),On){const he={id:On.tileId,letter:"*"};hr(he,On.r,On.c,!0,X),Tt({r:On.r,c:Math.min(Ue[0].length-1,On.c+1)}),Dn(!1),jt(null),ct(null)}},bn=X=>{if(Jn("light"),!je&&r==="playing"){if(dt){const{r:he,c:ge}=dt,_e=Ue[0].length;if(!(Ue[he]&&Ue[he][ge]||j.some(qe=>qe.r===he&&qe.c===ge))){const qe=q.find(Ke=>Ke.id===X);qe&&(pa(qe,he,ge),Tt({r:he,c:Math.min(_e-1,ge+1)}));return}}ct(mt===X?null:X)}},Bn=(X,he)=>{if(Ge||je||r!=="playing"||Ue[X]&&Ue[X][he]||j.some(_e=>_e.r===X&&_e.c===he))return;const ge=yt.findIndex(_e=>_e.r===X&&_e.c===he);if(ge!==-1){Jn("light");const _e=yt[ge],Ae=[...yt];Ae.splice(ge,1),at(Ae);const qe=_e.isWild?"*":_e.letter,Ke={id:_e.id||Math.random().toString(),letter:qe,isNew:!1};U(Ve=>[...Ve,Ke].sort((ut,ke)=>ut.letter!==ke.letter?ut.letter.localeCompare(ke.letter):ut.isNew===ke.isNew?0:ut.isNew?1:-1)),ct(null),Tt({r:X,c:he});return}if(mt){const _e=q.find(Ae=>Ae.id===mt);if(_e){const Ae=Ue[0].length;pa(_e,X,he),ct(null),Tt({r:X,c:Math.min(Ae-1,he+1)})}}else Tt({r:X,c:he})},Pi=(X,he)=>{je||r!=="playing"||(X.dataTransfer.setData("text/plain",JSON.stringify(he)),X.dataTransfer.effectAllowed="move")},fr=X=>{X.preventDefault(),X.dataTransfer.dropEffect="move"},tn=(X,he,ge)=>{if(je||r!=="playing"||(X.preventDefault(),X.stopPropagation(),j.some(Ae=>Ae.r===he&&Ae.c===ge)))return;const _e=X.dataTransfer.getData("text/plain");if(_e)try{const Ae=JSON.parse(_e);if(Ue[he]&&Ue[he][ge])return;const qe=yt.findIndex(Ve=>Ve.r===he&&Ve.c===ge),Ke=Ue[0].length;if(Ae.type==="hand"){Jn("light");const Ve=Ae.tile;if(Ve.letter==="*"){jt({r:he,c:ge,tileId:Ve.id}),Dn(!0);return}if(Ue.every(ke=>ke.every(ht=>ht===null))&&yt.length===0&&ge!==0){fn(!0),setTimeout(()=>fn(!1),3e3);return}if(qe!==-1){const ke=yt[qe],ht=[...yt],ft=ke.isWild?"*":ke.letter,Pn={id:ke.id||Math.random().toString(),letter:ft,isNew:!1};ht.splice(qe,1,{r:he,c:ge,letter:Ve.letter,isWild:!1,id:Ve.id}),at(ht),U(Xt=>[...Xt.filter(Xn=>Xn.id!==Ve.id),Pn].sort((Xn,mr)=>Xn.letter!==mr.letter?Xn.letter.localeCompare(mr.letter):Xn.isNew===mr.isNew?0:Xn.isNew?1:-1))}else{const ke=[...yt,{r:he,c:ge,letter:Ve.letter,isWild:!1,id:Ve.id}];if(!Lm(ke)){Ct({text:" Tiles must be placed in a single row or column",type:"error"}),Jn("error");return}at(ke),U(ht=>ht.filter(ft=>ft.id!==Ve.id))}fn(!1),ct(null),Tt({r:he,c:Math.min(Ke-1,ge+1)}),Sn.type==="error"&&Ct({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ae.type==="board"){if(Ae.r===he&&Ae.c===ge)return;const Ve=yt.findIndex(ht=>ht.r===Ae.r&&ht.c===Ae.c);if(Ve===-1)return;const ut=yt[Ve],ke=[...yt];if(qe!==-1){const ht=yt[qe];ke[qe]={...ht,r:Ae.r,c:Ae.c},ke[Ve]={...ut,r:he,c:ge}}else ke[Ve]={...ut,r:he,c:ge};if(!Lm(ke)){Ct({text:" Tiles must be placed in a single row or column",type:"error"}),Jn("error");return}at(ke),Tt({r:he,c:Math.min(Ke-1,ge+1)})}}catch{}},bi=X=>{if(je||r!=="playing")return;X.preventDefault(),X.stopPropagation();const he=X.dataTransfer.getData("text/plain");if(he)try{const ge=JSON.parse(he);if(ge.type==="board"){const _e=yt.find(Ke=>Ke.r===ge.r&&Ke.c===ge.c),Ae=_e&&_e.isWild?"*":ge.letter,qe={id:_e?.id||Math.random().toString(),letter:Ae,isNew:!1};at(Ke=>Ke.filter(Ve=>!(Ve.r===ge.r&&Ve.c===ge.c))),U(Ke=>[...Ke,qe].sort((Ve,ut)=>Ve.letter!==ut.letter?Ve.letter.localeCompare(ut.letter):Ve.isNew===ut.isNew?0:Ve.isNew?1:-1))}}catch{}},_t=(X,he)=>{if(!Ue||!Ue[X])return null;if(Ue[X][he])return{letter:Ue[X][he],type:"locked"};const ge=yt.find(_e=>_e.r===X&&_e.c===he);return ge?{letter:ge.letter,type:"temp",isWild:ge.isWild}:null},ai=(X,he)=>fe.find(ge=>ge.r===X&&ge.c===he),kn=(X,he)=>j.find(ge=>ge.r===X&&ge.c===he),$r=async()=>{if(yt.length===0)return;C(!0),Ct({text:"Validating...",type:"info"});const X=Ue.map(Ve=>[...Ve]);if(yt.forEach(Ve=>{X[Ve.r]&&(X[Ve.r][Ve.c]=Ve.letter)}),yt.length>1){const Ve=[...yt].sort((ht,ft)=>ht.r-ft.r||ht.c-ft.c),ut=Ve[0],ke=Ve[Ve.length-1];if(ut.r===ke.r){for(let ht=ut.c;ht<=ke.c;ht++)if(!X[ut.r][ht]){Bt("Cannot leave gaps between tiles.");return}}else for(let ht=ut.r;ht<=ke.r;ht++)if(!X[ht][ut.c]){Bt("Cannot leave gaps between tiles.");return}}const he=Ue.every(Ve=>Ve.every(ut=>ut===null));let ge=!1,_e=!1;const Ae=Ue[0].length;if(yt.forEach(Ve=>{Ve.c===0&&(ge=!0),[{r:Ve.r+1,c:Ve.c},{r:Ve.r-1,c:Ve.c},{r:Ve.r,c:Ve.c+1},{r:Ve.r,c:Ve.c-1}].forEach(ke=>{ke.r>=0&&ke.r<ca&&ke.c>=0&&ke.c<Ae&&Ue[ke.r]&&Ue[ke.r][ke.c]&&(_e=!0)})}),he&&!ge){Bt("First word must start in Column 1.");return}if(!he&&!_e){Bt("Tiles must connect to existing words.");return}const Ke=Ca(X).filter(Ve=>Ve.cells.some(ut=>yt.some(ke=>ke.r===ut.r&&ke.c===ut.c)));if(Ke.length===0){Bt("Words must be at least 2 letters.");return}try{const Ve=[];for(const ut of Ke)await Ya(ut.word)||Ve.push(ut.word);if(Ve.length>0){Bt(`Invalid word(s): ${Ve.join(", ")}`,Ve[0]);return}Jr(X,Ke)}catch(Ve){console.error(Ve),Bt("Error checking dictionary. Try again.")}},Ya=async X=>{const he=X.toUpperCase();if(cM.has(he))return!0;if(he.length===2)return!1;try{const ge=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${X}`);if(!ge.ok)return!1;const _e=await ge.json();return Array.isArray(_e)&&_e.length>0}catch{return!0}},Ca=X=>{let he=[];const ge=Ue[0].length;for(let _e=0;_e<ca;_e++){let Ae="",qe=[];for(let Ke=0;Ke<ge;Ke++)X[_e]&&X[_e][Ke]?(Ae+=X[_e][Ke],qe.push({r:_e,c:Ke})):(Ae.length>1&&he.push({word:Ae,cells:[...qe],type:"H"}),Ae="",qe=[]);Ae.length>1&&he.push({word:Ae,cells:[...qe],type:"H"})}for(let _e=0;_e<ge;_e++){let Ae="",qe=[];for(let Ke=0;Ke<ca;Ke++)X[Ke]&&X[Ke][_e]?(Ae+=X[Ke][_e],qe.push({r:Ke,c:_e})):(Ae.length>1&&he.push({word:Ae,cells:[...qe],type:"V"}),Ae="",qe=[]);Ae.length>1&&he.push({word:Ae,cells:[...qe],type:"V"})}return he},Bt=(X,he=null)=>{Ct({text:X,type:"error",invalidWord:he}),C(!1),Jn("error")},Jr=(X,he)=>{Jn("success");const ge=JSON.parse(JSON.stringify(Ue)),_e=yt.map(ke=>({id:ke.id||Math.random().toString(),letter:ke.isWild?"*":ke.letter,isNew:!1})),Ae=[...q,..._e].sort((ke,ht)=>ke.letter!==ht.letter?ke.letter.localeCompare(ht.letter):ke.isNew===ht.isNew?0:ke.isNew?1:-1);F(ke=>[...ke,{grid:ge,hand:Ae,score:pt,drawCount:Z}]),vt(X),rr(!0),setTimeout(()=>rr(!1),200);let qe=0,Ke=!1;if(he.forEach(ke=>{ke.cells.forEach(ht=>{const ft=ai(ht.r,ht.c),Pn=yt.some(Xt=>Xt.r===ht.r&&Xt.c===ht.c);ft&&Pn&&(qe+=ft.val),Ce.some(Xt=>Xt.r===ht.r&&Xt.c===ht.c)&&(Ke=!0)})}),qe>0){const ht=ae.slice(Z,Z+qe).map(ft=>Ah(ft,!0));U(ft=>[...ft,...ht].sort((Xt,xi)=>Xt.letter!==xi.letter?Xt.letter.localeCompare(xi.letter):Xt.isNew===xi.isNew?0:Xt.isNew?1:-1)),ve(ft=>ft+qe)}if(Ke){const ke=Ah("*",!0);U(ht=>[...ht,ke].sort((Pn,Xt)=>Pn.letter!==Xt.letter?Pn.letter.localeCompare(Xt.letter):Pn.isNew===Xt.isNew?0:Pn.isNew?1:-1))}if(qe>0||Ke){const ke=Ke?"Wildcard Unlocked! + Bonus Tiles!":`Great! +${qe} Bonus Tiles!`;Ct({text:ke,type:"success"})}else Ct({text:"Valid move!",type:"success"});let Ve=pt-1;const ut=Ue[0].length;yt.forEach(ke=>{ke.c>Ve&&(Ve=ke.c)});for(let ke=0;ke<ca;ke++)for(let ht=0;ht<ut;ht++)X[ke]&&X[ke][ht]&&ht>Ve&&(Ve=ht);Ht(Ve+1),at([]),C(!1),Tt(null)},Tr=()=>{Jn("click"),U(X=>[...X].sort(()=>Math.random()-.5))},ti=()=>{Jn("click"),U(X=>[...X].sort((he,ge)=>he.letter!==ge.letter?he.letter.localeCompare(ge.letter):he.isNew===ge.isNew?0:he.isNew?1:-1))},Ki=q.reduce((X,he)=>(X[he.letter]||(X[he.letter]=[]),X[he.letter].push(he),X),{}),Ri=Array.from(new Set(q.map(X=>X.letter))),Wi=Ri.length>=6,Zr=Math.ceil(Ri.length/2),ea=Wi?Ri.slice(0,Zr):Ri,dr=Wi?Ri.slice(Zr):[],Ar=({letter:X})=>{const he=Ki[X]||[],ge=he.length,_e=he[ge-1],Ae=_e&&mt===_e.id,qe=Math.min(ge,15),Ke=6,Ve=40+(qe>1?(qe-1)*Ke:0);return D.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${Ve}px`},children:[[...Array(qe-1)].map((ut,ke)=>{const ft=(X.charCodeAt(0)+ke)%7-3;return D.jsx("div",{className:"absolute w-10 h-10 rounded-lg border border-black/10 transition-all shadow-md",style:{backgroundColor:"#e5e7eb",bottom:`${ke*Ke}px`,zIndex:ke,transform:`rotate(${ft}deg)`}},ke)}),D.jsxs("button",{draggable:!je&&r==="playing",onDragStart:ut=>Pi(ut,{type:"hand",tile:_e}),onClick:()=>bn(_e.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${r==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(qe-1)*Ke}px`,zIndex:qe,backgroundColor:Ae?Mt.accentPrimary:X==="*"?Mt.tileTemp:"white",color:Ae?"white":Mt.textMain,transform:Ae?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${Ae?0:X.charCodeAt(0)%5-2}deg)`},children:[_e&&_e.isNew&&D.jsx("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter",children:"NEW"}),X==="*"?D.jsx(gh,{size:20,fill:Mt.starPurple,className:"text-purple-500"}):X]})]})};return r==="menu"?D.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:Mt.background,color:Mt.textMain},children:[D.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative",children:[D.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[D.jsx(K_,{}),D.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400",children:[D.jsx("span",{children:"Refreshed Daily"}),D.jsx(bm,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})]}),D.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[D.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:Mt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."}),D.jsxs("div",{className:"bg-red-50 text-red-800 text-xs font-bold px-3 py-1 rounded-full border border-red-200 mt-2",children:["Today's Par: ",xt,"m"]})]})]}),D.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[D.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:Mt.textSub},children:"Enter your name"}),D.jsx("input",{type:"text",value:l,onChange:X=>c(X.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:Mt.textMain,borderColor:"transparent"},onFocus:X=>X.target.style.borderColor=Mt.accentPrimary,onBlur:X=>X.target.style.borderColor="transparent"})]}),D.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center",children:[D.jsxs("button",{onClick:()=>Kr("standard"),className:"flex-1 py-4 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:Mt.accentPrimary},children:["Play ",D.jsx(MT,{size:20,fill:"currentColor"})]}),D.jsxs("button",{onClick:()=>Kr("quick"),className:"flex-1 py-4 bg-blue-500 text-white rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2",children:["Quick ",D.jsx("span",{className:"text-xs bg-blue-600 px-1.5 py-0.5 rounded text-blue-100",children:"25m"})]})]}),D.jsxs("div",{className:"flex flex-col items-center gap-3 mt-8 w-full",children:[D.jsxs("div",{className:"flex flex-row items-center justify-center gap-4",children:[D.jsx("button",{onClick:()=>w(!0),className:"group flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-full text-gray-500 font-bold text-xs hover:bg-gray-200 transition-colors shadow-sm whitespace-nowrap",title:"Updates",children:D.jsx(m0,{size:14})}),D.jsx("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-400 hover:text-gray-600 border-b border-gray-300 hover:border-gray-500 transition-colors pb-0.5 whitespace-nowrap",children:"By Richard Bolland"}),D.jsx("span",{className:"text-gray-300",children:"|"}),D.jsxs("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap",children:[D.jsx(ET,{size:14,className:"fill-pink-600"}),D.jsx("span",{children:"Tip Jar"})]})]}),D.jsx("span",{className:"text-[10px] text-gray-400 text-center max-w-xs leading-tight",children:"Help cover server costs & keep the game running."})]}),D.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:D.jsx(Pm,{user:vn,lastUpdated:x,initialMode:"standard",onParCalculated:lr})})]}),D.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:D.jsx(Pm,{user:vn,lastUpdated:x,initialMode:"standard",onParCalculated:lr})}),E&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border border-white/50",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsxs("h3",{className:"text-xl font-black text-gray-800 uppercase flex items-center gap-2",children:[D.jsx(m0,{size:20})," What's New"]}),D.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:D.jsx(wm,{size:24})})]}),D.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[D.jsxs("div",{className:"border-l-2 border-green-500 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-green-600 uppercase",children:"v6.20"}),D.jsx("div",{className:"font-bold text-gray-800",children:"Sound & Haptics"}),D.jsx("p",{className:"text-xs text-gray-500",children:"Audio feedback added with toggle options."})]}),D.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v6.00"}),D.jsx("div",{className:"font-bold text-gray-800",children:"New Stats Screen"}),D.jsx("p",{className:"text-xs text-gray-500",children:"Track your Played Games, Streaks, and Average Distance."})]}),D.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.80"}),D.jsx("div",{className:"font-bold text-gray-800",children:"In-Game Settings"}),D.jsx("p",{className:"text-xs text-gray-500",children:"Settings moved to game screen, name sync fixed, improved fan toggle."})]}),D.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.70"}),D.jsx("div",{className:"font-bold text-gray-800",children:"Dynamic Par"}),D.jsx("p",{className:"text-xs text-gray-500",children:"Par line adapts to daily player scores."})]}),D.jsxs("div",{className:"border-l-2 border-gray-300 pl-3",children:[D.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"v5.60"}),D.jsx("div",{className:"font-bold text-gray-800",children:"Quick Mode"}),D.jsx("p",{className:"text-xs text-gray-500",children:"New 25m fast-paced mode added."})]})]}),D.jsx("button",{onClick:()=>w(!1),className:"w-full mt-6 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold uppercase tracking-widest hover:bg-gray-200 transition-all",children:"Close"})]})})]}):D.jsxs("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative",style:{backgroundColor:Mt.background,color:Mt.textMain},children:[r==="gameOver"&&!R&&D.jsxs("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6",children:[D.jsx(bM,{}),D.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex flex-col relative z-[101]",children:[D.jsx("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:Mt.textMain},children:"STATISTICS"}),D.jsxs("div",{className:"flex justify-between items-start mb-8 px-1 gap-1",children:[D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:Wn?.gamesPlayed||0}),D.jsx("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:"Played"})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:Wn?.currentStreak||0}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Current",D.jsx("br",{}),"Streak"]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:Wn?.maxStreak||0}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Max",D.jsx("br",{}),"Streak"]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsxs("span",{className:"text-2xl md:text-3xl font-black mb-1",children:[Wn?.gamesPlayed>0?Math.round(Wn.totalDistance/Wn.gamesPlayed):0,"m"]}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Avg",D.jsx("br",{}),"Dist"]})]}),D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("span",{className:"text-2xl md:text-3xl font-black mb-1",children:(Wn?.totalDistance||0)>=1e3?(Wn.totalDistance/1e3).toFixed(1)+"k":(Wn?.totalDistance||0)+"m"}),D.jsxs("span",{className:"text-[9px] md:text-[10px] font-bold text-gray-400 uppercase tracking-wide leading-tight",children:["Total",D.jsx("br",{}),"Dist"]})]})]}),D.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm border border-gray-100",children:[D.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:"Athlete"}),D.jsx("div",{className:"text-3xl font-black text-gray-800 mb-6",children:l}),D.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:"Distance"}),D.jsxs("div",{className:"text-6xl font-black",style:{color:Mt.accentPrimary},children:[Lt,"m"]})]}),D.jsxs("div",{className:"flex flex-col gap-3",children:[D.jsx("button",{onClick:Vi,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300",children:lt?D.jsxs(D.Fragment,{children:[D.jsx(uT,{size:20})," Copied"]}):D.jsxs(D.Fragment,{children:[D.jsx(UT,{size:20})," Share Result"]})}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:ur,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"},children:"Play Again"}),D.jsx("button",{onClick:()=>K(!0),className:"flex-none px-4 py-4 bg-white border-2 border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 shadow-sm transition-all flex items-center justify-center",title:"View Board",children:D.jsx(bT,{size:24})})]})]})]}),D.jsx("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative",children:D.jsx(Pm,{highlightName:l,user:vn,onRankFound:rn,lastUpdated:x,initialMode:i,onParCalculated:lr})})]}),un&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[D.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),D.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(Sw).filter(X=>X!=="*").map(X=>D.jsx("button",{onClick:()=>Ci(X),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:Mt.textMain},children:X},X))}),D.jsx("button",{onClick:()=>{Dn(!1),jt(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),(me||$e)&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[D.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:D.jsx(oT,{size:48,style:{color:Mt.accentPrimary}})}),D.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"Game Rules"}),D.jsxs("div",{className:"text-left text-gray-600 mb-6 text-sm space-y-3",children:[D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold text-black",children:""}),D.jsxs("span",{children:["This is a ",D.jsx("strong",{children:"daily seeded game"}),". Everyone gets the same letters and board - refreshed daily."]})]}),D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold text-black",children:""}),D.jsxs("span",{children:["Place words ",D.jsx("strong",{children:"Left to Right"})," or ",D.jsx("strong",{children:"Top to Bottom"})," (Scrabble rules)."]})]}),D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold text-black",children:""}),D.jsxs("span",{children:["Minimum ",D.jsx("strong",{children:"2 letter"})," words."]})]}),D.jsxs("p",{className:"flex gap-2",children:[D.jsx("span",{className:"font-bold text-black",children:""}),D.jsxs("span",{children:["Start in ",D.jsx("strong",{children:"Column 1"})," (left)."]})]}),D.jsxs("p",{className:"flex gap-2 items-center",children:[D.jsx(bm,{size:16,className:"text-yellow-500 fill-yellow-500"}),D.jsxs("span",{children:[D.jsx("strong",{children:"Yellow Stars:"})," Give +1, +2, or +3 random letters."]})]}),D.jsxs("p",{className:"flex gap-2 items-center",children:[D.jsx(gh,{size:16,className:"text-purple-500 fill-purple-500"}),D.jsxs("span",{children:[D.jsx("strong",{children:"Purple Sparkles:"})," Give you a blank Wildcard tile!"]})]})]}),D.jsx("button",{onClick:()=>{Ie(!1),nt(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:Mt.accentPrimary},children:me?"Let's Jump!":"Close"})]})}),O&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:D.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[D.jsx("div",{className:"flex justify-center mb-4",children:D.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:D.jsx(CT,{size:32,className:"text-red-500"})})}),D.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Exit Game?"}),D.jsx("p",{className:"text-gray-500 mb-8",children:"Are you sure you want to quit? You will lose your current progress."}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:()=>W(!1),className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),D.jsx("button",{onClick:ki,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600",children:"Exit"})]})]})}),g&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:D.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[D.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),D.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",D.jsx("strong",{style:{color:Mt.accentPrimary},children:pt}),". This will end your current run."]}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("button",{onClick:zn,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),D.jsx("button",{onClick:Xi,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:Mt.accentPrimary},children:"Confirm"})]})]})}),p&&D.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:D.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full border border-white/50 max-h-[85vh] overflow-y-auto custom-scrollbar",children:[D.jsxs("div",{className:"flex justify-between items-center mb-6",children:[D.jsx("h3",{className:"text-xl font-black text-gray-800 uppercase",children:"Settings"}),D.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:D.jsx(wm,{size:24})})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Username"}),D.jsx("input",{type:"text",value:l,onChange:X=>c(X.target.value),maxLength:12,className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-blue-500 px-4 py-3 rounded-xl font-bold text-gray-800 outline-none transition-all"})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[H?D.jsx(YT,{size:20,className:"text-blue-600"}):D.jsx(QT,{size:20,className:"text-gray-400"}),D.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Sound Effects"})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:H,onChange:()=>ie(!H)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]}),D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[B?D.jsx(g0,{size:20,className:"text-orange-500 fill-orange-500"}):D.jsx(g0,{size:20,className:"text-gray-400"}),D.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Haptics / Vibration"})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:B,onChange:()=>Oe(!B)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),D.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("span",{className:"text-xl",children:""}),D.jsx("div",{className:"flex flex-col",children:D.jsx("span",{className:"font-bold text-sm text-gray-700",children:"Crowd Fans"})})]}),D.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[D.jsx("input",{type:"checkbox",className:"sr-only peer",checked:I,onChange:()=>L(!I)}),D.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})]}),D.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[D.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Make a Suggestion"}),D.jsx("textarea",{value:Se,onChange:X=>Le(X.target.value),className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-blue-500 px-4 py-3 rounded-xl font-medium text-sm text-gray-800 outline-none transition-all resize-none h-24",placeholder:"Ideas for new modes, obstacles, or features..."}),D.jsx("button",{onClick:We,disabled:Pe!=="idle"||!Se.trim(),className:`w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm ${Pe==="success"?"bg-green-500 text-white":"bg-gray-800 text-white hover:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:Pe==="submitting"?"Sending...":Pe==="success"?"Sent! Thanks":"Submit Suggestion"})]})]}),D.jsx("button",{onClick:()=>b(!1),className:"w-full mt-6 py-3 text-gray-400 font-bold uppercase tracking-widest text-xs hover:text-gray-600 transition-all",children:"Close Settings"})]})}),D.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50",children:[D.jsxs("div",{className:"flex flex-col items-start",children:[D.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),bt&&D.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap",children:[D.jsx("span",{className:"text-gray-400 font-bold uppercase tracking-widest",children:i==="quick"?"Quick Leader":"Standard Leader"}),D.jsx(jm,{size:12,className:"text-yellow-500 fill-yellow-500"}),D.jsx("span",{className:"font-bold text-gray-700",children:bt.name}),D.jsxs("span",{className:"font-mono text-gray-400",children:[bt.score,"m"]})]}),D.jsxs("div",{className:"block md:hidden",children:[pt>0&&r==="playing"&&D.jsxs("button",{onClick:Si,disabled:je||ln,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",D.jsx(p0,{size:10,style:{color:Mt.starGold}})]}),r==="gameOver"&&R&&D.jsxs("button",{onClick:()=>K(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Mt.accentPrimary,color:"white"},children:[D.jsx(d0,{size:12})," RESULTS"]})]})]}),D.jsxs("div",{className:"flex flex-col items-center flex-1",children:[D.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:ma,children:D.jsx(K_,{})}),D.jsxs("div",{className:"hidden md:block mt-6",children:[r==="playing"&&pt>0&&D.jsxs("button",{onClick:Si,disabled:je||ln,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",D.jsx(p0,{size:10,style:{color:Mt.starGold}})]}),r==="gameOver"&&R&&D.jsxs("button",{onClick:()=>K(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:Mt.accentPrimary},children:[D.jsx(d0,{size:14})," BACK TO RESULTS"]})]})]}),D.jsxs("div",{className:"flex flex-col items-end w-32 gap-1",children:[D.jsx("span",{className:"text-xs font-bold tracking-widest",style:{color:Mt.accentPrimary},children:l||"PLAYER 1"}),D.jsxs("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:Mt.accentPrimary},children:[D.jsx(kT,{size:16})," ",Lt,"m"]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsxs("button",{onClick:()=>nt(!0),className:"text-[10px] font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest flex items-center gap-1",children:["Rules ",D.jsx(AT,{size:12})]}),D.jsx("button",{onClick:()=>b(!0),className:"text-gray-400 hover:text-gray-600",children:D.jsx(LT,{size:14})})]})]})]}),D.jsx("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:Qi,onMouseLeave:Ga,onMouseUp:Wr,onMouseMove:Sa,children:D.jsx("div",{ref:fi,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Ge?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"},children:D.jsxs("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area",children:[D.jsx("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${xt*wa}px`},children:D.jsx("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest",children:"PAR"})}),D.jsx("div",{className:"flex relative mb-3",style:{width:`${Ue[0].length*wa}px`,height:"24px"},children:Array(Ue[0].length).fill(0).map((X,he)=>{const ge=he===0,_e=(he+1)%5===0;if(!ge&&!_e)return null;const Ae=pt<3;return D.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:he*wa+wa/2,transform:`translateX(-50%) ${ge&&Ae?"translateY(-45px)":"translateY(0)"}`},children:[D.jsx("span",{className:`text-xs tracking-wider ${ge?"text-black font-black":"text-gray-400"}`,children:ge?"START":`${he+1}m`}),D.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${ge?"bg-black":"bg-gray-300"}`})]},`ruler-${he}`)})}),D.jsxs("div",{className:"relative",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:I&&xe.filter(X=>X.type==="top").map((X,he)=>{const ge=Math.max(X.startCol,pt+X.offset);return D.jsx("div",{className:"absolute -top-[55px]",style:{left:`${ge*wa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:D.jsx(W_,{trigger:An})},`fan-top-${X.id}`)})}),D.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${Ue[0].length}, ${wa}px)`,gridTemplateRows:`repeat(${ca}, ${wa}px)`,backgroundColor:Mt.boardBackground,borderColor:Mt.boardLines},children:Array(ca).fill(0).map((X,he)=>Array(Ue[0].length).fill(0).map((ge,_e)=>{const Ae=_t(he,_e),qe=ai(he,_e),Ke=kn(he,_e),Ve=Ce.some(Xn=>Xn.r===he&&Xn.c===_e),ke=_e===0&&!Ae&&!or,ht=Ae?.type==="locked",ft=(_e+1)%5===0,Pn=_e<Lt,Xt=dt&&dt.r===he&&dt.c===_e,xi=je&&ht?"animate-jump-green":"";return D.jsxs("div",{onClick:()=>Bn(he,_e),onDragOver:fr,onDrop:Xn=>tn(Xn,he,_e),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${Ae?Ae.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ke?"cursor-not-allowed":"hover:bg-white/20"}  ${Ae?.type==="temp"?`bg-[${Mt.tileTemp}] ring-2 ring-[${Mt.tileTempRing}] -translate-y-[2px] z-10`:""} ${!Ae&&!Ke&&Pn?"bg-white/20":_e===0&&!Ae?"bg-green-100/40":!Ae&&!Ke&&!ke&&(he+_e)%2===0?"bg-black/5":"bg-transparent"} ${Xt?"ring-4 ring-blue-400 z-20":""} ${!Ae&&Xt?"bg-blue-50/20":""} ${!Ae&&ft?"border-r-2 border-r-black/10":"border border-black/5"} ${Pn?"animate-pop-green":""} ${xi}`,style:ht?{backgroundColor:Pn?Mt.overlayComplete:Mt.tileLocked,color:Mt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:je?`${_e*50}ms`:"0ms"}:Ae?.type==="temp"?{backgroundColor:Ae.isWild?Mt.tileWildPlaced:Mt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ke?{backgroundColor:Mt.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:{},children:[!Ae&&ke&&D.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:D.jsx(pT,{size:20,style:{color:Mt.startArrow}})}),!Ae&&Ke&&D.jsx("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!Ae&&qe&&!Ke&&!Ve&&D.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[D.jsx(bm,{className:"w-6 h-6",fill:Mt.starGold,stroke:Mt.starGold}),D.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",qe.val]})]}),!Ae&&Ve&&!Ke&&D.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse",children:D.jsx(gh,{className:"w-7 h-7",fill:Mt.starPurple,stroke:Mt.starPurple})}),Ae&&D.jsxs("div",{draggable:Ae.type==="temp"&&!je&&r==="playing",onDragStart:Xn=>Pi(Xn,{type:"board",r:he,c:_e,letter:Ae.letter}),className:`w-full h-full flex items-center justify-center ${Ae.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:[D.jsx("span",{className:"text-2xl font-bold select-none font-mono",children:Ae.letter}),Ae.isWild&&D.jsx(gh,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})]})]},`${he}-${_e}`)}))}),D.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:I&&xe.filter(X=>X.type==="bottom").map((X,he)=>{const ge=Math.max(X.startCol,pt+X.offset);return D.jsx("div",{className:"absolute -bottom-[35px]",style:{left:`${ge*wa}px`,transition:"left 1.2s ease-in-out",zIndex:50},children:D.jsx(W_,{trigger:An})},`fan-bottom-${X.id}`)})})]}),en&&D.jsx("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none",children:D.jsxs("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative",children:[D.jsx("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),D.jsx(dT,{size:16}),"Start Here!"]})})]})})}),D.jsxs("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50",children:[D.jsxs("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4",children:[D.jsxs("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${Sn.type==="error"?"bg-red-100 text-red-700":Sn.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[D.jsx("span",{children:ln?"Checking...":Sn.text}),Sn.type==="error"&&Sn.invalidWord&&D.jsxs("a",{href:`mailto:richard@studiobo.io?subject=Report Valid Word: ${Sn.invalidWord}&body=The word "${Sn.invalidWord}" should be valid.`,className:"ml-2 bg-red-200 hover:bg-red-300 text-red-800 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors",children:["Report ",D.jsx(xT,{size:10})]})]}),D.jsxs("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center",children:[D.jsx("button",{onClick:Oi,disabled:je||V.length===0||r!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",title:"Undo last move",children:D.jsx(DT,{size:16})}),D.jsxs("button",{onClick:Tr,disabled:je||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[D.jsx(BT,{size:16})," Shuffle"]}),D.jsxs("button",{onClick:ti,disabled:je||r!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-white rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[D.jsx(rT,{size:16})," Sort A-Z"]}),yt.length>0&&D.jsxs("button",{onClick:$r,disabled:ln||je||r!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${ln||je?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:ln||je?{}:{backgroundColor:Mt.accentPrimary,color:"white"},children:[ln?"Checking...":"JUMP"," ",D.jsx(hT,{size:18,strokeWidth:4})]}),yt.length>0&&D.jsx("button",{onClick:()=>{const he=yt.map(ge=>ge.isWild?"*":ge.letter).map(ge=>Ah(ge,!1));U(ge=>[...ge,...he].sort((_e,Ae)=>_e.letter!==Ae.letter?_e.letter.localeCompare(Ae.letter):_e.isNew===Ae.isNew?0:_e.isNew?1:-1)),at([]),ct(null)},disabled:je||r!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:D.jsx(wm,{size:16})})]})]}),D.jsxs("div",{onDragOver:fr,onDrop:bi,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:Mt.boardLines},children:[Ri.length===0&&D.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Ri.length<6?D.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ri.map(X=>D.jsx(Ar,{letter:X},X))}):D.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[D.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:ea.map(X=>D.jsx(Ar,{letter:X},X))}),D.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:dr.map(X=>D.jsx(Ar,{letter:X},X))})]})]})]}),D.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `})]})}$E.createRoot(document.getElementById("root")).render(D.jsx(Xe.StrictMode,{children:D.jsx(wM,{})}));
