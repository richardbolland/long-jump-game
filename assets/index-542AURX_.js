(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var rm={exports:{}},ku={};var Fv;function MT(){if(Fv)return ku;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:p,ref:l!==void 0?l:null,props:c}}return ku.Fragment=e,ku.jsx=i,ku.jsxs=i,ku}var Hv;function DT(){return Hv||(Hv=1,rm.exports=MT()),rm.exports}var ne=DT(),am={exports:{}},It={};var qv;function OT(){if(qv)return It;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.iterator;function ee(P){return P===null||typeof P!="object"?null:(P=q&&P[q]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xe=Object.assign,Te={};function Ne(P,ie,Ee){this.props=P,this.context=ie,this.refs=Te,this.updater=Ee||j}Ne.prototype.isReactComponent={},Ne.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},Ne.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Ve(){}Ve.prototype=Ne.prototype;function Le(P,ie,Ee){this.props=P,this.context=ie,this.refs=Te,this.updater=Ee||j}var Pe=Le.prototype=new Ve;Pe.constructor=Le,xe(Pe,Ne.prototype),Pe.isPureReactComponent=!0;var Ge=Array.isArray;function Xe(){}var F={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(P,ie,Ee){var ge=Ee.ref;return{$$typeof:r,type:P,key:ie,ref:ge!==void 0?ge:null,props:Ee}}function B(P,ie){return V(P.type,ie,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Ee){return ie[Ee]})}var I=/\/+/g;function W(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):ie.toString(36)}function re(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Xe,Xe):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,ie,Ee,ge,Re){var Qe=typeof P;(Qe==="undefined"||Qe==="boolean")&&(P=null);var st=!1;if(P===null)st=!0;else switch(Qe){case"bigint":case"string":case"number":st=!0;break;case"object":switch(P.$$typeof){case r:case e:st=!0;break;case M:return st=P._init,H(st(P._payload),ie,Ee,ge,Re)}}if(st)return Re=Re(P),st=ge===""?"."+W(P,0):ge,Ge(Re)?(Ee="",st!=null&&(Ee=st.replace(I,"$&/")+"/"),H(Re,ie,Ee,"",function(Et){return Et})):Re!=null&&(C(Re)&&(Re=B(Re,Ee+(Re.key==null||P&&P.key===Re.key?"":(""+Re.key).replace(I,"$&/")+"/")+st)),ie.push(Re)),1;st=0;var lt=ge===""?".":ge+":";if(Ge(P))for(var yt=0;yt<P.length;yt++)ge=P[yt],Qe=lt+W(ge,yt),st+=H(ge,ie,Ee,Qe,Re);else if(yt=ee(P),typeof yt=="function")for(P=yt.call(P),yt=0;!(ge=P.next()).done;)ge=ge.value,Qe=lt+W(ge,yt++),st+=H(ge,ie,Ee,Qe,Re);else if(Qe==="object"){if(typeof P.then=="function")return H(re(P),ie,Ee,ge,Re);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return st}function K(P,ie,Ee){if(P==null)return P;var ge=[],Re=0;return H(P,ge,"","",function(Qe){return ie.call(Ee,Qe,Re++)}),ge}function ye(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(Ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=Ee)},function(Ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=Ee)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ce={map:K,forEach:function(P,ie,Ee){K(P,function(){ie.apply(this,arguments)},Ee)},count:function(P){var ie=0;return K(P,function(){ie++}),ie},toArray:function(P){return K(P,function(ie){return ie})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return It.Activity=L,It.Children=Ce,It.Component=Ne,It.Fragment=i,It.Profiler=l,It.PureComponent=Le,It.StrictMode=s,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,It.__COMPILER_RUNTIME={__proto__:null,c:function(P){return F.H.useMemoCache(P)}},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(P,ie,Ee){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ge=xe({},P.props),Re=P.key;if(ie!=null)for(Qe in ie.key!==void 0&&(Re=""+ie.key),ie)!z.call(ie,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&ie.ref===void 0||(ge[Qe]=ie[Qe]);var Qe=arguments.length-2;if(Qe===1)ge.children=Ee;else if(1<Qe){for(var st=Array(Qe),lt=0;lt<Qe;lt++)st[lt]=arguments[lt+2];ge.children=st}return V(P.type,Re,ge)},It.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},It.createElement=function(P,ie,Ee){var ge,Re={},Qe=null;if(ie!=null)for(ge in ie.key!==void 0&&(Qe=""+ie.key),ie)z.call(ie,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Re[ge]=ie[ge]);var st=arguments.length-2;if(st===1)Re.children=Ee;else if(1<st){for(var lt=Array(st),yt=0;yt<st;yt++)lt[yt]=arguments[yt+2];Re.children=lt}if(P&&P.defaultProps)for(ge in st=P.defaultProps,st)Re[ge]===void 0&&(Re[ge]=st[ge]);return V(P,Qe,Re)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:b,render:P}},It.isValidElement=C,It.lazy=function(P){return{$$typeof:M,_payload:{_status:-1,_result:P},_init:ye}},It.memo=function(P,ie){return{$$typeof:E,type:P,compare:ie===void 0?null:ie}},It.startTransition=function(P){var ie=F.T,Ee={};F.T=Ee;try{var ge=P(),Re=F.S;Re!==null&&Re(Ee,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Xe,he)}catch(Qe){he(Qe)}finally{ie!==null&&Ee.types!==null&&(ie.types=Ee.types),F.T=ie}},It.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},It.use=function(P){return F.H.use(P)},It.useActionState=function(P,ie,Ee){return F.H.useActionState(P,ie,Ee)},It.useCallback=function(P,ie){return F.H.useCallback(P,ie)},It.useContext=function(P){return F.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,ie){return F.H.useDeferredValue(P,ie)},It.useEffect=function(P,ie){return F.H.useEffect(P,ie)},It.useEffectEvent=function(P){return F.H.useEffectEvent(P)},It.useId=function(){return F.H.useId()},It.useImperativeHandle=function(P,ie,Ee){return F.H.useImperativeHandle(P,ie,Ee)},It.useInsertionEffect=function(P,ie){return F.H.useInsertionEffect(P,ie)},It.useLayoutEffect=function(P,ie){return F.H.useLayoutEffect(P,ie)},It.useMemo=function(P,ie){return F.H.useMemo(P,ie)},It.useOptimistic=function(P,ie){return F.H.useOptimistic(P,ie)},It.useReducer=function(P,ie,Ee){return F.H.useReducer(P,ie,Ee)},It.useRef=function(P){return F.H.useRef(P)},It.useState=function(P){return F.H.useState(P)},It.useSyncExternalStore=function(P,ie,Ee){return F.H.useSyncExternalStore(P,ie,Ee)},It.useTransition=function(){return F.H.useTransition()},It.version="19.2.0",It}var Gv;function ef(){return Gv||(Gv=1,am.exports=OT()),am.exports}var St=ef(),sm={exports:{}},Lu={},om={exports:{}},lm={};var Yv;function xT(){return Yv||(Yv=1,(function(r){function e(H,K){var ye=H.length;H.push(K);e:for(;0<ye;){var he=ye-1>>>1,Ce=H[he];if(0<l(Ce,K))H[he]=K,H[ye]=Ce,ye=he;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var K=H[0],ye=H.pop();if(ye!==K){H[0]=ye;e:for(var he=0,Ce=H.length,P=Ce>>>1;he<P;){var ie=2*(he+1)-1,Ee=H[ie],ge=ie+1,Re=H[ge];if(0>l(Ee,ye))ge<Ce&&0>l(Re,Ee)?(H[he]=Re,H[ge]=ye,he=ge):(H[he]=Ee,H[ie]=ye,he=ie);else if(ge<Ce&&0>l(Re,ye))H[he]=Re,H[ge]=ye,he=ge;else break e}}return K}function l(H,K){var ye=H.sortIndex-K.sortIndex;return ye!==0?ye:H.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();r.unstable_now=function(){return p.now()-b}}var w=[],E=[],M=1,L=null,q=3,ee=!1,j=!1,xe=!1,Te=!1,Ne=typeof setTimeout=="function"?setTimeout:null,Ve=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;function Pe(H){for(var K=i(E);K!==null;){if(K.callback===null)s(E);else if(K.startTime<=H)s(E),K.sortIndex=K.expirationTime,e(w,K);else break;K=i(E)}}function Ge(H){if(xe=!1,Pe(H),!j)if(i(w)!==null)j=!0,Xe||(Xe=!0,k());else{var K=i(E);K!==null&&re(Ge,K.startTime-H)}}var Xe=!1,F=-1,z=5,V=-1;function B(){return Te?!0:!(r.unstable_now()-V<z)}function C(){if(Te=!1,Xe){var H=r.unstable_now();V=H;var K=!0;try{e:{j=!1,xe&&(xe=!1,Ve(F),F=-1),ee=!0;var ye=q;try{t:{for(Pe(H),L=i(w);L!==null&&!(L.expirationTime>H&&B());){var he=L.callback;if(typeof he=="function"){L.callback=null,q=L.priorityLevel;var Ce=he(L.expirationTime<=H);if(H=r.unstable_now(),typeof Ce=="function"){L.callback=Ce,Pe(H),K=!0;break t}L===i(w)&&s(w),Pe(H)}else s(w);L=i(w)}if(L!==null)K=!0;else{var P=i(E);P!==null&&re(Ge,P.startTime-H),K=!1}}break e}finally{L=null,q=ye,ee=!1}K=void 0}}finally{K?k():Xe=!1}}}var k;if(typeof Le=="function")k=function(){Le(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=C,k=function(){W.postMessage(null)}}else k=function(){Ne(C,0)};function re(H,K){F=Ne(function(){H(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return q},r.unstable_next=function(H){switch(q){case 1:case 2:case 3:var K=3;break;default:K=q}var ye=q;q=K;try{return H()}finally{q=ye}},r.unstable_requestPaint=function(){Te=!0},r.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ye=q;q=H;try{return K()}finally{q=ye}},r.unstable_scheduleCallback=function(H,K,ye){var he=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?he+ye:he):ye=he,H){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ye+Ce,H={id:M++,callback:K,priorityLevel:H,startTime:ye,expirationTime:Ce,sortIndex:-1},ye>he?(H.sortIndex=ye,e(E,H),i(w)===null&&H===i(E)&&(xe?(Ve(F),F=-1):xe=!0,re(Ge,ye-he))):(H.sortIndex=Ce,e(w,H),j||ee||(j=!0,Xe||(Xe=!0,k()))),H},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(H){var K=q;return function(){var ye=q;q=K;try{return H.apply(this,arguments)}finally{q=ye}}}})(lm)),lm}var Xv;function NT(){return Xv||(Xv=1,om.exports=xT()),om.exports}var um={exports:{}},Ui={};var Qv;function VT(){if(Qv)return Ui;Qv=1;var r=ef();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)E+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,M){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:L==null?null:""+L,children:w,containerInfo:E,implementation:M}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ui.createPortal=function(w,E){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,M)},Ui.flushSync=function(w){var E=p.T,M=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=M,s.d.f()}},Ui.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},Ui.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},Ui.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var M=E.as,L=b(M,E.crossOrigin),q=typeof E.integrity=="string"?E.integrity:void 0,ee=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;M==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:L,integrity:q,fetchPriority:ee}):M==="script"&&s.d.X(w,{crossOrigin:L,integrity:q,fetchPriority:ee,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Ui.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var M=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},Ui.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var M=E.as,L=b(M,E.crossOrigin);s.d.L(w,M,{crossOrigin:L,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Ui.preloadModule=function(w,E){if(typeof w=="string")if(E){var M=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},Ui.requestFormReset=function(w){s.d.r(w)},Ui.unstable_batchedUpdates=function(w,E){return w(E)},Ui.useFormState=function(w,E,M){return p.H.useFormState(w,E,M)},Ui.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ui.version="19.2.0",Ui}var Kv;function PT(){if(Kv)return um.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=VT(),um.exports}var Wv;function kT(){if(Wv)return Lu;Wv=1;var r=NT(),e=ef(),i=PT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,D=h.child;D;){if(D===a){T=!0,a=h,o=m;break}if(D===o){T=!0,o=h,a=m;break}D=D.sibling}if(!T){for(D=m.child;D;){if(D===a){T=!0,a=m,o=h;break}if(D===o){T=!0,o=m,a=h;break}D=D.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function M(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=M(t),n!==null)return n;t=t.sibling}return null}var L=Object.assign,q=Symbol.for("react.element"),ee=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),Ve=Symbol.for("react.consumer"),Le=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function W(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xe:return"Fragment";case Ne:return"Profiler";case Te:return"StrictMode";case Ge:return"Suspense";case Xe:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case Le:return t.displayName||"Context";case Ve:return(t._context.displayName||"Context")+".Consumer";case Pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return n=t.displayName||null,n!==null?n:W(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return W(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},he=[],Ce=-1;function P(t){return{current:t}}function ie(t){0>Ce||(t.current=he[Ce],he[Ce]=null,Ce--)}function Ee(t,n){Ce++,he[Ce]=t.current,t.current=n}var ge=P(null),Re=P(null),Qe=P(null),st=P(null);function lt(t,n){switch(Ee(Qe,n),Ee(Re,t),Ee(ge,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=hv(n),t=fv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(ge),Ee(ge,t)}function yt(){ie(ge),ie(Re),ie(Qe)}function Et(t){t.memoizedState!==null&&Ee(st,t);var n=ge.current,a=fv(n,t.type);n!==a&&(Ee(Re,t),Ee(ge,a))}function dn(t){Re.current===t&&(ie(ge),ie(Re)),st.current===t&&(ie(st),xu._currentValue=ye)}var ht,Tt;function Nt(t){if(ht===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ht=n&&n[1]||"",Tt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+t+Tt}var Lt=!1;function xn(t,n){if(!t||Lt)return"";Lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(pe){var ce=pe}Reflect.construct(t,[],we)}else{try{we.call()}catch(pe){ce=pe}t.call(we.prototype)}}else{try{throw Error()}catch(pe){ce=pe}(we=t())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(pe){if(pe&&ce&&typeof pe.stack=="string")return[pe.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],D=m[1];if(T&&D){var G=T.split(`
`),oe=D.split(`
`);for(h=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;h<oe.length&&!oe[h].includes("DetermineComponentFrameRoot");)h++;if(o===G.length||h===oe.length)for(o=G.length-1,h=oe.length-1;1<=o&&0<=h&&G[o]!==oe[h];)h--;for(;1<=o&&0<=h;o--,h--)if(G[o]!==oe[h]){if(o!==1||h!==1)do if(o--,h--,0>h||G[o]!==oe[h]){var ve=`
`+G[o].replace(" at new "," at ");return t.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",t.displayName)),ve}while(1<=o&&0<=h);break}}}finally{Lt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nt(a):""}function yi(t,n){switch(t.tag){case 26:case 27:case 5:return Nt(t.type);case 16:return Nt("Lazy");case 13:return t.child!==n&&n!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return xn(t.type,!1);case 11:return xn(t.type.render,!1);case 1:return xn(t.type,!0);case 31:return Nt("Activity");default:return""}}function en(t){try{var n="",a=null;do n+=yi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var at=Object.prototype.hasOwnProperty,cn=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Hi=r.unstable_shouldYield,Gn=r.unstable_requestPaint,$t=r.unstable_now,En=r.unstable_getCurrentPriorityLevel,R=r.unstable_ImmediatePriority,g=r.unstable_UserBlockingPriority,v=r.unstable_NormalPriority,x=r.unstable_LowPriority,X=r.unstable_IdlePriority,de=r.log,Ie=r.unstable_setDisableYieldValue,$e=null,tt=null;function He(t){if(typeof de=="function"&&Ie(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode($e,t)}catch{}}var Je=Math.clz32?Math.clz32:sn,Kt=Math.log,Cn=Math.LN2;function sn(t){return t>>>=0,t===0?32:31-(Kt(t)/Cn|0)|0}var jn=256,Yn=262144,jt=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var D=o&134217727;return D!==0?(o=D&~m,o!==0?h=In(o):(T&=D,T!==0?h=In(T):a||(a=D&~t,a!==0&&(h=In(a))))):(D=o&~m,D!==0?h=In(D):T!==0?h=In(T):a||(a=o&~t,a!==0&&(h=In(a)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:h}function Xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Bn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Rt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gi(t,n,a,o,h,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var D=t.entanglements,G=t.expirationTimes,oe=t.hiddenUpdates;for(a=T&~a;0<a;){var ve=31-Je(a),we=1<<ve;D[ve]=0,G[ve]=-1;var ce=oe[ve];if(ce!==null)for(oe[ve]=null,ve=0;ve<ce.length;ve++){var pe=ce[ve];pe!==null&&(pe.lane&=-536870913)}a&=~we}o!==0&&Yi(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Yi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Je(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ni(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Je(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function ir(t,n){var a=n&-n;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ye(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ma(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function wi(t,n){var a=K.p;try{return K.p=t,n()}finally{K.p=a}}var le=Math.random().toString(36).slice(2),me="__reactFiber$"+le,be="__reactProps$"+le,De="__reactContainer$"+le,ke="__reactEvents$"+le,ct="__reactListeners$"+le,Be="__reactHandles$"+le,gt="__reactResources$"+le,qe="__reactMarker$"+le;function _t(t){delete t[me],delete t[be],delete t[ke],delete t[ct],delete t[Be]}function tn(t){var n=t[me];if(n)return n;for(var a=t.parentNode;a;){if(n=a[De]||a[me]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[me])return a;t=_v(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[me]||t[De]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ci(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function hi(t){var n=t[gt];return n||(n=t[gt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mn(t){t[qe]=!0}var Ar=new Set,Xi={};function Qi(t,n){rr(t,n),rr(t+"Capture",n)}function rr(t,n){for(Xi[t]=n,t=0;t<n.length;t++)Ar.add(n[t])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},Es={};function _o(t){return at.call(Es,t)?!0:at.call(pa,t)?!1:vo.test(t)?Es[t]=!0:(pa[t]=!0,!1)}function Ur(t,n,a){if(_o(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Vi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tn(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Qn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ar(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jr(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){a=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nn(t){if(!t._valueTracker){var n=ar(t)?"checked":"value";t._valueTracker=jr(t,n,""+t[n])}}function Ei(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ar(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vi=/[\n"\\]/g;function Vn(t){return t.replace(vi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function La(t,n,a,o,h,m,T,D){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qn(n)):t.value!==""+Qn(n)&&(t.value=""+Qn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?Ts(t,T,Qn(n)):a!=null?Ts(t,T,Qn(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+Qn(D):t.removeAttribute("name")}function bo(t,n,a,o,h,m,T,D){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){nn(t);return}a=a!=null?""+Qn(a):"",n=n!=null?""+Qn(n):a,D||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=D?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),nn(t)}function Ts(t,n,a){n==="number"&&ft(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pn(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ga(t,n,a){if(n!=null&&(n=""+Qn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qn(a):""}function zr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qn(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nn(t)}function ni(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ua(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||sr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Sr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ua(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Ua(t,m,n[m])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function or(){}var As=null;function lr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ur=null,Ki=null;function cr(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[be]||null;e:switch(t=n.stateNode,n.type){case"input":if(La(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[be]||null;if(!h)throw Error(s(90));La(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Ei(o)}break e;case"textarea":ga(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&pn(t,!!a.multiple,n,!1)}}}var ta=!1;function hr(t,n,a){if(ta)return t(n,a);ta=!0;try{var o=t(n);return o}finally{if(ta=!1,(ur!==null||Ki!==null)&&(Qc(),ur&&(n=ur,t=Ki,Ki=ur=null,cr(n),t)))for(n=0;n<t.length;n++)cr(t[n])}}function Ti(t,n){var a=t.stateNode;if(a===null)return null;var o=a[be]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(fi)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Br=!1}var Fr=null,Pi=null,na=null;function _a(){if(na)return na;var t,n=Pi,a=n.length,o,h="value"in Fr?Fr.value:Fr.textContent,m=h.length;for(t=0;t<a&&n[t]===h[t];t++);var T=a-t;for(o=1;o<=T&&n[a-o]===h[m-o];o++);return na=h.slice(t,1<o?1-o:void 0)}function ia(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Cr(){return!0}function Ir(){return!1}function di(t){function n(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(a=t[D],this[D]=a?a(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Cr:Ir,this.isPropagationStopped=Ir,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),n}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=di(fr),ba=L({},fr,{view:0,detail:0}),wo=di(ba),Mr,za,Wi,Ba=L({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(Mr=t.screenX-Wi.screenX,za=t.screenY-Wi.screenY):za=Mr=0,Wi=t),Mr)},movementY:function(t){return"movementY"in t?t.movementY:za}}),Ss=di(Ba),Fa=L({},Ba,{dataTransfer:0}),Wo=di(Fa),$n=L({},ba,{relatedTarget:0}),wa=di($n),$i=L({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=di($i),ra=L({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ha=di(ra),Rs=L({},fr,{data:0}),Dr=di(Rs),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Is(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function Ea(){return Is}var Ai=L({},ba,{key:function(t){if(t.key){var n=Cs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(t){return t.type==="keypress"?ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eo=di(Ai),el=L({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aa=di(el),u=L({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),y=di(u),A=L({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=di(A),te=L({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=di(te),Ue=L({},fr,{newState:0,oldState:0}),At=di(Ue),Hn=[9,13,27,32],rn=fi&&"CompositionEvent"in window,Dn=null;fi&&"documentMode"in document&&(Dn=document.documentMode);var ki=fi&&"TextEvent"in window&&!Dn,dr=fi&&(!rn||Dn&&8<Dn&&11>=Dn),mr=" ",Ji=!1;function qr(t,n){switch(t){case"keyup":return Hn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function vf(t,n){switch(t){case"compositionend":return qa(n);case"keypress":return n.which!==32?null:(Ji=!0,mr);case"textInput":return t=n.data,t===mr&&Ji?null:t;default:return null}}function gc(t,n){if(Ga)return t==="compositionend"||!rn&&qr(t,n)?(t=_a(),na=Pi=Fr=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dr&&n.locale!=="ko"?null:n.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tl[t.type]:n==="textarea"}function Pn(t,n,a,o){ur?Ki?Ki.push(o):Ki=[o]:ur=o,n=th(n,"onChange"),0<n.length&&(a=new Hr("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Zi=null,Ya=null;function yc(t){av(t,0)}function To(t){var n=ci(t);if(Ei(n))return t}function tu(t,n){if(t==="change")return n}var nu=!1;if(fi){var Ms;if(fi){var nl="oninput"in document;if(!nl){var f=document.createElement("div");f.setAttribute("oninput","return;"),nl=typeof f.oninput=="function"}Ms=nl}else Ms=!1;nu=Ms&&(!document.documentMode||9<document.documentMode)}function d(){Zi&&(Zi.detachEvent("onpropertychange",_),Ya=Zi=null)}function _(t){if(t.propertyName==="value"&&To(Ya)){var n=[];Pn(n,Ya,t,lr(t)),hr(yc,n)}}function S(t,n,a){t==="focusin"?(d(),Zi=n,Ya=a,Zi.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return To(Ya)}function U(t,n){if(t==="click")return To(n)}function Q(t,n){if(t==="input"||t==="change")return To(n)}function $(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:$;function se(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!at.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ke(t,n){var a=Oe(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oe(a)}}function it(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?it(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function J(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ft(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ft(t.document)}return n}function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ze=fi&&"documentMode"in document&&11>=document.documentMode,ze=null,on=null,We=null,Pt=!1;function gn(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pt||ze==null||ze!==ft(o)||(o=ze,"selectionStart"in o&&je(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),We&&se(We,o)||(We=o,o=th(on,"onSelect"),0<o.length&&(n=new Hr("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ze)))}function Jn(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var pr={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Ut={},Or={};fi&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Xa(t){if(Ut[t])return Ut[t];if(!pr[t])return t;var n=pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Or)return Ut[t]=n[a];return t}var Me=Xa("animationend"),Fe=Xa("animationiteration"),kt=Xa("animationstart"),Ht=Xa("transitionrun"),Dt=Xa("transitionstart"),zt=Xa("transitioncancel"),Jt=Xa("transitionend"),an=new Map,er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");er.push("scrollEnd");function yn(t,n){an.set(t,n),Qi(n,[t])}var Si=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hn=[],Qa=0,il=0;function Ta(){for(var t=Qa,n=il=Qa=0;n<t;){var a=hn[n];hn[n++]=null;var o=hn[n];hn[n++]=null;var h=hn[n];hn[n++]=null;var m=hn[n];if(hn[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&iu(a,h,m)}}function Aa(t,n,a,o){hn[Qa++]=t,hn[Qa++]=n,hn[Qa++]=a,hn[Qa++]=o,il|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sa(t,n,a,o){return Aa(t,n,a,o),Ao(t)}function tr(t,n){return Aa(t,null,null,n),Ao(t)}function iu(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-Je(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),m):null}function Ao(t){if(50<Su)throw Su=0,Id=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xr={};function _f(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(t,n,a,o){return new _f(t,n,a,o)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ka(t,n){var a=t.alternate;return a===null?(a=Li(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function vc(t,n,a,o,h,m){var T=0;if(o=t,typeof t=="function")bf(t)&&(T=1);else if(typeof t=="string")T=yT(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Li(31,a,n,h),t.elementType=V,t.lanes=m,t;case xe:return So(a.children,h,m,n);case Te:T=8,h|=24;break;case Ne:return t=Li(12,a,n,h|2),t.elementType=Ne,t.lanes=m,t;case Ge:return t=Li(13,a,n,h),t.elementType=Ge,t.lanes=m,t;case Xe:return t=Li(19,a,n,h),t.elementType=Xe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Le:T=10;break e;case Ve:T=9;break e;case Pe:T=11;break e;case F:T=14;break e;case z:T=16,o=null;break e}T=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Li(T,a,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function So(t,n,a,o){return t=Li(7,t,o,n),t.lanes=a,t}function wf(t,n,a){return t=Li(6,t,null,n),t.lanes=a,t}function Fp(t){var n=Li(18,null,null,0);return n.stateNode=t,n}function Ef(t,n,a){return n=Li(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hp=new WeakMap;function Gr(t,n){if(typeof t=="object"&&t!==null){var a=Hp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:en(n)},Hp.set(t,n),n)}return{value:t,source:n,stack:en(n)}}var rl=[],al=0,_c=null,ru=0,Yr=[],Xr=0,Ds=null,Sa=1,Ra="";function Wa(t,n){rl[al++]=ru,rl[al++]=_c,_c=t,ru=n}function qp(t,n,a){Yr[Xr++]=Sa,Yr[Xr++]=Ra,Yr[Xr++]=Ds,Ds=t;var o=Sa;t=Ra;var h=32-Je(o)-1;o&=~(1<<h),a+=1;var m=32-Je(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Sa=1<<32-Je(n)+h|a<<h|o,Ra=m+t}else Sa=1<<m|a<<h|o,Ra=t}function Tf(t){t.return!==null&&(Wa(t,1),qp(t,1,0))}function Af(t){for(;t===_c;)_c=rl[--al],rl[al]=null,ru=rl[--al],rl[al]=null;for(;t===Ds;)Ds=Yr[--Xr],Yr[Xr]=null,Ra=Yr[--Xr],Yr[Xr]=null,Sa=Yr[--Xr],Yr[Xr]=null}function Gp(t,n){Yr[Xr++]=Sa,Yr[Xr++]=Ra,Yr[Xr++]=Ds,Sa=n.id,Ra=n.overflow,Ds=t}var Ri=null,kn=null,Wt=!1,Os=null,Qr=!1,Sf=Error(s(519));function xs(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(Gr(n,t)),Sf}function Yp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[me]=t,n[be]=o,a){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(a=0;a<Cu.length;a++)Ft(Cu[a],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),bo(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),zr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||uv(n.textContent,a)?(o.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),o.onScroll!=null&&Ft("scroll",n),o.onScrollEnd!=null&&Ft("scrollend",n),o.onClick!=null&&(n.onclick=or),n=!0):n=!1,n||xs(t,!0)}function Xp(t){for(Ri=t.return;Ri;)switch(Ri.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Ri=Ri.return}}function sl(t){if(t!==Ri)return!1;if(!Wt)return Xp(t),Wt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hd(t.type,t.memoizedProps)),a=!a),a&&kn&&xs(t),Xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kn=vv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));kn=vv(t)}else n===27?(n=kn,Ys(t.type)?(t=Qd,Qd=null,kn=t):kn=n):kn=Ri?Wr(t.stateNode.nextSibling):null;return!0}function Ro(){kn=Ri=null,Wt=!1}function Rf(){var t=Os;return t!==null&&(_r===null?_r=t:_r.push.apply(_r,t),Os=null),t}function au(t){Os===null?Os=[t]:Os.push(t)}var Cf=P(null),Co=null,$a=null;function Ns(t,n,a){Ee(Cf,n._currentValue),n._currentValue=a}function Ja(t){t._currentValue=Cf.current,ie(Cf)}function If(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function Mf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var D=m;m=h;for(var G=0;G<n.length;G++)if(D.context===n[G]){m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),If(m.return,a,t),o||(T=null);break e}m=D.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),If(T,a,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ol(t,n,a,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var D=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(D):t=[D])}}else if(h===st.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xu):t=[xu])}h=h.return}t!==null&&Mf(n,t,a,o),n.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Io(t){Co=t,$a=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ci(t){return Qp(Co,t)}function wc(t,n){return Co===null&&Io(t),Qp(t,n)}function Qp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},$a===null){if(t===null)throw Error(s(308));$a=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $a=$a.next=n;return a}var dE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mE=r.unstable_scheduleCallback,pE=r.unstable_NormalPriority,ii={$$typeof:Le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new dE,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&mE(pE,function(){t.controller.abort()})}var ou=null,Of=0,ll=0,ul=null;function gE(t,n){if(ou===null){var a=ou=[];Of=0,ll=Vd(),ul={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Of++,n.then(Kp,Kp),n}function Kp(){if(--Of===0&&ou!==null){ul!==null&&(ul.status="fulfilled");var t=ou;ou=null,ll=0,ul=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Wp=H.S;H.S=function(t,n){Ny=$t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gE(t,n),Wp!==null&&Wp(t,n)};var Mo=P(null);function xf(){var t=Mo.current;return t!==null?t:Mn.pooledCache}function Ec(t,n){n===null?Ee(Mo,Mo.current):Ee(Mo,n.pool)}function $p(){var t=xf();return t===null?null:{parent:ii._currentValue,pool:t}}var cl=Error(s(460)),Nf=Error(s(474)),Tc=Error(s(542)),Ac={then:function(){}};function Jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(or,or),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t;default:if(typeof n.status=="string")n.then(or,or);else{if(t=Mn,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t}throw Oo=n,cl}}function Do(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oo=a,cl):a}}var Oo=null;function eg(){if(Oo===null)throw Error(s(459));var t=Oo;return Oo=null,t}function tg(t){if(t===cl||t===Tc)throw Error(s(483))}var hl=null,lu=0;function Sc(t){var n=lu;return lu+=1,hl===null&&(hl=[]),Zp(hl,t,n)}function uu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Rc(t,n){throw n.$$typeof===q?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ng(t){function n(Z,Y){if(t){var ae=Z.deletions;ae===null?(Z.deletions=[Y],Z.flags|=16):ae.push(Y)}}function a(Z,Y){if(!t)return null;for(;Y!==null;)n(Z,Y),Y=Y.sibling;return null}function o(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function h(Z,Y){return Z=Ka(Z,Y),Z.index=0,Z.sibling=null,Z}function m(Z,Y,ae){return Z.index=ae,t?(ae=Z.alternate,ae!==null?(ae=ae.index,ae<Y?(Z.flags|=67108866,Y):ae):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function T(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function D(Z,Y,ae,_e){return Y===null||Y.tag!==6?(Y=wf(ae,Z.mode,_e),Y.return=Z,Y):(Y=h(Y,ae),Y.return=Z,Y)}function G(Z,Y,ae,_e){var dt=ae.type;return dt===xe?ve(Z,Y,ae.props.children,_e,ae.key):Y!==null&&(Y.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===z&&Do(dt)===Y.type)?(Y=h(Y,ae.props),uu(Y,ae),Y.return=Z,Y):(Y=vc(ae.type,ae.key,ae.props,null,Z.mode,_e),uu(Y,ae),Y.return=Z,Y)}function oe(Z,Y,ae,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=Ef(ae,Z.mode,_e),Y.return=Z,Y):(Y=h(Y,ae.children||[]),Y.return=Z,Y)}function ve(Z,Y,ae,_e,dt){return Y===null||Y.tag!==7?(Y=So(ae,Z.mode,_e,dt),Y.return=Z,Y):(Y=h(Y,ae),Y.return=Z,Y)}function we(Z,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=wf(""+Y,Z.mode,ae),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case ee:return ae=vc(Y.type,Y.key,Y.props,null,Z.mode,ae),uu(ae,Y),ae.return=Z,ae;case j:return Y=Ef(Y,Z.mode,ae),Y.return=Z,Y;case z:return Y=Do(Y),we(Z,Y,ae)}if(re(Y)||k(Y))return Y=So(Y,Z.mode,ae,null),Y.return=Z,Y;if(typeof Y.then=="function")return we(Z,Sc(Y),ae);if(Y.$$typeof===Le)return we(Z,wc(Z,Y),ae);Rc(Z,Y)}return null}function ce(Z,Y,ae,_e){var dt=Y!==null?Y.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return dt!==null?null:D(Z,Y,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ee:return ae.key===dt?G(Z,Y,ae,_e):null;case j:return ae.key===dt?oe(Z,Y,ae,_e):null;case z:return ae=Do(ae),ce(Z,Y,ae,_e)}if(re(ae)||k(ae))return dt!==null?null:ve(Z,Y,ae,_e,null);if(typeof ae.then=="function")return ce(Z,Y,Sc(ae),_e);if(ae.$$typeof===Le)return ce(Z,Y,wc(Z,ae),_e);Rc(Z,ae)}return null}function pe(Z,Y,ae,_e,dt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Z=Z.get(ae)||null,D(Y,Z,""+_e,dt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ee:return Z=Z.get(_e.key===null?ae:_e.key)||null,G(Y,Z,_e,dt);case j:return Z=Z.get(_e.key===null?ae:_e.key)||null,oe(Y,Z,_e,dt);case z:return _e=Do(_e),pe(Z,Y,ae,_e,dt)}if(re(_e)||k(_e))return Z=Z.get(ae)||null,ve(Y,Z,_e,dt,null);if(typeof _e.then=="function")return pe(Z,Y,ae,Sc(_e),dt);if(_e.$$typeof===Le)return pe(Z,Y,ae,wc(Y,_e),dt);Rc(Y,_e)}return null}function rt(Z,Y,ae,_e){for(var dt=null,ln=null,ot=Y,Vt=Y=0,Gt=null;ot!==null&&Vt<ae.length;Vt++){ot.index>Vt?(Gt=ot,ot=null):Gt=ot.sibling;var un=ce(Z,ot,ae[Vt],_e);if(un===null){ot===null&&(ot=Gt);break}t&&ot&&un.alternate===null&&n(Z,ot),Y=m(un,Y,Vt),ln===null?dt=un:ln.sibling=un,ln=un,ot=Gt}if(Vt===ae.length)return a(Z,ot),Wt&&Wa(Z,Vt),dt;if(ot===null){for(;Vt<ae.length;Vt++)ot=we(Z,ae[Vt],_e),ot!==null&&(Y=m(ot,Y,Vt),ln===null?dt=ot:ln.sibling=ot,ln=ot);return Wt&&Wa(Z,Vt),dt}for(ot=o(ot);Vt<ae.length;Vt++)Gt=pe(ot,Z,Vt,ae[Vt],_e),Gt!==null&&(t&&Gt.alternate!==null&&ot.delete(Gt.key===null?Vt:Gt.key),Y=m(Gt,Y,Vt),ln===null?dt=Gt:ln.sibling=Gt,ln=Gt);return t&&ot.forEach(function($s){return n(Z,$s)}),Wt&&Wa(Z,Vt),dt}function vt(Z,Y,ae,_e){if(ae==null)throw Error(s(151));for(var dt=null,ln=null,ot=Y,Vt=Y=0,Gt=null,un=ae.next();ot!==null&&!un.done;Vt++,un=ae.next()){ot.index>Vt?(Gt=ot,ot=null):Gt=ot.sibling;var $s=ce(Z,ot,un.value,_e);if($s===null){ot===null&&(ot=Gt);break}t&&ot&&$s.alternate===null&&n(Z,ot),Y=m($s,Y,Vt),ln===null?dt=$s:ln.sibling=$s,ln=$s,ot=Gt}if(un.done)return a(Z,ot),Wt&&Wa(Z,Vt),dt;if(ot===null){for(;!un.done;Vt++,un=ae.next())un=we(Z,un.value,_e),un!==null&&(Y=m(un,Y,Vt),ln===null?dt=un:ln.sibling=un,ln=un);return Wt&&Wa(Z,Vt),dt}for(ot=o(ot);!un.done;Vt++,un=ae.next())un=pe(ot,Z,Vt,un.value,_e),un!==null&&(t&&un.alternate!==null&&ot.delete(un.key===null?Vt:un.key),Y=m(un,Y,Vt),ln===null?dt=un:ln.sibling=un,ln=un);return t&&ot.forEach(function(IT){return n(Z,IT)}),Wt&&Wa(Z,Vt),dt}function Rn(Z,Y,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===xe&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ee:e:{for(var dt=ae.key;Y!==null;){if(Y.key===dt){if(dt=ae.type,dt===xe){if(Y.tag===7){a(Z,Y.sibling),_e=h(Y,ae.props.children),_e.return=Z,Z=_e;break e}}else if(Y.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===z&&Do(dt)===Y.type){a(Z,Y.sibling),_e=h(Y,ae.props),uu(_e,ae),_e.return=Z,Z=_e;break e}a(Z,Y);break}else n(Z,Y);Y=Y.sibling}ae.type===xe?(_e=So(ae.props.children,Z.mode,_e,ae.key),_e.return=Z,Z=_e):(_e=vc(ae.type,ae.key,ae.props,null,Z.mode,_e),uu(_e,ae),_e.return=Z,Z=_e)}return T(Z);case j:e:{for(dt=ae.key;Y!==null;){if(Y.key===dt)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){a(Z,Y.sibling),_e=h(Y,ae.children||[]),_e.return=Z,Z=_e;break e}else{a(Z,Y);break}else n(Z,Y);Y=Y.sibling}_e=Ef(ae,Z.mode,_e),_e.return=Z,Z=_e}return T(Z);case z:return ae=Do(ae),Rn(Z,Y,ae,_e)}if(re(ae))return rt(Z,Y,ae,_e);if(k(ae)){if(dt=k(ae),typeof dt!="function")throw Error(s(150));return ae=dt.call(ae),vt(Z,Y,ae,_e)}if(typeof ae.then=="function")return Rn(Z,Y,Sc(ae),_e);if(ae.$$typeof===Le)return Rn(Z,Y,wc(Z,ae),_e);Rc(Z,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Y!==null&&Y.tag===6?(a(Z,Y.sibling),_e=h(Y,ae),_e.return=Z,Z=_e):(a(Z,Y),_e=wf(ae,Z.mode,_e),_e.return=Z,Z=_e),T(Z)):a(Z,Y)}return function(Z,Y,ae,_e){try{lu=0;var dt=Rn(Z,Y,ae,_e);return hl=null,dt}catch(ot){if(ot===cl||ot===Tc)throw ot;var ln=Li(29,ot,null,Z.mode);return ln.lanes=_e,ln.return=Z,ln}finally{}}}var xo=ng(!0),ig=ng(!1),Vs=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(fn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ao(t),iu(t,null,a),n}return Aa(t,o,n,a),Ao(t)}function cu(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ni(t,a)}}function kf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=n:m=m.next=n}else h=m=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Lf=!1;function hu(){if(Lf){var t=ul;if(t!==null)throw t}}function fu(t,n,a,o){Lf=!1;var h=t.updateQueue;Vs=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var G=D,oe=G.next;G.next=null,T===null?m=oe:T.next=oe,T=G;var ve=t.alternate;ve!==null&&(ve=ve.updateQueue,D=ve.lastBaseUpdate,D!==T&&(D===null?ve.firstBaseUpdate=oe:D.next=oe,ve.lastBaseUpdate=G))}if(m!==null){var we=h.baseState;T=0,ve=oe=G=null,D=m;do{var ce=D.lane&-536870913,pe=ce!==D.lane;if(pe?(qt&ce)===ce:(o&ce)===ce){ce!==0&&ce===ll&&(Lf=!0),ve!==null&&(ve=ve.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var rt=t,vt=D;ce=n;var Rn=a;switch(vt.tag){case 1:if(rt=vt.payload,typeof rt=="function"){we=rt.call(Rn,we,ce);break e}we=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=vt.payload,ce=typeof rt=="function"?rt.call(Rn,we,ce):rt,ce==null)break e;we=L({},we,ce);break e;case 2:Vs=!0}}ce=D.callback,ce!==null&&(t.flags|=64,pe&&(t.flags|=8192),pe=h.callbacks,pe===null?h.callbacks=[ce]:pe.push(ce))}else pe={lane:ce,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ve===null?(oe=ve=pe,G=we):ve=ve.next=pe,T|=ce;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;pe=D,D=pe.next,pe.next=null,h.lastBaseUpdate=pe,h.shared.pending=null}}while(!0);ve===null&&(G=we),h.baseState=G,h.firstBaseUpdate=oe,h.lastBaseUpdate=ve,m===null&&(h.shared.lanes=0),Bs|=T,t.lanes=T,t.memoizedState=we}}function rg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ag(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rg(a[t],n)}var fl=P(null),Cc=P(0);function sg(t,n){t=os,Ee(Cc,t),Ee(fl,n),os=t|n.baseLanes}function Uf(){Ee(Cc,os),Ee(fl,fl.current)}function jf(){os=Cc.current,ie(fl),ie(Cc)}var Nr=P(null),Kr=null;function Ls(t){var n=t.alternate;Ee(Zn,Zn.current&1),Ee(Nr,t),Kr===null&&(n===null||fl.current!==null||n.memoizedState!==null)&&(Kr=t)}function zf(t){Ee(Zn,Zn.current),Ee(Nr,t),Kr===null&&(Kr=t)}function og(t){t.tag===22?(Ee(Zn,Zn.current),Ee(Nr,t),Kr===null&&(Kr=t)):Us()}function Us(){Ee(Zn,Zn.current),Ee(Nr,Nr.current)}function Vr(t){ie(Nr),Kr===t&&(Kr=null),ie(Zn)}var Zn=P(0);function Ic(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Za=0,xt=null,An=null,ri=null,Mc=!1,dl=!1,No=!1,Dc=0,du=0,ml=null,vE=0;function Kn(){throw Error(s(321))}function Bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ue(t[a],n[a]))return!1;return!0}function Ff(t,n,a,o,h,m){return Za=m,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?qg:id,No=!1,m=a(o,h),No=!1,dl&&(m=ug(n,a,o,h)),lg(t),m}function lg(t){H.H=gu;var n=An!==null&&An.next!==null;if(Za=0,ri=An=xt=null,Mc=!1,du=0,ml=null,n)throw Error(s(300));t===null||ai||(t=t.dependencies,t!==null&&bc(t)&&(ai=!0))}function ug(t,n,a,o){xt=t;var h=0;do{if(dl&&(ml=null),du=0,dl=!1,25<=h)throw Error(s(301));if(h+=1,ri=An=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Gg,m=n(a,o)}while(dl);return m}function _E(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?mu(n):n,t=t.useState()[0],(An!==null?An.memoizedState:null)!==t&&(xt.flags|=1024),n}function Hf(){var t=Dc!==0;return Dc=0,t}function qf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Gf(t){if(Mc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Mc=!1}Za=0,ri=An=xt=null,dl=!1,du=Dc=0,ml=null}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?xt.memoizedState=ri=t:ri=ri.next=t,ri}function ei(){if(An===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=An.next;var n=ri===null?xt.memoizedState:ri.next;if(n!==null)ri=n,An=t;else{if(t===null)throw xt.alternate===null?Error(s(467)):Error(s(310));An=t,t={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},ri===null?xt.memoizedState=ri=t:ri=ri.next=t}return ri}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var n=du;return du+=1,ml===null&&(ml=[]),t=Zp(ml,t,n),n=xt,(ri===null?n.memoizedState:ri.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?qg:id),t}function xc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===Le)return Ci(t)}throw Error(s(438,String(t)))}function Yf(t){var n=null,a=xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Oc(),xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=B;return n.index++,a}function es(t,n){return typeof n=="function"?n(t):n}function Nc(t){var n=ei();return Xf(n,An,t)}function Xf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var D=T=null,G=null,oe=n,ve=!1;do{var we=oe.lane&-536870913;if(we!==oe.lane?(qt&we)===we:(Za&we)===we){var ce=oe.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),we===ll&&(ve=!0);else if((Za&ce)===ce){oe=oe.next,ce===ll&&(ve=!0);continue}else we={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},G===null?(D=G=we,T=m):G=G.next=we,xt.lanes|=ce,Bs|=ce;we=oe.action,No&&a(m,we),m=oe.hasEagerState?oe.eagerState:a(m,we)}else ce={lane:we,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},G===null?(D=G=ce,T=m):G=G.next=ce,xt.lanes|=we,Bs|=we;oe=oe.next}while(oe!==null&&oe!==n);if(G===null?T=m:G.next=D,!ue(m,t.memoizedState)&&(ai=!0,ve&&(a=ul,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=G,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Qf(t){var n=ei(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=n.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(ai=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function cg(t,n,a){var o=xt,h=ei(),m=Wt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=n();var T=!ue((An||h).memoizedState,a);if(T&&(h.memoizedState=a,ai=!0),h=h.queue,$f(dg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||ri!==null&&ri.memoizedState.tag&1){if(o.flags|=2048,pl(9,{destroy:void 0},fg.bind(null,o,h,a,n),null),Mn===null)throw Error(s(349));m||(Za&127)!==0||hg(o,n,a)}return a}function hg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xt.updateQueue,n===null?(n=Oc(),xt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function fg(t,n,a,o){n.value=a,n.getSnapshot=o,mg(n)&&pg(t)}function dg(t,n,a){return a(function(){mg(n)&&pg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ue(t,a)}catch{return!0}}function pg(t){var n=tr(t,2);n!==null&&br(n,t,2)}function Kf(t){var n=nr();if(typeof t=="function"){var a=t;if(t=a(),No){He(!0);try{a()}finally{He(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function gg(t,n,a,o){return t.baseState=a,Xf(t,An,typeof o=="function"?o:es)}function bE(t,n,a,o,h){if(kc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};H.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,yg(n,m)):(m.next=a.next,n.pending=a.next=m)}}function yg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=H.T,T={};H.T=T;try{var D=a(h,o),G=H.S;G!==null&&G(T,D),vg(t,n,D)}catch(oe){Wf(t,n,oe)}finally{m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}else try{m=a(h,o),vg(t,n,m)}catch(oe){Wf(t,n,oe)}}function vg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){_g(t,n,o)},function(o){return Wf(t,n,o)}):_g(t,n,a)}function _g(t,n,a){n.status="fulfilled",n.value=a,bg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,yg(t,a)))}function Wf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bg(n),n=n.next;while(n!==o)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wg(t,n){return n}function Eg(t,n){if(Wt){var a=Mn.formState;if(a!==null){e:{var o=xt;if(Wt){if(kn){t:{for(var h=kn,m=Qr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Wr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){kn=Wr(h.nextSibling),o=h.data==="F!";break e}}xs(o)}o=!1}o&&(n=a[0])}}return a=nr(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},a.queue=o,a=Bg.bind(null,xt,o),o.dispatch=a,o=Kf(!1),m=nd.bind(null,xt,!1,o.queue),o=nr(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=bE.bind(null,xt,h,m,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Tg(t){var n=ei();return Ag(n,An,t)}function Ag(t,n,a){if(n=Xf(t,n,wg)[0],t=Nc(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=mu(n)}catch(T){throw T===cl?Tc:T}else o=n;n=ei();var h=n.queue,m=h.dispatch;return a!==n.memoizedState&&(xt.flags|=2048,pl(9,{destroy:void 0},wE.bind(null,h,a),null)),[o,m,t]}function wE(t,n){t.action=n}function Sg(t){var n=ei(),a=An;if(a!==null)return Ag(n,a,t);ei(),n=n.memoizedState,a=ei();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function pl(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Oc(),xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Rg(){return ei().memoizedState}function Vc(t,n,a,o){var h=nr();xt.flags|=t,h.memoizedState=pl(1|n,{destroy:void 0},a,o===void 0?null:o)}function Pc(t,n,a,o){var h=ei();o=o===void 0?null:o;var m=h.memoizedState.inst;An!==null&&o!==null&&Bf(o,An.memoizedState.deps)?h.memoizedState=pl(n,m,a,o):(xt.flags|=t,h.memoizedState=pl(1|n,m,a,o))}function Cg(t,n){Vc(8390656,8,t,n)}function $f(t,n){Pc(2048,8,t,n)}function EE(t){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=Oc(),xt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ig(t){var n=ei().memoizedState;return EE({ref:n,nextImpl:t}),function(){if((fn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Mg(t,n){return Pc(4,2,t,n)}function Dg(t,n){return Pc(4,4,t,n)}function Og(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,a){a=a!=null?a.concat([t]):null,Pc(4,4,Og.bind(null,n,t),a)}function Jf(){}function Ng(t,n){var a=ei();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Bf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Vg(t,n){var a=ei();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Bf(n,o[1]))return o[0];if(o=t(),No){He(!0);try{t()}finally{He(!1)}}return a.memoizedState=[o,n],o}function Zf(t,n,a){return a===void 0||(Za&1073741824)!==0&&(qt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Py(),xt.lanes|=t,Bs|=t,a)}function Pg(t,n,a,o){return ue(a,n)?a:fl.current!==null?(t=Zf(t,a,o),ue(t,n)||(ai=!0),t):(Za&42)===0||(Za&1073741824)!==0&&(qt&261930)===0?(ai=!0,t.memoizedState=a):(t=Py(),xt.lanes|=t,Bs|=t,n)}function kg(t,n,a,o,h){var m=K.p;K.p=m!==0&&8>m?m:8;var T=H.T,D={};H.T=D,nd(t,!1,n,a);try{var G=h(),oe=H.S;if(oe!==null&&oe(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ve=yE(G,o);pu(t,n,ve,Lr(t))}else pu(t,n,o,Lr(t))}catch(we){pu(t,n,{then:function(){},status:"rejected",reason:we},Lr())}finally{K.p=m,T!==null&&D.types!==null&&(T.types=D.types),H.T=T}}function TE(){}function ed(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Lg(t).queue;kg(t,h,n,ye,a===null?TE:function(){return Ug(t),a(o)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ug(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),pu(t,n.next.queue,{},Lr())}function td(){return Ci(xu)}function jg(){return ei().memoizedState}function zg(){return ei().memoizedState}function AE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Lr();t=Ps(a);var o=ks(n,t,a);o!==null&&(br(o,n,a),cu(o,n,a)),n={cache:Df()},t.payload=n;return}n=n.return}}function SE(t,n,a){var o=Lr();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kc(t)?Fg(n,a):(a=sa(t,n,a,o),a!==null&&(br(a,t,o),Hg(a,n,o)))}function Bg(t,n,a){var o=Lr();pu(t,n,a,o)}function pu(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(t))Fg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,D=m(T,a);if(h.hasEagerState=!0,h.eagerState=D,ue(D,T))return Aa(t,n,h,0),Mn===null&&Ta(),!1}catch{}finally{}if(a=sa(t,n,h,o),a!==null)return br(a,t,o),Hg(a,n,o),!0}return!1}function nd(t,n,a,o){if(o={lane:2,revertLane:Vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(n)throw Error(s(479))}else n=sa(t,a,o,2),n!==null&&br(n,t,2)}function kc(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function Fg(t,n){dl=Mc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Hg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ni(t,a)}}var gu={readContext:Ci,use:xc,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};gu.useEffectEvent=Kn;var qg={readContext:Ci,use:xc,useCallback:function(t,n){return nr().memoizedState=[t,n===void 0?null:n],t},useContext:Ci,useEffect:Cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Vc(4194308,4,Og.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Vc(4194308,4,t,n)},useInsertionEffect:function(t,n){Vc(4,2,t,n)},useMemo:function(t,n){var a=nr();n=n===void 0?null:n;var o=t();if(No){He(!0);try{t()}finally{He(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=nr();if(a!==void 0){var h=a(n);if(No){He(!0);try{a(n)}finally{He(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=SE.bind(null,xt,t),[o.memoizedState,t]},useRef:function(t){var n=nr();return t={current:t},n.memoizedState=t},useState:function(t){t=Kf(t);var n=t.queue,a=Bg.bind(null,xt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,n){var a=nr();return Zf(a,t,n)},useTransition:function(){var t=Kf(!1);return t=kg.bind(null,xt,t.queue,!0,!1),nr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=xt,h=nr();if(Wt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Mn===null)throw Error(s(349));(qt&127)!==0||hg(o,n,a)}h.memoizedState=a;var m={value:a,getSnapshot:n};return h.queue=m,Cg(dg.bind(null,o,m,t),[t]),o.flags|=2048,pl(9,{destroy:void 0},fg.bind(null,o,m,a,n),null),a},useId:function(){var t=nr(),n=Mn.identifierPrefix;if(Wt){var a=Ra,o=Sa;a=(o&~(1<<32-Je(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Dc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=vE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:td,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=nr();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=nd.bind(null,xt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Yf,useCacheRefresh:function(){return nr().memoizedState=AE.bind(null,xt)},useEffectEvent:function(t){var n=nr(),a={impl:t};return n.memoizedState=a,function(){if((fn&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ci,use:xc,useCallback:Ng,useContext:Ci,useEffect:$f,useImperativeHandle:xg,useInsertionEffect:Mg,useLayoutEffect:Dg,useMemo:Vg,useReducer:Nc,useRef:Rg,useState:function(){return Nc(es)},useDebugValue:Jf,useDeferredValue:function(t,n){var a=ei();return Pg(a,An.memoizedState,t,n)},useTransition:function(){var t=Nc(es)[0],n=ei().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:cg,useId:jg,useHostTransitionStatus:td,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var a=ei();return gg(a,An,t,n)},useMemoCache:Yf,useCacheRefresh:zg};id.useEffectEvent=Ig;var Gg={readContext:Ci,use:xc,useCallback:Ng,useContext:Ci,useEffect:$f,useImperativeHandle:xg,useInsertionEffect:Mg,useLayoutEffect:Dg,useMemo:Vg,useReducer:Qf,useRef:Rg,useState:function(){return Qf(es)},useDebugValue:Jf,useDeferredValue:function(t,n){var a=ei();return An===null?Zf(a,t,n):Pg(a,An.memoizedState,t,n)},useTransition:function(){var t=Qf(es)[0],n=ei().memoizedState;return[typeof t=="boolean"?t:mu(t),n]},useSyncExternalStore:cg,useId:jg,useHostTransitionStatus:td,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var a=ei();return An!==null?gg(a,An,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:zg};Gg.useEffectEvent=Ig;function rd(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:L({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Lr(),h=Ps(o);h.payload=n,a!=null&&(h.callback=a),n=ks(t,h,o),n!==null&&(br(n,t,o),cu(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Lr(),h=Ps(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ks(t,h,o),n!==null&&(br(n,t,o),cu(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Lr(),o=Ps(a);o.tag=2,n!=null&&(o.callback=n),n=ks(t,o,a),n!==null&&(br(n,t,a),cu(n,t,a))}};function Yg(t,n,a,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!se(a,o)||!se(h,m):!0}function Xg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&ad.enqueueReplaceState(n,n.state,null)}function Vo(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=L({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Qg(t){Si(t)}function Kg(t){console.error(t)}function Wg(t){Si(t)}function Lc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $g(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,n,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(t,n)},a}function Jg(t){return t=Ps(t),t.tag=3,t}function Zg(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){$g(n,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){$g(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})})}function RE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ol(n,a,h,!0),a=Nr.current,a!==null){switch(a.tag){case 31:case 13:return Kr===null?Kc():a.alternate===null&&Wn===0&&(Wn=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ac?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Od(t,o,h)),!1;case 22:return a.flags|=65536,o===Ac?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Od(t,o,h)),!1}throw Error(s(435,a.tag))}return Od(t,o,h),Kc(),!1}if(Wt)return n=Nr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Sf&&(t=Error(s(422),{cause:o}),au(Gr(t,a)))):(o!==Sf&&(n=Error(s(423),{cause:o}),au(Gr(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Gr(o,a),h=sd(t.stateNode,o,h),kf(t,h),Wn!==4&&(Wn=2)),!1;var m=Error(s(520),{cause:o});if(m=Gr(m,a),Au===null?Au=[m]:Au.push(m),Wn!==4&&(Wn=2),n===null)return!0;o=Gr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,o,t),kf(a,t),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fs===null||!Fs.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jg(h),Zg(h,t,a,o),kf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),ai=!1;function Ii(t,n,a,o){n.child=t===null?ig(n,null,a,o):xo(n,t.child,a,o)}function ey(t,n,a,o,h){a=a.render;var m=n.ref;if("ref"in o){var T={};for(var D in o)D!=="ref"&&(T[D]=o[D])}else T=o;return Io(n),o=Ff(t,n,a,T,m,h),D=Hf(),t!==null&&!ai?(qf(t,n,h),ts(t,n,h)):(Wt&&D&&Tf(n),n.flags|=1,Ii(t,n,o,h),n.child)}function ty(t,n,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!bf(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,ny(t,n,m,o,h)):(t=vc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!pd(t,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:se,a(T,o)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Ka(m,o),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,a,o,h){if(t!==null){var m=t.memoizedProps;if(se(m,o)&&t.ref===n.ref)if(ai=!1,n.pendingProps=o=m,pd(t,h))(t.flags&131072)!==0&&(ai=!0);else return n.lanes=t.lanes,ts(t,n,h)}return ld(t,n,a,o,h)}function iy(t,n,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return ry(t,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(n,m!==null?m.cachePool:null),m!==null?sg(n,m):Uf(),og(n);else return o=n.lanes=536870912,ry(t,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Ec(n,m.cachePool),sg(n,m),Us(),n.memoizedState=null):(t!==null&&Ec(n,null),Uf(),Us());return Ii(t,n,h,a),n.child}function yu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(t,n,a,o,h){var m=xf();return m=m===null?null:{parent:ii._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},t!==null&&Ec(n,null),Uf(),og(n),t!==null&&ol(t,n,o,!0),n.childLanes=h,null}function Uc(t,n){return n=zc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ay(t,n,a){return xo(n,t.child,null,a),t=Uc(n,n.pendingProps),t.flags|=2,Vr(n),n.memoizedState=null,t}function CE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Wt){if(o.mode==="hidden")return t=Uc(n,o),n.lanes=536870912,yu(null,t);if(zf(n),(t=kn)?(t=yv(t,Qr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Sa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},a=Fp(t),a.return=n,n.child=a,Ri=n,kn=null)):t=null,t===null)throw xs(n);return n.lanes=536870912,null}return Uc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(zf(n),h)if(n.flags&256)n.flags&=-257,n=ay(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(ai||ol(t,n,a,!1),h=(a&t.childLanes)!==0,ai||h){if(o=Mn,o!==null&&(T=ir(o,a),T!==0&&T!==m.retryLane))throw m.retryLane=T,tr(t,T),br(o,t,T),od;Kc(),n=ay(t,n,a)}else t=m.treeContext,kn=Wr(T.nextSibling),Ri=n,Wt=!0,Os=null,Qr=!1,t!==null&&Gp(n,t),n=Uc(n,o),n.flags|=4096;return n}return t=Ka(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function jc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ld(t,n,a,o,h){return Io(n),a=Ff(t,n,a,o,void 0,h),o=Hf(),t!==null&&!ai?(qf(t,n,h),ts(t,n,h)):(Wt&&o&&Tf(n),n.flags|=1,Ii(t,n,a,h),n.child)}function sy(t,n,a,o,h,m){return Io(n),n.updateQueue=null,a=ug(n,o,a,h),lg(t),o=Hf(),t!==null&&!ai?(qf(t,n,m),ts(t,n,m)):(Wt&&o&&Tf(n),n.flags|=1,Ii(t,n,a,m),n.child)}function oy(t,n,a,o,h){if(Io(n),n.stateNode===null){var m=xr,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ci(T)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ad,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Vf(n),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ci(T):xr,m.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(rd(n,a,T,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&ad.enqueueReplaceState(m,m.state,null),fu(n,o,m,h),hu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var D=n.memoizedProps,G=Vo(a,D);m.props=G;var oe=m.context,ve=a.contextType;T=xr,typeof ve=="object"&&ve!==null&&(T=Ci(ve));var we=a.getDerivedStateFromProps;ve=typeof we=="function"||typeof m.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(D||oe!==T)&&Xg(n,m,o,T),Vs=!1;var ce=n.memoizedState;m.state=ce,fu(n,o,m,h),hu(),oe=n.memoizedState,D||ce!==oe||Vs?(typeof we=="function"&&(rd(n,a,we,o),oe=n.memoizedState),(G=Vs||Yg(n,a,G,o,ce,oe,T))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=oe),m.props=o,m.state=oe,m.context=T,o=G):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Pf(t,n),T=n.memoizedProps,ve=Vo(a,T),m.props=ve,we=n.pendingProps,ce=m.context,oe=a.contextType,G=xr,typeof oe=="object"&&oe!==null&&(G=Ci(oe)),D=a.getDerivedStateFromProps,(oe=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==we||ce!==G)&&Xg(n,m,o,G),Vs=!1,ce=n.memoizedState,m.state=ce,fu(n,o,m,h),hu();var pe=n.memoizedState;T!==we||ce!==pe||Vs||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof D=="function"&&(rd(n,a,D,o),pe=n.memoizedState),(ve=Vs||Yg(n,a,ve,o,ce,pe,G)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(oe||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,pe,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,pe,G)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=pe),m.props=o,m.state=pe,m.context=G,o=ve):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,jc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=xo(n,t.child,null,h),n.child=xo(n,null,a,h)):Ii(t,n,a,h),n.memoizedState=m.state,t=n.child):t=ts(t,n,h),t}function ly(t,n,a,o){return Ro(),n.flags|=256,Ii(t,n,a,o),n.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:$p()}}function hd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=kr),t}function uy(t,n,a){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Zn.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(Wt){if(h?Ls(n):Us(),(t=kn)?(t=yv(t,Qr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Sa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},a=Fp(t),a.return=n,n.child=a,Ri=n,kn=null)):t=null,t===null)throw xs(n);return Xd(t)?n.lanes=32:n.lanes=536870912,null}var D=o.children;return o=o.fallback,h?(Us(),h=n.mode,D=zc({mode:"hidden",children:D},h),o=So(o,h,a,null),D.return=n,o.return=n,D.sibling=o,n.child=D,o=n.child,o.memoizedState=cd(a),o.childLanes=hd(t,T,a),n.memoizedState=ud,yu(null,o)):(Ls(n),fd(n,D))}var G=t.memoizedState;if(G!==null&&(D=G.dehydrated,D!==null)){if(m)n.flags&256?(Ls(n),n.flags&=-257,n=dd(t,n,a)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),D=o.fallback,h=n.mode,o=zc({mode:"visible",children:o.children},h),D=So(D,h,a,null),D.flags|=2,o.return=n,D.return=n,o.sibling=D,n.child=o,xo(n,t.child,null,a),o=n.child,o.memoizedState=cd(a),o.childLanes=hd(t,T,a),n.memoizedState=ud,n=yu(null,o));else if(Ls(n),Xd(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var oe=T.dgst;T=oe,o=Error(s(419)),o.stack="",o.digest=T,au({value:o,source:null,stack:null}),n=dd(t,n,a)}else if(ai||ol(t,n,a,!1),T=(a&t.childLanes)!==0,ai||T){if(T=Mn,T!==null&&(o=ir(T,a),o!==0&&o!==G.retryLane))throw G.retryLane=o,tr(t,o),br(T,t,o),od;Yd(D)||Kc(),n=dd(t,n,a)}else Yd(D)?(n.flags|=192,n.child=t.child,n=null):(t=G.treeContext,kn=Wr(D.nextSibling),Ri=n,Wt=!0,Os=null,Qr=!1,t!==null&&Gp(n,t),n=fd(n,o.children),n.flags|=4096);return n}return h?(Us(),D=o.fallback,h=n.mode,G=t.child,oe=G.sibling,o=Ka(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,oe!==null?D=Ka(oe,D):(D=So(D,h,a,null),D.flags|=2),D.return=n,o.return=n,o.sibling=D,n.child=o,yu(null,o),o=n.child,D=t.child.memoizedState,D===null?D=cd(a):(h=D.cachePool,h!==null?(G=ii._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=$p(),D={baseLanes:D.baseLanes|a,cachePool:h}),o.memoizedState=D,o.childLanes=hd(t,T,a),n.memoizedState=ud,yu(t.child,o)):(Ls(n),a=t.child,t=a.sibling,a=Ka(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=a,n.memoizedState=null,a)}function fd(t,n){return n=zc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zc(t,n){return t=Li(22,t,null,n),t.lanes=0,t}function dd(t,n,a){return xo(n,t.child,null,a),t=fd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),If(t.return,n,a)}function md(t,n,a,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=a,T.tailMode=h,T.treeForkCount=m)}function hy(t,n,a){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=Zn.current,D=(T&2)!==0;if(D?(T=T&1|2,n.flags|=128):T&=1,Ee(Zn,T),Ii(t,n,o,a),o=Wt?ru:0,!D&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,n);else if(t.tag===19)cy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),md(n,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(n,!0,a,null,m,o);break;case"together":md(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ts(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Bs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ol(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ka(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ka(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function IE(t,n,a){switch(n.tag){case 3:lt(n,n.stateNode.containerInfo),Ns(n,ii,t.memoizedState.cache),Ro();break;case 27:case 5:Et(n);break;case 4:lt(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(a&n.child.childLanes)!==0?uy(t,n,a):(Ls(n),t=ts(t,n,a),t!==null?t.sibling:null);Ls(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ol(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return hy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ee(Zn,Zn.current),o)break;return null;case 22:return n.lanes=0,iy(t,n,a,n.pendingProps);case 24:Ns(n,ii,t.memoizedState.cache)}return ts(t,n,a)}function fy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ai=!0;else{if(!pd(t,a)&&(n.flags&128)===0)return ai=!1,IE(t,n,a);ai=(t.flags&131072)!==0}else ai=!1,Wt&&(n.flags&1048576)!==0&&qp(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Do(n.elementType),n.type=t,typeof t=="function")bf(t)?(o=Vo(t,o),n.tag=1,n=oy(null,n,t,o,a)):(n.tag=0,n=ld(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Pe){n.tag=11,n=ey(null,n,t,o,a);break e}else if(h===F){n.tag=14,n=ty(null,n,t,o,a);break e}}throw n=W(t)||t,Error(s(306,n,""))}}return n;case 0:return ld(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vo(o,n.pendingProps),oy(t,n,o,h,a);case 3:e:{if(lt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Pf(t,n),fu(n,o,null,a);var T=n.memoizedState;if(o=T.cache,Ns(n,ii,o),o!==m.cache&&Mf(n,[ii],a,!0),hu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=ly(t,n,o,a);break e}else if(o!==h){h=Gr(Error(s(424)),n),au(h),n=ly(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(kn=Wr(t.firstChild),Ri=n,Wt=!0,Os=null,Qr=!0,a=ig(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ro(),o===h){n=ts(t,n,a);break e}Ii(t,n,o,a)}n=n.child}return n;case 26:return jc(t,n),t===null?(a=Tv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Wt||(a=n.type,t=n.pendingProps,o=nh(Qe.current).createElement(a),o[me]=n,o[be]=t,Mi(o,a,t),mn(o),n.stateNode=o):n.memoizedState=Tv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Et(n),t===null&&Wt&&(o=n.stateNode=bv(n.type,n.pendingProps,Qe.current),Ri=n,Qr=!0,h=kn,Ys(n.type)?(Qd=h,kn=Wr(o.firstChild)):kn=h),Ii(t,n,n.pendingProps.children,a),jc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Wt&&((h=o=kn)&&(o=rT(o,n.type,n.pendingProps,Qr),o!==null?(n.stateNode=o,Ri=n,kn=Wr(o.firstChild),Qr=!1,h=!0):h=!1),h||xs(n)),Et(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Hd(h,m)?o=null:T!==null&&Hd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=Ff(t,n,_E,null,null,a),xu._currentValue=h),jc(t,n),Ii(t,n,o,a),n.child;case 6:return t===null&&Wt&&((t=a=kn)&&(a=aT(a,n.pendingProps,Qr),a!==null?(n.stateNode=a,Ri=n,kn=null,t=!0):t=!1),t||xs(n)),null;case 13:return uy(t,n,a);case 4:return lt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=xo(n,null,o,a):Ii(t,n,o,a),n.child;case 11:return ey(t,n,n.type,n.pendingProps,a);case 7:return Ii(t,n,n.pendingProps,a),n.child;case 8:return Ii(t,n,n.pendingProps.children,a),n.child;case 12:return Ii(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ns(n,n.type,o.value),Ii(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Io(n),h=Ci(h),o=o(h),n.flags|=1,Ii(t,n,o,a),n.child;case 14:return ty(t,n,n.type,n.pendingProps,a);case 15:return ny(t,n,n.type,n.pendingProps,a);case 19:return hy(t,n,a);case 31:return CE(t,n,a);case 22:return iy(t,n,a,n.pendingProps);case 24:return Io(n),o=Ci(ii),t===null?(h=xf(),h===null&&(h=Mn,m=Df(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),n.memoizedState={parent:o,cache:h},Vf(n),Ns(n,ii,h)):((t.lanes&a)!==0&&(Pf(t,n),fu(n,null,null,a),hu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,ii,o)):(o=m.cache,Ns(n,ii,o),o!==h.cache&&Mf(n,[ii],a,!0))),Ii(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ns(t){t.flags|=4}function gd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jy())t.flags|=8192;else throw Oo=Ac,Nf}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iv(n))if(jy())t.flags|=8192;else throw Oo=Ac,Nf}function Bc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ut():536870912,t.lanes|=n,_l|=n)}function vu(t,n){if(!Wt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ln(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function ME(t,n,a){var o=n.pendingProps;switch(Af(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(n),null;case 1:return Ln(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ja(ii),yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rf())),Ln(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(ns(n),m!==null?(Ln(n),dy(n,m)):(Ln(n),gd(n,h,null,o,a))):m?m!==t.memoizedState?(ns(n),Ln(n),dy(n,m)):(Ln(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ns(n),Ln(n),gd(n,h,t,o,a)),null;case 27:if(dn(n),a=Qe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ln(n),null}t=ge.current,sl(n)?Yp(n):(t=bv(h,o,a),n.stateNode=t,ns(n))}return Ln(n),null;case 5:if(dn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ns(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ln(n),null}if(m=ge.current,sl(n))Yp(n);else{var T=nh(Qe.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[me]=n,m[be]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Mi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ns(n)}}return Ln(n),gd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ns(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Qe.current,sl(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Ri,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[me]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||xs(n,!0)}else t=nh(t).createTextNode(o),t[me]=n,n.stateNode=t}return Ln(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=sl(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[me]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ln(n),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Vr(n),n):(Vr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ln(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[me]=n}else Ro(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ln(n),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Vr(n),n):(Vr(n),null)}return Vr(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Bc(n,n.updateQueue),Ln(n),null);case 4:return yt(),t===null&&Ud(n.stateNode.containerInfo),Ln(n),null;case 10:return Ja(n.type),Ln(n),null;case 19:if(ie(Zn),o=n.memoizedState,o===null)return Ln(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)vu(o,!1);else{if(Wn!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Ic(t),m!==null){for(n.flags|=128,vu(o,!1),t=m.updateQueue,n.updateQueue=t,Bc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bp(a,t),a=a.sibling;return Ee(Zn,Zn.current&1|2),Wt&&Wa(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&$t()>Yc&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ic(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Bc(n,t),vu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Wt)return Ln(n),null}else 2*$t()-o.renderingStartTime>Yc&&a!==536870912&&(n.flags|=128,h=!0,vu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$t(),t.sibling=null,a=Zn.current,Ee(Zn,h?a&1|2:a&1),Wt&&Wa(n,o.treeForkCount),t):(Ln(n),null);case 22:case 23:return Vr(n),jf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ln(n),n.subtreeFlags&6&&(n.flags|=8192)):Ln(n),a=n.updateQueue,a!==null&&Bc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&ie(Mo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ja(ii),Ln(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(t,n){switch(Af(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ja(ii),yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 31:if(n.memoizedState!==null){if(Vr(n),n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Vr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ro()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Zn),null;case 4:return yt(),null;case 10:return Ja(n.type),null;case 22:case 23:return Vr(n),jf(),t!==null&&ie(Mo),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ja(ii),null;case 25:return null;default:return null}}function my(t,n){switch(Af(n),n.tag){case 3:Ja(ii),yt();break;case 26:case 27:case 5:dn(n);break;case 4:yt();break;case 31:n.memoizedState!==null&&Vr(n);break;case 13:Vr(n);break;case 19:ie(Zn);break;case 10:Ja(n.type);break;case 22:case 23:Vr(n),jf(),t!==null&&ie(Mo);break;case 24:Ja(ii)}}function _u(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(D){bn(n,n.return,D)}}function js(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,h=n;var G=a,oe=D;try{oe()}catch(ve){bn(h,G,ve)}}}o=o.next}while(o!==m)}}catch(ve){bn(n,n.return,ve)}}function py(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ag(n,a)}catch(o){bn(t,t.return,o)}}}function gy(t,n,a){a.props=Vo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){bn(t,n,o)}}function bu(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){bn(t,n,h)}}function Ca(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){bn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){bn(t,n,h)}else a.current=null}function yy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){bn(t,t.return,h)}}function yd(t,n,a){try{var o=t.stateNode;JE(o,t.type,a,n),o[be]=n}catch(h){bn(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=or));else if(o!==4&&(o===27&&Ys(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(_d(t,n,a),t=t.sibling;t!==null;)_d(t,n,a),t=t.sibling}function Fc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fc(t,n,a),t=t.sibling;t!==null;)Fc(t,n,a),t=t.sibling}function _y(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Mi(n,o,a),n[me]=t,n[be]=a}catch(m){bn(t,t.return,m)}}var is=!1,si=!1,bd=!1,by=typeof WeakSet=="function"?WeakSet:Set,_i=null;function OE(t,n){if(t=t.containerInfo,Bd=uh,t=J(t),je(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,D=-1,G=-1,oe=0,ve=0,we=t,ce=null;t:for(;;){for(var pe;we!==a||h!==0&&we.nodeType!==3||(D=T+h),we!==m||o!==0&&we.nodeType!==3||(G=T+o),we.nodeType===3&&(T+=we.nodeValue.length),(pe=we.firstChild)!==null;)ce=we,we=pe;for(;;){if(we===t)break t;if(ce===a&&++oe===h&&(D=T),ce===m&&++ve===o&&(G=T),(pe=we.nextSibling)!==null)break;we=ce,ce=we.parentNode}we=pe}a=D===-1||G===-1?null:{start:D,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},uh=!1,_i=n;_i!==null;)if(n=_i,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,_i=t;else for(;_i!==null;){switch(n=_i,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=n,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var rt=Vo(a.type,h);t=o.getSnapshotBeforeUpdate(rt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(vt){bn(a,a.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,_i=t;break}_i=n.return}}function wy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:as(t,a),o&4&&_u(5,a);break;case 1:if(as(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){bn(a,a.return,T)}else{var h=Vo(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){bn(a,a.return,T)}}o&64&&py(a),o&512&&bu(a,a.return);break;case 3:if(as(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ag(t,n)}catch(T){bn(a,a.return,T)}}break;case 27:n===null&&o&4&&_y(a);case 26:case 5:as(t,a),n===null&&o&4&&yy(a),o&512&&bu(a,a.return);break;case 12:as(t,a);break;case 31:as(t,a),o&4&&Ay(t,a);break;case 13:as(t,a),o&4&&Sy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zE.bind(null,a),sT(t,a))));break;case 22:if(o=a.memoizedState!==null||is,!o){n=n!==null&&n.memoizedState!==null||si,h=is;var m=si;is=o,(si=n)&&!m?ss(t,a,(a.subtreeFlags&8772)!==0):as(t,a),is=h,si=m}break;case 30:break;default:as(t,a)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_t(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zn=null,gr=!1;function rs(t,n,a){for(a=a.child;a!==null;)Ty(t,n,a),a=a.sibling}function Ty(t,n,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount($e,a)}catch{}switch(a.tag){case 26:si||Ca(a,n),rs(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:si||Ca(a,n);var o=zn,h=gr;Ys(a.type)&&(zn=a.stateNode,gr=!1),rs(t,n,a),Mu(a.stateNode),zn=o,gr=h;break;case 5:si||Ca(a,n);case 6:if(o=zn,h=gr,zn=null,rs(t,n,a),zn=o,gr=h,zn!==null)if(gr)try{(zn.nodeType===9?zn.body:zn.nodeName==="HTML"?zn.ownerDocument.body:zn).removeChild(a.stateNode)}catch(m){bn(a,n,m)}else try{zn.removeChild(a.stateNode)}catch(m){bn(a,n,m)}break;case 18:zn!==null&&(gr?(t=zn,pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):pv(zn,a.stateNode));break;case 4:o=zn,h=gr,zn=a.stateNode.containerInfo,gr=!0,rs(t,n,a),zn=o,gr=h;break;case 0:case 11:case 14:case 15:js(2,a,n),si||js(4,a,n),rs(t,n,a);break;case 1:si||(Ca(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&gy(a,n,o)),rs(t,n,a);break;case 21:rs(t,n,a);break;case 22:si=(o=si)||a.memoizedState!==null,rs(t,n,a),si=o;break;default:rs(t,n,a)}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(a){bn(n,n.return,a)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){bn(n,n.return,a)}}function xE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(s(435,t.tag))}}function Hc(t,n){var a=xE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=BE.bind(null,t,o);o.then(h,h)}})}function yr(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,T=n,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Ys(D.type)){zn=D.stateNode,gr=!1;break e}break;case 5:zn=D.stateNode,gr=!1;break e;case 3:case 4:zn=D.stateNode.containerInfo,gr=!0;break e}D=D.return}if(zn===null)throw Error(s(160));Ty(m,T,h),zn=null,gr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var oa=null;function Ry(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yr(n,t),vr(t),o&4&&(js(3,t,t.return),_u(3,t),js(5,t,t.return));break;case 1:yr(n,t),vr(t),o&512&&(si||a===null||Ca(a,a.return)),o&64&&is&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=oa;if(yr(n,t),vr(t),o&512&&(si||a===null||Ca(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[qe]||m[me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Mi(m,o,a),m[me]=t,mn(m),o=m;break e;case"link":var T=Rv("link","href",h).get(o+(a.href||""));if(T){for(var D=0;D<T.length;D++)if(m=T[D],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(D,1);break t}}m=h.createElement(o),Mi(m,o,a),h.head.appendChild(m);break;case"meta":if(T=Rv("meta","content",h).get(o+(a.content||""))){for(D=0;D<T.length;D++)if(m=T[D],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(D,1);break t}}m=h.createElement(o),Mi(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[me]=t,mn(m),o=m}t.stateNode=o}else Cv(h,t.type,t.stateNode);else t.stateNode=Sv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Cv(h,t.type,t.stateNode):Sv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:yr(n,t),vr(t),o&512&&(si||a===null||Ca(a,a.return)),a!==null&&o&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yr(n,t),vr(t),o&512&&(si||a===null||Ca(a,a.return)),t.flags&32){h=t.stateNode;try{ni(h,"")}catch(rt){bn(t,t.return,rt)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(bd=!0);break;case 6:if(yr(n,t),vr(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(rt){bn(t,t.return,rt)}}break;case 3:if(ah=null,h=oa,oa=ih(n.containerInfo),yr(n,t),oa=h,vr(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(rt){bn(t,t.return,rt)}bd&&(bd=!1,Cy(t));break;case 4:o=oa,oa=ih(t.stateNode.containerInfo),yr(n,t),vr(t),oa=o;break;case 12:yr(n,t),vr(t);break;case 31:yr(n,t),vr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 13:yr(n,t),vr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gc=$t()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 22:h=t.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,oe=is,ve=si;if(is=oe||h,si=ve||G,yr(n,t),si=ve,is=oe,vr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||G||is||si||Po(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){G=a=n;try{if(m=G.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=G.stateNode;var we=G.memoizedProps.style,ce=we!=null&&we.hasOwnProperty("display")?we.display:null;D.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(rt){bn(G,G.return,rt)}}}else if(n.tag===6){if(a===null){G=n;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(rt){bn(G,G.return,rt)}}}else if(n.tag===18){if(a===null){G=n;try{var pe=G.stateNode;h?gv(pe,!0):gv(G.stateNode,!1)}catch(rt){bn(G,G.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Hc(t,a))));break;case 19:yr(n,t),vr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Hc(t,o)));break;case 30:break;case 21:break;default:yr(n,t),vr(t)}}function vr(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(vy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=vd(t);Fc(t,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(ni(T,""),a.flags&=-33);var D=vd(t);Fc(t,D,T);break;case 3:case 4:var G=a.stateNode.containerInfo,oe=vd(t);_d(t,oe,G);break;default:throw Error(s(161))}}catch(ve){bn(t,t.return,ve)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wy(t,n.alternate,n),n=n.sibling}function Po(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Po(n);break;case 1:Ca(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gy(n,n.return,a),Po(n);break;case 27:Mu(n.stateNode);case 26:case 5:Ca(n,n.return),Po(n);break;case 22:n.memoizedState===null&&Po(n);break;case 30:Po(n);break;default:Po(n)}t=t.sibling}}function ss(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:ss(h,m,a),_u(4,m);break;case 1:if(ss(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(oe){bn(o,o.return,oe)}if(o=m,h=o.updateQueue,h!==null){var D=o.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)rg(G[h],D)}catch(oe){bn(o,o.return,oe)}}a&&T&64&&py(m),bu(m,m.return);break;case 27:_y(m);case 26:case 5:ss(h,m,a),a&&o===null&&T&4&&yy(m),bu(m,m.return);break;case 12:ss(h,m,a);break;case 31:ss(h,m,a),a&&T&4&&Ay(h,m);break;case 13:ss(h,m,a),a&&T&4&&Sy(h,m);break;case 22:m.memoizedState===null&&ss(h,m,a),bu(m,m.return);break;case 30:break;default:ss(h,m,a)}n=n.sibling}}function wd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&su(a))}function Ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t))}function la(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(t,n,a,o),n=n.sibling}function Iy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:la(t,n,a,o),h&2048&&_u(9,n);break;case 1:la(t,n,a,o);break;case 3:la(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&su(t)));break;case 12:if(h&2048){la(t,n,a,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,D=m.onPostCommit;typeof D=="function"&&D(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){bn(n,n.return,G)}}else la(t,n,a,o);break;case 31:la(t,n,a,o);break;case 13:la(t,n,a,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?la(t,n,a,o):wu(t,n):m._visibility&2?la(t,n,a,o):(m._visibility|=2,gl(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&wd(T,n);break;case 24:la(t,n,a,o),h&2048&&Ed(n.alternate,n);break;default:la(t,n,a,o)}}function gl(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,D=a,G=o,oe=T.flags;switch(T.tag){case 0:case 11:case 15:gl(m,T,D,G,h),_u(8,T);break;case 23:break;case 22:var ve=T.stateNode;T.memoizedState!==null?ve._visibility&2?gl(m,T,D,G,h):wu(m,T):(ve._visibility|=2,gl(m,T,D,G,h)),h&&oe&2048&&wd(T.alternate,T);break;case 24:gl(m,T,D,G,h),h&&oe&2048&&Ed(T.alternate,T);break;default:gl(m,T,D,G,h)}n=n.sibling}}function wu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:wu(a,o),h&2048&&wd(o.alternate,o);break;case 24:wu(a,o),h&2048&&Ed(o.alternate,o);break;default:wu(a,o)}n=n.sibling}}var Eu=8192;function yl(t,n,a){if(t.subtreeFlags&Eu)for(t=t.child;t!==null;)My(t,n,a),t=t.sibling}function My(t,n,a){switch(t.tag){case 26:yl(t,n,a),t.flags&Eu&&t.memoizedState!==null&&vT(a,oa,t.memoizedState,t.memoizedProps);break;case 5:yl(t,n,a);break;case 3:case 4:var o=oa;oa=ih(t.stateNode.containerInfo),yl(t,n,a),oa=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Eu,Eu=16777216,yl(t,n,a),Eu=o):yl(t,n,a));break;default:yl(t,n,a)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];_i=o,xy(o,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&js(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,qc(t)):Tu(t);break;default:Tu(t)}}function qc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];_i=o,xy(o,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),qc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,qc(n));break;default:qc(n)}t=t.sibling}}function xy(t,n){for(;_i!==null;){var a=_i;switch(a.tag){case 0:case 11:case 15:js(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:su(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,_i=o;else e:for(a=t;_i!==null;){o=_i;var h=o.sibling,m=o.return;if(Ey(o),o===a){_i=null;break e}if(h!==null){h.return=m,_i=h;break e}_i=m}}}var NE={getCacheForType:function(t){var n=Ci(ii),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ci(ii).controller.signal}},VE=typeof WeakMap=="function"?WeakMap:Map,fn=0,Mn=null,Bt=null,qt=0,_n=0,Pr=null,zs=!1,vl=!1,Td=!1,os=0,Wn=0,Bs=0,ko=0,Ad=0,kr=0,_l=0,Au=null,_r=null,Sd=!1,Gc=0,Ny=0,Yc=1/0,Xc=null,Fs=null,mi=0,Hs=null,bl=null,ls=0,Rd=0,Cd=null,Vy=null,Su=0,Id=null;function Lr(){return(fn&2)!==0&&qt!==0?qt&-qt:H.T!==null?Vd():ma()}function Py(){if(kr===0)if((qt&536870912)===0||Wt){var t=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),kr=t}else kr=536870912;return t=Nr.current,t!==null&&(t.flags|=32),kr}function br(t,n,a){(t===Mn&&(_n===2||_n===9)||t.cancelPendingCommit!==null)&&(wl(t,0),qs(t,qt,kr,!1)),Rt(t,a),((fn&2)===0||t!==Mn)&&(t===Mn&&((fn&2)===0&&(ko|=a),Wn===4&&qs(t,qt,kr,!1)),Ia(t))}function ky(t,n,a){if((fn&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Xn(t,n),h=o?LE(t,n):Dd(t,n,!0),m=o;do{if(h===0){vl&&!o&&qs(t,n,0,!1);break}else{if(a=t.current.alternate,m&&!PE(a)){h=Dd(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var D=t;h=Au;var G=D.current.memoizedState.isDehydrated;if(G&&(wl(D,T).flags|=256),T=Dd(D,T,!1),T!==2){if(Td&&!G){D.errorRecoveryDisabledLanes|=m,ko|=m,h=4;break e}m=_r,_r=h,m!==null&&(_r===null?_r=m:_r.push.apply(_r,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){wl(t,0),qs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,kr,!zs);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Gc+300-$t(),10<h)){if(qs(o,n,kr,!zs),Nn(o,0,!0)!==0)break e;ls=n,o.timeoutHandle=dv(Ly.bind(null,o,a,_r,Xc,Sd,n,kr,ko,_l,zs,m,"Throttled",-0,0),h);break e}Ly(o,a,_r,Xc,Sd,n,kr,ko,_l,zs,m,null,-0,0)}}break}while(!0);Ia(t)}function Ly(t,n,a,o,h,m,T,D,G,oe,ve,we,ce,pe){if(t.timeoutHandle=-1,we=n.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},My(n,m,we);var rt=(m&62914560)===m?Gc-$t():(m&4194048)===m?Ny-$t():0;if(rt=_T(we,rt),rt!==null){ls=m,t.cancelPendingCommit=rt(Gy.bind(null,t,n,m,a,o,h,T,D,G,ve,we,null,ce,pe)),qs(t,m,T,!oe);return}}Gy(t,n,m,a,o,h,T,D,G)}function PE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(t,n,a,o){n&=~Ad,n&=~ko,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-Je(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Yi(t,a,n)}function Qc(){return(fn&6)===0?(Ru(0),!1):!0}function Md(){if(Bt!==null){if(_n===0)var t=Bt.return;else t=Bt,$a=Co=null,Gf(t),hl=null,lu=0,t=Bt;for(;t!==null;)my(t.alternate,t),t=t.return;Bt=null}}function wl(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ls=0,Md(),Mn=t,Bt=a=Ka(t.current,null),qt=n,_n=0,Pr=null,zs=!1,vl=Xn(t,n),Td=!1,_l=kr=Ad=ko=Bs=Wn=0,_r=Au=null,Sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Je(o),m=1<<h;n|=t[h],o&=~m}return os=n,Ta(),a}function Uy(t,n){xt=null,H.H=gu,n===cl||n===Tc?(n=eg(),_n=3):n===Nf?(n=eg(),_n=4):_n=n===od?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pr=n,Bt===null&&(Wn=1,Lc(t,Gr(n,t.current)))}function jy(){var t=Nr.current;return t===null?!0:(qt&4194048)===qt?Kr===null:(qt&62914560)===qt||(qt&536870912)!==0?t===Kr:!1}function zy(){var t=H.H;return H.H=gu,t===null?gu:t}function By(){var t=H.A;return H.A=NE,t}function Kc(){Wn=4,zs||(qt&4194048)!==qt&&Nr.current!==null||(vl=!0),(Bs&134217727)===0&&(ko&134217727)===0||Mn===null||qs(Mn,qt,kr,!1)}function Dd(t,n,a){var o=fn;fn|=2;var h=zy(),m=By();(Mn!==t||qt!==n)&&(Xc=null,wl(t,n)),n=!1;var T=Wn;e:do try{if(_n!==0&&Bt!==null){var D=Bt,G=Pr;switch(_n){case 8:Md(),T=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(n=!0);var oe=_n;if(_n=0,Pr=null,El(t,D,G,oe),a&&vl){T=0;break e}break;default:oe=_n,_n=0,Pr=null,El(t,D,G,oe)}}kE(),T=Wn;break}catch(ve){Uy(t,ve)}while(!0);return n&&t.shellSuspendCounter++,$a=Co=null,fn=o,H.H=h,H.A=m,Bt===null&&(Mn=null,qt=0,Ta()),T}function kE(){for(;Bt!==null;)Fy(Bt)}function LE(t,n){var a=fn;fn|=2;var o=zy(),h=By();Mn!==t||qt!==n?(Xc=null,Yc=$t()+500,wl(t,n)):vl=Xn(t,n);e:do try{if(_n!==0&&Bt!==null){n=Bt;var m=Pr;t:switch(_n){case 1:_n=0,Pr=null,El(t,n,m,1);break;case 2:case 9:if(Jp(m)){_n=0,Pr=null,Hy(n);break}n=function(){_n!==2&&_n!==9||Mn!==t||(_n=7),Ia(t)},m.then(n,n);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:Jp(m)?(_n=0,Pr=null,Hy(n)):(_n=0,Pr=null,El(t,n,m,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var D=Bt;if(T?Iv(T):D.stateNode.complete){_n=0,Pr=null;var G=D.sibling;if(G!==null)Bt=G;else{var oe=D.return;oe!==null?(Bt=oe,Wc(oe)):Bt=null}break t}}_n=0,Pr=null,El(t,n,m,5);break;case 6:_n=0,Pr=null,El(t,n,m,6);break;case 8:Md(),Wn=6;break e;default:throw Error(s(462))}}UE();break}catch(ve){Uy(t,ve)}while(!0);return $a=Co=null,H.H=o,H.A=h,fn=a,Bt!==null?0:(Mn=null,qt=0,Ta(),Wn)}function UE(){for(;Bt!==null&&!Hi();)Fy(Bt)}function Fy(t){var n=fy(t.alternate,t,os);t.memoizedProps=t.pendingProps,n===null?Wc(t):Bt=n}function Hy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=sy(a,n,n.pendingProps,n.type,void 0,qt);break;case 11:n=sy(a,n,n.pendingProps,n.type.render,n.ref,qt);break;case 5:Gf(n);default:my(a,n),n=Bt=Bp(n,os),n=fy(a,n,os)}t.memoizedProps=t.pendingProps,n===null?Wc(t):Bt=n}function El(t,n,a,o){$a=Co=null,Gf(n),hl=null,lu=0;var h=n.return;try{if(RE(t,h,n,a,qt)){Wn=1,Lc(t,Gr(a,t.current)),Bt=null;return}}catch(m){if(h!==null)throw Bt=h,m;Wn=1,Lc(t,Gr(a,t.current)),Bt=null;return}n.flags&32768?(Wt||o===1?t=!0:vl||(qt&536870912)!==0?t=!1:(zs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nr.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,t)):Wc(n)}function Wc(t){var n=t;do{if((n.flags&32768)!==0){qy(n,zs);return}t=n.return;var a=ME(n.alternate,n,os);if(a!==null){Bt=a;return}if(n=n.sibling,n!==null){Bt=n;return}Bt=n=t}while(n!==null);Wn===0&&(Wn=5)}function qy(t,n){do{var a=DE(t.alternate,t);if(a!==null){a.flags&=32767,Bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Bt=t;return}Bt=t=a}while(t!==null);Wn=6,Bt=null}function Gy(t,n,a,o,h,m,T,D,G){t.cancelPendingCommit=null;do $c();while(mi!==0);if((fn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=il,Gi(t,a,m,T,D,G),t===Mn&&(Bt=Mn=null,qt=0),bl=n,Hs=t,ls=a,Rd=m,Cd=h,Vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FE(v,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=K.p,K.p=2,T=fn,fn|=4;try{OE(t,n,a)}finally{fn=T,K.p=h,H.T=o}}mi=1,Yy(),Xy(),Qy()}}function Yy(){if(mi===1){mi=0;var t=Hs,n=bl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=K.p;K.p=2;var h=fn;fn|=4;try{Ry(n,t);var m=Fd,T=J(t.containerInfo),D=m.focusedElem,G=m.selectionRange;if(T!==D&&D&&D.ownerDocument&&it(D.ownerDocument.documentElement,D)){if(G!==null&&je(D)){var oe=G.start,ve=G.end;if(ve===void 0&&(ve=oe),"selectionStart"in D)D.selectionStart=oe,D.selectionEnd=Math.min(ve,D.value.length);else{var we=D.ownerDocument||document,ce=we&&we.defaultView||window;if(ce.getSelection){var pe=ce.getSelection(),rt=D.textContent.length,vt=Math.min(G.start,rt),Rn=G.end===void 0?vt:Math.min(G.end,rt);!pe.extend&&vt>Rn&&(T=Rn,Rn=vt,vt=T);var Z=Ke(D,vt),Y=Ke(D,Rn);if(Z&&Y&&(pe.rangeCount!==1||pe.anchorNode!==Z.node||pe.anchorOffset!==Z.offset||pe.focusNode!==Y.node||pe.focusOffset!==Y.offset)){var ae=we.createRange();ae.setStart(Z.node,Z.offset),pe.removeAllRanges(),vt>Rn?(pe.addRange(ae),pe.extend(Y.node,Y.offset)):(ae.setEnd(Y.node,Y.offset),pe.addRange(ae))}}}}for(we=[],pe=D;pe=pe.parentNode;)pe.nodeType===1&&we.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<we.length;D++){var _e=we[D];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}uh=!!Bd,Fd=Bd=null}finally{fn=h,K.p=o,H.T=a}}t.current=n,mi=2}}function Xy(){if(mi===2){mi=0;var t=Hs,n=bl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=K.p;K.p=2;var h=fn;fn|=4;try{wy(t,n.alternate,n)}finally{fn=h,K.p=o,H.T=a}}mi=3}}function Qy(){if(mi===4||mi===3){mi=0,Gn();var t=Hs,n=bl,a=ls,o=Vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mi=5:(mi=0,bl=Hs=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ye(a),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot($e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=K.p,K.p=2,H.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var D=o[T];m(D.value,{componentStack:D.stack})}}finally{H.T=n,K.p=h}}(ls&3)!==0&&$c(),Ia(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?Su++:(Su=0,Id=t):Su=0,Ru(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,su(n)))}function $c(){return Yy(),Xy(),Qy(),Wy()}function Wy(){if(mi!==5)return!1;var t=Hs,n=Rd;Rd=0;var a=Ye(ls),o=H.T,h=K.p;try{K.p=32>a?32:a,H.T=null,a=Cd,Cd=null;var m=Hs,T=ls;if(mi=0,bl=Hs=null,ls=0,(fn&6)!==0)throw Error(s(331));var D=fn;if(fn|=4,Oy(m.current),Iy(m,m.current,T,a),fn=D,Ru(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot($e,m)}catch{}return!0}finally{K.p=h,H.T=o,Ky(t,n)}}function $y(t,n,a){n=Gr(a,n),n=sd(t.stateNode,n,2),t=ks(t,n,2),t!==null&&(Rt(t,2),Ia(t))}function bn(t,n,a){if(t.tag===3)$y(t,t,a);else for(;n!==null;){if(n.tag===3){$y(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Gr(a,t),a=Jg(2),o=ks(n,a,2),o!==null&&(Zg(a,o,n,t),Rt(o,2),Ia(o));break}}n=n.return}}function Od(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new VE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Td=!0,h.add(a),t=jE.bind(null,t,n,a),n.then(t,t))}function jE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Mn===t&&(qt&a)===a&&(Wn===4||Wn===3&&(qt&62914560)===qt&&300>$t()-Gc?(fn&2)===0&&wl(t,0):Ad|=a,_l===qt&&(_l=0)),Ia(t)}function Jy(t,n){n===0&&(n=ut()),t=tr(t,n),t!==null&&(Rt(t,n),Ia(t))}function zE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jy(t,a)}function BE(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Jy(t,a)}function FE(t,n){return cn(t,n)}var Jc=null,Tl=null,xd=!1,Zc=!1,Nd=!1,Gs=0;function Ia(t){t!==Tl&&t.next===null&&(Tl===null?Jc=Tl=t:Tl=Tl.next=t),Zc=!0,xd||(xd=!0,qE())}function Ru(t,n){if(!Nd&&Zc){Nd=!0;do for(var a=!1,o=Jc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,D=o.pingedLanes;m=(1<<31-Je(42|t)+1)-1,m&=h&~(T&~D),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,nv(o,m))}else m=qt,m=Nn(o,o===Mn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Xn(o,m)||(a=!0,nv(o,m));o=o.next}while(a);Nd=!1}}function HE(){Zy()}function Zy(){Zc=xd=!1;var t=0;Gs!==0&&eT()&&(t=Gs);for(var n=$t(),a=null,o=Jc;o!==null;){var h=o.next,m=ev(o,n);m===0?(o.next=null,a===null?Jc=h:a.next=h,h===null&&(Tl=a)):(a=o,(t!==0||(m&3)!==0)&&(Zc=!0)),o=h}mi!==0&&mi!==5||Ru(t),Gs!==0&&(Gs=0)}function ev(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Je(m),D=1<<T,G=h[T];G===-1?((D&a)===0||(D&o)!==0)&&(h[T]=qi(D,n)):G<=n&&(t.expiredLanes|=D),m&=~D}if(n=Mn,a=qt,a=Nn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(_n===2||_n===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&wn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&wn(o),Ye(a)){case 2:case 8:a=g;break;case 32:a=v;break;case 268435456:a=X;break;default:a=v}return o=tv.bind(null,t),a=cn(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&wn(o),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,n){if(mi!==0&&mi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var o=qt;return o=Nn(t,t===Mn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ky(t,o,n),ev(t,$t()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,n){if($c())return null;ky(t,n,!0)}function qE(){nT(function(){(fn&6)!==0?cn(R,HE):Zy()})}function Vd(){if(Gs===0){var t=ll;t===0&&(t=jn,jn<<=1,(jn&261888)===0&&(jn=256)),Gs=t}return Gs}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function rv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function GE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var m=iv((h[be]||null).action),T=o.submitter;T&&(n=(n=T[be]||null)?iv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var D=new Hr("action","action",null,o,h);t.push({event:D,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var G=T?rv(h,T):new FormData(h);ed(a,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(D.preventDefault(),G=T?rv(h,T):new FormData(h),ed(a,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var Pd=0;Pd<er.length;Pd++){var kd=er[Pd],YE=kd.toLowerCase(),XE=kd[0].toUpperCase()+kd.slice(1);yn(YE,"on"+XE)}yn(Me,"onAnimationEnd"),yn(Fe,"onAnimationIteration"),yn(kt,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Ht,"onTransitionRun"),yn(Dt,"onTransitionStart"),yn(zt,"onTransitionCancel"),yn(Jt,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function av(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var D=o[T],G=D.instance,oe=D.currentTarget;if(D=D.listener,G!==m&&h.isPropagationStopped())break e;m=D,h.currentTarget=oe;try{m(h)}catch(ve){Si(ve)}h.currentTarget=null,m=G}else for(T=0;T<o.length;T++){if(D=o[T],G=D.instance,oe=D.currentTarget,D=D.listener,G!==m&&h.isPropagationStopped())break e;m=D,h.currentTarget=oe;try{m(h)}catch(ve){Si(ve)}h.currentTarget=null,m=G}}}}function Ft(t,n){var a=n[ke];a===void 0&&(a=n[ke]=new Set);var o=t+"__bubble";a.has(o)||(sv(n,t,2,!1),a.add(o))}function Ld(t,n,a){var o=0;n&&(o|=4),sv(a,t,o,n)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[eh]){t[eh]=!0,Ar.forEach(function(a){a!=="selectionchange"&&(QE.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eh]||(n[eh]=!0,Ld("selectionchange",!1,n))}}function sv(t,n,a,o){switch(Pv(n)){case 2:var h=ET;break;case 8:h=TT;break;default:h=Zd}a=h.bind(null,n,a,t),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function jd(t,n,a,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var D=o.stateNode.containerInfo;if(D===h)break;if(T===4)for(T=o.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;D!==null;){if(T=tn(D),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){o=m=T;continue e}D=D.parentNode}}o=o.return}hr(function(){var oe=m,ve=lr(a),we=[];e:{var ce=an.get(t);if(ce!==void 0){var pe=Hr,rt=t;switch(t){case"keypress":if(ia(a)===0)break e;case"keydown":case"keyup":pe=Eo;break;case"focusin":rt="focus",pe=wa;break;case"focusout":rt="blur",pe=wa;break;case"beforeblur":case"afterblur":pe=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=y;break;case Me:case Fe:case kt:pe=$o;break;case Jt:pe=N;break;case"scroll":case"scrollend":pe=wo;break;case"wheel":pe=fe;break;case"copy":case"cut":case"paste":pe=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=aa;break;case"toggle":case"beforetoggle":pe=At}var vt=(n&4)!==0,Rn=!vt&&(t==="scroll"||t==="scrollend"),Z=vt?ce!==null?ce+"Capture":null:ce;vt=[];for(var Y=oe,ae;Y!==null;){var _e=Y;if(ae=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ae===null||Z===null||(_e=Ti(Y,Z),_e!=null&&vt.push(Iu(Y,_e,ae))),Rn)break;Y=Y.return}0<vt.length&&(ce=new pe(ce,rt,null,a,ve),we.push({event:ce,listeners:vt}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",ce&&a!==As&&(rt=a.relatedTarget||a.fromElement)&&(tn(rt)||rt[De]))break e;if((pe||ce)&&(ce=ve.window===ve?ve:(ce=ve.ownerDocument)?ce.defaultView||ce.parentWindow:window,pe?(rt=a.relatedTarget||a.toElement,pe=oe,rt=rt?tn(rt):null,rt!==null&&(Rn=c(rt),vt=rt.tag,rt!==Rn||vt!==5&&vt!==27&&vt!==6)&&(rt=null)):(pe=null,rt=oe),pe!==rt)){if(vt=Ss,_e="onMouseLeave",Z="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(vt=aa,_e="onPointerLeave",Z="onPointerEnter",Y="pointer"),Rn=pe==null?ce:ci(pe),ae=rt==null?ce:ci(rt),ce=new vt(_e,Y+"leave",pe,a,ve),ce.target=Rn,ce.relatedTarget=ae,_e=null,tn(ve)===oe&&(vt=new vt(Z,Y+"enter",rt,a,ve),vt.target=ae,vt.relatedTarget=Rn,_e=vt),Rn=_e,pe&&rt)t:{for(vt=KE,Z=pe,Y=rt,ae=0,_e=Z;_e;_e=vt(_e))ae++;_e=0;for(var dt=Y;dt;dt=vt(dt))_e++;for(;0<ae-_e;)Z=vt(Z),ae--;for(;0<_e-ae;)Y=vt(Y),_e--;for(;ae--;){if(Z===Y||Y!==null&&Z===Y.alternate){vt=Z;break t}Z=vt(Z),Y=vt(Y)}vt=null}else vt=null;pe!==null&&ov(we,ce,pe,vt,!1),rt!==null&&Rn!==null&&ov(we,Rn,rt,vt,!0)}}e:{if(ce=oe?ci(oe):window,pe=ce.nodeName&&ce.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ce.type==="file")var ln=tu;else if(eu(ce))if(nu)ln=Q;else{ln=O;var ot=S}else pe=ce.nodeName,!pe||pe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?oe&&ja(oe.elementType)&&(ln=tu):ln=U;if(ln&&(ln=ln(t,oe))){Pn(we,ln,a,ve);break e}ot&&ot(t,ce,oe),t==="focusout"&&oe&&ce.type==="number"&&oe.memoizedProps.value!=null&&Ts(ce,"number",ce.value)}switch(ot=oe?ci(oe):window,t){case"focusin":(eu(ot)||ot.contentEditable==="true")&&(ze=ot,on=oe,We=null);break;case"focusout":We=on=ze=null;break;case"mousedown":Pt=!0;break;case"contextmenu":case"mouseup":case"dragend":Pt=!1,gn(we,a,ve);break;case"selectionchange":if(Ze)break;case"keydown":case"keyup":gn(we,a,ve)}var Vt;if(rn)e:{switch(t){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else Ga?qr(t,a)&&(Gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(dr&&a.locale!=="ko"&&(Ga||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Ga&&(Vt=_a()):(Fr=ve,Pi="value"in Fr?Fr.value:Fr.textContent,Ga=!0)),ot=th(oe,Gt),0<ot.length&&(Gt=new Dr(Gt,t,null,a,ve),we.push({event:Gt,listeners:ot}),Vt?Gt.data=Vt:(Vt=qa(a),Vt!==null&&(Gt.data=Vt)))),(Vt=ki?vf(t,a):gc(t,a))&&(Gt=th(oe,"onBeforeInput"),0<Gt.length&&(ot=new Dr("onBeforeInput","beforeinput",null,a,ve),we.push({event:ot,listeners:Gt}),ot.data=Vt)),GE(we,t,oe,a,ve)}av(we,n)})}function Iu(t,n,a){return{instance:t,listener:n,currentTarget:a}}function th(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ti(t,a),h!=null&&o.unshift(Iu(t,h,m)),h=Ti(t,n),h!=null&&o.push(Iu(t,h,m))),t.tag===3)return o;t=t.return}return[]}function KE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,n,a,o,h){for(var m=n._reactName,T=[];a!==null&&a!==o;){var D=a,G=D.alternate,oe=D.stateNode;if(D=D.tag,G!==null&&G===o)break;D!==5&&D!==26&&D!==27||oe===null||(G=oe,h?(oe=Ti(a,m),oe!=null&&T.unshift(Iu(a,oe,G))):h||(oe=Ti(a,m),oe!=null&&T.push(Iu(a,oe,G)))),a=a.return}T.length!==0&&t.push({event:n,listeners:T})}var WE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(WE,`
`).replace($E,"")}function uv(t,n){return n=lv(n),lv(t)===n}function Sn(t,n,a,o,h,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ni(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ni(t,""+o);break;case"className":Vi(t,"class",o);break;case"tabIndex":Vi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(t,a,o);break;case"style":Sr(t,o,m);break;case"data":if(n!=="object"){Vi(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=va(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Sn(t,n,"name",h.name,h,null),Sn(t,n,"formEncType",h.formEncType,h,null),Sn(t,n,"formMethod",h.formMethod,h,null),Sn(t,n,"formTarget",h.formTarget,h,null)):(Sn(t,n,"encType",h.encType,h,null),Sn(t,n,"method",h.method,h,null),Sn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=va(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=or);break;case"onScroll":o!=null&&Ft("scroll",t);break;case"onScrollEnd":o!=null&&Ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ft("beforetoggle",t),Ft("toggle",t),Ur(t,"popover",o);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ur(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ya.get(a)||a,Ur(t,a,o))}}function zd(t,n,a,o,h,m){switch(a){case"style":Sr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ni(t,o):(typeof o=="number"||typeof o=="bigint")&&ni(t,""+o);break;case"onScroll":o!=null&&Ft("scroll",t);break;case"onScrollEnd":o!=null&&Ft("scrollend",t);break;case"onClick":o!=null&&(t.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),m=t[be]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ur(t,a,o)}}}function Mi(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",t),Ft("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Sn(t,n,m,T,a,null)}}h&&Sn(t,n,"srcSet",a.srcSet,a,null),o&&Sn(t,n,"src",a.src,a,null);return;case"input":Ft("invalid",t);var D=m=T=h=null,G=null,oe=null;for(o in a)if(a.hasOwnProperty(o)){var ve=a[o];if(ve!=null)switch(o){case"name":h=ve;break;case"type":T=ve;break;case"checked":G=ve;break;case"defaultChecked":oe=ve;break;case"value":m=ve;break;case"defaultValue":D=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,n));break;default:Sn(t,n,o,ve,a,null)}}bo(t,m,D,G,oe,T,h,!1);return;case"select":Ft("invalid",t),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(D=a[h],D!=null))switch(h){case"value":m=D;break;case"defaultValue":T=D;break;case"multiple":o=D;default:Sn(t,n,h,D,a,null)}n=m,a=T,t.multiple=!!o,n!=null?pn(t,!!o,n,!1):a!=null&&pn(t,!!o,a,!0);return;case"textarea":Ft("invalid",t),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(D=a[T],D!=null))switch(T){case"value":o=D;break;case"defaultValue":h=D;break;case"children":m=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Sn(t,n,T,D,a,null)}zr(t,o,h,m);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Sn(t,n,G,o,a,null)}return;case"dialog":Ft("beforetoggle",t),Ft("toggle",t),Ft("cancel",t),Ft("close",t);break;case"iframe":case"object":Ft("load",t);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Ft(Cu[o],t);break;case"image":Ft("error",t),Ft("load",t);break;case"details":Ft("toggle",t);break;case"embed":case"source":case"link":Ft("error",t),Ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in a)if(a.hasOwnProperty(oe)&&(o=a[oe],o!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Sn(t,n,oe,o,a,null)}return;default:if(ja(n)){for(ve in a)a.hasOwnProperty(ve)&&(o=a[ve],o!==void 0&&zd(t,n,ve,o,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!=null&&Sn(t,n,D,o,a,null))}function JE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,D=null,G=null,oe=null,ve=null;for(pe in a){var we=a[pe];if(a.hasOwnProperty(pe)&&we!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":G=we;default:o.hasOwnProperty(pe)||Sn(t,n,pe,null,o,we)}}for(var ce in o){var pe=o[ce];if(we=a[ce],o.hasOwnProperty(ce)&&(pe!=null||we!=null))switch(ce){case"type":m=pe;break;case"name":h=pe;break;case"checked":oe=pe;break;case"defaultChecked":ve=pe;break;case"value":T=pe;break;case"defaultValue":D=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,n));break;default:pe!==we&&Sn(t,n,ce,pe,o,we)}}La(t,T,D,G,oe,ve,m,h);return;case"select":pe=T=D=ce=null;for(m in a)if(G=a[m],a.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":pe=G;default:o.hasOwnProperty(m)||Sn(t,n,m,null,o,G)}for(h in o)if(m=o[h],G=a[h],o.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ce=m;break;case"defaultValue":D=m;break;case"multiple":T=m;default:m!==G&&Sn(t,n,h,m,o,G)}n=D,a=T,o=pe,ce!=null?pn(t,!!a,ce,!1):!!o!=!!a&&(n!=null?pn(t,!!a,n,!0):pn(t,!!a,a?[]:"",!1));return;case"textarea":pe=ce=null;for(D in a)if(h=a[D],a.hasOwnProperty(D)&&h!=null&&!o.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Sn(t,n,D,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":pe=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Sn(t,n,T,h,o,m)}ga(t,ce,pe);return;case"option":for(var rt in a)if(ce=a[rt],a.hasOwnProperty(rt)&&ce!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Sn(t,n,rt,null,o,ce)}for(G in o)if(ce=o[G],pe=a[G],o.hasOwnProperty(G)&&ce!==pe&&(ce!=null||pe!=null))switch(G){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Sn(t,n,G,ce,o,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)ce=a[vt],a.hasOwnProperty(vt)&&ce!=null&&!o.hasOwnProperty(vt)&&Sn(t,n,vt,null,o,ce);for(oe in o)if(ce=o[oe],pe=a[oe],o.hasOwnProperty(oe)&&ce!==pe&&(ce!=null||pe!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,n));break;default:Sn(t,n,oe,ce,o,pe)}return;default:if(ja(n)){for(var Rn in a)ce=a[Rn],a.hasOwnProperty(Rn)&&ce!==void 0&&!o.hasOwnProperty(Rn)&&zd(t,n,Rn,void 0,o,ce);for(ve in o)ce=o[ve],pe=a[ve],!o.hasOwnProperty(ve)||ce===pe||ce===void 0&&pe===void 0||zd(t,n,ve,ce,o,pe);return}}for(var Z in a)ce=a[Z],a.hasOwnProperty(Z)&&ce!=null&&!o.hasOwnProperty(Z)&&Sn(t,n,Z,null,o,ce);for(we in o)ce=o[we],pe=a[we],!o.hasOwnProperty(we)||ce===pe||ce==null&&pe==null||Sn(t,n,we,ce,o,pe)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,T=h.initiatorType,D=h.duration;if(m&&D&&cv(T)){for(T=0,D=h.responseEnd,o+=1;o<a.length;o++){var G=a[o],oe=G.startTime;if(oe>D)break;var ve=G.transferSize,we=G.initiatorType;ve&&cv(we)&&(G=G.responseEnd,T+=ve*(G<D?1:(D-oe)/(G-oe)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,Fd=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qd=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(iT)}:dv;function iT(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function pv(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Cl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Mu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Mu(a);for(var m=a.firstChild;m;){var T=m.nextSibling,D=m.nodeName;m[qe]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=T}}else a==="body"&&Mu(t.ownerDocument.body);a=h}while(a);Cl(n)}function gv(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Gd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),_t(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[qe])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wr(t.nextSibling),t===null)break}return null}function aT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wr(t.nextSibling),t===null))return null;return t}function yv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wr(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Wr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Qd=null;function vv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Wr(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function _v(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function bv(t,n,a){switch(n=nh(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Mu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_t(t)}var $r=new Map,wv=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=K.d;K.d={f:oT,r:lT,D:uT,C:cT,L:hT,m:fT,X:mT,S:dT,M:pT};function oT(){var t=us.f(),n=Qc();return t||n}function lT(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Ug(n):us.r(t)}var Al=typeof document>"u"?null:document;function Ev(t,n,a){var o=Al;if(o&&typeof n=="string"&&n){var h=Vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),wv.has(h)||(wv.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Mi(n,"link",t),mn(n),o.head.appendChild(n)))}}function uT(t){us.D(t),Ev("dns-prefetch",t,null)}function cT(t,n){us.C(t,n),Ev("preconnect",t,n)}function hT(t,n,a){us.L(t,n,a);var o=Al;if(o&&t&&n){var h='link[rel="preload"][as="'+Vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Vn(a.imageSizes)+'"]')):h+='[href="'+Vn(t)+'"]';var m=h;switch(n){case"style":m=Sl(t);break;case"script":m=Rl(t)}$r.has(m)||(t=L({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),$r.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Du(m))||n==="script"&&o.querySelector(Ou(m))||(n=o.createElement("link"),Mi(n,"link",t),mn(n),o.head.appendChild(n)))}}function fT(t,n){us.m(t,n);var a=Al;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Vn(o)+'"][href="'+Vn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Rl(t)}if(!$r.has(m)&&(t=L({rel:"modulepreload",href:t},n),$r.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ou(m)))return}o=a.createElement("link"),Mi(o,"link",t),mn(o),a.head.appendChild(o)}}}function dT(t,n,a){us.S(t,n,a);var o=Al;if(o&&t){var h=hi(o).hoistableStyles,m=Sl(t);n=n||"default";var T=h.get(m);if(!T){var D={loading:0,preload:null};if(T=o.querySelector(Du(m)))D.loading=5;else{t=L({rel:"stylesheet",href:t,"data-precedence":n},a),(a=$r.get(m))&&Kd(t,a);var G=T=o.createElement("link");mn(G),Mi(G,"link",t),G._p=new Promise(function(oe,ve){G.onload=oe,G.onerror=ve}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,rh(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:D},h.set(m,T)}}}function mT(t,n){us.X(t,n);var a=Al;if(a&&t){var o=hi(a).hoistableScripts,h=Rl(t),m=o.get(h);m||(m=a.querySelector(Ou(h)),m||(t=L({src:t,async:!0},n),(n=$r.get(h))&&Wd(t,n),m=a.createElement("script"),mn(m),Mi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function pT(t,n){us.M(t,n);var a=Al;if(a&&t){var o=hi(a).hoistableScripts,h=Rl(t),m=o.get(h);m||(m=a.querySelector(Ou(h)),m||(t=L({src:t,async:!0,type:"module"},n),(n=$r.get(h))&&Wd(t,n),m=a.createElement("script"),mn(m),Mi(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Tv(t,n,a,o){var h=(h=Qe.current)?ih(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Sl(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Sl(a.href);var m=hi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Du(t)))&&!m._p&&(T.instance=m,T.state.loading=5),$r.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$r.set(t,a),m||gT(h,t,a,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Sl(t){return'href="'+Vn(t)+'"'}function Du(t){return'link[rel="stylesheet"]['+t+"]"}function Av(t){return L({},t,{"data-precedence":t.precedence,precedence:null})}function gT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Mi(n,"link",a),mn(n),t.head.appendChild(n))}function Rl(t){return'[src="'+Vn(t)+'"]'}function Ou(t){return"script[async]"+t}function Sv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Vn(a.href)+'"]');if(o)return n.instance=o,mn(o),o;var h=L({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),mn(o),Mi(o,"style",h),rh(o,a.precedence,t),n.instance=o;case"stylesheet":h=Sl(a.href);var m=t.querySelector(Du(h));if(m)return n.state.loading|=4,n.instance=m,mn(m),m;o=Av(a),(h=$r.get(h))&&Kd(o,h),m=(t.ownerDocument||t).createElement("link"),mn(m);var T=m;return T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),Mi(m,"link",o),n.state.loading|=4,rh(m,a.precedence,t),n.instance=m;case"script":return m=Rl(a.src),(h=t.querySelector(Ou(m)))?(n.instance=h,mn(h),h):(o=a,(h=$r.get(m))&&(o=L({},a),Wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),mn(h),Mi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rh(o,a.precedence,t));return n.instance}function rh(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var D=o[T];if(D.dataset.precedence===n)m=D;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ah=null;function Rv(t,n,a){if(ah===null){var o=new Map,h=ah=new Map;h.set(a,o)}else h=ah,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[qe]||m[me]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var D=o.get(T);D?D.push(m):o.set(T,[m])}}return o}function Cv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function yT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Sl(o.href),m=n.querySelector(Du(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sh.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=m,mn(m);return}m=n.ownerDocument||n,o=Av(o),(h=$r.get(h))&&Kd(o,h),m=m.createElement("link"),mn(m);var T=m;T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),Mi(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var $d=0;function _T(t,n){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&$d===0&&($d=62500*ZE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>$d?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,n.forEach(bT,t),oh=null,sh.call(t))}function bT(t,n){if(!(n.state.loading&4)){var a=oh.get(t);if(a)var o=a.get(null);else{a=new Map,oh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=sh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xu={$$typeof:Le,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function wT(t,n,a,o,h,m,T,D,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Mv(t,n,a,o,h,m,T,D,G,oe,ve,we){return t=new wT(t,n,a,T,G,oe,ve,we,D),n=1,m===!0&&(n|=24),m=Li(3,null,null,n),t.current=m,m.stateNode=t,n=Df(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},Vf(m),t}function Dv(t){return t?(t=xr,t):xr}function Ov(t,n,a,o,h,m){h=Dv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=ks(t,o,n),a!==null&&(br(a,t,n),cu(a,t,n))}function xv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jd(t,n){xv(t,n),(t=t.alternate)&&xv(t,n)}function Nv(t){if(t.tag===13||t.tag===31){var n=tr(t,67108864);n!==null&&br(n,t,67108864),Jd(t,67108864)}}function Vv(t){if(t.tag===13||t.tag===31){var n=Lr();n=Tr(n);var a=tr(t,n);a!==null&&br(a,t,n),Jd(t,n)}}var uh=!0;function ET(t,n,a,o){var h=H.T;H.T=null;var m=K.p;try{K.p=2,Zd(t,n,a,o)}finally{K.p=m,H.T=h}}function TT(t,n,a,o){var h=H.T;H.T=null;var m=K.p;try{K.p=8,Zd(t,n,a,o)}finally{K.p=m,H.T=h}}function Zd(t,n,a,o){if(uh){var h=em(o);if(h===null)jd(t,n,o,ch,a),kv(t,o);else if(ST(h,t,n,a,o))o.stopPropagation();else if(kv(t,o),n&4&&-1<AT.indexOf(t)){for(;h!==null;){var m=Fn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=In(m.pendingLanes);if(T!==0){var D=m;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var G=1<<31-Je(T);D.entanglements[1]|=G,T&=~G}Ia(m),(fn&6)===0&&(Yc=$t()+500,Ru(0))}}break;case 31:case 13:D=tr(m,2),D!==null&&br(D,m,2),Qc(),Jd(m,2)}if(m=em(o),m===null&&jd(t,n,o,ch,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else jd(t,n,o,null,a)}}function em(t){return t=lr(t),tm(t)}var ch=null;function tm(t){if(ch=null,t=tn(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=p(n),t!==null)return t;t=null}else if(a===31){if(t=b(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ch=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case R:return 2;case g:return 8;case v:case x:return 32;case X:return 268435456;default:return 32}default:return 32}}var nm=!1,Xs=null,Qs=null,Ks=null,Nu=new Map,Vu=new Map,Ws=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Nu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(n.pointerId)}}function Pu(t,n,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&Nv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ST(t,n,a,o,h){switch(n){case"focusin":return Xs=Pu(Xs,t,n,a,o,h),!0;case"dragenter":return Qs=Pu(Qs,t,n,a,o,h),!0;case"mouseover":return Ks=Pu(Ks,t,n,a,o,h),!0;case"pointerover":var m=h.pointerId;return Nu.set(m,Pu(Nu.get(m)||null,t,n,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Vu.set(m,Pu(Vu.get(m)||null,t,n,a,o,h)),!0}return!1}function Lv(t){var n=tn(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=p(a),n!==null){t.blockedOn=n,wi(t.priority,function(){Vv(a)});return}}else if(n===31){if(n=b(a),n!==null){t.blockedOn=n,wi(t.priority,function(){Vv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);As=o,a.target.dispatchEvent(o),As=null}else return n=Fn(a),n!==null&&Nv(n),t.blockedOn=a,!1;n.shift()}return!0}function Uv(t,n,a){hh(t)&&a.delete(n)}function RT(){nm=!1,Xs!==null&&hh(Xs)&&(Xs=null),Qs!==null&&hh(Qs)&&(Qs=null),Ks!==null&&hh(Ks)&&(Ks=null),Nu.forEach(Uv),Vu.forEach(Uv)}function fh(t,n){t.blockedOn===n&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RT)))}var dh=null;function jv(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(tm(o||a)===null)continue;break}var m=Fn(a);m!==null&&(t.splice(n,3),n-=3,ed(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Cl(t){function n(G){return fh(G,t)}Xs!==null&&fh(Xs,t),Qs!==null&&fh(Qs,t),Ks!==null&&fh(Ks,t),Nu.forEach(n),Vu.forEach(n);for(var a=0;a<Ws.length;a++){var o=Ws[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&Ws.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[be]||null;if(typeof m=="function")T||jv(a);else if(T){var D=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[be]||null)D=T.formAction;else if(tm(h)!==null)continue}else D=T.action;typeof D=="function"?a[o+1]=D:(a.splice(o,3),o-=3),jv(a)}}}function zv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}mh.prototype.render=im.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Lr();Ov(a,o,t,n,null,null)},mh.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ov(t.current,2,null,t,null,null),Qc(),n[De]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var n=ma();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ws.length&&n!==0&&n<Ws[a].priority;a++);Ws.splice(a,0,t),a===0&&Lv(t)}};var Bv=e.version;if(Bv!=="19.2.0")throw Error(s(527,Bv,"19.2.0"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?M(t):null,t=t===null?null:t.stateNode,t};var CT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{$e=ph.inject(CT),tt=ph}catch{}}return Lu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=Qg,m=Kg,T=Wg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Mv(t,1,!1,null,null,a,o,null,h,m,T,zv),t[De]=n.current,Ud(t),new im(n)},Lu.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",m=Qg,T=Kg,D=Wg,G=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),n=Mv(t,1,!0,n,a??null,o,h,G,m,T,D,zv),n.context=Dv(null),a=n.current,o=Lr(),o=Tr(o),h=Ps(o),h.callback=null,ks(a,h,o),a=o,n.current.lanes=a,Rt(n,a),Ia(n),t[De]=n.current,Ud(t),new mh(n)},Lu.version="19.2.0",Lu}var $v;function LT(){if($v)return sm.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=kT(),sm.exports}var UT=LT();const jT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Jv=r=>{const e=zT(r);return e.charAt(0).toUpperCase()+e.slice(1)},L0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),BT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HT=St.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>St.createElement("svg",{ref:w,...FT,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:L0("lucide",l),...!c&&!BT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,M])=>St.createElement(E,M)),...Array.isArray(c)?c:[c]]));const da=(r,e)=>{const i=St.forwardRef(({className:s,...l},c)=>St.createElement(HT,{ref:c,iconNode:e,className:L0(`lucide-${jT(Jv(r))}`,`lucide-${r}`,s),...l}));return i.displayName=Jv(r),i};const qT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],GT=da("arrow-down-a-z",qT);const YT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],XT=da("check-check",YT);const QT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KT=da("check",QT);const WT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$T=da("chevron-right",WT);const JT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ZT=da("crown",JT);const e1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],t1=da("play",e1);const n1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],i1=da("rotate-ccw",n1);const r1=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],a1=da("share-2",r1);const s1=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],o1=da("shuffle",s1);const l1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zv=da("star",l1);const u1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cm=da("trophy",u1);var hm={},Eh={exports:{}},c1=Eh.exports,e_;function h1(){return e_||(e_=1,(function(r,e){(function(s,l){r.exports=l()})(c1,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>M});var E=(()=>{var L=typeof document<"u"?document.currentScript?.src:void 0;return(function(q={}){var ee,j=q,xe,Te,Ne=new Promise((f,d)=>{xe=f,Te=d}),Ve=typeof window=="object",Le=typeof importScripts=="function";function Pe(){function f(Q){const $=S;_=d=0,S=new Map,$.forEach(ue=>{try{ue(Q)}catch(se){console.error(se)}}),this.nb(),O&&O.Pb()}let d=0,_=0,S=new Map,O=null,U=null;this.requestAnimationFrame=function(Q){d||=requestAnimationFrame(f.bind(this));const $=++_;return S.set($,Q),$},this.cancelAnimationFrame=function(Q){S.delete(Q),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Q){U&&(document.body.remove(U),U=null),Q||(U=document.createElement("div"),U.style.backgroundColor="black",U.style.position="fixed",U.style.right=0,U.style.top=0,U.style.color="white",U.style.padding="4px",U.innerHTML="RIVE FPS",Q=function($){U.innerHTML="RIVE FPS "+$.toFixed(1)},document.body.appendChild(U)),O=new function(){let $=0,ue=0;this.Pb=function(){var se=performance.now();ue?(++$,se-=ue,1e3<se&&(Q(1e3*$/se),$=ue=0)):(ue=se,$=0)}}},this.Kb=function(){U&&(document.body.remove(U),U=null),O=null},this.nb=function(){}}function Ge(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const Xe=j.onRuntimeInitialized;j.onRuntimeInitialized=function(){Xe&&Xe();let f=j.decodeAudio;j.decodeAudio=function(O,U){O=f(O),U(O)};let d=j.decodeFont;j.decodeFont=function(O,U){O=d(O),U(O)};const _=j.FileAssetLoader;j.ptrToAsset=O=>{let U=j.ptrToFileAsset(O);return U.isImage?j.ptrToImageAsset(O):U.isFont?j.ptrToFontAsset(O):U.isAudio?j.ptrToAudioAsset(O):U},j.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:O}){this.__parent.__construct.call(this),this.Db=O},loadContents:function(O,U){return O=j.ptrToAsset(O),this.Db(O,U)}}),j.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(O){let U=j.ptrToAsset(O);return O=U.cdnUuid,O===""?!1:((function(Q,$){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&$(ue)},ue.open("GET",Q,!0),ue.send(null)})(U.cdnBaseUrl+"/"+O,Q=>{U.decode(new Uint8Array(Q.response))}),!0)}}),j.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(O){this.jb.push(O)},loadContents:function(O,U){for(let Q of this.jb)if(Q.loadContents(O,U))return!0;return!1}});let S=j.computeAlignment;j.computeAlignment=function(O,U,Q,$,ue=1){return S.call(this,O,U,Q,$,ue)}};const F="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),z=new function(){function f(){if(!d){let on=function(We,Pt,gn){if(Pt=ze.createShader(Pt),ze.shaderSource(Pt,gn),ze.compileShader(Pt),gn=ze.getShaderInfoLog(Pt),0<(gn||"").length)throw gn;ze.attachShader(We,Pt)};var Ze=on,J=document.createElement("canvas"),je={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let ze;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(ze=J.getContext("webgl",je),_=1,!ze)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(ze=J.getContext("webgl2",je))_=2;else if(ze=J.getContext("webgl",je))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(ze=new Proxy(ze,{get(We,Pt){if(We.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Pt),ue=!0),typeof We[Pt]=="function")return function(){}}else return typeof We[Pt]=="function"?function(...gn){return We[Pt].apply(We,gn)}:We[Pt]},set(We,Pt,gn){if(We.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Pt),ue=!0);else return We[Pt]=gn,!0}}),S=Math.min(ze.getParameter(ze.MAX_RENDERBUFFER_SIZE),ze.getParameter(ze.MAX_TEXTURE_SIZE)),J=ze.createProgram(),on(J,ze.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),on(J,ze.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),ze.bindAttribLocation(J,0,"vertex"),ze.bindAttribLocation(J,1,"uv"),ze.linkProgram(J),je=ze.getProgramInfoLog(J),0<(je||"").trim().length)throw je;O=ze.getUniformLocation(J,"mat"),U=ze.getUniformLocation(J,"translate"),ze.useProgram(J),ze.bindBuffer(ze.ARRAY_BUFFER,ze.createBuffer()),ze.enableVertexAttribArray(0),ze.enableVertexAttribArray(1),ze.bindBuffer(ze.ELEMENT_ARRAY_BUFFER,ze.createBuffer()),ze.uniform1i(ze.getUniformLocation(J,"image"),0),ze.pixelStorei(ze.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=ze}return!0}let d=null,_=0,S=0,O=null,U=null,Q=0,$=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function(J){d.deleteTexture&&d.deleteTexture(J)},this.Ib=function(J){if(!f())return null;const je=d.createTexture();return je?(d.bindTexture(d.TEXTURE_2D,je),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,J),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),je):null};const se=new Ge(8),Oe=new Ge(8),Ke=new Ge(10),it=new Ge(10);this.Mb=function(J,je,Ze,ze,on){if(f()){var We=se.push(J),Pt=Oe.push(je);if(d.canvas){(d.canvas.width!=We||d.canvas.height!=Pt)&&(d.canvas.width=We,d.canvas.height=Pt),d.viewport(0,Pt-je,J,je),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),Ze.sort((Ut,Or)=>Or.ub-Ut.ub),We=Ke.push(ze),Q!=We&&(d.bufferData(d.ARRAY_BUFFER,8*We,d.DYNAMIC_DRAW),Q=We),We=0;for(var gn of Ze)d.bufferSubData(d.ARRAY_BUFFER,We,gn.Sa),We+=4*gn.Sa.length;console.assert(We==4*ze);for(var Jn of Ze)d.bufferSubData(d.ARRAY_BUFFER,We,Jn.Ab),We+=4*Jn.Ab.length;console.assert(We==8*ze),We=it.push(on),$!=We&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*We,d.DYNAMIC_DRAW),$=We),gn=0;for(var pr of Ze)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,gn,pr.indices),gn+=2*pr.indices.length;console.assert(gn==2*on),pr=0,Jn=!0,We=gn=0;for(const Ut of Ze){Ut.image.Ia!=pr&&(d.bindTexture(d.TEXTURE_2D,Ut.image.Ha||null),pr=Ut.image.Ia),Ut.fc?(d.scissor(Ut.Ya,Pt-Ut.Za-Ut.ib,Ut.tc,Ut.ib),Jn=!0):Jn&&(d.scissor(0,Pt-je,J,je),Jn=!1),Ze=2/J;const Or=-2/je;d.uniform4f(O,Ut.ga[0]*Ze*Ut.za,Ut.ga[1]*Or*Ut.Aa,Ut.ga[2]*Ze*Ut.za,Ut.ga[3]*Or*Ut.Aa),d.uniform2f(U,Ut.ga[4]*Ze*Ut.za+Ze*(Ut.Ya-Ut.bc*Ut.za)-1,Ut.ga[5]*Or*Ut.Aa+Or*(Ut.Za-Ut.cc*Ut.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,We),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,We+4*ze),d.drawElements(d.TRIANGLES,Ut.indices.length,d.UNSIGNED_SHORT,gn),We+=4*Ut.Sa.length,gn+=2*Ut.indices.length}console.assert(We==4*ze),console.assert(gn==2*on)}}},this.canvas=function(){return f()&&d.canvas}},V=j.onRuntimeInitialized;j.onRuntimeInitialized=function(){function f(Me){switch(Me){case se.srcOver:return"source-over";case se.screen:return"screen";case se.overlay:return"overlay";case se.darken:return"darken";case se.lighten:return"lighten";case se.colorDodge:return"color-dodge";case se.colorBurn:return"color-burn";case se.hardLight:return"hard-light";case se.softLight:return"soft-light";case se.difference:return"difference";case se.exclusion:return"exclusion";case se.multiply:return"multiply";case se.hue:return"hue";case se.saturation:return"saturation";case se.color:return"color";case se.luminosity:return"luminosity"}}function d(Me){return"rgba("+((16711680&Me)>>>16)+","+((65280&Me)>>>8)+","+((255&Me)>>>0)+","+((4278190080&Me)>>>24)/255+")"}function _(){0<Pt.length&&(z.Mb(We.drawWidth(),We.drawHeight(),Pt,gn,Jn),Pt=[],Jn=gn=0,We.reset(512,512));for(const Me of on){for(const Fe of Me.H)Fe();Me.H=[]}on.clear()}V&&V();var S=j.RenderPaintStyle;const O=j.RenderPath,U=j.RenderPaint,Q=j.Renderer,$=j.StrokeCap,ue=j.StrokeJoin,se=j.BlendMode,Oe=S.fill,Ke=S.stroke,it=j.FillRule.evenOdd;let J=1;var je=j.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Me,va:Fe}={}){this.__parent.__construct.call(this),this.Ia=J,J=J+1&2147483647||1,this.ka=Me,this.va=Fe},__destruct:function(){this.Ha&&(z.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Me){var Fe=this;Fe.va&&Fe.va(Fe);var kt=new Image;Fe.Va=URL.createObjectURL(new Blob([Me],{type:"image/png"})),kt.onload=function(){Fe.Cb=kt,Fe.Ha=z.Ib(kt),Fe.size(kt.width,kt.height),Fe.ka&&Fe.ka(Fe)},kt.src=Fe.Va}}),Ze=O.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Me,Fe,kt,Ht,Dt,zt,Jt){var an=this.T,er=an.addPath;Me=Me.T;const yn=new DOMMatrix;yn.a=Fe,yn.b=kt,yn.c=Ht,yn.d=Dt,yn.e=zt,yn.f=Jt,er.call(an,Me,yn)},fillRule:function(Me){this.Ua=Me},moveTo:function(Me,Fe){this.T.moveTo(Me,Fe)},lineTo:function(Me,Fe){this.T.lineTo(Me,Fe)},cubicTo:function(Me,Fe,kt,Ht,Dt,zt){this.T.bezierCurveTo(Me,Fe,kt,Ht,Dt,zt)},close:function(){this.T.closePath()}}),ze=U.extend("CanvasRenderPaint",{color:function(Me){this.Wa=d(Me)},thickness:function(Me){this.Fb=Me},join:function(Me){switch(Me){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(Me){switch(Me){case $.butt:this.Fa="butt";break;case $.round:this.Fa="round";break;case $.square:this.Fa="square"}},style:function(Me){this.Eb=Me},blendMode:function(Me){this.Bb=f(Me)},clearGradient:function(){this.ia=null},linearGradient:function(Me,Fe,kt,Ht){this.ia={wb:Me,xb:Fe,bb:kt,cb:Ht,Pa:[]}},radialGradient:function(Me,Fe,kt,Ht){this.ia={wb:Me,xb:Fe,bb:kt,cb:Ht,Pa:[],$b:!0}},addStop:function(Me,Fe){this.ia.Pa.push({color:Me,stop:Fe})},completeGradient:function(){},draw:function(Me,Fe,kt){let Ht=this.Eb;var Dt=this.Wa,zt=this.ia;if(Me.globalCompositeOperation=this.Bb,zt!=null){Dt=zt.wb;var Jt=zt.xb;const er=zt.bb;var an=zt.cb;const yn=zt.Pa;zt.$b?(zt=er-Dt,an-=Jt,Dt=Me.createRadialGradient(Dt,Jt,0,Dt,Jt,Math.sqrt(zt*zt+an*an))):Dt=Me.createLinearGradient(Dt,Jt,er,an);for(let Si=0,hn=yn.length;Si<hn;Si++)Jt=yn[Si],Dt.addColorStop(Jt.stop,d(Jt.color));this.Wa=Dt,this.ia=null}switch(Ht){case Ke:Me.strokeStyle=Dt,Me.lineWidth=this.Fb,Me.lineCap=this.Fa,Me.lineJoin=this.Ga,Me.stroke(Fe);break;case Oe:Me.fillStyle=Dt,Me.fill(Fe,kt)}}});const on=new Set;let We=null,Pt=[],gn=0,Jn=0;var pr=j.CanvasRenderer=Q.extend("Renderer",{__construct:function(Me){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Me.getContext("2d"),this.Ta=Me,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Me=this.S.length-6;if(6>Me)throw"restore() called without matching save().";this.S.splice(Me),this.H.push(this.B.restore.bind(this.B))},transform:function(Me,Fe,kt,Ht,Dt,zt){const Jt=this.S,an=Jt.length-6;Jt.splice(an,6,Jt[an]*Me+Jt[an+2]*Fe,Jt[an+1]*Me+Jt[an+3]*Fe,Jt[an]*kt+Jt[an+2]*Ht,Jt[an+1]*kt+Jt[an+3]*Ht,Jt[an]*Dt+Jt[an+2]*zt+Jt[an+4],Jt[an+1]*Dt+Jt[an+3]*zt+Jt[an+5]),this.H.push(this.B.transform.bind(this.B,Me,Fe,kt,Ht,Dt,zt))},rotate:function(Me){const Fe=Math.sin(Me);Me=Math.cos(Me),this.transform(Me,Fe,-Fe,Me,0,0)},_drawPath:function(Me,Fe){this.H.push(Fe.draw.bind(Fe,this.B,Me.T,Me.Ua===it?"evenodd":"nonzero"))},_drawRiveImage:function(Me,Fe,kt,Ht){var Dt=Me.Cb;if(Dt){var zt=this.B,Jt=f(kt);this.H.push(function(){zt.globalCompositeOperation=Jt,zt.globalAlpha=Ht,zt.drawImage(Dt,0,0),zt.globalAlpha=1})}},_getMatrix:function(Me){const Fe=this.S,kt=Fe.length-6;for(let Ht=0;6>Ht;++Ht)Me[Ht]=Fe[kt+Ht]},_drawImageMesh:function(Me,Fe,kt,Ht,Dt,zt,Jt,an,er,yn,Si){Fe=this.B.canvas.width;var hn=this.B.canvas.height;const Qa=yn-an,il=Si-er;an=Math.max(an,0),er=Math.max(er,0),yn=Math.min(yn,Fe),Si=Math.min(Si,hn);const Ta=yn-an,Aa=Si-er;if(console.assert(Ta<=Math.min(Qa,Fe)),console.assert(Aa<=Math.min(il,hn)),!(0>=Ta||0>=Aa)){yn=Ta<Qa||Aa<il,Fe=Si=1;var sa=Math.ceil(Ta*Si),tr=Math.ceil(Aa*Fe);hn=z.ac(),sa>hn&&(Si*=hn/sa,sa=hn),tr>hn&&(Fe*=hn/tr,tr=hn),We||(We=new j.DynamicRectanizer(hn),We.reset(512,512)),hn=We.addRect(sa,tr),0>hn&&(_(),on.add(this),hn=We.addRect(sa,tr),console.assert(0<=hn));var iu=hn&65535,Ao=hn>>16;Pt.push({ga:this.S.slice(this.S.length-6),image:Me,Ya:iu,Za:Ao,bc:an,cc:er,tc:sa,ib:tr,za:Si,Aa:Fe,Sa:new Float32Array(Dt),Ab:new Float32Array(zt),indices:new Uint16Array(Jt),fc:yn,ub:Me.Ia<<1|(yn?1:0)}),gn+=Dt.length,Jn+=Jt.length;var xr=this.B,_f=f(kt);this.H.push(function(){xr.save(),xr.resetTransform(),xr.globalCompositeOperation=_f,xr.globalAlpha=Ht;const Li=z.canvas();Li&&xr.drawImage(Li,iu,Ao,sa,tr,an,er,Ta,Aa),xr.restore()})}},_clipPath:function(Me){this.H.push(this.B.clip.bind(this.B,Me.T,Me.Ua===it?"evenodd":"nonzero"))},clear:function(){on.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Me,Fe){this.transform(1,0,0,1,Me,Fe)}});j.makeRenderer=function(Me){const Fe=new pr(Me),kt=Fe.B;return new Proxy(Fe,{get(Ht,Dt){if(typeof Ht[Dt]=="function")return function(...zt){return Ht[Dt].apply(Ht,zt)};if(typeof kt[Dt]=="function"){if(-1<F.indexOf(Dt))throw Error("RiveException: Method call to '"+Dt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...zt){Fe.H.push(kt[Dt].bind(kt,...zt))}}return Ht[Dt]},set(Ht,Dt,zt){if(Dt in kt)return Fe.H.push(()=>{kt[Dt]=zt}),!0}})},j.decodeImage=function(Me,Fe){new je({ka:Fe}).decode(Me)},j.renderFactory={makeRenderPaint:function(){return new ze},makeRenderPath:function(){return new Ze},makeRenderImage:function(){let Me=Or;return new je({va:()=>{Me.total++},ka:()=>{if(Me.loaded++,Me.loaded===Me.total){const Fe=Me.ready;Fe&&(Fe(),Me.ready=null)}}})}};let Ut=j.load,Or=null;j.load=function(Me,Fe,kt=!0){const Ht=new j.FallbackFileAssetLoader;return Fe!==void 0&&Ht.addLoader(Fe),kt&&(Fe=new j.CDNFileAssetLoader,Ht.addLoader(Fe)),new Promise(function(Dt){let zt=null;Or={total:0,loaded:0,ready:function(){Dt(zt)}},zt=Ut(Me,Ht),Or.total==0&&Dt(zt)})};let Xa=j.RendererWrapper.prototype.align;j.RendererWrapper.prototype.align=function(Me,Fe,kt,Ht,Dt=1){Xa.call(this,Me,Fe,kt,Ht,Dt)},S=new Pe,j.requestAnimationFrame=S.requestAnimationFrame.bind(S),j.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),j.enableFPSCounter=S.Nb.bind(S),j.disableFPSCounter=S.Kb,S.nb=_,j.resolveAnimationFrame=_,j.cleanup=function(){We&&We.delete()}};var B=Object.assign({},j),C="./this.program",k="",I,W;(Ve||Le)&&(Le?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),L&&(k=L),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),Le&&(W=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(yi(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(O=>O.ok?O.arrayBuffer():Promise.reject(Error(O.status+" : "+O.url))).then(d,_)});var re=j.print||console.log.bind(console),H=j.printErr||console.error.bind(console);Object.assign(j,B),B=null,j.thisProgram&&(C=j.thisProgram);var K;j.wasmBinary&&(K=j.wasmBinary);var ye,he=!1,Ce,P,ie,Ee,ge,Re,Qe,st;function lt(){var f=ye.buffer;j.HEAP8=Ce=new Int8Array(f),j.HEAP16=ie=new Int16Array(f),j.HEAPU8=P=new Uint8Array(f),j.HEAPU16=Ee=new Uint16Array(f),j.HEAP32=ge=new Int32Array(f),j.HEAPU32=Re=new Uint32Array(f),j.HEAPF32=Qe=new Float32Array(f),j.HEAPF64=st=new Float64Array(f)}var yt=[],Et=[],dn=[];function ht(){var f=j.preRun.shift();yt.unshift(f)}var Tt=0,Nt=null;function Lt(f){throw j.onAbort?.(f),f="Aborted("+f+")",H(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),Te(f),f}var xn=f=>f.startsWith("data:application/octet-stream;base64,"),yi=f=>f.startsWith("file://"),en;function at(f){if(f==en&&K)return new Uint8Array(K);if(W)return W(f);throw"both async and sync fetching of the wasm failed"}function cn(f){return K?Promise.resolve().then(()=>at(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(at(f))}catch(S){_(S)}})})}function wn(f,d,_){return cn(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{H(`failed to asynchronously prepare wasm: ${S}`),Lt(S)})}function Hi(f,d){var _=en;return K||typeof WebAssembly.instantiateStreaming!="function"||xn(_)||yi(_)||typeof fetch!="function"?wn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(O){return H(`wasm streaming compile failed: ${O}`),H("falling back to ArrayBuffer instantiation"),wn(_,f,d)}))}var Gn,$t,En={464256:(f,d,_,S,O)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=O;let U=window.h;U.D=[],U.rc=function(Q){for(var $=0;$<U.D.length;++$)if(U.D[$]==null)return U.D[$]=Q,$;return U.D.push(Q),U.D.length-1},U.zb=function(Q){for(U.D[Q]=null;0<U.D.length&&U.D[U.D.length-1]==null;)U.D.pop()},U.Oc=function(Q){for(var $=0;$<U.D.length;++$)if(U.D[$]==Q)return U.zb($)},U.pa=function(Q){return U.D[Q]},U.Ra=["touchend","click"],U.unlock=function(){for(var Q=0;Q<U.D.length;++Q){var $=U.D[Q];$!=null&&$.K!=null&&$.state===U.fa.vb&&$.K.resume().then(()=>{To($.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}U.Ra.map(function(ue){document.removeEventListener(ue,U.unlock,!0)})},U.Ra.map(function(Q){document.addEventListener(Q,U.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,O,U)=>{if(typeof window.h>"u")return-1;var Q={},$={};return f==window.h.I.wa&&_!=0&&($.sampleRate=_),Q.K=new(window.AudioContext||window.webkitAudioContext)($),Q.K.suspend(),Q.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),Q.Y=Q.K.createScriptProcessor(S,_,d),Q.Y.onaudioprocess=function(ue){if((Q.qa==null||Q.qa.length==0)&&(Q.qa=new Float32Array(Qe.buffer,O,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var se=0;se<d;se+=1)for(var Oe=ue.inputBuffer.getChannelData(se),Ke=Q.qa,it=0;it<S;it+=1)Ke[it*d+se]=Oe[it];tu(U,S,O)}if(f==window.h.I.wa||f==window.h.I.Ja)for(nu(U,S,O),se=0;se<ue.outputBuffer.numberOfChannels;++se)for(Oe=ue.outputBuffer.getChannelData(se),Ke=Q.qa,it=0;it<S;it+=1)Oe[it]=Ke[it*d+se];else for(se=0;se<ue.outputBuffer.numberOfChannels;++se)ue.outputBuffer.getChannelData(se).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){Q.Ba=Q.K.createMediaStreamSource(ue),Q.Ba.connect(Q.Y),Q.Y.connect(Q.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&Q.Y.connect(Q.K.destination),Q.ob=U,window.h.rc(Q)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(j)};function g(){var f=ge[+ar>>2];return ar+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var O=f[S];O==="."?f.splice(S,1):O===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},x=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},X=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},de=f=>{if(f==="/")return"/";f=x(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Lt("initRandomDevice")},$e=f=>($e=Ie())(f),tt=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(O=>!!O),!_).join("/"),(_?"/":"")+d||"."},He=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&He)return He.decode(f.subarray(d,_));for(S="";d<_;){var O=f[d++];if(O&128){var U=f[d++]&63;if((O&224)==192)S+=String.fromCharCode((O&31)<<6|U);else{var Q=f[d++]&63;O=(O&240)==224?(O&15)<<12|U<<6|Q:(O&7)<<18|U<<12|Q<<6|f[d++]&63,65536>O?S+=String.fromCharCode(O):(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else S+=String.fromCharCode(O)}return S},Kt=[],Cn=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},sn=(f,d,_,S)=>{if(!(0<S))return 0;var O=_;S=_+S-1;for(var U=0;U<f.length;++U){var Q=f.charCodeAt(U);if(55296<=Q&&57343>=Q){var $=f.charCodeAt(++U);Q=65536+((Q&1023)<<10)|$&1023}if(127>=Q){if(_>=S)break;d[_++]=Q}else{if(2047>=Q){if(_+1>=S)break;d[_++]=192|Q>>6}else{if(65535>=Q){if(_+2>=S)break;d[_++]=224|Q>>12}else{if(_+3>=S)break;d[_++]=240|Q>>18,d[_++]=128|Q>>12&63}d[_++]=128|Q>>6&63}d[_++]=128|Q&63}}return d[_]=0,_-O};function jn(f,d){var _=Array(Cn(f)+1);return f=sn(f,_,0,_.length),d&&(_.length=f),_}var Yn=[];function jt(f,d){Yn[f]={input:[],G:[],V:d},hi(f,In)}var In={open(f){var d=Yn[f.node.xa];if(!d)throw new Ye(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new Ye(60);for(var O=0,U=0;U<S;U++){try{var Q=f.s.V.hb(f.s)}catch{throw new Ye(29)}if(Q===void 0&&O===0)throw new Ye(6);if(Q==null)break;O++,d[_+U]=Q}return O&&(f.node.timestamp=Date.now()),O},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new Ye(60);try{for(var O=0;O<S;O++)f.s.V.Ma(f.s,d[_+O])}catch{throw new Ye(29)}return S&&(f.node.timestamp=Date.now()),O}},Nn={hb(){e:{if(!Kt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}Kt=jn(f,!0)}f=Kt.shift()}return f},Ma(f,d){d===null||d===10?(re(Je(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(re(Je(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Xn={Ma(f,d){d===null||d===10?(H(Je(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(H(Je(f.G,0)),f.G=[])}};function qi(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var ut={N:null,U(){return ut.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new Ye(63);return ut.N||(ut.N={dir:{node:{X:ut.j.X,P:ut.j.P,ja:ut.j.ja,ta:ut.j.ta,sb:ut.j.sb,yb:ut.j.yb,tb:ut.j.tb,rb:ut.j.rb,Ca:ut.j.Ca},stream:{aa:ut.m.aa}},file:{node:{X:ut.j.X,P:ut.j.P},stream:{aa:ut.m.aa,read:ut.m.read,write:ut.m.write,Xa:ut.m.Xa,kb:ut.m.kb,mb:ut.m.mb}},link:{node:{X:ut.j.X,P:ut.j.P,la:ut.j.la},stream:{}},$a:{node:{X:ut.j.X,P:ut.j.P},stream:ci}}),_=ct(f,d,_,S),(_.mode&61440)===16384?(_.j=ut.N.dir.node,_.m=ut.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=ut.N.file.node,_.m=ut.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=ut.N.link.node,_.m=ut.N.link.stream):(_.mode&61440)===8192&&(_.j=ut.N.$a.node,_.m=ut.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw ma[44]},ta(f,d,_,S){return ut.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=ke(d,_)}catch{}if(S)for(var O in S.l)throw new Ye(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=ke(f,d),S;for(S in _.l)throw new Ye(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=ut.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new Ye(28);return f.link}},m:{read(f,d,_,S,O){var U=f.node.l;if(O>=f.node.v)return 0;if(f=Math.min(f.node.v-O,S),8<f&&U.subarray)d.set(U.subarray(O,O+f),_);else for(S=0;S<f;S++)d[_+S]=U[O+S];return f},write(f,d,_,S,O,U){if(d.buffer===Ce.buffer&&(U=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(U)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&O===0)return f.l=d.slice(_,_+S),f.v=S;if(O+S<=f.v)return f.l.set(d.subarray(_,_+S),O),S}if(qi(f,O+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),O);else for(U=0;U<S;U++)f.l[O+U]=d[_+U];return f.v=Math.max(f.v,O+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new Ye(28);return d},Xa(f,d,_){qi(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,O){if((f.node.mode&61440)!==32768)throw new Ye(43);if(f=f.node.l,O&2||f.buffer!==Ce.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Lt(),d=void 0,!d)throw new Ye(48);Ce.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return ut.m.write(f,d,0,S,_,!1),0}}},Bn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},Rt=null,Gi={},Yi=[],Ni=1,ir=null,Tr=!0,Ye=class{constructor(f){this.name="ErrnoError",this.$=f}},ma={},wi=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},le=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=Ni++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function me(f,d={}){if(f=tt(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Ye(32);f=f.split("/").filter(Q=>!!Q);for(var _=Rt,S="/",O=0;O<f.length;O++){var U=O===f.length-1;if(U&&d.parent)break;if(_=ke(_,f[O]),S=x(S+"/"+f[O]),_.ua&&(!U||U&&d.gb)&&(_=_.ua.root),!U||d.fb){for(U=0;(_.mode&61440)===40960;)if(_=vo(S),S=tt(X(S),_),_=me(S,{Oa:d.Oa+1}).node,40<U++)throw new Ye(32)}}return{path:S,node:_}}function be(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function De(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%ir.length}function ke(f,d){var _=(f.mode&61440)===16384?(_=gt(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new Ye(_);for(_=ir[De(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function ct(f,d,_,S){return f=new le(f,d,_,S),d=De(f.parent.id,f.name),f.ec=ir[d],ir[d]=f}function Be(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function gt(f,d){if(Tr)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function qe(f,d){try{return ke(f,d),20}catch{}return gt(f,"wx")}function _t(f){if(f=Yi[f],!f)throw new Ye(8);return f}function tn(f,d=-1){if(f=Object.assign(new wi,f),d==-1)e:{for(d=0;4096>=d;d++)if(!Yi[d])break e;throw new Ye(33)}return f.W=d,Yi[d]=f}function Fn(f,d=-1){return f=tn(f,d),f.m?.Ec?.(f),f}var ci={open(f){f.m=Gi[f.node.xa].m,f.m.open?.(f)},aa(){throw new Ye(70)}};function hi(f,d){Gi[f]={m:d}}function mn(f,d){var _=d==="/";if(_&&Rt)throw new Ye(10);if(!_&&d){var S=me(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Ye(10);if((S.mode&61440)!==16384)throw new Ye(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?Rt=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function Ar(f,d,_){var S=me(f,{parent:!0}).node;if(f=de(f),!f||f==="."||f==="..")throw new Ye(28);var O=qe(S,f);if(O)throw new Ye(O);if(!S.j.ta)throw new Ye(63);return S.j.ta(S,f,d,_)}function Xi(f){return Ar(f,16895,0)}function Qi(f,d,_){typeof _>"u"&&(_=d,d=438),Ar(f,d|8192,_)}function rr(f,d){if(!tt(f))throw new Ye(44);var _=me(d,{parent:!0}).node;if(!_)throw new Ye(44);d=de(d);var S=qe(_,d);if(S)throw new Ye(S);if(!_.j.Ca)throw new Ye(63);_.j.Ca(_,d,f)}function vo(f){if(f=me(f).node,!f)throw new Ye(44);if(!f.j.la)throw new Ye(28);return tt(be(f.parent),f.j.la(f))}function pa(f,d,_){if(f==="")throw new Ye(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var O=f;else{f=x(f);try{O=me(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(O){if(d&128)throw new Ye(20)}else O=Ar(f,_,0),S=!0;if(!O)throw new Ye(44);if((O.mode&61440)===8192&&(d&=-513),d&65536&&(O.mode&61440)!==16384)throw new Ye(54);if(!S&&(_=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(Be(d)!=="r"||d&512)?31:gt(O,Be(d)):44))throw new Ye(_);if(d&512&&!S){if(_=O,_=typeof _=="string"?me(_,{fb:!0}).node:_,!_.j.P)throw new Ye(63);if((_.mode&61440)===16384)throw new Ye(31);if((_.mode&61440)!==32768)throw new Ye(28);if(S=gt(_,"w"))throw new Ye(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,O=tn({node:O,path:be(O),flags:d,seekable:!0,position:0,m:O.m,sc:[],error:!1}),O.m.open&&O.m.open(O),!j.logReadFiles||d&1||(Qn||={},f in Qn||(Qn[f]=1)),O}function Es(f,d,_){if(f.W===null)throw new Ye(8);if(!f.seekable||!f.m.aa)throw new Ye(70);if(_!=0&&_!=1&&_!=2)throw new Ye(28);f.position=f.m.aa(f,d,_),f.sc=[]}var _o;function Ur(f,d,_){f=x("/dev/"+f);var S=Bn(!!d,!!_);Vi||=64;var O=Vi++<<8|0;hi(O,{open(U){U.seekable=!1},close(){_?.buffer?.length&&_(10)},read(U,Q,$,ue){for(var se=0,Oe=0;Oe<ue;Oe++){try{var Ke=d()}catch{throw new Ye(29)}if(Ke===void 0&&se===0)throw new Ye(6);if(Ke==null)break;se++,Q[$+Oe]=Ke}return se&&(U.node.timestamp=Date.now()),se},write(U,Q,$,ue){for(var se=0;se<ue;se++)try{_(Q[$+se])}catch{throw new Ye(29)}return ue&&(U.node.timestamp=Date.now()),se}}),Qi(f,S,O)}var Vi,Tn={},Qn,ar=void 0,jr=(f,d)=>Object.defineProperty(d,"name",{value:f}),nn=[],Ei=[],ft,vi=f=>{if(!f)throw new ft("Cannot use deleted val. handle = "+f);return Ei[f]},Vn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=nn.pop()||Ei.length;return Ei[d]=f,Ei[d+1]=1,d}},La=f=>{var d=Error,_=jr(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},bo,Ts,pn=f=>{for(var d="";P[f];)d+=Ts[P[f++]];return d},ga=[],zr=()=>{for(;ga.length;){var f=ga.pop();f.g.ea=!1,f.delete()}},ni,sr={},Ua=(f,d)=>{if(d===void 0)throw new ft("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},Sr={},ja=f=>{f=yc(f);var d=pn(f);return Zi(f),d},ya=(f,d)=>{var _=Sr[f];if(_===void 0)throw f=`${d} has unknown type ${ja(f)}`,new ft(f);return _},Rr=()=>{},va=!1,or=(f,d,_)=>d===_?f:_.C===void 0?null:(f=or(f,d,_.C),f===null?null:_.Lb(f)),As={},lr=(f,d)=>(d=Ua(f,d),sr[d]),ur,Ki=(f,d)=>{if(!d.u||!d.o)throw new ur("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new ur("Both smartPtrType and smartPtr must be specified");return d.count={value:1},cr(Object.create(f,{g:{value:d,writable:!0}}))},cr=f=>typeof FinalizationRegistry>"u"?(cr=d=>d,f):(va=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),cr=d=>{var _=d.g;return _.F&&va.register(d,{g:_},d),d},Rr=d=>{va.unregister(d)},cr(f)),ta={},hr=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function Ti(f){return this.fromWireType(Re[f>>2])}var fi={},Br={},Ot=(f,d,_)=>{function S($){if($=_($),$.length!==f.length)throw new ur("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Pi(f[ue],$[ue])}f.forEach(function($){Br[$]=d});var O=Array(d.length),U=[],Q=0;d.forEach(($,ue)=>{Sr.hasOwnProperty($)?O[ue]=Sr[$]:(U.push($),fi.hasOwnProperty($)||(fi[$]=[]),fi[$].push(()=>{O[ue]=Sr[$],++Q,Q===U.length&&S(O)}))}),U.length===0&&S(O)};function Fr(f,d,_={}){var S=d.name;if(!f)throw new ft(`type "${S}" must have a positive integer typeid pointer`);if(Sr.hasOwnProperty(f)){if(_.Vb)return;throw new ft(`Cannot register type '${S}' twice`)}Sr[f]=d,delete Br[f],fi.hasOwnProperty(f)&&(d=fi[f],delete fi[f],d.forEach(O=>O()))}function Pi(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Fr(f,d,_)}var na=f=>{throw new ft(f.g.u.i.name+" instance already deleted")};function _a(){}var ia=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...O){if(!f[d].A.hasOwnProperty(O.length))throw new ft(`Function '${_}' called with an invalid number of arguments (${O.length}) - expects one of (${f[d].A})!`);return f[d].A[O.length].apply(this,O)},f[d].A=[],f[d].A[S.da]=S}},Cr=(f,d,_)=>{if(j.hasOwnProperty(f)){if(_===void 0||j[f].A!==void 0&&j[f].A[_]!==void 0)throw new ft(`Cannot register public name '${f}' twice`);if(ia(j,f,f),j.hasOwnProperty(_))throw new ft(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);j[f].A[_]=d}else j[f]=d,_!==void 0&&(j[f].Lc=_)},Ir=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function di(f,d,_,S,O,U,Q,$){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=O,this.Qb=U,this.ma=Q,this.Lb=$,this.pb=[]}var fr=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new ft(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Hr(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Is(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);return fr(d.g.o,d.g.u.i,this.i)}function ba(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new ft(`Cannot pass "${Is(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=fr(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ft("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Vn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new ft("Unsupporting sharing policy")}}return _}function wo(f,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Is(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return fr(d.g.o,d.g.u.i,this.i)}function Mr(f,d,_,S,O,U,Q,$,ue,se,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=O,this.hc=U,this.mc=Q,this.qb=$,this.Na=ue,this.ic=se,this.O=Oe,O||d.C!==void 0?this.toWireType=ba:(this.toWireType=S?Hr:wo,this.L=null)}var za=(f,d,_)=>{if(!j.hasOwnProperty(f))throw new ur("Replacing nonexistent public symbol");j[f].A!==void 0&&_!==void 0?j[f].A[_]=d:(j[f]=d,j[f].da=_)},Wi=[],Ba,Ss=f=>{var d=Wi[f];return d||(f>=Wi.length&&(Wi.length=f+1),Wi[f]=d=Ba.get(f)),d},Fa=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,j["dynCall_"+f])(d,..._)):d=Ss(d)(..._),d),Wo=(f,d)=>(..._)=>Fa(f,d,_),$n=(f,d)=>{f=pn(f);var _=f.includes("j")?Wo(f,d):Ss(d);if(typeof _!="function")throw new ft(`unknown function pointer with signature ${f}: ${d}`);return _},wa,$i=(f,d)=>{function _(U){O[U]||Sr[U]||(Br[U]?Br[U].forEach(_):(S.push(U),O[U]=!0))}var S=[],O={};throw d.forEach(_),new wa(`${f}: `+S.map(ja).join([", "]))};function $o(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function ra(f,d,_,S,O){var U=d.length;if(2>U)throw new ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var Q=d[1]!==null&&_!==null,$=$o(d),ue=d[0].name!=="void",se=U-2,Oe=Array(se),Ke=[],it=[];return jr(f,function(...J){if(J.length!==se)throw new ft(`function ${f} called with ${J.length} arguments, expected ${se}`);if(it.length=0,Ke.length=Q?2:1,Ke[0]=O,Q){var je=d[1].toWireType(it,this);Ke[1]=je}for(var Ze=0;Ze<se;++Ze)Oe[Ze]=d[Ze+2].toWireType(it,J[Ze]),Ke.push(Oe[Ze]);if(J=S(...Ke),$)hr(it);else for(Ze=Q?1:2;Ze<d.length;Ze++){var ze=Ze===1?je:Oe[Ze-2];d[Ze].L!==null&&d[Ze].L(ze)}return je=ue?d[0].fromWireType(J):void 0,je})}var Ha=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Re[d+4*S>>2]);return _},Rs=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Dr=(f,d,_)=>{if(!(f instanceof Object))throw new ft(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new ft(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new ft(`cannot call emscripten binding method ${_} on deleted object`);return fr(f.g.o,f.g.u.i,d.i)},Cs=f=>{9<f&&--Ei[f+1]===0&&(Ei[f]=void 0,nn.push(f))},Jo={name:"emscripten::val",fromWireType:f=>{var d=vi(f);return Cs(f),d},toWireType:(f,d)=>Vn(d),argPackAdvance:8,readValueFromPointer:Ti,L:null},Zo=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Ce[S])}:function(S){return this.fromWireType(P[S])};case 2:return _?function(S){return this.fromWireType(ie[S>>1])}:function(S){return this.fromWireType(Ee[S>>1])};case 4:return _?function(S){return this.fromWireType(ge[S>>2])}:function(S){return this.fromWireType(Re[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Is=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},Ea=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(Qe[_>>2])};case 8:return function(_){return this.fromWireType(st[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},Ai=(f,d,_)=>{switch(d){case 1:return _?S=>Ce[S]:S=>P[S];case 2:return _?S=>ie[S>>1]:S=>Ee[S>>1];case 4:return _?S=>ge[S>>2]:S=>Re[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Eo=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,el=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Ee[_];)++_;if(_<<=1,32<_-f&&Eo)return Eo.decode(P.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var O=ie[f+2*S>>1];if(O==0)break;_+=String.fromCharCode(O)}return _},aa=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var O=0;O<_;++O)ie[d>>1]=f.charCodeAt(O),d+=2;return ie[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var O=ge[f+4*_>>2];if(O==0)break;++_,65536<=O?(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023)):S+=String.fromCharCode(O)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var O=0;O<f.length;++O){var U=f.charCodeAt(O);if(55296<=U&&57343>=U){var Q=f.charCodeAt(++O);U=65536+((U&1023)<<10)|Q&1023}if(ge[d>>2]=U,d+=4,d+4>_)break}return ge[d>>2]=0,d-S},N=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},te=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Re[d>>2]=Vn(S)),f},fe={},Ue=f=>{var d=fe[f];return d===void 0?pn(f):d},At=[],Hn=f=>{var d=At.length;return At.push(f),d},rn=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=ya(Re[d+4*S>>2],"parameter "+S);return _},Dn=Reflect.construct,ki=[],dr={},mr=()=>{if(!Ji){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in dr)dr[d]===void 0?delete f[d]:f[d]=dr[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);Ji=_}return Ji},Ji,qr=f=>f%4===0&&(f%100!==0||f%400===0),qa=[31,29,31,30,31,30,31,31,30,31,30,31],Ga=[31,28,31,30,31,30,31,31,30,31,30,31],vf=(f,d,_,S)=>{function O(J,je,Ze){for(J=typeof J=="number"?J.toString():J||"";J.length<je;)J=Ze[0]+J;return J}function U(J,je){return O(J,je,"0")}function Q(J,je){function Ze(on){return 0>on?-1:0<on?1:0}var ze;return(ze=Ze(J.getFullYear()-je.getFullYear()))===0&&(ze=Ze(J.getMonth()-je.getMonth()))===0&&(ze=Ze(J.getDate()-je.getDate())),ze}function $(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function ue(J){var je=J.ba;for(J=new Date(new Date(J.ca+1900,0,1).getTime());0<je;){var Ze=J.getMonth(),ze=(qr(J.getFullYear())?qa:Ga)[Ze];if(je>ze-J.getDate())je-=ze-J.getDate()+1,J.setDate(1),11>Ze?J.setMonth(Ze+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1));else{J.setDate(J.getDate()+je);break}}return Ze=new Date(J.getFullYear()+1,0,4),je=$(new Date(J.getFullYear(),0,4)),Ze=$(Ze),0>=Q(je,J)?0>=Q(Ze,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}var se=Re[S+40>>2];S={pc:ge[S>>2],oc:ge[S+4>>2],Da:ge[S+8>>2],Qa:ge[S+12>>2],Ea:ge[S+16>>2],ca:ge[S+20>>2],R:ge[S+24>>2],ba:ge[S+28>>2],Nc:ge[S+32>>2],nc:ge[S+36>>2],qc:se&&se?Je(P,se):""},_=_?Je(P,_):"",se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in se)_=_.replace(new RegExp(Oe,"g"),se[Oe]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),it="January February March April May June July August September October November December".split(" ");se={"%a":J=>Ke[J.R].substring(0,3),"%A":J=>Ke[J.R],"%b":J=>it[J.Ea].substring(0,3),"%B":J=>it[J.Ea],"%C":J=>U((J.ca+1900)/100|0,2),"%d":J=>U(J.Qa,2),"%e":J=>O(J.Qa,2," "),"%g":J=>ue(J).toString().substring(2),"%G":ue,"%H":J=>U(J.Da,2),"%I":J=>(J=J.Da,J==0?J=12:12<J&&(J-=12),U(J,2)),"%j":J=>{for(var je=0,Ze=0;Ze<=J.Ea-1;je+=(qr(J.ca+1900)?qa:Ga)[Ze++]);return U(J.Qa+je,3)},"%m":J=>U(J.Ea+1,2),"%M":J=>U(J.oc,2),"%n":()=>`
`,"%p":J=>0<=J.Da&&12>J.Da?"AM":"PM","%S":J=>U(J.pc,2),"%t":()=>"	","%u":J=>J.R||7,"%U":J=>U(Math.floor((J.ba+7-J.R)/7),2),"%V":J=>{var je=Math.floor((J.ba+7-(J.R+6)%7)/7);if(2>=(J.R+371-J.ba-2)%7&&je++,je)je==53&&(Ze=(J.R+371-J.ba)%7,Ze==4||Ze==3&&qr(J.ca)||(je=1));else{je=52;var Ze=(J.R+7-J.ba-1)%7;(Ze==4||Ze==5&&qr(J.ca%400-1))&&je++}return U(je,2)},"%w":J=>J.R,"%W":J=>U(Math.floor((J.ba+7-(J.R+6)%7)/7),2),"%y":J=>(J.ca+1900).toString().substring(2),"%Y":J=>J.ca+1900,"%z":J=>{J=J.nc;var je=0<=J;return J=Math.abs(J)/60,(je?"+":"-")+("0000"+(J/60*100+J%60)).slice(-4)},"%Z":J=>J.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in se)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),se[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=jn(_,!1),Oe.length>d?0:(Ce.set(Oe,f),Oe.length-1)};[44].forEach(f=>{ma[f]=new Ye(f),ma[f].stack="<generic error, no stack>"}),ir=Array(4096),mn(ut,"/"),Xi("/tmp"),Xi("/home"),Xi("/home/web_user"),(function(){Xi("/dev"),hi(259,{read:()=>0,write:(S,O,U,Q)=>Q}),Qi("/dev/null",259),jt(1280,Nn),jt(1536,Xn),Qi("/dev/tty",1280),Qi("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=$e(f).byteLength),f[--d]);Ur("random",_),Ur("urandom",_),Xi("/dev/shm"),Xi("/dev/shm/tmp")})(),(function(){Xi("/proc");var f=Xi("/proc/self");Xi("/proc/self/fd"),mn({U(){var d=ct(f,"fd",16895,73);return d.j={ja(_,S){var O=_t(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>O.path}},_.parent=_}},d}},"/proc/self/fd")})(),ft=j.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Ei.push(0,1,void 0,1,null,1,!0,1,!1,1),j.count_emval_handles=()=>Ei.length/2-5-nn.length,bo=j.PureVirtualError=La("PureVirtualError");for(var gc=Array(256),tl=0;256>tl;++tl)gc[tl]=String.fromCharCode(tl);Ts=gc,j.getInheritedInstanceCount=()=>Object.keys(sr).length,j.getLiveInheritedInstances=()=>{var f=[],d;for(d in sr)sr.hasOwnProperty(d)&&f.push(sr[d]);return f},j.flushPendingDeletes=zr,j.setDelayFunction=f=>{ni=f,ga.length&&ni&&ni(zr)},ur=j.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(_a.prototype,{isAliasOf:function(f){if(!(this instanceof _a&&f instanceof _a))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||na(this),this.g.ha)return this.g.count.value+=1,this;var f=cr,d=Object,_=d.create,S=Object.getPrototypeOf(this),O=this.g;return f=f(_.call(d,S,{g:{value:{count:O.count,ea:O.ea,ha:O.ha,o:O.o,u:O.u,F:O.F,J:O.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||na(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");Rr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||na(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");return ga.push(this),ga.length===1&&ni&&ni(zr),this.g.ea=!0,this}}),Object.assign(Mr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:Ti,fromWireType:function(f){function d(){return this.sa?Ki(this.i.M,{u:this.hc,o:_,J:this,F:f}):Ki(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=lr(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=As[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var O=or(_,this.i,S.i);return O===null?d.call(this):this.sa?Ki(S.i.M,{u:S,o:O,J:this,F:f}):Ki(S.i.M,{u:S,o:O})}}),wa=j.UnboundTypeError=La("UnboundTypeError");var eu={__syscall_fcntl64:function(f,d,_){ar=_;try{var S=_t(f);switch(d){case 0:var O=g();if(0>O)break;for(;Yi[O];)O++;return Fn(S,O).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return O=g(),S.flags|=O,0;case 12:return O=g(),ie[O+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(U){if(typeof Tn>"u"||U.name!=="ErrnoError")throw U;return-U.$}},__syscall_ioctl:function(f,d,_){ar=_;try{var S=_t(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var O=g();ge[O>>2]=25856,ge[O+4>>2]=5,ge[O+8>>2]=191,ge[O+12>>2]=35387;for(var U=0;32>U;U++)Ce[O+U+17]=f[U]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(O=g(),f=[],U=0;32>U;U++)f.push(Ce[O+U+17]);return 0;case 21519:return S.s?(O=g(),ge[O>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(O=g(),!S.m.Wb)throw new Ye(59);return S.m.Wb(S,d,O);case 21523:return S.s?(S.s.V.Zb&&(U=[24,80],O=g(),ie[O>>1]=U[0],ie[O+2>>1]=U[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(Q){if(typeof Tn>"u"||Q.name!=="ErrnoError")throw Q;return-Q.$}},__syscall_openat:function(f,d,_,S){ar=S;try{d=d?Je(P,d):"";var O=d;if(O.charAt(0)==="/")d=O;else{var U=f===-100?"/":_t(f).path;if(O.length==0)throw new Ye(44);d=x(U+"/"+O)}var Q=S?g():0;return pa(d,_,Q).W}catch($){if(typeof Tn>"u"||$.name!=="ErrnoError")throw $;return-$.$}},_abort_js:()=>{Lt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=pn(f),d=ya(d,"wrapper"),_=vi(_);var S=d.i,O=S.M,U=S.C.M,Q=S.C.constructor;return f=jr(f,function(...$){S.C.pb.forEach((function(ue){if(this[ue]===U[ue])throw new bo(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:O}),this.__construct(...$)}),O.__construct=function(...$){if(this===O)throw new ft("Pass correct 'this' to __construct");$=Q.implement(this,...$),Rr($);var ue=$.g;if($.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),cr(this),$=ue.o,$=Ua(S,$),sr.hasOwnProperty($))throw new ft(`Tried to register registered instance: ${$}`);sr[$]=this},O.__destruct=function(){if(this===O)throw new ft("Pass correct 'this' to __destruct");Rr(this);var $=this.g.o;if($=Ua(S,$),sr.hasOwnProperty($))delete sr[$];else throw new ft(`Tried to unregister unregistered instance: ${$}`)},f.prototype=Object.create(O),Object.assign(f.prototype,_),Vn(f)},_embind_finalize_value_object:f=>{var d=ta[f];delete ta[f];var _=d.Na,S=d.O,O=d.eb,U=O.map(Q=>Q.Ub).concat(O.map(Q=>Q.kc));Ot([f],U,Q=>{var $={};return O.forEach((ue,se)=>{var Oe=Q[se],Ke=ue.Sb,it=ue.Tb,J=Q[se+O.length],je=ue.jc,Ze=ue.lc;$[ue.Ob]={read:ze=>Oe.fromWireType(Ke(it,ze)),write:(ze,on)=>{var We=[];je(Ze,ze,J.toWireType(We,on)),hr(We)}}}),[{name:d.name,fromWireType:ue=>{var se={},Oe;for(Oe in $)se[Oe]=$[Oe].read(ue);return S(ue),se},toWireType:(ue,se)=>{for(var Oe in $)if(!(Oe in se))throw new TypeError(`Missing field: "${Oe}"`);var Ke=_();for(Oe in $)$[Oe].write(Ke,se[Oe]);return ue!==null&&ue.push(S,Ke),Ke},argPackAdvance:8,readValueFromPointer:Ti,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=pn(d),Pi(f,{name:d,fromWireType:function(O){return!!O},toWireType:function(O,U){return U?_:S},argPackAdvance:8,readValueFromPointer:function(O){return this.fromWireType(P[O])},L:null})},_embind_register_class:(f,d,_,S,O,U,Q,$,ue,se,Oe,Ke,it)=>{Oe=pn(Oe),U=$n(O,U),$&&=$n(Q,$),se&&=$n(ue,se),it=$n(Ke,it);var J=Ir(Oe);Cr(J,function(){$i(`Cannot construct ${Oe} due to unbound types`,[S])}),Ot([f,d,_],S?[S]:[],je=>{if(je=je[0],S)var Ze=je.i,ze=Ze.M;else ze=_a.prototype;je=jr(Oe,function(...gn){if(Object.getPrototypeOf(this)!==on)throw new ft("Use 'new' to construct "+Oe);if(We.Z===void 0)throw new ft(Oe+" has no accessible constructor");var Jn=We.Z[gn.length];if(Jn===void 0)throw new ft(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${gn.length}) - expected (${Object.keys(We.Z).toString()}) parameters instead!`);return Jn.apply(this,gn)});var on=Object.create(ze,{constructor:{value:je}});je.prototype=on;var We=new di(Oe,je,on,it,Ze,U,$,se);if(We.C){var Pt;(Pt=We.C).na??(Pt.na=[]),We.C.na.push(We)}return Ze=new Mr(Oe,We,!0,!1,!1),Pt=new Mr(Oe+"*",We,!1,!1,!1),ze=new Mr(Oe+" const*",We,!1,!0,!1),As[f]={pointerType:Pt,Hb:ze},za(J,je),[Ze,Pt,ze]})},_embind_register_class_class_function:(f,d,_,S,O,U,Q)=>{var $=Ha(_,S);d=pn(d),d=Rs(d),U=$n(O,U),Ot([],[f],ue=>{function se(){$i(`Cannot call ${Oe} due to unbound types`,$)}ue=ue[0];var Oe=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ke=ue.i.constructor;return Ke[d]===void 0?(se.da=_-1,Ke[d]=se):(ia(Ke,d,Oe),Ke[d].A[_-1]=se),Ot([],$,it=>{if(it=ra(Oe,[it[0],null].concat(it.slice(1)),null,U,Q),Ke[d].A===void 0?(it.da=_-1,Ke[d]=it):Ke[d].A[_-1]=it,ue.i.na)for(const J of ue.i.na)J.constructor.hasOwnProperty(d)||(J.constructor[d]=it);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,O,U,Q,$)=>{d=pn(d),U=$n(O,U),Ot([],[f],ue=>{ue=ue[0];var se=`${ue.name}.${d}`,Oe={get(){$i(`Cannot access ${se} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=$?()=>{$i(`Cannot access ${se} due to unbound types`,[_])}:()=>{throw new ft(`${se} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,Oe),Ot([],[_],Ke=>{Ke=Ke[0];var it={get(){return Ke.fromWireType(U(S))},enumerable:!0};return $&&($=$n(Q,$),it.set=J=>{var je=[];$(S,Ke.toWireType(je,J)),hr(je)}),Object.defineProperty(ue.i.constructor,d,it),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,O,U)=>{var Q=Ha(d,_);O=$n(S,O),Ot([],[f],$=>{$=$[0];var ue=`constructor ${$.name}`;if($.i.Z===void 0&&($.i.Z=[]),$.i.Z[d-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${$.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return $.i.Z[d-1]=()=>{$i(`Cannot construct ${$.name} due to unbound types`,Q)},Ot([],Q,se=>(se.splice(1,0,null),$.i.Z[d-1]=ra(ue,se,null,O,U),[])),[]})},_embind_register_class_function:(f,d,_,S,O,U,Q,$)=>{var ue=Ha(_,S);d=pn(d),d=Rs(d),U=$n(O,U),Ot([],[f],se=>{function Oe(){$i(`Cannot call ${Ke} due to unbound types`,ue)}se=se[0];var Ke=`${se.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),$&&se.i.pb.push(d);var it=se.i.M,J=it[d];return J===void 0||J.A===void 0&&J.className!==se.name&&J.da===_-2?(Oe.da=_-2,Oe.className=se.name,it[d]=Oe):(ia(it,d,Ke),it[d].A[_-2]=Oe),Ot([],ue,je=>(je=ra(Ke,je,se,U,Q),it[d].A===void 0?(je.da=_-2,it[d]=je):it[d].A[_-2]=je,[])),[]})},_embind_register_class_property:(f,d,_,S,O,U,Q,$,ue,se)=>{d=pn(d),O=$n(S,O),Ot([],[f],Oe=>{Oe=Oe[0];var Ke=`${Oe.name}.${d}`,it={get(){$i(`Cannot access ${Ke} due to unbound types`,[_,Q])},enumerable:!0,configurable:!0};return it.set=ue?()=>$i(`Cannot access ${Ke} due to unbound types`,[_,Q]):()=>{throw new ft(Ke+" is a read-only property")},Object.defineProperty(Oe.i.M,d,it),Ot([],ue?[_,Q]:[_],J=>{var je=J[0],Ze={get(){var on=Dr(this,Oe,Ke+" getter");return je.fromWireType(O(U,on))},enumerable:!0};if(ue){ue=$n($,ue);var ze=J[1];Ze.set=function(on){var We=Dr(this,Oe,Ke+" setter"),Pt=[];ue(se,We,ze.toWireType(Pt,on)),hr(Pt)}}return Object.defineProperty(Oe.i.M,d,Ze),[]}),[]})},_embind_register_emval:f=>Pi(f,Jo),_embind_register_enum:(f,d,_,S)=>{function O(){}d=pn(d),O.values={},Pi(f,{name:d,constructor:O,fromWireType:function(U){return this.constructor.values[U]},toWireType:(U,Q)=>Q.value,argPackAdvance:8,readValueFromPointer:Zo(d,_,S),L:null}),Cr(d,O)},_embind_register_enum_value:(f,d,_)=>{var S=ya(f,"enum");d=pn(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:jr(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=pn(d),Pi(f,{name:d,fromWireType:S=>S,toWireType:(S,O)=>O,argPackAdvance:8,readValueFromPointer:Ea(d,_),L:null})},_embind_register_function:(f,d,_,S,O,U)=>{var Q=Ha(d,_);f=pn(f),f=Rs(f),O=$n(S,O),Cr(f,function(){$i(`Cannot call ${f} due to unbound types`,Q)},d-1),Ot([],Q,$=>(za(f,ra(f,[$[0],null].concat($.slice(1)),null,O,U),d-1),[]))},_embind_register_integer:(f,d,_,S,O)=>{if(d=pn(d),O===-1&&(O=4294967295),O=$=>$,S===0){var U=32-8*_;O=$=>$<<U>>>U}var Q=d.includes("unsigned")?function($,ue){return ue>>>0}:function($,ue){return ue};Pi(f,{name:d,fromWireType:O,toWireType:Q,argPackAdvance:8,readValueFromPointer:Ai(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(U){return new O(Ce.buffer,Re[U+4>>2],Re[U>>2])}var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=pn(_),Pi(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=pn(d);var _=d==="std::string";Pi(f,{name:d,fromWireType:function(S){var O=Re[S>>2],U=S+4;if(_)for(var Q=U,$=0;$<=O;++$){var ue=U+$;if($==O||P[ue]==0){if(Q=Q?Je(P,Q,ue-Q):"",se===void 0)var se=Q;else se+="\0",se+=Q;Q=ue+1}}else{for(se=Array(O),$=0;$<O;++$)se[$]=String.fromCharCode(P[U+$]);se=se.join("")}return Zi(S),se},toWireType:function(S,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var U=typeof O=="string";if(!(U||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int8Array))throw new ft("Cannot pass non-string to std::string");var Q=_&&U?Cn(O):O.length,$=Ya(4+Q+1),ue=$+4;if(Re[$>>2]=Q,_&&U)sn(O,P,ue,Q+1);else if(U)for(U=0;U<Q;++U){var se=O.charCodeAt(U);if(255<se)throw Zi(ue),new ft("String has UTF-16 code units that do not fit in 8 bits");P[ue+U]=se}else for(U=0;U<Q;++U)P[ue+U]=O[U];return S!==null&&S.push(Zi,$),$},argPackAdvance:8,readValueFromPointer:Ti,L(S){Zi(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=pn(_),d===2)var S=el,O=aa,U=u,Q=$=>Ee[$>>1];else d===4&&(S=y,O=A,U=N,Q=$=>Re[$>>2]);Pi(f,{name:_,fromWireType:$=>{for(var ue=Re[$>>2],se,Oe=$+4,Ke=0;Ke<=ue;++Ke){var it=$+4+Ke*d;(Ke==ue||Q(it)==0)&&(Oe=S(Oe,it-Oe),se===void 0?se=Oe:(se+="\0",se+=Oe),Oe=it+d)}return Zi($),se},toWireType:($,ue)=>{if(typeof ue!="string")throw new ft(`Cannot pass non-string to C++ string type ${_}`);var se=U(ue),Oe=Ya(4+se+d);return Re[Oe>>2]=se/d,O(ue,Oe+4,se+d),$!==null&&$.push(Zi,Oe),Oe},argPackAdvance:8,readValueFromPointer:Ti,L($){Zi($)}})},_embind_register_value_object:(f,d,_,S,O,U)=>{ta[f]={name:pn(d),Na:$n(_,S),O:$n(O,U),eb:[]}},_embind_register_value_object_field:(f,d,_,S,O,U,Q,$,ue,se)=>{ta[f].eb.push({Ob:pn(d),Ub:_,Sb:$n(S,O),Tb:U,kc:Q,jc:$n($,ue),lc:se})},_embind_register_void:(f,d)=>{d=pn(d),Pi(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>P.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=vi(f),d=ya(d,"emval::as"),te(d,_,f)),_emval_call_method:(f,d,_,S,O)=>(f=At[f],d=vi(d),_=Ue(_),f(d,d[_],S,O)),_emval_decref:Cs,_emval_get_method_caller:(f,d,_)=>{var S=rn(f,d),O=S.shift();f--;var U=Array(f);return d=`methodCaller<(${S.map(Q=>Q.name).join(", ")}) => ${O.name}>`,Hn(jr(d,(Q,$,ue,se)=>{for(var Oe=0,Ke=0;Ke<f;++Ke)U[Ke]=S[Ke].readValueFromPointer(se+Oe),Oe+=S[Ke].argPackAdvance;return Q=_===1?Dn($,U):$.apply(Q,U),te(O,ue,Q)}))},_emval_get_module_property:f=>(f=Ue(f),Vn(j[f])),_emval_get_property:(f,d)=>(f=vi(f),d=vi(d),Vn(f[d])),_emval_incref:f=>{9<f&&(Ei[f+1]+=1)},_emval_new_array:()=>Vn([]),_emval_new_cstring:f=>Vn(Ue(f)),_emval_new_object:()=>Vn({}),_emval_run_destructors:f=>{var d=vi(f);hr(d),Cs(f)},_emval_set_property:(f,d,_)=>{f=vi(f),d=vi(d),_=vi(_),f[d]=_},_emval_take_value:(f,d)=>(f=ya(f,"_emval_take_value"),f=f.readValueFromPointer(d),Vn(f)),emscripten_asm_const_int:(f,d,_)=>{ki.length=0;for(var S;S=P[d++];){var O=S!=105;O&=S!=112,_+=O&&_%8?4:0,ki.push(S==112?Re[_>>2]:S==105?ge[_>>2]:st[_>>3]),_+=O?8:4}return En[f](...ki)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=P.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var O=Math;S=Math.max(f,S);e:{O=(O.min.call(O,2147483648,S+(65536-S%65536)%65536)-ye.buffer.byteLength+65535)/65536;try{ye.grow(O),lt();var U=1;break e}catch{}U=void 0}if(U)return!0}return!1},environ_get:(f,d)=>{var _=0;return mr().forEach((S,O)=>{var U=d+_;for(O=Re[f+4*O>>2]=U,U=0;U<S.length;++U)Ce[O++]=S.charCodeAt(U);Ce[O]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=mr();Re[f>>2]=_.length;var S=0;return _.forEach(O=>S+=O.length+1),Re[d>>2]=S,0},fd_close:function(f){try{var d=_t(f);if(d.W===null)throw new Ye(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{Yi[d.W]=null}return d.W=null,0}catch(_){if(typeof Tn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var O=_t(f);f=d;for(var U,Q=d=0;Q<_;Q++){var $=Re[f>>2],ue=Re[f+4>>2];f+=8;var se=O,Oe=U,Ke=Ce;if(0>ue||0>Oe)throw new Ye(28);if(se.W===null)throw new Ye(8);if((se.flags&2097155)===1)throw new Ye(8);if((se.node.mode&61440)===16384)throw new Ye(31);if(!se.m.read)throw new Ye(28);var it=typeof Oe<"u";if(!it)Oe=se.position;else if(!se.seekable)throw new Ye(70);var J=se.m.read(se,Ke,$,ue,Oe);it||(se.position+=J);var je=J;if(0>je){var Ze=-1;break e}if(d+=je,je<ue)break;typeof U<"u"&&(U+=je)}Ze=d}return Re[S>>2]=Ze,0}catch(ze){if(typeof Tn>"u"||ze.name!=="ErrnoError")throw ze;return ze.$}},fd_seek:function(f,d,_,S,O){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var U=_t(f);return Es(U,d,S),$t=[U.position>>>0,(Gn=U.position,1<=+Math.abs(Gn)?0<Gn?+Math.floor(Gn/4294967296)>>>0:~~+Math.ceil((Gn-+(~~Gn>>>0))/4294967296)>>>0:0)],ge[O>>2]=$t[0],ge[O+4>>2]=$t[1],U.Ka&&d===0&&S===0&&(U.Ka=null),0}catch(Q){if(typeof Tn>"u"||Q.name!=="ErrnoError")throw Q;return Q.$}},fd_write:function(f,d,_,S){try{e:{var O=_t(f);f=d;for(var U,Q=d=0;Q<_;Q++){var $=Re[f>>2],ue=Re[f+4>>2];f+=8;var se=O,Oe=$,Ke=ue,it=U,J=Ce;if(0>Ke||0>it)throw new Ye(28);if(se.W===null)throw new Ye(8);if((se.flags&2097155)===0)throw new Ye(8);if((se.node.mode&61440)===16384)throw new Ye(31);if(!se.m.write)throw new Ye(28);se.seekable&&se.flags&1024&&Es(se,0,2);var je=typeof it<"u";if(!je)it=se.position;else if(!se.seekable)throw new Ye(70);var Ze=se.m.write(se,J,Oe,Ke,it,void 0);je||(se.position+=Ze);var ze=Ze;if(0>ze){var on=-1;break e}d+=ze,typeof U<"u"&&(U+=ze)}on=d}return Re[S>>2]=on,0}catch(We){if(typeof Tn>"u"||We.name!=="ErrnoError")throw We;return We.$}},strftime_l:(f,d,_,S)=>vf(f,d,_,S)},Pn=(function(){function f(_){return Pn=_.exports,ye=Pn.memory,lt(),Ba=Pn.__indirect_function_table,Et.unshift(Pn.__wasm_call_ctors),Tt--,j.monitorRunDependencies?.(Tt),Tt==0&&Nt&&(_=Nt,Nt=null,_()),Pn}var d={env:eu,wasi_snapshot_preview1:eu};if(Tt++,j.monitorRunDependencies?.(Tt),j.instantiateWasm)try{return j.instantiateWasm(d,f)}catch(_){H(`Module.instantiateWasm callback failed with error: ${_}`),Te(_)}return en||=xn("canvas_advanced.wasm")?"canvas_advanced.wasm":j.locateFile?j.locateFile("canvas_advanced.wasm",k):k+"canvas_advanced.wasm",Hi(d,function(_){f(_.instance)}).catch(Te),{}})(),Zi=f=>(Zi=Pn.free)(f),Ya=f=>(Ya=Pn.malloc)(f),yc=f=>(yc=Pn.__getTypeName)(f),To=j._ma_device__on_notification_unlocked=f=>(To=j._ma_device__on_notification_unlocked=Pn.ma_device__on_notification_unlocked)(f);j._ma_malloc_emscripten=(f,d)=>(j._ma_malloc_emscripten=Pn.ma_malloc_emscripten)(f,d),j._ma_free_emscripten=(f,d)=>(j._ma_free_emscripten=Pn.ma_free_emscripten)(f,d);var tu=j._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(tu=j._ma_device_process_pcm_frames_capture__webaudio=Pn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),nu=j._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(nu=j._ma_device_process_pcm_frames_playback__webaudio=Pn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);j.dynCall_iiji=(f,d,_,S,O)=>(j.dynCall_iiji=Pn.dynCall_iiji)(f,d,_,S,O),j.dynCall_jiji=(f,d,_,S,O)=>(j.dynCall_jiji=Pn.dynCall_jiji)(f,d,_,S,O),j.dynCall_iiiji=(f,d,_,S,O,U)=>(j.dynCall_iiiji=Pn.dynCall_iiiji)(f,d,_,S,O,U),j.dynCall_iij=(f,d,_,S)=>(j.dynCall_iij=Pn.dynCall_iij)(f,d,_,S),j.dynCall_jii=(f,d,_)=>(j.dynCall_jii=Pn.dynCall_jii)(f,d,_),j.dynCall_viijii=(f,d,_,S,O,U,Q)=>(j.dynCall_viijii=Pn.dynCall_viijii)(f,d,_,S,O,U,Q),j.dynCall_iiiiij=(f,d,_,S,O,U,Q)=>(j.dynCall_iiiiij=Pn.dynCall_iiiiij)(f,d,_,S,O,U,Q),j.dynCall_iiiiijj=(f,d,_,S,O,U,Q,$,ue)=>(j.dynCall_iiiiijj=Pn.dynCall_iiiiijj)(f,d,_,S,O,U,Q,$,ue),j.dynCall_iiiiiijj=(f,d,_,S,O,U,Q,$,ue,se)=>(j.dynCall_iiiiiijj=Pn.dynCall_iiiiiijj)(f,d,_,S,O,U,Q,$,ue,se);var Ms;Nt=function f(){Ms||nl(),Ms||(Nt=f)};function nl(){function f(){if(!Ms&&(Ms=!0,j.calledRun=!0,!he)){if(j.noFSInit||_o||(_o=!0,j.stdin=j.stdin,j.stdout=j.stdout,j.stderr=j.stderr,j.stdin?Ur("stdin",j.stdin):rr("/dev/tty","/dev/stdin"),j.stdout?Ur("stdout",null,j.stdout):rr("/dev/tty","/dev/stdout"),j.stderr?Ur("stderr",null,j.stderr):rr("/dev/tty1","/dev/stderr"),pa("/dev/stdin",0),pa("/dev/stdout",1),pa("/dev/stderr",1)),Tr=!1,R(Et),xe(j),j.onRuntimeInitialized&&j.onRuntimeInitialized(),j.postRun)for(typeof j.postRun=="function"&&(j.postRun=[j.postRun]);j.postRun.length;){var d=j.postRun.shift();dn.unshift(d)}R(dn)}}if(!(0<Tt)){if(j.preRun)for(typeof j.preRun=="function"&&(j.preRun=[j.preRun]);j.preRun.length;)ht();R(yt),0<Tt||(j.setStatus?(j.setStatus("Running..."),setTimeout(function(){setTimeout(function(){j.setStatus("")},1),f()},1)):f())}}if(j.preInit)for(typeof j.preInit=="function"&&(j.preInit=[j.preInit]);0<j.preInit.length;)j.preInit.pop()();return nl(),ee=Ne,ee})})();const M=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function M(L,q,ee,j){this.animation=L,this.artboard=q,this.playing=j,this.loopCount=0,this.scrubTo=null,this.instance=new ee.LinearAnimationInstance(L,q)}return Object.defineProperty(M.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"time",{get:function(){return this.instance.time},set:function(L){this.instance.time=L},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),M.prototype.advance=function(L){this.scrubTo===null?this.instance.advance(L):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},M.prototype.apply=function(L){this.instance.apply(L)},M.prototype.cleanup=function(){this.instance.delete()},M})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>L.AudioAssetWrapper,AudioWrapper:()=>L.AudioWrapper,BLANK_URL:()=>M.BLANK_URL,CustomFileAssetLoaderWrapper:()=>L.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>L.FileAssetWrapper,FileFinalizer:()=>L.FileFinalizer,FontAssetWrapper:()=>L.FontAssetWrapper,FontWrapper:()=>L.FontWrapper,ImageAssetWrapper:()=>L.ImageAssetWrapper,ImageWrapper:()=>L.ImageWrapper,createFinalization:()=>L.createFinalization,finalizationRegistry:()=>L.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>M.sanitizeUrl});var E=w(6),M=w(7),L=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>L});var E=void 0,M=function(q,ee,j){var xe,Te,Ne=[];if(["touchstart","touchmove"].indexOf(q.type)>-1&&(!((xe=q.changedTouches)===null||xe===void 0)&&xe.length)){ee||q.preventDefault();for(var Ve=0,Le=j?q.changedTouches.length:1;Ve<Le;){var Pe=q.changedTouches[Ve];Ne.push({clientX:Pe.clientX,clientY:Pe.clientY,identifier:Pe.identifier}),Ve++}}else if(q.type==="touchend"&&(!((Te=q.changedTouches)===null||Te===void 0)&&Te.length))for(var Ve=0,Le=j?q.changedTouches.length:1;Ve<Le;){var Pe=q.changedTouches[Ve];Ne.push({clientX:Pe.clientX,clientY:Pe.clientY,identifier:Pe.identifier}),Ve++}else Ne.push({clientX:q.clientX,clientY:q.clientY,identifier:0});return Ne},L=function(q){var ee=q.canvas,j=q.artboard,xe=q.stateMachines,Te=xe===void 0?[]:xe,Ne=q.renderer,Ve=q.rive,Le=q.fit,Pe=q.alignment,Ge=q.isTouchScrollEnabled,Xe=Ge===void 0?!1:Ge,F=q.dispatchPointerExit,z=F===void 0?!0:F,V=q.enableMultiTouch,B=V===void 0?!1:V,C=q.layoutScaleFactor,k=C===void 0?1:C;if(!ee||!Te.length||!Ne||!Ve||!j||typeof window>"u")return null;var I=null,W=!1,re=function(K){if(W&&K instanceof MouseEvent){K.type=="mouseup"&&(W=!1);return}W=Xe&&K.type==="touchend"&&I==="touchstart",I=K.type;var ye=K.currentTarget.getBoundingClientRect(),he=M(K,Xe,B),Ce=Ve.computeAlignment(Le,Pe,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},j.bounds,k),P=new Ve.Mat2D;switch(Ce.invert(P),he.forEach(function(en){var at=en.clientX,cn=en.clientY;if(!(!at&&!cn)){var wn=at-ye.left,Hi=cn-ye.top,Gn=new Ve.Vec2D(wn,Hi),$t=Ve.mapXY(P,Gn),En=$t.x(),R=$t.y();en.transformedX=En,en.transformedY=R,$t.delete(),Gn.delete()}}),P.delete(),Ce.delete(),K.type){case"mouseout":for(var ie=function(en){z?he.forEach(function(at){en.pointerExit(at.transformedX,at.transformedY,at.identifier)}):he.forEach(function(at){en.pointerMove(at.transformedX,at.transformedY,at.identifier)})},Ee=0,ge=Te;Ee<ge.length;Ee++){var Re=ge[Ee];ie(Re)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Qe=function(en){he.forEach(function(at){en.pointerMove(at.transformedX,at.transformedY,at.identifier)})},st=0,lt=Te;st<lt.length;st++){var Re=lt[st];Qe(Re)}break}case"touchstart":case"mousedown":{for(var yt=function(en){he.forEach(function(at){en.pointerDown(at.transformedX,at.transformedY,at.identifier)})},Et=0,dn=Te;Et<dn.length;Et++){var Re=dn[Et];yt(Re)}break}case"touchend":{for(var ht=function(en){he.forEach(function(at){en.pointerUp(at.transformedX,at.transformedY,at.identifier),en.pointerExit(at.transformedX,at.transformedY,at.identifier)})},Tt=0,Nt=Te;Tt<Nt.length;Tt++){var Re=Nt[Tt];ht(Re)}break}case"mouseup":{for(var Lt=function(en){he.forEach(function(at){en.pointerUp(at.transformedX,at.transformedY,at.identifier)})},xn=0,yi=Te;xn<yi.length;xn++){var Re=yi[xn];Lt(Re)}break}}},H=re.bind(E);return ee.addEventListener("mouseover",H),ee.addEventListener("mouseout",H),ee.addEventListener("mousemove",H),ee.addEventListener("mousedown",H),ee.addEventListener("mouseup",H),ee.addEventListener("touchmove",H,{passive:Xe}),ee.addEventListener("touchstart",H,{passive:Xe}),ee.addEventListener("touchend",H),function(){ee.removeEventListener("mouseover",H),ee.removeEventListener("mouseout",H),ee.removeEventListener("mousemove",H),ee.removeEventListener("mousedown",H),ee.removeEventListener("mouseup",H),ee.removeEventListener("touchmove",H),ee.removeEventListener("touchstart",H),ee.removeEventListener("touchend",H)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>xe,sanitizeUrl:()=>Ve});var E=/^([^\w]*)(javascript|data|vbscript)/im,M=/&#(\w+)(^\w|;)?/g,L=/&(newline|tab);/gi,q=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ee=/^.+(:|&colon;)/gim,j=[".","/"],xe="about:blank";function Te(Le){return j.indexOf(Le[0])>-1}function Ne(Le){var Pe=Le.replace(q,"");return Pe.replace(M,function(Ge,Xe){return String.fromCharCode(Xe)})}function Ve(Le){if(!Le)return xe;var Pe=Ne(Le).replace(L,"").replace(q,"").trim();if(!Pe)return xe;if(Te(Pe))return Pe;var Ge=Pe.match(ee);if(!Ge)return Pe;var Xe=Ge[0];return E.test(Xe)?xe:Pe}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>Le,AudioWrapper:()=>j,CustomFileAssetLoaderWrapper:()=>Te,FileAssetWrapper:()=>Ne,FileFinalizer:()=>M,FontAssetWrapper:()=>Pe,FontWrapper:()=>xe,ImageAssetWrapper:()=>Ve,ImageWrapper:()=>ee,createFinalization:()=>z,finalizationRegistry:()=>F});var E=(function(){var V=function(B,C){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,I){k.__proto__=I}||function(k,I){for(var W in I)Object.prototype.hasOwnProperty.call(I,W)&&(k[W]=I[W])},V(B,C)};return function(B,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");V(B,C);function k(){this.constructor=B}B.prototype=C===null?Object.create(C):(k.prototype=C.prototype,new k)}})(),M=(function(){function V(B){this.selfUnref=!1,this._file=B}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),L=(function(){function V(B){this._finalizableObject=B}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),q=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),ee=(function(V){E(B,V);function B(C){var k=V.call(this)||this;return k._nativeImage=C,k}return Object.defineProperty(B.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},B})(q),j=(function(V){E(B,V);function B(C){var k=V.call(this)||this;return k._nativeAudio=C,k}return Object.defineProperty(B.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},B})(q),xe=(function(V){E(B,V);function B(C){var k=V.call(this)||this;return k._nativeFont=C,k}return Object.defineProperty(B.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},B})(q),Te=(function(){function V(B,C){this._assetLoaderCallback=C,this.assetLoader=new B.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(B,C){var k;return B.isImage?k=new Ve(B):B.isAudio?k=new Le(B):B.isFont&&(k=new Pe(B)),this._assetLoaderCallback(k,C)},V})(),Ne=(function(){function V(B){this._nativeFileAsset=B}return V.prototype.decode=function(B){this._nativeFileAsset.decode(B)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Ve=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},B})(Ne),Le=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},B})(Ne),Pe=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},B})(Ne),Ge=(function(){function V(B){}return V.prototype.register=function(B){B.selfUnref=!0},V.prototype.unregister=function(B){},V})(),Xe=typeof FinalizationRegistry<"u"?FinalizationRegistry:Ge,F=new Xe(function(V){V?.unref()}),z=function(V,B){var C=new L(B);F.register(V,C)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Ve,DataEnum:()=>st,EventType:()=>I,Fit:()=>Ne,Layout:()=>Le,LoopType:()=>W,Rive:()=>Re,RiveEventType:()=>F,RiveFile:()=>ge,RuntimeLoader:()=>Pe,StateMachineInput:()=>Xe,StateMachineInputType:()=>Ge,Testing:()=>Hi,ViewModel:()=>Qe,ViewModelInstance:()=>yt,ViewModelInstanceArtboard:()=>at,ViewModelInstanceAssetImage:()=>en,ViewModelInstanceBoolean:()=>Tt,ViewModelInstanceColor:()=>yi,ViewModelInstanceEnum:()=>Lt,ViewModelInstanceList:()=>xn,ViewModelInstanceNumber:()=>ht,ViewModelInstanceString:()=>dn,ViewModelInstanceTrigger:()=>Nt,ViewModelInstanceValue:()=>Et,decodeAudio:()=>Gn,decodeFont:()=>En,decodeImage:()=>$t});var p=l(1),b=l(2),w=l(3),E=l(5),M=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,X){x.__proto__=X}||function(x,X){for(var de in X)Object.prototype.hasOwnProperty.call(X,de)&&(x[de]=X[de])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function x(){this.constructor=g}g.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}})(),L=function(){return L=Object.assign||function(R){for(var g,v=1,x=arguments.length;v<x;v++){g=arguments[v];for(var X in g)Object.prototype.hasOwnProperty.call(g,X)&&(R[X]=g[X])}return R},L.apply(this,arguments)},q=function(R,g,v,x){function X(de){return de instanceof v?de:new v(function(Ie){Ie(de)})}return new(v||(v=Promise))(function(de,Ie){function $e(Je){try{He(x.next(Je))}catch(Kt){Ie(Kt)}}function tt(Je){try{He(x.throw(Je))}catch(Kt){Ie(Kt)}}function He(Je){Je.done?de(Je.value):X(Je.value).then($e,tt)}He((x=x.apply(R,g||[])).next())})},ee=function(R,g){var v={label:0,sent:function(){if(de[0]&1)throw de[1];return de[1]},trys:[],ops:[]},x,X,de,Ie=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ie.next=$e(0),Ie.throw=$e(1),Ie.return=$e(2),typeof Symbol=="function"&&(Ie[Symbol.iterator]=function(){return this}),Ie;function $e(He){return function(Je){return tt([He,Je])}}function tt(He){if(x)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,He[0]&&(v=0)),v;)try{if(x=1,X&&(de=He[0]&2?X.return:He[0]?X.throw||((de=X.return)&&de.call(X),0):X.next)&&!(de=de.call(X,He[1])).done)return de;switch(X=0,de&&(He=[He[0]&2,de.value]),He[0]){case 0:case 1:de=He;break;case 4:return v.label++,{value:He[1],done:!1};case 5:v.label++,X=He[1],He=[0];continue;case 7:He=v.ops.pop(),v.trys.pop();continue;default:if(de=v.trys,!(de=de.length>0&&de[de.length-1])&&(He[0]===6||He[0]===2)){v=0;continue}if(He[0]===3&&(!de||He[1]>de[0]&&He[1]<de[3])){v.label=He[1];break}if(He[0]===6&&v.label<de[1]){v.label=de[1],de=He;break}if(de&&v.label<de[2]){v.label=de[2],v.ops.push(He);break}de[2]&&v.ops.pop(),v.trys.pop();continue}He=g.call(R,v)}catch(Je){He=[6,Je],X=0}finally{x=de=0}if(He[0]&5)throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}},j=function(R,g,v){if(v||arguments.length===2)for(var x=0,X=g.length,de;x<X;x++)(de||!(x in g))&&(de||(de=Array.prototype.slice.call(g,0,x)),de[x]=g[x]);return R.concat(de||Array.prototype.slice.call(g))},xe=(function(R){M(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),Te=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Ne;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Ne||(Ne={}));var Ve;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Ve||(Ve={}));var Le=(function(){function R(g){var v,x,X,de,Ie,$e,tt;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Ne.Contain,this.alignment=(x=g?.alignment)!==null&&x!==void 0?x:Ve.Center,this.layoutScaleFactor=(X=g?.layoutScaleFactor)!==null&&X!==void 0?X:1,this.minX=(de=g?.minX)!==null&&de!==void 0?de:0,this.minY=(Ie=g?.minY)!==null&&Ie!==void 0?Ie:0,this.maxX=($e=g?.maxX)!==null&&$e!==void 0?$e:0,this.maxY=(tt=g?.maxY)!==null&&tt!==void 0?tt:0}return R.new=function(g){var v=g.fit,x=g.alignment,X=g.minX,de=g.minY,Ie=g.maxX,$e=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:x,minX:X,minY:de,maxX:Ie,maxY:$e})},R.prototype.copyWith=function(g){var v=g.fit,x=g.alignment,X=g.layoutScaleFactor,de=g.minX,Ie=g.minY,$e=g.maxX,tt=g.maxY;return new R({fit:v??this.fit,alignment:x??this.alignment,layoutScaleFactor:X??this.layoutScaleFactor,minX:de??this.minX,minY:Ie??this.minY,maxX:$e??this.maxX,maxY:tt??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Ne.Cover?v=g.Fit.cover:this.fit===Ne.Contain?v=g.Fit.contain:this.fit===Ne.Fill?v=g.Fit.fill:this.fit===Ne.FitWidth?v=g.Fit.fitWidth:this.fit===Ne.FitHeight?v=g.Fit.fitHeight:this.fit===Ne.ScaleDown?v=g.Fit.scaleDown:this.fit===Ne.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Ve.TopLeft?v=g.Alignment.topLeft:this.alignment===Ve.TopCenter?v=g.Alignment.topCenter:this.alignment===Ve.TopRight?v=g.Alignment.topRight:this.alignment===Ve.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Ve.CenterRight?v=g.Alignment.centerRight:this.alignment===Ve.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Ve.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Ve.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),Pe=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var x="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==x)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(x),R.loadRuntime();else{var X=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(x,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(X)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),Ge;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(Ge||(Ge={}));var Xe=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===Ge.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),F;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(F||(F={}));var z=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){M(g,R);function g(v,x){var X=R.call(this,!1)||this;return X.nativeArtboard=v,X.file=x,X}return g})(z),B=(function(R){M(g,R);function g(v){var x=R.call(this,!0)||this;return x.selfUnref=!1,x.nativeArtboard=v,x}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(z),C=(function(){function R(g,v,x,X){this.stateMachine=g,this.playing=x,this.artboard=X,this.inputs=[],this.instance=new v.StateMachineInstance(g,X),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var x=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(x,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new Xe(Ge.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new Xe(Ge.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new Xe(Ge.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),k=(function(){function R(g,v,x,X,de){X===void 0&&(X=[]),de===void 0&&(de=[]),this.runtime=g,this.artboard=v,this.eventManager=x,this.animations=X,this.stateMachines=de}return R.prototype.add=function(g,v,x){if(x===void 0&&(x=!0),g=wn(g),g.length===0)this.animations.forEach(function(sn){return sn.playing=v}),this.stateMachines.forEach(function(sn){return sn.playing=v});else for(var X=this.animations.map(function(sn){return sn.name}),de=this.stateMachines.map(function(sn){return sn.name}),Ie=0;Ie<g.length;Ie++){var $e=X.indexOf(g[Ie]),tt=de.indexOf(g[Ie]);if($e>=0||tt>=0)$e>=0?this.animations[$e].playing=v:this.stateMachines[tt].playing=v;else{var He=this.artboard.animationByName(g[Ie]);if(He){var Je=new w.Animation(He,this.artboard,this.runtime,v);Je.advance(0),Je.apply(1),this.animations.push(Je)}else{var Kt=this.artboard.stateMachineByName(g[Ie]);if(Kt){var Cn=new C(Kt,this.runtime,v,this.artboard);this.stateMachines.push(Cn)}}}}return x&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var x=this.animations.map(function(tt){return tt.name}),X=0;X<g.length;X++){var de=x.indexOf(g[X]);if(de>=0)this.animations[de].playing=v;else{var Ie=this.artboard.animationByName(g[X]);if(Ie){var $e=new w.Animation(Ie,this.artboard,this.runtime,v);$e.advance(0),$e.apply(1),this.animations.push($e)}else console.error("Animation with name ".concat(g[X]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var x=this.stateMachines.map(function(tt){return tt.name}),X=0;X<g.length;X++){var de=x.indexOf(g[X]);if(de>=0)this.stateMachines[de].playing=v;else{var Ie=this.artboard.stateMachineByName(g[X]);if(Ie){var $e=new C(Ie,this.runtime,v,this.artboard);this.stateMachines.push($e)}else console.warn("State Machine with name ".concat(g[X]," not found.")),this.initLinearAnimations([g[X]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var x=this.animations.filter(function(X){return g.includes(X.name)});return x.forEach(function(X){return X.scrubTo=v}),x.map(function(X){return X.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=wn(g);var x=[];if(g.length===0)x=this.animations.map(function(Ie){return Ie.name}).concat(this.stateMachines.map(function(Ie){return Ie.name})),this.animations.forEach(function(Ie){return Ie.cleanup()}),this.stateMachines.forEach(function(Ie){return Ie.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var X=this.animations.filter(function(Ie){return g.includes(Ie.name)});X.forEach(function(Ie){Ie.cleanup(),v.animations.splice(v.animations.indexOf(Ie),1)});var de=this.stateMachines.filter(function(Ie){return g.includes(Ie.name)});de.forEach(function(Ie){Ie.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ie),1)}),x=X.map(function(Ie){return Ie.name}).concat(de.map(function(Ie){return Ie.name}))}return this.eventManager.fire({type:I.Stop,data:x}),x},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var x;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([x=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([x=this.artboard.stateMachineByIndex(0).name],g,v)),x},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(X){return X.playing});g<v.length;g++){var x=v[g];x.loopValue===0&&x.loopCount?(x.loopCount=0,this.stop(x.name)):x.loopValue===1&&x.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:x.name,type:W.Loop}}),x.loopCount=0):x.loopValue===2&&x.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:x.name,type:W.PingPong}}),x.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,x=this.stateMachines.filter(function(de){return de.playing});v<x.length;v++){var X=x[v];g.push.apply(g,X.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var W;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(W||(W={}));var re=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var x=this.listeners[v];if(x.type===g.type&&x.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(x){return x.type===g}).forEach(function(x){return v.remove(x)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(x){return x.callback(g)})},R})(),H=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),K;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(K||(K={}));var ye=(function(R){M(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=K.UNAVAILABLE,v}return g.prototype.delay=function(v){return q(this,void 0,void 0,function(){return ee(this,function(x){return[2,new Promise(function(X){return setTimeout(X,v)})]})})},g.prototype.timeout=function(){return q(this,void 0,void 0,function(){return ee(this,function(v){return[2,new Promise(function(x,X){return setTimeout(X,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return q(this,void 0,void 0,function(){return ee(this,function(v){return this._enabled||(this._enabled=!0,this._status=K.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return q(this,void 0,void 0,function(){return ee(this,function(v){switch(v.label){case 0:if(!(this._status===K.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return q(this,void 0,void 0,function(){return ee(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==K.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,x=function(){return q(v,void 0,void 0,function(){return ee(this,function(X){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",x,{once:!0})},g.prototype.establishAudio=function(){return q(this,void 0,void 0,function(){return ee(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===K.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(re),he=new ye,Ce=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),P=globalThis.ResizeObserver||Ce,ie=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var x=g._elementsMap.get(v.target);x!==null?x.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new P(this._onObserved)}return R.prototype.add=function(g,v){var x={onResize:v,element:g};return this._elementsMap.set(g,x),this._resizeObserver.observe(g),x},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Ee=new ie,ge=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new re,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return q(this,void 0,void 0,function(){var g,v,x,X,de;return ee(this,function(Ie){switch(Ie.label){case 0:return this.src?(g=this,[4,cn(this.src)]):[3,2];case 1:g.buffer=Ie.sent(),Ie.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(x=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=x.assetLoader),X=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return X.file=Ie.sent(),de=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,de),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return q(this,void 0,void 0,function(){var g,v;return ee(this,function(x){switch(x.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];x.label=1;case 1:return x.trys.push([1,4,,5]),g=this,[4,Pe.awaitInstance()];case 2:return g.runtime=x.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return x.sent(),[3,5];case 4:return v=x.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new B(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Re=(function(){function R(g){var v=this,x;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(X){var de=v._hasZeroSize!==X;v._hasZeroSize=X,X?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():de&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ee.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(x=g.layout)!==null&&x!==void 0?x:new Le,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new re,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new H(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,x=g.src,X=g.buffer,de=g.riveFile,Ie=g.animations,$e=g.stateMachines,tt=g.artboard,He=g.autoplay,Je=He===void 0?!1:He,Kt=g.useOffscreenRenderer,Cn=Kt===void 0?!1:Kt,sn=g.autoBind,jn=sn===void 0?!1:sn;if(!this.destroyed){if(this.src=x,this.buffer=X,this.riveFile=de,!this.src&&!this.buffer&&!this.riveFile)throw new xe(R.missingErrorMessage);var Yn=wn(Ie),jt=wn($e);this.loaded=!1,this.readyForPlaying=!1,Pe.awaitInstance().then(function(In){v.destroyed||(v.runtime=In,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Cn),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(tt,Yn,jt,Je,jn).then(function(Nn){if(Nn)return v.setupRiveListeners()}).catch(function(Nn){console.error(Nn)}))}).catch(function(In){console.error(In)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var x=(this.animator.stateMachines||[]).filter(function($e){return $e.playing&&v.runtime.hasListeners($e.instance)}).map(function($e){return $e.instance}),X=this.isTouchScrollEnabled,de=this.dispatchPointerExit,Ie=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(X=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:x,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:X,dispatchPointerExit:de,enableMultiTouch:Ie,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;he.status==K.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,x,X,de){return q(this,void 0,void 0,function(){var Ie,$e,tt,He;return ee(this,function(Je){switch(Je.label){case 0:return Je.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ie=new ge({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ie,[4,Ie.init()]);case 1:if(Je.sent(),this.destroyed)return Ie.destroyIfUnused(),[2,!1];Je.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,x,X,de),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(He=this.src)!==null&&He!==void 0?He:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return $e=Je.sent(),tt=Te($e),console.warn(tt),this.eventManager.fire({type:I.LoadError,data:tt}),[2,Promise.reject(tt)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,x,X,de){if(this.file){var Ie=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ie){var $e="Invalid artboard name or no default artboard";console.warn($e),this.eventManager.fire({type:I.LoadError,data:$e});return}this.artboard=Ie,Ie.volume=this._volume*he.systemVolume,this.animator=new k(this.runtime,this.artboard,this.eventManager);var tt;if(v.length>0||x.length>0?(tt=v.concat(x),this.animator.initLinearAnimations(v,X),this.animator.initStateMachines(x,X)):tt=[this.animator.atLeastOne(X,!1)],this.taskQueue.add({event:{type:X?I.Play:I.Pause,data:tt}}),de){var He=this.file.defaultArtboardViewModel(Ie);if(He!==null){var Je=He.defaultInstance();if(Je!==null){var Kt=new yt(Je,null);(0,E.createFinalization)(Kt,Kt.runtimeInstance),this.bindViewModelInstance(Kt)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var x;this.frameRequestId=null;var X=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var de=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ie=this.animator.animations.filter(function(Gi){return Gi.playing||Gi.needsScrub}).sort(function(Gi){return Gi.needsScrub?-1:1}),$e=0,tt=Ie;$e<tt.length;$e++){var He=tt[$e];He.advance(de),He.instance.didLoop&&(He.loopCount+=1),He.apply(1)}for(var Je=this.animator.stateMachines.filter(function(Gi){return Gi.playing}),Kt=0,Cn=Je;Kt<Cn.length;Kt++){var sn=Cn[Kt],jn=sn.reportedEventCount();if(jn)for(var Yn=0;Yn<jn;Yn++){var jt=sn.reportedEventAt(Yn);if(jt)if(jt.type===F.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:jt}),this.automaticallyHandleEvents){var In=document.createElement("a"),Nn=jt,Xn=Nn.url,qi=Nn.target,ut=(0,E.sanitizeUrl)(Xn);Xn&&In.setAttribute("href",ut),qi&&In.setAttribute("target",qi),ut&&ut!==E.BLANK_URL&&In.click()}}else this.eventManager.fire({type:I.RiveEvent,data:jt})}sn.advanceAndApply(de)}this.animator.stateMachines.length==0&&this.artboard.advance(de);var Bn=this.renderer;Bn.clear(),Bn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Bn),Bn.restore(),Bn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(de),this.frameCount++;var Rt=performance.now();for(this.frameTimes.push(Rt),this.durations.push(Rt-X);this.frameTimes[0]<=Rt-1e3;)this.frameTimes.shift(),this.durations.shift();(x=this._viewModelInstance)===null||x===void 0||x.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,x=g.runtime,X=g._layout,de=g.artboard;v.align(X.runtimeFit(x),X.runtimeAlignment(x),{minX:X.minX,minY:X.minY,maxX:X.maxX,maxY:X.maxY},de.bounds,this._devicePixelRatioUsed*X.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ee.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var x=this.artboard.textRun(g);if(!x){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return x},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var x=this.retrieveTextRun(g);x&&(x.text=v)},R.prototype.play=function(g,v){var x=this;if(g=wn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return x.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=wn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var x=this;if(g=wn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return x.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=wn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,x,X=g?.artboard,de=wn(g?.animations),Ie=wn(g?.stateMachines),$e=(v=g?.autoplay)!==null&&v!==void 0?v:!1,tt=(x=g?.autoBind)!==null&&x!==void 0?x:!1;this.cleanupInstances(),this.initArtboard(X,de,Ie,$e,tt),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),x=v.width,X=v.height,de=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=de,this.canvas.width=de*x,this.canvas.height=de*X,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Ne.Layout){var Ie=this._layout.layoutScaleFactor;this.artboard.width=x/Ie,this.artboard.height=X/Ie}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(x){return x.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var x=this.artboard.inputByPath(g,v);if(!x){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return x},R.prototype.setBooleanStateAtPath=function(g,v,x){var X=this.retrieveInputAtPath(g,x);X&&(X.type===Ge.Boolean?X.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(x,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,x){var X=this.retrieveInputAtPath(g,x);X&&(X.type===Ge.Number?X.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(x,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var x=this.retrieveInputAtPath(g,v);x&&(x.type===Ge.Trigger?x.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var x=this.artboard.textByPath(g,v);if(!x){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return x},R.prototype.getTextRunValueAtPath=function(g,v){var x=this.retrieveTextAtPath(g,v);if(!x){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return x.text},R.prototype.setTextRunValueAtPath=function(g,v,x){var X=this.retrieveTextAtPath(g,x);if(!X){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(x,"'"));return}X.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var x=this.file.artboardByIndex(v),X={name:x.name,animations:[],stateMachines:[]},de=0;de<x.animationCount();de++){var Ie=x.animationByIndex(de);X.animations.push(Ie.name)}for(var $e=0;$e<x.stateMachineCount();$e++){for(var tt=x.stateMachineByIndex($e),He=tt.name,Je=new this.runtime.StateMachineInstance(tt,x),Kt=[],Cn=0;Cn<Je.inputCount();Cn++){var sn=Je.input(Cn);Kt.push({name:sn.name,type:sn.type})}X.stateMachines.push({name:He,inputs:Kt})}g.artboards.push(X)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(x){return x.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new Qe(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new Qe(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new st(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new Qe(g)}return null},R.prototype.getArtboard=function(g){var v,x;return(x=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&x!==void 0?x:null},R.prototype.getBindableArtboard=function(g){var v,x;return(x=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&x!==void 0?x:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),Qe=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var x=new yt(v,null);return(0,E.createFinalization)(x,v),x}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var x=new yt(v,null);return(0,E.createFinalization)(x,v),x}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new yt(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new yt(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),st=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),lt;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(lt||(lt={}));var yt=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var x=this._parents[v];x.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(x){x.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(x){return x!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(x){x.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(x){x.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(x){return x!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(x){x.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var x=g.split("/");return this.propertyFromPathSegments(x,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var x=this.internalViewModelInstance(g[v]);return x!==null?v==g.length-1?x:x.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,x){var X,de,Ie,$e,tt,He,Je,Kt,Cn,sn,jn,Yn,jt,In,Nn,Xn,qi,ut;if(v<g.length-1){var Bn=this.internalViewModelInstance(g[v]);return Bn!==null?Bn.propertyFromPathSegments(g,v+1,x):null}var Rt=null;switch(x){case lt.Number:if(Rt=(de=(X=this._runtimeInstance)===null||X===void 0?void 0:X.number(g[v]))!==null&&de!==void 0?de:null,Rt!==null)return new ht(Rt,this);break;case lt.String:if(Rt=($e=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.string(g[v]))!==null&&$e!==void 0?$e:null,Rt!==null)return new dn(Rt,this);break;case lt.Boolean:if(Rt=(He=(tt=this._runtimeInstance)===null||tt===void 0?void 0:tt.boolean(g[v]))!==null&&He!==void 0?He:null,Rt!==null)return new Tt(Rt,this);break;case lt.Color:if(Rt=(Kt=(Je=this._runtimeInstance)===null||Je===void 0?void 0:Je.color(g[v]))!==null&&Kt!==void 0?Kt:null,Rt!==null)return new yi(Rt,this);break;case lt.Trigger:if(Rt=(sn=(Cn=this._runtimeInstance)===null||Cn===void 0?void 0:Cn.trigger(g[v]))!==null&&sn!==void 0?sn:null,Rt!==null)return new Nt(Rt,this);break;case lt.Enum:if(Rt=(Yn=(jn=this._runtimeInstance)===null||jn===void 0?void 0:jn.enum(g[v]))!==null&&Yn!==void 0?Yn:null,Rt!==null)return new Lt(Rt,this);break;case lt.List:if(Rt=(In=(jt=this._runtimeInstance)===null||jt===void 0?void 0:jt.list(g[v]))!==null&&In!==void 0?In:null,Rt!==null)return new xn(Rt,this);break;case lt.Image:if(Rt=(Xn=(Nn=this._runtimeInstance)===null||Nn===void 0?void 0:Nn.image(g[v]))!==null&&Xn!==void 0?Xn:null,Rt!==null)return new en(Rt,this);break;case lt.Artboard:if(Rt=(ut=(qi=this._runtimeInstance)===null||qi===void 0?void 0:qi.artboard(g[v]))!==null&&ut!==void 0?ut:null,Rt!==null)return new at(Rt,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var x=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(x!==null){var X=new R(x,this);return(0,E.createFinalization)(X,x),X.internalIncrementReferenceCount(),this._viewModelInstances.set(g,X),X}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,lt.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,lt.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,lt.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,lt.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,lt.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,lt.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,lt.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,lt.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,lt.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),x=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return x!=null?x.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var x;if(v.runtimeInstance!==null){var X=((x=this._runtimeInstance)===null||x===void 0?void 0:x.replaceViewModel(g,v.runtimeInstance))||!1;if(X){v.internalIncrementReferenceCount();var de=this.internalViewModelInstance(g);de!==null&&(de.removeParent(this),this._children.includes(de)&&(this._children=this._children.filter(function(Ie){return Ie!==de})),de.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return X}return!1},R.prototype.replaceViewModel=function(g,v){var x,X=g.split("/"),de=X.length>1?this.viewModelFromPathSegments(X.slice(0,X.length-1),0):this;return(x=de?.internalReplaceViewModel(X[X.length-1],v))!==null&&x!==void 0?x:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return L({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(de){de.cleanup()}),this._viewModelInstances.clear();var x=j([],this._children,!0);this._children.length=0;var X=j([],this._parents,!0);this._parents.length=0,x.forEach(function(de){de.removeParent(g)}),X.forEach(function(de){de.removeFromViewModelCallbacks(g)})}},R})(),Et=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),dn=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Et),ht=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Et),Tt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Et),Nt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Et),Lt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Et),xn=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,x){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,x)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var x=this._viewModelInstanceValue.instanceAt(v);if(x!=null){var X=new yt(x,this._parentViewModel);return(0,E.createFinalization)(X,x),X}return null},g.prototype.swap=function(v,x){this._viewModelInstanceValue.swap(v,x)},g.prototype.internalHandleCallback=function(v){v()},g})(Et),yi=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,x,X){this._viewModelInstanceValue.rgb(v,x,X)},g.prototype.rgba=function(v,x,X,de){this._viewModelInstanceValue.argb(de,v,x,X)},g.prototype.argb=function(v,x,X,de){this._viewModelInstanceValue.argb(v,x,X,de)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Et),en=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var x;this._viewModelInstanceValue.value((x=v?.nativeImage)!==null&&x!==void 0?x:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Et),at=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var x,X;v.isBindableArtboard?X=v:X=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((x=X?.nativeArtboard)!==null&&x!==void 0?x:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Et),cn=function(R){return q(void 0,void 0,void 0,function(){var g,v,x;return ee(this,function(X){switch(X.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=X.sent(),[4,v.arrayBuffer()];case 2:return x=X.sent(),[2,x]}})})},wn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},Hi={EventManager:re,TaskQueueManager:H},Gn=function(R){return q(void 0,void 0,void 0,function(){var g,v,x;return ee(this,function(X){switch(X.label){case 0:return g=new Promise(function(de){return Pe.getInstance(function(Ie){Ie.decodeAudio(R,de)})}),[4,g];case 1:return v=X.sent(),x=new E.AudioWrapper(v),E.finalizationRegistry.register(x,v),[2,x]}})})},$t=function(R){return q(void 0,void 0,void 0,function(){var g,v,x;return ee(this,function(X){switch(X.label){case 0:return g=new Promise(function(de){return Pe.getInstance(function(Ie){Ie.decodeImage(R,de)})}),[4,g];case 1:return v=X.sent(),x=new E.ImageWrapper(v),E.finalizationRegistry.register(x,v),[2,x]}})})},En=function(R){return q(void 0,void 0,void 0,function(){var g,v,x;return ee(this,function(X){switch(X.label){case 0:return g=new Promise(function(de){return Pe.getInstance(function(Ie){Ie.decodeFont(R,de)})}),[4,g];case 1:return v=X.sent(),x=new E.FontWrapper(v),E.finalizationRegistry.register(x,v),[2,x]}})})}})(),c})())})(Eh)),Eh.exports}var t_;function f1(){return t_||(t_=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=ef(),i=h1();function s(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=s(e),c=function(){return c=Object.assign||function(C){for(var k,I=1,W=arguments.length;I<W;I++)for(var re in k=arguments[I])Object.prototype.hasOwnProperty.call(k,re)&&(C[re]=k[re]);return C},c.apply(this,arguments)};function p(C,k){var I={};for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&k.indexOf(W)<0&&(I[W]=C[W]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var re=0;for(W=Object.getOwnPropertySymbols(C);re<W.length;re++)k.indexOf(W[re])<0&&Object.prototype.propertyIsEnumerable.call(C,W[re])&&(I[W[re]]=C[W[re]])}return I}function b(C,k,I,W){return new(I||(I=Promise))(function(re,H){function K(Ce){try{he(W.next(Ce))}catch(P){H(P)}}function ye(Ce){try{he(W.throw(Ce))}catch(P){H(P)}}function he(Ce){var P;Ce.done?re(Ce.value):(P=Ce.value,P instanceof I?P:new I(function(ie){ie(P)})).then(K,ye)}he((W=W.apply(C,[])).next())})}function w(C,k){var I,W,re,H,K={label:0,sent:function(){if(1&re[0])throw re[1];return re[1]},trys:[],ops:[]};return H={next:ye(0),throw:ye(1),return:ye(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function ye(he){return function(Ce){return(function(P){if(I)throw new TypeError("Generator is already executing.");for(;K;)try{if(I=1,W&&(re=2&P[0]?W.return:P[0]?W.throw||((re=W.return)&&re.call(W),0):W.next)&&!(re=re.call(W,P[1])).done)return re;switch(W=0,re&&(P=[2&P[0],re.value]),P[0]){case 0:case 1:re=P;break;case 4:return K.label++,{value:P[1],done:!1};case 5:K.label++,W=P[1],P=[0];continue;case 7:P=K.ops.pop(),K.trys.pop();continue;default:if(re=K.trys,!((re=re.length>0&&re[re.length-1])||P[0]!==6&&P[0]!==2)){K=0;continue}if(P[0]===3&&(!re||P[1]>re[0]&&P[1]<re[3])){K.label=P[1];break}if(P[0]===6&&K.label<re[1]){K.label=re[1],re=P;break}if(re&&K.label<re[2]){K.label=re[2],K.ops.push(P);break}re[2]&&K.ops.pop(),K.trys.pop();continue}P=k.call(C,K)}catch(ie){P=[6,ie],W=0}finally{I=re=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}})([he,Ce])}}}function E(C){var k=C||M(),I=e.useState(k),W=I[0],re=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var H=function(){var ye=C||M();re(ye)},K=window.matchMedia("screen and (resolution: ".concat(W,"dppx)"));return K.hasOwnProperty("addEventListener")?K.addEventListener("change",H):K.addListener(H),function(){K.hasOwnProperty("removeEventListener")?K.removeEventListener("change",H):K.removeListener(H)}}},[W,C]),W}function M(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var L=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),q=globalThis.ResizeObserver||L,ee=globalThis.ResizeObserver!==void 0,j=!ee;function xe(C,k){k===void 0&&(k=!0);var I=e.useState({width:0,height:0}),W=I[0],re=I[1];e.useEffect(function(){if(typeof window<"u"&&k){var Ce=function(){re({width:window.innerWidth,height:window.innerHeight})};return j&&(Ce(),window.addEventListener("resize",Ce)),function(){return window.removeEventListener("resize",Ce)}}},[]);var H,K,ye,he=e.useRef(new q((H=function(Ce){ee&&re({width:Ce[Ce.length-1].contentRect.width,height:Ce[Ce.length-1].contentRect.height})},K=0,ye=0,function(){for(var Ce=this,P=[],ie=0;ie<arguments.length;ie++)P[ie]=arguments[ie];clearTimeout(ye),ye=window.setTimeout(function(){return H.apply(Ce,P)},K)})));return e.useEffect(function(){var Ce=he.current;if(k){var P=C.current;return C.current&&ee&&Ce.observe(C.current),function(){Ce.disconnect(),P&&ee&&Ce.unobserve(P)}}Ce.disconnect()},[C,he]),W}var Te={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Ne(C){return Object.assign({},Te,C)}function Ve(C){var k=C.riveLoaded,I=k!==void 0&&k,W=C.canvasElem,re=C.containerRef,H=C.options,K=H===void 0?{}:H,ye=C.onCanvasHasResized,he=C.artboardBounds,Ce=Ne(K),P=e.useState({height:0,width:0}),ie=P[0],Ee=ie.height,ge=ie.width,Re=P[1],Qe=e.useState({height:0,width:0}),st=Qe[0],lt=st.height,yt=st.width,Et=Qe[1],dn=e.useState(!0),ht=dn[0],Tt=dn[1],Nt=Ce.fitCanvasToArtboardHeight,Lt=Ce.shouldResizeCanvasToContainer,xn=Ce.useDevicePixelRatio,yi=Ce.customDevicePixelRatio,en=xe(re,Lt),at=E(yi),cn=he??{},wn=cn.maxX,Hi=cn.maxY,Gn=e.useCallback(function(){var $t,En,R,g,v=(En=($t=re.current)===null||$t===void 0?void 0:$t.clientWidth)!==null&&En!==void 0?En:0,x=(g=(R=re.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Nt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:x}},[re,Nt,wn,Hi]);e.useEffect(function(){if(Lt&&re.current&&I){var $t=Gn(),En=$t.width,R=$t.height,g=!1;if(W){var v=En!==ge||R!==Ee;if(Ce.fitCanvasToArtboardHeight&&v&&(re.current.style.height=R+"px",g=!0),Ce.useDevicePixelRatio){if(v||En*at!==yt||R*at!==lt){var x=at*En,X=at*R;W.width=x,W.height=X,W.style.width=En+"px",W.style.height=R+"px",Et({width:x,height:X}),g=!0}}else v&&(W.width=En,W.height=R,Et({width:En,height:R}),g=!0);Re({width:En,height:R})}ye&&(ht||g)&&ye&&ye(),ht&&Tt(!1)}},[W,re,en,at,Gn,ht,Tt,lt,yt,Ee,ge,ye,Lt,Nt,xn,I]),e.useEffect(function(){Et({width:0,height:0})},[W])}var Le,Pe=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),Ge=globalThis.IntersectionObserver||Pe,Xe=(function(){function C(){var k=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(W){var re=k.elementsMap.get(W.target);re&&re(W)})},this.observer=new Ge(this.onObserved)}return C.prototype.registerCallback=function(k,I){this.observer.observe(k),this.elementsMap.set(k,I)},C.prototype.removeCallback=function(k){this.observer.unobserve(k),this.elementsMap.delete(k)},C})(),F=function(){return Le||(Le=new Xe),Le};function z(C){var k=C.setContainerRef,I=C.setCanvasRef,W=C.className,re=W===void 0?"":W,H=C.style,K=C.children,ye=p(C,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},H);return l.default.createElement("div",c({ref:k,className:re},!re&&{style:he}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ye),K))}function V(C,k){k===void 0&&(k={});var I=e.useState(null),W=I[0],re=I[1],H=e.useRef(null),K=e.useRef(null),ye=e.useState(null),he=ye[0],Ce=ye[1],P=!!C,ie=Ne(k),Ee=E(),ge=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&W){var ht=Ee*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Ee,he.artboardWidth=W?.width/ht,he.artboardHeight=W?.height/ht}he.startRendering(),he.resizeToCanvas()}},[he,Ee]);Ve({riveLoaded:!!he,canvasElem:W,containerRef:H,options:ie,onCanvasHasResized:ge,artboardBounds:he?.bounds});var Re=e.useCallback(function(ht){ht===null&&W&&(W.height=0,W.width=0),re(ht)},[]);e.useEffect(function(){if(W&&C){var ht,Tt=he!=null;if(he==null){var Nt=ie.useOffscreenRenderer,Lt=C.onRiveReady,xn=p(C,["onRiveReady"]);ht=new i.Rive(c(c({useOffscreenRenderer:Nt},xn),{canvas:W})),K.current!=null&&K.current.cleanup(),K.current=ht,ht.on(i.EventType.Load,function(){Tt=!0,Lt&&Lt(ht),W?Ce(ht):ht.cleanup()})}return function(){Tt||ht==null||ht.cleanup()}}},[W,P,he]);var Qe=e.useCallback(function(ht){H.current=ht},[]),st={observe:e.useCallback(function(ht,Tt){F().registerCallback(ht,Tt)},[]),unobserve:e.useCallback(function(ht){F().removeCallback(ht)},[])},lt=st.observe,yt=st.unobserve;e.useEffect(function(){var ht,Tt=!1,Nt=function(){if(W&&Tt){var Lt=W.getBoundingClientRect();Lt.width>0&&Lt.height>0&&Lt.top<(window.innerHeight||document.documentElement.clientHeight)&&Lt.bottom>0&&Lt.left<(window.innerWidth||document.documentElement.clientWidth)&&Lt.right>0&&(he?.startRendering(),Tt=!1)}};return W&&ie.shouldUseIntersectionObserver!==!1&&lt(W,function(Lt){Lt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),Tt=!Lt.isIntersecting,clearTimeout(ht),Lt.isIntersecting||Lt.boundingClientRect.width!==0||(ht=setTimeout(Nt,10))}),function(){W&&yt(W)}},[lt,yt,he,W,ie.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Ce(null))}},[he,W]),e.useEffect(function(){return function(){K.current!=null&&K.current.cleanup()}},[]);var Et=C?.animations;e.useEffect(function(){he&&Et&&(he.isPlaying?(he.stop(he.animationNames),he.play(Et)):he.isPaused&&(he.stop(he.animationNames),he.pause(Et)))},[Et,he]);var dn=e.useCallback(function(ht){return l.default.createElement(z,c({setContainerRef:Qe,setCanvasRef:Re},ht))},[Re,Qe]);return{canvas:W,container:H.current,setCanvasRef:Re,setContainerRef:Qe,rive:he,RiveComponent:dn}}function B(C,k,I){var W=e.useState(null),re=W[0],H=W[1],K=e.useState(I.defaultValue),ye=K[0],he=K[1],Ce=e.useState(null),P=Ce[0],ie=Ce[1],Ee=e.useRef(null),ge=e.useRef(C),Re=e.useRef(I);e.useEffect(function(){Re.current=I},[I]);var Qe=e.useCallback(function(){var Et=Ee.current,dn=ge.current,ht=Re.current;if(!Et||!dn)return H(null),he(ht.defaultValue),ie(null),function(){};var Tt=ht.getProperty(Et,dn);if(Tt){H(Tt),he(ht.getValue(Tt)),ht.getExtendedData&&ie(ht.getExtendedData(Tt));var Nt=function(){he(ht.getValue(Tt)),ht.getExtendedData&&ie(ht.getExtendedData(Tt)),ht.onPropertyEvent&&ht.onPropertyEvent()};return Tt.on(Nt),function(){Tt.off(Nt)}}return function(){}},[]);e.useEffect(function(){return Ee.current=k,ge.current=C,Qe()},[k,C,Qe]);var st=e.useCallback(function(Et){if(re&&Ee.current===k)try{return Et(re),void(Re.current.getExtendedData&&ie(Re.current.getExtendedData(re)))}catch{}if(Ee.current)try{var dn=Re.current.getProperty(Ee.current,ge.current);dn&&(H(dn),Et(dn),Re.current.getExtendedData&&ie(Re.current.getExtendedData(dn)))}catch{}},[re,k]),lt=e.useMemo(function(){return Re.current.buildPropertyOperations(st)},[st]),yt=c({value:ye},lt);return I.getExtendedData&&(yt.extendedData=P),yt}r.default=function(C){var k=C.src,I=C.artboard,W=C.animations,re=C.stateMachines,H=C.layout,K=C.useOffscreenRenderer,ye=K===void 0||K,he=C.shouldDisableRiveListeners,Ce=he!==void 0&&he,P=C.shouldResizeCanvasToContainer,ie=P===void 0||P,Ee=C.automaticallyHandleEvents,ge=Ee!==void 0&&Ee,Re=C.children,Qe=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),st=V({src:k,artboard:I,animations:W,layout:H,stateMachines:re,autoplay:!0,shouldDisableRiveListeners:Ce,automaticallyHandleEvents:ge},{useOffscreenRenderer:ye,shouldResizeCanvasToContainer:ie}).RiveComponent;return l.default.createElement(st,c({},Qe),Re)},r.useResizeCanvas=Ve,r.useRive=V,r.useRiveFile=function(C){var k=this,I=e.useState(null),W=I[0],re=I[1],H=e.useState("idle"),K=H[0],ye=H[1];return e.useEffect(function(){var he=null;return b(k,void 0,void 0,function(){return w(this,function(Ce){try{ye("loading"),(he=new i.RiveFile(C)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),re(he),ye("success")}),he.on(i.EventType.LoadError,function(){ye("failed")}),re(he)}catch(P){console.error(P),ye("failed")}return[2]})}),function(){he?.cleanup()}},[C.src,C.buffer]),{riveFile:W,status:K}},r.useStateMachineInput=function(C,k,I,W){var re=e.useState(null),H=re[0],K=re[1];return e.useEffect(function(){function ye(){if(C&&k&&I||K(null),C&&k&&I){var he=C.stateMachineInputs(k);if(he){var Ce=he.find(function(P){return P.name===I});W!==void 0&&Ce&&(Ce.value=W),K(Ce||null)}}else K(null)}ye(),C&&C.on(i.EventType.Load,function(){ye()})},[C]),H},r.useViewModel=function(C,k){var I=k??{},W=I.name,re=I.useDefault,H=re!==void 0&&re,K=e.useState(null),ye=K[0],he=K[1];return e.useEffect(function(){function Ce(){var P;if(C){var ie=null;ie=W!=null?((P=C.viewModelByName)===null||P===void 0?void 0:P.call(C,W))||null:C.defaultViewModel()||null,he(ie)}else he(null)}return Ce(),C&&C.on(i.EventType.Load,Ce),function(){C&&C.off(i.EventType.Load,Ce)}},[C,W,H]),ye},r.useViewModelInstance=function(C,k){var I=k??{},W=I.name,re=I.useDefault,H=re!==void 0&&re,K=I.useNew,ye=K!==void 0&&K,he=I.rive,Ce=e.useState(null),P=Ce[0],ie=Ce[1];return e.useEffect(function(){var Ee,ge,Re;if(C){var Qe=null;Qe=W!=null?C.instanceByName(W)||null:H?((Ee=C.defaultInstance)===null||Ee===void 0?void 0:Ee.call(C))||null:ye?((ge=C.instance)===null||ge===void 0?void 0:ge.call(C))||null:((Re=C.defaultInstance)===null||Re===void 0?void 0:Re.call(C))||null,ie(Qe),he&&Qe&&he.viewModelInstance!==Qe&&he.bindViewModelInstance(Qe)}else ie(null)},[C,W,H,ye,he]),P},r.useViewModelInstanceArtboard=function(C,k){return{setValue:B(C,k,{getProperty:e.useCallback(function(I,W){return I.artboard(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(W){I(function(re){re.value=W})}}},[])}).setValue}},r.useViewModelInstanceBoolean=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(W,re){return W.boolean(re)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(re){W(function(H){H.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceColor=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(W,re){return W.color(re)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(re){W(function(H){H.value=re})},setRgb:function(re,H,K){W(function(ye){ye.rgb(re,H,K)})},setRgba:function(re,H,K,ye){W(function(he){he.rgba(re,H,K,ye)})},setAlpha:function(re){W(function(H){H.alpha(re)})},setOpacity:function(re){W(function(H){H.opacity(re)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},r.useViewModelInstanceEnum=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(W,re){return W.enum(re)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(W){return W.values},[]),buildPropertyOperations:e.useCallback(function(W){return{setValue:function(re){W(function(H){H.value=re})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},r.useViewModelInstanceImage=function(C,k){return{setValue:B(C,k,{getProperty:e.useCallback(function(I,W){return I.image(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(W){I(function(re){re.value=W})}}},[])}).setValue}},r.useViewModelInstanceList=function(C,k){var I,W=e.useState(0)[1],re=B(C,k,{getProperty:e.useCallback(function(H,K){return H.list(K)},[]),getValue:e.useCallback(function(H){return H.length},[]),defaultValue:null,onPropertyEvent:function(){W(function(H){return H+1})},buildPropertyOperations:e.useCallback(function(H){return{addInstance:function(K){H(function(ye){return ye.addInstance(K)})},addInstanceAt:function(K,ye){var he=!1;return H(function(Ce){he=Ce.addInstanceAt(K,ye)}),he},removeInstance:function(K){H(function(ye){return ye.removeInstance(K)})},removeInstanceAt:function(K){H(function(ye){return ye.removeInstanceAt(K)})},getInstanceAt:function(K){var ye=null;return H(function(he){ye=he.instanceAt(K)}),ye},swap:function(K,ye){H(function(he){return he.swap(K,ye)})}}},[])});return{length:(I=re.value)!==null&&I!==void 0?I:0,addInstance:re.addInstance,addInstanceAt:re.addInstanceAt,removeInstance:re.removeInstance,removeInstanceAt:re.removeInstanceAt,getInstanceAt:re.getInstanceAt,swap:re.swap}},r.useViewModelInstanceNumber=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(W,re){return W.number(re)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(re){W(function(H){H.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceString=function(C,k){var I=B(C,k,{getProperty:e.useCallback(function(W,re){return W.string(re)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(re){W(function(H){H.value=re})}}},[])});return{value:I.value,setValue:I.setValue}},r.useViewModelInstanceTrigger=function(C,k,I){var W=(I??{}).onTrigger;return{trigger:B(C,k,{getProperty:e.useCallback(function(re,H){return re.trigger(H)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:W,buildPropertyOperations:e.useCallback(function(re){return{trigger:function(){re(function(H){H.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||r.hasOwnProperty(C)||Object.defineProperty(r,C,{enumerable:!0,get:function(){return i[C]}})})})(hm)),hm}var ro=f1();const d1=()=>{};var n_={};const U0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},m1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],p=r[i++],b=r[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=r[i++],p=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],p=l+1<r.length,b=p?r[l+1]:0,w=l+2<r.length,E=w?r[l+2]:0,M=c>>2,L=(c&3)<<4|b>>4;let q=(b&15)<<2|E>>6,ee=E&63;w||(ee=64,p||(q=64)),s.push(i[M],i[L],i[q],i[ee])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):m1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],b=l<r.length?i[r.charAt(l)]:0;++l;const E=l<r.length?i[r.charAt(l)]:64;++l;const L=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||b==null||E==null||L==null)throw new p1;const q=c<<2|b>>4;if(s.push(q),E!==64){const ee=b<<4&240|E>>2;if(s.push(ee),L!==64){const j=E<<6&192|L;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g1=function(r){const e=U0(r);return j0.encodeByteArray(e,!0)},Nh=function(r){return g1(r).replace(/\./g,"")},z0=function(r){try{return j0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const v1=()=>y1().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof n_>"u")return;const r=n_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},b1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z0(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return d1()||v1()||_1()||b1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},B0=r=>tf()?.emulatorHosts?.[r],w1=r=>{const e=B0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},F0=()=>tf()?.config,H0=r=>tf()?.[`_${r}`];class E1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function T1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Nh(JSON.stringify(i)),Nh(JSON.stringify(p)),""].join(".")}const Fu={};function A1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?r.emulator.push(e):r.prod.push(e);return r}function S1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let i_=!1;function G0(r,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Fu[r]===e||Fu[r]||i_)return;Fu[r]=e;function i(q){return`__firebase__banner__${q}`}const s="__firebase__banner",c=A1().prod.length>0;function p(){const q=document.getElementById(s);q&&q.remove()}function b(q){q.style.display="flex",q.style.background="#7faaf0",q.style.position="fixed",q.style.bottom="5px",q.style.left="5px",q.style.padding=".5em",q.style.borderRadius="5px",q.style.alignItems="center"}function w(q,ee){q.setAttribute("width","24"),q.setAttribute("id",ee),q.setAttribute("height","24"),q.setAttribute("viewBox","0 0 24 24"),q.setAttribute("fill","none"),q.style.marginLeft="-6px"}function E(){const q=document.createElement("span");return q.style.cursor="pointer",q.style.marginLeft="16px",q.style.fontSize="24px",q.innerHTML=" &times;",q.onclick=()=>{i_=!0,p()},q}function M(q,ee){q.setAttribute("id",ee),q.innerText="Learn more",q.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",q.setAttribute("target","__blank"),q.style.paddingLeft="5px",q.style.textDecoration="underline"}function L(){const q=S1(s),ee=i("text"),j=document.getElementById(ee)||document.createElement("span"),xe=i("learnmore"),Te=document.getElementById(xe)||document.createElement("a"),Ne=i("preprendIcon"),Ve=document.getElementById(Ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(q.created){const Le=q.element;b(Le),M(Te,xe);const Pe=E();w(Ve,Ne),Le.append(Ve,j,Te,Pe),document.body.appendChild(Le)}c?(j.innerText="Preview backend disconnected.",Ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",ee)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",L):L()}function Fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())}function C1(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O1(){const r=Fi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function x1(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const P1="FirebaseError";class ws extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=P1,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?k1(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new ws(l,b,s)}}function k1(r,e){return r.replace(L1,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const L1=/\{\$([^}]+)}/g;function U1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],p=e[l];if(r_(c)&&r_(p)){if(!Bo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function r_(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function j1(r,e){const i=new z1(r,e);return i.subscribe.bind(i)}class z1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=fm),l.error===void 0&&(l.error=fm),l.complete===void 0&&(l.complete=fm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function fm(){}function Er(r){return r&&r._delegate?r._delegate:r}class Fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lo="[DEFAULT]";class F1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new E1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q1(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:H1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H1(r){return r===Lo?void 0:r}function q1(r){return r.instantiationMode==="EAGER"}class G1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new F1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Yt||(Yt={}));const Y1={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},X1=Yt.INFO,Q1={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},K1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=Q1[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=X1,this._logHandler=K1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const W1=(r,e)=>e.some(i=>r instanceof i);let a_,s_;function $1(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,Cm=new WeakMap,X0=new WeakMap,dm=new WeakMap,ep=new WeakMap;function Z1(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",p)},c=()=>{i(so(r.result)),l()},p=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&Y0.set(i,r)}).catch(()=>{}),ep.set(e,r),e}function eA(r){if(Cm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",p),r.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",p),r.addEventListener("abort",p)});Cm.set(r,e)}let Im={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||X0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return so(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tA(r){Im=r(Im)}function nA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(mm(this),e,...i);return X0.set(s,e.sort?e.sort():[e]),so(s)}:J1().includes(r)?function(...e){return r.apply(mm(this),e),so(Y0.get(this))}:function(...e){return so(r.apply(mm(this),e))}}function iA(r){return typeof r=="function"?nA(r):(r instanceof IDBTransaction&&eA(r),W1(r,$1())?new Proxy(r,Im):r)}function so(r){if(r instanceof IDBRequest)return Z1(r);if(dm.has(r))return dm.get(r);const e=iA(r);return e!==r&&(dm.set(r,e),ep.set(e,r)),e}const mm=r=>ep.get(r);function rA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(r,e),b=so(p);return s&&p.addEventListener("upgradeneeded",w=>{s(so(p.result),w.oldVersion,w.newVersion,so(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const aA=["get","getKey","getAll","getAllKeys","count"],sA=["put","add","delete","clear"],pm=new Map;function o_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=sA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||aA.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return pm.set(e,c),c}tA(r=>({...r,get:(e,i,s)=>o_(e,i)||r.get(e,i,s),has:(e,i)=>!!o_(e,i)||r.has(e,i)}));class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function lA(r){return r.getComponent()?.type==="VERSION"}const Mm="@firebase/app",l_="0.14.6";const ps=new Zm("@firebase/app"),uA="@firebase/app-compat",cA="@firebase/analytics-compat",hA="@firebase/analytics",fA="@firebase/app-check-compat",dA="@firebase/app-check",mA="@firebase/auth",pA="@firebase/auth-compat",gA="@firebase/database",yA="@firebase/data-connect",vA="@firebase/database-compat",_A="@firebase/functions",bA="@firebase/functions-compat",wA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",AA="@firebase/messaging-compat",SA="@firebase/performance",RA="@firebase/performance-compat",CA="@firebase/remote-config",IA="@firebase/remote-config-compat",MA="@firebase/storage",DA="@firebase/storage-compat",OA="@firebase/firestore",xA="@firebase/ai",NA="@firebase/firestore-compat",VA="firebase",PA="12.6.0";const Dm="[DEFAULT]",kA={[Mm]:"fire-core",[uA]:"fire-core-compat",[hA]:"fire-analytics",[cA]:"fire-analytics-compat",[dA]:"fire-app-check",[fA]:"fire-app-check-compat",[mA]:"fire-auth",[pA]:"fire-auth-compat",[gA]:"fire-rtdb",[yA]:"fire-data-connect",[vA]:"fire-rtdb-compat",[_A]:"fire-fn",[bA]:"fire-fn-compat",[wA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[AA]:"fire-fcm-compat",[SA]:"fire-perf",[RA]:"fire-perf-compat",[CA]:"fire-rc",[IA]:"fire-rc-compat",[MA]:"fire-gcs",[DA]:"fire-gcs-compat",[OA]:"fire-fst",[NA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};const Vh=new Map,LA=new Map,Om=new Map;function u_(r,e){try{r.container.addComponent(e)}catch(i){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function jl(r){const e=r.name;if(Om.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,r);for(const i of Vh.values())u_(i,r);for(const i of LA.values())u_(i,r);return!0}function tp(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Jr(r){return r==null?!1:r.settings!==void 0}const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new ic("app","Firebase",UA);class jA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}const Xl=PA;function Q0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw oo.create("bad-app-name",{appName:String(l)});if(i||(i=F0()),!i)throw oo.create("no-options");const c=Vh.get(l);if(c){if(Bo(i,c.options)&&Bo(s,c.config))return c;throw oo.create("duplicate-app",{appName:l})}const p=new G1(l);for(const w of Om.values())p.addComponent(w);const b=new jA(i,s,p);return Vh.set(l,b),b}function K0(r=Dm){const e=Vh.get(r);if(!e&&r===Dm&&F0())return Q0();if(!e)throw oo.create("no-app",{appName:r});return e}function lo(r,e,i){let s=kA[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(p.join(" "));return}jl(new Fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const zA="firebase-heartbeat-database",BA=1,Ku="firebase-heartbeat-store";let gm=null;function W0(){return gm||(gm=rA(zA,BA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ku)}catch(i){console.warn(i)}}}}).catch(r=>{throw oo.create("idb-open",{originalErrorMessage:r.message})})),gm}async function FA(r){try{const i=(await W0()).transaction(Ku),s=await i.objectStore(Ku).get($0(r));return await i.done,s}catch(e){if(e instanceof ws)ps.warn(e.message);else{const i=oo.create("idb-get",{originalErrorMessage:e?.message});ps.warn(i.message)}}}async function c_(r,e){try{const s=(await W0()).transaction(Ku,"readwrite");await s.objectStore(Ku).put(e,$0(r)),await s.done}catch(i){if(i instanceof ws)ps.warn(i.message);else{const s=oo.create("idb-set",{originalErrorMessage:i?.message});ps.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}const HA=1024,qA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>qA){const l=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:i,unsentEntries:s}=YA(this._heartbeatsCache.heartbeats),l=Nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ps.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function YA(r,e=HA){const i=[];let s=r.slice();for(const l of r){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),f_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),f_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class XA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f_(r){return Nh(JSON.stringify({version:2,heartbeats:r})).length}function QA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function KA(r){jl(new Fo("platform-logger",e=>new oA(e),"PRIVATE")),jl(new Fo("heartbeat",e=>new GA(e),"PRIVATE")),lo(Mm,l_,r),lo(Mm,l_,"esm2020"),lo("fire-js","")}KA("");var WA="firebase",$A="12.6.0";lo(WA,$A,"app");function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=J0,Z0=new ic("auth","Firebase",J0());const Ph=new Zm("@firebase/auth");function ZA(r,...e){Ph.logLevel<=Yt.WARN&&Ph.warn(`Auth (${Xl}): ${r}`,...e)}function Th(r,...e){Ph.logLevel<=Yt.ERROR&&Ph.error(`Auth (${Xl}): ${r}`,...e)}function gs(r,...e){throw np(r,...e)}function Da(r,...e){return np(r,...e)}function eb(r,e,i){const s={...JA(),[e]:i};return new ic("auth","Firebase",s).create(e,{appName:r.name})}function ds(r){return eb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function np(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return Z0.create(r,...e)}function wt(r,e,...i){if(!r)throw np(e,...i)}function hs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function ys(r,e){r||hs(e)}function xm(){return typeof self<"u"&&self.location?.href||""}function eS(){return d_()==="http:"||d_()==="https:"}function d_(){return typeof self<"u"&&self.location?.protocol||null}function tS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eS()||M1()||"connection"in navigator)?navigator.onLine:!0}function nS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ac{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=R1()||D1()}get(){return tS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ip(r,e){ys(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class tb{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aS=new ac(3e4,6e4);function sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ql(r,e,i,s,l={}){return nb(r,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=rc({key:r.config.apiKey,...p}).slice(1),w=await r._getAdditionalHeaders();w["Content-Type"]="application/json",r.languageCode&&(w["X-Firebase-Locale"]=r.languageCode);const E={method:e,headers:w,...c};return I1()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(E.credentials="include"),tb.fetch()(await ib(r,r.config.apiHost,i,b),E)})}async function nb(r,e,i){r._canInitEmulator=!1;const s={...iS,...e};try{const l=new sS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw gh(r,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",p);if(w==="USER_DISABLED")throw gh(r,"user-disabled",p);const M=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw eb(r,M,E);gs(r,M)}}catch(l){if(l instanceof ws)throw l;gs(r,"network-request-failed",{message:String(l)})}}async function rp(r,e,i,s,l={}){const c=await Ql(r,e,i,s,l);return"mfaPendingCredential"in c&&gs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function ib(r,e,i,s){const l=`${e}${i}?${s}`,c=r,p=c.config.emulator?ip(r.config,l):`${r.config.apiScheme}://${l}`;return rS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class sS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Da(this.auth,"network-request-failed")),aS.get())})}}function gh(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Da(r,e,s);return l.customData._tokenResponse=i,l}async function oS(r,e){return Ql(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return Ql(r,"POST","/v1/accounts:lookup",e)}function Hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lS(r,e=!1){const i=Er(r),s=await i.getIdToken(e),l=ap(s);wt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:Hu(ym(l.auth_time)),issuedAtTime:Hu(ym(l.iat)),expirationTime:Hu(ym(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function ap(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const l=z0(i);return l?JSON.parse(l):(Th("Failed to decode base64 JWT payload"),null)}catch(l){return Th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function m_(r){const e=ap(r);return wt(e,"internal-error"),wt(typeof e.exp<"u","internal-error"),wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wu(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof ws&&uS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(r){const e=r.auth,i=await r.getIdToken(),s=await Wu(r,kh(e,{idToken:i}));wt(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?rb(l.providerUserInfo):[],p=fS(r.providerData,c),b=r.isAnonymous,w=!(r.email&&l.passwordHash)&&!p?.length,E=b?w:!1,M={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,M)}async function hS(r){const e=Er(r);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fS(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function rb(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function dS(r,e){const i=await nb(r,{},async()=>{const s=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,p=await ib(r,l,"/v1/token",`key=${c}`),b=await r._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return r.emulatorConfig&&Yl(r.emulatorConfig.host)&&(w.credentials="include"),tb.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mS(r,e){return Ql(r,"POST","/v2/accounts:revokeToken",sc(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wt(e.idToken,"internal-error"),wt(typeof e.idToken<"u","internal-error"),wt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){wt(e.length!==0,"internal-error");const i=m_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await dS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Vl;return s&&(wt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(wt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(wt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return hs("not implemented")}}function Js(r,e){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ca{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new cS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return wt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return lS(this,e)}reload(){return hS(this)}_assign(e){this!==e&&(wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ca({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Wu(this,oS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,M=i.lastLoginAt??void 0,{uid:L,emailVerified:q,isAnonymous:ee,providerData:j,stsTokenManager:xe}=i;wt(L&&xe,e,"internal-error");const Te=Vl.fromJSON(this.name,xe);wt(typeof L=="string",e,"internal-error"),Js(s,e.name),Js(l,e.name),wt(typeof q=="boolean",e,"internal-error"),wt(typeof ee=="boolean",e,"internal-error"),Js(c,e.name),Js(p,e.name),Js(b,e.name),Js(w,e.name),Js(E,e.name),Js(M,e.name);const Ne=new ca({uid:L,auth:e,email:l,emailVerified:q,displayName:s,isAnonymous:ee,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:Te,createdAt:E,lastLoginAt:M});return j&&Array.isArray(j)&&(Ne.providerData=j.map(Ve=>({...Ve}))),w&&(Ne._redirectEventId=w),Ne}static async _fromIdTokenResponse(e,i,s=!1){const l=new Vl;l.updateFromServerResponse(i);const c=new ca({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];wt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?rb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Vl;b.updateFromIdToken(s);const w=new ca({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const p_=new Map;function fs(r){ys(r instanceof Function,"Expected a class definition");let e=p_.get(r);return e?(ys(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,p_.set(r,e),e)}class ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ab.type="NONE";const g_=ab;function Ah(r,e,i){return`firebase:${r}:${e}:${i}`}class Pl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ah("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await kh(this.auth,{idToken:e}).catch(()=>{});return i?ca._fromGetAccountInfoResponse(this.auth,i,e):null}return ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Pl(fs(g_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||fs(g_);const p=Ah(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const M=await E._get(p);if(M){let L;if(typeof M=="string"){const q=await kh(e,{idToken:M}).catch(()=>{});if(!q)break;L=await ca._fromGetAccountInfoResponse(e,q,M)}else L=ca._fromJSON(e,M);E!==c&&(b=L),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new Pl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new Pl(c,e,s))}}function y_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(fb(e))return"Webos";if(ob(e))return"Safari";if((e.includes("chrome/")||lb(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function sb(r=Fi()){return/firefox\//i.test(r)}function ob(r=Fi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lb(r=Fi()){return/crios\//i.test(r)}function ub(r=Fi()){return/iemobile/i.test(r)}function cb(r=Fi()){return/android/i.test(r)}function hb(r=Fi()){return/blackberry/i.test(r)}function fb(r=Fi()){return/webos/i.test(r)}function sp(r=Fi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pS(r=Fi()){return sp(r)&&!!window.navigator?.standalone}function gS(){return O1()&&document.documentMode===10}function db(r=Fi()){return sp(r)||cb(r)||fb(r)||hb(r)||/windows phone/i.test(r)||ub(r)}function mb(r,e=[]){let i;switch(r){case"Browser":i=y_(Fi());break;case"Worker":i=`${y_(Fi())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xl}/${s}`}class yS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vS(r,e={}){return Ql(r,"GET","/v2/passwordPolicy",sc(r,e))}const _S=6;class bS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_S,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new yS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await kh(this,{idToken:e}),s=await ca._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(ds(this));const i=e?Er(e):null;return i&&wt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vS(this),i=new bS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await mS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&fs(e)||this._popupRedirectResolver;wt(i,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oc(r){return Er(r)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=j1(i=>this.observer=i)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ES(r){op=r}function TS(r){return op.loadJS(r)}function AS(){return op.gapiScript}function SS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function RS(r,e){const i=tp(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Bo(c,e??{}))return l;gs(l,"already-initialized")}return i.initialize({options:e})}function CS(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(fs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function IS(r,e,i){const s=oc(r);wt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=pb(e),{host:p,port:b}=MS(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},M=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(Bo(E,s.config.emulator)&&Bo(M,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=M,s.settings.appVerificationDisabledForTesting=!0,Yl(p)?(q0(`${c}//${p}${w}`),G0("Auth",!0)):DS()}function pb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MS(r){const e=pb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:__(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:__(p)}}}function __(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DS(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class gb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,i){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function kl(r,e){return rp(r,"POST","/v1/accounts:signInWithIdp",sc(r,e))}const OS="http://localhost";class Ho extends gb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new Ho(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return kl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,kl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,kl(e,i)}buildRequest(){const e={requestUri:OS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=rc(i)}return e}}class yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lc extends yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class eo extends lc{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";class to extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ho._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return to.credential(i,s)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";class no extends lc{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";class io extends lc{constructor(){super("twitter.com")}static credential(e,i){return Ho._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return io.credential(i,s)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";async function xS(r,e){return rp(r,"POST","/v1/accounts:signUp",sc(r,e))}class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await ca._fromIdTokenResponse(e,s,l),p=b_(s);return new vs({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=b_(s);return new vs({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function b_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function NS(r){if(Jr(r.app))return Promise.reject(ds(r));const e=oc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await xS(e,{returnSecureToken:!0}),s=await vs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Uh extends ws{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Uh(e,i,s,l)}}function vb(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,c,e,s):c})}async function VS(r,e,i=!1){const s=await Wu(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return vs._forOperation(r,"link",s)}async function PS(r,e,i=!1){const{auth:s}=r;if(Jr(s.app))return Promise.reject(ds(s));const l="reauthenticate";try{const c=await Wu(r,vb(s,l,e,r),i);wt(c.idToken,s,"internal-error");const p=ap(c.idToken);wt(p,s,"internal-error");const{sub:b}=p;return wt(r.uid===b,s,"user-mismatch"),vs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gs(s,"user-mismatch"),c}}async function kS(r,e,i=!1){if(Jr(r.app))return Promise.reject(ds(r));const s="signIn",l=await vb(r,s,e),c=await vs._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function LS(r,e){return rp(r,"POST","/v1/accounts:signInWithCustomToken",sc(r,e))}async function US(r,e){if(Jr(r.app))return Promise.reject(ds(r));const i=oc(r),s=await LS(i,{token:e,returnSecureToken:!0}),l=await vs._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function jS(r,e,i,s){return Er(r).onIdTokenChanged(e,i,s)}function zS(r,e,i){return Er(r).beforeAuthStateChanged(e,i)}function BS(r,e,i,s){return Er(r).onAuthStateChanged(e,i,s)}const jh="__sak";class _b{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FS=1e3,HS=10;class bb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);gS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,HS):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},FS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const qS=bb;class wb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}wb.type="SESSION";const Eb=wb;function GS(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await GS(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];function lp(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class YS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=lp("",20);l.port1.start();const M=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(L){const q=L;if(q.data.eventId===E)switch(q.data.status){case"ack":clearTimeout(M),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(q.data.response);break;default:clearTimeout(M),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Oa(){return window}function XS(r){Oa().location.href=r}function Tb(){return typeof Oa().WorkerGlobalScope<"u"&&typeof Oa().importScripts=="function"}async function QS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KS(){return navigator?.serviceWorker?.controller||null}function WS(){return Tb()?self:null}const Ab="firebaseLocalStorageDb",$S=1,zh="firebaseLocalStorage",Sb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rf(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function JS(){const r=indexedDB.deleteDatabase(Ab);return new uc(r).toPromise()}function Vm(){const r=indexedDB.open(Ab,$S);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:Sb})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await JS(),e(await Vm()))})})}async function w_(r,e,i){const s=rf(r,!0).put({[Sb]:e,value:i});return new uc(s).toPromise()}async function ZS(r,e){const i=rf(r,!1).get(e),s=await new uc(i).toPromise();return s===void 0?null:s.value}function E_(r,e){const i=rf(r,!0).delete(e);return new uc(i).toPromise()}const eR=800,tR=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>tR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(WS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QS(),!this.activeServiceWorker)return;this.sender=new YS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await w_(e,jh,"1"),await E_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>w_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>ZS(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=rf(l,!1).getAll();return new uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const nR=Rb;new ac(3e4,6e4);function iR(r,e){return e?fs(e):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class up extends gb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return kl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function rR(r){return kS(r.auth,new up(r),r.bypassAuthState)}function aR(r){const{auth:e,user:i}=r;return wt(i,e,"internal-error"),PS(i,new up(r),r.bypassAuthState)}async function sR(r){const{auth:e,user:i}=r;return wt(i,e,"internal-error"),VS(i,new up(r),r.bypassAuthState)}class Cb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return aR;default:gs(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oR=new ac(2e3,1e4);class Nl extends Cb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wt(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Da(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Da(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oR.get())};e()}}Nl.currentPopupAction=null;const lR="pendingRedirect",Sh=new Map;class uR extends Cb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await cR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cR(r,e){const i=dR(e),s=fR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function hR(r,e){Sh.set(r._key(),e)}function fR(r){return fs(r._redirectPersistence)}function dR(r){return Ah(lR,r.config.apiKey,r.name)}async function mR(r,e,i=!1){if(Jr(r.app))return Promise.reject(ds(r));const s=oc(r),l=iR(s,e),p=await new uR(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const pR=600*1e3;class gR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ib(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Da(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pR&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(e))}saveEventToCache(e){this.cachedEventUids.add(T_(e)),this.lastProcessedEventTime=Date.now()}}function T_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ib({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function yR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(r);default:return!1}}async function vR(r,e={}){return Ql(r,"GET","/v1/projects",e)}const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bR=/^https?/;async function wR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vR(r);for(const i of e)try{if(ER(i))return}catch{}gs(r,"unauthorized-domain")}function ER(r){const e=xm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!bR.test(i))return!1;if(_R.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const TR=new ac(3e4,6e4);function A_(){const r=Oa().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function AR(r){return new Promise((e,i)=>{function s(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),i(Da(r,"network-request-failed"))},timeout:TR.get()})}if(Oa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oa().gapi?.load)s();else{const l=SS("iframefcb");return Oa()[l]=()=>{gapi.load?s():i(Da(r,"network-request-failed"))},TS(`${AS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function SR(r){return Rh=Rh||AR(r),Rh}const RR=new ac(5e3,15e3),CR="__/auth/iframe",IR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(r){const e=r.config;wt(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?ip(e,IR):`https://${r.config.authDomain}/${CR}`,s={apiKey:e.apiKey,appName:r.name,v:Xl},l=DR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${rc(s).slice(1)}`}async function xR(r){const e=await SR(r),i=Oa().gapi;return wt(i,r,"internal-error"),e.open({where:document.body,url:OR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Da(r,"network-request-failed"),b=Oa().setTimeout(()=>{c(p)},RR.get());function w(){Oa().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const NR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,PR=600,kR="_blank",LR="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UR(r,e,i,s=VR,l=PR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...NR,width:s.toString(),height:l.toString(),top:c,left:p},E=Fi().toLowerCase();i&&(b=lb(E)?kR:i),sb(E)&&(e=e||LR,w.scrollbars="yes");const M=Object.entries(w).reduce((q,[ee,j])=>`${q}${ee}=${j},`,"");if(pS(E)&&b!=="_self")return jR(e||"",b),new S_(null);const L=window.open(e||"",b,M);wt(L,r,"popup-blocked");try{L.focus()}catch{}return new S_(L)}function jR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const zR="__/auth/handler",BR="emulator/auth/handler",FR=encodeURIComponent("fac");async function R_(r,e,i,s,l,c){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Xl,eventId:l};if(e instanceof yb){e.setDefaultLanguage(r.languageCode),p.providerId=e.providerId||"",U1(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[M,L]of Object.entries({}))p[M]=L}if(e instanceof lc){const M=e.getScopes().filter(L=>L!=="");M.length>0&&(p.scopes=M.join(","))}r.tenantId&&(p.tid=r.tenantId);const b=p;for(const M of Object.keys(b))b[M]===void 0&&delete b[M];const w=await r._getAppCheckToken(),E=w?`#${FR}=${encodeURIComponent(w)}`:"";return`${HR(r)}?${rc(b).slice(1)}${E}`}function HR({config:r}){return r.emulator?ip(r,BR):`https://${r.authDomain}/${zR}`}const vm="webStorageSupport";class qR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=mR,this._overrideRedirectResult=hR}async _openPopup(e,i,s,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await R_(e,i,s,xm(),l);return UR(e,c,lp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await R_(e,i,s,xm(),l);return XS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await xR(e),s=new gR(e);return i.register("authEvent",l=>(wt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(vm,{type:vm},l=>{const c=l?.[0]?.[vm];c!==void 0&&i(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=wR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return db()||ob()||sp()}}const GR=qR;var C_="@firebase/auth",I_="1.11.1";class YR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(r){jl(new Fo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;wt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(r)},E=new wS(s,l,c,w);return CS(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Fo("auth-internal",e=>{const i=oc(e.getProvider("auth").getImmediate());return(s=>new YR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lo(C_,I_,XR(r)),lo(C_,I_,"esm2020")}const KR=300,WR=H0("authIdTokenMaxAge")||KR;let M_=null;const $R=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>WR)return;const l=i?.token;M_!==l&&(M_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function JR(r=K0()){const e=tp(r,"auth");if(e.isInitialized())return e.getImmediate();const i=RS(r,{popupRedirectResolver:GR,persistence:[nR,qS,Eb]}),s=H0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=$R(c.toString());zS(i,p,()=>p(i.currentUser)),jS(i,b=>p(b))}}const l=B0("auth");return l&&IS(i,`http://${l}`),i}function ZR(){return document.getElementsByTagName("head")?.[0]??document}ES({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Da("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",ZR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uo,Mb;(function(){var r;function e(F,z){function V(){}V.prototype=z.prototype,F.F=z.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(B,C,k){for(var I=Array(arguments.length-2),W=2;W<arguments.length;W++)I[W-2]=arguments[W];return z.prototype[C].apply(B,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(F,z,V){V||(V=0);const B=Array(16);if(typeof z=="string")for(var C=0;C<16;++C)B[C]=z.charCodeAt(V++)|z.charCodeAt(V++)<<8|z.charCodeAt(V++)<<16|z.charCodeAt(V++)<<24;else for(C=0;C<16;++C)B[C]=z[V++]|z[V++]<<8|z[V++]<<16|z[V++]<<24;z=F.g[0],V=F.g[1],C=F.g[2];let k=F.g[3],I;I=z+(k^V&(C^k))+B[0]+3614090360&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+B[1]+3905402710&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+B[2]+606105819&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+B[3]+3250441966&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(k^V&(C^k))+B[4]+4118548399&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+B[5]+1200080426&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+B[6]+2821735955&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+B[7]+4249261313&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(k^V&(C^k))+B[8]+1770035416&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+B[9]+2336552879&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+B[10]+4294925233&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+B[11]+2304563134&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(k^V&(C^k))+B[12]+1804603682&4294967295,z=V+(I<<7&4294967295|I>>>25),I=k+(C^z&(V^C))+B[13]+4254626195&4294967295,k=z+(I<<12&4294967295|I>>>20),I=C+(V^k&(z^V))+B[14]+2792965006&4294967295,C=k+(I<<17&4294967295|I>>>15),I=V+(z^C&(k^z))+B[15]+1236535329&4294967295,V=C+(I<<22&4294967295|I>>>10),I=z+(C^k&(V^C))+B[1]+4129170786&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+B[6]+3225465664&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+B[11]+643717713&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+B[0]+3921069994&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(C^k&(V^C))+B[5]+3593408605&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+B[10]+38016083&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+B[15]+3634488961&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+B[4]+3889429448&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(C^k&(V^C))+B[9]+568446438&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+B[14]+3275163606&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+B[3]+4107603335&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+B[8]+1163531501&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(C^k&(V^C))+B[13]+2850285829&4294967295,z=V+(I<<5&4294967295|I>>>27),I=k+(V^C&(z^V))+B[2]+4243563512&4294967295,k=z+(I<<9&4294967295|I>>>23),I=C+(z^V&(k^z))+B[7]+1735328473&4294967295,C=k+(I<<14&4294967295|I>>>18),I=V+(k^z&(C^k))+B[12]+2368359562&4294967295,V=C+(I<<20&4294967295|I>>>12),I=z+(V^C^k)+B[5]+4294588738&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+B[8]+2272392833&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+B[11]+1839030562&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+B[14]+4259657740&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(V^C^k)+B[1]+2763975236&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+B[4]+1272893353&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+B[7]+4139469664&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+B[10]+3200236656&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(V^C^k)+B[13]+681279174&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+B[0]+3936430074&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+B[3]+3572445317&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+B[6]+76029189&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(V^C^k)+B[9]+3654602809&4294967295,z=V+(I<<4&4294967295|I>>>28),I=k+(z^V^C)+B[12]+3873151461&4294967295,k=z+(I<<11&4294967295|I>>>21),I=C+(k^z^V)+B[15]+530742520&4294967295,C=k+(I<<16&4294967295|I>>>16),I=V+(C^k^z)+B[2]+3299628645&4294967295,V=C+(I<<23&4294967295|I>>>9),I=z+(C^(V|~k))+B[0]+4096336452&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+B[7]+1126891415&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+B[14]+2878612391&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+B[5]+4237533241&4294967295,V=C+(I<<21&4294967295|I>>>11),I=z+(C^(V|~k))+B[12]+1700485571&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+B[3]+2399980690&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+B[10]+4293915773&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+B[1]+2240044497&4294967295,V=C+(I<<21&4294967295|I>>>11),I=z+(C^(V|~k))+B[8]+1873313359&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+B[15]+4264355552&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+B[6]+2734768916&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+B[13]+1309151649&4294967295,V=C+(I<<21&4294967295|I>>>11),I=z+(C^(V|~k))+B[4]+4149444226&4294967295,z=V+(I<<6&4294967295|I>>>26),I=k+(V^(z|~C))+B[11]+3174756917&4294967295,k=z+(I<<10&4294967295|I>>>22),I=C+(z^(k|~V))+B[2]+718787259&4294967295,C=k+(I<<15&4294967295|I>>>17),I=V+(k^(C|~z))+B[9]+3951481745&4294967295,F.g[0]=F.g[0]+z&4294967295,F.g[1]=F.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,F.g[2]=F.g[2]+C&4294967295,F.g[3]=F.g[3]+k&4294967295}s.prototype.v=function(F,z){z===void 0&&(z=F.length);const V=z-this.blockSize,B=this.C;let C=this.h,k=0;for(;k<z;){if(C==0)for(;k<=V;)l(this,F,k),k+=this.blockSize;if(typeof F=="string"){for(;k<z;)if(B[C++]=F.charCodeAt(k++),C==this.blockSize){l(this,B),C=0;break}}else for(;k<z;)if(B[C++]=F[k++],C==this.blockSize){l(this,B),C=0;break}}this.h=C,this.o+=z},s.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var z=1;z<F.length-8;++z)F[z]=0;z=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=z&255,z/=256;for(this.v(F),F=Array(16),z=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)F[z++]=this.g[V]>>>B&255;return F};function c(F,z){var V=b;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=z(F)}function p(F,z){this.h=z;const V=[];let B=!0;for(let C=F.length-1;C>=0;C--){const k=F[C]|0;B&&k==z||(V[C]=k,B=!1)}this.g=V}var b={};function w(F){return-128<=F&&F<128?c(F,function(z){return new p([z|0],z<0?-1:0)}):new p([F|0],F<0?-1:0)}function E(F){if(isNaN(F)||!isFinite(F))return L;if(F<0)return Te(E(-F));const z=[];let V=1;for(let B=0;F>=V;B++)z[B]=F/V|0,V*=4294967296;return new p(z,0)}function M(F,z){if(F.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(F.charAt(0)=="-")return Te(M(F.substring(1),z));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(z,8));let B=L;for(let k=0;k<F.length;k+=8){var C=Math.min(8,F.length-k);const I=parseInt(F.substring(k,k+C),z);C<8?(C=E(Math.pow(z,C)),B=B.j(C).add(E(I))):(B=B.j(V),B=B.add(E(I)))}return B}var L=w(0),q=w(1),ee=w(16777216);r=p.prototype,r.m=function(){if(xe(this))return-Te(this).m();let F=0,z=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);F+=(B>=0?B:4294967296+B)*z,z*=4294967296}return F},r.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(j(this))return"0";if(xe(this))return"-"+Te(this).toString(F);const z=E(Math.pow(F,6));var V=this;let B="";for(;;){const C=Pe(V,z).g;V=Ne(V,C.j(z));let k=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=C,j(V))return k+B;for(;k.length<6;)k="0"+k;B=k+B}},r.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function j(F){if(F.h!=0)return!1;for(let z=0;z<F.g.length;z++)if(F.g[z]!=0)return!1;return!0}function xe(F){return F.h==-1}r.l=function(F){return F=Ne(this,F),xe(F)?-1:j(F)?0:1};function Te(F){const z=F.g.length,V=[];for(let B=0;B<z;B++)V[B]=~F.g[B];return new p(V,~F.h).add(q)}r.abs=function(){return xe(this)?Te(this):this},r.add=function(F){const z=Math.max(this.g.length,F.g.length),V=[];let B=0;for(let C=0;C<=z;C++){let k=B+(this.i(C)&65535)+(F.i(C)&65535),I=(k>>>16)+(this.i(C)>>>16)+(F.i(C)>>>16);B=I>>>16,k&=65535,I&=65535,V[C]=I<<16|k}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Ne(F,z){return F.add(Te(z))}r.j=function(F){if(j(this)||j(F))return L;if(xe(this))return xe(F)?Te(this).j(Te(F)):Te(Te(this).j(F));if(xe(F))return Te(this.j(Te(F)));if(this.l(ee)<0&&F.l(ee)<0)return E(this.m()*F.m());const z=this.g.length+F.g.length,V=[];for(var B=0;B<2*z;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let C=0;C<F.g.length;C++){const k=this.i(B)>>>16,I=this.i(B)&65535,W=F.i(C)>>>16,re=F.i(C)&65535;V[2*B+2*C]+=I*re,Ve(V,2*B+2*C),V[2*B+2*C+1]+=k*re,Ve(V,2*B+2*C+1),V[2*B+2*C+1]+=I*W,Ve(V,2*B+2*C+1),V[2*B+2*C+2]+=k*W,Ve(V,2*B+2*C+2)}for(F=0;F<z;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=z;F<2*z;F++)V[F]=0;return new p(V,0)};function Ve(F,z){for(;(F[z]&65535)!=F[z];)F[z+1]+=F[z]>>>16,F[z]&=65535,z++}function Le(F,z){this.g=F,this.h=z}function Pe(F,z){if(j(z))throw Error("division by zero");if(j(F))return new Le(L,L);if(xe(F))return z=Pe(Te(F),z),new Le(Te(z.g),Te(z.h));if(xe(z))return z=Pe(F,Te(z)),new Le(Te(z.g),z.h);if(F.g.length>30){if(xe(F)||xe(z))throw Error("slowDivide_ only works with positive integers.");for(var V=q,B=z;B.l(F)<=0;)V=Ge(V),B=Ge(B);var C=Xe(V,1),k=Xe(B,1);for(B=Xe(B,2),V=Xe(V,2);!j(B);){var I=k.add(B);I.l(F)<=0&&(C=C.add(V),k=I),B=Xe(B,1),V=Xe(V,1)}return z=Ne(F,C.j(z)),new Le(C,z)}for(C=L;F.l(z)>=0;){for(V=Math.max(1,Math.floor(F.m()/z.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),k=E(V),I=k.j(z);xe(I)||I.l(F)>0;)V-=B,k=E(V),I=k.j(z);j(k)&&(k=q),C=C.add(k),F=Ne(F,I)}return new Le(C,F)}r.B=function(F){return Pe(this,F).h},r.and=function(F){const z=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<z;B++)V[B]=this.i(B)&F.i(B);return new p(V,this.h&F.h)},r.or=function(F){const z=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<z;B++)V[B]=this.i(B)|F.i(B);return new p(V,this.h|F.h)},r.xor=function(F){const z=Math.max(this.g.length,F.g.length),V=[];for(let B=0;B<z;B++)V[B]=this.i(B)^F.i(B);return new p(V,this.h^F.h)};function Ge(F){const z=F.g.length+1,V=[];for(let B=0;B<z;B++)V[B]=F.i(B)<<1|F.i(B-1)>>>31;return new p(V,F.h)}function Xe(F,z){const V=z>>5;z%=32;const B=F.g.length-V,C=[];for(let k=0;k<B;k++)C[k]=z>0?F.i(k+V)>>>z|F.i(k+V+1)<<32-z:F.i(k+V);return new p(C,F.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Mb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=M,uo=p}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Db,Uu,Ob,Ch,Pm,xb,Nb,Vb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var N=0;N<u.length-1;N++){var te=u[N];if(!(te in A))break e;A=A[te]}u=u[u.length-1],N=A[u],y=y(N),y!=N&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&A.push([N,y[N]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function M(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function L(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(N,te,fe){for(var Ue=Array(arguments.length-2),At=2;At<arguments.length;At++)Ue[At-2]=arguments[At];return y.prototype[te].apply(N,Ue)}}var q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function ee(u){const y=u.length;if(y>0){const A=Array(y);for(let N=0;N<y;N++)A[N]=u[N];return A}return[]}function j(u,y){for(let N=1;N<arguments.length;N++){const te=arguments[N];var A=typeof te;if(A=A!="object"?A:te?Array.isArray(te)?"array":A:"null",A=="array"||A=="object"&&typeof te.length=="number"){A=u.length||0;const fe=te.length||0;u.length=A+fe;for(let Ue=0;Ue<fe;Ue++)u[A+Ue]=te[Ue]}else u.push(te)}}class xe{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Te(u){p.setTimeout(()=>{throw u},0)}function Ne(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,A){const N=Le.get();N.set(y,A),this.h?this.h.next=N:this.g=N,this.h=N}}var Le=new xe(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Xe=!1,F=new Ve,z=()=>{const u=Promise.resolve(void 0);Ge=()=>{u.then(V)}};function V(){for(var u;u=Ne();){try{u.h.call(u.g)}catch(A){Te(A)}var y=Le;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}Xe=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function W(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}L(W,C),W.prototype.init=function(u,y){const A=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function K(u,y,A,N,te){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!N,this.ha=te,this.key=++H,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const N in u)y.call(A,u[N],N,u)}function Ce(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function P(u){const y={};for(const A in u)y[A]=u[A];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(u,y){let A,N;for(let te=1;te<arguments.length;te++){N=arguments[te];for(A in N)u[A]=N[A];for(let fe=0;fe<ie.length;fe++)A=ie[fe],Object.prototype.hasOwnProperty.call(N,A)&&(u[A]=N[A])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,y,A,N,te){const fe=u.toString();u=this.g[fe],u||(u=this.g[fe]=[],this.h++);const Ue=Qe(u,y,N,te);return Ue>-1?(y=u[Ue],A||(y.fa=!1)):(y=new K(y,this.src,fe,!!N,te),y.fa=A,u.push(y)),y};function Re(u,y){const A=y.type;if(A in u.g){var N=u.g[A],te=Array.prototype.indexOf.call(N,y,void 0),fe;(fe=te>=0)&&Array.prototype.splice.call(N,te,1),fe&&(ye(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function Qe(u,y,A,N){for(let te=0;te<u.length;++te){const fe=u[te];if(!fe.da&&fe.listener==y&&fe.capture==!!A&&fe.ha==N)return te}return-1}var st="closure_lm_"+(Math.random()*1e6|0),lt={};function yt(u,y,A,N,te){if(Array.isArray(y)){for(let fe=0;fe<y.length;fe++)yt(u,y[fe],A,N,te);return null}return A=en(A),u&&u[re]?u.J(y,A,b(N)?!!N.capture:!1,te):Et(u,y,A,!1,N,te)}function Et(u,y,A,N,te,fe){if(!y)throw Error("Invalid event type");const Ue=b(te)?!!te.capture:!!te;let At=xn(u);if(At||(u[st]=At=new ge(u)),A=At.add(y,A,N,Ue,fe),A.proxy)return A;if(N=dn(),A.proxy=N,N.src=u,N.listener=A,u.addEventListener)k||(te=Ue),te===void 0&&(te=!1),u.addEventListener(y.toString(),N,te);else if(u.attachEvent)u.attachEvent(Nt(y.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function dn(){function u(A){return y.call(u.src,u.listener,A)}const y=Lt;return u}function ht(u,y,A,N,te){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)ht(u,y[fe],A,N,te);else N=b(N)?!!N.capture:!!N,A=en(A),u&&u[re]?(u=u.i,fe=String(y).toString(),fe in u.g&&(y=u.g[fe],A=Qe(y,A,N,te),A>-1&&(ye(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[fe],u.h--)))):u&&(u=xn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Qe(y,A,N,te)),(A=u>-1?y[u]:null)&&Tt(A))}function Tt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[re])Re(y.i,u);else{var A=u.type,N=u.proxy;y.removeEventListener?y.removeEventListener(A,N,u.capture):y.detachEvent?y.detachEvent(Nt(A),N):y.addListener&&y.removeListener&&y.removeListener(N),(A=xn(y))?(Re(A,u),A.h==0&&(A.src=null,y[st]=null)):ye(u)}}}function Nt(u){return u in lt?lt[u]:lt[u]="on"+u}function Lt(u,y){if(u.da)u=!0;else{y=new W(y,this);const A=u.listener,N=u.ha||u.src;u.fa&&Tt(u),u=A.call(N,y)}return u}function xn(u){return u=u[st],u instanceof ge?u:null}var yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(u){return typeof u=="function"?u:(u[yi]||(u[yi]=function(y){return u.handleEvent(y)}),u[yi])}function at(){B.call(this),this.i=new ge(this),this.M=this,this.G=null}L(at,B),at.prototype[re]=!0,at.prototype.removeEventListener=function(u,y,A,N){ht(this,u,y,A,N)};function cn(u,y){var A,N=u.G;if(N)for(A=[];N;N=N.G)A.push(N);if(u=u.M,N=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var te=y;y=new C(N,u),Ee(y,te)}te=!0;let fe,Ue;if(A)for(Ue=A.length-1;Ue>=0;Ue--)fe=y.g=A[Ue],te=wn(fe,N,!0,y)&&te;if(fe=y.g=u,te=wn(fe,N,!0,y)&&te,te=wn(fe,N,!1,y)&&te,A)for(Ue=0;Ue<A.length;Ue++)fe=y.g=A[Ue],te=wn(fe,N,!1,y)&&te}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let N=0;N<A.length;N++)ye(A[N]);delete u.g[y],u.h--}}this.G=null},at.prototype.J=function(u,y,A,N){return this.i.add(String(u),y,!1,A,N)},at.prototype.K=function(u,y,A,N){return this.i.add(String(u),y,!0,A,N)};function wn(u,y,A,N){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let te=!0;for(let fe=0;fe<y.length;++fe){const Ue=y[fe];if(Ue&&!Ue.da&&Ue.capture==A){const At=Ue.listener,Hn=Ue.ha||Ue.src;Ue.fa&&Re(u.i,Ue),te=At.call(Hn,N)!==!1&&te}}return te&&!N.defaultPrevented}function Hi(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Gn(u){u.g=Hi(()=>{u.g=null,u.i&&(u.i=!1,Gn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class $t extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(u){B.call(this),this.h=u,this.g={}}L(En,B);var R=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&Tt(y)},u),u.g={}}En.prototype.N=function(){En.Z.N.call(this),g(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,x=p.JSON.parse,X=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function de(){}function Ie(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tt(){C.call(this,"d")}L(tt,C);function He(){C.call(this,"c")}L(He,C);var Je={},Kt=null;function Cn(){return Kt=Kt||new at}Je.Ia="serverreachability";function sn(u){C.call(this,Je.Ia,u)}L(sn,C);function jn(u){const y=Cn();cn(y,new sn(y))}Je.STAT_EVENT="statevent";function Yn(u,y){C.call(this,Je.STAT_EVENT,u),this.stat=y}L(Yn,C);function jt(u){const y=Cn();cn(y,new Yn(y,u))}Je.Ja="timingevent";function In(u,y){C.call(this,Je.Ja,u),this.size=y}L(In,C);function Nn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function qi(u,y,A,N,te,fe){u.info(function(){if(u.g)if(fe){var Ue="",At=fe.split("&");for(let rn=0;rn<At.length;rn++){var Hn=At[rn].split("=");if(Hn.length>1){const Dn=Hn[0];Hn=Hn[1];const ki=Dn.split("_");Ue=ki.length>=2&&ki[1]=="type"?Ue+(Dn+"="+Hn+"&"):Ue+(Dn+"=redacted&")}}}else Ue=null;else Ue=fe;return"XMLHTTP REQ ("+N+") [attempt "+te+"]: "+y+`
`+A+`
`+Ue})}function ut(u,y,A,N,te,fe,Ue){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+te+"]: "+y+`
`+A+`
`+fe+" "+Ue})}function Bn(u,y,A,N){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Gi(u,A)+(N?" "+N:"")})}function Rt(u,y){u.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Gi(u,y){if(!u.g)return y;if(!y)return null;try{const fe=JSON.parse(y);if(fe){for(u=0;u<fe.length;u++)if(Array.isArray(fe[u])){var A=fe[u];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var te=N[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Ue=1;Ue<N.length;Ue++)N[Ue]=""}}}}return v(fe)}catch{return y}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ni={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ir;function Tr(){}L(Tr,de),Tr.prototype.g=function(){return new XMLHttpRequest},ir=new Tr;function Ye(u){return encodeURIComponent(String(u))}function ma(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function wi(u,y,A,N){this.j=u,this.i=y,this.l=A,this.S=N||1,this.V=new En(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var me={},be={};function De(u,y,A){u.M=1,u.A=Ei(Tn(y)),u.u=A,u.R=!0,ke(u,null)}function ke(u,y){u.F=Date.now(),qe(u),u.B=Tn(u.A);var A=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),ja(A.i,"t",N),u.C=0,A=u.j.L,u.h=new le,u.g=Zo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new $t(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,N=u.ba;var te="readystatechange";Array.isArray(te)||(te&&(R[0]=te.toString()),te=R);for(let fe=0;fe<te.length;fe++){const Ue=yt(A,te[fe],N||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=u.J?P(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),jn(),qi(u.i,u.v,u.B,u.l,u.S,u.u)}wi.prototype.ba=function(u){u=u.target;const y=this.O;y&&Ir(u)==3?y.j():this.Y(u)},wi.prototype.Y=function(u){try{if(u==this.g)e:{const At=Ir(this.g),Hn=this.g.ya(),rn=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||di(this.g)))){this.K||At!=4||Hn==7||(Hn==8||rn<=0?jn(3):jn(2)),tn(this);var y=this.g.ca();this.X=y;var A=ct(this);if(this.o=y==200,ut(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,te=this.g;if((N=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var fe=N;break t}}fe=null}if(u=fe)Bn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,jt(12),ci(this),Fn(this);break e}}if(this.R){u=!0;let Dn;for(;!this.K&&this.C<A.length;)if(Dn=gt(this,A),Dn==be){At==4&&(this.m=4,jt(14),u=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==me){this.m=4,jt(15),Bn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Bn(this.i,this.l,Dn,null),hi(this,Dn);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||A.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)Bn(this.i,this.l,A,"[Invalid Chunked Response]"),ci(this),Fn(this);else if(A.length>0&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.aa&&!Ue.P&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),$i(Ue),Ue.P=!0,jt(11))}}else Bn(this.i,this.l,A,null),hi(this,A);At==4&&ci(this),this.o&&!this.K&&(At==4?Ha(this.j,this):(this.o=!1,qe(this)))}else fr(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),ci(this),Fn(this)}}}catch{}finally{}};function ct(u){if(!Be(u))return u.g.la();const y=di(u.g);if(y==="")return"";let A="";const N=y.length,te=Ir(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ci(u),Fn(u),"";u.h.i=new p.TextDecoder}for(let fe=0;fe<N;fe++)u.h.h=!0,A+=u.h.i.decode(y[fe],{stream:!(te&&fe==N-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Be(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gt(u,y){var A=u.C,N=y.indexOf(`
`,A);return N==-1?be:(A=Number(y.substring(A,N)),isNaN(A)?me:(N+=1,N+A>y.length?be:(y=y.slice(N,N+A),u.C=N+A,y)))}wi.prototype.cancel=function(){this.K=!0,ci(this)};function qe(u){u.T=Date.now()+u.H,_t(u,u.H)}function _t(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nn(E(u.aa,u),y)}function tn(u){u.D&&(p.clearTimeout(u.D),u.D=null)}wi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rt(this.i,this.B),this.M!=2&&(jn(),jt(17)),ci(this),this.m=2,Fn(this)):_t(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Ha(u.j,u)}function ci(u){tn(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function hi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||rr(A.h,u))){if(!u.L&&rr(A.h,u)&&A.I==3){try{var N=A.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var te=N;if(te[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)ra(A),Mr(A);else break e;wa(A),jt(18)}}else A.xa=te[1],0<A.xa-A.K&&te[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Nn(E(A.Va,A),6e3));Qi(A.h)<=1&&A.ta&&(A.ta=void 0)}else Dr(A,11)}else if((u.L||A.g==u)&&ra(A),!I(y))for(te=A.Ba.g.parse(y),y=0;y<te.length;y++){let rn=te[y];const Dn=rn[0];if(!(Dn<=A.K))if(A.K=Dn,rn=rn[1],A.I==2)if(rn[0]=="c"){A.M=rn[1],A.ba=rn[2];const ki=rn[3];ki!=null&&(A.ka=ki,A.j.info("VER="+A.ka));const dr=rn[4];dr!=null&&(A.za=dr,A.j.info("SVER="+A.za));const mr=rn[5];mr!=null&&typeof mr=="number"&&mr>0&&(N=1.5*mr,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const Ji=u.g;if(Ji){const qr=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var fe=N.h;fe.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(vo(fe,fe.h),fe.h=null))}if(N.G){const qa=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(N.wa=qa,nn(N.J,N.G,qa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var Ue=u;if(N.na=Jo(N,N.L?N.ba:null,N.W),Ue.L){pa(N.h,Ue);var At=Ue,Hn=N.O;Hn&&(At.H=Hn),At.D&&(tn(At),qe(At)),N.g=Ue}else $n(N);A.i.length>0&&Wi(A)}else rn[0]!="stop"&&rn[0]!="close"||Dr(A,7);else A.I==3&&(rn[0]=="stop"||rn[0]=="close"?rn[0]=="stop"?Dr(A,7):wo(A):rn[0]!="noop"&&A.l&&A.l.qa(rn),A.A=0)}}jn(4)}catch{}}var mn=class{constructor(u,y){this.g=u,this.map=y}};function Ar(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qi(u){return u.h?1:u.g?u.g.size:0}function rr(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function vo(u,y){u.g?u.g.add(y):u.h=y}function pa(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Ar.prototype.cancel=function(){if(this.i=Es(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Es(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return ee(u.i)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const N=u[A].indexOf("=");let te,fe=null;N>=0?(te=u[A].substring(0,N),fe=u[A].substring(N+1)):te=u[A],y(te,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Vi(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Vi?(this.l=u.l,Qn(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,jr(this,ya(u.i)),this.m=u.m):u&&(y=String(u).match(_o))?(this.l=!1,Qn(this,y[1]||"",!0),this.o=ft(y[2]||""),this.g=ft(y[3]||"",!0),ar(this,y[4]),this.h=ft(y[5]||"",!0),jr(this,y[6]||"",!0),this.m=ft(y[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}Vi.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(vi(y,La,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(vi(y,La,!0),"@"),u.push(Ye(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(vi(A,A.charAt(0)=="/"?Ts:bo,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",vi(A,ga)),u.join("")},Vi.prototype.resolve=function(u){const y=Tn(this);let A=!!u.j;A?Qn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var N=u.h;if(A)ar(y,u.u);else if(A=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var te=y.h.lastIndexOf("/");te!=-1&&(N=y.h.slice(0,te+1)+N)}if(te=N,te==".."||te==".")N="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){N=te.lastIndexOf("/",0)==0,te=te.split("/");const fe=[];for(let Ue=0;Ue<te.length;){const At=te[Ue++];At=="."?N&&Ue==te.length&&fe.push(""):At==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),N&&Ue==te.length&&fe.push("")):(fe.push(At),N=!0)}N=fe.join("/")}else N=te}return A?y.h=N:A=u.i.toString()!=="",A?jr(y,ya(u.i)):A=!!u.m,A&&(y.m=u.m),y};function Tn(u){return new Vi(u)}function Qn(u,y,A){u.j=A?ft(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function jr(u,y,A){y instanceof zr?(u.i=y,va(u.i,u.l)):(A||(y=vi(y,pn)),u.i=new zr(y,u.l))}function nn(u,y,A){u.i.set(y,A)}function Ei(u){return nn(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ft(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vi(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Vn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var La=/[#\/\?@]/g,bo=/[#\?:]/g,Ts=/[#\?]/g,pn=/[#\?@]/g,ga=/#/g;function zr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ni(u){u.g||(u.g=new Map,u.h=0,u.i&&Ur(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}r=zr.prototype,r.add=function(u,y){ni(this),this.i=null,u=Rr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function sr(u,y){ni(u),y=Rr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ua(u,y){return ni(u),y=Rr(u,y),u.g.has(y)}r.forEach=function(u,y){ni(this),this.g.forEach(function(A,N){A.forEach(function(te){u.call(y,te,N,this)},this)},this)};function Sr(u,y){ni(u);let A=[];if(typeof y=="string")Ua(u,y)&&(A=A.concat(u.g.get(Rr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}r.set=function(u,y){return ni(this),this.i=null,u=Rr(this,u),Ua(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=Sr(this,u),u.length>0?String(u[0]):y):y};function ja(u,y,A){sr(u,y),A.length>0&&(u.i=null,u.g.set(Rr(u,y),ee(A)),u.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var A=y[N];const te=Ye(A);A=Sr(this,A);for(let fe=0;fe<A.length;fe++){let Ue=te;A[fe]!==""&&(Ue+="="+Ye(A[fe])),u.push(Ue)}}return this.i=u.join("&")};function ya(u){const y=new zr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Rr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function va(u,y){y&&!u.j&&(ni(u),u.i=null,u.g.forEach(function(A,N){const te=N.toLowerCase();N!=te&&(sr(this,N),ja(this,te,A))},u)),u.j=y}function or(u,y){const A=new Xn;if(p.Image){const N=new Image;N.onload=M(lr,A,"TestLoadImage: loaded",!0,y,N),N.onerror=M(lr,A,"TestLoadImage: error",!1,y,N),N.onabort=M(lr,A,"TestLoadImage: abort",!1,y,N),N.ontimeout=M(lr,A,"TestLoadImage: timeout",!1,y,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else y(!1)}function As(u,y){const A=new Xn,N=new AbortController,te=setTimeout(()=>{N.abort(),lr(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:N.signal}).then(fe=>{clearTimeout(te),fe.ok?lr(A,"TestPingServer: ok",!0,y):lr(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(te),lr(A,"TestPingServer: error",!1,y)})}function lr(u,y,A,N,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),N(A)}catch{}}function ur(){this.g=new X}function Ki(u){this.i=u.Sb||null,this.h=u.ab||!1}L(Ki,de),Ki.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,y){at.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}L(cr,at),r=cr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?hr(this):Ti(this),this.readyState==3&&ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},r.Na=function(u){this.g&&(this.response=u,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ti(u)}r.setRequestHeader=function(u,y){this.A.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fi(u){let y="";return he(u,function(A,N){y+=N,y+=":",y+=A,y+=`\r
`}),y}function Br(u,y,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=fi(A),typeof u=="string"?A!=null&&Ye(A):nn(u,y,A))}function Ot(u){at.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}L(Ot,at);var Fr=/^https?$/i,Pi=["POST","PUT"];r=Ot.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,y,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ir.g(),this.g.onreadystatechange=q(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(fe){na(this,fe);return}if(u=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var te in N)A.set(te,N[te]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const fe of N.keys())A.set(fe,N.get(fe));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(fe=>fe.toLowerCase()=="content-type"),te=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Pi,y,void 0)>=0)||N||te||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ue]of A)this.g.setRequestHeader(fe,Ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(fe){na(this,fe)}};function na(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,_a(u),Cr(u)}function _a(u){u.A||(u.A=!0,cn(u,"complete"),cn(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,cn(this,"complete"),cn(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},r.Xa=function(){ia(this)};function ia(u){if(u.h&&typeof c<"u"){if(u.v&&Ir(u)==4)setTimeout(u.Ca.bind(u),0);else if(cn(u,"readystatechange"),Ir(u)==4){u.h=!1;try{const fe=u.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var N;if(N=fe===0){let Ue=String(u.D).match(_o)[1]||null;!Ue&&p.self&&p.self.location&&(Ue=p.self.location.protocol.slice(0,-1)),N=!Fr.test(Ue?Ue.toLowerCase():"")}A=N}if(A)cn(u,"complete"),cn(u,"success");else{u.o=6;try{var te=Ir(u)>2?u.g.statusText:""}catch{te=""}u.l=te+" ["+u.ca()+"]",_a(u)}}finally{Cr(u)}}}}function Cr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||cn(u,"ready");try{A.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ir(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),x(y)}};function di(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(u){const y={};u=(u.g&&Ir(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(I(u[N]))continue;var A=ma(u[N]);const te=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const fe=y[te]||[];y[te]=fe,fe.push(A)}Ce(y,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function ba(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,u),this.Za=Hr("retryDelaySeedMs",1e4,u),this.Ta=Hr("forwardChannelMaxRetries",2,u),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ar(u&&u.concurrentRequestLimit),this.Ba=new ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ba.prototype,r.ka=8,r.I=1,r.connect=function(u,y,A,N){jt(0),this.W=u,this.H=y||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=Jo(this,null,this.W),Wi(this)};function wo(u){if(za(u),u.I==3){var y=u.V++,A=Tn(u.J);if(nn(A,"SID",u.M),nn(A,"RID",y),nn(A,"TYPE","terminate"),Fa(u,A),y=new wi(u,u.j,y),y.M=2,y.A=Ei(Tn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Zo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),qe(y)}Cs(u)}function Mr(u){u.g&&($i(u),u.g.cancel(),u.g=null)}function za(u){Mr(u),u.v&&(p.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Wi(u){if(!Xi(u.h)&&!u.m){u.m=!0;var y=u.Ea;Ge||z(),Xe||(Ge(),Xe=!0),F.add(y,u),u.D=0}}function Ba(u,y){return Qi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nn(E(u.Ea,u,y),Rs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const te=new wi(this,this.j,u);let fe=this.o;if(this.U&&(fe?(fe=P(fe),Ee(fe,this.U)):fe=this.U),this.u!==null||this.R||(te.J=fe,fe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Wo(this,te,y),A=Tn(this.J),nn(A,"RID",u),nn(A,"CVER",22),this.G&&nn(A,"X-HTTP-Session-Id",this.G),Fa(this,A),fe&&(this.R?y="headers="+Ye(fi(fe))+"&"+y:this.u&&Br(A,this.u,fe)),vo(this.h,te),this.Ra&&nn(A,"TYPE","init"),this.S?(nn(A,"$req",y),nn(A,"SID","null"),te.U=!0,De(te,A,null)):De(te,A,y),this.I=2}}else this.I==3&&(u?Ss(this,u):this.i.length==0||Xi(this.h)||Ss(this))};function Ss(u,y){var A;y?A=y.l:A=u.V++;const N=Tn(u.J);nn(N,"SID",u.M),nn(N,"RID",A),nn(N,"AID",u.K),Fa(u,N),u.u&&u.o&&Br(N,u.u,u.o),A=new wi(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Wo(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,A),De(A,N,y)}function Fa(u,y){u.H&&he(u.H,function(A,N){nn(y,N,A)}),u.l&&he({},function(A,N){nn(y,N,A)})}function Wo(u,y,A){A=Math.min(u.i.length,A);const N=u.l?E(u.l.Ka,u.l,u):null;e:{var te=u.i;let At=-1;for(;;){const Hn=["count="+A];At==-1?A>0?(At=te[0].g,Hn.push("ofs="+At)):At=0:Hn.push("ofs="+At);let rn=!0;for(let Dn=0;Dn<A;Dn++){var fe=te[Dn].g;const ki=te[Dn].map;if(fe-=At,fe<0)At=Math.max(0,te[Dn].g-100),rn=!1;else try{fe="req"+fe+"_"||"";try{var Ue=ki instanceof Map?ki:Object.entries(ki);for(const[dr,mr]of Ue){let Ji=mr;b(mr)&&(Ji=v(mr)),Hn.push(fe+dr+"="+encodeURIComponent(Ji))}}catch(dr){throw Hn.push(fe+"type="+encodeURIComponent("_badmap")),dr}}catch{N&&N(ki)}}if(rn){Ue=Hn.join("&");break e}}Ue=void 0}return u=u.i.splice(0,A),y.G=u,Ue}function $n(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Ge||z(),Xe||(Ge(),Xe=!0),F.add(y,u),u.A=0}}function wa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nn(E(u.Da,u),Rs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nn(E(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Mr(this),$o(this))};function $i(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function $o(u){u.g=new wi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Tn(u.na);nn(y,"RID","rpc"),nn(y,"SID",u.M),nn(y,"AID",u.K),nn(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&nn(y,"TO",u.ia),nn(y,"TYPE","xmlhttp"),Fa(u,y),u.u&&u.o&&Br(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Ei(Tn(y)),A.u=null,A.R=!0,ke(A,u)}r.Va=function(){this.C!=null&&(this.C=null,Mr(this),wa(this),jt(19))};function ra(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ha(u,y){var A=null;if(u.g==y){ra(u),$i(u),u.g=null;var N=2}else if(rr(u.h,y))A=y.G,pa(u.h,y),N=1;else return;if(u.I!=0){if(y.o)if(N==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var te=u.D;N=Cn(),cn(N,new In(N,A)),Wi(u)}else $n(u);else if(te=y.m,te==3||te==0&&y.X>0||!(N==1&&Ba(u,y)||N==2&&wa(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),te){case 1:Dr(u,5);break;case 4:Dr(u,10);break;case 3:Dr(u,6);break;default:Dr(u,2)}}}function Rs(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Dr(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),N=u.Ua;const te=!N;N=new Vi(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Qn(N,"https"),Ei(N),te?or(N.toString(),A):As(N.toString(),A)}else jt(2);u.I=0,u.l&&u.l.pa(y),Cs(u),za(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Cs(u){if(u.I=0,u.ja=[],u.l){const y=Es(u.h);(y.length!=0||u.i.length!=0)&&(j(u.ja,y),j(u.ja,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.oa()}}function Jo(u,y,A){var N=A instanceof Vi?Tn(A):new Vi(A);if(N.g!="")y&&(N.g=y+"."+N.g),ar(N,N.u);else{var te=p.location;N=te.protocol,y=y?y+"."+te.hostname:te.hostname,te=+te.port;const fe=new Vi(null);N&&Qn(fe,N),y&&(fe.g=y),te&&ar(fe,te),A&&(fe.h=A),N=fe}return A=u.G,y=u.wa,A&&y&&nn(N,A,y),nn(N,"VER",u.ka),Fa(u,N),N}function Zo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ot(new Ki({ab:A})):new Ot(u.ma),y.Fa(u.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Is(){}r=Is.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ea(){}Ea.prototype.g=function(u,y){return new Ai(u,y)};function Ai(u,y){at.call(this),this.g=new ba(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new aa(this)}L(Ai,at),Ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ai.prototype.close=function(){wo(this.g)},Ai.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new mn(y.Ya++,u)),y.I==3&&Wi(y)},Ai.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Ai.Z.N.call(this)};function Eo(u){tt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(Eo,tt);function el(){He.call(this),this.status=1}L(el,He);function aa(u){this.g=u}L(aa,Is),aa.prototype.ra=function(){cn(this.g,"a")},aa.prototype.qa=function(u){cn(this.g,new Eo(u))},aa.prototype.pa=function(u){cn(this.g,new el)},aa.prototype.oa=function(){cn(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,Ai.prototype.send=Ai.prototype.o,Ai.prototype.open=Ai.prototype.m,Ai.prototype.close=Ai.prototype.close,Vb=function(){return new Ea},Nb=function(){return Cn()},xb=Je,Pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Ch=Yi,Ni.COMPLETE="complete",Ob=Ni,Ie.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",at.prototype.listen=at.prototype.J,Uu=Ie,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Db=Ot}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",x_="4.9.2";class zi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let Kl="12.3.0";const qo=new Zm("@firebase/firestore");function Ml(){return qo.logLevel}function et(r,...e){if(qo.logLevel<=Yt.DEBUG){const i=e.map(cp);qo.debug(`Firestore (${Kl}): ${r}`,...i)}}function _s(r,...e){if(qo.logLevel<=Yt.ERROR){const i=e.map(cp);qo.error(`Firestore (${Kl}): ${r}`,...i)}}function zl(r,...e){if(qo.logLevel<=Yt.WARN){const i=e.map(cp);qo.warn(`Firestore (${Kl}): ${r}`,...i)}}function cp(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function bt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Pb(r,s,i)}function Pb(r,e,i){let s=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw _s(s),new Error(s)}function vn(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||Pb(e,l,s)}function Mt(r,e){return r}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jo{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class kb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(zi.UNAUTHENTICATED)))}shutdown(){}}class tC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nC{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){vn(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jo,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jo)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vn(typeof s.accessToken=="string",31837,{l:s}),new kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new zi(e)}}class iC{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rC{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new iC(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(zi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aC{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){vn(this.o===void 0,3512);const s=c=>{c.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,et("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(vn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=sC(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Xt(r,e){return r<e?-1:r>e?1:0}function km(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return _m(l)===_m(c)?Xt(l,c):_m(l)?1:-1}return Xt(r.length,e.length)}const oC=55296,lC=57343;function _m(r){const e=r.charCodeAt(0);return e>=oC&&e<=lC}function Bl(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const V_="__name__";class Ma{constructor(e,i,s){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&bt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Ma.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Xt(e.length,i.length)}static compareSegments(e,i){const s=Ma.isNumericId(e),l=Ma.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ma.extractNumericId(e).compare(Ma.extractNumericId(i)):km(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class On extends Ma{construct(e,i,s){return new On(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new nt(Ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new On(i)}static emptyPath(){return new On([])}}const uC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends Ma{construct(e,i,s){return new Oi(e,i,s)}static isValidIdentifier(e){return uC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new Oi([V_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new nt(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new nt(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new nt(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new nt(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(i)}static emptyPath(){return new Oi([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(On.fromString(e))}static fromName(e){return new mt(On.fromString(e).popFirst(5))}static empty(){return new mt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return On.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new On(e.slice()))}}function Lb(r,e,i){if(!i)throw new nt(Ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cC(r,e,i,s){if(e===!0&&s===!0)throw new nt(Ae.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function P_(r){if(!mt.isDocumentKey(r))throw new nt(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function k_(r){if(mt.isDocumentKey(r))throw new nt(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ub(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function qu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new nt(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=af(r);throw new nt(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function ui(r,e){const i={typeString:r};return e&&(i.value=e),i}function cc(r,e){if(!Ub(r))throw new nt(Ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const p=r[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new nt(Ae.INVALID_ARGUMENT,i);return!0}const L_=-62135596800,U_=1e6;class Un{static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*U_);return new Un(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<L_)throw new nt(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,Un._jsonSchema))return new Un(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Un._jsonSchemaVersion="firestore/timestamp/1.0",Un._jsonSchema={type:ui("string",Un._jsonSchemaVersion),seconds:ui("number"),nanoseconds:ui("number")};class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Un(0,0))}static max(){return new Ct(new Un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function hC(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(s===1e9?new Un(i+1,0):new Un(i,s));return new ho(l,mt.empty(),e)}function fC(r){return new ho(r.readTime,r.key,$u)}class ho{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ho(Ct.min(),mt.empty(),$u)}static max(){return new ho(Ct.max(),mt.empty(),$u)}}function dC(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Xt(r.largestBatchId,e.largestBatchId))}const mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Wl(r){if(r.code!==Ae.FAILED_PRECONDITION||r.message!==mC)throw r;et("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Se(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Se?i:Se.resolve(i)}catch(i){return Se.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.reject(i)}static resolve(e){return new Se(((i,s)=>{i(e)}))}static reject(e){return new Se(((i,s)=>{s(e)}))}static waitFor(e){return new Se(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Se.resolve(!1);for(const s of e)i=i.next((l=>l?Se.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Se(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((M=>{p[E]=M,++b,b===c&&s(p)}),(M=>l(M)))}}))}static doWhile(e,i){return new Se(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function gC(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $l(r){return r.name==="IndexedDbTransactionError"}class sf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;const fp=-1;function of(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function yC(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const jb="";function vC(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=j_(e)),e=_C(r.get(i),e);return j_(e)}function _C(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case jb:i+="";break;default:i+=c}}return i}function j_(r){return r+jb+""}function z_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yo(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function zb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class qn{constructor(e,i){this.comparator=e,this.root=i||Di.EMPTY}insert(e,i){return new qn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Di.RED,this.left=l??Di.EMPTY,this.right=c??Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Di(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Di.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Di(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gi{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new gi(this.comparator);return i.data=e,i}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ha{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new ha([])}unionWith(e){let i=new gi(Oi.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ha(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Bb("Invalid base64 string: "+c):c}})(e);return new xi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new xi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(r){if(vn(!!r,39018),typeof r=="string"){let e=0;const i=bC.exec(r);if(vn(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ti(r.seconds),nanos:ti(r.nanos)}}function ti(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mo(r){return typeof r=="string"?xi.fromBase64String(r):xi.fromUint8Array(r)}const Fb="server_timestamp",Hb="__type__",qb="__previous_value__",Gb="__local_write_time__";function dp(r){return(r?.mapValue?.fields||{})[Hb]?.stringValue===Fb}function lf(r){const e=r.mapValue.fields[qb];return dp(e)?lf(e):e}function Ju(r){const e=fo(r.mapValue.fields[Gb].timestampValue);return new Un(e.seconds,e.nanos)}class wC{constructor(e,i,s,l,c,p,b,w,E,M){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=M}}const Fh="(default)";class Zu{constructor(e,i){this.projectId=e,this.database=i||Fh}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const Yb="__type__",EC="__max__",_h={mapValue:{}},Xb="__vector__",Hh="value";function po(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:AC(r)?9007199254740991:TC(r)?10:11:bt(28295,{value:r})}function ka(r,e){if(r===e)return!0;const i=po(r);if(i!==po(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ju(r).isEqual(Ju(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=fo(l.timestampValue),b=fo(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return mo(l.bytesValue).isEqual(mo(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return ti(l.geoPointValue.latitude)===ti(c.geoPointValue.latitude)&&ti(l.geoPointValue.longitude)===ti(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ti(l.integerValue)===ti(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=ti(l.doubleValue),b=ti(c.doubleValue);return p===b?Bh(p)===Bh(b):isNaN(p)&&isNaN(b)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(z_(p)!==z_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!ka(p[w],b[w])))return!1;return!0})(r,e);default:return bt(52216,{left:r})}}function ec(r,e){return(r.values||[]).find((i=>ka(i,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const i=po(r),s=po(e);if(i!==s)return Xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xt(r.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=ti(c.integerValue||c.doubleValue),w=ti(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(r,e);case 3:return F_(r.timestampValue,e.timestampValue);case 4:return F_(Ju(r),Ju(e));case 5:return km(r.stringValue,e.stringValue);case 6:return(function(c,p){const b=mo(c),w=mo(p);return b.compareTo(w)})(r.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const M=Xt(b[E],w[E]);if(M!==0)return M}return Xt(b.length,w.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Xt(ti(c.latitude),ti(p.latitude));return b!==0?b:Xt(ti(c.longitude),ti(p.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return H_(r.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Hh]?.arrayValue,M=w[Hh]?.arrayValue,L=Xt(E?.values?.length||0,M?.values?.length||0);return L!==0?L:H_(E,M)})(r.mapValue,e.mapValue);case 11:return(function(c,p){if(c===_h.mapValue&&p===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(p===_h.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},M=Object.keys(E);w.sort(),M.sort();for(let L=0;L<w.length&&L<M.length;++L){const q=km(w[L],M[L]);if(q!==0)return q;const ee=Fl(b[w[L]],E[M[L]]);if(ee!==0)return ee}return Xt(w.length,M.length)})(r.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function F_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xt(r,e);const i=fo(r),s=fo(e),l=Xt(i.seconds,s.seconds);return l!==0?l:Xt(i.nanos,s.nanos)}function H_(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fl(i[l],s[l]);if(c)return c}return Xt(i.length,s.length)}function Hl(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=fo(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return mo(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Lm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${Lm(i.fields[p])}`;return l+"}"})(r.mapValue):bt(61005,{value:r})}function Ih(r){switch(po(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return mo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Ih(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Yo(s.fields,((c,p)=>{l+=c.length+Ih(p)})),l})(r.mapValue);default:throw bt(13486,{value:r})}}function q_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function mp(r){return!!r&&"arrayValue"in r}function G_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function TC(r){return(r?.mapValue?.fields||{})[Yb]?.stringValue===Xb}function Gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yo(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Gu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gu(r.arrayValue.values[i]);return e}return{...r}}function AC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Mh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(i)}setAll(e){let i=Oi.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Mh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Mh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Yo(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new Zr(Gu(this.value))}}function Qb(r){const e=[];return Yo(r.fields,((i,s)=>{const l=new Oi([i]);if(Mh(s)){const c=Qb(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ha(e)}class Bi{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Bi(e,0,Ct.min(),Ct.min(),Ct.min(),Zr.empty(),0)}static newFoundDocument(e,i,s,l){return new Bi(e,1,i,Ct.min(),s,l,0)}static newNoDocument(e,i){return new Bi(e,2,i,Ct.min(),Ct.min(),Zr.empty(),0)}static newUnknownDocument(e,i){return new Bi(e,3,i,Ct.min(),Ct.min(),Zr.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qh{constructor(e,i){this.position=e,this.inclusive=i}}function X_(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],p=r.position[l];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(p.referenceValue),i.key):s=Fl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ka(r.position[i],e.position[i]))return!1;return!0}class Gh{constructor(e,i="asc"){this.field=e,this.dir=i}}function SC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Kb{}class li extends Kb{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new CC(e,i,s):i==="array-contains"?new DC(e,s):i==="in"?new OC(e,s):i==="not-in"?new xC(e,s):i==="array-contains-any"?new NC(e,s):new li(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new IC(e,s):new MC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fl(i,this.value)):i!==null&&po(this.value)===po(i)&&this.matchesComparison(Fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends Kb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new fa(e,i)}matches(e){return Wb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wb(r){return r.op==="and"}function $b(r){return RC(r)&&Wb(r)}function RC(r){for(const e of r.filters)if(e instanceof fa)return!1;return!0}function jm(r){if(r instanceof li)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if($b(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((i=>jm(i))).join(",");return`${r.op}(${e})`}}function Jb(r,e){return r instanceof li?(function(s,l){return l instanceof li&&s.op===l.op&&s.field.isEqual(l.field)&&ka(s.value,l.value)})(r,e):r instanceof fa?(function(s,l){return l instanceof fa&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&Jb(p,l.filters[b])),!0):!1})(r,e):void bt(19439)}function Zb(r){return r instanceof li?(function(i){return`${i.field.canonicalString()} ${i.op} ${Hl(i.value)}`})(r):r instanceof fa?(function(i){return i.op.toString()+" {"+i.getFilters().map(Zb).join(" ,")+"}"})(r):"Filter"}class CC extends li{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class IC extends li{constructor(e,i){super(e,"in",i),this.keys=ew("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class MC extends li{constructor(e,i){super(e,"not-in",i),this.keys=ew("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ew(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class DC extends li{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return mp(i)&&ec(i.arrayValue,this.value)}}class OC extends li{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ec(this.value.arrayValue,i)}}class xC extends li{constructor(e,i){super(e,"not-in",i)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ec(this.value.arrayValue,i)}}class NC extends li{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!mp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ec(this.value.arrayValue,s)))}}class VC{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function K_(r,e=null,i=[],s=[],l=null,c=null,p=null){return new VC(r,e,i,s,l,c,p)}function pp(r){const e=Mt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>jm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),of(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=i}return e.Te}function gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!SC(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Jb(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Q_(r.startAt,e.startAt)&&Q_(r.endAt,e.endAt)}function zm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hc{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PC(r,e,i,s,l,c,p,b){return new hc(r,e,i,s,l,c,p,b)}function yp(r){return new hc(r)}function W_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tw(r){return r.collectionGroup!==null}function Yu(r){const e=Mt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new gi(Oi.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Gh(c,s))})),i.has(Oi.keyField().canonicalString())||e.Ie.push(new Gh(Oi.keyField(),s))}return e.Ie}function xa(r){const e=Mt(r);return e.Ee||(e.Ee=kC(e,Yu(r))),e.Ee}function kC(r,e){if(r.limitType==="F")return K_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gh(l.field,c)}));const i=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return K_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Bm(r,e){const i=r.filters.concat([e]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Fm(r,e,i){return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function uf(r,e){return gp(xa(r),xa(e))&&r.limitType===e.limitType}function nw(r){return`${pp(xa(r))}|lt:${r.limitType}`}function Dl(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>Zb(l))).join(", ")}]`),of(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Hl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Hl(l))).join(",")),`Target(${s})`})(xa(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of Yu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=X_(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Yu(s),l)||s.endAt&&!(function(p,b,w){const E=X_(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Yu(s),l))})(r,e)}function LC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iw(r){return(e,i)=>{let s=!1;for(const l of Yu(r)){const c=UC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function UC(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?Fl(w,E):bt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:r.dir})}}class Xo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}const jC=new qn(mt.comparator);function bs(){return jC}const rw=new qn(mt.comparator);function ju(...r){let e=rw;for(const i of r)e=e.insert(i.key,i);return e}function aw(r){let e=rw;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Uo(){return Xu()}function sw(){return Xu()}function Xu(){return new Xo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const zC=new qn(mt.comparator),BC=new gi(mt.comparator);function Qt(...r){let e=BC;for(const i of r)e=e.add(i);return e}const FC=new gi(Xt);function HC(){return FC}function vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function ow(r){return{integerValue:""+r}}function qC(r,e){return yC(e)?ow(e):vp(r,e)}class hf{constructor(){this._=void 0}}function GC(r,e,i){return r instanceof Yh?(function(l,c){const p={fields:{[Hb]:{stringValue:Fb},[Gb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&dp(c)&&(c=lf(c)),c&&(p.fields[qb]=c),{mapValue:p}})(i,e):r instanceof tc?uw(r,e):r instanceof nc?cw(r,e):(function(l,c){const p=lw(l,c),b=$_(p)+$_(l.Ae);return Um(p)&&Um(l.Ae)?ow(b):vp(l.serializer,b)})(r,e)}function YC(r,e,i){return r instanceof tc?uw(r,e):r instanceof nc?cw(r,e):i}function lw(r,e){return r instanceof Xh?(function(s){return Um(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Yh extends hf{}class tc extends hf{constructor(e){super(),this.elements=e}}function uw(r,e){const i=hw(e);for(const s of r.elements)i.some((l=>ka(l,s)))||i.push(s);return{arrayValue:{values:i}}}class nc extends hf{constructor(e){super(),this.elements=e}}function cw(r,e){let i=hw(e);for(const s of r.elements)i=i.filter((l=>!ka(l,s)));return{arrayValue:{values:i}}}class Xh extends hf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $_(r){return ti(r.integerValue||r.doubleValue)}function hw(r){return mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function XC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof tc&&l instanceof tc||s instanceof nc&&l instanceof nc?Bl(s.elements,l.elements,ka):s instanceof Xh&&l instanceof Xh?ka(s.Ae,l.Ae):s instanceof Yh&&l instanceof Yh})(r.transform,e.transform)}class QC{constructor(e,i){this.version=e,this.transformResults=i}}class ms{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function fw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mw(r.key,ms.none()):new fc(r.key,r.data,ms.none());{const i=r.data,s=Zr.empty();let l=new gi(Oi.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Qo(r.key,s,new ha(l.toArray()),ms.none())}}function KC(r,e,i){r instanceof fc?(function(l,c,p){const b=l.value.clone(),w=Z_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(r,e,i):r instanceof Qo?(function(l,c,p){if(!Dh(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=Z_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(dw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(r,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Qu(r,e,i,s){return r instanceof fc?(function(c,p,b,w){if(!Dh(c.precondition,p))return b;const E=c.value.clone(),M=e0(c.fieldTransforms,w,p);return E.setAll(M),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(r,e,i,s):r instanceof Qo?(function(c,p,b,w){if(!Dh(c.precondition,p))return b;const E=e0(c.fieldTransforms,w,p),M=p.data;return M.setAll(dw(c)),M.setAll(E),p.convertToFoundDocument(p.version,M).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((L=>L.field)))})(r,e,i,s):(function(c,p,b){return Dh(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(r,e,i)}function WC(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=lw(s.transform,l||null);c!=null&&(i===null&&(i=Zr.empty()),i.set(s.field,c))}return i||null}function J_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Bl(s,l,((c,p)=>XC(c,p)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends ff{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends ff{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dw(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Z_(r,e,i){const s=new Map;vn(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,YC(p,b,i[l]))}return s}function e0(r,e,i){const s=new Map;for(const l of r){const c=l.transform,p=i.data.field(l.field);s.set(l.field,GC(c,p,e))}return s}class mw extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $C extends ff{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&KC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Qu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Qu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=sw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=fw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(Ct.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qt())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((i,s)=>J_(i,s)))&&Bl(this.baseMutations,e.baseMutations,((i,s)=>J_(i,s)))}}class _p{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){vn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return zC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new _p(e,i,s,l)}}class ZC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class e2{constructor(e,i){this.count=e,this.unchangedNames=i}}var oi,Zt;function t2(r){switch(r){case Ae.OK:return bt(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function pw(r){if(r===void 0)return _s("GRPC error has no .code"),Ae.UNKNOWN;switch(r){case oi.OK:return Ae.OK;case oi.CANCELLED:return Ae.CANCELLED;case oi.UNKNOWN:return Ae.UNKNOWN;case oi.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case oi.INTERNAL:return Ae.INTERNAL;case oi.UNAVAILABLE:return Ae.UNAVAILABLE;case oi.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case oi.NOT_FOUND:return Ae.NOT_FOUND;case oi.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case oi.ABORTED:return Ae.ABORTED;case oi.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case oi.DATA_LOSS:return Ae.DATA_LOSS;default:return bt(39323,{code:r})}}(Zt=oi||(oi={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";function n2(){return new TextEncoder}const i2=new uo([4294967295,4294967295],0);function t0(r){const e=n2().encode(r),i=new Mb;return i.update(e),new Uint8Array(i.digest())}function n0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new uo([i,s],0),new uo([l,c],0)]}class bp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new zu(`Invalid padding: ${i}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new zu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=uo.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(uo.fromNumber(s)));return l.compare(i2)===1&&(l=new uo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=t0(e),[s,l]=n0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new bp(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=t0(e),[s,l]=n0(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new df(Ct.min(),l,new qn(Xt),bs(),Qt())}}class dc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new dc(s,i,Qt(),Qt(),Qt())}}class Oh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class gw{constructor(e,i){this.targetId=e,this.Ce=i}}class yw{constructor(e,i,s=xi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class i0{constructor(){this.ve=0,this.Fe=r0(),this.Me=xi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qt(),i=Qt(),s=Qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:bt(38017,{changeType:c})}})),new dc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=r0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=bh(),this.He=bh(),this.Ye=new qn(Xt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(zm(c))if(s===0){const p=new mt(c.path);this.et(i,p,Bi.newNoDocument(p,Ct.min()))}else vn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=mo(s).toUint8Array()}catch(w){if(w instanceof Bb)return zl("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new bp(p,l,c)}catch(w){return zl(w instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&zm(b.target)){const w=new mt(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Bi.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=Qt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new df(e,i,this.Ye,this.je,s);return this.je=bs(),this.Je=bh(),this.He=bh(),this.Ye=new qn(Xt),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new i0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new gi(Xt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new gi(Xt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||et("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bh(){return new qn(mt.comparator)}function r0(){return new qn(mt.comparator)}const a2={asc:"ASCENDING",desc:"DESCENDING"},s2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o2={and:"AND",or:"OR"};class l2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Hm(r,e){return r.useProto3Json||of(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function u2(r,e){return Qh(r,e.toTimestamp())}function Na(r){return vn(!!r,49232),Ct.fromTimestamp((function(i){const s=fo(i);return new Un(s.seconds,s.nanos)})(r))}function wp(r,e){return qm(r,e).canonicalString()}function qm(r,e){const i=(function(l){return new On(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function _w(r){const e=On.fromString(r);return vn(Aw(e),10190,{key:e.toString()}),e}function Gm(r,e){return wp(r.databaseId,e.path)}function bm(r,e){const i=_w(e);if(i.get(1)!==r.databaseId.projectId)throw new nt(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(ww(i))}function bw(r,e){return wp(r.databaseId,e)}function c2(r){const e=_w(r);return e.length===4?On.emptyPath():ww(e)}function Ym(r){return new On(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ww(r){return vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function a0(r,e,i){return{name:Gm(r,e),fields:i.value.mapValue.fields}}function h2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:bt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,M){return E.useProto3Json?(vn(M===void 0||typeof M=="string",58123),xi.fromBase64String(M||"")):(vn(M===void 0||M instanceof Buffer||M instanceof Uint8Array,16193),xi.fromUint8Array(M||new Uint8Array))})(r,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const M=E.code===void 0?Ae.UNKNOWN:pw(E.code);return new nt(M,E.message||"")})(p);i=new yw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=bm(r,s.document.name),c=Na(s.document.updateTime),p=s.document.createTime?Na(s.document.createTime):Ct.min(),b=new Zr({mapValue:{fields:s.document.fields}}),w=Bi.newFoundDocument(l,c,p,b),E=s.targetIds||[],M=s.removedTargetIds||[];i=new Oh(E,M,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=bm(r,s.document),c=s.readTime?Na(s.readTime):Ct.min(),p=Bi.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Oh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=bm(r,s.document),c=s.removedTargetIds||[];i=new Oh([],c,l,null)}else{if(!("filter"in e))return bt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new e2(l,c),b=s.targetId;i=new gw(b,p)}}return i}function f2(r,e){let i;if(e instanceof fc)i={update:a0(r,e.key,e.value)};else if(e instanceof mw)i={delete:Gm(r,e.key)};else if(e instanceof Qo)i={update:a0(r,e.key,e.data),updateMask:w2(e.fieldMask)};else{if(!(e instanceof $C))return bt(16599,{Vt:e.type});i={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Yh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof nc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Xh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw bt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:u2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:bt(27497)})(r,e.precondition)),i}function d2(r,e){return r&&r.length>0?(vn(e!==void 0,14353),r.map((i=>(function(l,c){let p=l.updateTime?Na(l.updateTime):Na(c);return p.isEqual(Ct.min())&&(p=Na(c)),new QC(p,l.transformResults||[])})(i,e)))):[]}function m2(r,e){return{documents:[bw(r,e.path)]}}function p2(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=bw(r,l);const c=(function(E){if(E.length!==0)return Tw(fa.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((M=>(function(q){return{field:Ol(q.field),direction:v2(q.dir)}})(M)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Hm(r,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function g2(r){let e=c2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){vn(s===1,65062);const M=i.from[0];M.allDescendants?l=M.collectionId:e=e.child(M.collectionId)}let c=[];i.where&&(c=(function(L){const q=Ew(L);return q instanceof fa&&$b(q)?q.getFilters():[q]})(i.where));let p=[];i.orderBy&&(p=(function(L){return L.map((q=>(function(j){return new Gh(xl(j.field),(function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(q)))})(i.orderBy));let b=null;i.limit&&(b=(function(L){let q;return q=typeof L=="object"?L.value:L,of(q)?null:q})(i.limit));let w=null;i.startAt&&(w=(function(L){const q=!!L.before,ee=L.values||[];return new qh(ee,q)})(i.startAt));let E=null;return i.endAt&&(E=(function(L){const q=!L.before,ee=L.values||[];return new qh(ee,q)})(i.endAt)),PC(e,l,p,c,b,"F",w,E)}function y2(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Ew(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=xl(i.unaryFilter.field);return li.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xl(i.unaryFilter.field);return li.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xl(i.unaryFilter.field);return li.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=xl(i.unaryFilter.field);return li.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return li.create(xl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return fa.create(i.compositeFilter.filters.map((s=>Ew(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function v2(r){return a2[r]}function _2(r){return s2[r]}function b2(r){return o2[r]}function Ol(r){return{fieldPath:r.canonicalString()}}function xl(r){return Oi.fromServerFormat(r.fieldPath)}function Tw(r){return r instanceof li?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NAN"}};if(G_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NAN"}};if(G_(i.value))return{unaryFilter:{field:Ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(i.field),op:_2(i.op),value:i.value}}})(r):r instanceof fa?(function(i){const s=i.getFilters().map((l=>Tw(l)));return s.length===1?s[0]:{compositeFilter:{op:b2(i.op),filters:s}}})(r):bt(54877,{filter:r})}function w2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Aw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ao{constructor(e,i,s,l,c=Ct.min(),p=Ct.min(),b=xi.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class E2{constructor(e){this.yt=e}}function T2(r){const e=g2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fm(e,e.limit,"L"):e}class A2{constructor(){this.Cn=new S2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Se.resolve()}getCollectionParents(e,i){return Se.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Se.resolve()}deleteFieldIndex(e,i){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,i){return Se.resolve()}getDocumentsMatchingTarget(e,i){return Se.resolve(null)}getIndexType(e,i){return Se.resolve(0)}getFieldIndexes(e,i){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,i){return Se.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,i){return Se.resolve(ho.min())}updateCollectionGroup(e,i,s){return Se.resolve()}updateIndexEntries(e,i){return Se.resolve()}}class S2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new gi(On.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new gi(On.comparator)).toArray()}}const s0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sw=41943040;class wr{static withCacheSize(e){return new wr(e,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(Sw,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const o0="LruGarbageCollector",R2=1048576;function l0([r,e],[i,s]){const l=Xt(r,i);return l===0?Xt(e,s):l}class C2{constructor(e){this.Ir=e,this.buffer=new gi(l0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();l0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){et(o0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$l(i)?et(o0,"Ignoring IndexedDB error during garbage collection: ",i):await Wl(i)}await this.Vr(3e5)}))}}class M2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Se.resolve(sf.ce);const s=new C2(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(s0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((L=>(L>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),l=this.params.maximumSequenceNumbersToCollect):l=L,p=Date.now(),this.nthSequenceNumber(e,l)))).next((L=>(s=L,b=Date.now(),this.removeTargets(e,s,i)))).next((L=>(c=L,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((L=>(E=Date.now(),Ml()<=Yt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-M}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${L} documents in `+(E-w)+`ms
Total Duration: ${E-M}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:L}))))}}function D2(r,e){return new M2(r,e)}class O2{constructor(){this.changes=new Xo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Se.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class N2{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Qu(s.mutation,l,ha.empty(),Un.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Qt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Qt()){const l=Uo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ju();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=Uo();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Qt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=bs();const p=Xu(),b=(function(){return Xu()})();return i.forEach(((w,E)=>{const M=s.get(E.key);l.has(E.key)&&(M===void 0||M.mutation instanceof Qo)?c=c.insert(E.key,E):M!==void 0?(p.set(E.key,M.mutation.getFieldMask()),Qu(M.mutation,E,M.mutation.getFieldMask(),Un.now())):p.set(E.key,ha.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,M)=>p.set(E,M))),i.forEach(((E,M)=>b.set(E,new x2(M,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=Xu();let l=new qn(((p,b)=>p-b)),c=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let M=s.get(w)||ha.empty();M=b.applyToLocalView(E,M),s.set(w,M);const L=(l.get(b.batchId)||Qt()).add(w);l=l.insert(b.batchId,L)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,M=w.value,L=sw();M.forEach((q=>{if(!c.has(q)){const ee=fw(i.get(q),s.get(q));ee!==null&&L.set(q,ee),c=c.add(q)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,L))}return Se.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return mt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):tw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Se.resolve(Uo());let b=$u,w=c;return p.next((E=>Se.forEach(E,((M,L)=>(b<L.largestBatchId&&(b=L.largestBatchId),c.get(M)?Se.resolve():this.remoteDocumentCache.getEntry(e,M).next((q=>{w=w.insert(M,q)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,Qt()))).next((M=>({batchId:b,changes:aw(M)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Se.forEach(b,(w=>{const E=(function(L,q){return new hc(q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((M=>{M.forEach(((L,q)=>{p=p.insert(L,q)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const M=E.getKey();p.get(M)===null&&(p=p.insert(M,Bi.newInvalidDocument(M)))}));let b=ju();return p.forEach(((w,E)=>{const M=c.get(w);M!==void 0&&Qu(M.mutation,E,ha.empty(),Un.now()),cf(i,E)&&(b=b.insert(w,E))})),b}))}}class V2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Se.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Na(l.createTime)}})(i)),Se.resolve()}getNamedQuery(e,i){return Se.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:T2(l.bundledQuery),readTime:Na(l.readTime)}})(i)),Se.resolve()}}class P2{constructor(){this.overlays=new qn(mt.comparator),this.qr=new Map}getOverlay(e,i){return Se.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Uo();return Se.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Se.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Se.resolve()}getOverlaysForCollection(e,i,s){const l=Uo(),c=i.length+1,p=new mt(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Se.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new qn(((E,M)=>E-M));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let M=c.get(E.largestBatchId);M===null&&(M=Uo(),c=c.insert(E.largestBatchId,M)),M.set(E.getKey(),E)}}const b=Uo(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,M)=>b.set(E,M))),!(b.size()>=l)););return Se.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new ZC(i,s));let c=this.qr.get(i);c===void 0&&(c=Qt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class k2{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Se.resolve()}}class Ep{constructor(){this.Qr=new gi(bi.$r),this.Ur=new gi(bi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new bi(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new bi(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new On([])),s=new bi(i,e),l=new bi(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new On([])),s=new bi(i,e),l=new bi(i,e+1);let c=Qt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new bi(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class bi{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Xt(e.Yr,i.Yr)}static Kr(e,i){return Xt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}class L2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new gi(bi.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new JC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new bi(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Se.resolve(p)}lookupMutationBatch(e,i){return Se.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?fp:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new bi(i,0),l=new bi(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new gi(Xt);return i.forEach((l=>{const c=new bi(l,0),p=new bi(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const p=new bi(new mt(c),0);let b=new gi(Xt);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Se.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){vn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Se.forEach(i.mutations,(l=>{const c=new bi(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new bi(i,0),l=this.Zr.firstAfterOrEqual(s);return Se.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class U2{constructor(e){this.ri=e,this.docs=(function(){return new qn(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Se.resolve(s?s.document.mutableCopy():Bi.newInvalidDocument(i))}getEntries(e,i){let s=bs();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Bi.newInvalidDocument(l))})),Se.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=bs();const p=i.path,b=new mt(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:M}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||dC(fC(M),s)<=0||(l.has(M.key)||cf(i,M))&&(c=c.insert(M.key,M.mutableCopy()))}return Se.resolve(c)}getAllFromCollectionGroup(e,i,s,l){bt(9500)}ii(e,i){return Se.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new j2(this)}getSize(e){return Se.resolve(this.size)}}class j2 extends O2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Se.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class z2{constructor(e){this.persistence=e,this.si=new Xo((i=>pp(i)),gp),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Se.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ql(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Se.resolve()}updateTargetData(e,i){return this.Pr(i),Se.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Se.waitFor(c).next((()=>l))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Se.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Se.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Se.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Se.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Se.resolve(s)}containsKey(e,i){return Se.resolve(this._i.containsKey(i))}}class Rw{constructor(e,i){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new k2,this.referenceDelegate=e(this),this.Pi=new z2(this),this.indexManager=new A2,this.remoteDocumentCache=(function(l){return new U2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new E2(i),this.Ii=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new P2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new L2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){et("MemoryPersistence","Starting transaction:",e);const l=new B2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class B2 extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new Tp(e)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Se.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Se.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(s=>{const l=mt.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ct.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Se.or([()=>Se.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Kh{constructor(e,i){this.persistence=e,this.pi=new Xo((s=>vC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=D2(this,i)}static mi(e,i){return new Kh(e,i)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Se.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Se.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,Ct.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ih(e.data.value)),i}br(e,i,s){return Se.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Se.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ap{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Qt(),l=Qt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ap(e,i.fromCache,s,l)}}class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class H2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x1()?8:gC(Fi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new F2;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Ml()<=Yt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Dl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Ml()<=Yt.DEBUG&&et("QueryEngine","Query:",Dl(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ml()<=Yt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Dl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xa(i))):Se.resolve())}ys(e,i){if(W_(i))return Se.resolve(null);let s=xa(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Fm(i,null,"F"),s=xa(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=Qt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Fm(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return W_(i)||l.isEqual(Ct.min())?Se.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Se.resolve(null):(Ml()<=Yt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Dl(i)),this.vs(e,p,i,hC(l,$u)).next((b=>b)))}))}Ds(e,i){let s=new gi(iw(e));return i.forEach(((l,c)=>{cf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Ml()<=Yt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Dl(i)),this.ps.getDocumentsMatchingQuery(e,i,ho.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Sp="LocalStore",q2=3e8;class G2{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new qn(Xt),this.xs=new Xo((c=>pp(c)),gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Y2(r,e,i,s){return new G2(r,e,i,s)}async function Cw(r,e){const i=Mt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=Qt();for(const E of l){p.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}for(const E of c){b.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function X2(r,e){const i=Mt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,M){const L=E.batch,q=L.keys();let ee=Se.resolve();return q.forEach((j=>{ee=ee.next((()=>M.getEntry(w,j))).next((xe=>{const Te=E.docVersions.get(j);vn(Te!==null,48541),xe.version.compareTo(Te)<0&&(L.applyToRemoteDocument(xe,E),xe.isValidDocument()&&(xe.setReadTime(E.commitVersion),M.addEntry(xe)))}))})),ee.next((()=>b.mutationQueue.removeMutationBatch(w,L)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=Qt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Iw(r){const e=Mt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Q2(r,e){const i=Mt(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((M,L)=>{const q=l.get(L);if(!q)return;b.push(i.Pi.removeMatchingKeys(c,M.removedDocuments,L).next((()=>i.Pi.addMatchingKeys(c,M.addedDocuments,L))));let ee=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(L)!==null?ee=ee.withResumeToken(xi.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):M.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(M.resumeToken,s)),l=l.insert(L,ee),(function(xe,Te,Ne){return xe.resumeToken.approximateByteSize()===0||Te.snapshotVersion.toMicroseconds()-xe.snapshotVersion.toMicroseconds()>=q2?!0:Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0})(q,ee,M)&&b.push(i.Pi.updateTargetData(c,ee))}));let w=bs(),E=Qt();if(e.documentUpdates.forEach((M=>{e.resolvedLimboDocuments.has(M)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,M))})),b.push(K2(c,p,e.documentUpdates).next((M=>{w=M.ks,E=M.qs}))),!s.isEqual(Ct.min())){const M=i.Pi.getLastRemoteSnapshotVersion(c).next((L=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(M)}return Se.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function K2(r,e,i){let s=Qt(),l=Qt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let p=bs();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(Ct.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):et(Sp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function W2(r,e){const i=Mt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $2(r,e){const i=Mt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Se.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new ao(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Xm(r,e,i){const s=Mt(r),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!$l(p))throw p;et(Sp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function u0(r,e,i){const s=Mt(r);let l=Ct.min(),c=Qt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,M){const L=Mt(w),q=L.xs.get(M);return q!==void 0?Se.resolve(L.Ms.get(q)):L.Pi.getTargetData(E,M)})(s,p,xa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:Ct.min(),i?c:Qt()))).next((b=>(J2(s,LC(e),b),{documents:b,Qs:c})))))}function J2(r,e,i){let s=r.Os.get(e)||Ct.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class c0{constructor(){this.activeTargetIds=HC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z2{constructor(){this.Mo=new c0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eI{Oo(e){}shutdown(){}}const h0="ConnectivityMonitor";class f0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(h0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){et(h0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function Qm(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const wm="RestConnection",tI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Fh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=Qm(),b=this.zo(e,i.toUriEncodedString());et(wm,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),M=Yl(E);return this.Jo(e,b,w,s,M).then((L=>(et(wm,`Received RPC '${e}' ${p}: `,L),L)),(L=>{throw zl(wm,`RPC '${e}' ${p} failed with error: `,L,"url: ",b,"request:",s),L}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=tI[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class iI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ji="WebChannelConnection";class rI extends nI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=Qm();return new Promise(((b,w)=>{const E=new Db;E.setWithCredentials(!0),E.listenOnce(Ob.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Ch.NO_ERROR:const L=E.getResponseJson();et(ji,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(L)),b(L);break;case Ch.TIMEOUT:et(ji,`RPC '${e}' ${p} timed out`),w(new nt(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const q=E.getStatus();if(et(ji,`RPC '${e}' ${p} failed with status:`,q,"response text:",E.getResponseText()),q>0){let ee=E.getResponseJson();Array.isArray(ee)&&(ee=ee[0]);const j=ee?.error;if(j&&j.status&&j.message){const xe=(function(Ne){const Ve=Ne.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(Ve)>=0?Ve:Ae.UNKNOWN})(j.status);w(new nt(xe,j.message))}else w(new nt(Ae.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new nt(Ae.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{et(ji,`RPC '${e}' ${p} completed.`)}}));const M=JSON.stringify(l);et(ji,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",M,s,15)}))}T_(e,i,s){const l=Qm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Vb(),b=Nb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const M=c.join("");et(ji,`Creating RPC '${e}' stream ${l}: ${M}`,w);const L=p.createWebChannel(M,w);this.I_(L);let q=!1,ee=!1;const j=new iI({Yo:Te=>{ee?et(ji,`Not sending because RPC '${e}' stream ${l} is closed:`,Te):(q||(et(ji,`Opening RPC '${e}' stream ${l} transport.`),L.open(),q=!0),et(ji,`RPC '${e}' stream ${l} sending:`,Te),L.send(Te))},Zo:()=>L.close()}),xe=(Te,Ne,Ve)=>{Te.listen(Ne,(Le=>{try{Ve(Le)}catch(Pe){setTimeout((()=>{throw Pe}),0)}}))};return xe(L,Uu.EventType.OPEN,(()=>{ee||(et(ji,`RPC '${e}' stream ${l} transport opened.`),j.o_())})),xe(L,Uu.EventType.CLOSE,(()=>{ee||(ee=!0,et(ji,`RPC '${e}' stream ${l} transport closed`),j.a_(),this.E_(L))})),xe(L,Uu.EventType.ERROR,(Te=>{ee||(ee=!0,zl(ji,`RPC '${e}' stream ${l} transport errored. Name:`,Te.name,"Message:",Te.message),j.a_(new nt(Ae.UNAVAILABLE,"The operation could not be completed")))})),xe(L,Uu.EventType.MESSAGE,(Te=>{if(!ee){const Ne=Te.data[0];vn(!!Ne,16349);const Ve=Ne,Le=Ve?.error||Ve[0]?.error;if(Le){et(ji,`RPC '${e}' stream ${l} received error:`,Le);const Pe=Le.status;let Ge=(function(z){const V=oi[z];if(V!==void 0)return pw(V)})(Pe),Xe=Le.message;Ge===void 0&&(Ge=Ae.INTERNAL,Xe="Unknown error status: "+Pe+" with message "+Le.message),ee=!0,j.a_(new nt(Ge,Xe)),L.close()}else et(ji,`RPC '${e}' stream ${l} received:`,Ne),j.u_(Ne)}})),xe(b,xb.STAT_EVENT,(Te=>{Te.stat===Pm.PROXY?et(ji,`RPC '${e}' stream ${l} detected buffering proxy`):Te.stat===Pm.NOPROXY&&et(ji,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Em(){return typeof document<"u"?document:null}function mf(r){return new l2(r,!0)}class Mw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&et("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const d0="PersistentStream";class Dw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ae.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new nt(Ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return et(d0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(et(d0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aI extends Dw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=h2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ct.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Ct.min():p.readTime?Na(p.readTime):Ct.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Ym(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=zm(w)?{documents:m2(c,w)}:{query:p2(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=vw(c,p.resumeToken);const E=Hm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(Ct.min())>0){b.readTime=Qh(c,p.snapshotVersion.toTimestamp());const E=Hm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=y2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Ym(this.serializer),i.removeTarget=e,this.q_(i)}}class sI extends Dw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=d2(e.writeResults,e.commitTime),s=Na(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>f2(this.serializer,s)))};this.q_(i)}}class oI{}class lI extends oI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,qm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Ae.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,qm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new nt(Ae.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):et("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Go="RemoteStore";class cI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Ko(this)&&(et(Go,"Restarting streams for network reachability change."),await(async function(w){const E=Mt(w);E.Ea.add(4),await mc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await pf(E)})(this))}))})),this.Ra=new uI(s,l)}}async function pf(r){if(Ko(r))for(const e of r.da)await e(!0)}async function mc(r){for(const e of r.da)await e(!1)}function Ow(r,e){const i=Mt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Mp(i)?Ip(i):Jl(i).O_()&&Cp(i,e))}function Rp(r,e){const i=Mt(r),s=Jl(i);i.Ia.delete(e),s.O_()&&xw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ko(i)&&i.Ra.set("Unknown"))}function Cp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Jl(r).Y_(e)}function xw(r,e){r.Va.Ue(e),Jl(r).Z_(e)}function Ip(r){r.Va=new r2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Jl(r).start(),r.Ra.ua()}function Mp(r){return Ko(r)&&!Jl(r).x_()&&r.Ia.size>0}function Ko(r){return Mt(r).Ea.size===0}function Nw(r){r.Va=void 0}async function hI(r){r.Ra.set("Online")}async function fI(r){r.Ia.forEach(((e,i)=>{Cp(r,e)}))}async function dI(r,e){Nw(r),Mp(r)?(r.Ra.ha(e),Ip(r)):r.Ra.set("Unknown")}async function mI(r,e,i){if(r.Ra.set("Online"),e instanceof yw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(r,e)}catch(s){et(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(r,s)}else if(e instanceof Oh?r.Va.Ze(e):e instanceof gw?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ct.min()))try{const s=await Iw(r.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const M=c.Ia.get(E);M&&c.Ia.set(E,M.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const M=c.Ia.get(w);if(!M)return;c.Ia.set(w,M.withResumeToken(xi.EMPTY_BYTE_STRING,M.snapshotVersion)),xw(c,w);const L=new ao(M.target,w,E,M.sequenceNumber);Cp(c,L)})),c.remoteSyncer.applyRemoteEvent(b)})(r,i)}catch(s){et(Go,"Failed to raise snapshot:",s),await Wh(r,s)}}async function Wh(r,e,i){if(!$l(e))throw e;r.Ea.add(1),await mc(r),r.Ra.set("Offline"),i||(i=()=>Iw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{et(Go,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await pf(r)}))}function Vw(r,e){return e().catch((i=>Wh(r,i,e)))}async function gf(r){const e=Mt(r),i=go(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fp;for(;pI(e);)try{const l=await W2(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,gI(e,l)}catch(l){await Wh(e,l)}Pw(e)&&kw(e)}function pI(r){return Ko(r)&&r.Ta.length<10}function gI(r,e){r.Ta.push(e);const i=go(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Pw(r){return Ko(r)&&!go(r).x_()&&r.Ta.length>0}function kw(r){go(r).start()}async function yI(r){go(r).ra()}async function vI(r){const e=go(r);for(const i of r.Ta)e.ea(i.mutations)}async function _I(r,e,i){const s=r.Ta.shift(),l=_p.from(s,e,i);await Vw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gf(r)}async function bI(r,e){e&&go(r).X_&&await(async function(s,l){if((function(p){return t2(p)&&p!==Ae.ABORTED})(l.code)){const c=s.Ta.shift();go(s).B_(),await Vw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gf(s)}})(r,e),Pw(r)&&kw(r)}async function m0(r,e){const i=Mt(r);i.asyncQueue.verifyOperationInProgress(),et(Go,"RemoteStore received new credentials");const s=Ko(i);i.Ea.add(3),await mc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await pf(i)}async function wI(r,e){const i=Mt(r);e?(i.Ea.delete(2),await pf(i)):e||(i.Ea.add(2),await mc(i),i.Ra.set("Unknown"))}function Jl(r){return r.ma||(r.ma=(function(i,s,l){const c=Mt(i);return c.sa(),new aI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:hI.bind(null,r),t_:fI.bind(null,r),r_:dI.bind(null,r),H_:mI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Mp(r)?Ip(r):r.Ra.set("Unknown")):(await r.ma.stop(),Nw(r))}))),r.ma}function go(r){return r.fa||(r.fa=(function(i,s,l){const c=Mt(i);return c.sa(),new sI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:yI.bind(null,r),r_:bI.bind(null,r),ta:vI.bind(null,r),na:_I.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&(et(Go,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Dp{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new Dp(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(r,e){if(_s("AsyncQueue",`${e}: ${r}`),$l(r))return new nt(Ae.UNAVAILABLE,`${e}: ${r}`);throw r}class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=ju(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class p0{constructor(){this.ga=new qn(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Gl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Gl(e,i,Ll.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class EI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TI{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Mt(i),c=l.queries;l.queries=g0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new nt(Ae.ABORTED,"Firestore shutting down"))}}function g0(){return new Xo((r=>nw(r)),uf)}async function AI(r,e){const i=Mt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new EI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Op(p,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&xp(i)}async function SI(r,e){const i=Mt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function RI(r,e){const i=Mt(r);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&xp(i)}function CI(r,e,i){const s=Mt(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function xp(r){r.Ca.forEach((e=>{e.next()}))}var Km,y0;(y0=Km||(Km={})).Ma="default",y0.Cache="cache";class II{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class Lw{constructor(e){this.key=e}}class Uw{constructor(e){this.key=e}}class MI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=iw(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new p0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((M,L)=>{const q=l.get(M),ee=cf(this.query,L)?L:null,j=!!q&&this.mutatedKeys.has(q.key),xe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Te=!1;q&&ee?q.data.isEqual(ee.data)?j!==xe&&(s.track({type:3,doc:ee}),Te=!0):this.su(q,ee)||(s.track({type:2,doc:ee}),Te=!0,(w&&this.eu(ee,w)>0||E&&this.eu(ee,E)<0)&&(b=!0)):!q&&ee?(s.track({type:0,doc:ee}),Te=!0):q&&!ee&&(s.track({type:1,doc:q}),Te=!0,(w||E)&&(b=!0)),Te&&(ee?(p=p.add(ee),c=xe?c.add(M):c.delete(M)):(p=p.delete(M),c=c.delete(M)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const M=this.query.limitType==="F"?p.last():p.first();p=p.delete(M.key),c=c.delete(M.key),s.track({type:1,doc:M})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((M,L)=>(function(ee,j){const xe=Te=>{switch(Te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:Te})}};return xe(ee)-xe(j)})(M.type,L.type)||this.eu(M.doc,L.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Gl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Uw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Lw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Np="SyncEngine";class DI{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class OI{constructor(e){this.key=e,this.hu=!1}}class xI{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Xo((b=>nw(b)),uf),this.Iu=new Map,this.Eu=new Set,this.du=new qn(mt.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NI(r,e,i=!0){const s=qw(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await jw(s,e,i,!0),l}async function VI(r,e){const i=qw(r);await jw(i,e,!0,!1)}async function jw(r,e,i,s){const l=await $2(r.localStore,xa(e)),c=l.targetId,p=r.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await PI(r,e,c,p==="current",l.resumeToken)),r.isPrimaryClient&&i&&Ow(r.remoteStore,l),b}async function PI(r,e,i,s,l){r.pu=(L,q,ee)=>(async function(xe,Te,Ne,Ve){let Le=Te.view.ru(Ne);Le.Cs&&(Le=await u0(xe.localStore,Te.query,!1).then((({documents:F})=>Te.view.ru(F,Le))));const Pe=Ve&&Ve.targetChanges.get(Te.targetId),Ge=Ve&&Ve.targetMismatches.get(Te.targetId)!=null,Xe=Te.view.applyChanges(Le,xe.isPrimaryClient,Pe,Ge);return _0(xe,Te.targetId,Xe.au),Xe.snapshot})(r,L,q,ee);const c=await u0(r.localStore,e,!0),p=new MI(e,c.Qs),b=p.ru(c.documents),w=dc.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),E=p.applyChanges(b,r.isPrimaryClient,w);_0(r,i,E.au);const M=new DI(e,i,p);return r.Tu.set(e,M),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),E.snapshot}async function kI(r,e,i){const s=Mt(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!uf(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Xm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Rp(s.remoteStore,l.targetId),Wm(s,l.targetId)})).catch(Wl)):(Wm(s,l.targetId),await Xm(s.localStore,l.targetId,!0))}async function LI(r,e){const i=Mt(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Rp(i.remoteStore,s.targetId))}async function UI(r,e,i){const s=GI(r);try{const l=await(function(p,b){const w=Mt(p),E=Un.now(),M=b.reduce(((ee,j)=>ee.add(j.key)),Qt());let L,q;return w.persistence.runTransaction("Locally write mutations","readwrite",(ee=>{let j=bs(),xe=Qt();return w.Ns.getEntries(ee,M).next((Te=>{j=Te,j.forEach(((Ne,Ve)=>{Ve.isValidDocument()||(xe=xe.add(Ne))}))})).next((()=>w.localDocuments.getOverlayedDocuments(ee,j))).next((Te=>{L=Te;const Ne=[];for(const Ve of b){const Le=WC(Ve,L.get(Ve.key).overlayedDocument);Le!=null&&Ne.push(new Qo(Ve.key,Le,Qb(Le.value.mapValue),ms.exists(!0)))}return w.mutationQueue.addMutationBatch(ee,E,Ne,b)})).next((Te=>{q=Te;const Ne=Te.applyToLocalDocumentSet(L,xe);return w.documentOverlayCache.saveOverlays(ee,Te.batchId,Ne)}))})).then((()=>({batchId:q.batchId,changes:aw(L)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new qn(Xt)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await pc(s,l.changes),await gf(s.remoteStore)}catch(l){const c=Op(l,"Failed to persist write");i.reject(c)}}async function zw(r,e){const i=Mt(r);try{const s=await Q2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?vn(p.hu,14607):l.removedDocuments.size>0&&(vn(p.hu,42227),p.hu=!1))})),await pc(i,s,e)}catch(s){await Wl(s)}}function v0(r,e,i){const s=Mt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Mt(p);w.onlineState=b;let E=!1;w.queries.forEach(((M,L)=>{for(const q of L.Sa)q.va(b)&&(E=!0)})),E&&xp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jI(r,e,i){const s=Mt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new qn(mt.comparator);p=p.insert(c,Bi.newNoDocument(c,Ct.min()));const b=Qt().add(c),w=new df(Ct.min(),new Map,new qn(Xt),p,b);await zw(s,w),s.du=s.du.remove(c),s.Au.delete(e),Vp(s)}else await Xm(s.localStore,e,!1).then((()=>Wm(s,e,i))).catch(Wl)}async function zI(r,e){const i=Mt(r),s=e.batch.batchId;try{const l=await X2(i.localStore,e);Fw(i,s,null),Bw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await pc(i,l)}catch(l){await Wl(l)}}async function BI(r,e,i){const s=Mt(r);try{const l=await(function(p,b){const w=Mt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let M;return w.mutationQueue.lookupMutationBatch(E,b).next((L=>(vn(L!==null,37113),M=L.keys(),w.mutationQueue.removeMutationBatch(E,L)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,M,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,M))).next((()=>w.localDocuments.getDocuments(E,M)))}))})(s.localStore,e);Fw(s,e,i),Bw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await pc(s,l)}catch(l){await Wl(l)}}function Bw(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Fw(r,e,i){const s=Mt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Wm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Hw(r,s)}))}function Hw(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Rp(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Vp(r))}function _0(r,e,i){for(const s of i)s instanceof Lw?(r.Ru.addReference(s.key,e),FI(r,s)):s instanceof Uw?(et(Np,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Hw(r,s.key)):bt(19791,{wu:s})}function FI(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(et(Np,"New document in limbo: "+i),r.Eu.add(s),Vp(r))}function Vp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(On.fromString(e)),s=r.fu.next();r.Au.set(s,new OI(i)),r.du=r.du.insert(i,s),Ow(r.remoteStore,new ao(xa(yp(i.path)),s,"TargetPurposeLimboResolution",sf.ce))}}async function pc(r,e,i){const s=Mt(r),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const M=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,M?"current":"not-current")}if(E){l.push(E);const M=Ap.As(w.targetId,E);c.push(M)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const M=Mt(w);try{await M.persistence.runTransaction("notifyLocalViewChanges","readwrite",(L=>Se.forEach(E,(q=>Se.forEach(q.Es,(ee=>M.persistence.referenceDelegate.addReference(L,q.targetId,ee))).next((()=>Se.forEach(q.ds,(ee=>M.persistence.referenceDelegate.removeReference(L,q.targetId,ee)))))))))}catch(L){if(!$l(L))throw L;et(Sp,"Failed to update sequence numbers: "+L)}for(const L of E){const q=L.targetId;if(!L.fromCache){const ee=M.Ms.get(q),j=ee.snapshotVersion,xe=ee.withLastLimboFreeSnapshotVersion(j);M.Ms=M.Ms.insert(q,xe)}}})(s.localStore,c))}async function HI(r,e){const i=Mt(r);if(!i.currentUser.isEqual(e)){et(Np,"User change. New user:",e.toKey());const s=await Cw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new nt(Ae.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pc(i,s.Ls)}}function qI(r,e){const i=Mt(r),s=i.Au.get(e);if(s&&s.hu)return Qt().add(s.key);{let l=Qt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function qw(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jI.bind(null,e),e.Pu.H_=RI.bind(null,e.eventManager),e.Pu.yu=CI.bind(null,e.eventManager),e}function GI(r){const e=Mt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BI.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Y2(this.persistence,new H2,e.initialUser,this.serializer)}Cu(e){return new Rw(Tp.mi,this.serializer)}Du(e){return new Z2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class YI extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){vn(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new I2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new Rw((s=>Kh.mi(s,i)),this.serializer)}}class $m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HI.bind(null,this.syncEngine),await wI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TI})()}createDatastore(e){const i=mf(e.databaseInfo.databaseId),s=(function(c){return new rI(c)})(e.databaseInfo);return(function(c,p,b,w){return new lI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new cI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>v0(this.syncEngine,i,0)),(function(){return f0.v()?new f0:new eI})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,M){const L=new xI(l,c,p,b,w,E);return M&&(L.gu=!0),L})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Mt(i);et(Go,"RemoteStore shutting down."),s.Ea.add(5),await mc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};class XI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const yo="FirestoreClient";class QI{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=zi.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{et(yo,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(et(yo,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Op(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),et(yo,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Cw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function b0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await KI(r);et(yo,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>m0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>m0(e.remoteStore,l))),r._onlineComponents=e}async function KI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(yo,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ae.FAILED_PRECONDITION||l.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zl("Error using user provided cache. Falling back to memory cache: "+i),await Tm(r,new $h)}}else et(yo,"Using default OfflineComponentProvider"),await Tm(r,new YI(void 0));return r._offlineComponents}async function Gw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(yo,"Using user provided OnlineComponentProvider"),await b0(r,r._uninitializedComponentsProvider._online)):(et(yo,"Using default OnlineComponentProvider"),await b0(r,new $m))),r._onlineComponents}function WI(r){return Gw(r).then((e=>e.syncEngine))}async function w0(r){const e=await Gw(r),i=e.eventManager;return i.onListen=NI.bind(null,e.syncEngine),i.onUnlisten=kI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=VI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=LI.bind(null,e.syncEngine),i}function Yw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const E0=new Map;const Xw="firestore.googleapis.com",T0=!0;class A0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=T0}else this.host=e.host,this.ssl=e.ssl??T0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R2)throw new nt(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eC;switch(s.type){case"firstParty":return new rC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=E0.get(i);s&&(et("ComponentProvider","Removing Datastore"),E0.delete(i),s.terminate())})(this),Promise.resolve()}}function $I(r,e,i,s={}){r=qu(r,yf);const l=Yl(e),c=r._getSettings(),p={...c,emulatorOptions:r._getEmulatorOptions()},b=`${e}:${i}`;l&&(q0(`https://${b}`),G0("Firestore",!0)),c.host!==Xw&&c.host!==b&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Bo(w,p)&&(r._setSettings(w),s.mockUserToken)){let E,M;if(typeof s.mockUserToken=="string")E=s.mockUserToken,M=zi.MOCK_USER;else{E=T1(s.mockUserToken,r._app?.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new nt(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new zi(L)}r._authCredentials=new tC(new kb(E,M))}}class Zl{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class pi{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}toJSON(){return{type:pi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cc(i,pi._jsonSchema))return new pi(e,s||null,new mt(On.fromString(i.referencePath)))}}pi._jsonSchemaVersion="firestore/documentReference/1.0",pi._jsonSchema={type:ui("string",pi._jsonSchemaVersion),referencePath:ui("string")};class co extends Zl{constructor(e,i,s){super(e,i,yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new mt(e))}withConverter(e){return new co(this.firestore,e,this._path)}}function Qw(r,e,...i){if(r=Er(r),Lb("collection","path",e),r instanceof yf){const s=On.fromString(e,...i);return k_(s),new co(r,null,s)}{if(!(r instanceof pi||r instanceof co))throw new nt(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(On.fromString(e,...i));return k_(s),new co(r.firestore,null,s)}}function JI(r,e,...i){if(r=Er(r),arguments.length===1&&(e=hp.newId()),Lb("doc","path",e),r instanceof yf){const s=On.fromString(e,...i);return P_(s),new pi(r,null,new mt(s))}{if(!(r instanceof pi||r instanceof co))throw new nt(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(On.fromString(e,...i));return P_(s),new pi(r.firestore,r instanceof co?r.converter:null,new mt(s))}}const S0="AsyncQueue";class R0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mw(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&et(S0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;et(S0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",C0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Dp.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:C0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function C0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function I0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Jh extends yf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new R0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R0(e),this._firestoreClient=void 0,await e}}}function ZI(r,e){const i=typeof r=="object"?r:K0(),s=typeof r=="string"?r:Fh,l=tp(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=w1("firestore");c&&$I(l,...c)}return l}function Kw(r){if(r._terminated)throw new nt(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eM(r),r._firestoreClient}function eM(r){const e=r._freezeSettings(),i=(function(l,c,p,b){return new wC(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Yw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(xi.fromBase64String(e))}catch(i){throw new nt(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ea(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ea._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,ea._jsonSchema))return ea.fromBase64String(e.bytes)}}ea._jsonSchemaVersion="firestore/bytes/1.0",ea._jsonSchema={type:ui("string",ea._jsonSchemaVersion),bytes:ui("string")};class Pp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ww{constructor(e){this._methodName=e}}class Va{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(e){if(cc(e,Va._jsonSchema))return new Va(e.latitude,e.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:ui("string",Va._jsonSchemaVersion),latitude:ui("number"),longitude:ui("number")};class Pa{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,Pa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pa(e.vectorValues);throw new nt(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pa._jsonSchemaVersion="firestore/vectorValue/1.0",Pa._jsonSchema={type:ui("string",Pa._jsonSchemaVersion),vectorValues:ui("object")};const tM=/^__.*__$/;class nM{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,i,this.fieldTransforms):new fc(e,this.data,i,this.fieldTransforms)}}function $w(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class kp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($w(this.Ac)&&tM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iM{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||mf(e)}Cc(e,i,s,l=!1){return new kp({Ac:e,methodName:i,Dc:s,path:Oi.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jw(r){const e=r._freezeSettings(),i=mf(r._databaseId);return new iM(r._databaseId,!!e.ignoreUndefinedProperties,i)}function rM(r,e,i,s,l,c={}){const p=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);tE("Data must be an object, but it was:",p,s);const b=Zw(s,p);let w,E;if(c.merge)w=new ha(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const M=[];for(const L of c.mergeFields){const q=sM(e,L,i);if(!p.contains(q))throw new nt(Ae.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);lM(M,q)||M.push(q)}w=new ha(M),E=p.fieldTransforms.filter((L=>w.covers(L.field)))}else w=null,E=p.fieldTransforms;return new nM(new Zr(b),w,E)}function aM(r,e,i,s=!1){return Lp(i,r.Cc(s?4:3,e))}function Lp(r,e){if(eE(r=Er(r)))return tE("Unsupported field value:",e,r),Zw(r,e);if(r instanceof Ww)return(function(s,l){if(!$w(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Lp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Er(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Un.fromDate(s);return{timestampValue:Qh(l.serializer,c)}}if(s instanceof Un){const c=new Un(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(l.serializer,c)}}if(s instanceof Va)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ea)return{bytesValue:vw(l.serializer,s._byteString)};if(s instanceof pi){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pa)return(function(p,b){return{mapValue:{fields:{[Yb]:{stringValue:Xb},[Hh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return vp(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${af(s)}`)})(r,e)}function Zw(r,e){const i={};return zb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(r,((s,l)=>{const c=Lp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function eE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Un||r instanceof Va||r instanceof ea||r instanceof pi||r instanceof Ww||r instanceof Pa)}function tE(r,e,i){if(!eE(i)||!Ub(i)){const s=af(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sM(r,e,i){if((e=Er(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return nE(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,i)}const oM=new RegExp("[~\\*/\\[\\]]");function nE(r,e,i){if(e.search(oM)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Pp(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zh(r,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new nt(Ae.INVALID_ARGUMENT,b+r+w)}function lM(r,e){return r.some((i=>i.isEqual(e)))}class iE{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(rE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class uM extends iE{data(){return super.data()}}function rE(r,e){return typeof e=="string"?nE(r,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}function cM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class hM extends Up{}function fM(r,e,...i){let s=[];e instanceof Up&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof zp)).length,b=c.filter((w=>w instanceof jp)).length;if(p>1||p>0&&b>0)throw new nt(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class jp extends hM{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new jp(e,i,s)}_apply(e){const i=this._parse(e);return aE(e._query,i),new Zl(e.firestore,e.converter,Bm(e._query,i))}_parse(e){const i=Jw(e.firestore);return(function(c,p,b,w,E,M,L){let q;if(E.isKeyField()){if(M==="array-contains"||M==="array-contains-any")throw new nt(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if(M==="in"||M==="not-in"){D0(L,M);const j=[];for(const xe of L)j.push(M0(w,c,xe));q={arrayValue:{values:j}}}else q=M0(w,c,L)}else M!=="in"&&M!=="not-in"&&M!=="array-contains-any"||D0(L,M),q=aM(b,p,L,M==="in"||M==="not-in");return li.create(E,M,q)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class zp extends Up{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new zp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:fa.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)aE(p,w),p=Bm(p,w)})(e._query,i),new Zl(e.firestore,e.converter,Bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function M0(r,e,i){if(typeof(i=Er(i))=="string"){if(i==="")throw new nt(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tw(e)&&i.indexOf("/")!==-1)throw new nt(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(On.fromString(i));if(!mt.isDocumentKey(s))throw new nt(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q_(r,new mt(s))}if(i instanceof pi)return q_(r,i._key);throw new nt(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(i)}.`)}function D0(r,e){if(!Array.isArray(r)||r.length===0)throw new nt(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aE(r,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new nt(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class dM{convertValue(e,i="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yo(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Hh].arrayValue?.values?.map((s=>ti(s.doubleValue)));return new Pa(i)}convertGeoPoint(e){return new Va(ti(e.latitude),ti(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const i=fo(e);return new Un(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=On.fromString(e);vn(Aw(s),9688,{name:e});const l=new Zu(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function mM(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends iE{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(rE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=zo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:ui("string",zo._jsonSchemaVersion),bundleSource:ui("string","DocumentSnapshot"),bundleName:ui("string"),bundle:ui("string")};class xh extends zo{data(e={}){return super.data(e)}}class Ul{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new xh(this._firestore,this._userDataWriter,s.key,s,new Bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new xh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Bu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new xh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Bu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,M=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),M=p.indexOf(b.doc.key)),{type:pM(b.type),doc:w,oldIndex:E,newIndex:M}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:ui("string",Ul._jsonSchemaVersion),bundleSource:ui("string","QuerySnapshot"),bundleName:ui("string"),bundle:ui("string")};class sE extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,i)}}function gM(r,e){const i=qu(r.firestore,Jh),s=JI(r),l=mM(r.converter,e);return vM(i,[rM(Jw(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ms.exists(!1))]).then((()=>s))}function yM(r,...e){r=Er(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||I0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(I0(e[s])){const w=e[s];e[s]=w.next?.bind(w),e[s+1]=w.error?.bind(w),e[s+2]=w.complete?.bind(w)}let c,p,b;if(r instanceof pi)p=qu(r.firestore,Jh),b=yp(r._key.path),c={next:w=>{e[s]&&e[s](_M(p,r,w))},error:e[s+1],complete:e[s+2]};else{const w=qu(r,Zl);p=qu(w.firestore,Jh),b=w._query;const E=new sE(p);c={next:M=>{e[s]&&e[s](new Ul(p,E,w,M))},error:e[s+1],complete:e[s+2]},cM(r._query)}return(function(E,M,L,q){const ee=new XI(q),j=new II(M,ee,L);return E.asyncQueue.enqueueAndForget((async()=>AI(await w0(E),j))),()=>{ee.Nu(),E.asyncQueue.enqueueAndForget((async()=>SI(await w0(E),j)))}})(Kw(p),b,l,c)}function vM(r,e){return(function(s,l){const c=new jo;return s.asyncQueue.enqueueAndForget((async()=>UI(await WI(s),l,c))),c.promise})(Kw(r),e)}function _M(r,e,i){const s=i.docs.get(e._key),l=new sE(r);return new zo(r,l,e._key,s,new Bu(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Kl=l})(Xl),jl(new Fo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Jh(new nC(s.getProvider("auth-internal")),new aC(p,s.getProvider("app-check-internal")),(function(E,M){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new nt(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(E.options.projectId,M)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),lo(O_,x_,e),lo(O_,x_,"esm2020")})();const bM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},wM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):bM,oE=Q0(wM),Am=JR(oE),lE=ZI(oE),uE=typeof __app_id<"u"?__app_id:"long-jump-game",pt={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",overlayComplete:"#ffffff",startArrow:"#000000"},cs=5,ua=40,Jm=30,Zs=40,cE={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},O0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],x0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],hE=r=>function(){var e=r+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},fE=r=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<r.length;c++)p=r.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},EM=()=>new Date().toISOString().split("T")[0],TM=r=>{const e=fE(r),i=hE(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*cs),b=Math.floor(i()*ua);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let M=1;E>.5&&(M=2),E>.8&&(M=3),s.push({r:p,c:b,val:M})}}return s},AM=()=>{const r=[];for(let i=1;i<ua;i++)Math.random()<.13&&r.push({r:0,c:i,type:"top"}),Math.random()<.13&&r.push({r:cs-1,c:i,type:"bottom"});return r},SM=r=>{const e=fE(r),i=hE(e);let s=[];Object.entries(cE).forEach(([b,w])=>{for(let E=0;E<w;E++)s.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(s);for(let b=l.length-1;b>0;b--){const w=Math.floor(i()*(b+1));[l[b],l[w]]=[l[w],l[b]]}const c=Jm;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const w=Math.floor(i()*c);[l[w],l[b]]=[l[b],l[w]]}}return l},RM=r=>{const e=["th","st","nd","rd"],i=r%100;return r+(e[(i-20)%10]||e[i]||e[0])},CM=()=>{const r=St.useRef(null);return St.useEffect(()=>{const e=r.current,i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",pt.accentPrimary];for(let M=0;M<150;M++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(M=>{M.y+=M.vy,M.x+=M.vx+Math.sin(M.y/50),M.rotation+=M.rotationSpeed,M.y>l&&(M.y=-10,M.x=Math.random()*s),i.save(),i.translate(M.x,M.y),i.rotate(M.rotation*Math.PI/180),i.fillStyle=M.color,i.fillRect(-M.size/2,-M.size/2,M.size,M.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),ne.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-50"})},N0=()=>{const{RiveComponent:r}=ro.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new ro.Layout({fit:ro.Fit.Contain,alignment:ro.Alignment.Center})});return ne.jsx(r,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto"}})},V0=({trigger:r})=>{const{rive:e,RiveComponent:i}=ro.useRive({src:"fan.riv",autoplay:!0,layout:new ro.Layout({fit:ro.Fit.Contain,alignment:ro.Alignment.Center})});return St.useEffect(()=>{if(e&&!e.hasLoggedDebug){if(console.log("--- FAN DIAGNOSTICS ---"),console.log("Artboards:",e.artboardNames),console.log("State Machines:",e.stateMachineNames),e.viewModelInstance){console.log("ViewModel API detected.");try{e.viewModelInstance("View Model 1")?console.log(" 'View Model 1' Found!"):console.warn(" 'View Model 1' NOT Found in this file.")}catch(s){console.warn("Error accessing View Model:",s)}}else console.log("ViewModel API NOT detected on Rive instance (might need updated package or configuration).");e.hasLoggedDebug=!0}},[e]),St.useEffect(()=>{if(r&&e){console.log(" App requesting Fan Celebration...");try{if(e.viewModelInstance){const s=e.viewModelInstance("View Model 1");if(s){const l=s.trigger("Celebrate");l?(l.fire(),console.log(" Trigger 'Celebrate' FIRED successfully!")):console.warn(" Trigger 'Celebrate' NOT found on View Model.")}}}catch(s){console.error("Error firing trigger:",s)}}},[r,e]),ne.jsx("div",{style:{width:`${Zs}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"},children:ne.jsx("div",{style:{width:"39px",height:"60px"},children:ne.jsx(i,{})})})},Sm=({highlightName:r,user:e,onRankFound:i})=>{const[s,l]=St.useState([]),[c,p]=St.useState(!0),[b,w]=St.useState("daily");return St.useEffect(()=>{if(!e)return;p(!0);const E=Qw(lE,"artifacts",uE,"public","data","scores"),M=fM(E),L=yM(M,q=>{const ee=new Date,j=ee.toISOString().split("T")[0],xe=ee.getDay(),Te=ee.getDate()-xe+(xe===0?-6:1),Ne=new Date(ee.setDate(Te));Ne.setHours(0,0,0,0);const Ve=q.docs.map(Ge=>({id:Ge.id,...Ge.data()}));let Le=[];b==="daily"?Le=Ve.filter(Ge=>Ge.date===j):Le=Ve.filter(Ge=>new Date(Ge.date)>=Ne);const Pe=Le.sort((Ge,Xe)=>Xe.score-Ge.score).slice(0,10);if(l(Pe),p(!1),r&&i){const Ge=Pe.findIndex(Xe=>Xe.name===r);Ge!==-1&&i(Ge+1)}},q=>{console.error("Error fetching leaderboard:",q),p(!1)});return()=>L()},[e,b,r,i]),ne.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col",children:[ne.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx(ZT,{size:20,className:"text-yellow-500"}),ne.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"Leaders"})]}),ne.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[ne.jsx("button",{onClick:()=>w("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${b==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),ne.jsx("button",{onClick:()=>w("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${b==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),ne.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:c?ne.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):s.length===0?ne.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",ne.jsx("br",{}),"Be the first!"]}):ne.jsx("div",{className:"space-y-1",children:s.map((E,M)=>ne.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all ${E.name===r?`bg-[${pt.accentPrimary}]/10 border border-[${pt.accentPrimary}]/20`:"hover:bg-white/60"}`,style:E.name===r?{backgroundColor:`${pt.accentPrimary}15`,borderColor:`${pt.accentPrimary}30`}:{},children:[ne.jsxs("div",{className:"flex items-center gap-2",children:[ne.jsx("span",{className:`font-black w-5 text-center ${M===0?"text-yellow-500 text-lg":M===1?"text-gray-400 text-base":M===2?"text-orange-700 text-base":"text-gray-300"}`,children:M+1}),ne.jsx("span",{className:`font-bold truncate max-w-[100px] ${E.name===r?"text-black":"text-gray-700"}`,style:E.name===r?{color:pt.accentPrimary}:{},children:E.name})]}),ne.jsxs("span",{className:"font-mono font-black text-gray-900 bg-gray-100 px-2 py-0.5 rounded-md text-xs",children:[E.score,"m"]})]},M))})})]})},P0=()=>{const r=O0[Math.floor(Math.random()*O0.length)],e=x0[Math.floor(Math.random()*x0.length)],i=Math.floor(Math.random()*90)+10;return`${r}${e}${i}`},k0=()=>Array(cs).fill(null).map(()=>Array(ua).fill(null)),Rm=r=>{if(r.length<=1)return!0;const e=r[0].r,i=r[0].c;return r.every(s=>s.r===e)||r.every(s=>s.c===i)},Il=(r,e=!1)=>({id:Math.random().toString(36).substring(2,15),letter:r,isNew:e});function IM(){const[r,e]=St.useState("menu"),[i,s]=St.useState(()=>P0()),[l,c]=St.useState(()=>k0()),[p,b]=St.useState([]),[w,E]=St.useState([]),[M,L]=St.useState(0),[q,ee]=St.useState([]),[j,xe]=St.useState([]),[Te,Ne]=St.useState(null),[Ve,Le]=St.useState(null),[Pe,Ge]=St.useState([]),[Xe,F]=St.useState(0),[z,V]=St.useState(0),[B,C]=St.useState(null),[k,I]=St.useState(!1),[W,re]=St.useState(!1),[H,K]=St.useState({text:"Goal: Get as far right as you can.",type:"info"}),[ye,he]=St.useState(!1),[Ce,P]=St.useState(!1),[ie,Ee]=St.useState(!1),[ge,Re]=St.useState(!1),[Qe,st]=St.useState(!1),[lt,yt]=St.useState(null),[Et,dn]=St.useState(null),[ht,Tt]=St.useState(!1),Nt=St.useRef(null),[Lt,xn]=St.useState(!1),[yi,en]=St.useState(0),[at,cn]=St.useState(0),wn=l.some(le=>le.some(me=>me!==null));St.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await US(Am,__initial_auth_token):await NS(Am)})();const me=BS(Am,dn);return()=>me()},[]),St.useEffect(()=>{if(z===Xe)return;const le=500,me=performance.now(),be=z,De=Xe,ke=ct=>{const Be=ct-me,gt=Math.min(Be/le,1),qe=1-Math.pow(1-gt,3),_t=Math.floor(be+(De-be)*qe);V(_t),gt<1&&requestAnimationFrame(ke)};requestAnimationFrame(ke)},[Xe]),St.useEffect(()=>{Hi()},[]);const Hi=()=>{const le=EM(),me=SM(le);E(me);const be=me.slice(0,Jm).map(De=>Il(De,!1)).sort((De,ke)=>De.letter.localeCompare(ke.letter));b(be),L(Jm),c(k0()),Ge([]),F(0),V(0),C(null),I(!1),re(!1),ee(TM(le)),xe(AM()),K({text:"Goal: Get as far right as you can.",type:"neutral"}),Re(!1),P(!1),Ee(!1),Tt(!1),Ne(null),Le(null),Nt.current&&(Nt.current.scrollLeft=0)},Gn=()=>{i.trim()||s(P0()),e("playing"),Xe>0&&Hi(),Ee(!0)},$t=()=>{e("menu"),Hi()},En=()=>{P(!0)},R=async()=>{if(P(!1),Re(!0),Tt(!0),Et)try{const be=new Date().toISOString().split("T")[0],De=Qw(lE,"artifacts",uE,"public","data","scores");await gM(De,{name:i||"Anonymous",score:Xe,date:be,timestamp:Date.now(),userId:Et.uid})}catch(be){console.error("Error saving score:",be)}Tt(!1);const le=Xe*50+800;setTimeout(()=>{e("gameOver"),Re(!1)},Math.max(le,2500))},g=()=>{P(!1)},v=async()=>{const le=B?RM(B):"top",me="https://www.longjump.co.za";let be;B?be=`${i} placed ${le} in Long-Jump with a distance of ${Xe}m. How far can you get? ${me}`:be=`${i} got a distance of ${Xe}m in Long-Jump. How far can you get? ${me}`;try{await navigator.clipboard.writeText(be),I(!0),setTimeout(()=>I(!1),1e3)}catch(De){console.error("Failed to copy: ",De),K({text:"Failed to copy result.",type:"error"})}},x=le=>{le.target.closest('[draggable="true"]')||le.target.tagName==="BUTTON"||(xn(!0),en(le.pageX-Nt.current.offsetLeft),cn(Nt.current.scrollLeft))},X=()=>{xn(!1)},de=()=>{xn(!1)},Ie=le=>{if(!Lt)return;le.preventDefault();const be=(le.pageX-Nt.current.offsetLeft-yi)*1.5;Nt.current.scrollLeft=at-be},$e=(le,me,be)=>{if(le.letter==="*"){yt({r:me,c:be,tileId:le.id}),st(!0);return}tt(le,me,be)},tt=(le,me,be,De=!1,ke=null)=>{if(l.every(qe=>qe.every(_t=>_t===null))&&Pe.length===0&&be!==0){K({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Be=ke||le.letter,gt=[...Pe,{r:me,c:be,letter:Be,isWild:De}];if(!Rm(gt)){K({text:" Tiles must be placed in a single row or column",type:"error"});return}Ge(gt),b(qe=>qe.filter(_t=>_t.id!==le.id)),H.type==="error"&&K({text:"Goal: Get as far right as you can.",type:"neutral"})},He=le=>{if(lt){const me={id:lt.tileId,letter:"*"};tt(me,lt.r,lt.c,!0,le),st(!1),yt(null),Ne(null),Le(null)}},Je=le=>{if(!ge){if(Ve){$e(le,Ve.r,Ve.c),Le(null);return}Te===le.letter?Ne(null):Ne(le.letter)}},Kt=(le,me)=>{if(Lt||ge||l[le]&&l[le][me])return;const be=Pe.findIndex(De=>De.r===le&&De.c===me);if(be!==-1){const De=Pe[be],ke=[...Pe];ke.splice(be,1),Ge(ke);const ct=De.isWild?"*":De.letter,Be=Il(ct,!1);b(gt=>[...gt,Be].sort((qe,_t)=>qe.letter!==_t.letter?qe.letter.localeCompare(_t.letter):qe.isNew===_t.isNew?0:qe.isNew?1:-1)),Ne(null),Le(null);return}if(Te!==null){const De=p.filter(ke=>ke.letter===Te);if(De.length>0){const ke=De[De.length-1];$e(ke,le,me),De.length<=1&&Ne(null)}}else Ve&&Ve.r===le&&Ve.c===me?Le(null):Le({r:le,c:me})},Cn=(le,me)=>{ge||(le.dataTransfer.setData("text/plain",JSON.stringify(me)),le.dataTransfer.effectAllowed="move")},sn=le=>{le.preventDefault(),le.dataTransfer.dropEffect="move"},jn=(le,me,be)=>{if(ge)return;le.preventDefault(),le.stopPropagation();const De=le.dataTransfer.getData("text/plain");if(!(!De||!De.trim()||!De.trim().startsWith("{")))try{const ke=JSON.parse(De);if(l[me]&&l[me][be])return;const ct=Pe.findIndex(Be=>Be.r===me&&Be.c===be);if(ke.type==="hand"){const Be=ke.tile;if(Be.letter==="*"){yt({r:me,c:be,tileId:Be.id}),st(!0);return}if(l.every(qe=>qe.every(_t=>_t===null))&&Pe.length===0&&be!==0){K({text:" Start Game: Place first tile in Column 1",type:"error"});return}if(ct!==-1){const qe=Pe[ct],_t=[...Pe],tn=qe.isWild?"*":qe.letter,Fn=Il(tn,!1);_t.splice(ct,1,{r:me,c:be,letter:Be.letter,isWild:!1}),Ge(_t),b(ci=>[...ci.filter(mn=>mn.id!==Be.id),Fn].sort((mn,Ar)=>mn.letter!==Ar.letter?mn.letter.localeCompare(Ar.letter):mn.isNew===Ar.isNew?0:mn.isNew?1:-1))}else{const qe=[...Pe,{r:me,c:be,letter:Be.letter,isWild:!1}];if(!Rm(qe)){K({text:" Tiles must be placed in a single row or column",type:"error"});return}Ge(qe),b(_t=>_t.filter(tn=>tn.id!==Be.id))}p.filter(qe=>qe.letter===Be.letter).length<=1&&Ne(null),Le(null),H.type==="error"&&K({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(ke.type==="board"){if(ke.r===me&&ke.c===be)return;const Be=Pe.findIndex(_t=>_t.r===ke.r&&_t.c===ke.c);if(Be===-1)return;const gt=Pe[Be],qe=[...Pe];if(ct!==-1){const _t=Pe[ct];qe[ct]={..._t,r:ke.r,c:ke.c},qe[Be]={...gt,r:me,c:be}}else qe[Be]={...gt,r:me,c:be};if(!Rm(qe)){K({text:" Tiles must be placed in a single row or column",type:"error"});return}Ge(qe)}}catch{}},Yn=le=>{if(ge)return;le.preventDefault(),le.stopPropagation();const me=le.dataTransfer.getData("text/plain");if(!(!me||!me.trim()||!me.trim().startsWith("{")))try{const be=JSON.parse(me);if(be.type==="board"){const De=Pe.find(Be=>Be.r===be.r&&Be.c===be.c),ke=De&&De.isWild?"*":be.letter,ct=Il(ke,!1);Ge(Be=>Be.filter(gt=>!(gt.r===be.r&&gt.c===be.c))),b(Be=>[...Be,ct].sort((gt,qe)=>gt.letter!==qe.letter?gt.letter.localeCompare(qe.letter):gt.isNew===qe.isNew?0:gt.isNew?1:-1))}}catch{}},jt=(le,me)=>{if(!l||!l[le])return null;if(l[le][me])return{letter:l[le][me],type:"locked"};const be=Pe.find(De=>De.r===le&&De.c===me);return be?{letter:be.letter,type:"temp",isWild:be.isWild}:null},In=(le,me)=>q.find(be=>be.r===le&&be.c===me),Nn=async()=>{if(Pe.length===0)return;he(!0),K({text:"Validating...",type:"info"});const le=l.map(Be=>[...Be]);if(Pe.forEach(Be=>{le[Be.r]&&(le[Be.r][Be.c]=Be.letter)}),Pe.length>1){const Be=[...Pe].sort((tn,Fn)=>tn.r-Fn.r||tn.c-Fn.c),gt=Be[0],qe=Be[Be.length-1];if(gt.r===qe.r){for(let tn=gt.c;tn<=qe.c;tn++)if(!le[gt.r][tn]){ut("Cannot leave gaps between tiles.");return}}else for(let tn=gt.r;tn<=qe.r;tn++)if(!le[tn][gt.c]){ut("Cannot leave gaps between tiles.");return}}const me=l.every(Be=>Be.every(gt=>gt===null));let be=!1,De=!1;if(Pe.forEach(Be=>{Be.c===0&&(be=!0),[{r:Be.r+1,c:Be.c},{r:Be.r-1,c:Be.c},{r:Be.r,c:Be.c+1},{r:Be.r,c:Be.c-1}].forEach(qe=>{qe.r>=0&&qe.r<cs&&qe.c>=0&&qe.c<ua&&l[qe.r]&&l[qe.r][qe.c]&&(De=!0)})}),me&&!be){ut("First word must start in Column 1.");return}if(!me&&!De){ut("Tiles must connect to existing words.");return}const ct=qi(le).filter(Be=>Be.cells.some(gt=>Pe.some(qe=>qe.r===gt.r&&qe.c===gt.c)));if(ct.length===0){ut("Words must be at least 2 letters.");return}try{const Be=[];for(const gt of ct)await Xn(gt.word)||Be.push(gt.word);if(Be.length>0){ut(`Invalid word(s): ${Be.join(", ")}`);return}Bn(le,ct)}catch(Be){console.error(Be),ut("Error checking dictionary. Try again.")}},Xn=async le=>{const me=le.toUpperCase();if(me.length===2)return["AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","NET","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"].includes(me);try{const be=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${le}`);if(!be.ok)return!1;const De=await be.json();return Array.isArray(De)&&De.length>0}catch{return!0}},qi=le=>{let me=[];for(let be=0;be<cs;be++){let De="",ke=[];for(let ct=0;ct<ua;ct++)le[be]&&le[be][ct]?(De+=le[be][ct],ke.push({r:be,c:ct})):(De.length>1&&me.push({word:De,cells:[...ke],type:"H"}),De="",ke=[]);De.length>1&&me.push({word:De,cells:[...ke],type:"H"})}for(let be=0;be<ua;be++){let De="",ke=[];for(let ct=0;ct<cs;ct++)le[ct]&&le[ct][be]?(De+=le[ct][be],ke.push({r:ct,c:be})):(De.length>1&&me.push({word:De,cells:[...ke],type:"V"}),De="",ke=[]);De.length>1&&me.push({word:De,cells:[...ke],type:"V"})}return me},ut=le=>{K({text:le,type:"error"}),he(!1)},Bn=(le,me)=>{c(le),re(!0),setTimeout(()=>re(!1),200);let be=0;if(me.forEach(ke=>{ke.cells.forEach(ct=>{const Be=In(ct.r,ct.c),gt=Pe.some(qe=>qe.r===ct.r&&qe.c===ct.c);Be&&gt&&(be+=Be.val)})}),be>0){const ct=w.slice(M,M+be).map(Be=>Il(Be,!0));b(Be=>[...Be,...ct].sort((qe,_t)=>qe.letter!==_t.letter?qe.letter.localeCompare(_t.letter):qe.isNew===_t.isNew?0:qe.isNew?1:-1)),L(Be=>Be+be),K({text:`Great! +${be} Bonus Tiles!`,type:"success"})}else K({text:"Valid move!",type:"success"});let De=Xe-1;Pe.forEach(ke=>{ke.c>De&&(De=ke.c)});for(let ke=0;ke<cs;ke++)for(let ct=0;ct<ua;ct++)le[ke]&&le[ke][ct]&&ct>De&&(De=ct);F(De+1),Ge([]),he(!1),Le(null)},Rt=()=>{b(le=>[...le].sort(()=>Math.random()-.5))},Gi=()=>{b(le=>[...le].sort((me,be)=>me.letter!==be.letter?me.letter.localeCompare(be.letter):me.isNew===be.isNew?0:me.isNew?1:-1))},Yi=p.reduce((le,me)=>(le[me.letter]||(le[me.letter]=[]),le[me.letter].push(me),le),{}),Ni=Array.from(new Set(p.map(le=>le.letter))),ir=Ni.length>=6,Tr=Math.ceil(Ni.length/2),Ye=ir?Ni.slice(0,Tr):Ni,ma=ir?Ni.slice(Tr):[],wi=({letter:le})=>{const me=Yi[le]||[],be=me.length,De=me[be-1],ke=Te===le,ct=Math.min(be,15),Be=4,gt=40+(ct>1?(ct-1)*Be:0);return ne.jsxs("div",{className:"relative w-10 flex items-end",style:{height:`${gt}px`},children:[[...Array(ct-1)].map((qe,_t)=>{const Fn=(le.charCodeAt(0)+_t)%7-3;return ne.jsx("div",{className:"absolute w-10 h-10 rounded-lg shadow-sm border border-black/10 transition-all",style:{backgroundColor:"#e5e7eb",bottom:`${_t*Be}px`,zIndex:_t,transform:`rotate(${Fn}deg)`}},_t)}),ne.jsxs("button",{draggable:!ge,onDragStart:qe=>Cn(qe,{type:"hand",tile:De}),onClick:()=>Je(De),className:`
                    absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-md transition-all cursor-grab active:cursor-grabbing
                `,style:{bottom:`${(ct-1)*Be}px`,zIndex:ct,backgroundColor:ke?pt.accentPrimary:le==="*"?pt.tileTemp:"white",color:ke?"white":pt.textMain,transform:ke?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${ke?0:le.charCodeAt(0)%5-2}deg)`},children:[De&&De.isNew&&ne.jsx(Zv,{size:12,className:"absolute -top-1 -right-1 fill-green-500 text-green-500 drop-shadow-sm z-50",strokeWidth:3}),le]})]})};return r==="gameOver"?ne.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row items-center justify-center relative overflow-hidden font-sans p-6 gap-12 overflow-y-auto",style:{backgroundColor:pt.background,color:pt.textMain},children:[ne.jsx(CM,{}),ne.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex-1 self-stretch flex flex-col justify-center lg:h-[600px]",children:[ne.jsx("div",{className:"hidden md:block w-48 h-16 mx-auto mb-4",children:ne.jsx("h1",{className:"text-4xl font-black tracking-tight text-black uppercase drop-shadow-sm",children:"Long Jump"})}),ne.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:pt.accentPrimary},children:"Complete"}),ne.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[ne.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:pt.textSub},children:"Athlete"}),ne.jsx("div",{className:"text-3xl font-black mb-6",style:{color:pt.textMain},children:i}),ne.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:pt.textSub},children:"Distance"}),ne.jsxs("div",{className:"text-6xl font-black",style:{color:pt.accentSecondary},children:[z,"m"]})]}),ne.jsx("button",{onClick:v,className:`
                        w-full py-3 mb-3 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2
                        ${k?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}
                    `,children:k?ne.jsxs(ne.Fragment,{children:[ne.jsx(XT,{size:20})," Copied to Clipboard"]}):ne.jsxs(ne.Fragment,{children:[ne.jsx(a1,{size:20})," Share Result"]})}),ne.jsx("button",{onClick:$t,className:"w-full py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"})]}),ne.jsx("div",{className:"z-10 w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:ne.jsx(Sm,{highlightName:i,user:Et,onRankFound:C})})]}):r==="menu"?ne.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:pt.background,color:pt.textMain},children:[ne.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[ne.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[ne.jsx(N0,{}),ne.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:pt.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."})]}),ne.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[ne.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:pt.textSub},children:"Enter your name"}),ne.jsx("input",{type:"text",value:i,onChange:le=>s(le.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:pt.textMain,borderColor:"transparent"},onFocus:le=>le.target.style.borderColor=pt.accentPrimary,onBlur:le=>le.target.style.borderColor="transparent",onKeyDown:le=>le.key==="Enter"&&Gn()})]}),ne.jsx("button",{onClick:Gn,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:pt.accentPrimary},children:ne.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",ne.jsx(t1,{size:24,fill:"currentColor"})]})}),ne.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:ne.jsx(Sm,{user:Et})})]}),ne.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:ne.jsx(Sm,{user:Et})})]}):ne.jsxs("div",{className:"min-h-screen w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center",style:{backgroundColor:pt.background,color:pt.textMain},children:[Qe&&ne.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:ne.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border border-white/50",children:[ne.jsx("h3",{className:"text-xl font-black text-gray-800 mb-4 uppercase",children:"Pick a Letter"}),ne.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(cE).filter(le=>le!=="*").map(le=>ne.jsx("button",{onClick:()=>He(le),className:"w-10 h-10 rounded-lg bg-[#fef08a] font-bold text-xl shadow-sm hover:scale-110 transition-transform border border-[#facc15]",style:{color:pt.textMain},children:le},le))}),ne.jsx("button",{onClick:()=>{st(!1),yt(null)},className:"mt-6 text-sm font-bold text-gray-400 hover:text-gray-600",children:"Cancel"})]})}),ie&&ne.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:ne.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[ne.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:ne.jsx(cm,{size:48,style:{color:pt.accentPrimary}})}),ne.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"How to Play"}),ne.jsxs("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:["The goal of the game is to get as",ne.jsx("strong",{children:"far right"}),"in distance as possible.",ne.jsx("br",{}),ne.jsx("br",{}),ne.jsx("strong",{children:"Submit your score"})," when you can't play anymore."]}),ne.jsx("div",{className:"flex justify-center mb-6",children:ne.jsxs("div",{className:"grid grid-cols-6 gap-0 p-2 rounded-lg border-2",style:{backgroundColor:pt.boardBackground,borderColor:pt.boardLines},children:[[...Array(6)].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r1-${me}`)),["S","T","A","R","T"].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:pt.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:le},`start-${me}`)),ne.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}}),[...Array(3)].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r3-pre-${me}`)),ne.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:pt.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:"I"}),[...Array(2)].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r3-post-${me}`)),[...Array(3)].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r4-pre-${me}`)),["P","A","T"].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:pt.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:le},`pat-${me}`)),[...Array(6)].map((le,me)=>ne.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},`r5-${me}`))]})}),ne.jsx("button",{onClick:()=>Ee(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:pt.accentPrimary},children:"Let's Jump!"})]})}),Ce&&ne.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:ne.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[ne.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),ne.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",ne.jsx("strong",{style:{color:pt.accentPrimary},children:Xe}),". This will end your current run."]}),ne.jsxs("div",{className:"flex gap-3",children:[ne.jsx("button",{onClick:g,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),ne.jsx("button",{onClick:R,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:pt.accentPrimary},children:"Confirm"})]})]})}),ne.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-end shrink-0 relative",children:[ne.jsxs("div",{className:"w-32 flex items-end",children:[ne.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),ne.jsx("div",{className:"block md:hidden",children:Xe>0&&ne.jsxs("button",{onClick:En,disabled:ge||ye,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["END RUN ",ne.jsx(cm,{size:10,style:{color:pt.starGold}})]})})]}),ne.jsxs("div",{className:"flex flex-col items-center flex-1",children:[ne.jsx("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity -mb-4",onClick:()=>e("menu"),children:ne.jsx(N0,{})}),ne.jsx("div",{className:"hidden md:block",children:Xe>0&&ne.jsxs("button",{onClick:En,disabled:ge||ye,className:"mt-1 px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["END RUN ",ne.jsx(cm,{size:10,style:{color:pt.starGold}})]})})]}),ne.jsx("div",{className:"flex flex-col items-end text-xs font-bold tracking-widest w-32",children:ne.jsx("span",{style:{color:pt.accentPrimary},children:i||"PLAYER 1"})})]}),ne.jsxs("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-between items-center shrink-0",children:[ne.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${H.type==="error"?"bg-red-100 text-red-700":H.type==="success"?"bg-green-100 text-green-800":"bg-white/50 text-gray-600"}`,children:ye?"Checking...":H.text}),ne.jsx("div",{className:"flex gap-6",children:ne.jsxs("div",{className:"text-center",children:[ne.jsx("span",{className:"block text-[10px] uppercase tracking-widest",style:{color:pt.accentPrimary},children:"DISTANCE"}),ne.jsxs("span",{className:"font-black text-2xl transition-all duration-500",style:{color:pt.accentPrimary},children:[z,"m"]})]})})]}),ne.jsx("div",{className:"landscape:flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 mt-4 landscape:mt-0",onMouseDown:x,onMouseLeave:X,onMouseUp:de,onMouseMove:Ie,children:ne.jsx("div",{ref:Nt,className:`
            w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar
            ${Lt?"cursor-grabbing":"cursor-grab"}
            py-20
          `,style:{userSelect:"none"},children:ne.jsxs("div",{className:"relative p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content"},children:[ne.jsx("div",{className:"flex relative mb-3",style:{width:`${ua*Zs}px`,height:"24px"},children:Array(ua).fill(0).map((le,me)=>{const be=me===0,De=(me+1)%5===0;return!be&&!De?null:ne.jsxs("div",{className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end",style:{left:me*Zs+Zs/2},children:[ne.jsx("span",{className:`text-xs tracking-wider ${be?"text-black font-black":"text-gray-400"}`,children:be?"START":`${me+1}m`}),ne.jsx("div",{className:`w-0.5 h-1.5 mt-0.5 ${be?"bg-black":"bg-gray-300"}`})]},`ruler-${me}`)})}),ne.jsxs("div",{className:"relative",children:[ne.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none",children:j.filter(le=>le.type==="top").map((le,me)=>ne.jsx("div",{className:"absolute -top-[55px]",style:{left:le.c*Zs},children:ne.jsx(V0,{trigger:W})},`fan-top-${me}`))}),ne.jsx("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${ua}, ${Zs}px)`,gridTemplateRows:`repeat(${cs}, ${Zs}px)`,backgroundColor:pt.boardBackground,borderColor:pt.boardLines},children:Array(cs).fill(0).map((le,me)=>Array(ua).fill(0).map((be,De)=>{const ke=jt(me,De),ct=In(me,De),gt=De===0&&!ke&&!wn,qe=ke?.type==="locked",_t=(De+1)%5===0,tn=De<z,Fn=Ve&&Ve.r===me&&Ve.c===De,ci=ge&&qe?"animate-jump-green":"";return ne.jsxs("div",{onClick:()=>Kt(me,De),onDragOver:sn,onDrop:hi=>jn(hi,me,De),className:`
                                relative flex items-center justify-center transition-all duration-300 w-full h-full
                                ${ke?ke.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":"hover:bg-white/20"}

                                
                                ${ke?.type==="temp"?`bg-[${pt.tileTemp}] ring-2 ring-[${pt.tileTempRing}] -translate-y-[2px] z-10`:""}
                                
                                {/* --- CHANGE HERE --- 
                                   Changed (c < 3 ...) to (c === 0 ...) 
                                   This ensures only Column 1 has the green tint.
                                */}
                                ${!ke&&tn?"bg-white/20":De===0&&!ke?"bg-green-100/40":!ke&&!gt&&(me+De)%2===0?"bg-black/5":"bg-transparent"}

                                ${!ke&&Fn?"ring-2 ring-blue-400 bg-blue-50/20":""}
                                ${!ke&&_t?"border-r-2 border-r-black/10":"border border-black/5"}

                                ${tn?"animate-pop-green":""}
                                ${ci}
                                `,style:qe?{backgroundColor:tn?pt.overlayComplete:pt.tileLocked,color:pt.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:ge?`${De*50}ms`:"0ms"}:ke?.type==="temp"?{backgroundColor:ke.isWild?pt.tileWild:pt.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:{},children:[!ke&&gt&&ne.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10",children:ne.jsx($T,{size:20,style:{color:pt.startArrow}})}),!ke&&ct&&ne.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10",children:[ne.jsx(Zv,{className:"w-6 h-6",fill:pt.starGold,stroke:pt.starGold}),ne.jsxs("span",{className:"text-[16px] font-black text-black mt-[-2px]",children:["+",ct.val]})]}),ke&&ne.jsx("span",{draggable:ke.type==="temp"&&!ge,onDragStart:hi=>Cn(hi,{type:"board",r:me,c:De,letter:ke.letter}),className:`text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center z-10 relative ${ke.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:ke.letter})]},`${me}-${De}`)}))}),ne.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none",children:j.filter(le=>le.type==="bottom").map((le,me)=>ne.jsx("div",{className:"absolute -bottom-[35px]",style:{left:le.c*Zs},children:ne.jsx(V0,{trigger:W})},`fan-bottom-${me}`))})]})]})})}),ne.jsxs("div",{className:"w-full max-w-4xl px-4 mt-2 pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[ne.jsxs("div",{className:"flex gap-4 items-center flex-wrap justify-center mb-4",children:[ne.jsxs("button",{onClick:Rt,disabled:ge,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[ne.jsx(o1,{size:16})," Shuffle"]}),ne.jsxs("button",{onClick:Gi,disabled:ge,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[ne.jsx(GT,{size:16})," Sort A-Z"]}),ne.jsx("div",{className:"w-4 hidden md:block"}),Pe.length>0&&ne.jsxs("button",{onClick:Nn,disabled:ye||ge,className:`
                  flex items-center gap-2 px-8 py-3 rounded-xl font-black text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                  ${ye||ge?"bg-gray-400 text-gray-200 cursor-wait":""}
                `,style:ye||ge?{}:{backgroundColor:pt.accentPrimary,color:"white"},children:[ye?"Checking...":"JUMP"," ",ne.jsx(KT,{size:18,strokeWidth:4})]}),Pe.length>0&&ne.jsx("button",{onClick:()=>{const me=Pe.map(be=>be.isWild?"*":be.letter).map(be=>Il(be,!1));b(be=>[...be,...me].sort((De,ke)=>De.letter!==ke.letter?De.letter.localeCompare(ke.letter):De.isNew===ke.isNew?0:De.isNew?1:-1)),Ge([]),Ne(null)},disabled:ge,className:"flex items-center gap-2 px-4 py-3 bg-red-100 text-red-600 rounded-xl font-bold text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:ne.jsx(i1,{size:16})})]}),ne.jsxs("div",{onDragOver:sn,onDrop:Yn,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[160px] w-full transition-colors",style:{backgroundColor:pt.boardLines},children:[Ni.length===0&&ne.jsx("div",{className:"text-gray-400 italic",children:"Empty Hand"}),Ni.length<6?ne.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ni.map(le=>ne.jsx(wi,{letter:le},le))}):ne.jsxs("div",{className:"flex flex-col gap-2 w-full items-center",children:[ne.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:Ye.map(le=>ne.jsx(wi,{letter:le},le))}),ne.jsx("div",{className:"flex gap-3 flex-wrap justify-center items-end",children:ma.map(le=>ne.jsx(wi,{letter:le},le))})]})]})]}),ne.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }

        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        .animate-jump-green {
            animation: jump-green 0.6s ease-in-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes jump-green {
            0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
            20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
            40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; }
            80% { background-color: #59AD20; color: white; }
            100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}UT.createRoot(document.getElementById("root")).render(ne.jsx(St.StrictMode,{children:ne.jsx(IM,{})}));
