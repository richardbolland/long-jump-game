(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Hw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},xt={};var i0;function qw(){if(i0)return xt;i0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.iterator;function te(U){return U===null||typeof U!="object"?null:(U=G&&U[G]||U["@@iterator"],typeof U=="function"?U:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},De=Object.assign,be={};function Le(U,oe,Ne){this.props=U,this.context=oe,this.refs=be,this.updater=Ne||z}Le.prototype.isReactComponent={},Le.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},Le.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=Le.prototype;function Ue(U,oe,Ne){this.props=U,this.context=oe,this.refs=be,this.updater=Ne||z}var et=Ue.prototype=new j;et.constructor=Ue,De(et,Le.prototype),et.isPureReactComponent=!0;var ut=Array.isArray;function at(){}var Y={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function L(U,oe,Ne){var Ae=Ne.ref;return{$$typeof:i,type:U,key:oe,ref:Ae!==void 0?Ae:null,props:Ne}}function q(U,oe){return L(U.type,oe,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function P(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ne){return oe[Ne]})}var N=/\/+/g;function Q(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):oe.toString(36)}function ie(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(at,at):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,oe,Ne,Ae,xe){var tt=typeof U;(tt==="undefined"||tt==="boolean")&&(U=null);var mt=!1;if(U===null)mt=!0;else switch(tt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(U.$$typeof){case i:case e:mt=!0;break;case x:return mt=U._init,B(mt(U._payload),oe,Ne,Ae,xe)}}if(mt)return xe=xe(U),mt=Ae===""?"."+Q(U,0):Ae,ut(xe)?(Ne="",mt!=null&&(Ne=mt.replace(N,"$&/")+"/"),B(xe,oe,Ne,"",function(Pt){return Pt})):xe!=null&&(I(xe)&&(xe=q(xe,Ne+(xe.key==null||U&&U.key===xe.key?"":(""+xe.key).replace(N,"$&/")+"/")+mt)),oe.push(xe)),1;mt=0;var Dt=Ae===""?".":Ae+":";if(ut(U))for(var lt=0;lt<U.length;lt++)Ae=U[lt],tt=Dt+Q(Ae,lt),mt+=B(Ae,oe,Ne,tt,xe);else if(lt=te(U),typeof lt=="function")for(U=lt.call(U),lt=0;!(Ae=U.next()).done;)Ae=Ae.value,tt=Dt+Q(Ae,lt++),mt+=B(Ae,oe,Ne,tt,xe);else if(tt==="object"){if(typeof U.then=="function")return B(ie(U),oe,Ne,Ae,xe);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return mt}function $(U,oe,Ne){if(U==null)return U;var Ae=[],xe=0;return B(U,Ae,"","",function(tt){return oe.call(Ne,tt,xe++)}),Ae}function me(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(Ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ne)},function(Ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ne)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var he=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ce={map:$,forEach:function(U,oe,Ne){$(U,function(){oe.apply(this,arguments)},Ne)},count:function(U){var oe=0;return $(U,function(){oe++}),oe},toArray:function(U){return $(U,function(oe){return oe})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return xt.Activity=O,xt.Children=Ce,xt.Component=Le,xt.Fragment=r,xt.Profiler=l,xt.PureComponent=Ue,xt.StrictMode=a,xt.Suspense=E,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,xt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Y.H.useMemoCache(U)}},xt.cache=function(U){return function(){return U.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(U,oe,Ne){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ae=De({},U.props),xe=U.key;if(oe!=null)for(tt in oe.key!==void 0&&(xe=""+oe.key),oe)!H.call(oe,tt)||tt==="key"||tt==="__self"||tt==="__source"||tt==="ref"&&oe.ref===void 0||(Ae[tt]=oe[tt]);var tt=arguments.length-2;if(tt===1)Ae.children=Ne;else if(1<tt){for(var mt=Array(tt),Dt=0;Dt<tt;Dt++)mt[Dt]=arguments[Dt+2];Ae.children=mt}return L(U.type,xe,Ae)},xt.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},xt.createElement=function(U,oe,Ne){var Ae,xe={},tt=null;if(oe!=null)for(Ae in oe.key!==void 0&&(tt=""+oe.key),oe)H.call(oe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(xe[Ae]=oe[Ae]);var mt=arguments.length-2;if(mt===1)xe.children=Ne;else if(1<mt){for(var Dt=Array(mt),lt=0;lt<mt;lt++)Dt[lt]=arguments[lt+2];xe.children=Dt}if(U&&U.defaultProps)for(Ae in mt=U.defaultProps,mt)xe[Ae]===void 0&&(xe[Ae]=mt[Ae]);return L(U,tt,xe)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(U){return{$$typeof:b,render:U}},xt.isValidElement=I,xt.lazy=function(U){return{$$typeof:x,_payload:{_status:-1,_result:U},_init:me}},xt.memo=function(U,oe){return{$$typeof:w,type:U,compare:oe===void 0?null:oe}},xt.startTransition=function(U){var oe=Y.T,Ne={};Y.T=Ne;try{var Ae=U(),xe=Y.S;xe!==null&&xe(Ne,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(at,he)}catch(tt){he(tt)}finally{oe!==null&&Ne.types!==null&&(oe.types=Ne.types),Y.T=oe}},xt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},xt.use=function(U){return Y.H.use(U)},xt.useActionState=function(U,oe,Ne){return Y.H.useActionState(U,oe,Ne)},xt.useCallback=function(U,oe){return Y.H.useCallback(U,oe)},xt.useContext=function(U){return Y.H.useContext(U)},xt.useDebugValue=function(){},xt.useDeferredValue=function(U,oe){return Y.H.useDeferredValue(U,oe)},xt.useEffect=function(U,oe){return Y.H.useEffect(U,oe)},xt.useEffectEvent=function(U){return Y.H.useEffectEvent(U)},xt.useId=function(){return Y.H.useId()},xt.useImperativeHandle=function(U,oe,Ne){return Y.H.useImperativeHandle(U,oe,Ne)},xt.useInsertionEffect=function(U,oe){return Y.H.useInsertionEffect(U,oe)},xt.useLayoutEffect=function(U,oe){return Y.H.useLayoutEffect(U,oe)},xt.useMemo=function(U,oe){return Y.H.useMemo(U,oe)},xt.useOptimistic=function(U,oe){return Y.H.useOptimistic(U,oe)},xt.useReducer=function(U,oe,Ne){return Y.H.useReducer(U,oe,Ne)},xt.useRef=function(U){return Y.H.useRef(U)},xt.useState=function(U){return Y.H.useState(U)},xt.useSyncExternalStore=function(U,oe,Ne){return Y.H.useSyncExternalStore(U,oe,Ne)},xt.useTransition=function(){return Y.H.useTransition()},xt.version="19.2.3",xt}var a0;function oh(){return a0||(a0=1,hm.exports=qw()),hm.exports}var Be=oh();const R=Hw(Be);var dm={exports:{}},zu={},mm={exports:{}},pm={};var s0;function Gw(){return s0||(s0=1,(function(i){function e(B,$){var me=B.length;B.push($);e:for(;0<me;){var he=me-1>>>1,Ce=B[he];if(0<l(Ce,$))B[he]=$,B[me]=Ce,me=he;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var $=B[0],me=B.pop();if(me!==$){B[0]=me;e:for(var he=0,Ce=B.length,U=Ce>>>1;he<U;){var oe=2*(he+1)-1,Ne=B[oe],Ae=oe+1,xe=B[Ae];if(0>l(Ne,me))Ae<Ce&&0>l(xe,Ne)?(B[he]=xe,B[Ae]=me,he=Ae):(B[he]=Ne,B[oe]=me,he=oe);else if(Ae<Ce&&0>l(xe,me))B[he]=xe,B[Ae]=me,he=Ae;else break e}}return $}function l(B,$){var me=B.sortIndex-$.sortIndex;return me!==0?me:B.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var E=[],w=[],x=1,O=null,G=3,te=!1,z=!1,De=!1,be=!1,Le=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,Ue=typeof setImmediate<"u"?setImmediate:null;function et(B){for(var $=r(w);$!==null;){if($.callback===null)a(w);else if($.startTime<=B)a(w),$.sortIndex=$.expirationTime,e(E,$);else break;$=r(w)}}function ut(B){if(De=!1,et(B),!z)if(r(E)!==null)z=!0,at||(at=!0,P());else{var $=r(w);$!==null&&ie(ut,$.startTime-B)}}var at=!1,Y=-1,H=5,L=-1;function q(){return be?!0:!(i.unstable_now()-L<H)}function I(){if(be=!1,at){var B=i.unstable_now();L=B;var $=!0;try{e:{z=!1,De&&(De=!1,j(Y),Y=-1),te=!0;var me=G;try{t:{for(et(B),O=r(E);O!==null&&!(O.expirationTime>B&&q());){var he=O.callback;if(typeof he=="function"){O.callback=null,G=O.priorityLevel;var Ce=he(O.expirationTime<=B);if(B=i.unstable_now(),typeof Ce=="function"){O.callback=Ce,et(B),$=!0;break t}O===r(E)&&a(E),et(B)}else a(E);O=r(E)}if(O!==null)$=!0;else{var U=r(w);U!==null&&ie(ut,U.startTime-B),$=!1}}break e}finally{O=null,G=me,te=!1}$=void 0}}finally{$?P():at=!1}}}var P;if(typeof Ue=="function")P=function(){Ue(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Q=N.port2;N.port1.onmessage=I,P=function(){Q.postMessage(null)}}else P=function(){Le(I,0)};function ie(B,$){Y=Le(function(){B(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return G},i.unstable_next=function(B){switch(G){case 1:case 2:case 3:var $=3;break;default:$=G}var me=G;G=$;try{return B()}finally{G=me}},i.unstable_requestPaint=function(){be=!0},i.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var me=G;G=B;try{return $()}finally{G=me}},i.unstable_scheduleCallback=function(B,$,me){var he=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?he+me:he):me=he,B){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=me+Ce,B={id:x++,callback:$,priorityLevel:B,startTime:me,expirationTime:Ce,sortIndex:-1},me>he?(B.sortIndex=me,e(w,B),r(E)===null&&B===r(w)&&(De?(j(Y),Y=-1):De=!0,ie(ut,me-he))):(B.sortIndex=Ce,e(E,B),z||te||(z=!0,at||(at=!0,P()))),B},i.unstable_shouldYield=q,i.unstable_wrapCallback=function(B){var $=G;return function(){var me=G;G=$;try{return B.apply(this,arguments)}finally{G=me}}}})(pm)),pm}var o0;function Yw(){return o0||(o0=1,mm.exports=Gw()),mm.exports}var gm={exports:{}},_i={};var l0;function Xw(){if(l0)return _i;l0=1;var i=oh();function e(E){var w="https://react.dev/errors/"+E;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)w+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+E+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(E,w,x){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:O==null?null:""+O,children:E,containerInfo:w,implementation:x}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(E,w){if(E==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return _i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_i.createPortal=function(E,w){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return c(E,w,null,x)},_i.flushSync=function(E){var w=p.T,x=a.p;try{if(p.T=null,a.p=2,E)return E()}finally{p.T=w,a.p=x,a.d.f()}},_i.preconnect=function(E,w){typeof E=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,a.d.C(E,w))},_i.prefetchDNS=function(E){typeof E=="string"&&a.d.D(E)},_i.preinit=function(E,w){if(typeof E=="string"&&w&&typeof w.as=="string"){var x=w.as,O=b(x,w.crossOrigin),G=typeof w.integrity=="string"?w.integrity:void 0,te=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;x==="style"?a.d.S(E,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:O,integrity:G,fetchPriority:te}):x==="script"&&a.d.X(E,{crossOrigin:O,integrity:G,fetchPriority:te,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},_i.preinitModule=function(E,w){if(typeof E=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var x=b(w.as,w.crossOrigin);a.d.M(E,{crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&a.d.M(E)},_i.preload=function(E,w){if(typeof E=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var x=w.as,O=b(x,w.crossOrigin);a.d.L(E,x,{crossOrigin:O,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},_i.preloadModule=function(E,w){if(typeof E=="string")if(w){var x=b(w.as,w.crossOrigin);a.d.m(E,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:x,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else a.d.m(E)},_i.requestFormReset=function(E){a.d.r(E)},_i.unstable_batchedUpdates=function(E,w){return E(w)},_i.useFormState=function(E,w,x){return p.H.useFormState(E,w,x)},_i.useFormStatus=function(){return p.H.useHostTransitionStatus()},_i.version="19.2.3",_i}var u0;function Ww(){if(u0)return gm.exports;u0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=Xw(),gm.exports}var c0;function Qw(){if(c0)return zu;c0=1;var i=Yw(),e=oh(),r=Ww();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(c(t)!==t)throw Error(a(188))}function w(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return E(f),t;if(m===o)return E(f),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=m;else{for(var T=!1,M=f.child;M;){if(M===s){T=!0,s=f,o=m;break}if(M===o){T=!0,o=f,s=m;break}M=M.sibling}if(!T){for(M=m.child;M;){if(M===s){T=!0,s=m,o=f;break}if(M===o){T=!0,o=m,s=f;break}M=M.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var O=Object.assign,G=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),De=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),Ue=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case De:return"Fragment";case Le:return"Profiler";case be:return"StrictMode";case ut:return"Suspense";case at:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case Ue:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:Q(t.type)||"Memo";case H:n=t._payload,t=t._init;try{return Q(t(n))}catch{}}return null}var ie=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},he=[],Ce=-1;function U(t){return{current:t}}function oe(t){0>Ce||(t.current=he[Ce],he[Ce]=null,Ce--)}function Ne(t,n){Ce++,he[Ce]=t.current,t.current=n}var Ae=U(null),xe=U(null),tt=U(null),mt=U(null);function Dt(t,n){switch(Ne(tt,n),Ne(xe,t),Ne(Ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rv(n),t=Iv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(Ae),Ne(Ae,t)}function lt(){oe(Ae),oe(xe),oe(tt)}function Pt(t){t.memoizedState!==null&&Ne(mt,t);var n=Ae.current,s=Iv(n,t.type);n!==s&&(Ne(xe,t),Ne(Ae,s))}function Bt(t){xe.current===t&&(oe(Ae),oe(xe)),mt.current===t&&(oe(mt),Vu._currentValue=me)}var ct,It;function Wt(t){if(ct===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ct=n&&n[1]||"",It=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+t+It}var Qt=!1;function Wn(t,n){if(!t||Qt)return"";Qt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ye){var de=ye}Reflect.construct(t,[],Re)}else{try{Re.call()}catch(ye){de=ye}t.call(Re.prototype)}}else{try{throw Error()}catch(ye){de=ye}(Re=t())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ye){if(ye&&de&&typeof ye.stack=="string")return[ye.stack,de.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],M=m[1];if(T&&M){var X=T.split(`
`),ce=M.split(`
`);for(f=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ce.length&&!ce[f].includes("DetermineComponentFrameRoot");)f++;if(o===X.length||f===ce.length)for(o=X.length-1,f=ce.length-1;1<=o&&0<=f&&X[o]!==ce[f];)f--;for(;1<=o&&0<=f;o--,f--)if(X[o]!==ce[f]){if(o!==1||f!==1)do if(o--,f--,0>f||X[o]!==ce[f]){var we=`
`+X[o].replace(" at new "," at ");return t.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",t.displayName)),we}while(1<=o&&0<=f);break}}}finally{Qt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Wt(s):""}function Mr(t,n){switch(t.tag){case 26:case 27:case 5:return Wt(t.type);case 16:return Wt("Lazy");case 13:return t.child!==n&&n!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Wn(t.type,!1);case 11:return Wn(t.type.render,!1);case 1:return Wn(t.type,!0);case 31:return Wt("Activity");default:return""}}function Kt(t){try{var n="",s=null;do n+=Mr(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ke=Object.prototype.hasOwnProperty,St=i.unstable_scheduleCallback,sn=i.unstable_cancelCallback,vt=i.unstable_shouldYield,wn=i.unstable_requestPaint,_t=i.unstable_now,Tn=i.unstable_getCurrentPriorityLevel,mn=i.unstable_ImmediatePriority,C=i.unstable_UserBlockingPriority,g=i.unstable_NormalPriority,_=i.unstable_LowPriority,V=i.unstable_IdlePriority,J=i.log,ge=i.unstable_setDisableYieldValue,Se=null,qe=null;function We(t){if(typeof J=="function"&&ge(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Se,t)}catch{}}var Pe=Math.clz32?Math.clz32:Un,Tt=Math.log,jt=Math.LN2;function Un(t){return t>>>=0,t===0?32:31-(Tt(t)/jt|0)|0}var Lt=256,Qn=262144,Ft=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var M=o&134217727;return M!==0?(o=M&~m,o!==0?f=Mn(o):(T&=M,T!==0?f=Mn(T):s||(s=M&~t,s!==0&&(f=Mn(s))))):(M=o&~m,M!==0?f=Mn(M):T!==0?f=Mn(T):s||(s=o&~t,s!==0&&(f=Mn(s)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:f}function Dn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function on(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var t=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),t}function tr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function On(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ot(t,n,s,o,f,m){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,X=t.expirationTimes,ce=t.hiddenUpdates;for(s=T&~s;0<s;){var we=31-Pe(s),Re=1<<we;M[we]=0,X[we]=-1;var de=ce[we];if(de!==null)for(ce[we]=null,we=0;we<de.length;we++){var ye=de[we];ye!==null&&(ye.lane&=-536870913)}s&=~Re}o!==0&&Hn(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function Hn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Pe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Mi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Pe(s),f=1<<o;f&n|t[o]&n&&(t[o]|=n),s&=~f}}function Zr(t,n){var s=n&-n;return s=(s&42)!==0?1:ei(s),(s&(t.suspendedLanes|n))!==0?0:s}function ei(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $a(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:$v(t.type))}function Ur(t,n){var s=$.p;try{return $.p=t,n()}finally{$.p=s}}var zr=Math.random().toString(36).slice(2),An="__reactFiber$"+zr,Kn="__reactProps$"+zr,ti="__reactContainer$"+zr,ar="__reactEvents$"+zr,Ja="__reactListeners$"+zr,Gi="__reactHandles$"+zr,Yi="__reactResources$"+zr,Nr="__reactMarker$"+zr;function Br(t){delete t[An],delete t[Kn],delete t[ar],delete t[Ja],delete t[Gi]}function ni(t){var n=t[An];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ti]||s[An]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Vv(t);t!==null;){if(s=t[An])return s;t=Vv(t)}return n}t=s,s=t.parentNode}return null}function ri(t){if(t=t[An]||t[ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ar(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function jr(t){var n=t[Yi];return n||(n=t[Yi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function cn(t){t[Nr]=!0}var Xi=new Set,Sr={};function Fr(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Sr[t]=n,t=0;t<n.length;t++)Xi.add(n[t])}var Za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sa={},Oa={};function Ea(t){return Ke.call(Oa,t)?!0:Ke.call(sa,t)?!1:Za.test(t)?Oa[t]=!0:(sa[t]=!0,!1)}function fn(t,n,s){if(Ea(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function sr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function _n(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function $n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ai(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ni(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $t(t){if(!t._valueTracker){var n=ai(t)?"checked":"value";t._valueTracker=Ni(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=ai(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var or=/[\n"\\]/g;function zn(t){return t.replace(or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wa(t,n,s,o,f,m,T,M){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$n(n)):t.value!==""+$n(n)&&(t.value=""+$n(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?ka(t,T,$n(n)):s!=null?ka(t,T,$n(s)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+$n(M):t.removeAttribute("name")}function es(t,n,s,o,f,m,T,M){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){$t(t);return}s=s!=null?""+$n(s):"",n=n!=null?""+$n(n):s,M||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=M?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),$t(t)}function ka(t,n,s){n==="number"&&ft(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function pn(t,n,s,o){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&o&&(t[s].defaultSelected=!0)}else{for(s=""+$n(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function oa(t,n,s){if(n!=null&&(n=""+$n(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+$n(s):""}function Di(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=$n(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),$t(t)}function nr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wi(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||si.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function oi(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&Wi(t,f,o)}else for(var m in n)n.hasOwnProperty(m)&&Wi(t,m,n[m])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(t){return li.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hr(){}var Va=null;function ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,Dr=null;function fi(t){var n=ri(t);if(n&&(t=n.stateNode)){var s=t[Kn]||null;e:switch(t=n.stateNode,n.type){case"input":if(wa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+zn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var f=o[Kn]||null;if(!f)throw Error(a(90));wa(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&mr(o)}break e;case"textarea":oa(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&pn(t,!!s.multiple,n,!1)}}}var Oi=!1;function hi(t,n,s){if(Oi)return t(n,s);Oi=!0;try{var o=t(n);return o}finally{if(Oi=!1,(ci!==null||Dr!==null)&&($c(),ci&&(n=ci,t=Dr,Dr=ci=null,fi(n),t)))for(n=0;n<t.length;n++)fi(t[n])}}function Cr(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Kn]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=!1;if(lr)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){ki=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{ki=!1}var Vi=null,Rr=null,Ki=null;function ua(){if(Ki)return Ki;var t,n=Rr,s=n.length,o,f="value"in Vi?Vi.value:Vi.textContent,m=f.length;for(t=0;t<s&&n[t]===f[t];t++);var T=s-t;for(o=1;o<=T&&n[s-o]===f[m-o];o++);return Ki=f.slice(t,1<o?1-o:void 0)}function pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function di(){return!0}function mi(){return!1}function ur(t){function n(s,o,f,m,T){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?di:mi,this.isPropagationStopped=mi,this}return O(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),n}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=ur(pi),W=O({},pi,{view:0,detail:0}),ae=ur(W),Ee,_e,ve,He=O({},W,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ve&&(ve&&t.type==="mousemove"?(Ee=t.screenX-ve.screenX,_e=t.screenY-ve.screenY):_e=Ee=0,ve=t),Ee)},movementY:function(t){return"movementY"in t?t.movementY:_e}}),Ge=ur(He),ze=O({},He,{dataTransfer:0}),ht=ur(ze),ke=O({},W,{relatedTarget:0}),nt=ur(ke),qt=O({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Or=ur(qt),gr=O({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=ur(gr),Ai=O({},pi,{data:0}),$i=ur(Ai),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Os(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function Pa(){return Os}var qr=O({},W,{key:function(t){if(t.key){var n=Ds[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),So=ur(qr),Zo=O({},He,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=ur(Zo),u=O({},W,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),y=ur(u),A=O({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=ur(A),se=O({},He,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=ur(se),je=O({},pi,{newState:0,oldState:0}),Ct=ur(je),Zn=[9,13,27,32],hn=lr&&"CompositionEvent"in window,jn=null;lr&&"documentMode"in document&&(jn=document.documentMode);var yi=lr&&"TextEvent"in window&&!jn,Pi=lr&&(!hn||jn&&8<jn&&11>=jn),Li=" ",Si=!1;function ca(t,n){switch(t){case"keyup":return Zn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ts(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function Ch(t,n){switch(t){case"compositionend":return ts(n);case"keypress":return n.which!==32?null:(Si=!0,Li);case"textInput":return t=n.data,t===Li&&Si?null:t;default:return null}}function _c(t,n){if(ns)return t==="compositionend"||!hn&&ca(t,n)?(t=ua(),Ki=Rr=Vi=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!el[t.type]:n==="textarea"}function qn(t,n,s,o){ci?Dr?Dr.push(o):Dr=[o]:ci=o,n=af(n,"onChange"),0<n.length&&(s=new gi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ci=null,rs=null;function bc(t){Ev(t,0)}function Co(t){var n=Ar(t);if(mr(n))return t}function iu(t,n){if(t==="change")return n}var au=!1;if(lr){var ks;if(lr){var tl="oninput"in document;if(!tl){var h=document.createElement("div");h.setAttribute("oninput","return;"),tl=typeof h.oninput=="function"}ks=tl}else ks=!1;au=ks&&(!document.documentMode||9<document.documentMode)}function d(){Ci&&(Ci.detachEvent("onpropertychange",v),rs=Ci=null)}function v(t){if(t.propertyName==="value"&&Co(rs)){var n=[];qn(n,rs,t,ui(t)),hi(bc,n)}}function S(t,n,s){t==="focusin"?(d(),Ci=n,rs=s,Ci.attachEvent("onpropertychange",v)):t==="focusout"&&d()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(rs)}function F(t,n){if(t==="click")return Co(n)}function Z(t,n){if(t==="input"||t==="change")return Co(n)}function ee(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fe=typeof Object.is=="function"?Object.is:ee;function ue(t,n){if(fe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ke.call(n,f)||!fe(t[f],n[f]))return!1}return!0}function Ve(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $e(t,n){var s=Ve(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ve(s)}}function st(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?st(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ne(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ft(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ft(t.document)}return n}function Fe(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rt=lr&&"documentMode"in document&&11>=document.documentMode,Ye=null,gn=null,Je=null,Ut=!1;function Sn(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ut||Ye==null||Ye!==ft(o)||(o=Ye,"selectionStart"in o&&Fe(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Je&&ue(Je,o)||(Je=o,o=af(gn,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Ye)))}function cr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ui={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},Ht={},Ji={};lr&&(Ji=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function is(t){if(Ht[t])return Ht[t];if(!Ui[t])return t;var n=Ui[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ji)return Ht[t]=n[s];return t}var Oe=is("animationend"),Xe=is("animationiteration"),zt=is("animationstart"),Jt=is("transitionrun"),Nt=is("transitionstart"),Gt=is("transitioncancel"),ln=is("transitionend"),dn=new Map,Ri="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ri.push("scrollEnd");function Cn(t,n){dn.set(t,n),Fr(n,[t])}var Gr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],as=0,nl=0;function La(){for(var t=as,n=nl=as=0;n<t;){var s=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var f=bn[n];bn[n++]=null;var m=bn[n];if(bn[n++]=null,o!==null&&f!==null){var T=o.pending;T===null?f.next=f:(f.next=T.next,T.next=f),o.pending=f}m!==0&&su(s,f,m)}}function Ua(t,n,s,o){bn[as++]=t,bn[as++]=n,bn[as++]=s,bn[as++]=o,nl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ca(t,n,s,o){return Ua(t,n,s,o),Ro(t)}function Ii(t,n){return Ua(t,null,null,n),Ro(t)}function su(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&n!==null&&(f=31-Pe(s),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=s|536870912),m):null}function Ro(t){if(50<Iu)throw Iu=0,Pd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zi={};function Rh(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(t,n,s,o){return new Rh(t,n,s,o)}function Ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var s=t.alternate;return s===null?(s=vi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function rg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ec(t,n,s,o,f,m){var T=0;if(o=t,typeof t=="function")Ih(t)&&(T=1);else if(typeof t=="string")T=Nw(t,s,Ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=vi(31,s,n,f),t.elementType=L,t.lanes=m,t;case De:return Io(s.children,f,m,n);case be:T=8,f|=24;break;case Le:return t=vi(12,s,n,f|2),t.elementType=Le,t.lanes=m,t;case ut:return t=vi(13,s,n,f),t.elementType=ut,t.lanes=m,t;case at:return t=vi(19,s,n,f),t.elementType=at,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ue:T=10;break e;case j:T=9;break e;case et:T=11;break e;case Y:T=14;break e;case H:T=16,o=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=vi(T,s,n,f),n.elementType=t,n.type=o,n.lanes=m,n}function Io(t,n,s,o){return t=vi(7,t,o,n),t.lanes=s,t}function xh(t,n,s){return t=vi(6,t,null,n),t.lanes=s,t}function ig(t){var n=vi(18,null,null,0);return n.stateNode=t,n}function Mh(t,n,s){return n=vi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ag=new WeakMap;function fa(t,n){if(typeof t=="object"&&t!==null){var s=ag.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Kt(n)},ag.set(t,n),n)}return{value:t,source:n,stack:Kt(n)}}var rl=[],il=0,wc=null,ou=0,ha=[],da=0,Vs=null,za=1,Ba="";function os(t,n){rl[il++]=ou,rl[il++]=wc,wc=t,ou=n}function sg(t,n,s){ha[da++]=za,ha[da++]=Ba,ha[da++]=Vs,Vs=t;var o=za;t=Ba;var f=32-Pe(o)-1;o&=~(1<<f),s+=1;var m=32-Pe(n)+f;if(30<m){var T=f-f%5;m=(o&(1<<T)-1).toString(32),o>>=T,f-=T,za=1<<32-Pe(n)+f|s<<f|o,Ba=m+t}else za=1<<m|s<<f|o,Ba=t}function Nh(t){t.return!==null&&(os(t,1),sg(t,1,0))}function Dh(t){for(;t===wc;)wc=rl[--il],rl[il]=null,ou=rl[--il],rl[il]=null;for(;t===Vs;)Vs=ha[--da],ha[da]=null,Ba=ha[--da],ha[da]=null,za=ha[--da],ha[da]=null}function og(t,n){ha[da++]=za,ha[da++]=Ba,ha[da++]=Vs,za=n.id,Ba=n.overflow,Vs=t}var Yr=null,Gn=null,an=!1,Ps=null,ma=!1,Oh=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(fa(n,t)),Oh}function lg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[An]=t,n[Kn]=o,s){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(s=0;s<Mu.length;s++)Xt(Mu[s],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":Xt("invalid",n),es(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Xt("invalid",n);break;case"textarea":Xt("invalid",n),Di(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Sv(n.textContent,s)?(o.popover!=null&&(Xt("beforetoggle",n),Xt("toggle",n)),o.onScroll!=null&&Xt("scroll",n),o.onScrollEnd!=null&&Xt("scrollend",n),o.onClick!=null&&(n.onclick=Hr),n=!0):n=!1,n||Ls(t,!0)}function ug(t){for(Yr=t.return;Yr;)switch(Yr.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Yr=Yr.return}}function al(t){if(t!==Yr)return!1;if(!an)return ug(t),an=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&Gn&&Ls(t),ug(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Gn=kv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Gn=kv(t)}else n===27?(n=Gn,$s(t.type)?(t=nm,nm=null,Gn=t):Gn=n):Gn=Yr?ga(t.stateNode.nextSibling):null;return!0}function xo(){Gn=Yr=null,an=!1}function kh(){var t=Ps;return t!==null&&(Fi===null?Fi=t:Fi.push.apply(Fi,t),Ps=null),t}function lu(t){Ps===null?Ps=[t]:Ps.push(t)}var Vh=U(null),Mo=null,ls=null;function Us(t,n,s){Ne(Vh,n._currentValue),n._currentValue=s}function us(t){t._currentValue=Vh.current,oe(Vh)}function Ph(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Lh(t,n,s,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var M=m;m=f;for(var X=0;X<n.length;X++)if(M.context===n[X]){m.lanes|=s,M=m.alternate,M!==null&&(M.lanes|=s),Ph(m.return,s,t),o||(T=null);break e}m=M.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,m=T.alternate,m!==null&&(m.lanes|=s),Ph(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function sl(t,n,s,o){t=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var M=f.type;fe(f.pendingProps.value,T.value)||(t!==null?t.push(M):t=[M])}}else if(f===mt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Vu):t=[Vu])}f=f.return}t!==null&&Lh(n,t,s,o),n.flags|=262144}function Tc(t){for(t=t.firstContext;t!==null;){if(!fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function No(t){Mo=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xr(t){return cg(Mo,t)}function Ac(t,n){return Mo===null&&No(t),cg(t,n)}function cg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ls===null){if(t===null)throw Error(a(308));ls=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ls=ls.next=n;return s}var R1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},I1=i.unstable_scheduleCallback,x1=i.unstable_NormalPriority,yr={$$typeof:Ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new R1,data:new Map,refCount:0}}function uu(t){t.refCount--,t.refCount===0&&I1(x1,function(){t.controller.abort()})}var cu=null,zh=0,ol=0,ll=null;function M1(t,n){if(cu===null){var s=cu=[];zh=0,ol=Fd(),ll={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zh++,n.then(fg,fg),n}function fg(){if(--zh===0&&cu!==null){ll!==null&&(ll.status="fulfilled");var t=cu;cu=null,ol=0,ll=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function N1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var hg=B.S;B.S=function(t,n){Qy=_t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&M1(t,n),hg!==null&&hg(t,n)};var Do=U(null);function Bh(){var t=Do.current;return t!==null?t:Bn.pooledCache}function Sc(t,n){n===null?Ne(Do,Do.current):Ne(Do,n.pool)}function dg(){var t=Bh();return t===null?null:{parent:yr._currentValue,pool:t}}var ul=Error(a(460)),jh=Error(a(474)),Cc=Error(a(542)),Rc={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Hr,Hr),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t;default:if(typeof n.status=="string")n.then(Hr,Hr);else{if(t=Bn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yg(t),t}throw ko=n,ul}}function Oo(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ko=s,ul):s}}var ko=null;function gg(){if(ko===null)throw Error(a(459));var t=ko;return ko=null,t}function yg(t){if(t===ul||t===Cc)throw Error(a(483))}var cl=null,fu=0;function Ic(t){var n=fu;return fu+=1,cl===null&&(cl=[]),pg(cl,t,n)}function hu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xc(t,n){throw n.$$typeof===G?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vg(t){function n(re,K){if(t){var le=re.deletions;le===null?(re.deletions=[K],re.flags|=16):le.push(K)}}function s(re,K){if(!t)return null;for(;K!==null;)n(re,K),K=K.sibling;return null}function o(re){for(var K=new Map;re!==null;)re.key!==null?K.set(re.key,re):K.set(re.index,re),re=re.sibling;return K}function f(re,K){return re=ss(re,K),re.index=0,re.sibling=null,re}function m(re,K,le){return re.index=le,t?(le=re.alternate,le!==null?(le=le.index,le<K?(re.flags|=67108866,K):le):(re.flags|=67108866,K)):(re.flags|=1048576,K)}function T(re){return t&&re.alternate===null&&(re.flags|=67108866),re}function M(re,K,le,Te){return K===null||K.tag!==6?(K=xh(le,re.mode,Te),K.return=re,K):(K=f(K,le),K.return=re,K)}function X(re,K,le,Te){var pt=le.type;return pt===De?we(re,K,le.props.children,Te,le.key):K!==null&&(K.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===H&&Oo(pt)===K.type)?(K=f(K,le.props),hu(K,le),K.return=re,K):(K=Ec(le.type,le.key,le.props,null,re.mode,Te),hu(K,le),K.return=re,K)}function ce(re,K,le,Te){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Mh(le,re.mode,Te),K.return=re,K):(K=f(K,le.children||[]),K.return=re,K)}function we(re,K,le,Te,pt){return K===null||K.tag!==7?(K=Io(le,re.mode,Te,pt),K.return=re,K):(K=f(K,le),K.return=re,K)}function Re(re,K,le){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=xh(""+K,re.mode,le),K.return=re,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case te:return le=Ec(K.type,K.key,K.props,null,re.mode,le),hu(le,K),le.return=re,le;case z:return K=Mh(K,re.mode,le),K.return=re,K;case H:return K=Oo(K),Re(re,K,le)}if(ie(K)||P(K))return K=Io(K,re.mode,le,null),K.return=re,K;if(typeof K.then=="function")return Re(re,Ic(K),le);if(K.$$typeof===Ue)return Re(re,Ac(re,K),le);xc(re,K)}return null}function de(re,K,le,Te){var pt=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return pt!==null?null:M(re,K,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case te:return le.key===pt?X(re,K,le,Te):null;case z:return le.key===pt?ce(re,K,le,Te):null;case H:return le=Oo(le),de(re,K,le,Te)}if(ie(le)||P(le))return pt!==null?null:we(re,K,le,Te,null);if(typeof le.then=="function")return de(re,K,Ic(le),Te);if(le.$$typeof===Ue)return de(re,K,Ac(re,le),Te);xc(re,le)}return null}function ye(re,K,le,Te,pt){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return re=re.get(le)||null,M(K,re,""+Te,pt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case te:return re=re.get(Te.key===null?le:Te.key)||null,X(K,re,Te,pt);case z:return re=re.get(Te.key===null?le:Te.key)||null,ce(K,re,Te,pt);case H:return Te=Oo(Te),ye(re,K,le,Te,pt)}if(ie(Te)||P(Te))return re=re.get(le)||null,we(K,re,Te,pt,null);if(typeof Te.then=="function")return ye(re,K,le,Ic(Te),pt);if(Te.$$typeof===Ue)return ye(re,K,le,Ac(K,Te),pt);xc(K,Te)}return null}function ot(re,K,le,Te){for(var pt=null,yn=null,dt=K,Vt=K=0,en=null;dt!==null&&Vt<le.length;Vt++){dt.index>Vt?(en=dt,dt=null):en=dt.sibling;var vn=de(re,dt,le[Vt],Te);if(vn===null){dt===null&&(dt=en);break}t&&dt&&vn.alternate===null&&n(re,dt),K=m(vn,K,Vt),yn===null?pt=vn:yn.sibling=vn,yn=vn,dt=en}if(Vt===le.length)return s(re,dt),an&&os(re,Vt),pt;if(dt===null){for(;Vt<le.length;Vt++)dt=Re(re,le[Vt],Te),dt!==null&&(K=m(dt,K,Vt),yn===null?pt=dt:yn.sibling=dt,yn=dt);return an&&os(re,Vt),pt}for(dt=o(dt);Vt<le.length;Vt++)en=ye(dt,re,Vt,le[Vt],Te),en!==null&&(t&&en.alternate!==null&&dt.delete(en.key===null?Vt:en.key),K=m(en,K,Vt),yn===null?pt=en:yn.sibling=en,yn=en);return t&&dt.forEach(function(no){return n(re,no)}),an&&os(re,Vt),pt}function bt(re,K,le,Te){if(le==null)throw Error(a(151));for(var pt=null,yn=null,dt=K,Vt=K=0,en=null,vn=le.next();dt!==null&&!vn.done;Vt++,vn=le.next()){dt.index>Vt?(en=dt,dt=null):en=dt.sibling;var no=de(re,dt,vn.value,Te);if(no===null){dt===null&&(dt=en);break}t&&dt&&no.alternate===null&&n(re,dt),K=m(no,K,Vt),yn===null?pt=no:yn.sibling=no,yn=no,dt=en}if(vn.done)return s(re,dt),an&&os(re,Vt),pt;if(dt===null){for(;!vn.done;Vt++,vn=le.next())vn=Re(re,vn.value,Te),vn!==null&&(K=m(vn,K,Vt),yn===null?pt=vn:yn.sibling=vn,yn=vn);return an&&os(re,Vt),pt}for(dt=o(dt);!vn.done;Vt++,vn=le.next())vn=ye(dt,re,Vt,vn.value,Te),vn!==null&&(t&&vn.alternate!==null&&dt.delete(vn.key===null?Vt:vn.key),K=m(vn,K,Vt),yn===null?pt=vn:yn.sibling=vn,yn=vn);return t&&dt.forEach(function(Fw){return n(re,Fw)}),an&&os(re,Vt),pt}function Pn(re,K,le,Te){if(typeof le=="object"&&le!==null&&le.type===De&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case te:e:{for(var pt=le.key;K!==null;){if(K.key===pt){if(pt=le.type,pt===De){if(K.tag===7){s(re,K.sibling),Te=f(K,le.props.children),Te.return=re,re=Te;break e}}else if(K.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===H&&Oo(pt)===K.type){s(re,K.sibling),Te=f(K,le.props),hu(Te,le),Te.return=re,re=Te;break e}s(re,K);break}else n(re,K);K=K.sibling}le.type===De?(Te=Io(le.props.children,re.mode,Te,le.key),Te.return=re,re=Te):(Te=Ec(le.type,le.key,le.props,null,re.mode,Te),hu(Te,le),Te.return=re,re=Te)}return T(re);case z:e:{for(pt=le.key;K!==null;){if(K.key===pt)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){s(re,K.sibling),Te=f(K,le.children||[]),Te.return=re,re=Te;break e}else{s(re,K);break}else n(re,K);K=K.sibling}Te=Mh(le,re.mode,Te),Te.return=re,re=Te}return T(re);case H:return le=Oo(le),Pn(re,K,le,Te)}if(ie(le))return ot(re,K,le,Te);if(P(le)){if(pt=P(le),typeof pt!="function")throw Error(a(150));return le=pt.call(le),bt(re,K,le,Te)}if(typeof le.then=="function")return Pn(re,K,Ic(le),Te);if(le.$$typeof===Ue)return Pn(re,K,Ac(re,le),Te);xc(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,K!==null&&K.tag===6?(s(re,K.sibling),Te=f(K,le),Te.return=re,re=Te):(s(re,K),Te=xh(le,re.mode,Te),Te.return=re,re=Te),T(re)):s(re,K)}return function(re,K,le,Te){try{fu=0;var pt=Pn(re,K,le,Te);return cl=null,pt}catch(dt){if(dt===ul||dt===Cc)throw dt;var yn=vi(29,dt,null,re.mode);return yn.lanes=Te,yn.return=re,yn}finally{}}}var Vo=vg(!0),_g=vg(!1),zs=!1;function Fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(En&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Ro(t),su(t,null,s),n}return Ua(t,o,n,s),Ro(t)}function du(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Mi(t,s)}}function qh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,s=s.next}while(s!==null);m===null?f=m=n:m=m.next=n}else f=m=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Gh=!1;function mu(){if(Gh){var t=ll;if(t!==null)throw t}}function pu(t,n,s,o){Gh=!1;var f=t.updateQueue;zs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var X=M,ce=X.next;X.next=null,T===null?m=ce:T.next=ce,T=X;var we=t.alternate;we!==null&&(we=we.updateQueue,M=we.lastBaseUpdate,M!==T&&(M===null?we.firstBaseUpdate=ce:M.next=ce,we.lastBaseUpdate=X))}if(m!==null){var Re=f.baseState;T=0,we=ce=X=null,M=m;do{var de=M.lane&-536870913,ye=de!==M.lane;if(ye?(Zt&de)===de:(o&de)===de){de!==0&&de===ol&&(Gh=!0),we!==null&&(we=we.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ot=t,bt=M;de=n;var Pn=s;switch(bt.tag){case 1:if(ot=bt.payload,typeof ot=="function"){Re=ot.call(Pn,Re,de);break e}Re=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=bt.payload,de=typeof ot=="function"?ot.call(Pn,Re,de):ot,de==null)break e;Re=O({},Re,de);break e;case 2:zs=!0}}de=M.callback,de!==null&&(t.flags|=64,ye&&(t.flags|=8192),ye=f.callbacks,ye===null?f.callbacks=[de]:ye.push(de))}else ye={lane:de,tag:M.tag,payload:M.payload,callback:M.callback,next:null},we===null?(ce=we=ye,X=Re):we=we.next=ye,T|=de;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ye=M,M=ye.next,ye.next=null,f.lastBaseUpdate=ye,f.shared.pending=null}}while(!0);we===null&&(X=Re),f.baseState=X,f.firstBaseUpdate=ce,f.lastBaseUpdate=we,m===null&&(f.shared.lanes=0),Ys|=T,t.lanes=T,t.memoizedState=Re}}function bg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Eg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)bg(s[t],n)}var fl=U(null),Mc=U(0);function wg(t,n){t=vs,Ne(Mc,t),Ne(fl,n),vs=t|n.baseLanes}function Yh(){Ne(Mc,vs),Ne(fl,fl.current)}function Xh(){vs=Mc.current,oe(fl),oe(Mc)}var ea=U(null),pa=null;function Fs(t){var n=t.alternate;Ne(fr,fr.current&1),Ne(ea,t),pa===null&&(n===null||fl.current!==null||n.memoizedState!==null)&&(pa=t)}function Wh(t){Ne(fr,fr.current),Ne(ea,t),pa===null&&(pa=t)}function Tg(t){t.tag===22?(Ne(fr,fr.current),Ne(ea,t),pa===null&&(pa=t)):Hs()}function Hs(){Ne(fr,fr.current),Ne(ea,ea.current)}function ta(t){oe(ea),pa===t&&(pa=null),oe(fr)}var fr=U(0);function Nc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||em(s)||tm(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cs=0,kt=null,kn=null,vr=null,Dc=!1,hl=!1,Po=!1,Oc=0,gu=0,dl=null,D1=0;function rr(){throw Error(a(321))}function Qh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fe(t[s],n[s]))return!1;return!0}function Kh(t,n,s,o,f,m){return cs=m,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?sy:fd,Po=!1,m=s(o,f),Po=!1,hl&&(m=Sg(n,s,o,f)),Ag(t),m}function Ag(t){B.H=_u;var n=kn!==null&&kn.next!==null;if(cs=0,vr=kn=kt=null,Dc=!1,gu=0,dl=null,n)throw Error(a(300));t===null||_r||(t=t.dependencies,t!==null&&Tc(t)&&(_r=!0))}function Sg(t,n,s,o){kt=t;var f=0;do{if(hl&&(dl=null),gu=0,hl=!1,25<=f)throw Error(a(301));if(f+=1,vr=kn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=oy,m=n(s,o)}while(hl);return m}function O1(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?yu(n):n,t=t.useState()[0],(kn!==null?kn.memoizedState:null)!==t&&(kt.flags|=1024),n}function $h(){var t=Oc!==0;return Oc=0,t}function Jh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Zh(t){if(Dc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Dc=!1}cs=0,vr=kn=kt=null,hl=!1,gu=Oc=0,dl=null}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?kt.memoizedState=vr=t:vr=vr.next=t,vr}function hr(){if(kn===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var n=vr===null?kt.memoizedState:vr.next;if(n!==null)vr=n,kn=t;else{if(t===null)throw kt.alternate===null?Error(a(467)):Error(a(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},vr===null?kt.memoizedState=vr=t:vr=vr.next=t}return vr}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(t){var n=gu;return gu+=1,dl===null&&(dl=[]),t=pg(dl,t,n),n=kt,(vr===null?n.memoizedState:vr.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?sy:fd),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yu(t);if(t.$$typeof===Ue)return Xr(t)}throw Error(a(438,String(t)))}function ed(t){var n=null,s=kt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=kt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=kc(),kt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=q;return n.index++,s}function fs(t,n){return typeof n=="function"?n(t):n}function Pc(t){var n=hr();return td(n,kn,t)}function td(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}n.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{n=f.next;var M=T=null,X=null,ce=n,we=!1;do{var Re=ce.lane&-536870913;if(Re!==ce.lane?(Zt&Re)===Re:(cs&Re)===Re){var de=ce.revertLane;if(de===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Re===ol&&(we=!0);else if((cs&de)===de){ce=ce.next,de===ol&&(we=!0);continue}else Re={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(M=X=Re,T=m):X=X.next=Re,kt.lanes|=de,Ys|=de;Re=ce.action,Po&&s(m,Re),m=ce.hasEagerState?ce.eagerState:s(m,Re)}else de={lane:Re,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},X===null?(M=X=de,T=m):X=X.next=de,kt.lanes|=Re,Ys|=Re;ce=ce.next}while(ce!==null&&ce!==n);if(X===null?T=m:X.next=M,!fe(m,t.memoizedState)&&(_r=!0,we&&(s=ll,s!==null)))throw s;t.memoizedState=m,t.baseState=T,t.baseQueue=X,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function nd(t){var n=hr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,f=s.pending,m=n.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do m=t(m,T.action),T=T.next;while(T!==f);fe(m,n.memoizedState)||(_r=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function Cg(t,n,s){var o=kt,f=hr(),m=an;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var T=!fe((kn||f).memoizedState,s);if(T&&(f.memoizedState=s,_r=!0),f=f.queue,ad(xg.bind(null,o,f,t),[t]),f.getSnapshot!==n||T||vr!==null&&vr.memoizedState.tag&1){if(o.flags|=2048,ml(9,{destroy:void 0},Ig.bind(null,o,f,s,n),null),Bn===null)throw Error(a(349));m||(cs&127)!==0||Rg(o,n,s)}return s}function Rg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=kt.updateQueue,n===null?(n=kc(),kt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Ig(t,n,s,o){n.value=s,n.getSnapshot=o,Mg(n)&&Ng(t)}function xg(t,n,s){return s(function(){Mg(n)&&Ng(t)})}function Mg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fe(t,s)}catch{return!0}}function Ng(t){var n=Ii(t,2);n!==null&&Hi(n,t,2)}function rd(t){var n=xi();if(typeof t=="function"){var s=t;if(t=s(),Po){We(!0);try{s()}finally{We(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},n}function Dg(t,n,s,o){return t.baseState=s,td(t,kn,typeof o=="function"?o:fs)}function k1(t,n,s,o,f){if(zc(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};B.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,Og(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Og(t,n){var s=n.action,o=n.payload,f=t.state;if(n.isTransition){var m=B.T,T={};B.T=T;try{var M=s(f,o),X=B.S;X!==null&&X(T,M),kg(t,n,M)}catch(ce){id(t,n,ce)}finally{m!==null&&T.types!==null&&(m.types=T.types),B.T=m}}else try{m=s(f,o),kg(t,n,m)}catch(ce){id(t,n,ce)}}function kg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Vg(t,n,o)},function(o){return id(t,n,o)}):Vg(t,n,s)}function Vg(t,n,s){n.status="fulfilled",n.value=s,Pg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Og(t,s)))}function id(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Pg(n),n=n.next;while(n!==o)}t.action=null}function Pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lg(t,n){return n}function Ug(t,n){if(an){var s=Bn.formState;if(s!==null){e:{var o=kt;if(an){if(Gn){t:{for(var f=Gn,m=ma;f.nodeType!==8;){if(!m){f=null;break t}if(f=ga(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gn=ga(f.nextSibling),o=f.data==="F!";break e}}Ls(o)}o=!1}o&&(n=s[0])}}return s=xi(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:n},s.queue=o,s=ry.bind(null,kt,o),o.dispatch=s,o=rd(!1),m=cd.bind(null,kt,!1,o.queue),o=xi(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,s=k1.bind(null,kt,f,m,s),f.dispatch=s,o.memoizedState=t,[n,s,!1]}function zg(t){var n=hr();return Bg(n,kn,t)}function Bg(t,n,s){if(n=td(t,n,Lg)[0],t=Pc(fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=yu(n)}catch(T){throw T===ul?Cc:T}else o=n;n=hr();var f=n.queue,m=f.dispatch;return s!==n.memoizedState&&(kt.flags|=2048,ml(9,{destroy:void 0},V1.bind(null,f,s),null)),[o,m,t]}function V1(t,n){t.action=n}function jg(t){var n=hr(),s=kn;if(s!==null)return Bg(n,s,t);hr(),n=n.memoizedState,s=hr();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function ml(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=kt.updateQueue,n===null&&(n=kc(),kt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function Fg(){return hr().memoizedState}function Lc(t,n,s,o){var f=xi();kt.flags|=t,f.memoizedState=ml(1|n,{destroy:void 0},s,o===void 0?null:o)}function Uc(t,n,s,o){var f=hr();o=o===void 0?null:o;var m=f.memoizedState.inst;kn!==null&&o!==null&&Qh(o,kn.memoizedState.deps)?f.memoizedState=ml(n,m,s,o):(kt.flags|=t,f.memoizedState=ml(1|n,m,s,o))}function Hg(t,n){Lc(8390656,8,t,n)}function ad(t,n){Uc(2048,8,t,n)}function P1(t){kt.flags|=4;var n=kt.updateQueue;if(n===null)n=kc(),kt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function qg(t){var n=hr().memoizedState;return P1({ref:n,nextImpl:t}),function(){if((En&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Gg(t,n){return Uc(4,2,t,n)}function Yg(t,n){return Uc(4,4,t,n)}function Xg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wg(t,n,s){s=s!=null?s.concat([t]):null,Uc(4,4,Xg.bind(null,n,t),s)}function sd(){}function Qg(t,n){var s=hr();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Qh(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Kg(t,n){var s=hr();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Qh(n,o[1]))return o[0];if(o=t(),Po){We(!0);try{t()}finally{We(!1)}}return s.memoizedState=[o,n],o}function od(t,n,s){return s===void 0||(cs&1073741824)!==0&&(Zt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=$y(),kt.lanes|=t,Ys|=t,s)}function $g(t,n,s,o){return fe(s,n)?s:fl.current!==null?(t=od(t,s,o),fe(t,n)||(_r=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(Zt&261930)===0?(_r=!0,t.memoizedState=s):(t=$y(),kt.lanes|=t,Ys|=t,n)}function Jg(t,n,s,o,f){var m=$.p;$.p=m!==0&&8>m?m:8;var T=B.T,M={};B.T=M,cd(t,!1,n,s);try{var X=f(),ce=B.S;if(ce!==null&&ce(M,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var we=N1(X,o);vu(t,n,we,ia(t))}else vu(t,n,o,ia(t))}catch(Re){vu(t,n,{then:function(){},status:"rejected",reason:Re},ia())}finally{$.p=m,T!==null&&M.types!==null&&(T.types=M.types),B.T=T}}function L1(){}function ld(t,n,s,o){if(t.tag!==5)throw Error(a(476));var f=Zg(t).queue;Jg(t,f,n,me,s===null?L1:function(){return ey(t),s(o)})}function Zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ey(t){var n=Zg(t);n.next===null&&(n=t.alternate.memoizedState),vu(t,n.next.queue,{},ia())}function ud(){return Xr(Vu)}function ty(){return hr().memoizedState}function ny(){return hr().memoizedState}function U1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=ia();t=Bs(s);var o=js(n,t,s);o!==null&&(Hi(o,n,s),du(o,n,s)),n={cache:Uh()},t.payload=n;return}n=n.return}}function z1(t,n,s){var o=ia();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zc(t)?iy(n,s):(s=Ca(t,n,s,o),s!==null&&(Hi(s,t,o),ay(s,n,o)))}function ry(t,n,s){var o=ia();vu(t,n,s,o)}function vu(t,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(zc(t))iy(n,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,M=m(T,s);if(f.hasEagerState=!0,f.eagerState=M,fe(M,T))return Ua(t,n,f,0),Bn===null&&La(),!1}catch{}finally{}if(s=Ca(t,n,f,o),s!==null)return Hi(s,t,o),ay(s,n,o),!0}return!1}function cd(t,n,s,o){if(o={lane:2,revertLane:Fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(n)throw Error(a(479))}else n=Ca(t,s,o,2),n!==null&&Hi(n,t,2)}function zc(t){var n=t.alternate;return t===kt||n!==null&&n===kt}function iy(t,n){hl=Dc=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function ay(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Mi(t,s)}}var _u={readContext:Xr,use:Vc,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};_u.useEffectEvent=rr;var sy={readContext:Xr,use:Vc,useCallback:function(t,n){return xi().memoizedState=[t,n===void 0?null:n],t},useContext:Xr,useEffect:Hg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Lc(4194308,4,Xg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Lc(4194308,4,t,n)},useInsertionEffect:function(t,n){Lc(4,2,t,n)},useMemo:function(t,n){var s=xi();n=n===void 0?null:n;var o=t();if(Po){We(!0);try{t()}finally{We(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=xi();if(s!==void 0){var f=s(n);if(Po){We(!0);try{s(n)}finally{We(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=z1.bind(null,kt,t),[o.memoizedState,t]},useRef:function(t){var n=xi();return t={current:t},n.memoizedState=t},useState:function(t){t=rd(t);var n=t.queue,s=ry.bind(null,kt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:sd,useDeferredValue:function(t,n){var s=xi();return od(s,t,n)},useTransition:function(){var t=rd(!1);return t=Jg.bind(null,kt,t.queue,!0,!1),xi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=kt,f=xi();if(an){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Bn===null)throw Error(a(349));(Zt&127)!==0||Rg(o,n,s)}f.memoizedState=s;var m={value:s,getSnapshot:n};return f.queue=m,Hg(xg.bind(null,o,m,t),[t]),o.flags|=2048,ml(9,{destroy:void 0},Ig.bind(null,o,m,s,n),null),s},useId:function(){var t=xi(),n=Bn.identifierPrefix;if(an){var s=Ba,o=za;s=(o&~(1<<32-Pe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Oc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=D1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ud,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=xi();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=cd.bind(null,kt,!0,s),s.dispatch=n,[t,n]},useMemoCache:ed,useCacheRefresh:function(){return xi().memoizedState=U1.bind(null,kt)},useEffectEvent:function(t){var n=xi(),s={impl:t};return n.memoizedState=s,function(){if((En&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},fd={readContext:Xr,use:Vc,useCallback:Qg,useContext:Xr,useEffect:ad,useImperativeHandle:Wg,useInsertionEffect:Gg,useLayoutEffect:Yg,useMemo:Kg,useReducer:Pc,useRef:Fg,useState:function(){return Pc(fs)},useDebugValue:sd,useDeferredValue:function(t,n){var s=hr();return $g(s,kn.memoizedState,t,n)},useTransition:function(){var t=Pc(fs)[0],n=hr().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:Cg,useId:ty,useHostTransitionStatus:ud,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var s=hr();return Dg(s,kn,t,n)},useMemoCache:ed,useCacheRefresh:ny};fd.useEffectEvent=qg;var oy={readContext:Xr,use:Vc,useCallback:Qg,useContext:Xr,useEffect:ad,useImperativeHandle:Wg,useInsertionEffect:Gg,useLayoutEffect:Yg,useMemo:Kg,useReducer:nd,useRef:Fg,useState:function(){return nd(fs)},useDebugValue:sd,useDeferredValue:function(t,n){var s=hr();return kn===null?od(s,t,n):$g(s,kn.memoizedState,t,n)},useTransition:function(){var t=nd(fs)[0],n=hr().memoizedState;return[typeof t=="boolean"?t:yu(t),n]},useSyncExternalStore:Cg,useId:ty,useHostTransitionStatus:ud,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var s=hr();return kn!==null?Dg(s,kn,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ed,useCacheRefresh:ny};oy.useEffectEvent=qg;function hd(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:O({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var dd={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=ia(),f=Bs(o);f.payload=n,s!=null&&(f.callback=s),n=js(t,f,o),n!==null&&(Hi(n,t,o),du(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=ia(),f=Bs(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=js(t,f,o),n!==null&&(Hi(n,t,o),du(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=ia(),o=Bs(s);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,s),n!==null&&(Hi(n,t,s),du(n,t,s))}};function ly(t,n,s,o,f,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!ue(s,o)||!ue(f,m):!0}function uy(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&dd.enqueueReplaceState(n,n.state,null)}function Lo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=O({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function cy(t){Gr(t)}function fy(t){console.error(t)}function hy(t){Gr(t)}function Bc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dy(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(t,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Bc(t,n)},s}function my(t){return t=Bs(t),t.tag=3,t}function py(t,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){dy(n,s,o)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){dy(n,s,o),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})})}function B1(t,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&sl(n,s,f,!0),s=ea.current,s!==null){switch(s.tag){case 31:case 13:return pa===null?Jc():s.alternate===null&&ir===0&&(ir=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===Rc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),zd(t,o,f)),!1;case 22:return s.flags|=65536,o===Rc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),zd(t,o,f)),!1}throw Error(a(435,s.tag))}return zd(t,o,f),Jc(),!1}if(an)return n=ea.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Oh&&(t=Error(a(422),{cause:o}),lu(fa(t,s)))):(o!==Oh&&(n=Error(a(423),{cause:o}),lu(fa(n,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=fa(o,s),f=md(t.stateNode,o,f),qh(t,f),ir!==4&&(ir=2)),!1;var m=Error(a(520),{cause:o});if(m=fa(m,s),Ru===null?Ru=[m]:Ru.push(m),ir!==4&&(ir=2),n===null)return!0;o=fa(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=md(s.stateNode,o,t),qh(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xs===null||!Xs.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=my(f),py(f,t,s,o),qh(s,f),!1}s=s.return}while(s!==null);return!1}var pd=Error(a(461)),_r=!1;function Wr(t,n,s,o){n.child=t===null?_g(n,null,s,o):Vo(n,t.child,s,o)}function gy(t,n,s,o,f){s=s.render;var m=n.ref;if("ref"in o){var T={};for(var M in o)M!=="ref"&&(T[M]=o[M])}else T=o;return No(n),o=Kh(t,n,s,T,m,f),M=$h(),t!==null&&!_r?(Jh(t,n,f),hs(t,n,f)):(an&&M&&Nh(n),n.flags|=1,Wr(t,n,o,f),n.child)}function yy(t,n,s,o,f){if(t===null){var m=s.type;return typeof m=="function"&&!Ih(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,vy(t,n,m,o,f)):(t=Ec(s.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!Td(t,f)){var T=m.memoizedProps;if(s=s.compare,s=s!==null?s:ue,s(T,o)&&t.ref===n.ref)return hs(t,n,f)}return n.flags|=1,t=ss(m,o),t.ref=n.ref,t.return=n,n.child=t}function vy(t,n,s,o,f){if(t!==null){var m=t.memoizedProps;if(ue(m,o)&&t.ref===n.ref)if(_r=!1,n.pendingProps=o=m,Td(t,f))(t.flags&131072)!==0&&(_r=!0);else return n.lanes=t.lanes,hs(t,n,f)}return gd(t,n,s,o,f)}function _y(t,n,s,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(o=n.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return by(t,n,m,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sc(n,m!==null?m.cachePool:null),m!==null?wg(n,m):Yh(),Tg(n);else return o=n.lanes=536870912,by(t,n,m!==null?m.baseLanes|s:s,s,o)}else m!==null?(Sc(n,m.cachePool),wg(n,m),Hs(),n.memoizedState=null):(t!==null&&Sc(n,null),Yh(),Hs());return Wr(t,n,f,s),n.child}function bu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function by(t,n,s,o,f){var m=Bh();return m=m===null?null:{parent:yr._currentValue,pool:m},n.memoizedState={baseLanes:s,cachePool:m},t!==null&&Sc(n,null),Yh(),Tg(n),t!==null&&sl(t,n,o,!0),n.childLanes=f,null}function jc(t,n){return n=Hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ey(t,n,s){return Vo(n,t.child,null,s),t=jc(n,n.pendingProps),t.flags|=2,ta(n),n.memoizedState=null,t}function j1(t,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(an){if(o.mode==="hidden")return t=jc(n,o),n.lanes=536870912,bu(null,t);if(Wh(n),(t=Gn)?(t=Ov(t,ma),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:za,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},s=ig(t),s.return=n,n.child=s,Yr=n,Gn=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return jc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Wh(n),f)if(n.flags&256)n.flags&=-257,n=Ey(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(_r||sl(t,n,s,!1),f=(s&t.childLanes)!==0,_r||f){if(o=Bn,o!==null&&(T=Zr(o,s),T!==0&&T!==m.retryLane))throw m.retryLane=T,Ii(t,T),Hi(o,t,T),pd;Jc(),n=Ey(t,n,s)}else t=m.treeContext,Gn=ga(T.nextSibling),Yr=n,an=!0,Ps=null,ma=!1,t!==null&&og(n,t),n=jc(n,o),n.flags|=4096;return n}return t=ss(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Fc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function gd(t,n,s,o,f){return No(n),s=Kh(t,n,s,o,void 0,f),o=$h(),t!==null&&!_r?(Jh(t,n,f),hs(t,n,f)):(an&&o&&Nh(n),n.flags|=1,Wr(t,n,s,f),n.child)}function wy(t,n,s,o,f,m){return No(n),n.updateQueue=null,s=Sg(n,o,s,f),Ag(t),o=$h(),t!==null&&!_r?(Jh(t,n,m),hs(t,n,m)):(an&&o&&Nh(n),n.flags|=1,Wr(t,n,s,m),n.child)}function Ty(t,n,s,o,f){if(No(n),n.stateNode===null){var m=Zi,T=s.contextType;typeof T=="object"&&T!==null&&(m=Xr(T)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dd,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Fh(n),T=s.contextType,m.context=typeof T=="object"&&T!==null?Xr(T):Zi,m.state=n.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(hd(n,s,T,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dd.enqueueReplaceState(m,m.state,null),pu(n,o,m,f),mu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var M=n.memoizedProps,X=Lo(s,M);m.props=X;var ce=m.context,we=s.contextType;T=Zi,typeof we=="object"&&we!==null&&(T=Xr(we));var Re=s.getDerivedStateFromProps;we=typeof Re=="function"||typeof m.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,we||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(M||ce!==T)&&uy(n,m,o,T),zs=!1;var de=n.memoizedState;m.state=de,pu(n,o,m,f),mu(),ce=n.memoizedState,M||de!==ce||zs?(typeof Re=="function"&&(hd(n,s,Re,o),ce=n.memoizedState),(X=zs||ly(n,s,X,o,de,ce,T))?(we||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=T,o=X):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Hh(t,n),T=n.memoizedProps,we=Lo(s,T),m.props=we,Re=n.pendingProps,de=m.context,ce=s.contextType,X=Zi,typeof ce=="object"&&ce!==null&&(X=Xr(ce)),M=s.getDerivedStateFromProps,(ce=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Re||de!==X)&&uy(n,m,o,X),zs=!1,de=n.memoizedState,m.state=de,pu(n,o,m,f),mu();var ye=n.memoizedState;T!==Re||de!==ye||zs||t!==null&&t.dependencies!==null&&Tc(t.dependencies)?(typeof M=="function"&&(hd(n,s,M,o),ye=n.memoizedState),(we=zs||ly(n,s,we,o,de,ye,X)||t!==null&&t.dependencies!==null&&Tc(t.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ye,X),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ye,X)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ye),m.props=o,m.state=ye,m.context=X,o=we):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&de===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,Fc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Vo(n,t.child,null,f),n.child=Vo(n,null,s,f)):Wr(t,n,s,f),n.memoizedState=m.state,t=n.child):t=hs(t,n,f),t}function Ay(t,n,s,o){return xo(),n.flags|=256,Wr(t,n,s,o),n.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:dg()}}function _d(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ra),t}function Sy(t,n,s){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(fr.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(an){if(f?Fs(n):Hs(),(t=Gn)?(t=Ov(t,ma),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:za,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},s=ig(t),s.return=n,n.child=s,Yr=n,Gn=null)):t=null,t===null)throw Ls(n);return tm(t)?n.lanes=32:n.lanes=536870912,null}var M=o.children;return o=o.fallback,f?(Hs(),f=n.mode,M=Hc({mode:"hidden",children:M},f),o=Io(o,f,s,null),M.return=n,o.return=n,M.sibling=o,n.child=M,o=n.child,o.memoizedState=vd(s),o.childLanes=_d(t,T,s),n.memoizedState=yd,bu(null,o)):(Fs(n),bd(n,M))}var X=t.memoizedState;if(X!==null&&(M=X.dehydrated,M!==null)){if(m)n.flags&256?(Fs(n),n.flags&=-257,n=Ed(t,n,s)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),M=o.fallback,f=n.mode,o=Hc({mode:"visible",children:o.children},f),M=Io(M,f,s,null),M.flags|=2,o.return=n,M.return=n,o.sibling=M,n.child=o,Vo(n,t.child,null,s),o=n.child,o.memoizedState=vd(s),o.childLanes=_d(t,T,s),n.memoizedState=yd,n=bu(null,o));else if(Fs(n),tm(M)){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ce=T.dgst;T=ce,o=Error(a(419)),o.stack="",o.digest=T,lu({value:o,source:null,stack:null}),n=Ed(t,n,s)}else if(_r||sl(t,n,s,!1),T=(s&t.childLanes)!==0,_r||T){if(T=Bn,T!==null&&(o=Zr(T,s),o!==0&&o!==X.retryLane))throw X.retryLane=o,Ii(t,o),Hi(T,t,o),pd;em(M)||Jc(),n=Ed(t,n,s)}else em(M)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,Gn=ga(M.nextSibling),Yr=n,an=!0,Ps=null,ma=!1,t!==null&&og(n,t),n=bd(n,o.children),n.flags|=4096);return n}return f?(Hs(),M=o.fallback,f=n.mode,X=t.child,ce=X.sibling,o=ss(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&65011712,ce!==null?M=ss(ce,M):(M=Io(M,f,s,null),M.flags|=2),M.return=n,o.return=n,o.sibling=M,n.child=o,bu(null,o),o=n.child,M=t.child.memoizedState,M===null?M=vd(s):(f=M.cachePool,f!==null?(X=yr._currentValue,f=f.parent!==X?{parent:X,pool:X}:f):f=dg(),M={baseLanes:M.baseLanes|s,cachePool:f}),o.memoizedState=M,o.childLanes=_d(t,T,s),n.memoizedState=yd,bu(t.child,o)):(Fs(n),s=t.child,t=s.sibling,s=ss(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=s,n.memoizedState=null,s)}function bd(t,n){return n=Hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hc(t,n){return t=vi(22,t,null,n),t.lanes=0,t}function Ed(t,n,s){return Vo(n,t.child,null,s),t=bd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cy(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Ph(t.return,n,s)}function wd(t,n,s,o,f,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=s,T.tailMode=f,T.treeForkCount=m)}function Ry(t,n,s){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var T=fr.current,M=(T&2)!==0;if(M?(T=T&1|2,n.flags|=128):T&=1,Ne(fr,T),Wr(t,n,o,s),o=an?ou:0,!M&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,s,n);else if(t.tag===19)Cy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Nc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),wd(n,!1,f,s,m,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Nc(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}wd(n,!0,s,null,m,o);break;case"together":wd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(sl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ss(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ss(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tc(t)))}function F1(t,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),Us(n,yr,t.memoizedState.cache),xo();break;case 27:case 5:Pt(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Sy(t,n,s):(Fs(n),t=hs(t,n,s),t!==null?t.sibling:null);Fs(n);break;case 19:var f=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(sl(t,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Ry(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(fr,fr.current),o)break;return null;case 22:return n.lanes=0,_y(t,n,s,n.pendingProps);case 24:Us(n,yr,t.memoizedState.cache)}return hs(t,n,s)}function Iy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)_r=!0;else{if(!Td(t,s)&&(n.flags&128)===0)return _r=!1,F1(t,n,s);_r=(t.flags&131072)!==0}else _r=!1,an&&(n.flags&1048576)!==0&&sg(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Oo(n.elementType),n.type=t,typeof t=="function")Ih(t)?(o=Lo(t,o),n.tag=1,n=Ty(null,n,t,o,s)):(n.tag=0,n=gd(null,n,t,o,s));else{if(t!=null){var f=t.$$typeof;if(f===et){n.tag=11,n=gy(null,n,t,o,s);break e}else if(f===Y){n.tag=14,n=yy(null,n,t,o,s);break e}}throw n=Q(t)||t,Error(a(306,n,""))}}return n;case 0:return gd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Lo(o,n.pendingProps),Ty(t,n,o,f,s);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Hh(t,n),pu(n,o,null,s);var T=n.memoizedState;if(o=T.cache,Us(n,yr,o),o!==m.cache&&Lh(n,[yr],s,!0),mu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ay(t,n,o,s);break e}else if(o!==f){f=fa(Error(a(424)),n),lu(f),n=Ay(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Gn=ga(t.firstChild),Yr=n,an=!0,Ps=null,ma=!0,s=_g(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xo(),o===f){n=hs(t,n,s);break e}Wr(t,n,o,s)}n=n.child}return n;case 26:return Fc(t,n),t===null?(s=zv(n.type,null,n.pendingProps,null))?n.memoizedState=s:an||(s=n.type,t=n.pendingProps,o=sf(tt.current).createElement(s),o[An]=n,o[Kn]=t,Qr(o,s,t),cn(o),n.stateNode=o):n.memoizedState=zv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pt(n),t===null&&an&&(o=n.stateNode=Pv(n.type,n.pendingProps,tt.current),Yr=n,ma=!0,f=Gn,$s(n.type)?(nm=f,Gn=ga(o.firstChild)):Gn=f),Wr(t,n,n.pendingProps.children,s),Fc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&an&&((f=o=Gn)&&(o=vw(o,n.type,n.pendingProps,ma),o!==null?(n.stateNode=o,Yr=n,Gn=ga(o.firstChild),ma=!1,f=!0):f=!1),f||Ls(n)),Pt(n),f=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,$d(f,m)?o=null:T!==null&&$d(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Kh(t,n,O1,null,null,s),Vu._currentValue=f),Fc(t,n),Wr(t,n,o,s),n.child;case 6:return t===null&&an&&((t=s=Gn)&&(s=_w(s,n.pendingProps,ma),s!==null?(n.stateNode=s,Yr=n,Gn=null,t=!0):t=!1),t||Ls(n)),null;case 13:return Sy(t,n,s);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Vo(n,null,o,s):Wr(t,n,o,s),n.child;case 11:return gy(t,n,n.type,n.pendingProps,s);case 7:return Wr(t,n,n.pendingProps,s),n.child;case 8:return Wr(t,n,n.pendingProps.children,s),n.child;case 12:return Wr(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),Wr(t,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,No(n),f=Xr(f),o=o(f),n.flags|=1,Wr(t,n,o,s),n.child;case 14:return yy(t,n,n.type,n.pendingProps,s);case 15:return vy(t,n,n.type,n.pendingProps,s);case 19:return Ry(t,n,s);case 31:return j1(t,n,s);case 22:return _y(t,n,s,n.pendingProps);case 24:return No(n),o=Xr(yr),t===null?(f=Bh(),f===null&&(f=Bn,m=Uh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),n.memoizedState={parent:o,cache:f},Fh(n),Us(n,yr,f)):((t.lanes&s)!==0&&(Hh(t,n),pu(n,null,null,s),mu()),f=t.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Us(n,yr,o)):(o=m.cache,Us(n,yr,o),o!==f.cache&&Lh(n,[yr],s,!0))),Wr(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ds(t){t.flags|=4}function Ad(t,n,s,o,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(tv())t.flags|=8192;else throw ko=Rc,jh}else t.flags&=-16777217}function xy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qv(n))if(tv())t.flags|=8192;else throw ko=Rc,jh}function qc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?yt():536870912,t.lanes|=n,vl|=n)}function Eu(t,n){if(!an)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Yn(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function H1(t,n,s){var o=n.pendingProps;switch(Dh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(n),null;case 1:return Yn(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),us(yr),lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(n)?ds(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),Yn(n),null;case 26:var f=n.type,m=n.memoizedState;return t===null?(ds(n),m!==null?(Yn(n),xy(n,m)):(Yn(n),Ad(n,f,null,o,s))):m?m!==t.memoizedState?(ds(n),Yn(n),xy(n,m)):(Yn(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ds(n),Yn(n),Ad(n,f,t,o,s)),null;case 27:if(Bt(n),s=tt.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ds(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yn(n),null}t=Ae.current,al(n)?lg(n):(t=Pv(f,o,s),n.stateNode=t,ds(n))}return Yn(n),null;case 5:if(Bt(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ds(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yn(n),null}if(m=Ae.current,al(n))lg(n);else{var T=sf(tt.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(f,{is:o.is}):T.createElement(f)}}m[An]=n,m[Kn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(Qr(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ds(n)}}return Yn(n),Ad(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ds(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=tt.current,al(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,f=Yr,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[An]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Sv(t.nodeValue,s)),t||Ls(n,!0)}else t=sf(t).createTextNode(o),t[An]=n,n.stateNode=t}return Yn(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=al(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[An]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),t=!1}else s=kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(ta(n),n):(ta(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Yn(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=al(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[An]=n}else xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yn(n),f=!1}else f=kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ta(n),n):(ta(n),null)}return ta(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),qc(n,n.updateQueue),Yn(n),null);case 4:return lt(),t===null&&Yd(n.stateNode.containerInfo),Yn(n),null;case 10:return us(n.type),Yn(n),null;case 19:if(oe(fr),o=n.memoizedState,o===null)return Yn(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Eu(o,!1);else{if(ir!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Nc(t),m!==null){for(n.flags|=128,Eu(o,!1),t=m.updateQueue,n.updateQueue=t,qc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)rg(s,t),s=s.sibling;return Ne(fr,fr.current&1|2),an&&os(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&_t()>Qc&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304)}else{if(!f)if(t=Nc(m),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,qc(n,t),Eu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!an)return Yn(n),null}else 2*_t()-o.renderingStartTime>Qc&&s!==536870912&&(n.flags|=128,f=!0,Eu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_t(),t.sibling=null,s=fr.current,Ne(fr,f?s&1|2:s&1),an&&os(n,o.treeForkCount),t):(Yn(n),null);case 22:case 23:return ta(n),Xh(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Yn(n),n.subtreeFlags&6&&(n.flags|=8192)):Yn(n),s=n.updateQueue,s!==null&&qc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&oe(Do),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),us(yr),Yn(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function q1(t,n){switch(Dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return us(yr),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 31:if(n.memoizedState!==null){if(ta(n),n.alternate===null)throw Error(a(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ta(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(fr),null;case 4:return lt(),null;case 10:return us(n.type),null;case 22:case 23:return ta(n),Xh(),t!==null&&oe(Do),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return us(yr),null;case 25:return null;default:return null}}function My(t,n){switch(Dh(n),n.tag){case 3:us(yr),lt();break;case 26:case 27:case 5:Bt(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&ta(n);break;case 13:ta(n);break;case 19:oe(fr);break;case 10:us(n.type);break;case 22:case 23:ta(n),Xh(),t!==null&&oe(Do);break;case 24:us(yr)}}function wu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&t)===t){o=void 0;var m=s.create,T=s.inst;o=m(),T.destroy=o}s=s.next}while(s!==f)}}catch(M){xn(n,n.return,M)}}function qs(t,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var T=o.inst,M=T.destroy;if(M!==void 0){T.destroy=void 0,f=n;var X=s,ce=M;try{ce()}catch(we){xn(f,X,we)}}}o=o.next}while(o!==m)}}catch(we){xn(n,n.return,we)}}function Ny(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Eg(n,s)}catch(o){xn(t,t.return,o)}}}function Dy(t,n,s){s.props=Lo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){xn(t,n,o)}}function Tu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(f){xn(t,n,f)}}function ja(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){xn(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){xn(t,n,f)}else s.current=null}function Oy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){xn(t,t.return,f)}}function Sd(t,n,s){try{var o=t.stateNode;hw(o,t.type,s,n),o[Kn]=n}catch(f){xn(t,t.return,f)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hr));else if(o!==4&&(o===27&&$s(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Rd(t,n,s),t=t.sibling;t!==null;)Rd(t,n,s),t=t.sibling}function Gc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&$s(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gc(t,n,s),t=t.sibling;t!==null;)Gc(t,n,s),t=t.sibling}function Vy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Qr(n,o,s),n[An]=t,n[Kn]=s}catch(m){xn(t,t.return,m)}}var ms=!1,br=!1,Id=!1,Py=typeof WeakSet=="function"?WeakSet:Set,kr=null;function G1(t,n){if(t=t.containerInfo,Qd=df,t=ne(t),Fe(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var T=0,M=-1,X=-1,ce=0,we=0,Re=t,de=null;t:for(;;){for(var ye;Re!==s||f!==0&&Re.nodeType!==3||(M=T+f),Re!==m||o!==0&&Re.nodeType!==3||(X=T+o),Re.nodeType===3&&(T+=Re.nodeValue.length),(ye=Re.firstChild)!==null;)de=Re,Re=ye;for(;;){if(Re===t)break t;if(de===s&&++ce===f&&(M=T),de===m&&++we===o&&(X=T),(ye=Re.nextSibling)!==null)break;Re=de,de=Re.parentNode}Re=ye}s=M===-1||X===-1?null:{start:M,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kd={focusedElem:t,selectionRange:s},df=!1,kr=n;kr!==null;)if(n=kr,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,kr=t;else for(;kr!==null;){switch(n=kr,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,f=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var ot=Lo(s.type,f);t=o.getSnapshotBeforeUpdate(ot,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(bt){xn(s,s.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Zd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,kr=t;break}kr=n.return}}function Ly(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:gs(t,s),o&4&&wu(5,s);break;case 1:if(gs(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(T){xn(s,s.return,T)}else{var f=Lo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xn(s,s.return,T)}}o&64&&Ny(s),o&512&&Tu(s,s.return);break;case 3:if(gs(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Eg(t,n)}catch(T){xn(s,s.return,T)}}break;case 27:n===null&&o&4&&Vy(s);case 26:case 5:gs(t,s),n===null&&o&4&&Oy(s),o&512&&Tu(s,s.return);break;case 12:gs(t,s);break;case 31:gs(t,s),o&4&&By(t,s);break;case 13:gs(t,s),o&4&&jy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ew.bind(null,s),bw(t,s))));break;case 22:if(o=s.memoizedState!==null||ms,!o){n=n!==null&&n.memoizedState!==null||br,f=ms;var m=br;ms=o,(br=n)&&!m?ys(t,s,(s.subtreeFlags&8772)!==0):gs(t,s),ms=f,br=m}break;case 30:break;default:gs(t,s)}}function Uy(t){var n=t.alternate;n!==null&&(t.alternate=null,Uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Br(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jn=null,zi=!1;function ps(t,n,s){for(s=s.child;s!==null;)zy(t,n,s),s=s.sibling}function zy(t,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Se,s)}catch{}switch(s.tag){case 26:br||ja(s,n),ps(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:br||ja(s,n);var o=Jn,f=zi;$s(s.type)&&(Jn=s.stateNode,zi=!1),ps(t,n,s),Du(s.stateNode),Jn=o,zi=f;break;case 5:br||ja(s,n);case 6:if(o=Jn,f=zi,Jn=null,ps(t,n,s),Jn=o,zi=f,Jn!==null)if(zi)try{(Jn.nodeType===9?Jn.body:Jn.nodeName==="HTML"?Jn.ownerDocument.body:Jn).removeChild(s.stateNode)}catch(m){xn(s,n,m)}else try{Jn.removeChild(s.stateNode)}catch(m){xn(s,n,m)}break;case 18:Jn!==null&&(zi?(t=Jn,Nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Cl(t)):Nv(Jn,s.stateNode));break;case 4:o=Jn,f=zi,Jn=s.stateNode.containerInfo,zi=!0,ps(t,n,s),Jn=o,zi=f;break;case 0:case 11:case 14:case 15:qs(2,s,n),br||qs(4,s,n),ps(t,n,s);break;case 1:br||(ja(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Dy(s,n,o)),ps(t,n,s);break;case 21:ps(t,n,s);break;case 22:br=(o=br)||s.memoizedState!==null,ps(t,n,s),br=o;break;default:ps(t,n,s)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(s){xn(n,n.return,s)}}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){xn(n,n.return,s)}}function Y1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Py),n;default:throw Error(a(435,t.tag))}}function Yc(t,n){var s=Y1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=tw.bind(null,t,o);o.then(f,f)}})}function Bi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],m=t,T=n,M=T;e:for(;M!==null;){switch(M.tag){case 27:if($s(M.type)){Jn=M.stateNode,zi=!1;break e}break;case 5:Jn=M.stateNode,zi=!1;break e;case 3:case 4:Jn=M.stateNode.containerInfo,zi=!0;break e}M=M.return}if(Jn===null)throw Error(a(160));zy(m,T,f),Jn=null,zi=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fy(n,t),n=n.sibling}var Ra=null;function Fy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bi(n,t),ji(t),o&4&&(qs(3,t,t.return),wu(3,t),qs(5,t,t.return));break;case 1:Bi(n,t),ji(t),o&512&&(br||s===null||ja(s,s.return)),o&64&&ms&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Ra;if(Bi(n,t),ji(t),o&512&&(br||s===null||ja(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Nr]||m[An]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Qr(m,o,s),m[An]=t,cn(m),o=m;break e;case"link":var T=Fv("link","href",f).get(o+(s.href||""));if(T){for(var M=0;M<T.length;M++)if(m=T[M],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(M,1);break t}}m=f.createElement(o),Qr(m,o,s),f.head.appendChild(m);break;case"meta":if(T=Fv("meta","content",f).get(o+(s.content||""))){for(M=0;M<T.length;M++)if(m=T[M],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(M,1);break t}}m=f.createElement(o),Qr(m,o,s),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[An]=t,cn(m),o=m}t.stateNode=o}else Hv(f,t.type,t.stateNode);else t.stateNode=jv(f,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?Hv(f,t.type,t.stateNode):jv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Bi(n,t),ji(t),o&512&&(br||s===null||ja(s,s.return)),s!==null&&o&4&&Sd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Bi(n,t),ji(t),o&512&&(br||s===null||ja(s,s.return)),t.flags&32){f=t.stateNode;try{nr(f,"")}catch(ot){xn(t,t.return,ot)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Sd(t,f,s!==null?s.memoizedProps:f)),o&1024&&(Id=!0);break;case 6:if(Bi(n,t),ji(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ot){xn(t,t.return,ot)}}break;case 3:if(uf=null,f=Ra,Ra=of(n.containerInfo),Bi(n,t),Ra=f,ji(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(ot){xn(t,t.return,ot)}Id&&(Id=!1,Hy(t));break;case 4:o=Ra,Ra=of(t.stateNode.containerInfo),Bi(n,t),ji(t),Ra=o;break;case 12:Bi(n,t),ji(t);break;case 31:Bi(n,t),ji(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 13:Bi(n,t),ji(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wc=_t()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 22:f=t.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,ce=ms,we=br;if(ms=ce||f,br=we||X,Bi(n,t),br=we,ms=ce,ji(t),o&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||X||ms||br||Uo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){X=s=n;try{if(m=X.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{M=X.stateNode;var Re=X.memoizedProps.style,de=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;M.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ot){xn(X,X.return,ot)}}}else if(n.tag===6){if(s===null){X=n;try{X.stateNode.nodeValue=f?"":X.memoizedProps}catch(ot){xn(X,X.return,ot)}}}else if(n.tag===18){if(s===null){X=n;try{var ye=X.stateNode;f?Dv(ye,!0):Dv(X.stateNode,!1)}catch(ot){xn(X,X.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Yc(t,s))));break;case 19:Bi(n,t),ji(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Yc(t,o)));break;case 30:break;case 21:break;default:Bi(n,t),ji(t)}}function ji(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ky(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=Cd(t);Gc(t,m,f);break;case 5:var T=s.stateNode;s.flags&32&&(nr(T,""),s.flags&=-33);var M=Cd(t);Gc(t,M,T);break;case 3:case 4:var X=s.stateNode.containerInfo,ce=Cd(t);Rd(t,ce,X);break;default:throw Error(a(161))}}catch(we){xn(t,t.return,we)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function gs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ly(t,n.alternate,n),n=n.sibling}function Uo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Uo(n);break;case 1:ja(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dy(n,n.return,s),Uo(n);break;case 27:Du(n.stateNode);case 26:case 5:ja(n,n.return),Uo(n);break;case 22:n.memoizedState===null&&Uo(n);break;case 30:Uo(n);break;default:Uo(n)}t=t.sibling}}function ys(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,s),wu(4,m);break;case 1:if(ys(f,m,s),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ce){xn(o,o.return,ce)}if(o=m,f=o.updateQueue,f!==null){var M=o.stateNode;try{var X=f.shared.hiddenCallbacks;if(X!==null)for(f.shared.hiddenCallbacks=null,f=0;f<X.length;f++)bg(X[f],M)}catch(ce){xn(o,o.return,ce)}}s&&T&64&&Ny(m),Tu(m,m.return);break;case 27:Vy(m);case 26:case 5:ys(f,m,s),s&&o===null&&T&4&&Oy(m),Tu(m,m.return);break;case 12:ys(f,m,s);break;case 31:ys(f,m,s),s&&T&4&&By(f,m);break;case 13:ys(f,m,s),s&&T&4&&jy(f,m);break;case 22:m.memoizedState===null&&ys(f,m,s),Tu(m,m.return);break;case 30:break;default:ys(f,m,s)}n=n.sibling}}function xd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&uu(s))}function Md(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t))}function Ia(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qy(t,n,s,o),n=n.sibling}function qy(t,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ia(t,n,s,o),f&2048&&wu(9,n);break;case 1:Ia(t,n,s,o);break;case 3:Ia(t,n,s,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&uu(t)));break;case 12:if(f&2048){Ia(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,M=m.onPostCommit;typeof M=="function"&&M(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){xn(n,n.return,X)}}else Ia(t,n,s,o);break;case 31:Ia(t,n,s,o);break;case 13:Ia(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Ia(t,n,s,o):Au(t,n):m._visibility&2?Ia(t,n,s,o):(m._visibility|=2,pl(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&xd(T,n);break;case 24:Ia(t,n,s,o),f&2048&&Md(n.alternate,n);break;default:Ia(t,n,s,o)}}function pl(t,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,M=s,X=o,ce=T.flags;switch(T.tag){case 0:case 11:case 15:pl(m,T,M,X,f),wu(8,T);break;case 23:break;case 22:var we=T.stateNode;T.memoizedState!==null?we._visibility&2?pl(m,T,M,X,f):Au(m,T):(we._visibility|=2,pl(m,T,M,X,f)),f&&ce&2048&&xd(T.alternate,T);break;case 24:pl(m,T,M,X,f),f&&ce&2048&&Md(T.alternate,T);break;default:pl(m,T,M,X,f)}n=n.sibling}}function Au(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,f=o.flags;switch(o.tag){case 22:Au(s,o),f&2048&&xd(o.alternate,o);break;case 24:Au(s,o),f&2048&&Md(o.alternate,o);break;default:Au(s,o)}n=n.sibling}}var Su=8192;function gl(t,n,s){if(t.subtreeFlags&Su)for(t=t.child;t!==null;)Gy(t,n,s),t=t.sibling}function Gy(t,n,s){switch(t.tag){case 26:gl(t,n,s),t.flags&Su&&t.memoizedState!==null&&Dw(s,Ra,t.memoizedState,t.memoizedProps);break;case 5:gl(t,n,s);break;case 3:case 4:var o=Ra;Ra=of(t.stateNode.containerInfo),gl(t,n,s),Ra=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Su,Su=16777216,gl(t,n,s),Su=o):gl(t,n,s));break;default:gl(t,n,s)}}function Yy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];kr=o,Wy(o,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:Cu(t),t.flags&2048&&qs(9,t,t.return);break;case 3:Cu(t);break;case 12:Cu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Xc(t)):Cu(t);break;default:Cu(t)}}function Xc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];kr=o,Wy(o,t)}Yy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),Xc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xc(n));break;default:Xc(n)}t=t.sibling}}function Wy(t,n){for(;kr!==null;){var s=kr;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uu(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,kr=o;else e:for(s=t;kr!==null;){o=kr;var f=o.sibling,m=o.return;if(Uy(o),o===s){kr=null;break e}if(f!==null){f.return=m,kr=f;break e}kr=m}}}var X1={getCacheForType:function(t){var n=Xr(yr),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Xr(yr).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,En=0,Bn=null,Yt=null,Zt=0,In=0,na=null,Gs=!1,yl=!1,Nd=!1,vs=0,ir=0,Ys=0,zo=0,Dd=0,ra=0,vl=0,Ru=null,Fi=null,Od=!1,Wc=0,Qy=0,Qc=1/0,Kc=null,Xs=null,Ir=0,Ws=null,_l=null,_s=0,kd=0,Vd=null,Ky=null,Iu=0,Pd=null;function ia(){return(En&2)!==0&&Zt!==0?Zt&-Zt:B.T!==null?Fd():$a()}function $y(){if(ra===0)if((Zt&536870912)===0||an){var t=Qn;Qn<<=1,(Qn&3932160)===0&&(Qn=262144),ra=t}else ra=536870912;return t=ea.current,t!==null&&(t.flags|=32),ra}function Hi(t,n,s){(t===Bn&&(In===2||In===9)||t.cancelPendingCommit!==null)&&(bl(t,0),Qs(t,Zt,ra,!1)),On(t,s),((En&2)===0||t!==Bn)&&(t===Bn&&((En&2)===0&&(zo|=s),ir===4&&Qs(t,Zt,ra,!1)),Fa(t))}function Jy(t,n,s){if((En&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Dn(t,n),f=o?$1(t,n):Ud(t,n,!0),m=o;do{if(f===0){yl&&!o&&Qs(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!Q1(s)){f=Ud(t,n,!1),m=!1;continue}if(f===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var M=t;f=Ru;var X=M.current.memoizedState.isDehydrated;if(X&&(bl(M,T).flags|=256),T=Ud(M,T,!1),T!==2){if(Nd&&!X){M.errorRecoveryDisabledLanes|=m,zo|=m,f=4;break e}m=Fi,Fi=f,m!==null&&(Fi===null?Fi=m:Fi.push.apply(Fi,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){bl(t,0),Qs(t,n,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,ra,!Gs);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Wc+300-_t(),10<f)){if(Qs(o,n,ra,!Gs),Nn(o,0,!0)!==0)break e;_s=n,o.timeoutHandle=xv(Zy.bind(null,o,s,Fi,Kc,Od,n,ra,zo,vl,Gs,m,"Throttled",-0,0),f);break e}Zy(o,s,Fi,Kc,Od,n,ra,zo,vl,Gs,m,null,-0,0)}}break}while(!0);Fa(t)}function Zy(t,n,s,o,f,m,T,M,X,ce,we,Re,de,ye){if(t.timeoutHandle=-1,Re=n.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hr},Gy(n,m,Re);var ot=(m&62914560)===m?Wc-_t():(m&4194048)===m?Qy-_t():0;if(ot=Ow(Re,ot),ot!==null){_s=m,t.cancelPendingCommit=ot(ov.bind(null,t,n,m,s,o,f,T,M,X,we,Re,null,de,ye)),Qs(t,m,T,!ce);return}}ov(t,n,m,s,o,f,T,M,X)}function Q1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],m=f.getSnapshot;f=f.value;try{if(!fe(m(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,s,o){n&=~Dd,n&=~zo,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var m=31-Pe(f),T=1<<m;o[m]=-1,f&=~T}s!==0&&Hn(t,s,n)}function $c(){return(En&6)===0?(xu(0),!1):!0}function Ld(){if(Yt!==null){if(In===0)var t=Yt.return;else t=Yt,ls=Mo=null,Zh(t),cl=null,fu=0,t=Yt;for(;t!==null;)My(t.alternate,t),t=t.return;Yt=null}}function bl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,pw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),_s=0,Ld(),Bn=t,Yt=s=ss(t.current,null),Zt=n,In=0,na=null,Gs=!1,yl=Dn(t,n),Nd=!1,vl=ra=Dd=zo=Ys=ir=0,Fi=Ru=null,Od=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-Pe(o),m=1<<f;n|=t[f],o&=~m}return vs=n,La(),s}function ev(t,n){kt=null,B.H=_u,n===ul||n===Cc?(n=gg(),In=3):n===jh?(n=gg(),In=4):In=n===pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,na=n,Yt===null&&(ir=1,Bc(t,fa(n,t.current)))}function tv(){var t=ea.current;return t===null?!0:(Zt&4194048)===Zt?pa===null:(Zt&62914560)===Zt||(Zt&536870912)!==0?t===pa:!1}function nv(){var t=B.H;return B.H=_u,t===null?_u:t}function rv(){var t=B.A;return B.A=X1,t}function Jc(){ir=4,Gs||(Zt&4194048)!==Zt&&ea.current!==null||(yl=!0),(Ys&134217727)===0&&(zo&134217727)===0||Bn===null||Qs(Bn,Zt,ra,!1)}function Ud(t,n,s){var o=En;En|=2;var f=nv(),m=rv();(Bn!==t||Zt!==n)&&(Kc=null,bl(t,n)),n=!1;var T=ir;e:do try{if(In!==0&&Yt!==null){var M=Yt,X=na;switch(In){case 8:Ld(),T=6;break e;case 3:case 2:case 9:case 6:ea.current===null&&(n=!0);var ce=In;if(In=0,na=null,El(t,M,X,ce),s&&yl){T=0;break e}break;default:ce=In,In=0,na=null,El(t,M,X,ce)}}K1(),T=ir;break}catch(we){ev(t,we)}while(!0);return n&&t.shellSuspendCounter++,ls=Mo=null,En=o,B.H=f,B.A=m,Yt===null&&(Bn=null,Zt=0,La()),T}function K1(){for(;Yt!==null;)iv(Yt)}function $1(t,n){var s=En;En|=2;var o=nv(),f=rv();Bn!==t||Zt!==n?(Kc=null,Qc=_t()+500,bl(t,n)):yl=Dn(t,n);e:do try{if(In!==0&&Yt!==null){n=Yt;var m=na;t:switch(In){case 1:In=0,na=null,El(t,n,m,1);break;case 2:case 9:if(mg(m)){In=0,na=null,av(n);break}n=function(){In!==2&&In!==9||Bn!==t||(In=7),Fa(t)},m.then(n,n);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:mg(m)?(In=0,na=null,av(n)):(In=0,na=null,El(t,n,m,7));break;case 5:var T=null;switch(Yt.tag){case 26:T=Yt.memoizedState;case 5:case 27:var M=Yt;if(T?qv(T):M.stateNode.complete){In=0,na=null;var X=M.sibling;if(X!==null)Yt=X;else{var ce=M.return;ce!==null?(Yt=ce,Zc(ce)):Yt=null}break t}}In=0,na=null,El(t,n,m,5);break;case 6:In=0,na=null,El(t,n,m,6);break;case 8:Ld(),ir=6;break e;default:throw Error(a(462))}}J1();break}catch(we){ev(t,we)}while(!0);return ls=Mo=null,B.H=o,B.A=f,En=s,Yt!==null?0:(Bn=null,Zt=0,La(),ir)}function J1(){for(;Yt!==null&&!vt();)iv(Yt)}function iv(t){var n=Iy(t.alternate,t,vs);t.memoizedProps=t.pendingProps,n===null?Zc(t):Yt=n}function av(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=wy(s,n,n.pendingProps,n.type,void 0,Zt);break;case 11:n=wy(s,n,n.pendingProps,n.type.render,n.ref,Zt);break;case 5:Zh(n);default:My(s,n),n=Yt=rg(n,vs),n=Iy(s,n,vs)}t.memoizedProps=t.pendingProps,n===null?Zc(t):Yt=n}function El(t,n,s,o){ls=Mo=null,Zh(n),cl=null,fu=0;var f=n.return;try{if(B1(t,f,n,s,Zt)){ir=1,Bc(t,fa(s,t.current)),Yt=null;return}}catch(m){if(f!==null)throw Yt=f,m;ir=1,Bc(t,fa(s,t.current)),Yt=null;return}n.flags&32768?(an||o===1?t=!0:yl||(Zt&536870912)!==0?t=!1:(Gs=t=!0,(o===2||o===9||o===3||o===6)&&(o=ea.current,o!==null&&o.tag===13&&(o.flags|=16384))),sv(n,t)):Zc(n)}function Zc(t){var n=t;do{if((n.flags&32768)!==0){sv(n,Gs);return}t=n.return;var s=H1(n.alternate,n,vs);if(s!==null){Yt=s;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=t}while(n!==null);ir===0&&(ir=5)}function sv(t,n){do{var s=q1(t.alternate,t);if(s!==null){s.flags&=32767,Yt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Yt=t;return}Yt=t=s}while(t!==null);ir=6,Yt=null}function ov(t,n,s,o,f,m,T,M,X){t.cancelPendingCommit=null;do ef();while(Ir!==0);if((En&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=nl,Ot(t,s,m,T,M,X),t===Bn&&(Yt=Bn=null,Zt=0),_l=n,Ws=t,_s=s,kd=m,Vd=f,Ky=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nw(g,function(){return hv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,f=$.p,$.p=2,T=En,En|=4;try{G1(t,n,s)}finally{En=T,$.p=f,B.T=o}}Ir=1,lv(),uv(),cv()}}function lv(){if(Ir===1){Ir=0;var t=Ws,n=_l,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=$.p;$.p=2;var f=En;En|=4;try{Fy(n,t);var m=Kd,T=ne(t.containerInfo),M=m.focusedElem,X=m.selectionRange;if(T!==M&&M&&M.ownerDocument&&st(M.ownerDocument.documentElement,M)){if(X!==null&&Fe(M)){var ce=X.start,we=X.end;if(we===void 0&&(we=ce),"selectionStart"in M)M.selectionStart=ce,M.selectionEnd=Math.min(we,M.value.length);else{var Re=M.ownerDocument||document,de=Re&&Re.defaultView||window;if(de.getSelection){var ye=de.getSelection(),ot=M.textContent.length,bt=Math.min(X.start,ot),Pn=X.end===void 0?bt:Math.min(X.end,ot);!ye.extend&&bt>Pn&&(T=Pn,Pn=bt,bt=T);var re=$e(M,bt),K=$e(M,Pn);if(re&&K&&(ye.rangeCount!==1||ye.anchorNode!==re.node||ye.anchorOffset!==re.offset||ye.focusNode!==K.node||ye.focusOffset!==K.offset)){var le=Re.createRange();le.setStart(re.node,re.offset),ye.removeAllRanges(),bt>Pn?(ye.addRange(le),ye.extend(K.node,K.offset)):(le.setEnd(K.node,K.offset),ye.addRange(le))}}}}for(Re=[],ye=M;ye=ye.parentNode;)ye.nodeType===1&&Re.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Re.length;M++){var Te=Re[M];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}df=!!Qd,Kd=Qd=null}finally{En=f,$.p=o,B.T=s}}t.current=n,Ir=2}}function uv(){if(Ir===2){Ir=0;var t=Ws,n=_l,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=$.p;$.p=2;var f=En;En|=4;try{Ly(t,n.alternate,n)}finally{En=f,$.p=o,B.T=s}}Ir=3}}function cv(){if(Ir===4||Ir===3){Ir=0,wn();var t=Ws,n=_l,s=_s,o=Ky;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ir=5:(Ir=0,_l=Ws=null,fv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xs=null),Qe(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,f=$.p,$.p=2,B.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var M=o[T];m(M.value,{componentStack:M.stack})}}finally{B.T=n,$.p=f}}(_s&3)!==0&&ef(),Fa(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Pd?Iu++:(Iu=0,Pd=t):Iu=0,xu(0)}}function fv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,uu(n)))}function ef(){return lv(),uv(),cv(),hv()}function hv(){if(Ir!==5)return!1;var t=Ws,n=kd;kd=0;var s=Qe(_s),o=B.T,f=$.p;try{$.p=32>s?32:s,B.T=null,s=Vd,Vd=null;var m=Ws,T=_s;if(Ir=0,_l=Ws=null,_s=0,(En&6)!==0)throw Error(a(331));var M=En;if(En|=4,Xy(m.current),qy(m,m.current,T,s),En=M,xu(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Se,m)}catch{}return!0}finally{$.p=f,B.T=o,fv(t,n)}}function dv(t,n,s){n=fa(s,n),n=md(t.stateNode,n,2),t=js(t,n,2),t!==null&&(On(t,2),Fa(t))}function xn(t,n,s){if(t.tag===3)dv(t,t,s);else for(;n!==null;){if(n.tag===3){dv(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=fa(s,t),s=my(2),o=js(n,s,2),o!==null&&(py(s,o,n,t),On(o,2),Fa(o));break}}n=n.return}}function zd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new W1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(Nd=!0,f.add(s),t=Z1.bind(null,t,n,s),n.then(t,t))}function Z1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Bn===t&&(Zt&s)===s&&(ir===4||ir===3&&(Zt&62914560)===Zt&&300>_t()-Wc?(En&2)===0&&bl(t,0):Dd|=s,vl===Zt&&(vl=0)),Fa(t)}function mv(t,n){n===0&&(n=yt()),t=Ii(t,n),t!==null&&(On(t,n),Fa(t))}function ew(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),mv(t,s)}function tw(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),mv(t,s)}function nw(t,n){return St(t,n)}var tf=null,wl=null,Bd=!1,nf=!1,jd=!1,Ks=0;function Fa(t){t!==wl&&t.next===null&&(wl===null?tf=wl=t:wl=wl.next=t),nf=!0,Bd||(Bd=!0,iw())}function xu(t,n){if(!jd&&nf){jd=!0;do for(var s=!1,o=tf;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var T=o.suspendedLanes,M=o.pingedLanes;m=(1<<31-Pe(42|t)+1)-1,m&=f&~(T&~M),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,vv(o,m))}else m=Zt,m=Nn(o,o===Bn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Dn(o,m)||(s=!0,vv(o,m));o=o.next}while(s);jd=!1}}function rw(){pv()}function pv(){nf=Bd=!1;var t=0;Ks!==0&&mw()&&(t=Ks);for(var n=_t(),s=null,o=tf;o!==null;){var f=o.next,m=gv(o,n);m===0?(o.next=null,s===null?tf=f:s.next=f,f===null&&(wl=s)):(s=o,(t!==0||(m&3)!==0)&&(nf=!0)),o=f}Ir!==0&&Ir!==5||xu(t),Ks!==0&&(Ks=0)}function gv(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Pe(m),M=1<<T,X=f[T];X===-1?((M&s)===0||(M&o)!==0)&&(f[T]=on(M,n)):X<=n&&(t.expiredLanes|=M),m&=~M}if(n=Bn,s=Zt,s=Nn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(In===2||In===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&sn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Dn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&sn(o),Qe(s)){case 2:case 8:s=C;break;case 32:s=g;break;case 268435456:s=V;break;default:s=g}return o=yv.bind(null,t),s=St(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&sn(o),t.callbackPriority=2,t.callbackNode=null,2}function yv(t,n){if(Ir!==0&&Ir!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ef()&&t.callbackNode!==s)return null;var o=Zt;return o=Nn(t,t===Bn?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Jy(t,o,n),gv(t,_t()),t.callbackNode!=null&&t.callbackNode===s?yv.bind(null,t):null)}function vv(t,n){if(ef())return null;Jy(t,n,!0)}function iw(){gw(function(){(En&6)!==0?St(mn,rw):pv()})}function Fd(){if(Ks===0){var t=ol;t===0&&(t=Lt,Lt<<=1,(Lt&261888)===0&&(Lt=256)),Ks=t}return Ks}function _v(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qi(""+t)}function bv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function aw(t,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var m=_v((f[Kn]||null).action),T=o.submitter;T&&(n=(n=T[Kn]||null)?_v(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var M=new gi("action","action",null,o,f);t.push({event:M,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var X=T?bv(f,T):new FormData(f);ld(s,{pending:!0,data:X,method:f.method,action:m},null,X)}}else typeof m=="function"&&(M.preventDefault(),X=T?bv(f,T):new FormData(f),ld(s,{pending:!0,data:X,method:f.method,action:m},m,X))},currentTarget:f}]})}}for(var Hd=0;Hd<Ri.length;Hd++){var qd=Ri[Hd],sw=qd.toLowerCase(),ow=qd[0].toUpperCase()+qd.slice(1);Cn(sw,"on"+ow)}Cn(Oe,"onAnimationEnd"),Cn(Xe,"onAnimationIteration"),Cn(zt,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Jt,"onTransitionRun"),Cn(Nt,"onTransitionStart"),Cn(Gt,"onTransitionCancel"),Cn(ln,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Ev(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var M=o[T],X=M.instance,ce=M.currentTarget;if(M=M.listener,X!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(we){Gr(we)}f.currentTarget=null,m=X}else for(T=0;T<o.length;T++){if(M=o[T],X=M.instance,ce=M.currentTarget,M=M.listener,X!==m&&f.isPropagationStopped())break e;m=M,f.currentTarget=ce;try{m(f)}catch(we){Gr(we)}f.currentTarget=null,m=X}}}}function Xt(t,n){var s=n[ar];s===void 0&&(s=n[ar]=new Set);var o=t+"__bubble";s.has(o)||(wv(n,t,2,!1),s.add(o))}function Gd(t,n,s){var o=0;n&&(o|=4),wv(s,t,o,n)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[rf]){t[rf]=!0,Xi.forEach(function(s){s!=="selectionchange"&&(lw.has(s)||Gd(s,!1,t),Gd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[rf]||(n[rf]=!0,Gd("selectionchange",!1,n))}}function wv(t,n,s,o){switch($v(n)){case 2:var f=Pw;break;case 8:f=Lw;break;default:f=om}s=f.bind(null,n,s,t),f=void 0,!ki||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function Xd(t,n,s,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var M=o.stateNode.containerInfo;if(M===f)break;if(T===4)for(T=o.return;T!==null;){var X=T.tag;if((X===3||X===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;M!==null;){if(T=ni(M),T===null)return;if(X=T.tag,X===5||X===6||X===26||X===27){o=m=T;continue e}M=M.parentNode}}o=o.return}hi(function(){var ce=m,we=ui(s),Re=[];e:{var de=dn.get(t);if(de!==void 0){var ye=gi,ot=t;switch(t){case"keypress":if(pr(s)===0)break e;case"keydown":case"keyup":ye=So;break;case"focusin":ot="focus",ye=nt;break;case"focusout":ot="blur",ye=nt;break;case"beforeblur":case"afterblur":ye=nt;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ge;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=ht;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=y;break;case Oe:case Xe:case zt:ye=Or;break;case ln:ye=k;break;case"scroll":case"scrollend":ye=ae;break;case"wheel":ye=pe;break;case"copy":case"cut":case"paste":ye=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Sa;break;case"toggle":case"beforetoggle":ye=Ct}var bt=(n&4)!==0,Pn=!bt&&(t==="scroll"||t==="scrollend"),re=bt?de!==null?de+"Capture":null:de;bt=[];for(var K=ce,le;K!==null;){var Te=K;if(le=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||le===null||re===null||(Te=Cr(K,re),Te!=null&&bt.push(Nu(K,Te,le))),Pn)break;K=K.return}0<bt.length&&(de=new ye(de,ot,null,s,we),Re.push({event:de,listeners:bt}))}}if((n&7)===0){e:{if(de=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",de&&s!==Va&&(ot=s.relatedTarget||s.fromElement)&&(ni(ot)||ot[ti]))break e;if((ye||de)&&(de=we.window===we?we:(de=we.ownerDocument)?de.defaultView||de.parentWindow:window,ye?(ot=s.relatedTarget||s.toElement,ye=ce,ot=ot?ni(ot):null,ot!==null&&(Pn=c(ot),bt=ot.tag,ot!==Pn||bt!==5&&bt!==27&&bt!==6)&&(ot=null)):(ye=null,ot=ce),ye!==ot)){if(bt=Ge,Te="onMouseLeave",re="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(bt=Sa,Te="onPointerLeave",re="onPointerEnter",K="pointer"),Pn=ye==null?de:Ar(ye),le=ot==null?de:Ar(ot),de=new bt(Te,K+"leave",ye,s,we),de.target=Pn,de.relatedTarget=le,Te=null,ni(we)===ce&&(bt=new bt(re,K+"enter",ot,s,we),bt.target=le,bt.relatedTarget=Pn,Te=bt),Pn=Te,ye&&ot)t:{for(bt=uw,re=ye,K=ot,le=0,Te=re;Te;Te=bt(Te))le++;Te=0;for(var pt=K;pt;pt=bt(pt))Te++;for(;0<le-Te;)re=bt(re),le--;for(;0<Te-le;)K=bt(K),Te--;for(;le--;){if(re===K||K!==null&&re===K.alternate){bt=re;break t}re=bt(re),K=bt(K)}bt=null}else bt=null;ye!==null&&Tv(Re,de,ye,bt,!1),ot!==null&&Pn!==null&&Tv(Re,Pn,ot,bt,!0)}}e:{if(de=ce?Ar(ce):window,ye=de.nodeName&&de.nodeName.toLowerCase(),ye==="select"||ye==="input"&&de.type==="file")var yn=iu;else if(ru(de))if(au)yn=Z;else{yn=D;var dt=S}else ye=de.nodeName,!ye||ye.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Ta(ce.elementType)&&(yn=iu):yn=F;if(yn&&(yn=yn(t,ce))){qn(Re,yn,s,we);break e}dt&&dt(t,de,ce),t==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&ka(de,"number",de.value)}switch(dt=ce?Ar(ce):window,t){case"focusin":(ru(dt)||dt.contentEditable==="true")&&(Ye=dt,gn=ce,Je=null);break;case"focusout":Je=gn=Ye=null;break;case"mousedown":Ut=!0;break;case"contextmenu":case"mouseup":case"dragend":Ut=!1,Sn(Re,s,we);break;case"selectionchange":if(rt)break;case"keydown":case"keyup":Sn(Re,s,we)}var Vt;if(hn)e:{switch(t){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else ns?ca(t,s)&&(en="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(en="onCompositionStart");en&&(Pi&&s.locale!=="ko"&&(ns||en!=="onCompositionStart"?en==="onCompositionEnd"&&ns&&(Vt=ua()):(Vi=we,Rr="value"in Vi?Vi.value:Vi.textContent,ns=!0)),dt=af(ce,en),0<dt.length&&(en=new $i(en,t,null,s,we),Re.push({event:en,listeners:dt}),Vt?en.data=Vt:(Vt=ts(s),Vt!==null&&(en.data=Vt)))),(Vt=yi?Ch(t,s):_c(t,s))&&(en=af(ce,"onBeforeInput"),0<en.length&&(dt=new $i("onBeforeInput","beforeinput",null,s,we),Re.push({event:dt,listeners:en}),dt.data=Vt)),aw(Re,t,ce,s,we)}Ev(Re,n)})}function Nu(t,n,s){return{instance:t,listener:n,currentTarget:s}}function af(t,n){for(var s=n+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Cr(t,s),f!=null&&o.unshift(Nu(t,f,m)),f=Cr(t,n),f!=null&&o.push(Nu(t,f,m))),t.tag===3)return o;t=t.return}return[]}function uw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tv(t,n,s,o,f){for(var m=n._reactName,T=[];s!==null&&s!==o;){var M=s,X=M.alternate,ce=M.stateNode;if(M=M.tag,X!==null&&X===o)break;M!==5&&M!==26&&M!==27||ce===null||(X=ce,f?(ce=Cr(s,m),ce!=null&&T.unshift(Nu(s,ce,X))):f||(ce=Cr(s,m),ce!=null&&T.push(Nu(s,ce,X)))),s=s.return}T.length!==0&&t.push({event:n,listeners:T})}var cw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function Av(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(fw,"")}function Sv(t,n){return n=Av(n),Av(t)===n}function Vn(t,n,s,o,f,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nr(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nr(t,""+o);break;case"className":sr(t,"class",o);break;case"tabIndex":sr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,s,o);break;case"style":oi(t,o,m);break;case"data":if(n!=="object"){sr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Qi(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Vn(t,n,"name",f.name,f,null),Vn(t,n,"formEncType",f.formEncType,f,null),Vn(t,n,"formMethod",f.formMethod,f,null),Vn(t,n,"formTarget",f.formTarget,f,null)):(Vn(t,n,"encType",f.encType,f,null),Vn(t,n,"method",f.method,f,null),Vn(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Qi(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Hr);break;case"onScroll":o!=null&&Xt("scroll",t);break;case"onScrollEnd":o!=null&&Xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Qi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Xt("beforetoggle",t),Xt("toggle",t),fn(t,"popover",o);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fn(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=la.get(s)||s,fn(t,s,o))}}function Wd(t,n,s,o,f,m){switch(s){case"style":oi(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?nr(t,o):(typeof o=="number"||typeof o=="bigint")&&nr(t,""+o);break;case"onScroll":o!=null&&Xt("scroll",t);break;case"onScrollEnd":o!=null&&Xt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),m=t[Kn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,f);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):fn(t,s,o)}}}function Qr(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",t),Xt("load",t);var o=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var T=s[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Vn(t,n,m,T,s,null)}}f&&Vn(t,n,"srcSet",s.srcSet,s,null),o&&Vn(t,n,"src",s.src,s,null);return;case"input":Xt("invalid",t);var M=m=T=f=null,X=null,ce=null;for(o in s)if(s.hasOwnProperty(o)){var we=s[o];if(we!=null)switch(o){case"name":f=we;break;case"type":T=we;break;case"checked":X=we;break;case"defaultChecked":ce=we;break;case"value":m=we;break;case"defaultValue":M=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,n));break;default:Vn(t,n,o,we,s,null)}}es(t,m,M,X,ce,T,f,!1);return;case"select":Xt("invalid",t),o=T=m=null;for(f in s)if(s.hasOwnProperty(f)&&(M=s[f],M!=null))switch(f){case"value":m=M;break;case"defaultValue":T=M;break;case"multiple":o=M;default:Vn(t,n,f,M,s,null)}n=m,s=T,t.multiple=!!o,n!=null?pn(t,!!o,n,!1):s!=null&&pn(t,!!o,s,!0);return;case"textarea":Xt("invalid",t),m=f=o=null;for(T in s)if(s.hasOwnProperty(T)&&(M=s[T],M!=null))switch(T){case"value":o=M;break;case"defaultValue":f=M;break;case"children":m=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Vn(t,n,T,M,s,null)}Di(t,o,f,m);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Vn(t,n,X,o,s,null)}return;case"dialog":Xt("beforetoggle",t),Xt("toggle",t),Xt("cancel",t),Xt("close",t);break;case"iframe":case"object":Xt("load",t);break;case"video":case"audio":for(o=0;o<Mu.length;o++)Xt(Mu[o],t);break;case"image":Xt("error",t),Xt("load",t);break;case"details":Xt("toggle",t);break;case"embed":case"source":case"link":Xt("error",t),Xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in s)if(s.hasOwnProperty(ce)&&(o=s[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Vn(t,n,ce,o,s,null)}return;default:if(Ta(n)){for(we in s)s.hasOwnProperty(we)&&(o=s[we],o!==void 0&&Wd(t,n,we,o,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(o=s[M],o!=null&&Vn(t,n,M,o,s,null))}function hw(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,M=null,X=null,ce=null,we=null;for(ye in s){var Re=s[ye];if(s.hasOwnProperty(ye)&&Re!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":X=Re;default:o.hasOwnProperty(ye)||Vn(t,n,ye,null,o,Re)}}for(var de in o){var ye=o[de];if(Re=s[de],o.hasOwnProperty(de)&&(ye!=null||Re!=null))switch(de){case"type":m=ye;break;case"name":f=ye;break;case"checked":ce=ye;break;case"defaultChecked":we=ye;break;case"value":T=ye;break;case"defaultValue":M=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,n));break;default:ye!==Re&&Vn(t,n,de,ye,o,Re)}}wa(t,T,M,X,ce,we,m,f);return;case"select":ye=T=M=de=null;for(m in s)if(X=s[m],s.hasOwnProperty(m)&&X!=null)switch(m){case"value":break;case"multiple":ye=X;default:o.hasOwnProperty(m)||Vn(t,n,m,null,o,X)}for(f in o)if(m=o[f],X=s[f],o.hasOwnProperty(f)&&(m!=null||X!=null))switch(f){case"value":de=m;break;case"defaultValue":M=m;break;case"multiple":T=m;default:m!==X&&Vn(t,n,f,m,o,X)}n=M,s=T,o=ye,de!=null?pn(t,!!s,de,!1):!!o!=!!s&&(n!=null?pn(t,!!s,n,!0):pn(t,!!s,s?[]:"",!1));return;case"textarea":ye=de=null;for(M in s)if(f=s[M],s.hasOwnProperty(M)&&f!=null&&!o.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Vn(t,n,M,null,o,f)}for(T in o)if(f=o[T],m=s[T],o.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":de=f;break;case"defaultValue":ye=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Vn(t,n,T,f,o,m)}oa(t,de,ye);return;case"option":for(var ot in s)if(de=s[ot],s.hasOwnProperty(ot)&&de!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Vn(t,n,ot,null,o,de)}for(X in o)if(de=o[X],ye=s[X],o.hasOwnProperty(X)&&de!==ye&&(de!=null||ye!=null))switch(X){case"selected":t.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Vn(t,n,X,de,o,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)de=s[bt],s.hasOwnProperty(bt)&&de!=null&&!o.hasOwnProperty(bt)&&Vn(t,n,bt,null,o,de);for(ce in o)if(de=o[ce],ye=s[ce],o.hasOwnProperty(ce)&&de!==ye&&(de!=null||ye!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,n));break;default:Vn(t,n,ce,de,o,ye)}return;default:if(Ta(n)){for(var Pn in s)de=s[Pn],s.hasOwnProperty(Pn)&&de!==void 0&&!o.hasOwnProperty(Pn)&&Wd(t,n,Pn,void 0,o,de);for(we in o)de=o[we],ye=s[we],!o.hasOwnProperty(we)||de===ye||de===void 0&&ye===void 0||Wd(t,n,we,de,o,ye);return}}for(var re in s)de=s[re],s.hasOwnProperty(re)&&de!=null&&!o.hasOwnProperty(re)&&Vn(t,n,re,null,o,de);for(Re in o)de=o[Re],ye=s[Re],!o.hasOwnProperty(Re)||de===ye||de==null&&ye==null||Vn(t,n,Re,de,o,ye)}function Cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],m=f.transferSize,T=f.initiatorType,M=f.duration;if(m&&M&&Cv(T)){for(T=0,M=f.responseEnd,o+=1;o<s.length;o++){var X=s[o],ce=X.startTime;if(ce>M)break;var we=X.transferSize,Re=X.initiatorType;we&&Cv(Re)&&(X=X.responseEnd,T+=we*(X<M?1:(M-ce)/(X-ce)))}if(--o,n+=8*(m+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Kd=null;function sf(t){return t.nodeType===9?t:t.ownerDocument}function Rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jd=null;function mw(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,pw=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(yw)}:xv;function yw(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function Nv(t,n){var s=n,o=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(f),Cl(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Du(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Du(s);for(var m=s.firstChild;m;){var T=m.nextSibling,M=m.nodeName;m[Nr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=T}}else s==="body"&&Du(t.ownerDocument.body);s=f}while(s);Cl(n)}function Dv(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Zd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zd(s),Br(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function vw(t,n,s,o){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Nr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ga(t.nextSibling),t===null)break}return null}function _w(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ga(t.nextSibling),t===null))return null;return t}function Ov(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ga(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bw(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ga(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var nm=null;function kv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ga(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Vv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Pv(t,n,s){switch(n=sf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Du(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Br(t)}var ya=new Map,Lv=new Set;function of(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bs=$.d;$.d={f:Ew,r:ww,D:Tw,C:Aw,L:Sw,m:Cw,X:Iw,S:Rw,M:xw};function Ew(){var t=bs.f(),n=$c();return t||n}function ww(t){var n=ri(t);n!==null&&n.tag===5&&n.type==="form"?ey(n):bs.r(t)}var Tl=typeof document>"u"?null:document;function Uv(t,n,s){var o=Tl;if(o&&typeof n=="string"&&n){var f=zn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Lv.has(f)||(Lv.add(f),t={rel:t,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Qr(n,"link",t),cn(n),o.head.appendChild(n)))}}function Tw(t){bs.D(t),Uv("dns-prefetch",t,null)}function Aw(t,n){bs.C(t,n),Uv("preconnect",t,n)}function Sw(t,n,s){bs.L(t,n,s);var o=Tl;if(o&&t&&n){var f='link[rel="preload"][as="'+zn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+zn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+zn(s.imageSizes)+'"]')):f+='[href="'+zn(t)+'"]';var m=f;switch(n){case"style":m=Al(t);break;case"script":m=Sl(t)}ya.has(m)||(t=O({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ya.set(m,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(Ou(m))||n==="script"&&o.querySelector(ku(m))||(n=o.createElement("link"),Qr(n,"link",t),cn(n),o.head.appendChild(n)))}}function Cw(t,n){bs.m(t,n);var s=Tl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+zn(o)+'"][href="'+zn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!ya.has(m)&&(t=O({rel:"modulepreload",href:t},n),ya.set(m,t),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ku(m)))return}o=s.createElement("link"),Qr(o,"link",t),cn(o),s.head.appendChild(o)}}}function Rw(t,n,s){bs.S(t,n,s);var o=Tl;if(o&&t){var f=jr(o).hoistableStyles,m=Al(t);n=n||"default";var T=f.get(m);if(!T){var M={loading:0,preload:null};if(T=o.querySelector(Ou(m)))M.loading=5;else{t=O({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ya.get(m))&&rm(t,s);var X=T=o.createElement("link");cn(X),Qr(X,"link",t),X._p=new Promise(function(ce,we){X.onload=ce,X.onerror=we}),X.addEventListener("load",function(){M.loading|=1}),X.addEventListener("error",function(){M.loading|=2}),M.loading|=4,lf(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:M},f.set(m,T)}}}function Iw(t,n){bs.X(t,n);var s=Tl;if(s&&t){var o=jr(s).hoistableScripts,f=Sl(t),m=o.get(f);m||(m=s.querySelector(ku(f)),m||(t=O({src:t,async:!0},n),(n=ya.get(f))&&im(t,n),m=s.createElement("script"),cn(m),Qr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function xw(t,n){bs.M(t,n);var s=Tl;if(s&&t){var o=jr(s).hoistableScripts,f=Sl(t),m=o.get(f);m||(m=s.querySelector(ku(f)),m||(t=O({src:t,async:!0,type:"module"},n),(n=ya.get(f))&&im(t,n),m=s.createElement("script"),cn(m),Qr(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function zv(t,n,s,o){var f=(f=tt.current)?of(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Al(s.href),s=jr(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Al(s.href);var m=jr(f).hoistableStyles,T=m.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=f.querySelector(Ou(t)))&&!m._p&&(T.instance=m,T.state.loading=5),ya.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ya.set(t,s),m||Mw(f,t,s,T.state))),n&&o===null)throw Error(a(528,""));return T}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sl(s),s=jr(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+zn(t)+'"'}function Ou(t){return'link[rel="stylesheet"]['+t+"]"}function Bv(t){return O({},t,{"data-precedence":t.precedence,precedence:null})}function Mw(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qr(n,"link",s),cn(n),t.head.appendChild(n))}function Sl(t){return'[src="'+zn(t)+'"]'}function ku(t){return"script[async]"+t}function jv(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+zn(s.href)+'"]');if(o)return n.instance=o,cn(o),o;var f=O({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),cn(o),Qr(o,"style",f),lf(o,s.precedence,t),n.instance=o;case"stylesheet":f=Al(s.href);var m=t.querySelector(Ou(f));if(m)return n.state.loading|=4,n.instance=m,cn(m),m;o=Bv(s),(f=ya.get(f))&&rm(o,f),m=(t.ownerDocument||t).createElement("link"),cn(m);var T=m;return T._p=new Promise(function(M,X){T.onload=M,T.onerror=X}),Qr(m,"link",o),n.state.loading|=4,lf(m,s.precedence,t),n.instance=m;case"script":return m=Sl(s.src),(f=t.querySelector(ku(m)))?(n.instance=f,cn(f),f):(o=s,(f=ya.get(m))&&(o=O({},s),im(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),cn(f),Qr(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lf(o,s.precedence,t));return n.instance}function lf(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,T=0;T<o.length;T++){var M=o[T];if(M.dataset.precedence===n)m=M;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function rm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function im(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uf=null;function Fv(t,n,s){if(uf===null){var o=new Map,f=uf=new Map;f.set(s,o)}else f=uf,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[Nr]||m[An]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var M=o.get(T);M?M.push(m):o.set(T,[m])}}return o}function Hv(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Nw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Dw(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Al(o.href),m=n.querySelector(Ou(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=cf.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=m,cn(m);return}m=n.ownerDocument||n,o=Bv(o),(f=ya.get(f))&&rm(o,f),m=m.createElement("link"),cn(m);var T=m;T._p=new Promise(function(M,X){T.onload=M,T.onerror=X}),Qr(m,"link",o),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=cf.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var am=0;function Ow(t,n){return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&am===0&&(am=62500*dw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>am?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ff=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ff=new Map,n.forEach(kw,t),ff=null,cf.call(t))}function kw(t,n){if(!(n.state.loading&4)){var s=ff.get(t);if(s)var o=s.get(null);else{s=new Map,ff.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),o=T)}o&&s.set(null,o)}f=n.instance,T=f.getAttribute("data-precedence"),m=s.get(T)||o,m===o&&s.set(null,f),s.set(T,f),this.count++,o=cf.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Vu={$$typeof:Ue,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Vw(t,n,s,o,f,m,T,M,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Gv(t,n,s,o,f,m,T,M,X,ce,we,Re){return t=new Vw(t,n,s,T,X,ce,we,Re,M),n=1,m===!0&&(n|=24),m=vi(3,null,null,n),t.current=m,m.stateNode=t,n=Uh(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},Fh(m),t}function Yv(t){return t?(t=Zi,t):Zi}function Xv(t,n,s,o,f,m){f=Yv(f),o.context===null?o.context=f:o.pendingContext=f,o=Bs(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=js(t,o,n),s!==null&&(Hi(s,t,n),du(s,t,n))}function Wv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function sm(t,n){Wv(t,n),(t=t.alternate)&&Wv(t,n)}function Qv(t){if(t.tag===13||t.tag===31){var n=Ii(t,67108864);n!==null&&Hi(n,t,67108864),sm(t,67108864)}}function Kv(t){if(t.tag===13||t.tag===31){var n=ia();n=ei(n);var s=Ii(t,n);s!==null&&Hi(s,t,n),sm(t,n)}}var df=!0;function Pw(t,n,s,o){var f=B.T;B.T=null;var m=$.p;try{$.p=2,om(t,n,s,o)}finally{$.p=m,B.T=f}}function Lw(t,n,s,o){var f=B.T;B.T=null;var m=$.p;try{$.p=8,om(t,n,s,o)}finally{$.p=m,B.T=f}}function om(t,n,s,o){if(df){var f=lm(o);if(f===null)Xd(t,n,o,mf,s),Jv(t,o);else if(zw(f,t,n,s,o))o.stopPropagation();else if(Jv(t,o),n&4&&-1<Uw.indexOf(t)){for(;f!==null;){var m=ri(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Mn(m.pendingLanes);if(T!==0){var M=m;for(M.pendingLanes|=2,M.entangledLanes|=2;T;){var X=1<<31-Pe(T);M.entanglements[1]|=X,T&=~X}Fa(m),(En&6)===0&&(Qc=_t()+500,xu(0))}}break;case 31:case 13:M=Ii(m,2),M!==null&&Hi(M,m,2),$c(),sm(m,2)}if(m=lm(o),m===null&&Xd(t,n,o,mf,s),m===f)break;f=m}f!==null&&o.stopPropagation()}else Xd(t,n,o,null,s)}}function lm(t){return t=ui(t),um(t)}var mf=null;function um(t){if(mf=null,t=ni(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=p(n),t!==null)return t;t=null}else if(s===31){if(t=b(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mf=t,null}function $v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case mn:return 2;case C:return 8;case g:case _:return 32;case V:return 268435456;default:return 32}default:return 32}}var cm=!1,Js=null,Zs=null,eo=null,Pu=new Map,Lu=new Map,to=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(t,n){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Pu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(n.pointerId)}}function Uu(t,n,s,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=ri(n),n!==null&&Qv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function zw(t,n,s,o,f){switch(n){case"focusin":return Js=Uu(Js,t,n,s,o,f),!0;case"dragenter":return Zs=Uu(Zs,t,n,s,o,f),!0;case"mouseover":return eo=Uu(eo,t,n,s,o,f),!0;case"pointerover":var m=f.pointerId;return Pu.set(m,Uu(Pu.get(m)||null,t,n,s,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Lu.set(m,Uu(Lu.get(m)||null,t,n,s,o,f)),!0}return!1}function Zv(t){var n=ni(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=p(s),n!==null){t.blockedOn=n,Ur(t.priority,function(){Kv(s)});return}}else if(n===31){if(n=b(s),n!==null){t.blockedOn=n,Ur(t.priority,function(){Kv(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=lm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Va=o,s.target.dispatchEvent(o),Va=null}else return n=ri(s),n!==null&&Qv(n),t.blockedOn=s,!1;n.shift()}return!0}function e0(t,n,s){pf(t)&&s.delete(n)}function Bw(){cm=!1,Js!==null&&pf(Js)&&(Js=null),Zs!==null&&pf(Zs)&&(Zs=null),eo!==null&&pf(eo)&&(eo=null),Pu.forEach(e0),Lu.forEach(e0)}function gf(t,n){t.blockedOn===n&&(t.blockedOn=null,cm||(cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bw)))}var yf=null;function t0(t){yf!==t&&(yf=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yf===t&&(yf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(um(o||s)===null)continue;break}var m=ri(s);m!==null&&(t.splice(n,3),n-=3,ld(m,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Cl(t){function n(X){return gf(X,t)}Js!==null&&gf(Js,t),Zs!==null&&gf(Zs,t),eo!==null&&gf(eo,t),Pu.forEach(n),Lu.forEach(n);for(var s=0;s<to.length;s++){var o=to[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<to.length&&(s=to[0],s.blockedOn===null);)Zv(s),s.blockedOn===null&&to.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],m=s[o+1],T=f[Kn]||null;if(typeof m=="function")T||t0(s);else if(T){var M=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Kn]||null)M=T.formAction;else if(um(f)!==null)continue}else M=T.action;typeof M=="function"?s[o+1]=M:(s.splice(o,3),o-=3),t0(s)}}}function n0(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function fm(t){this._internalRoot=t}vf.prototype.render=fm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=ia();Xv(s,o,t,n,null,null)},vf.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Xv(t.current,2,null,t,null,null),$c(),n[ti]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var n=$a();t={blockedOn:null,target:t,priority:n};for(var s=0;s<to.length&&n!==0&&n<to[s].priority;s++);to.splice(s,0,t),s===0&&Zv(t)}};var r0=e.version;if(r0!=="19.2.3")throw Error(a(527,r0,"19.2.3"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=w(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var jw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{Se=_f.inject(jw),qe=_f}catch{}}return zu.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",f=cy,m=fy,T=hy;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Gv(t,1,!1,null,null,s,o,null,f,m,T,n0),t[ti]=n.current,Yd(t),new fm(n)},zu.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,f="",m=cy,T=fy,M=hy,X=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(X=s.formState)),n=Gv(t,1,!0,n,s??null,o,f,X,m,T,M,n0),n.context=Yv(null),s=n.current,o=ia(),o=ei(o),f=Bs(o),f.callback=null,js(s,f,o),s=o,n.current.lanes=s,On(n,s),Fa(n),t[ti]=n.current,Yd(t),new vf(n)},zu.version="19.2.3",zu}var f0;function Kw(){if(f0)return dm.exports;f0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=Qw(),dm.exports}var $w=Kw();const Jw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),h0=i=>{const e=Zw(i);return e.charAt(0).toUpperCase()+e.slice(1)},tb=(...i)=>i.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),eT=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var tT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nT=Be.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:p,...b},E)=>Be.createElement("svg",{ref:E,...tT,width:e,height:e,stroke:i,strokeWidth:a?Number(r)*24/Number(e):r,className:tb("lucide",l),...!c&&!eT(b)&&{"aria-hidden":"true"},...b},[...p.map(([w,x])=>Be.createElement(w,x)),...Array.isArray(c)?c:[c]]));const Ln=(i,e)=>{const r=Be.forwardRef(({className:a,...l},c)=>Be.createElement(nT,{ref:c,iconNode:e,className:tb(`lucide-${Jw(h0(i))}`,`lucide-${i}`,a),...l}));return r.displayName=h0(i),r};const rT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],iT=Ln("arrow-down-a-z",rT);const aT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d0=Ln("arrow-left",aT);const sT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oT=Ln("book-open",sT);const lT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],uT=Ln("check-check",lT);const cT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fT=Ln("check",cT);const hT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dT=Ln("chevron-left",hT);const mT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pT=Ln("chevron-right",mT);const gT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yT=Ln("circle-alert",gT);const vT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Um=Ln("crown",vT);const _T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bT=Ln("eye",_T);const ET=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],m0=Ln("flag",ET);const wT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],TT=Ln("heart",wT);const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ST=Ln("info",AT);const CT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RT=Ln("log-out",CT);const IT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xT=Ln("play",IT);const MT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],p0=Ln("rotate-ccw",MT);const NT=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],DT=Ln("ruler",NT);const OT=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],kT=Ln("scroll-text",OT);const VT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g0=Ln("settings",VT);const PT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],LT=Ln("share-2",PT);const UT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],zT=Ln("shuffle",UT);const BT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bf=Ln("sparkles",BT);const jT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=Ln("star",jT);const FT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],y0=Ln("sun",FT);const HT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],v0=Ln("trophy",HT);const qT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_0=Ln("volume-2",qT);const GT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vm=Ln("x",GT);const YT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_m=Ln("zap",YT);var bm={},xf={exports:{}},XT=xf.exports,b0;function WT(){return b0||(b0=1,(function(i,e){(function(a,l){i.exports=l()})(XT,()=>(()=>{var r=[,((p,b,E)=>{E.r(b),E.d(b,{default:()=>x});var w=(()=>{var O=typeof document<"u"?document.currentScript?.src:void 0;return(function(G={}){var te,z=G,De,be,Le=new Promise((h,d)=>{De=h,be=d}),j=typeof window=="object",Ue=typeof importScripts=="function";function et(){function h(Z){const ee=S;v=d=0,S=new Map,ee.forEach(fe=>{try{fe(Z)}catch(ue){console.error(ue)}}),this.nb(),D&&D.Pb()}let d=0,v=0,S=new Map,D=null,F=null;this.requestAnimationFrame=function(Z){d||=requestAnimationFrame(h.bind(this));const ee=++v;return S.set(ee,Z),ee},this.cancelAnimationFrame=function(Z){S.delete(Z),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Z){F&&(document.body.remove(F),F=null),Z||(F=document.createElement("div"),F.style.backgroundColor="black",F.style.position="fixed",F.style.right=0,F.style.top=0,F.style.color="white",F.style.padding="4px",F.innerHTML="RIVE FPS",Z=function(ee){F.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(F)),D=new function(){let ee=0,fe=0;this.Pb=function(){var ue=performance.now();fe?(++ee,ue-=fe,1e3<ue&&(Z(1e3*ee/ue),ee=fe=0)):(fe=ue,ee=0)}}},this.Kb=function(){F&&(document.body.remove(F),F=null),D=null},this.nb=function(){}}function ut(h){console.assert(!0);const d=new Map;let v=-1/0;this.push=function(S){return S=S+((1<<h)-1)>>h,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?v=-1/0:S==v&&(v=Math.max(...d.keys()),console.assert(v<S))},1e3)),v=Math.max(S,v),v<<h}}const at=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){at&&at();let h=z.decodeAudio;z.decodeAudio=function(D,F){D=h(D),F(D)};let d=z.decodeFont;z.decodeFont=function(D,F){D=d(D),F(D)};const v=z.FileAssetLoader;z.ptrToAsset=D=>{let F=z.ptrToFileAsset(D);return F.isImage?z.ptrToImageAsset(D):F.isFont?z.ptrToFontAsset(D):F.isAudio?z.ptrToAudioAsset(D):F},z.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:D}){this.__parent.__construct.call(this),this.Db=D},loadContents:function(D,F){return D=z.ptrToAsset(D),this.Db(D,F)}}),z.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(D){let F=z.ptrToAsset(D);return D=F.cdnUuid,D===""?!1:((function(Z,ee){var fe=new XMLHttpRequest;fe.responseType="arraybuffer",fe.onreadystatechange=function(){fe.readyState==4&&fe.status==200&&ee(fe)},fe.open("GET",Z,!0),fe.send(null)})(F.cdnBaseUrl+"/"+D,Z=>{F.decode(new Uint8Array(Z.response))}),!0)}}),z.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(D){this.jb.push(D)},loadContents:function(D,F){for(let Z of this.jb)if(Z.loadContents(D,F))return!0;return!1}});let S=z.computeAlignment;z.computeAlignment=function(D,F,Z,ee,fe=1){return S.call(this,D,F,Z,ee,fe)}};const Y="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),H=new function(){function h(){if(!d){let gn=function(Je,Ut,Sn){if(Ut=Ye.createShader(Ut),Ye.shaderSource(Ut,Sn),Ye.compileShader(Ut),Sn=Ye.getShaderInfoLog(Ut),0<(Sn||"").length)throw Sn;Ye.attachShader(Je,Ut)};var rt=gn,ne=document.createElement("canvas"),Fe={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Ye;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Ye=ne.getContext("webgl",Fe),v=1,!Ye)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Ye=ne.getContext("webgl2",Fe))v=2;else if(Ye=ne.getContext("webgl",Fe))v=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Ye=new Proxy(Ye,{get(Je,Ut){if(Je.isContextLost()){if(fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ut),fe=!0),typeof Je[Ut]=="function")return function(){}}else return typeof Je[Ut]=="function"?function(...Sn){return Je[Ut].apply(Je,Sn)}:Je[Ut]},set(Je,Ut,Sn){if(Je.isContextLost())fe||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ut),fe=!0);else return Je[Ut]=Sn,!0}}),S=Math.min(Ye.getParameter(Ye.MAX_RENDERBUFFER_SIZE),Ye.getParameter(Ye.MAX_TEXTURE_SIZE)),ne=Ye.createProgram(),gn(ne,Ye.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),gn(ne,Ye.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Ye.bindAttribLocation(ne,0,"vertex"),Ye.bindAttribLocation(ne,1,"uv"),Ye.linkProgram(ne),Fe=Ye.getProgramInfoLog(ne),0<(Fe||"").trim().length)throw Fe;D=Ye.getUniformLocation(ne,"mat"),F=Ye.getUniformLocation(ne,"translate"),Ye.useProgram(ne),Ye.bindBuffer(Ye.ARRAY_BUFFER,Ye.createBuffer()),Ye.enableVertexAttribArray(0),Ye.enableVertexAttribArray(1),Ye.bindBuffer(Ye.ELEMENT_ARRAY_BUFFER,Ye.createBuffer()),Ye.uniform1i(Ye.getUniformLocation(ne,"image"),0),Ye.pixelStorei(Ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Ye}return!0}let d=null,v=0,S=0,D=null,F=null,Z=0,ee=0,fe=!1;h(),this.ac=function(){return h(),S},this.Jb=function(ne){d.deleteTexture&&d.deleteTexture(ne)},this.Ib=function(ne){if(!h())return null;const Fe=d.createTexture();return Fe?(d.bindTexture(d.TEXTURE_2D,Fe),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,ne),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),v==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Fe):null};const ue=new ut(8),Ve=new ut(8),$e=new ut(10),st=new ut(10);this.Mb=function(ne,Fe,rt,Ye,gn){if(h()){var Je=ue.push(ne),Ut=Ve.push(Fe);if(d.canvas){(d.canvas.width!=Je||d.canvas.height!=Ut)&&(d.canvas.width=Je,d.canvas.height=Ut),d.viewport(0,Ut-Fe,ne,Fe),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),rt.sort((Ht,Ji)=>Ji.ub-Ht.ub),Je=$e.push(Ye),Z!=Je&&(d.bufferData(d.ARRAY_BUFFER,8*Je,d.DYNAMIC_DRAW),Z=Je),Je=0;for(var Sn of rt)d.bufferSubData(d.ARRAY_BUFFER,Je,Sn.Sa),Je+=4*Sn.Sa.length;console.assert(Je==4*Ye);for(var cr of rt)d.bufferSubData(d.ARRAY_BUFFER,Je,cr.Ab),Je+=4*cr.Ab.length;console.assert(Je==8*Ye),Je=st.push(gn),ee!=Je&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Je,d.DYNAMIC_DRAW),ee=Je),Sn=0;for(var Ui of rt)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,Sn,Ui.indices),Sn+=2*Ui.indices.length;console.assert(Sn==2*gn),Ui=0,cr=!0,Je=Sn=0;for(const Ht of rt){Ht.image.Ia!=Ui&&(d.bindTexture(d.TEXTURE_2D,Ht.image.Ha||null),Ui=Ht.image.Ia),Ht.fc?(d.scissor(Ht.Ya,Ut-Ht.Za-Ht.ib,Ht.tc,Ht.ib),cr=!0):cr&&(d.scissor(0,Ut-Fe,ne,Fe),cr=!1),rt=2/ne;const Ji=-2/Fe;d.uniform4f(D,Ht.ga[0]*rt*Ht.za,Ht.ga[1]*Ji*Ht.Aa,Ht.ga[2]*rt*Ht.za,Ht.ga[3]*Ji*Ht.Aa),d.uniform2f(F,Ht.ga[4]*rt*Ht.za+rt*(Ht.Ya-Ht.bc*Ht.za)-1,Ht.ga[5]*Ji*Ht.Aa+Ji*(Ht.Za-Ht.cc*Ht.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Je),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Je+4*Ye),d.drawElements(d.TRIANGLES,Ht.indices.length,d.UNSIGNED_SHORT,Sn),Je+=4*Ht.Sa.length,Sn+=2*Ht.indices.length}console.assert(Je==4*Ye),console.assert(Sn==2*gn)}}},this.canvas=function(){return h()&&d.canvas}},L=z.onRuntimeInitialized;z.onRuntimeInitialized=function(){function h(Oe){switch(Oe){case ue.srcOver:return"source-over";case ue.screen:return"screen";case ue.overlay:return"overlay";case ue.darken:return"darken";case ue.lighten:return"lighten";case ue.colorDodge:return"color-dodge";case ue.colorBurn:return"color-burn";case ue.hardLight:return"hard-light";case ue.softLight:return"soft-light";case ue.difference:return"difference";case ue.exclusion:return"exclusion";case ue.multiply:return"multiply";case ue.hue:return"hue";case ue.saturation:return"saturation";case ue.color:return"color";case ue.luminosity:return"luminosity"}}function d(Oe){return"rgba("+((16711680&Oe)>>>16)+","+((65280&Oe)>>>8)+","+((255&Oe)>>>0)+","+((4278190080&Oe)>>>24)/255+")"}function v(){0<Ut.length&&(H.Mb(Je.drawWidth(),Je.drawHeight(),Ut,Sn,cr),Ut=[],cr=Sn=0,Je.reset(512,512));for(const Oe of gn){for(const Xe of Oe.H)Xe();Oe.H=[]}gn.clear()}L&&L();var S=z.RenderPaintStyle;const D=z.RenderPath,F=z.RenderPaint,Z=z.Renderer,ee=z.StrokeCap,fe=z.StrokeJoin,ue=z.BlendMode,Ve=S.fill,$e=S.stroke,st=z.FillRule.evenOdd;let ne=1;var Fe=z.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Oe,va:Xe}={}){this.__parent.__construct.call(this),this.Ia=ne,ne=ne+1&2147483647||1,this.ka=Oe,this.va=Xe},__destruct:function(){this.Ha&&(H.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Oe){var Xe=this;Xe.va&&Xe.va(Xe);var zt=new Image;Xe.Va=URL.createObjectURL(new Blob([Oe],{type:"image/png"})),zt.onload=function(){Xe.Cb=zt,Xe.Ha=H.Ib(zt),Xe.size(zt.width,zt.height),Xe.ka&&Xe.ka(Xe)},zt.src=Xe.Va}}),rt=D.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Oe,Xe,zt,Jt,Nt,Gt,ln){var dn=this.T,Ri=dn.addPath;Oe=Oe.T;const Cn=new DOMMatrix;Cn.a=Xe,Cn.b=zt,Cn.c=Jt,Cn.d=Nt,Cn.e=Gt,Cn.f=ln,Ri.call(dn,Oe,Cn)},fillRule:function(Oe){this.Ua=Oe},moveTo:function(Oe,Xe){this.T.moveTo(Oe,Xe)},lineTo:function(Oe,Xe){this.T.lineTo(Oe,Xe)},cubicTo:function(Oe,Xe,zt,Jt,Nt,Gt){this.T.bezierCurveTo(Oe,Xe,zt,Jt,Nt,Gt)},close:function(){this.T.closePath()}}),Ye=F.extend("CanvasRenderPaint",{color:function(Oe){this.Wa=d(Oe)},thickness:function(Oe){this.Fb=Oe},join:function(Oe){switch(Oe){case fe.miter:this.Ga="miter";break;case fe.round:this.Ga="round";break;case fe.bevel:this.Ga="bevel"}},cap:function(Oe){switch(Oe){case ee.butt:this.Fa="butt";break;case ee.round:this.Fa="round";break;case ee.square:this.Fa="square"}},style:function(Oe){this.Eb=Oe},blendMode:function(Oe){this.Bb=h(Oe)},clearGradient:function(){this.ia=null},linearGradient:function(Oe,Xe,zt,Jt){this.ia={wb:Oe,xb:Xe,bb:zt,cb:Jt,Pa:[]}},radialGradient:function(Oe,Xe,zt,Jt){this.ia={wb:Oe,xb:Xe,bb:zt,cb:Jt,Pa:[],$b:!0}},addStop:function(Oe,Xe){this.ia.Pa.push({color:Oe,stop:Xe})},completeGradient:function(){},draw:function(Oe,Xe,zt){let Jt=this.Eb;var Nt=this.Wa,Gt=this.ia;if(Oe.globalCompositeOperation=this.Bb,Gt!=null){Nt=Gt.wb;var ln=Gt.xb;const Ri=Gt.bb;var dn=Gt.cb;const Cn=Gt.Pa;Gt.$b?(Gt=Ri-Nt,dn-=ln,Nt=Oe.createRadialGradient(Nt,ln,0,Nt,ln,Math.sqrt(Gt*Gt+dn*dn))):Nt=Oe.createLinearGradient(Nt,ln,Ri,dn);for(let Gr=0,bn=Cn.length;Gr<bn;Gr++)ln=Cn[Gr],Nt.addColorStop(ln.stop,d(ln.color));this.Wa=Nt,this.ia=null}switch(Jt){case $e:Oe.strokeStyle=Nt,Oe.lineWidth=this.Fb,Oe.lineCap=this.Fa,Oe.lineJoin=this.Ga,Oe.stroke(Xe);break;case Ve:Oe.fillStyle=Nt,Oe.fill(Xe,zt)}}});const gn=new Set;let Je=null,Ut=[],Sn=0,cr=0;var Ui=z.CanvasRenderer=Z.extend("Renderer",{__construct:function(Oe){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Oe.getContext("2d"),this.Ta=Oe,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Oe=this.S.length-6;if(6>Oe)throw"restore() called without matching save().";this.S.splice(Oe),this.H.push(this.B.restore.bind(this.B))},transform:function(Oe,Xe,zt,Jt,Nt,Gt){const ln=this.S,dn=ln.length-6;ln.splice(dn,6,ln[dn]*Oe+ln[dn+2]*Xe,ln[dn+1]*Oe+ln[dn+3]*Xe,ln[dn]*zt+ln[dn+2]*Jt,ln[dn+1]*zt+ln[dn+3]*Jt,ln[dn]*Nt+ln[dn+2]*Gt+ln[dn+4],ln[dn+1]*Nt+ln[dn+3]*Gt+ln[dn+5]),this.H.push(this.B.transform.bind(this.B,Oe,Xe,zt,Jt,Nt,Gt))},rotate:function(Oe){const Xe=Math.sin(Oe);Oe=Math.cos(Oe),this.transform(Oe,Xe,-Xe,Oe,0,0)},_drawPath:function(Oe,Xe){this.H.push(Xe.draw.bind(Xe,this.B,Oe.T,Oe.Ua===st?"evenodd":"nonzero"))},_drawRiveImage:function(Oe,Xe,zt,Jt){var Nt=Oe.Cb;if(Nt){var Gt=this.B,ln=h(zt);this.H.push(function(){Gt.globalCompositeOperation=ln,Gt.globalAlpha=Jt,Gt.drawImage(Nt,0,0),Gt.globalAlpha=1})}},_getMatrix:function(Oe){const Xe=this.S,zt=Xe.length-6;for(let Jt=0;6>Jt;++Jt)Oe[Jt]=Xe[zt+Jt]},_drawImageMesh:function(Oe,Xe,zt,Jt,Nt,Gt,ln,dn,Ri,Cn,Gr){Xe=this.B.canvas.width;var bn=this.B.canvas.height;const as=Cn-dn,nl=Gr-Ri;dn=Math.max(dn,0),Ri=Math.max(Ri,0),Cn=Math.min(Cn,Xe),Gr=Math.min(Gr,bn);const La=Cn-dn,Ua=Gr-Ri;if(console.assert(La<=Math.min(as,Xe)),console.assert(Ua<=Math.min(nl,bn)),!(0>=La||0>=Ua)){Cn=La<as||Ua<nl,Xe=Gr=1;var Ca=Math.ceil(La*Gr),Ii=Math.ceil(Ua*Xe);bn=H.ac(),Ca>bn&&(Gr*=bn/Ca,Ca=bn),Ii>bn&&(Xe*=bn/Ii,Ii=bn),Je||(Je=new z.DynamicRectanizer(bn),Je.reset(512,512)),bn=Je.addRect(Ca,Ii),0>bn&&(v(),gn.add(this),bn=Je.addRect(Ca,Ii),console.assert(0<=bn));var su=bn&65535,Ro=bn>>16;Ut.push({ga:this.S.slice(this.S.length-6),image:Oe,Ya:su,Za:Ro,bc:dn,cc:Ri,tc:Ca,ib:Ii,za:Gr,Aa:Xe,Sa:new Float32Array(Nt),Ab:new Float32Array(Gt),indices:new Uint16Array(ln),fc:Cn,ub:Oe.Ia<<1|(Cn?1:0)}),Sn+=Nt.length,cr+=ln.length;var Zi=this.B,Rh=h(zt);this.H.push(function(){Zi.save(),Zi.resetTransform(),Zi.globalCompositeOperation=Rh,Zi.globalAlpha=Jt;const vi=H.canvas();vi&&Zi.drawImage(vi,su,Ro,Ca,Ii,dn,Ri,La,Ua),Zi.restore()})}},_clipPath:function(Oe){this.H.push(this.B.clip.bind(this.B,Oe.T,Oe.Ua===st?"evenodd":"nonzero"))},clear:function(){gn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Oe,Xe){this.transform(1,0,0,1,Oe,Xe)}});z.makeRenderer=function(Oe){const Xe=new Ui(Oe),zt=Xe.B;return new Proxy(Xe,{get(Jt,Nt){if(typeof Jt[Nt]=="function")return function(...Gt){return Jt[Nt].apply(Jt,Gt)};if(typeof zt[Nt]=="function"){if(-1<Y.indexOf(Nt))throw Error("RiveException: Method call to '"+Nt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Gt){Xe.H.push(zt[Nt].bind(zt,...Gt))}}return Jt[Nt]},set(Jt,Nt,Gt){if(Nt in zt)return Xe.H.push(()=>{zt[Nt]=Gt}),!0}})},z.decodeImage=function(Oe,Xe){new Fe({ka:Xe}).decode(Oe)},z.renderFactory={makeRenderPaint:function(){return new Ye},makeRenderPath:function(){return new rt},makeRenderImage:function(){let Oe=Ji;return new Fe({va:()=>{Oe.total++},ka:()=>{if(Oe.loaded++,Oe.loaded===Oe.total){const Xe=Oe.ready;Xe&&(Xe(),Oe.ready=null)}}})}};let Ht=z.load,Ji=null;z.load=function(Oe,Xe,zt=!0){const Jt=new z.FallbackFileAssetLoader;return Xe!==void 0&&Jt.addLoader(Xe),zt&&(Xe=new z.CDNFileAssetLoader,Jt.addLoader(Xe)),new Promise(function(Nt){let Gt=null;Ji={total:0,loaded:0,ready:function(){Nt(Gt)}},Gt=Ht(Oe,Jt),Ji.total==0&&Nt(Gt)})};let is=z.RendererWrapper.prototype.align;z.RendererWrapper.prototype.align=function(Oe,Xe,zt,Jt,Nt=1){is.call(this,Oe,Xe,zt,Jt,Nt)},S=new et,z.requestAnimationFrame=S.requestAnimationFrame.bind(S),z.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),z.enableFPSCounter=S.Nb.bind(S),z.disableFPSCounter=S.Kb,S.nb=v,z.resolveAnimationFrame=v,z.cleanup=function(){Je&&Je.delete()}};var q=Object.assign({},z),I="./this.program",P="",N,Q;(j||Ue)&&(Ue?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),O&&(P=O),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),Ue&&(Q=h=>{var d=new XMLHttpRequest;return d.open("GET",h,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),N=(h,d,v)=>{if(Mr(h)){var S=new XMLHttpRequest;S.open("GET",h,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):v()},S.onerror=v,S.send(null)}else fetch(h,{credentials:"same-origin"}).then(D=>D.ok?D.arrayBuffer():Promise.reject(Error(D.status+" : "+D.url))).then(d,v)});var ie=z.print||console.log.bind(console),B=z.printErr||console.error.bind(console);Object.assign(z,q),q=null,z.thisProgram&&(I=z.thisProgram);var $;z.wasmBinary&&($=z.wasmBinary);var me,he=!1,Ce,U,oe,Ne,Ae,xe,tt,mt;function Dt(){var h=me.buffer;z.HEAP8=Ce=new Int8Array(h),z.HEAP16=oe=new Int16Array(h),z.HEAPU8=U=new Uint8Array(h),z.HEAPU16=Ne=new Uint16Array(h),z.HEAP32=Ae=new Int32Array(h),z.HEAPU32=xe=new Uint32Array(h),z.HEAPF32=tt=new Float32Array(h),z.HEAPF64=mt=new Float64Array(h)}var lt=[],Pt=[],Bt=[];function ct(){var h=z.preRun.shift();lt.unshift(h)}var It=0,Wt=null;function Qt(h){throw z.onAbort?.(h),h="Aborted("+h+")",B(h),he=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),be(h),h}var Wn=h=>h.startsWith("data:application/octet-stream;base64,"),Mr=h=>h.startsWith("file://"),Kt;function Ke(h){if(h==Kt&&$)return new Uint8Array($);if(Q)return Q(h);throw"both async and sync fetching of the wasm failed"}function St(h){return $?Promise.resolve().then(()=>Ke(h)):new Promise((d,v)=>{N(h,S=>d(new Uint8Array(S)),()=>{try{d(Ke(h))}catch(S){v(S)}})})}function sn(h,d,v){return St(h).then(S=>WebAssembly.instantiate(S,d)).then(v,S=>{B(`failed to asynchronously prepare wasm: ${S}`),Qt(S)})}function vt(h,d){var v=Kt;return $||typeof WebAssembly.instantiateStreaming!="function"||Wn(v)||Mr(v)||typeof fetch!="function"?sn(v,h,d):fetch(v,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,h).then(d,function(D){return B(`wasm streaming compile failed: ${D}`),B("falling back to ArrayBuffer instantiation"),sn(v,h,d)}))}var wn,_t,Tn={467618:(h,d,v,S,D)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=h,window.h.I.capture=d,window.h.I.Ja=v,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=D;let F=window.h;F.D=[],F.rc=function(Z){for(var ee=0;ee<F.D.length;++ee)if(F.D[ee]==null)return F.D[ee]=Z,ee;return F.D.push(Z),F.D.length-1},F.zb=function(Z){for(F.D[Z]=null;0<F.D.length&&F.D[F.D.length-1]==null;)F.D.pop()},F.Oc=function(Z){for(var ee=0;ee<F.D.length;++ee)if(F.D[ee]==Z)return F.zb(ee)},F.pa=function(Z){return F.D[Z]},F.Ra=["touchend","click"],F.unlock=function(){for(var Z=0;Z<F.D.length;++Z){var ee=F.D[Z];ee!=null&&ee.K!=null&&ee.state===F.fa.vb&&ee.K.resume().then(()=>{Co(ee.ob)},fe=>{console.error("Failed to resume audiocontext",fe)})}F.Ra.map(function(fe){document.removeEventListener(fe,F.unlock,!0)})},F.Ra.map(function(Z){document.addEventListener(Z,F.unlock,!0)})}return window.h.ya+=1,1},469796:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(h){document.removeEventListener(h,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},470100:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,470204:()=>{try{var h=new(window.AudioContext||window.webkitAudioContext),d=h.sampleRate;return h.close(),d}catch{return 0}},470375:(h,d,v,S,D,F)=>{if(typeof window.h>"u")return-1;var Z={},ee={};return h==window.h.I.wa&&v!=0&&(ee.sampleRate=v),Z.K=new(window.AudioContext||window.webkitAudioContext)(ee),Z.K.suspend(),Z.state=window.h.fa.stopped,v=0,h!=window.h.I.wa&&(v=d),Z.Y=Z.K.createScriptProcessor(S,v,d),Z.Y.onaudioprocess=function(fe){if((Z.qa==null||Z.qa.length==0)&&(Z.qa=new Float32Array(tt.buffer,D,S*d)),h==window.h.I.capture||h==window.h.I.Ja){for(var ue=0;ue<d;ue+=1)for(var Ve=fe.inputBuffer.getChannelData(ue),$e=Z.qa,st=0;st<S;st+=1)$e[st*d+ue]=Ve[st];iu(F,S,D)}if(h==window.h.I.wa||h==window.h.I.Ja)for(au(F,S,D),ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)for(Ve=fe.outputBuffer.getChannelData(ue),$e=Z.qa,st=0;st<S;st+=1)Ve[st]=$e[st*d+ue];else for(ue=0;ue<fe.outputBuffer.numberOfChannels;++ue)fe.outputBuffer.getChannelData(ue).fill(0)},h!=window.h.I.capture&&h!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(fe){Z.Ba=Z.K.createMediaStreamSource(fe),Z.Ba.connect(Z.Y),Z.Y.connect(Z.K.destination)}).catch(function(fe){console.log("Failed to get user media: "+fe)}),h==window.h.I.wa&&Z.Y.connect(Z.K.destination),Z.ob=F,window.h.rc(Z)},473252:h=>window.h.pa(h).K.sampleRate,473325:h=>{h=window.h.pa(h),h.Y!==void 0&&(h.Y.onaudioprocess=function(){},h.Y.disconnect(),h.Y=void 0),h.Ba!==void 0&&(h.Ba.disconnect(),h.Ba=void 0),h.K.close(),h.K=void 0,h.ob=void 0},473725:h=>{window.h.zb(h)},473775:h=>{h=window.h.pa(h),h.K.resume(),h.state=window.h.fa.vb},473914:h=>{h=window.h.pa(h),h.K.suspend(),h.state=window.h.fa.stopped}},mn=h=>{for(;0<h.length;)h.shift()(z)};function C(){var h=Ae[+ai>>2];return ai+=4,h}var g=(h,d)=>{for(var v=0,S=h.length-1;0<=S;S--){var D=h[S];D==="."?h.splice(S,1):D===".."?(h.splice(S,1),v++):v&&(h.splice(S,1),v--)}if(d)for(;v;v--)h.unshift("..");return h},_=h=>{var d=h.charAt(0)==="/",v=h.substr(-1)==="/";return(h=g(h.split("/").filter(S=>!!S),!d).join("/"))||d||(h="."),h&&v&&(h+="/"),(d?"/":"")+h},V=h=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=d[0],d=d[1],!h&&!d?".":(d&&=d.substr(0,d.length-1),h+d)},J=h=>{if(h==="/")return"/";h=_(h),h=h.replace(/\/$/,"");var d=h.lastIndexOf("/");return d===-1?h:h.substr(d+1)},ge=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return h=>crypto.getRandomValues(h);Qt("initRandomDevice")},Se=h=>(Se=ge())(h),qe=(...h)=>{for(var d="",v=!1,S=h.length-1;-1<=S&&!v;S--){if(v=0<=S?h[S]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";d=v+"/"+d,v=v.charAt(0)==="/"}return d=g(d.split("/").filter(D=>!!D),!v).join("/"),(v?"/":"")+d||"."},We=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Pe=(h,d,v)=>{var S=d+v;for(v=d;h[v]&&!(v>=S);)++v;if(16<v-d&&h.buffer&&We)return We.decode(h.subarray(d,v));for(S="";d<v;){var D=h[d++];if(D&128){var F=h[d++]&63;if((D&224)==192)S+=String.fromCharCode((D&31)<<6|F);else{var Z=h[d++]&63;D=(D&240)==224?(D&15)<<12|F<<6|Z:(D&7)<<18|F<<12|Z<<6|h[d++]&63,65536>D?S+=String.fromCharCode(D):(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else S+=String.fromCharCode(D)}return S},Tt=[],jt=h=>{for(var d=0,v=0;v<h.length;++v){var S=h.charCodeAt(v);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++v):d+=3}return d},Un=(h,d,v,S)=>{if(!(0<S))return 0;var D=v;S=v+S-1;for(var F=0;F<h.length;++F){var Z=h.charCodeAt(F);if(55296<=Z&&57343>=Z){var ee=h.charCodeAt(++F);Z=65536+((Z&1023)<<10)|ee&1023}if(127>=Z){if(v>=S)break;d[v++]=Z}else{if(2047>=Z){if(v+1>=S)break;d[v++]=192|Z>>6}else{if(65535>=Z){if(v+2>=S)break;d[v++]=224|Z>>12}else{if(v+3>=S)break;d[v++]=240|Z>>18,d[v++]=128|Z>>12&63}d[v++]=128|Z>>6&63}d[v++]=128|Z&63}}return d[v]=0,v-D};function Lt(h,d){var v=Array(jt(h)+1);return h=Un(h,v,0,v.length),d&&(v.length=h),v}var Qn=[];function Ft(h,d){Qn[h]={input:[],G:[],V:d},jr(h,Mn)}var Mn={open(h){var d=Qn[h.node.xa];if(!d)throw new Qe(43);h.s=d,h.seekable=!1},close(h){h.s.V.oa(h.s)},oa(h){h.s.V.oa(h.s)},read(h,d,v,S){if(!h.s||!h.s.V.hb)throw new Qe(60);for(var D=0,F=0;F<S;F++){try{var Z=h.s.V.hb(h.s)}catch{throw new Qe(29)}if(Z===void 0&&D===0)throw new Qe(6);if(Z==null)break;D++,d[v+F]=Z}return D&&(h.node.timestamp=Date.now()),D},write(h,d,v,S){if(!h.s||!h.s.V.Ma)throw new Qe(60);try{for(var D=0;D<S;D++)h.s.V.Ma(h.s,d[v+D])}catch{throw new Qe(29)}return S&&(h.node.timestamp=Date.now()),D}},Nn={hb(){e:{if(!Tt.length){var h=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h){h=null;break e}Tt=Lt(h,!0)}h=Tt.shift()}return h},Ma(h,d){d===null||d===10?(ie(Pe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(ie(Pe(h.G,0)),h.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Dn={Ma(h,d){d===null||d===10?(B(Pe(h.G,0)),h.G=[]):d!=0&&h.G.push(d)},oa(h){h.G&&0<h.G.length&&(B(Pe(h.G,0)),h.G=[])}};function on(h,d){var v=h.l?h.l.length:0;v>=d||(d=Math.max(d,v*(1048576>v?2:1.125)>>>0),v!=0&&(d=Math.max(d,256)),v=h.l,h.l=new Uint8Array(d),0<h.v&&h.l.set(v.subarray(0,h.v),0))}var yt={N:null,U(){return yt.createNode(null,"/",16895,0)},createNode(h,d,v,S){if((v&61440)===24576||(v&61440)===4096)throw new Qe(63);return yt.N||(yt.N={dir:{node:{X:yt.j.X,P:yt.j.P,ja:yt.j.ja,ta:yt.j.ta,sb:yt.j.sb,yb:yt.j.yb,tb:yt.j.tb,rb:yt.j.rb,Ca:yt.j.Ca},stream:{aa:yt.m.aa}},file:{node:{X:yt.j.X,P:yt.j.P},stream:{aa:yt.m.aa,read:yt.m.read,write:yt.m.write,Xa:yt.m.Xa,kb:yt.m.kb,mb:yt.m.mb}},link:{node:{X:yt.j.X,P:yt.j.P,la:yt.j.la},stream:{}},$a:{node:{X:yt.j.X,P:yt.j.P},stream:Ar}}),v=Ja(h,d,v,S),(v.mode&61440)===16384?(v.j=yt.N.dir.node,v.m=yt.N.dir.stream,v.l={}):(v.mode&61440)===32768?(v.j=yt.N.file.node,v.m=yt.N.file.stream,v.v=0,v.l=null):(v.mode&61440)===40960?(v.j=yt.N.link.node,v.m=yt.N.link.stream):(v.mode&61440)===8192&&(v.j=yt.N.$a.node,v.m=yt.N.$a.stream),v.timestamp=Date.now(),h&&(h.l[d]=v,h.timestamp=v.timestamp),v},Fc(h){return h.l?h.l.subarray?h.l.subarray(0,h.v):new Uint8Array(h.l):new Uint8Array(0)},j:{X(h){var d={};return d.Dc=(h.mode&61440)===8192?h.id:1,d.Hc=h.id,d.mode=h.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=h.xa,(h.mode&61440)===16384?d.size=4096:(h.mode&61440)===32768?d.size=h.v:(h.mode&61440)===40960?d.size=h.link.length:d.size=0,d.vc=new Date(h.timestamp),d.Jc=new Date(h.timestamp),d.Cc=new Date(h.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(h,d){if(d.mode!==void 0&&(h.mode=d.mode),d.timestamp!==void 0&&(h.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,h.v!=d))if(d==0)h.l=null,h.v=0;else{var v=h.l;h.l=new Uint8Array(d),v&&h.l.set(v.subarray(0,Math.min(d,h.v))),h.v=d}},ja(){throw $a[44]},ta(h,d,v,S){return yt.createNode(h,d,v,S)},sb(h,d,v){if((h.mode&61440)===16384){try{var S=ar(d,v)}catch{}if(S)for(var D in S.l)throw new Qe(55)}delete h.parent.l[h.name],h.parent.timestamp=Date.now(),h.name=v,d.l[v]=h,d.timestamp=h.parent.timestamp},yb(h,d){delete h.l[d],h.timestamp=Date.now()},tb(h,d){var v=ar(h,d),S;for(S in v.l)throw new Qe(55);delete h.l[d],h.timestamp=Date.now()},rb(h){var d=[".",".."],v;for(v of Object.keys(h.l))d.push(v);return d},Ca(h,d,v){return h=yt.createNode(h,d,41471,0),h.link=v,h},la(h){if((h.mode&61440)!==40960)throw new Qe(28);return h.link}},m:{read(h,d,v,S,D){var F=h.node.l;if(D>=h.node.v)return 0;if(h=Math.min(h.node.v-D,S),8<h&&F.subarray)d.set(F.subarray(D,D+h),v);else for(S=0;S<h;S++)d[v+S]=F[D+S];return h},write(h,d,v,S,D,F){if(d.buffer===Ce.buffer&&(F=!1),!S)return 0;if(h=h.node,h.timestamp=Date.now(),d.subarray&&(!h.l||h.l.subarray)){if(F)return h.l=d.subarray(v,v+S),h.v=S;if(h.v===0&&D===0)return h.l=d.slice(v,v+S),h.v=S;if(D+S<=h.v)return h.l.set(d.subarray(v,v+S),D),S}if(on(h,D+S),h.l.subarray&&d.subarray)h.l.set(d.subarray(v,v+S),D);else for(F=0;F<S;F++)h.l[D+F]=d[v+F];return h.v=Math.max(h.v,D+S),S},aa(h,d,v){if(v===1?d+=h.position:v===2&&(h.node.mode&61440)===32768&&(d+=h.node.v),0>d)throw new Qe(28);return d},Xa(h,d,v){on(h.node,d+v),h.node.v=Math.max(h.node.v,d+v)},kb(h,d,v,S,D){if((h.node.mode&61440)!==32768)throw new Qe(43);if(h=h.node.l,D&2||h.buffer!==Ce.buffer){if((0<v||v+d<h.length)&&(h.subarray?h=h.subarray(v,v+d):h=Array.prototype.slice.call(h,v,v+d)),v=!0,Qt(),d=void 0,!d)throw new Qe(48);Ce.set(h,d)}else v=!1,d=h.byteOffset;return{o:d,uc:v}},mb(h,d,v,S){return yt.m.write(h,d,0,S,v,!1),0}}},tr=(h,d)=>{var v=0;return h&&(v|=365),d&&(v|=146),v},On=null,Ot={},Hn=[],Mi=1,Zr=null,ei=!0,Qe=class{constructor(h){this.name="ErrnoError",this.$=h}},$a={},Ur=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(h){this.h.flags=h}get position(){return this.h.position}set position(h){this.h.position=h}},zr=class{constructor(h,d,v,S){h||=this,this.parent=h,this.U=h.U,this.ua=null,this.id=Mi++,this.name=d,this.mode=v,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function An(h,d={}){if(h=qe(h),!h)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new Qe(32);h=h.split("/").filter(Z=>!!Z);for(var v=On,S="/",D=0;D<h.length;D++){var F=D===h.length-1;if(F&&d.parent)break;if(v=ar(v,h[D]),S=_(S+"/"+h[D]),v.ua&&(!F||F&&d.gb)&&(v=v.ua.root),!F||d.fb){for(F=0;(v.mode&61440)===40960;)if(v=Za(S),S=qe(V(S),v),v=An(S,{Oa:d.Oa+1}).node,40<F++)throw new Qe(32)}}return{path:S,node:v}}function Kn(h){for(var d;;){if(h===h.parent)return h=h.U.lb,d?h[h.length-1]!=="/"?`${h}/${d}`:h+d:h;d=d?`${h.name}/${d}`:h.name,h=h.parent}}function ti(h,d){for(var v=0,S=0;S<d.length;S++)v=(v<<5)-v+d.charCodeAt(S)|0;return(h+v>>>0)%Zr.length}function ar(h,d){var v=(h.mode&61440)===16384?(v=Yi(h,"x"))?v:h.j.ja?0:2:54;if(v)throw new Qe(v);for(v=Zr[ti(h.id,d)];v;v=v.ec){var S=v.name;if(v.parent.id===h.id&&S===d)return v}return h.j.ja(h,d)}function Ja(h,d,v,S){return h=new zr(h,d,v,S),d=ti(h.parent.id,h.name),h.ec=Zr[d],Zr[d]=h}function Gi(h){var d=["r","w","rw"][h&3];return h&512&&(d+="w"),d}function Yi(h,d){if(ei)return 0;if(!d.includes("r")||h.mode&292){if(d.includes("w")&&!(h.mode&146)||d.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function Nr(h,d){try{return ar(h,d),20}catch{}return Yi(h,"wx")}function Br(h){if(h=Hn[h],!h)throw new Qe(8);return h}function ni(h,d=-1){if(h=Object.assign(new Ur,h),d==-1)e:{for(d=0;4096>=d;d++)if(!Hn[d])break e;throw new Qe(33)}return h.W=d,Hn[d]=h}function ri(h,d=-1){return h=ni(h,d),h.m?.Ec?.(h),h}var Ar={open(h){h.m=Ot[h.node.xa].m,h.m.open?.(h)},aa(){throw new Qe(70)}};function jr(h,d){Ot[h]={m:d}}function cn(h,d){var v=d==="/";if(v&&On)throw new Qe(10);if(!v&&d){var S=An(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new Qe(10);if((S.mode&61440)!==16384)throw new Qe(54)}d={type:h,Mc:{},lb:d,dc:[]},h=h.U(d),h.U=d,d.root=h,v?On=h:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function Xi(h,d,v){var S=An(h,{parent:!0}).node;if(h=J(h),!h||h==="."||h==="..")throw new Qe(28);var D=Nr(S,h);if(D)throw new Qe(D);if(!S.j.ta)throw new Qe(63);return S.j.ta(S,h,d,v)}function Sr(h){return Xi(h,16895,0)}function Fr(h,d,v){typeof v>"u"&&(v=d,d=438),Xi(h,d|8192,v)}function ii(h,d){if(!qe(h))throw new Qe(44);var v=An(d,{parent:!0}).node;if(!v)throw new Qe(44);d=J(d);var S=Nr(v,d);if(S)throw new Qe(S);if(!v.j.Ca)throw new Qe(63);v.j.Ca(v,d,h)}function Za(h){if(h=An(h).node,!h)throw new Qe(44);if(!h.j.la)throw new Qe(28);return qe(Kn(h.parent),h.j.la(h))}function sa(h,d,v){if(h==="")throw new Qe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(v=d&64?(typeof v>"u"?438:v)&4095|32768:0,typeof h=="object")var D=h;else{h=_(h);try{D=An(h,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(D){if(d&128)throw new Qe(20)}else D=Xi(h,v,0),S=!0;if(!D)throw new Qe(44);if((D.mode&61440)===8192&&(d&=-513),d&65536&&(D.mode&61440)!==16384)throw new Qe(54);if(!S&&(v=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(Gi(d)!=="r"||d&512)?31:Yi(D,Gi(d)):44))throw new Qe(v);if(d&512&&!S){if(v=D,v=typeof v=="string"?An(v,{fb:!0}).node:v,!v.j.P)throw new Qe(63);if((v.mode&61440)===16384)throw new Qe(31);if((v.mode&61440)!==32768)throw new Qe(28);if(S=Yi(v,"w"))throw new Qe(S);v.j.P(v,{size:0,timestamp:Date.now()})}return d&=-131713,D=ni({node:D,path:Kn(D),flags:d,seekable:!0,position:0,m:D.m,sc:[],error:!1}),D.m.open&&D.m.open(D),!z.logReadFiles||d&1||($n||={},h in $n||($n[h]=1)),D}function Oa(h,d,v){if(h.W===null)throw new Qe(8);if(!h.seekable||!h.m.aa)throw new Qe(70);if(v!=0&&v!=1&&v!=2)throw new Qe(28);h.position=h.m.aa(h,d,v),h.sc=[]}var Ea;function fn(h,d,v){h=_("/dev/"+h);var S=tr(!!d,!!v);sr||=64;var D=sr++<<8|0;jr(D,{open(F){F.seekable=!1},close(){v?.buffer?.length&&v(10)},read(F,Z,ee,fe){for(var ue=0,Ve=0;Ve<fe;Ve++){try{var $e=d()}catch{throw new Qe(29)}if($e===void 0&&ue===0)throw new Qe(6);if($e==null)break;ue++,Z[ee+Ve]=$e}return ue&&(F.node.timestamp=Date.now()),ue},write(F,Z,ee,fe){for(var ue=0;ue<fe;ue++)try{v(Z[ee+ue])}catch{throw new Qe(29)}return fe&&(F.node.timestamp=Date.now()),ue}}),Fr(h,S,D)}var sr,_n={},$n,ai=void 0,Ni=(h,d)=>Object.defineProperty(d,"name",{value:h}),$t=[],mr=[],ft,or=h=>{if(!h)throw new ft("Cannot use deleted val. handle = "+h);return mr[h]},zn=h=>{switch(h){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=$t.pop()||mr.length;return mr[d]=h,mr[d+1]=1,d}},wa=h=>{var d=Error,v=Ni(h,function(S){this.name=h,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v},es,ka,pn=h=>{for(var d="";U[h];)d+=ka[U[h++]];return d},oa=[],Di=()=>{for(;oa.length;){var h=oa.pop();h.g.ea=!1,h.delete()}},nr,si={},Wi=(h,d)=>{if(d===void 0)throw new ft("ptr should not be undefined");for(;h.C;)d=h.ma(d),h=h.C;return d},oi={},Ta=h=>{h=bc(h);var d=pn(h);return Ci(h),d},la=(h,d)=>{var v=oi[h];if(v===void 0)throw h=`${d} has unknown type ${Ta(h)}`,new ft(h);return v},li=()=>{},Qi=!1,Hr=(h,d,v)=>d===v?h:v.C===void 0?null:(h=Hr(h,d,v.C),h===null?null:v.Lb(h)),Va={},ui=(h,d)=>(d=Wi(h,d),si[d]),ci,Dr=(h,d)=>{if(!d.u||!d.o)throw new ci("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new ci("Both smartPtrType and smartPtr must be specified");return d.count={value:1},fi(Object.create(h,{g:{value:d,writable:!0}}))},fi=h=>typeof FinalizationRegistry>"u"?(fi=d=>d,h):(Qi=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),fi=d=>{var v=d.g;return v.F&&Qi.register(d,{g:v},d),d},li=d=>{Qi.unregister(d)},fi(h)),Oi={},hi=h=>{for(;h.length;){var d=h.pop();h.pop()(d)}};function Cr(h){return this.fromWireType(xe[h>>2])}var lr={},ki={},Et=(h,d,v)=>{function S(ee){if(ee=v(ee),ee.length!==h.length)throw new ci("Mismatched type converter count");for(var fe=0;fe<h.length;++fe)Rr(h[fe],ee[fe])}h.forEach(function(ee){ki[ee]=d});var D=Array(d.length),F=[],Z=0;d.forEach((ee,fe)=>{oi.hasOwnProperty(ee)?D[fe]=oi[ee]:(F.push(ee),lr.hasOwnProperty(ee)||(lr[ee]=[]),lr[ee].push(()=>{D[fe]=oi[ee],++Z,Z===F.length&&S(D)}))}),F.length===0&&S(D)};function Vi(h,d,v={}){var S=d.name;if(!h)throw new ft(`type "${S}" must have a positive integer typeid pointer`);if(oi.hasOwnProperty(h)){if(v.Vb)return;throw new ft(`Cannot register type '${S}' twice`)}oi[h]=d,delete ki[h],lr.hasOwnProperty(h)&&(d=lr[h],delete lr[h],d.forEach(D=>D()))}function Rr(h,d,v={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Vi(h,d,v)}var Ki=h=>{throw new ft(h.g.u.i.name+" instance already deleted")};function ua(){}var pr=(h,d,v)=>{if(h[d].A===void 0){var S=h[d];h[d]=function(...D){if(!h[d].A.hasOwnProperty(D.length))throw new ft(`Function '${v}' called with an invalid number of arguments (${D.length}) - expects one of (${h[d].A})!`);return h[d].A[D.length].apply(this,D)},h[d].A=[],h[d].A[S.da]=S}},di=(h,d,v)=>{if(z.hasOwnProperty(h)){if(v===void 0||z[h].A!==void 0&&z[h].A[v]!==void 0)throw new ft(`Cannot register public name '${h}' twice`);if(pr(z,h,h),z.hasOwnProperty(v))throw new ft(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`);z[h].A[v]=d}else z[h]=d,v!==void 0&&(z[h].Lc=v)},mi=h=>{if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var d=h.charCodeAt(0);return 48<=d&&57>=d?`_${h}`:h};function ur(h,d,v,S,D,F,Z,ee){this.name=h,this.constructor=d,this.M=v,this.O=S,this.C=D,this.Qb=F,this.ma=Z,this.Lb=ee,this.pb=[]}var pi=(h,d,v)=>{for(;d!==v;){if(!d.ma)throw new ft(`Expected null or instance of ${v.name}, got an instance of ${d.name}`);h=d.ma(h),d=d.C}return h};function gi(h,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);return pi(d.g.o,d.g.u.i,this.i)}function W(h,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);if(this.sa){var v=this.Na();return h!==null&&h.push(this.O,v),v}return 0}if(!d||!d.g)throw new ft(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(v=pi(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new ft("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)v=d.g.F;else throw new ft(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:v=d.g.F;break;case 2:if(d.g.J===this)v=d.g.F;else{var S=d.clone();v=this.ic(v,zn(()=>S.delete())),h!==null&&h.push(this.O,v)}break;default:throw new ft("Unsupporting sharing policy")}}return v}function ae(h,d){if(d===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new ft(`Cannot pass "${Os(d)}" as a ${this.name}`);if(!d.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new ft(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return pi(d.g.o,d.g.u.i,this.i)}function Ee(h,d,v,S,D,F,Z,ee,fe,ue,Ve){this.name=h,this.i=d,this.La=v,this.ra=S,this.sa=D,this.hc=F,this.mc=Z,this.qb=ee,this.Na=fe,this.ic=ue,this.O=Ve,D||d.C!==void 0?this.toWireType=W:(this.toWireType=S?gi:ae,this.L=null)}var _e=(h,d,v)=>{if(!z.hasOwnProperty(h))throw new ci("Replacing nonexistent public symbol");z[h].A!==void 0&&v!==void 0?z[h].A[v]=d:(z[h]=d,z[h].da=v)},ve=[],He,Ge=h=>{var d=ve[h];return d||(h>=ve.length&&(ve.length=h+1),ve[h]=d=He.get(h)),d},ze=(h,d,v=[])=>(h.includes("j")?(h=h.replace(/p/g,"i"),d=(0,z["dynCall_"+h])(d,...v)):d=Ge(d)(...v),d),ht=(h,d)=>(...v)=>ze(h,d,v),ke=(h,d)=>{h=pn(h);var v=h.includes("j")?ht(h,d):Ge(d);if(typeof v!="function")throw new ft(`unknown function pointer with signature ${h}: ${d}`);return v},nt,qt=(h,d)=>{function v(F){D[F]||oi[F]||(ki[F]?ki[F].forEach(v):(S.push(F),D[F]=!0))}var S=[],D={};throw d.forEach(v),new nt(`${h}: `+S.map(Ta).join([", "]))};function Or(h){for(var d=1;d<h.length;++d)if(h[d]!==null&&h[d].L===void 0)return!0;return!1}function gr(h,d,v,S,D){var F=d.length;if(2>F)throw new ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var Z=d[1]!==null&&v!==null,ee=Or(d),fe=d[0].name!=="void",ue=F-2,Ve=Array(ue),$e=[],st=[];return Ni(h,function(...ne){if(ne.length!==ue)throw new ft(`function ${h} called with ${ne.length} arguments, expected ${ue}`);if(st.length=0,$e.length=Z?2:1,$e[0]=D,Z){var Fe=d[1].toWireType(st,this);$e[1]=Fe}for(var rt=0;rt<ue;++rt)Ve[rt]=d[rt+2].toWireType(st,ne[rt]),$e.push(Ve[rt]);if(ne=S(...$e),ee)hi(st);else for(rt=Z?1:2;rt<d.length;rt++){var Ye=rt===1?Fe:Ve[rt-2];d[rt].L!==null&&d[rt].L(Ye)}return Fe=fe?d[0].fromWireType(ne):void 0,Fe})}var Aa=(h,d)=>{for(var v=[],S=0;S<h;S++)v.push(xe[d+4*S>>2]);return v},Ai=h=>{h=h.trim();const d=h.indexOf("(");return d!==-1?h.substr(0,d):h},$i=(h,d,v)=>{if(!(h instanceof Object))throw new ft(`${v} with invalid "this": ${h}`);if(!(h instanceof d.i.constructor))throw new ft(`${v} incompatible with "this" of type ${h.constructor.name}`);if(!h.g.o)throw new ft(`cannot call emscripten binding method ${v} on deleted object`);return pi(h.g.o,h.g.u.i,d.i)},Ds=h=>{9<h&&--mr[h+1]===0&&(mr[h]=void 0,$t.push(h))},$o={name:"emscripten::val",fromWireType:h=>{var d=or(h);return Ds(h),d},toWireType:(h,d)=>zn(d),argPackAdvance:8,readValueFromPointer:Cr,L:null},Jo=(h,d,v)=>{switch(d){case 1:return v?function(S){return this.fromWireType(Ce[S])}:function(S){return this.fromWireType(U[S])};case 2:return v?function(S){return this.fromWireType(oe[S>>1])}:function(S){return this.fromWireType(Ne[S>>1])};case 4:return v?function(S){return this.fromWireType(Ae[S>>2])}:function(S){return this.fromWireType(xe[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},Os=h=>{if(h===null)return"null";var d=typeof h;return d==="object"||d==="array"||d==="function"?h.toString():""+h},Pa=(h,d)=>{switch(d){case 4:return function(v){return this.fromWireType(tt[v>>2])};case 8:return function(v){return this.fromWireType(mt[v>>3])};default:throw new TypeError(`invalid float width (${d}): ${h}`)}},qr=(h,d,v)=>{switch(d){case 1:return v?S=>Ce[S]:S=>U[S];case 2:return v?S=>oe[S>>1]:S=>Ne[S>>1];case 4:return v?S=>Ae[S>>2]:S=>xe[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${h}`)}},So=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Zo=(h,d)=>{for(var v=h>>1,S=v+d/2;!(v>=S)&&Ne[v];)++v;if(v<<=1,32<v-h&&So)return So.decode(U.subarray(h,v));for(v="",S=0;!(S>=d/2);++S){var D=oe[h+2*S>>1];if(D==0)break;v+=String.fromCharCode(D)}return v},Sa=(h,d,v)=>{if(v??=2147483647,2>v)return 0;v-=2;var S=d;v=v<2*h.length?v/2:h.length;for(var D=0;D<v;++D)oe[d>>1]=h.charCodeAt(D),d+=2;return oe[d>>1]=0,d-S},u=h=>2*h.length,y=(h,d)=>{for(var v=0,S="";!(v>=d/4);){var D=Ae[h+4*v>>2];if(D==0)break;++v,65536<=D?(D-=65536,S+=String.fromCharCode(55296|D>>10,56320|D&1023)):S+=String.fromCharCode(D)}return S},A=(h,d,v)=>{if(v??=2147483647,4>v)return 0;var S=d;v=S+v-4;for(var D=0;D<h.length;++D){var F=h.charCodeAt(D);if(55296<=F&&57343>=F){var Z=h.charCodeAt(++D);F=65536+((F&1023)<<10)|Z&1023}if(Ae[d>>2]=F,d+=4,d+4>v)break}return Ae[d>>2]=0,d-S},k=h=>{for(var d=0,v=0;v<h.length;++v){var S=h.charCodeAt(v);55296<=S&&57343>=S&&++v,d+=4}return d},se=(h,d,v)=>{var S=[];return h=h.toWireType(S,v),S.length&&(xe[d>>2]=zn(S)),h},pe={},je=h=>{var d=pe[h];return d===void 0?pn(h):d},Ct=[],Zn=h=>{var d=Ct.length;return Ct.push(h),d},hn=(h,d)=>{for(var v=Array(h),S=0;S<h;++S)v[S]=la(xe[d+4*S>>2],"parameter "+S);return v},jn=Reflect.construct,yi=[],Pi={},Li=()=>{if(!Si){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},d;for(d in Pi)Pi[d]===void 0?delete h[d]:h[d]=Pi[d];var v=[];for(d in h)v.push(`${d}=${h[d]}`);Si=v}return Si},Si,ca=h=>h%4===0&&(h%100!==0||h%400===0),ts=[31,29,31,30,31,30,31,31,30,31,30,31],ns=[31,28,31,30,31,30,31,31,30,31,30,31],Ch=(h,d,v,S)=>{function D(ne,Fe,rt){for(ne=typeof ne=="number"?ne.toString():ne||"";ne.length<Fe;)ne=rt[0]+ne;return ne}function F(ne,Fe){return D(ne,Fe,"0")}function Z(ne,Fe){function rt(gn){return 0>gn?-1:0<gn?1:0}var Ye;return(Ye=rt(ne.getFullYear()-Fe.getFullYear()))===0&&(Ye=rt(ne.getMonth()-Fe.getMonth()))===0&&(Ye=rt(ne.getDate()-Fe.getDate())),Ye}function ee(ne){switch(ne.getDay()){case 0:return new Date(ne.getFullYear()-1,11,29);case 1:return ne;case 2:return new Date(ne.getFullYear(),0,3);case 3:return new Date(ne.getFullYear(),0,2);case 4:return new Date(ne.getFullYear(),0,1);case 5:return new Date(ne.getFullYear()-1,11,31);case 6:return new Date(ne.getFullYear()-1,11,30)}}function fe(ne){var Fe=ne.ba;for(ne=new Date(new Date(ne.ca+1900,0,1).getTime());0<Fe;){var rt=ne.getMonth(),Ye=(ca(ne.getFullYear())?ts:ns)[rt];if(Fe>Ye-ne.getDate())Fe-=Ye-ne.getDate()+1,ne.setDate(1),11>rt?ne.setMonth(rt+1):(ne.setMonth(0),ne.setFullYear(ne.getFullYear()+1));else{ne.setDate(ne.getDate()+Fe);break}}return rt=new Date(ne.getFullYear()+1,0,4),Fe=ee(new Date(ne.getFullYear(),0,4)),rt=ee(rt),0>=Z(Fe,ne)?0>=Z(rt,ne)?ne.getFullYear()+1:ne.getFullYear():ne.getFullYear()-1}var ue=xe[S+40>>2];S={pc:Ae[S>>2],oc:Ae[S+4>>2],Da:Ae[S+8>>2],Qa:Ae[S+12>>2],Ea:Ae[S+16>>2],ca:Ae[S+20>>2],R:Ae[S+24>>2],ba:Ae[S+28>>2],Nc:Ae[S+32>>2],nc:Ae[S+36>>2],qc:ue&&ue?Pe(U,ue):""},v=v?Pe(U,v):"",ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ve in ue)v=v.replace(new RegExp(Ve,"g"),ue[Ve]);var $e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");ue={"%a":ne=>$e[ne.R].substring(0,3),"%A":ne=>$e[ne.R],"%b":ne=>st[ne.Ea].substring(0,3),"%B":ne=>st[ne.Ea],"%C":ne=>F((ne.ca+1900)/100|0,2),"%d":ne=>F(ne.Qa,2),"%e":ne=>D(ne.Qa,2," "),"%g":ne=>fe(ne).toString().substring(2),"%G":fe,"%H":ne=>F(ne.Da,2),"%I":ne=>(ne=ne.Da,ne==0?ne=12:12<ne&&(ne-=12),F(ne,2)),"%j":ne=>{for(var Fe=0,rt=0;rt<=ne.Ea-1;Fe+=(ca(ne.ca+1900)?ts:ns)[rt++]);return F(ne.Qa+Fe,3)},"%m":ne=>F(ne.Ea+1,2),"%M":ne=>F(ne.oc,2),"%n":()=>`
`,"%p":ne=>0<=ne.Da&&12>ne.Da?"AM":"PM","%S":ne=>F(ne.pc,2),"%t":()=>"	","%u":ne=>ne.R||7,"%U":ne=>F(Math.floor((ne.ba+7-ne.R)/7),2),"%V":ne=>{var Fe=Math.floor((ne.ba+7-(ne.R+6)%7)/7);if(2>=(ne.R+371-ne.ba-2)%7&&Fe++,Fe)Fe==53&&(rt=(ne.R+371-ne.ba)%7,rt==4||rt==3&&ca(ne.ca)||(Fe=1));else{Fe=52;var rt=(ne.R+7-ne.ba-1)%7;(rt==4||rt==5&&ca(ne.ca%400-1))&&Fe++}return F(Fe,2)},"%w":ne=>ne.R,"%W":ne=>F(Math.floor((ne.ba+7-(ne.R+6)%7)/7),2),"%y":ne=>(ne.ca+1900).toString().substring(2),"%Y":ne=>ne.ca+1900,"%z":ne=>{ne=ne.nc;var Fe=0<=ne;return ne=Math.abs(ne)/60,(Fe?"+":"-")+("0000"+(ne/60*100+ne%60)).slice(-4)},"%Z":ne=>ne.qc,"%%":()=>"%"},v=v.replace(/%%/g,"\0\0");for(Ve in ue)v.includes(Ve)&&(v=v.replace(new RegExp(Ve,"g"),ue[Ve](S)));return v=v.replace(/\0\0/g,"%"),Ve=Lt(v,!1),Ve.length>d?0:(Ce.set(Ve,h),Ve.length-1)};[44].forEach(h=>{$a[h]=new Qe(h),$a[h].stack="<generic error, no stack>"}),Zr=Array(4096),cn(yt,"/"),Sr("/tmp"),Sr("/home"),Sr("/home/web_user"),(function(){Sr("/dev"),jr(259,{read:()=>0,write:(S,D,F,Z)=>Z}),Fr("/dev/null",259),Ft(1280,Nn),Ft(1536,Dn),Fr("/dev/tty",1280),Fr("/dev/tty1",1536);var h=new Uint8Array(1024),d=0,v=()=>(d===0&&(d=Se(h).byteLength),h[--d]);fn("random",v),fn("urandom",v),Sr("/dev/shm"),Sr("/dev/shm/tmp")})(),(function(){Sr("/proc");var h=Sr("/proc/self");Sr("/proc/self/fd"),cn({U(){var d=Ja(h,"fd",16895,73);return d.j={ja(v,S){var D=Br(+S);return v={parent:null,U:{lb:"fake"},j:{la:()=>D.path}},v.parent=v}},d}},"/proc/self/fd")})(),ft=z.BindingError=class extends Error{constructor(h){super(h),this.name="BindingError"}},mr.push(0,1,void 0,1,null,1,!0,1,!1,1),z.count_emval_handles=()=>mr.length/2-5-$t.length,es=z.PureVirtualError=wa("PureVirtualError");for(var _c=Array(256),el=0;256>el;++el)_c[el]=String.fromCharCode(el);ka=_c,z.getInheritedInstanceCount=()=>Object.keys(si).length,z.getLiveInheritedInstances=()=>{var h=[],d;for(d in si)si.hasOwnProperty(d)&&h.push(si[d]);return h},z.flushPendingDeletes=Di,z.setDelayFunction=h=>{nr=h,oa.length&&nr&&nr(Di)},ci=z.InternalError=class extends Error{constructor(h){super(h),this.name="InternalError"}},Object.assign(ua.prototype,{isAliasOf:function(h){if(!(this instanceof ua&&h instanceof ua))return!1;var d=this.g.u.i,v=this.g.o;h.g=h.g;var S=h.g.u.i;for(h=h.g.o;d.C;)v=d.ma(v),d=d.C;for(;S.C;)h=S.ma(h),S=S.C;return d===S&&v===h},clone:function(){if(this.g.o||Ki(this),this.g.ha)return this.g.count.value+=1,this;var h=fi,d=Object,v=d.create,S=Object.getPrototypeOf(this),D=this.g;return h=h(v.call(d,S,{g:{value:{count:D.count,ea:D.ea,ha:D.ha,o:D.o,u:D.u,F:D.F,J:D.J}}})),h.g.count.value+=1,h.g.ea=!1,h},delete(){if(this.g.o||Ki(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");li(this);var h=this.g;--h.count.value,h.count.value===0&&(h.F?h.J.O(h.F):h.u.i.O(h.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Ki(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");return oa.push(this),oa.length===1&&nr&&nr(Di),this.g.ea=!0,this}}),Object.assign(Ee.prototype,{Rb(h){return this.qb&&(h=this.qb(h)),h},ab(h){this.O?.(h)},argPackAdvance:8,readValueFromPointer:Cr,fromWireType:function(h){function d(){return this.sa?Dr(this.i.M,{u:this.hc,o:v,J:this,F:h}):Dr(this.i.M,{u:this,o:h})}var v=this.Rb(h);if(!v)return this.ab(h),null;var S=ui(this.i,v);if(S!==void 0)return S.g.count.value===0?(S.g.o=v,S.g.F=h,S.clone()):(S=S.clone(),this.ab(h),S);if(S=this.i.Qb(v),S=Va[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var D=Hr(v,this.i,S.i);return D===null?d.call(this):this.sa?Dr(S.i.M,{u:S,o:D,J:this,F:h}):Dr(S.i.M,{u:S,o:D})}}),nt=z.UnboundTypeError=wa("UnboundTypeError");var ru={__syscall_fcntl64:function(h,d,v){ai=v;try{var S=Br(h);switch(d){case 0:var D=C();if(0>D)break;for(;Hn[D];)D++;return ri(S,D).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return D=C(),S.flags|=D,0;case 12:return D=C(),oe[D+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(F){if(typeof _n>"u"||F.name!=="ErrnoError")throw F;return-F.$}},__syscall_ioctl:function(h,d,v){ai=v;try{var S=Br(h);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){h=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var D=C();Ae[D>>2]=25856,Ae[D+4>>2]=5,Ae[D+8>>2]=191,Ae[D+12>>2]=35387;for(var F=0;32>F;F++)Ce[D+F+17]=h[F]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(D=C(),h=[],F=0;32>F;F++)h.push(Ce[D+F+17]);return 0;case 21519:return S.s?(D=C(),Ae[D>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(D=C(),!S.m.Wb)throw new Qe(59);return S.m.Wb(S,d,D);case 21523:return S.s?(S.s.V.Zb&&(F=[24,80],D=C(),oe[D>>1]=F[0],oe[D+2>>1]=F[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(Z){if(typeof _n>"u"||Z.name!=="ErrnoError")throw Z;return-Z.$}},__syscall_openat:function(h,d,v,S){ai=S;try{d=d?Pe(U,d):"";var D=d;if(D.charAt(0)==="/")d=D;else{var F=h===-100?"/":Br(h).path;if(D.length==0)throw new Qe(44);d=_(F+"/"+D)}var Z=S?C():0;return sa(d,v,Z).W}catch(ee){if(typeof _n>"u"||ee.name!=="ErrnoError")throw ee;return-ee.$}},_abort_js:()=>{Qt("")},_embind_create_inheriting_constructor:(h,d,v)=>{h=pn(h),d=la(d,"wrapper"),v=or(v);var S=d.i,D=S.M,F=S.C.M,Z=S.C.constructor;return h=Ni(h,function(...ee){S.C.pb.forEach((function(fe){if(this[fe]===F[fe])throw new es(`Pure virtual function ${fe} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:D}),this.__construct(...ee)}),D.__construct=function(...ee){if(this===D)throw new ft("Pass correct 'this' to __construct");ee=Z.implement(this,...ee),li(ee);var fe=ee.g;if(ee.notifyOnDestruction(),fe.ha=!0,Object.defineProperties(this,{g:{value:fe}}),fi(this),ee=fe.o,ee=Wi(S,ee),si.hasOwnProperty(ee))throw new ft(`Tried to register registered instance: ${ee}`);si[ee]=this},D.__destruct=function(){if(this===D)throw new ft("Pass correct 'this' to __destruct");li(this);var ee=this.g.o;if(ee=Wi(S,ee),si.hasOwnProperty(ee))delete si[ee];else throw new ft(`Tried to unregister unregistered instance: ${ee}`)},h.prototype=Object.create(D),Object.assign(h.prototype,v),zn(h)},_embind_finalize_value_object:h=>{var d=Oi[h];delete Oi[h];var v=d.Na,S=d.O,D=d.eb,F=D.map(Z=>Z.Ub).concat(D.map(Z=>Z.kc));Et([h],F,Z=>{var ee={};return D.forEach((fe,ue)=>{var Ve=Z[ue],$e=fe.Sb,st=fe.Tb,ne=Z[ue+D.length],Fe=fe.jc,rt=fe.lc;ee[fe.Ob]={read:Ye=>Ve.fromWireType($e(st,Ye)),write:(Ye,gn)=>{var Je=[];Fe(rt,Ye,ne.toWireType(Je,gn)),hi(Je)}}}),[{name:d.name,fromWireType:fe=>{var ue={},Ve;for(Ve in ee)ue[Ve]=ee[Ve].read(fe);return S(fe),ue},toWireType:(fe,ue)=>{for(var Ve in ee)if(!(Ve in ue))throw new TypeError(`Missing field: "${Ve}"`);var $e=v();for(Ve in ee)ee[Ve].write($e,ue[Ve]);return fe!==null&&fe.push(S,$e),$e},argPackAdvance:8,readValueFromPointer:Cr,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(h,d,v,S)=>{d=pn(d),Rr(h,{name:d,fromWireType:function(D){return!!D},toWireType:function(D,F){return F?v:S},argPackAdvance:8,readValueFromPointer:function(D){return this.fromWireType(U[D])},L:null})},_embind_register_class:(h,d,v,S,D,F,Z,ee,fe,ue,Ve,$e,st)=>{Ve=pn(Ve),F=ke(D,F),ee&&=ke(Z,ee),ue&&=ke(fe,ue),st=ke($e,st);var ne=mi(Ve);di(ne,function(){qt(`Cannot construct ${Ve} due to unbound types`,[S])}),Et([h,d,v],S?[S]:[],Fe=>{if(Fe=Fe[0],S)var rt=Fe.i,Ye=rt.M;else Ye=ua.prototype;Fe=Ni(Ve,function(...Sn){if(Object.getPrototypeOf(this)!==gn)throw new ft("Use 'new' to construct "+Ve);if(Je.Z===void 0)throw new ft(Ve+" has no accessible constructor");var cr=Je.Z[Sn.length];if(cr===void 0)throw new ft(`Tried to invoke ctor of ${Ve} with invalid number of parameters (${Sn.length}) - expected (${Object.keys(Je.Z).toString()}) parameters instead!`);return cr.apply(this,Sn)});var gn=Object.create(Ye,{constructor:{value:Fe}});Fe.prototype=gn;var Je=new ur(Ve,Fe,gn,st,rt,F,ee,ue);if(Je.C){var Ut;(Ut=Je.C).na??(Ut.na=[]),Je.C.na.push(Je)}return rt=new Ee(Ve,Je,!0,!1,!1),Ut=new Ee(Ve+"*",Je,!1,!1,!1),Ye=new Ee(Ve+" const*",Je,!1,!0,!1),Va[h]={pointerType:Ut,Hb:Ye},_e(ne,Fe),[rt,Ut,Ye]})},_embind_register_class_class_function:(h,d,v,S,D,F,Z)=>{var ee=Aa(v,S);d=pn(d),d=Ai(d),F=ke(D,F),Et([],[h],fe=>{function ue(){qt(`Cannot call ${Ve} due to unbound types`,ee)}fe=fe[0];var Ve=`${fe.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var $e=fe.i.constructor;return $e[d]===void 0?(ue.da=v-1,$e[d]=ue):(pr($e,d,Ve),$e[d].A[v-1]=ue),Et([],ee,st=>{if(st=gr(Ve,[st[0],null].concat(st.slice(1)),null,F,Z),$e[d].A===void 0?(st.da=v-1,$e[d]=st):$e[d].A[v-1]=st,fe.i.na)for(const ne of fe.i.na)ne.constructor.hasOwnProperty(d)||(ne.constructor[d]=st);return[]}),[]})},_embind_register_class_class_property:(h,d,v,S,D,F,Z,ee)=>{d=pn(d),F=ke(D,F),Et([],[h],fe=>{fe=fe[0];var ue=`${fe.name}.${d}`,Ve={get(){qt(`Cannot access ${ue} due to unbound types`,[v])},enumerable:!0,configurable:!0};return Ve.set=ee?()=>{qt(`Cannot access ${ue} due to unbound types`,[v])}:()=>{throw new ft(`${ue} is a read-only property`)},Object.defineProperty(fe.i.constructor,d,Ve),Et([],[v],$e=>{$e=$e[0];var st={get(){return $e.fromWireType(F(S))},enumerable:!0};return ee&&(ee=ke(Z,ee),st.set=ne=>{var Fe=[];ee(S,$e.toWireType(Fe,ne)),hi(Fe)}),Object.defineProperty(fe.i.constructor,d,st),[]}),[]})},_embind_register_class_constructor:(h,d,v,S,D,F)=>{var Z=Aa(d,v);D=ke(S,D),Et([],[h],ee=>{ee=ee[0];var fe=`constructor ${ee.name}`;if(ee.i.Z===void 0&&(ee.i.Z=[]),ee.i.Z[d-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.i.Z[d-1]=()=>{qt(`Cannot construct ${ee.name} due to unbound types`,Z)},Et([],Z,ue=>(ue.splice(1,0,null),ee.i.Z[d-1]=gr(fe,ue,null,D,F),[])),[]})},_embind_register_class_function:(h,d,v,S,D,F,Z,ee)=>{var fe=Aa(v,S);d=pn(d),d=Ai(d),F=ke(D,F),Et([],[h],ue=>{function Ve(){qt(`Cannot call ${$e} due to unbound types`,fe)}ue=ue[0];var $e=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),ee&&ue.i.pb.push(d);var st=ue.i.M,ne=st[d];return ne===void 0||ne.A===void 0&&ne.className!==ue.name&&ne.da===v-2?(Ve.da=v-2,Ve.className=ue.name,st[d]=Ve):(pr(st,d,$e),st[d].A[v-2]=Ve),Et([],fe,Fe=>(Fe=gr($e,Fe,ue,F,Z),st[d].A===void 0?(Fe.da=v-2,st[d]=Fe):st[d].A[v-2]=Fe,[])),[]})},_embind_register_class_property:(h,d,v,S,D,F,Z,ee,fe,ue)=>{d=pn(d),D=ke(S,D),Et([],[h],Ve=>{Ve=Ve[0];var $e=`${Ve.name}.${d}`,st={get(){qt(`Cannot access ${$e} due to unbound types`,[v,Z])},enumerable:!0,configurable:!0};return st.set=fe?()=>qt(`Cannot access ${$e} due to unbound types`,[v,Z]):()=>{throw new ft($e+" is a read-only property")},Object.defineProperty(Ve.i.M,d,st),Et([],fe?[v,Z]:[v],ne=>{var Fe=ne[0],rt={get(){var gn=$i(this,Ve,$e+" getter");return Fe.fromWireType(D(F,gn))},enumerable:!0};if(fe){fe=ke(ee,fe);var Ye=ne[1];rt.set=function(gn){var Je=$i(this,Ve,$e+" setter"),Ut=[];fe(ue,Je,Ye.toWireType(Ut,gn)),hi(Ut)}}return Object.defineProperty(Ve.i.M,d,rt),[]}),[]})},_embind_register_emval:h=>Rr(h,$o),_embind_register_enum:(h,d,v,S)=>{function D(){}d=pn(d),D.values={},Rr(h,{name:d,constructor:D,fromWireType:function(F){return this.constructor.values[F]},toWireType:(F,Z)=>Z.value,argPackAdvance:8,readValueFromPointer:Jo(d,v,S),L:null}),di(d,D)},_embind_register_enum_value:(h,d,v)=>{var S=la(h,"enum");d=pn(d),h=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:v},constructor:{value:Ni(`${S.name}_${d}`,function(){})}}),h.values[v]=S,h[d]=S},_embind_register_float:(h,d,v)=>{d=pn(d),Rr(h,{name:d,fromWireType:S=>S,toWireType:(S,D)=>D,argPackAdvance:8,readValueFromPointer:Pa(d,v),L:null})},_embind_register_function:(h,d,v,S,D,F)=>{var Z=Aa(d,v);h=pn(h),h=Ai(h),D=ke(S,D),di(h,function(){qt(`Cannot call ${h} due to unbound types`,Z)},d-1),Et([],Z,ee=>(_e(h,gr(h,[ee[0],null].concat(ee.slice(1)),null,D,F),d-1),[]))},_embind_register_integer:(h,d,v,S,D)=>{if(d=pn(d),D===-1&&(D=4294967295),D=ee=>ee,S===0){var F=32-8*v;D=ee=>ee<<F>>>F}var Z=d.includes("unsigned")?function(ee,fe){return fe>>>0}:function(ee,fe){return fe};Rr(h,{name:d,fromWireType:D,toWireType:Z,argPackAdvance:8,readValueFromPointer:qr(d,v,S!==0),L:null})},_embind_register_memory_view:(h,d,v)=>{function S(F){return new D(Ce.buffer,xe[F+4>>2],xe[F>>2])}var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];v=pn(v),Rr(h,{name:v,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(h,d)=>{d=pn(d);var v=d==="std::string";Rr(h,{name:d,fromWireType:function(S){var D=xe[S>>2],F=S+4;if(v)for(var Z=F,ee=0;ee<=D;++ee){var fe=F+ee;if(ee==D||U[fe]==0){if(Z=Z?Pe(U,Z,fe-Z):"",ue===void 0)var ue=Z;else ue+="\0",ue+=Z;Z=fe+1}}else{for(ue=Array(D),ee=0;ee<D;++ee)ue[ee]=String.fromCharCode(U[F+ee]);ue=ue.join("")}return Ci(S),ue},toWireType:function(S,D){D instanceof ArrayBuffer&&(D=new Uint8Array(D));var F=typeof D=="string";if(!(F||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int8Array))throw new ft("Cannot pass non-string to std::string");var Z=v&&F?jt(D):D.length,ee=rs(4+Z+1),fe=ee+4;if(xe[ee>>2]=Z,v&&F)Un(D,U,fe,Z+1);else if(F)for(F=0;F<Z;++F){var ue=D.charCodeAt(F);if(255<ue)throw Ci(fe),new ft("String has UTF-16 code units that do not fit in 8 bits");U[fe+F]=ue}else for(F=0;F<Z;++F)U[fe+F]=D[F];return S!==null&&S.push(Ci,ee),ee},argPackAdvance:8,readValueFromPointer:Cr,L(S){Ci(S)}})},_embind_register_std_wstring:(h,d,v)=>{if(v=pn(v),d===2)var S=Zo,D=Sa,F=u,Z=ee=>Ne[ee>>1];else d===4&&(S=y,D=A,F=k,Z=ee=>xe[ee>>2]);Rr(h,{name:v,fromWireType:ee=>{for(var fe=xe[ee>>2],ue,Ve=ee+4,$e=0;$e<=fe;++$e){var st=ee+4+$e*d;($e==fe||Z(st)==0)&&(Ve=S(Ve,st-Ve),ue===void 0?ue=Ve:(ue+="\0",ue+=Ve),Ve=st+d)}return Ci(ee),ue},toWireType:(ee,fe)=>{if(typeof fe!="string")throw new ft(`Cannot pass non-string to C++ string type ${v}`);var ue=F(fe),Ve=rs(4+ue+d);return xe[Ve>>2]=ue/d,D(fe,Ve+4,ue+d),ee!==null&&ee.push(Ci,Ve),Ve},argPackAdvance:8,readValueFromPointer:Cr,L(ee){Ci(ee)}})},_embind_register_value_object:(h,d,v,S,D,F)=>{Oi[h]={name:pn(d),Na:ke(v,S),O:ke(D,F),eb:[]}},_embind_register_value_object_field:(h,d,v,S,D,F,Z,ee,fe,ue)=>{Oi[h].eb.push({Ob:pn(d),Ub:v,Sb:ke(S,D),Tb:F,kc:Z,jc:ke(ee,fe),lc:ue})},_embind_register_void:(h,d)=>{d=pn(d),Rr(h,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(h,d,v)=>U.copyWithin(h,d,d+v),_emval_as:(h,d,v)=>(h=or(h),d=la(d,"emval::as"),se(d,v,h)),_emval_call_method:(h,d,v,S,D)=>(h=Ct[h],d=or(d),v=je(v),h(d,d[v],S,D)),_emval_decref:Ds,_emval_get_method_caller:(h,d,v)=>{var S=hn(h,d),D=S.shift();h--;var F=Array(h);return d=`methodCaller<(${S.map(Z=>Z.name).join(", ")}) => ${D.name}>`,Zn(Ni(d,(Z,ee,fe,ue)=>{for(var Ve=0,$e=0;$e<h;++$e)F[$e]=S[$e].readValueFromPointer(ue+Ve),Ve+=S[$e].argPackAdvance;return Z=v===1?jn(ee,F):ee.apply(Z,F),se(D,fe,Z)}))},_emval_get_module_property:h=>(h=je(h),zn(z[h])),_emval_get_property:(h,d)=>(h=or(h),d=or(d),zn(h[d])),_emval_incref:h=>{9<h&&(mr[h+1]+=1)},_emval_new_array:()=>zn([]),_emval_new_cstring:h=>zn(je(h)),_emval_new_object:()=>zn({}),_emval_run_destructors:h=>{var d=or(h);hi(d),Ds(h)},_emval_set_property:(h,d,v)=>{h=or(h),d=or(d),v=or(v),h[d]=v},_emval_take_value:(h,d)=>(h=la(h,"_emval_take_value"),h=h.readValueFromPointer(d),zn(h)),emscripten_asm_const_int:(h,d,v)=>{yi.length=0;for(var S;S=U[d++];){var D=S!=105;D&=S!=112,v+=D&&v%8?4:0,yi.push(S==112?xe[v>>2]:S==105?Ae[v>>2]:mt[v>>3]),v+=D?8:4}return Tn[h](...yi)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:h=>{var d=U.length;if(h>>>=0,2147483648<h)return!1;for(var v=1;4>=v;v*=2){var S=d*(1+.2/v);S=Math.min(S,h+100663296);var D=Math;S=Math.max(h,S);e:{D=(D.min.call(D,2147483648,S+(65536-S%65536)%65536)-me.buffer.byteLength+65535)/65536;try{me.grow(D),Dt();var F=1;break e}catch{}F=void 0}if(F)return!0}return!1},environ_get:(h,d)=>{var v=0;return Li().forEach((S,D)=>{var F=d+v;for(D=xe[h+4*D>>2]=F,F=0;F<S.length;++F)Ce[D++]=S.charCodeAt(F);Ce[D]=0,v+=S.length+1}),0},environ_sizes_get:(h,d)=>{var v=Li();xe[h>>2]=v.length;var S=0;return v.forEach(D=>S+=D.length+1),xe[d>>2]=S,0},fd_close:function(h){try{var d=Br(h);if(d.W===null)throw new Qe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(v){throw v}finally{Hn[d.W]=null}return d.W=null,0}catch(v){if(typeof _n>"u"||v.name!=="ErrnoError")throw v;return v.$}},fd_read:function(h,d,v,S){try{e:{var D=Br(h);h=d;for(var F,Z=d=0;Z<v;Z++){var ee=xe[h>>2],fe=xe[h+4>>2];h+=8;var ue=D,Ve=F,$e=Ce;if(0>fe||0>Ve)throw new Qe(28);if(ue.W===null)throw new Qe(8);if((ue.flags&2097155)===1)throw new Qe(8);if((ue.node.mode&61440)===16384)throw new Qe(31);if(!ue.m.read)throw new Qe(28);var st=typeof Ve<"u";if(!st)Ve=ue.position;else if(!ue.seekable)throw new Qe(70);var ne=ue.m.read(ue,$e,ee,fe,Ve);st||(ue.position+=ne);var Fe=ne;if(0>Fe){var rt=-1;break e}if(d+=Fe,Fe<fe)break;typeof F<"u"&&(F+=Fe)}rt=d}return xe[S>>2]=rt,0}catch(Ye){if(typeof _n>"u"||Ye.name!=="ErrnoError")throw Ye;return Ye.$}},fd_seek:function(h,d,v,S,D){d=v+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*v:NaN;try{if(isNaN(d))return 61;var F=Br(h);return Oa(F,d,S),_t=[F.position>>>0,(wn=F.position,1<=+Math.abs(wn)?0<wn?+Math.floor(wn/4294967296)>>>0:~~+Math.ceil((wn-+(~~wn>>>0))/4294967296)>>>0:0)],Ae[D>>2]=_t[0],Ae[D+4>>2]=_t[1],F.Ka&&d===0&&S===0&&(F.Ka=null),0}catch(Z){if(typeof _n>"u"||Z.name!=="ErrnoError")throw Z;return Z.$}},fd_write:function(h,d,v,S){try{e:{var D=Br(h);h=d;for(var F,Z=d=0;Z<v;Z++){var ee=xe[h>>2],fe=xe[h+4>>2];h+=8;var ue=D,Ve=ee,$e=fe,st=F,ne=Ce;if(0>$e||0>st)throw new Qe(28);if(ue.W===null)throw new Qe(8);if((ue.flags&2097155)===0)throw new Qe(8);if((ue.node.mode&61440)===16384)throw new Qe(31);if(!ue.m.write)throw new Qe(28);ue.seekable&&ue.flags&1024&&Oa(ue,0,2);var Fe=typeof st<"u";if(!Fe)st=ue.position;else if(!ue.seekable)throw new Qe(70);var rt=ue.m.write(ue,ne,Ve,$e,st,void 0);Fe||(ue.position+=rt);var Ye=rt;if(0>Ye){var gn=-1;break e}d+=Ye,typeof F<"u"&&(F+=Ye)}gn=d}return xe[S>>2]=gn,0}catch(Je){if(typeof _n>"u"||Je.name!=="ErrnoError")throw Je;return Je.$}},isWindowsBrowser:function(){return-1<navigator.platform.indexOf("Win")},strftime_l:(h,d,v,S)=>Ch(h,d,v,S)},qn=(function(){function h(v){return qn=v.exports,me=qn.memory,Dt(),He=qn.__indirect_function_table,Pt.unshift(qn.__wasm_call_ctors),It--,z.monitorRunDependencies?.(It),It==0&&Wt&&(v=Wt,Wt=null,v()),qn}var d={env:ru,wasi_snapshot_preview1:ru};if(It++,z.monitorRunDependencies?.(It),z.instantiateWasm)try{return z.instantiateWasm(d,h)}catch(v){B(`Module.instantiateWasm callback failed with error: ${v}`),be(v)}return Kt||=Wn("canvas_advanced.wasm")?"canvas_advanced.wasm":z.locateFile?z.locateFile("canvas_advanced.wasm",P):P+"canvas_advanced.wasm",vt(d,function(v){h(v.instance)}).catch(be),{}})(),Ci=h=>(Ci=qn.free)(h),rs=h=>(rs=qn.malloc)(h),bc=h=>(bc=qn.__getTypeName)(h),Co=z._ma_device__on_notification_unlocked=h=>(Co=z._ma_device__on_notification_unlocked=qn.ma_device__on_notification_unlocked)(h);z._ma_malloc_emscripten=(h,d)=>(z._ma_malloc_emscripten=qn.ma_malloc_emscripten)(h,d),z._ma_free_emscripten=(h,d)=>(z._ma_free_emscripten=qn.ma_free_emscripten)(h,d);var iu=z._ma_device_process_pcm_frames_capture__webaudio=(h,d,v)=>(iu=z._ma_device_process_pcm_frames_capture__webaudio=qn.ma_device_process_pcm_frames_capture__webaudio)(h,d,v),au=z._ma_device_process_pcm_frames_playback__webaudio=(h,d,v)=>(au=z._ma_device_process_pcm_frames_playback__webaudio=qn.ma_device_process_pcm_frames_playback__webaudio)(h,d,v);z.dynCall_iiji=(h,d,v,S,D)=>(z.dynCall_iiji=qn.dynCall_iiji)(h,d,v,S,D),z.dynCall_jiji=(h,d,v,S,D)=>(z.dynCall_jiji=qn.dynCall_jiji)(h,d,v,S,D),z.dynCall_iiiji=(h,d,v,S,D,F)=>(z.dynCall_iiiji=qn.dynCall_iiiji)(h,d,v,S,D,F),z.dynCall_iij=(h,d,v,S)=>(z.dynCall_iij=qn.dynCall_iij)(h,d,v,S),z.dynCall_jii=(h,d,v)=>(z.dynCall_jii=qn.dynCall_jii)(h,d,v),z.dynCall_viijii=(h,d,v,S,D,F,Z)=>(z.dynCall_viijii=qn.dynCall_viijii)(h,d,v,S,D,F,Z),z.dynCall_iiiiij=(h,d,v,S,D,F,Z)=>(z.dynCall_iiiiij=qn.dynCall_iiiiij)(h,d,v,S,D,F,Z),z.dynCall_iiiiijj=(h,d,v,S,D,F,Z,ee,fe)=>(z.dynCall_iiiiijj=qn.dynCall_iiiiijj)(h,d,v,S,D,F,Z,ee,fe),z.dynCall_iiiiiijj=(h,d,v,S,D,F,Z,ee,fe,ue)=>(z.dynCall_iiiiiijj=qn.dynCall_iiiiiijj)(h,d,v,S,D,F,Z,ee,fe,ue);var ks;Wt=function h(){ks||tl(),ks||(Wt=h)};function tl(){function h(){if(!ks&&(ks=!0,z.calledRun=!0,!he)){if(z.noFSInit||Ea||(Ea=!0,z.stdin=z.stdin,z.stdout=z.stdout,z.stderr=z.stderr,z.stdin?fn("stdin",z.stdin):ii("/dev/tty","/dev/stdin"),z.stdout?fn("stdout",null,z.stdout):ii("/dev/tty","/dev/stdout"),z.stderr?fn("stderr",null,z.stderr):ii("/dev/tty1","/dev/stderr"),sa("/dev/stdin",0),sa("/dev/stdout",1),sa("/dev/stderr",1)),ei=!1,mn(Pt),De(z),z.onRuntimeInitialized&&z.onRuntimeInitialized(),z.postRun)for(typeof z.postRun=="function"&&(z.postRun=[z.postRun]);z.postRun.length;){var d=z.postRun.shift();Bt.unshift(d)}mn(Bt)}}if(!(0<It)){if(z.preRun)for(typeof z.preRun=="function"&&(z.preRun=[z.preRun]);z.preRun.length;)ct();mn(lt),0<It||(z.setStatus?(z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){z.setStatus("")},1),h()},1)):h())}}if(z.preInit)for(typeof z.preInit=="function"&&(z.preInit=[z.preInit]);0<z.preInit.length;)z.preInit.pop()();return tl(),te=Le,te})})();const x=w}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.33.1","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w.Animation});var w=E(4)}),((p,b,E)=>{E.r(b),E.d(b,{Animation:()=>w});var w=(function(){function x(O,G,te,z){this.animation=O,this.artboard=G,this.playing=z,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(O,G)}return Object.defineProperty(x.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"time",{get:function(){return this.instance.time},set:function(O){this.instance.time=O},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),x.prototype.advance=function(O){this.scrubTo===null?this.instance.advance(O):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},x.prototype.apply=function(O){this.instance.apply(O)},x.prototype.cleanup=function(){this.instance.delete()},x})()}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>O.AudioAssetWrapper,AudioWrapper:()=>O.AudioWrapper,BLANK_URL:()=>x.BLANK_URL,CustomFileAssetLoaderWrapper:()=>O.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>O.FileAssetWrapper,FileFinalizer:()=>O.FileFinalizer,FontAssetWrapper:()=>O.FontAssetWrapper,FontWrapper:()=>O.FontWrapper,ImageAssetWrapper:()=>O.ImageAssetWrapper,ImageWrapper:()=>O.ImageWrapper,createFinalization:()=>O.createFinalization,finalizationRegistry:()=>O.finalizationRegistry,registerTouchInteractions:()=>w.registerTouchInteractions,sanitizeUrl:()=>x.sanitizeUrl});var w=E(6),x=E(7),O=E(8)}),((p,b,E)=>{E.r(b),E.d(b,{registerTouchInteractions:()=>O});var w=void 0,x=function(G,te,z){var De,be,Le=[];if(["touchstart","touchmove"].indexOf(G.type)>-1&&(!((De=G.changedTouches)===null||De===void 0)&&De.length)){te||G.preventDefault();for(var j=0,Ue=z?G.changedTouches.length:1;j<Ue;){var et=G.changedTouches[j];Le.push({clientX:et.clientX,clientY:et.clientY,identifier:et.identifier}),j++}}else if(G.type==="touchend"&&(!((be=G.changedTouches)===null||be===void 0)&&be.length))for(var j=0,Ue=z?G.changedTouches.length:1;j<Ue;){var et=G.changedTouches[j];Le.push({clientX:et.clientX,clientY:et.clientY,identifier:et.identifier}),j++}else Le.push({clientX:G.clientX,clientY:G.clientY,identifier:0});return Le},O=function(G){var te=G.canvas,z=G.artboard,De=G.stateMachines,be=De===void 0?[]:De,Le=G.renderer,j=G.rive,Ue=G.fit,et=G.alignment,ut=G.isTouchScrollEnabled,at=ut===void 0?!1:ut,Y=G.dispatchPointerExit,H=Y===void 0?!0:Y,L=G.enableMultiTouch,q=L===void 0?!1:L,I=G.layoutScaleFactor,P=I===void 0?1:I;if(!te||!be.length||!Le||!j||!z||typeof window>"u")return null;var N=null,Q=!1,ie=function($){if(Q&&$ instanceof MouseEvent){$.type=="mouseup"&&(Q=!1);return}Q=at&&$.type==="touchend"&&N==="touchstart",N=$.type;var me=$.currentTarget.getBoundingClientRect(),he=x($,at,q),Ce=j.computeAlignment(Ue,et,{minX:0,minY:0,maxX:me.width,maxY:me.height},z.bounds,P),U=new j.Mat2D;switch(Ce.invert(U),he.forEach(function(Kt){var Ke=Kt.clientX,St=Kt.clientY;if(!(!Ke&&!St)){var sn=Ke-me.left,vt=St-me.top,wn=new j.Vec2D(sn,vt),_t=j.mapXY(U,wn),Tn=_t.x(),mn=_t.y();Kt.transformedX=Tn,Kt.transformedY=mn,_t.delete(),wn.delete()}}),U.delete(),Ce.delete(),$.type){case"mouseout":for(var oe=function(Kt){H?he.forEach(function(Ke){Kt.pointerExit(Ke.transformedX,Ke.transformedY,Ke.identifier)}):he.forEach(function(Ke){Kt.pointerMove(Ke.transformedX,Ke.transformedY,Ke.identifier)})},Ne=0,Ae=be;Ne<Ae.length;Ne++){var xe=Ae[Ne];oe(xe)}break;case"touchmove":case"mouseover":case"mousemove":{for(var tt=function(Kt){he.forEach(function(Ke){Kt.pointerMove(Ke.transformedX,Ke.transformedY,Ke.identifier)})},mt=0,Dt=be;mt<Dt.length;mt++){var xe=Dt[mt];tt(xe)}break}case"touchstart":case"mousedown":{for(var lt=function(Kt){he.forEach(function(Ke){Kt.pointerDown(Ke.transformedX,Ke.transformedY,Ke.identifier)})},Pt=0,Bt=be;Pt<Bt.length;Pt++){var xe=Bt[Pt];lt(xe)}break}case"touchend":{for(var ct=function(Kt){he.forEach(function(Ke){Kt.pointerUp(Ke.transformedX,Ke.transformedY,Ke.identifier),Kt.pointerExit(Ke.transformedX,Ke.transformedY,Ke.identifier)})},It=0,Wt=be;It<Wt.length;It++){var xe=Wt[It];ct(xe)}break}case"mouseup":{for(var Qt=function(Kt){he.forEach(function(Ke){Kt.pointerUp(Ke.transformedX,Ke.transformedY,Ke.identifier)})},Wn=0,Mr=be;Wn<Mr.length;Wn++){var xe=Mr[Wn];Qt(xe)}break}}},B=ie.bind(w);return te.addEventListener("mouseover",B),te.addEventListener("mouseout",B),te.addEventListener("mousemove",B),te.addEventListener("mousedown",B),te.addEventListener("mouseup",B),te.addEventListener("touchmove",B,{passive:at}),te.addEventListener("touchstart",B,{passive:at}),te.addEventListener("touchend",B),function(){te.removeEventListener("mouseover",B),te.removeEventListener("mouseout",B),te.removeEventListener("mousemove",B),te.removeEventListener("mousedown",B),te.removeEventListener("mouseup",B),te.removeEventListener("touchmove",B),te.removeEventListener("touchstart",B),te.removeEventListener("touchend",B)}}}),((p,b,E)=>{E.r(b),E.d(b,{BLANK_URL:()=>De,sanitizeUrl:()=>j});var w=/^([^\w]*)(javascript|data|vbscript)/im,x=/&#(\w+)(^\w|;)?/g,O=/&(newline|tab);/gi,G=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,z=[".","/"],De="about:blank";function be(Ue){return z.indexOf(Ue[0])>-1}function Le(Ue){var et=Ue.replace(G,"");return et.replace(x,function(ut,at){return String.fromCharCode(at)})}function j(Ue){if(!Ue)return De;var et=Le(Ue).replace(O,"").replace(G,"").trim();if(!et)return De;if(be(et))return et;var ut=et.match(te);if(!ut)return et;var at=ut[0];return w.test(at)?De:et}}),((p,b,E)=>{E.r(b),E.d(b,{AudioAssetWrapper:()=>Ue,AudioWrapper:()=>z,CustomFileAssetLoaderWrapper:()=>be,FileAssetWrapper:()=>Le,FileFinalizer:()=>x,FontAssetWrapper:()=>et,FontWrapper:()=>De,ImageAssetWrapper:()=>j,ImageWrapper:()=>te,createFinalization:()=>H,finalizationRegistry:()=>Y});var w=(function(){var L=function(q,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,N){P.__proto__=N}||function(P,N){for(var Q in N)Object.prototype.hasOwnProperty.call(N,Q)&&(P[Q]=N[Q])},L(q,I)};return function(q,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");L(q,I);function P(){this.constructor=q}q.prototype=I===null?Object.create(I):(P.prototype=I.prototype,new P)}})(),x=(function(){function L(q){this.selfUnref=!1,this._file=q}return L.prototype.unref=function(){this._file&&this._file.unref()},L})(),O=(function(){function L(q){this._finalizableObject=q}return L.prototype.unref=function(){this._finalizableObject.unref()},L})(),G=(function(){function L(){this.selfUnref=!1}return L.prototype.unref=function(){},L})(),te=(function(L){w(q,L);function q(I){var P=L.call(this)||this;return P._nativeImage=I,P}return Object.defineProperty(q.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),q.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},q})(G),z=(function(L){w(q,L);function q(I){var P=L.call(this)||this;return P._nativeAudio=I,P}return Object.defineProperty(q.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),q.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},q})(G),De=(function(L){w(q,L);function q(I){var P=L.call(this)||this;return P._nativeFont=I,P}return Object.defineProperty(q.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),q.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},q})(G),be=(function(){function L(q,I){this._assetLoaderCallback=I,this.assetLoader=new q.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return L.prototype.loadContents=function(q,I){var P;return q.isImage?P=new j(q):q.isAudio?P=new Ue(q):q.isFont&&(P=new et(q)),this._assetLoaderCallback(P,I)},L})(),Le=(function(){function L(q){this._nativeFileAsset=q}return L.prototype.decode=function(q){this._nativeFileAsset.decode(q)},Object.defineProperty(L.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),L})(),j=(function(L){w(q,L);function q(){return L!==null&&L.apply(this,arguments)||this}return q.prototype.setRenderImage=function(I){this._nativeFileAsset.setRenderImage(I.nativeImage)},q})(Le),Ue=(function(L){w(q,L);function q(){return L!==null&&L.apply(this,arguments)||this}return q.prototype.setAudioSource=function(I){this._nativeFileAsset.setAudioSource(I.nativeAudio)},q})(Le),et=(function(L){w(q,L);function q(){return L!==null&&L.apply(this,arguments)||this}return q.prototype.setFont=function(I){this._nativeFileAsset.setFont(I.nativeFont)},q})(Le),ut=(function(){function L(q){}return L.prototype.register=function(q){q.selfUnref=!0},L.prototype.unregister=function(q){},L})(),at=typeof FinalizationRegistry<"u"?FinalizationRegistry:ut,Y=new at(function(L){L?.unref()}),H=function(L,q){var I=new O(q);Y.register(L,I)}})],a={};function l(p){var b=a[p];if(b!==void 0)return b.exports;var E=a[p]={exports:{}};return r[p](E,E.exports,l),E.exports}l.d=(p,b)=>{for(var E in b)l.o(b,E)&&!l.o(p,E)&&Object.defineProperty(p,E,{enumerable:!0,get:b[E]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>j,DataEnum:()=>Dt,DrawOptimizationOptions:()=>Ue,EventType:()=>Q,Fit:()=>Le,Layout:()=>et,LoopType:()=>ie,Rive:()=>tt,RiveEventType:()=>H,RiveFile:()=>xe,RuntimeLoader:()=>ut,StateMachineInput:()=>Y,StateMachineInputType:()=>at,Testing:()=>wn,ViewModel:()=>mt,ViewModelInstance:()=>Pt,ViewModelInstanceArtboard:()=>St,ViewModelInstanceAssetImage:()=>Ke,ViewModelInstanceBoolean:()=>Wt,ViewModelInstanceColor:()=>Kt,ViewModelInstanceEnum:()=>Wn,ViewModelInstanceList:()=>Mr,ViewModelInstanceNumber:()=>It,ViewModelInstanceString:()=>ct,ViewModelInstanceTrigger:()=>Qt,ViewModelInstanceValue:()=>Bt,decodeAudio:()=>_t,decodeFont:()=>mn,decodeImage:()=>Tn});var p=l(1),b=l(2),E=l(3),w=l(5),x=(function(){var C=function(g,_){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,J){V.__proto__=J}||function(V,J){for(var ge in J)Object.prototype.hasOwnProperty.call(J,ge)&&(V[ge]=J[ge])},C(g,_)};return function(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");C(g,_);function V(){this.constructor=g}g.prototype=_===null?Object.create(_):(V.prototype=_.prototype,new V)}})(),O=function(){return O=Object.assign||function(C){for(var g,_=1,V=arguments.length;_<V;_++){g=arguments[_];for(var J in g)Object.prototype.hasOwnProperty.call(g,J)&&(C[J]=g[J])}return C},O.apply(this,arguments)},G=function(C,g,_,V){function J(ge){return ge instanceof _?ge:new _(function(Se){Se(ge)})}return new(_||(_=Promise))(function(ge,Se){function qe(Tt){try{Pe(V.next(Tt))}catch(jt){Se(jt)}}function We(Tt){try{Pe(V.throw(Tt))}catch(jt){Se(jt)}}function Pe(Tt){Tt.done?ge(Tt.value):J(Tt.value).then(qe,We)}Pe((V=V.apply(C,g||[])).next())})},te=function(C,g){var _={label:0,sent:function(){if(ge[0]&1)throw ge[1];return ge[1]},trys:[],ops:[]},V,J,ge,Se=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Se.next=qe(0),Se.throw=qe(1),Se.return=qe(2),typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function qe(Pe){return function(Tt){return We([Pe,Tt])}}function We(Pe){if(V)throw new TypeError("Generator is already executing.");for(;Se&&(Se=0,Pe[0]&&(_=0)),_;)try{if(V=1,J&&(ge=Pe[0]&2?J.return:Pe[0]?J.throw||((ge=J.return)&&ge.call(J),0):J.next)&&!(ge=ge.call(J,Pe[1])).done)return ge;switch(J=0,ge&&(Pe=[Pe[0]&2,ge.value]),Pe[0]){case 0:case 1:ge=Pe;break;case 4:return _.label++,{value:Pe[1],done:!1};case 5:_.label++,J=Pe[1],Pe=[0];continue;case 7:Pe=_.ops.pop(),_.trys.pop();continue;default:if(ge=_.trys,!(ge=ge.length>0&&ge[ge.length-1])&&(Pe[0]===6||Pe[0]===2)){_=0;continue}if(Pe[0]===3&&(!ge||Pe[1]>ge[0]&&Pe[1]<ge[3])){_.label=Pe[1];break}if(Pe[0]===6&&_.label<ge[1]){_.label=ge[1],ge=Pe;break}if(ge&&_.label<ge[2]){_.label=ge[2],_.ops.push(Pe);break}ge[2]&&_.ops.pop(),_.trys.pop();continue}Pe=g.call(C,_)}catch(Tt){Pe=[6,Tt],J=0}finally{V=ge=0}if(Pe[0]&5)throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}},z=function(C,g,_){if(_||arguments.length===2)for(var V=0,J=g.length,ge;V<J;V++)(ge||!(V in g))&&(ge||(ge=Array.prototype.slice.call(g,0,V)),ge[V]=g[V]);return C.concat(ge||Array.prototype.slice.call(g))},De=(function(C){x(g,C);function g(){var _=C!==null&&C.apply(this,arguments)||this;return _.isHandledError=!0,_}return g})(Error),be=function(C){return C&&C.isHandledError?C.message:"Problem loading file; may be corrupt!"},Le;(function(C){C.Cover="cover",C.Contain="contain",C.Fill="fill",C.FitWidth="fitWidth",C.FitHeight="fitHeight",C.None="none",C.ScaleDown="scaleDown",C.Layout="layout"})(Le||(Le={}));var j;(function(C){C.Center="center",C.TopLeft="topLeft",C.TopCenter="topCenter",C.TopRight="topRight",C.CenterLeft="centerLeft",C.CenterRight="centerRight",C.BottomLeft="bottomLeft",C.BottomCenter="bottomCenter",C.BottomRight="bottomRight"})(j||(j={}));var Ue;(function(C){C.AlwaysDraw="alwaysDraw",C.DrawOnChanged="drawOnChanged"})(Ue||(Ue={}));var et=(function(){function C(g){var _,V,J,ge,Se,qe,We;this.fit=(_=g?.fit)!==null&&_!==void 0?_:Le.Contain,this.alignment=(V=g?.alignment)!==null&&V!==void 0?V:j.Center,this.layoutScaleFactor=(J=g?.layoutScaleFactor)!==null&&J!==void 0?J:1,this.minX=(ge=g?.minX)!==null&&ge!==void 0?ge:0,this.minY=(Se=g?.minY)!==null&&Se!==void 0?Se:0,this.maxX=(qe=g?.maxX)!==null&&qe!==void 0?qe:0,this.maxY=(We=g?.maxY)!==null&&We!==void 0?We:0}return C.new=function(g){var _=g.fit,V=g.alignment,J=g.minX,ge=g.minY,Se=g.maxX,qe=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new C({fit:_,alignment:V,minX:J,minY:ge,maxX:Se,maxY:qe})},C.prototype.copyWith=function(g){var _=g.fit,V=g.alignment,J=g.layoutScaleFactor,ge=g.minX,Se=g.minY,qe=g.maxX,We=g.maxY;return new C({fit:_??this.fit,alignment:V??this.alignment,layoutScaleFactor:J??this.layoutScaleFactor,minX:ge??this.minX,minY:Se??this.minY,maxX:qe??this.maxX,maxY:We??this.maxY})},C.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var _;return this.fit===Le.Cover?_=g.Fit.cover:this.fit===Le.Contain?_=g.Fit.contain:this.fit===Le.Fill?_=g.Fit.fill:this.fit===Le.FitWidth?_=g.Fit.fitWidth:this.fit===Le.FitHeight?_=g.Fit.fitHeight:this.fit===Le.ScaleDown?_=g.Fit.scaleDown:this.fit===Le.Layout?_=g.Fit.layout:_=g.Fit.none,this.cachedRuntimeFit=_,_},C.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var _;return this.alignment===j.TopLeft?_=g.Alignment.topLeft:this.alignment===j.TopCenter?_=g.Alignment.topCenter:this.alignment===j.TopRight?_=g.Alignment.topRight:this.alignment===j.CenterLeft?_=g.Alignment.centerLeft:this.alignment===j.CenterRight?_=g.Alignment.centerRight:this.alignment===j.BottomLeft?_=g.Alignment.bottomLeft:this.alignment===j.BottomCenter?_=g.Alignment.bottomCenter:this.alignment===j.BottomRight?_=g.Alignment.bottomRight:_=g.Alignment.center,this.cachedRuntimeAlignment=_,_},C})(),ut=(function(){function C(){}return C.loadRuntime=function(){p.default({locateFile:function(){return C.wasmURL}}).then(function(g){var _;for(C.runtime=g;C.callBackQueue.length>0;)(_=C.callBackQueue.shift())===null||_===void 0||_(C.runtime)}).catch(function(g){var _={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",_);var V="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(C.wasmURL.toLowerCase()!==V)console.warn("Failed to load WASM from ".concat(C.wasmURL," (").concat(_.message,"), trying jsdelivr as a backup")),C.setWasmUrl(V),C.loadRuntime();else{var J=["Could not load Rive WASM file from ".concat(C.wasmURL," or ").concat(V,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(_.type),"- Message: ".concat(_.message),"- WebAssembly-specific error: ".concat(_.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(J)}})},C.getInstance=function(g){C.isLoading||(C.isLoading=!0,C.loadRuntime()),C.runtime?g(C.runtime):C.callBackQueue.push(g)},C.awaitInstance=function(){return new Promise(function(g){return C.getInstance(function(_){return g(_)})})},C.setWasmUrl=function(g){C.wasmURL=g},C.getWasmUrl=function(){return C.wasmURL},C.isLoading=!1,C.callBackQueue=[],C.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),C})(),at;(function(C){C[C.Number=56]="Number",C[C.Trigger=58]="Trigger",C[C.Boolean=59]="Boolean"})(at||(at={}));var Y=(function(){function C(g,_){this.type=g,this.runtimeInput=_}return Object.defineProperty(C.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),C.prototype.fire=function(){this.type===at.Trigger&&this.runtimeInput.fire()},C.prototype.delete=function(){this.runtimeInput=null},C})(),H;(function(C){C[C.General=128]="General",C[C.OpenUrl=131]="OpenUrl"})(H||(H={}));var L=(function(){function C(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return C})(),q=(function(C){x(g,C);function g(_,V){var J=C.call(this,!1)||this;return J.nativeArtboard=_,J.file=V,J}return g})(L),I=(function(C){x(g,C);function g(_){var V=C.call(this,!0)||this;return V.selfUnref=!1,V.nativeArtboard=_,V}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(L),P=(function(){function C(g,_,V,J){this.stateMachine=g,this.playing=V,this.artboard=J,this.inputs=[],this.instance=new _.StateMachineInstance(g,J),this.initInputs(_)}return Object.defineProperty(C.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statesChanged",{get:function(){for(var g=[],_=0;_<this.instance.stateChangedCount();_++)g.push(this.instance.stateChangedNameByIndex(_));return g},enumerable:!1,configurable:!0}),C.prototype.advance=function(g){this.instance.advance(g)},C.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},C.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},C.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},C.prototype.initInputs=function(g){for(var _=0;_<this.instance.inputCount();_++){var V=this.instance.input(_);this.inputs.push(this.mapRuntimeInput(V,g))}},C.prototype.mapRuntimeInput=function(g,_){if(g.type===_.SMIInput.bool)return new Y(at.Boolean,g.asBool());if(g.type===_.SMIInput.number)return new Y(at.Number,g.asNumber());if(g.type===_.SMIInput.trigger)return new Y(at.Trigger,g.asTrigger())},C.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},C.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},C})(),N=(function(){function C(g,_,V,J,ge){J===void 0&&(J=[]),ge===void 0&&(ge=[]),this.runtime=g,this.artboard=_,this.eventManager=V,this.animations=J,this.stateMachines=ge}return C.prototype.add=function(g,_,V){if(V===void 0&&(V=!0),g=vt(g),g.length===0)this.animations.forEach(function(Lt){return Lt.playing=_}),this.stateMachines.forEach(function(Lt){return Lt.playing=_});else for(var J=this.animations.map(function(Lt){return Lt.name}),ge=this.stateMachines.map(function(Lt){return Lt.name}),Se=0;Se<g.length;Se++){var qe=J.indexOf(g[Se]),We=ge.indexOf(g[Se]);if(qe>=0||We>=0)qe>=0?this.animations[qe].playing=_:this.stateMachines[We].playing=_;else{var Pe=this.artboard.animationByName(g[Se]);if(Pe){var Tt=new E.Animation(Pe,this.artboard,this.runtime,_);Tt.advance(0),Tt.apply(1),this.animations.push(Tt)}else{var jt=this.artboard.stateMachineByName(g[Se]);if(jt){var Un=new P(jt,this.runtime,_,this.artboard);this.stateMachines.push(Un)}}}}return V&&(_?this.eventManager.fire({type:Q.Play,data:this.playing}):this.eventManager.fire({type:Q.Pause,data:this.paused})),_?this.playing:this.paused},C.prototype.initLinearAnimations=function(g,_){for(var V=this.animations.map(function(We){return We.name}),J=0;J<g.length;J++){var ge=V.indexOf(g[J]);if(ge>=0)this.animations[ge].playing=_;else{var Se=this.artboard.animationByName(g[J]);if(Se){var qe=new E.Animation(Se,this.artboard,this.runtime,_);qe.advance(0),qe.apply(1),this.animations.push(qe)}else console.error("Animation with name ".concat(g[J]," not found."))}}},C.prototype.initStateMachines=function(g,_){for(var V=this.stateMachines.map(function(We){return We.name}),J=0;J<g.length;J++){var ge=V.indexOf(g[J]);if(ge>=0)this.stateMachines[ge].playing=_;else{var Se=this.artboard.stateMachineByName(g[J]);if(Se){var qe=new P(Se,this.runtime,_,this.artboard);this.stateMachines.push(qe)}else console.warn("State Machine with name ".concat(g[J]," not found.")),this.initLinearAnimations([g[J]],_)}}},C.prototype.play=function(g){return this.add(g,!0)},C.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},C.prototype.pause=function(g){return this.add(g,!1)},C.prototype.scrub=function(g,_){var V=this.animations.filter(function(J){return g.includes(J.name)});return V.forEach(function(J){return J.scrubTo=_}),V.map(function(J){return J.name})},Object.defineProperty(C.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),C.prototype.stop=function(g){var _=this;g=vt(g);var V=[];if(g.length===0)V=this.animations.map(function(Se){return Se.name}).concat(this.stateMachines.map(function(Se){return Se.name})),this.animations.forEach(function(Se){return Se.cleanup()}),this.stateMachines.forEach(function(Se){return Se.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var J=this.animations.filter(function(Se){return g.includes(Se.name)});J.forEach(function(Se){Se.cleanup(),_.animations.splice(_.animations.indexOf(Se),1)});var ge=this.stateMachines.filter(function(Se){return g.includes(Se.name)});ge.forEach(function(Se){Se.cleanup(),_.stateMachines.splice(_.stateMachines.indexOf(Se),1)}),V=J.map(function(Se){return Se.name}).concat(ge.map(function(Se){return Se.name}))}return this.eventManager.fire({type:Q.Stop,data:V}),V},Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,_){return g||_.playing},!1)||this.stateMachines.reduce(function(g,_){return g||_.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),C.prototype.atLeastOne=function(g,_){_===void 0&&(_=!0);var V;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([V=this.artboard.animationByIndex(0).name],g,_):this.artboard.stateMachineCount()>0&&this.add([V=this.artboard.stateMachineByIndex(0).name],g,_)),V},C.prototype.handleLooping=function(){for(var g=0,_=this.animations.filter(function(J){return J.playing});g<_.length;g++){var V=_[g];V.loopValue===0&&V.loopCount?(V.loopCount=0,this.stop(V.name)):V.loopValue===1&&V.loopCount?(this.eventManager.fire({type:Q.Loop,data:{animation:V.name,type:ie.Loop}}),V.loopCount=0):V.loopValue===2&&V.loopCount>1&&(this.eventManager.fire({type:Q.Loop,data:{animation:V.name,type:ie.PingPong}}),V.loopCount=0)}},C.prototype.handleStateChanges=function(){for(var g=[],_=0,V=this.stateMachines.filter(function(ge){return ge.playing});_<V.length;_++){var J=V[_];g.push.apply(g,J.statesChanged)}g.length>0&&this.eventManager.fire({type:Q.StateChange,data:g})},C.prototype.handleAdvancing=function(g){this.eventManager.fire({type:Q.Advance,data:g})},C})(),Q;(function(C){C.Load="load",C.LoadError="loaderror",C.Play="play",C.Pause="pause",C.Stop="stop",C.Loop="loop",C.Draw="draw",C.Advance="advance",C.StateChange="statechange",C.RiveEvent="riveevent",C.AudioStatusChange="audiostatuschange"})(Q||(Q={}));var ie;(function(C){C.OneShot="oneshot",C.Loop="loop",C.PingPong="pingpong"})(ie||(ie={}));var B=(function(){function C(g){g===void 0&&(g=[]),this.listeners=g}return C.prototype.getListeners=function(g){return this.listeners.filter(function(_){return _.type===g})},C.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},C.prototype.remove=function(g){for(var _=0;_<this.listeners.length;_++){var V=this.listeners[_];if(V.type===g.type&&V.callback===g.callback){this.listeners.splice(_,1);break}}},C.prototype.removeAll=function(g){var _=this;g?this.listeners.filter(function(V){return V.type===g}).forEach(function(V){return _.remove(V)}):this.listeners.splice(0,this.listeners.length)},C.prototype.fire=function(g){var _=this.getListeners(g.type);_.forEach(function(V){return V.callback(g)})},C})(),$=(function(){function C(g){this.eventManager=g,this.queue=[]}return C.prototype.add=function(g){this.queue.push(g)},C.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},C})(),me;(function(C){C[C.AVAILABLE=0]="AVAILABLE",C[C.UNAVAILABLE=1]="UNAVAILABLE"})(me||(me={}));var he=(function(C){x(g,C);function g(){var _=C!==null&&C.apply(this,arguments)||this;return _._started=!1,_._enabled=!1,_._status=me.UNAVAILABLE,_}return g.prototype.delay=function(_){return G(this,void 0,void 0,function(){return te(this,function(V){return[2,new Promise(function(J){return setTimeout(J,_)})]})})},g.prototype.timeout=function(){return G(this,void 0,void 0,function(){return te(this,function(_){return[2,new Promise(function(V,J){return setTimeout(J,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:Q.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){return this._enabled||(this._enabled=!0,this._status=me.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:if(!(this._status===me.UNAVAILABLE&&this._audioContext!==null))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return _.sent(),this.enableAudio(),[3,4];case 3:return _.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){switch(_.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),_.label=2;case 2:return this._status!==me.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return _.sent(),[4,this.delay(1e3)];case 4:return _.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var _=this,V=function(){return G(_,void 0,void 0,function(){return te(this,function(J){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",V,{once:!0})},g.prototype.establishAudio=function(){return G(this,void 0,void 0,function(){return te(this,function(_){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===me.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(B),Ce=new he,U=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),oe=globalThis.ResizeObserver||U,Ne=(function(){function C(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(_){var V=g._elementsMap.get(_.target);V!==null?V.onResize(_.target.clientWidth==0||_.target.clientHeight==0):g._resizeObserver.unobserve(_.target)},this._onObserved=function(_){_.forEach(g._onObservedEntry)},this._resizeObserver=new oe(this._onObserved)}return C.prototype.add=function(g,_){var V={onResize:_,element:g};return this._elementsMap.set(g,V),this._resizeObserver.observe(g),V},C.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},C})(),Ae=new Ne,xe=(function(){function C(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new B,g.onLoad&&this.on(Q.Load,g.onLoad),g.onLoadError&&this.on(Q.LoadError,g.onLoadError)}return C.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},C.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},C.prototype.initData=function(){return G(this,void 0,void 0,function(){var g,_,V,J,ge;return te(this,function(Se){switch(Se.label){case 0:return this.src?(g=this,[4,sn(this.src)]):[3,2];case 1:g.buffer=Se.sent(),Se.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(V=new w.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),_=V.assetLoader),J=this,[4,this.runtime.load(new Uint8Array(this.buffer),_,this.enableRiveAssetCDN)]);case 3:return J.file=Se.sent(),ge=new w.FileFinalizer(this.file),w.finalizationRegistry.register(this,ge),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:Q.Load,data:this}):this.fireLoadError(C.fileLoadErrorMessage),[2])}})})},C.prototype.init=function(){return G(this,void 0,void 0,function(){var g,_;return te(this,function(V){switch(V.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(C.missingErrorMessage),[2];V.label=1;case 1:return V.trys.push([1,4,,5]),g=this,[4,ut.awaitInstance()];case 2:return g.runtime=V.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return V.sent(),[3,5];case 4:return _=V.sent(),this.fireLoadError(_ instanceof Error?_.message:C.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},C.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:Q.LoadError,data:g}),new Error(g)},C.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},C.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},C.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},C.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},C.prototype.createBindableArtboard=function(g){if(g!=null){var _=new I(g);return(0,w.createFinalization)(_,_.nativeArtboard),this.bindableArtboards.push(_),_}return null},C.prototype.getArtboard=function(g){var _=this.file.artboardByName(g);if(_!=null)return new q(_,this)},C.prototype.getBindableArtboard=function(g){var _=this.file.bindableArtboardByName(g);return this.createBindableArtboard(_)},C.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},C.prototype.internalBindableArtboardFromArtboard=function(g){var _=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(_)},C.missingErrorMessage="Rive source file or data buffer required",C.fileLoadErrorMessage="The file failed to load",C})(),tt=(function(){function C(g){var _=this,V,J;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.drawOptimization=Ue.DrawOnChanged,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(ge){var Se=_._hasZeroSize!==ge;_._hasZeroSize=ge,ge?(!_._layout.maxX||!_._layout.maxY)&&_.resizeToCanvas():Se&&_.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Ae.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(V=g.layout)!==null&&V!==void 0?V:new et,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.drawOptimization=(J=g.drawingOptions)!==null&&J!==void 0?J:this.drawOptimization,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new B,g.onLoad&&this.on(Q.Load,g.onLoad),g.onLoadError&&this.on(Q.LoadError,g.onLoadError),g.onPlay&&this.on(Q.Play,g.onPlay),g.onPause&&this.on(Q.Pause,g.onPause),g.onStop&&this.on(Q.Stop,g.onStop),g.onLoop&&this.on(Q.Loop,g.onLoop),g.onStateChange&&this.on(Q.StateChange,g.onStateChange),g.onAdvance&&this.on(Q.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(Q.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(Q.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(Q.Play,g.onplay),g.onpause&&!g.onPause&&this.on(Q.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(Q.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(Q.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(Q.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new $(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(C.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),C.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new C(g)},C.prototype.onSystemAudioChanged=function(){this.volume=this._volume},C.prototype.init=function(g){var _=this,V=g.src,J=g.buffer,ge=g.riveFile,Se=g.animations,qe=g.stateMachines,We=g.artboard,Pe=g.autoplay,Tt=Pe===void 0?!1:Pe,jt=g.useOffscreenRenderer,Un=jt===void 0?!1:jt,Lt=g.autoBind,Qn=Lt===void 0?!1:Lt;if(!this.destroyed){if(this.src=V,this.buffer=J,this.riveFile=ge,!this.src&&!this.buffer&&!this.riveFile)throw new De(C.missingErrorMessage);var Ft=vt(Se),Mn=vt(qe);this.loaded=!1,this.readyForPlaying=!1,ut.awaitInstance().then(function(Nn){_.destroyed||(_.runtime=Nn,_.removeRiveListeners(),_.deleteRiveRenderer(),_.renderer=_.runtime.makeRenderer(_.canvas,Un),_.canvas.width||_.canvas.height||_.resizeDrawingSurfaceToCanvas(),_.initData(We,Ft,Mn,Tt,Qn).then(function(Dn){if(Dn)return _.setupRiveListeners()}).catch(function(Dn){console.error(Dn)}))}).catch(function(Nn){console.error(Nn)})}},C.prototype.setupRiveListeners=function(g){var _=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var V=(this.animator.stateMachines||[]).filter(function(qe){return qe.playing&&_.runtime.hasListeners(qe.instance)}).map(function(qe){return qe.instance}),J=this.isTouchScrollEnabled,ge=this.dispatchPointerExit,Se=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(J=g.isTouchScrollEnabled),this.eventCleanup=(0,w.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:V,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:J,dispatchPointerExit:ge,enableMultiTouch:Se,layoutScaleFactor:this._layout.layoutScaleFactor})}},C.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},C.prototype.initializeAudio=function(){var g=this,_;Ce.status==me.UNAVAILABLE&&!((_=this.artboard)===null||_===void 0)&&_.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:Q.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},Ce.add(this._audioEventListener),Ce.establishAudio())},C.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},C.prototype.initData=function(g,_,V,J,ge){return G(this,void 0,void 0,function(){var Se,qe,We,Pe;return te(this,function(Tt){switch(Tt.label){case 0:return Tt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Se=new xe({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Se,[4,Se.init()]);case 1:if(Tt.sent(),this.destroyed)return Se.destroyIfUnused(),[2,!1];Tt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,_,V,J,ge),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:Q.Load,data:(Pe=this.src)!==null&&Pe!==void 0?Pe:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return qe=Tt.sent(),We=be(qe),console.warn(We),this.eventManager.fire({type:Q.LoadError,data:We}),[2,Promise.reject(We)];case 4:return[2]}})})},C.prototype.initArtboard=function(g,_,V,J,ge){if(this.file){var Se=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Se){var qe="Invalid artboard name or no default artboard";console.warn(qe),this.eventManager.fire({type:Q.LoadError,data:qe});return}this.artboard=Se,Se.volume=this._volume*Ce.systemVolume,this.animator=new N(this.runtime,this.artboard,this.eventManager);var We;if(_.length>0||V.length>0?(We=_.concat(V),this.animator.initLinearAnimations(_,J),this.animator.initStateMachines(V,J)):We=[this.animator.atLeastOne(J,!1)],this.taskQueue.add({event:{type:J?Q.Play:Q.Pause,data:We}}),ge){var Pe=this.file.defaultArtboardViewModel(Se);if(Pe!==null){var Tt=Pe.defaultInstance();if(Tt!==null){var jt=new Pt(Tt,null);(0,w.createFinalization)(jt,jt.runtimeInstance),this.bindViewModelInstance(jt)}}}}},C.prototype.drawFrame=function(){var g,_;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(_=this.runtime)===null||_===void 0||_.resolveAnimationFrame()):this.scheduleRendering()},C.prototype.draw=function(g,_){var V;this.frameRequestId=null;var J=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,_?.());var ge=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Se=this.animator.animations.filter(function(Hn){return Hn.playing||Hn.needsScrub}).sort(function(Hn){return Hn.needsScrub?-1:1}),qe=0,We=Se;qe<We.length;qe++){var Pe=We[qe];Pe.advance(ge),Pe.instance.didLoop&&(Pe.loopCount+=1),Pe.apply(1)}for(var Tt=this.animator.stateMachines.filter(function(Hn){return Hn.playing}),jt=0,Un=Tt;jt<Un.length;jt++){var Lt=Un[jt],Qn=Lt.reportedEventCount();if(Qn)for(var Ft=0;Ft<Qn;Ft++){var Mn=Lt.reportedEventAt(Ft);if(Mn)if(Mn.type===H.OpenUrl){if(this.eventManager.fire({type:Q.RiveEvent,data:Mn}),this.automaticallyHandleEvents){var Nn=document.createElement("a"),Dn=Mn,on=Dn.url,yt=Dn.target,tr=(0,w.sanitizeUrl)(on);on&&Nn.setAttribute("href",tr),yt&&Nn.setAttribute("target",yt),tr&&tr!==w.BLANK_URL&&Nn.click()}}else this.eventManager.fire({type:Q.RiveEvent,data:Mn})}Lt.advanceAndApply(ge)}this.animator.stateMachines.length==0&&this.artboard.advance(ge);var On=this.renderer;this._hasZeroSize||(this.drawOptimization==Ue.AlwaysDraw||this.artboard.didChange())&&(On.clear(),On.save(),this.alignRenderer(),this.artboard.draw(On),On.restore(),On.flush()),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(ge),this.frameCount++;var Ot=performance.now();for(this.frameTimes.push(Ot),this.durations.push(Ot-J);this.frameTimes[0]<=Ot-1e3;)this.frameTimes.shift(),this.durations.shift();(V=this._viewModelInstance)===null||V===void 0||V.handleCallbacks(),this.animator.isPlaying?this.scheduleRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},C.prototype.alignRenderer=function(){var g=this,_=g.renderer,V=g.runtime,J=g._layout,ge=g.artboard;_.align(J.runtimeFit(V),J.runtimeAlignment(V),{minX:J.minX,minY:J.minY,maxX:J.maxX,maxY:J.maxY},ge.bounds,this._devicePixelRatioUsed*J.layoutScaleFactor)},Object.defineProperty(C.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,_){return g+_},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),C.prototype.cleanup=function(){var g,_;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ae.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(Ce.remove(this._audioEventListener),this._audioEventListener=null),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=null,this._dataEnums=null},C.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},C.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},C.prototype.retrieveTextRun=function(g){var _;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var V=this.artboard.textRun(g);if(!V){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((_=this.artboard)===null||_===void 0?void 0:_.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return V},C.prototype.getTextRunValue=function(g){var _=this.retrieveTextRun(g);return _?_.text:void 0},C.prototype.setTextRunValue=function(g,_){var V=this.retrieveTextRun(g);V&&(V.text=_)},C.prototype.play=function(g,_){var V=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.play(g,_)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},C.prototype.pause=function(g){var _=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},C.prototype.scrub=function(g,_){var V=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return V.scrub(g,_)}});return}this.animator.scrub(g,_||0),this.drawFrame()},C.prototype.stop=function(g){var _=this;if(g=vt(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return _.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},C.prototype.reset=function(g){var _,V,J=g?.artboard,ge=vt(g?.animations),Se=vt(g?.stateMachines),qe=(_=g?.autoplay)!==null&&_!==void 0?_:!1,We=(V=g?.autoBind)!==null&&V!==void 0?V:!1;this.cleanupInstances(),this.initArtboard(J,ge,Se,qe,We),this.taskQueue.process()},C.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(C.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),C.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},C.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var _=this.canvas.getBoundingClientRect(),V=_.width,J=_.height,ge=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=ge,this.canvas.width=ge*V,this.canvas.height=ge*J,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Le.Layout){var Se=this._layout.layoutScaleFactor;this.artboard.width=V/Se,this.artboard.height=J/Se}}},Object.defineProperty(C.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.animationCount();_++)g.push(this.artboard.animationByIndex(_).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],_=0;_<this.artboard.stateMachineCount();_++)g.push(this.artboard.stateMachineByIndex(_).name);return g},enumerable:!1,configurable:!0}),C.prototype.stateMachineInputs=function(g){if(this.loaded){var _=this.animator.stateMachines.find(function(V){return V.name===g});return _?.inputs}},C.prototype.retrieveInputAtPath=function(g,_){if(!g){console.warn("No input name provided for path '".concat(_,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var V=this.artboard.inputByPath(g,_);if(!V){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V},C.prototype.setBooleanStateAtPath=function(g,_,V){var J=this.retrieveInputAtPath(g,V);J&&(J.type===at.Boolean?J.asBool().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a boolean")))},C.prototype.setNumberStateAtPath=function(g,_,V){var J=this.retrieveInputAtPath(g,V);J&&(J.type===at.Number?J.asNumber().value=_:console.warn("Input with name: '".concat(g,"', at path:'").concat(V,"' is not a number")))},C.prototype.fireStateAtPath=function(g,_){var V=this.retrieveInputAtPath(g,_);V&&(V.type===at.Trigger?V.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(_,"' is not a trigger")))},C.prototype.retrieveTextAtPath=function(g,_){if(!g){console.warn("No text name provided for path '".concat(_,"'"));return}if(!_){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(_,"', but the Artboard is null"));return}var V=this.artboard.textByPath(g,_);if(!V){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V},C.prototype.getTextRunValueAtPath=function(g,_){var V=this.retrieveTextAtPath(g,_);if(!V){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(_,"'"));return}return V.text},C.prototype.setTextRunValueAtPath=function(g,_,V){var J=this.retrieveTextAtPath(g,V);if(!J){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(V,"'"));return}J.text=_},Object.defineProperty(C.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),C.prototype.on=function(g,_){this.eventManager.add({type:g,callback:_})},C.prototype.off=function(g,_){this.eventManager.remove({type:g,callback:_})},C.prototype.unsubscribe=function(g,_){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,_)},C.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},C.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},C.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},C.prototype.startRendering=function(){this.drawFrame()},C.prototype.scheduleRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},C.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},C.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(C.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},_=0;_<this.file.artboardCount();_++){for(var V=this.file.artboardByIndex(_),J={name:V.name,animations:[],stateMachines:[]},ge=0;ge<V.animationCount();ge++){var Se=V.animationByIndex(ge);J.animations.push(Se.name)}for(var qe=0;qe<V.stateMachineCount();qe++){for(var We=V.stateMachineByIndex(qe),Pe=We.name,Tt=new this.runtime.StateMachineInstance(We,V),jt=[],Un=0;Un<Tt.inputCount();Un++){var Lt=Tt.input(Un);jt.push({name:Lt.name,type:Lt.type})}J.stateMachines.push({name:Pe,inputs:jt})}g.artboards.push(J)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*Ce.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),C.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(C.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),C.prototype.bindViewModelInstance=function(g){var _;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(_=this._viewModelInstance)===null||_===void 0||_.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(V){return V.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(C.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),C.prototype.viewModelByIndex=function(g){var _=this.file.viewModelByIndex(g);return _!==null?new mt(_):null},C.prototype.viewModelByName=function(g){var _=this.file.viewModelByName(g);return _!==null?new mt(_):null},C.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(_){return new Dt(_)})}return this._dataEnums},C.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new mt(g)}return null},C.prototype.getArtboard=function(g){var _,V;return(V=(_=this.riveFile)===null||_===void 0?void 0:_.getArtboard(g))!==null&&V!==void 0?V:null},C.prototype.getBindableArtboard=function(g){var _,V;return(V=(_=this.riveFile)===null||_===void 0?void 0:_.getBindableArtboard(g))!==null&&V!==void 0?V:null},C.prototype.getDefaultBindableArtboard=function(){var g,_;return(_=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&_!==void 0?_:null},C.missingErrorMessage="Rive source file or data buffer required",C.cleanupErrorMessage="Attempt to use file after calling cleanup.",C})(),mt=(function(){function C(g){this._viewModel=g}return Object.defineProperty(C.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),C.prototype.instanceByIndex=function(g){var _=this._viewModel.instanceByIndex(g);if(_!==null){var V=new Pt(_,null);return(0,w.createFinalization)(V,_),V}return null},C.prototype.instanceByName=function(g){var _=this._viewModel.instanceByName(g);if(_!==null){var V=new Pt(_,null);return(0,w.createFinalization)(V,_),V}return null},C.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var _=new Pt(g,null);return(0,w.createFinalization)(_,g),_}return null},C.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var _=new Pt(g,null);return(0,w.createFinalization)(_,g),_}return null},Object.defineProperty(C.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),C})(),Dt=(function(){function C(g){this._dataEnum=g}return Object.defineProperty(C.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),C})(),lt;(function(C){C.Number="number",C.String="string",C.Boolean="boolean",C.Color="color",C.Trigger="trigger",C.Enum="enum",C.List="list",C.Image="image",C.Artboard="artboard"})(lt||(lt={}));var Pt=(function(){function C(g,_){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,_!==null&&this._parents.push(_)}return Object.defineProperty(C.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),C.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},C.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},C.prototype.removeParent=function(g){var _=this._parents.indexOf(g);if(_!==-1){var V=this._parents[_];V.removeFromViewModelCallbacks(this),this._parents.splice(_,1)}},C.prototype.addToPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(V){V.addToViewModelCallbacks(_)}))},C.prototype.removeFromPropertyCallbacks=function(g){var _=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(_)}))},C.prototype.addToViewModelCallbacks=function(g){var _=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(V){V.addToViewModelCallbacks(_)}))},C.prototype.removeFromViewModelCallbacks=function(g){var _=this;this._children.includes(g)&&(this._children=this._children.filter(function(V){return V!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(V){V.removeFromViewModelCallbacks(_)}))},C.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},C.prototype.propertyFromPath=function(g,_){var V=g.split("/");return this.propertyFromPathSegments(V,0,_)},C.prototype.viewModelFromPathSegments=function(g,_){var V=this.internalViewModelInstance(g[_]);return V!==null?_==g.length-1?V:V.viewModelFromPathSegments(g,_++):null},C.prototype.propertyFromPathSegments=function(g,_,V){var J,ge,Se,qe,We,Pe,Tt,jt,Un,Lt,Qn,Ft,Mn,Nn,Dn,on,yt,tr;if(_<g.length-1){var On=this.internalViewModelInstance(g[_]);return On!==null?On.propertyFromPathSegments(g,_+1,V):null}var Ot=null;switch(V){case lt.Number:if(Ot=(ge=(J=this._runtimeInstance)===null||J===void 0?void 0:J.number(g[_]))!==null&&ge!==void 0?ge:null,Ot!==null)return new It(Ot,this);break;case lt.String:if(Ot=(qe=(Se=this._runtimeInstance)===null||Se===void 0?void 0:Se.string(g[_]))!==null&&qe!==void 0?qe:null,Ot!==null)return new ct(Ot,this);break;case lt.Boolean:if(Ot=(Pe=(We=this._runtimeInstance)===null||We===void 0?void 0:We.boolean(g[_]))!==null&&Pe!==void 0?Pe:null,Ot!==null)return new Wt(Ot,this);break;case lt.Color:if(Ot=(jt=(Tt=this._runtimeInstance)===null||Tt===void 0?void 0:Tt.color(g[_]))!==null&&jt!==void 0?jt:null,Ot!==null)return new Kt(Ot,this);break;case lt.Trigger:if(Ot=(Lt=(Un=this._runtimeInstance)===null||Un===void 0?void 0:Un.trigger(g[_]))!==null&&Lt!==void 0?Lt:null,Ot!==null)return new Qt(Ot,this);break;case lt.Enum:if(Ot=(Ft=(Qn=this._runtimeInstance)===null||Qn===void 0?void 0:Qn.enum(g[_]))!==null&&Ft!==void 0?Ft:null,Ot!==null)return new Wn(Ot,this);break;case lt.List:if(Ot=(Nn=(Mn=this._runtimeInstance)===null||Mn===void 0?void 0:Mn.list(g[_]))!==null&&Nn!==void 0?Nn:null,Ot!==null)return new Mr(Ot,this);break;case lt.Image:if(Ot=(on=(Dn=this._runtimeInstance)===null||Dn===void 0?void 0:Dn.image(g[_]))!==null&&on!==void 0?on:null,Ot!==null)return new Ke(Ot,this);break;case lt.Artboard:if(Ot=(tr=(yt=this._runtimeInstance)===null||yt===void 0?void 0:yt.artboard(g[_]))!==null&&tr!==void 0?tr:null,Ot!==null)return new St(Ot,this);break}return null},C.prototype.internalViewModelInstance=function(g){var _;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var V=(_=this._runtimeInstance)===null||_===void 0?void 0:_.viewModel(g);if(V!==null){var J=new C(V,this);return(0,w.createFinalization)(J,V),J.internalIncrementReferenceCount(),this._viewModelInstances.set(g,J),J}return null},C.prototype.number=function(g){var _=this.propertyFromPath(g,lt.Number);return _},C.prototype.string=function(g){var _=this.propertyFromPath(g,lt.String);return _},C.prototype.boolean=function(g){var _=this.propertyFromPath(g,lt.Boolean);return _},C.prototype.color=function(g){var _=this.propertyFromPath(g,lt.Color);return _},C.prototype.trigger=function(g){var _=this.propertyFromPath(g,lt.Trigger);return _},C.prototype.enum=function(g){var _=this.propertyFromPath(g,lt.Enum);return _},C.prototype.list=function(g){var _=this.propertyFromPath(g,lt.List);return _},C.prototype.image=function(g){var _=this.propertyFromPath(g,lt.Image);return _},C.prototype.artboard=function(g){var _=this.propertyFromPath(g,lt.Artboard);return _},C.prototype.viewModel=function(g){var _=g.split("/"),V=_.length>1?this.viewModelFromPathSegments(_.slice(0,_.length-1),0):this;return V!=null?V.internalViewModelInstance(_[_.length-1]):null},C.prototype.internalReplaceViewModel=function(g,_){var V;if(_.runtimeInstance!==null){var J=((V=this._runtimeInstance)===null||V===void 0?void 0:V.replaceViewModel(g,_.runtimeInstance))||!1;if(J){_.internalIncrementReferenceCount();var ge=this.internalViewModelInstance(g);ge!==null&&(ge.removeParent(this),this._children.includes(ge)&&(this._children=this._children.filter(function(Se){return Se!==ge})),ge.cleanup()),this._viewModelInstances.set(g,_),_.addParent(this)}return J}return!1},C.prototype.replaceViewModel=function(g,_){var V,J=g.split("/"),ge=J.length>1?this.viewModelFromPathSegments(J.slice(0,J.length-1),0):this;return(V=ge?.internalReplaceViewModel(J[J.length-1],_))!==null&&V!==void 0?V:!1},C.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},C.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(C.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(_){return O({},_)}))||[]},enumerable:!1,configurable:!0}),C.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},C.prototype.cleanup=function(){var g=this,_;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((_=this._runtimeInstance)===null||_===void 0||_.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(ge){ge.cleanup()}),this._viewModelInstances.clear();var V=z([],this._children,!0);this._children.length=0;var J=z([],this._parents,!0);this._parents.length=0,V.forEach(function(ge){ge.removeParent(g)}),J.forEach(function(ge){ge.removeFromViewModelCallbacks(g)})}},C})(),Bt=(function(){function C(g,_){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=_}return C.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},C.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(_){return _!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},C.prototype.internalHandleCallback=function(g){},C.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(_){g.internalHandleCallback(_)})},C.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},C.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(C.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),C})(),ct=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),It=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Wt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Qt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(_){_()},g})(Bt),Wn=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(_){this._viewModelInstanceValue.valueIndex=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Mr=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(_.runtimeInstance),_.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(_,V){return _.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(_.runtimeInstance,V)?(_.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(_){_.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(_.runtimeInstance),_.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(_){this._viewModelInstanceValue.removeInstanceAt(_)},g.prototype.instanceAt=function(_){var V=this._viewModelInstanceValue.instanceAt(_);if(V!=null){var J=new Pt(V,this._parentViewModel);return(0,w.createFinalization)(J,V),J}return null},g.prototype.swap=function(_,V){this._viewModelInstanceValue.swap(_,V)},g.prototype.internalHandleCallback=function(_){_()},g})(Bt),Kt=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(_){this._viewModelInstanceValue.value=_},enumerable:!1,configurable:!0}),g.prototype.rgb=function(_,V,J){this._viewModelInstanceValue.rgb(_,V,J)},g.prototype.rgba=function(_,V,J,ge){this._viewModelInstanceValue.argb(ge,_,V,J)},g.prototype.argb=function(_,V,J,ge){this._viewModelInstanceValue.argb(_,V,J,ge)},g.prototype.alpha=function(_){this._viewModelInstanceValue.alpha(_)},g.prototype.opacity=function(_){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,_))*255))},g.prototype.internalHandleCallback=function(_){_(this.value)},g})(Bt),Ke=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var V;this._viewModelInstanceValue.value((V=_?.nativeImage)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Bt),St=(function(C){x(g,C);function g(_,V){return C.call(this,_,V)||this}return Object.defineProperty(g.prototype,"value",{set:function(_){var V,J;_.isBindableArtboard?J=_:J=_.file.internalBindableArtboardFromArtboard(_.nativeArtboard),this._viewModelInstanceValue.value((V=J?.nativeArtboard)!==null&&V!==void 0?V:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(_){_()},g})(Bt),sn=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Request(C),[4,fetch(g)];case 1:return _=J.sent(),[4,_.arrayBuffer()];case 2:return V=J.sent(),[2,V]}})})},vt=function(C){return typeof C=="string"?[C]:C instanceof Array?C:[]},wn={EventManager:B,TaskQueueManager:$},_t=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Promise(function(ge){return ut.getInstance(function(Se){Se.decodeAudio(C,ge)})}),[4,g];case 1:return _=J.sent(),V=new w.AudioWrapper(_),w.finalizationRegistry.register(V,_),[2,V]}})})},Tn=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Promise(function(ge){return ut.getInstance(function(Se){Se.decodeImage(C,ge)})}),[4,g];case 1:return _=J.sent(),V=new w.ImageWrapper(_),w.finalizationRegistry.register(V,_),[2,V]}})})},mn=function(C){return G(void 0,void 0,void 0,function(){var g,_,V;return te(this,function(J){switch(J.label){case 0:return g=new Promise(function(ge){return ut.getInstance(function(Se){Se.decodeFont(C,ge)})}),[4,g];case 1:return _=J.sent(),V=new w.FontWrapper(_),w.finalizationRegistry.register(V,_),[2,V]}})})}})(),c})())})(xf)),xf.exports}var E0;function QT(){return E0||(E0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=oh(),r=WT();function a(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var l=a(e),c=function(){return c=Object.assign||function(I){for(var P,N=1,Q=arguments.length;N<Q;N++)for(var ie in P=arguments[N])Object.prototype.hasOwnProperty.call(P,ie)&&(I[ie]=P[ie]);return I},c.apply(this,arguments)};function p(I,P){var N={};for(var Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&P.indexOf(Q)<0&&(N[Q]=I[Q]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function"){var ie=0;for(Q=Object.getOwnPropertySymbols(I);ie<Q.length;ie++)P.indexOf(Q[ie])<0&&Object.prototype.propertyIsEnumerable.call(I,Q[ie])&&(N[Q[ie]]=I[Q[ie]])}return N}function b(I,P,N,Q){return new(N||(N=Promise))(function(ie,B){function $(Ce){try{he(Q.next(Ce))}catch(U){B(U)}}function me(Ce){try{he(Q.throw(Ce))}catch(U){B(U)}}function he(Ce){var U;Ce.done?ie(Ce.value):(U=Ce.value,U instanceof N?U:new N(function(oe){oe(U)})).then($,me)}he((Q=Q.apply(I,[])).next())})}function E(I,P){var N,Q,ie,B,$={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]};return B={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function me(he){return function(Ce){return(function(U){if(N)throw new TypeError("Generator is already executing.");for(;$;)try{if(N=1,Q&&(ie=2&U[0]?Q.return:U[0]?Q.throw||((ie=Q.return)&&ie.call(Q),0):Q.next)&&!(ie=ie.call(Q,U[1])).done)return ie;switch(Q=0,ie&&(U=[2&U[0],ie.value]),U[0]){case 0:case 1:ie=U;break;case 4:return $.label++,{value:U[1],done:!1};case 5:$.label++,Q=U[1],U=[0];continue;case 7:U=$.ops.pop(),$.trys.pop();continue;default:if(ie=$.trys,!((ie=ie.length>0&&ie[ie.length-1])||U[0]!==6&&U[0]!==2)){$=0;continue}if(U[0]===3&&(!ie||U[1]>ie[0]&&U[1]<ie[3])){$.label=U[1];break}if(U[0]===6&&$.label<ie[1]){$.label=ie[1],ie=U;break}if(ie&&$.label<ie[2]){$.label=ie[2],$.ops.push(U);break}ie[2]&&$.ops.pop(),$.trys.pop();continue}U=P.call(I,$)}catch(oe){U=[6,oe],Q=0}finally{N=ie=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}})([he,Ce])}}}function w(I){var P=I||x(),N=e.useState(P),Q=N[0],ie=N[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var B=function(){var me=I||x();ie(me)},$=window.matchMedia("screen and (resolution: ".concat(Q,"dppx)"));return $.hasOwnProperty("addEventListener")?$.addEventListener("change",B):$.addListener(B),function(){$.hasOwnProperty("removeEventListener")?$.removeEventListener("change",B):$.removeListener(B)}}},[Q,I]),Q}function x(){var I=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,I),3)}var O=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),G=globalThis.ResizeObserver||O,te=globalThis.ResizeObserver!==void 0,z=!te;function De(I,P){P===void 0&&(P=!0);var N=e.useState({width:0,height:0}),Q=N[0],ie=N[1];e.useEffect(function(){if(typeof window<"u"&&P){var Ce=function(){ie({width:window.innerWidth,height:window.innerHeight})};return z&&(Ce(),window.addEventListener("resize",Ce)),function(){return window.removeEventListener("resize",Ce)}}},[]);var B,$,me,he=e.useRef(new G((B=function(Ce){te&&ie({width:Ce[Ce.length-1].contentRect.width,height:Ce[Ce.length-1].contentRect.height})},$=0,me=0,function(){for(var Ce=this,U=[],oe=0;oe<arguments.length;oe++)U[oe]=arguments[oe];clearTimeout(me),me=window.setTimeout(function(){return B.apply(Ce,U)},$)})));return e.useEffect(function(){var Ce=he.current;if(P){var U=I.current;return I.current&&te&&Ce.observe(I.current),function(){Ce.disconnect(),U&&te&&Ce.unobserve(U)}}Ce.disconnect()},[I,he]),Q}var be={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Le(I){return Object.assign({},be,I)}function j(I){var P=I.riveLoaded,N=P!==void 0&&P,Q=I.canvasElem,ie=I.containerRef,B=I.options,$=B===void 0?{}:B,me=I.onCanvasHasResized,he=I.artboardBounds,Ce=Le($),U=e.useState({height:0,width:0}),oe=U[0],Ne=oe.height,Ae=oe.width,xe=U[1],tt=e.useState({height:0,width:0}),mt=tt[0],Dt=mt.height,lt=mt.width,Pt=tt[1],Bt=e.useState(!0),ct=Bt[0],It=Bt[1],Wt=Ce.fitCanvasToArtboardHeight,Qt=Ce.shouldResizeCanvasToContainer,Wn=Ce.useDevicePixelRatio,Mr=Ce.customDevicePixelRatio,Kt=De(ie,Qt),Ke=w(Mr),St=he??{},sn=St.maxX,vt=St.maxY,wn=e.useCallback(function(){var _t,Tn,mn,C,g=(Tn=(_t=ie.current)===null||_t===void 0?void 0:_t.clientWidth)!==null&&Tn!==void 0?Tn:0,_=(C=(mn=ie.current)===null||mn===void 0?void 0:mn.clientHeight)!==null&&C!==void 0?C:0;return Wt&&he?{width:g,height:g*(he.maxY/he.maxX)}:{width:g,height:_}},[ie,Wt,sn,vt]);e.useEffect(function(){if(Qt&&ie.current&&N){var _t=wn(),Tn=_t.width,mn=_t.height,C=!1;if(Q){var g=Tn!==Ae||mn!==Ne;if(Ce.fitCanvasToArtboardHeight&&g&&(ie.current.style.height=mn+"px",C=!0),Ce.useDevicePixelRatio){if(g||Tn*Ke!==lt||mn*Ke!==Dt){var _=Ke*Tn,V=Ke*mn;Q.width=_,Q.height=V,Q.style.width=Tn+"px",Q.style.height=mn+"px",Pt({width:_,height:V}),C=!0}}else g&&(Q.width=Tn,Q.height=mn,Pt({width:Tn,height:mn}),C=!0);xe({width:Tn,height:mn})}me&&(ct||C)&&me&&me(),ct&&It(!1)}},[Q,ie,Kt,Ke,wn,ct,It,Dt,lt,Ne,Ae,me,Qt,Wt,Wn,N]),e.useEffect(function(){Pt({width:0,height:0})},[Q])}var Ue,et=(function(){function I(){}return I.prototype.observe=function(){},I.prototype.unobserve=function(){},I.prototype.disconnect=function(){},I})(),ut=globalThis.IntersectionObserver||et,at=(function(){function I(){var P=this;this.elementsMap=new Map,this.onObserved=function(N){N.forEach(function(Q){var ie=P.elementsMap.get(Q.target);ie&&ie(Q)})},this.observer=new ut(this.onObserved)}return I.prototype.registerCallback=function(P,N){this.observer.observe(P),this.elementsMap.set(P,N)},I.prototype.removeCallback=function(P){this.observer.unobserve(P),this.elementsMap.delete(P)},I})(),Y=function(){return Ue||(Ue=new at),Ue};function H(I){var P=I.setContainerRef,N=I.setCanvasRef,Q=I.className,ie=Q===void 0?"":Q,B=I.style,$=I.children,me=p(I,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},B);return l.default.createElement("div",c({ref:P,className:ie},!ie&&{style:he}),l.default.createElement("canvas",c({ref:N,style:{verticalAlign:"top",width:0,height:0}},me),$))}function L(I,P){P===void 0&&(P={});var N=e.useState(null),Q=N[0],ie=N[1],B=e.useRef(null),$=e.useRef(null),me=e.useState(null),he=me[0],Ce=me[1],U=!!I,oe=Le(P),Ne=w(),Ae=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===r.Fit.Layout&&Q){var ct=Ne*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Ne,he.artboardWidth=Q?.width/ct,he.artboardHeight=Q?.height/ct}he.startRendering(),he.resizeToCanvas()}},[he,Ne]);j({riveLoaded:!!he,canvasElem:Q,containerRef:B,options:oe,onCanvasHasResized:Ae,artboardBounds:he?.bounds});var xe=e.useCallback(function(ct){ct===null&&Q&&(Q.height=0,Q.width=0),ie(ct)},[]);e.useEffect(function(){if(Q&&I){var ct,It=he!=null;if(he==null){var Wt=oe.useOffscreenRenderer,Qt=I.onRiveReady,Wn=p(I,["onRiveReady"]);ct=new r.Rive(c(c({useOffscreenRenderer:Wt},Wn),{canvas:Q})),$.current!=null&&$.current.cleanup(),$.current=ct,ct.on(r.EventType.Load,function(){It=!0,Qt&&Qt(ct),Q?Ce(ct):ct.cleanup()})}return function(){It||ct==null||ct.cleanup()}}},[Q,U,he]);var tt=e.useCallback(function(ct){B.current=ct},[]),mt={observe:e.useCallback(function(ct,It){Y().registerCallback(ct,It)},[]),unobserve:e.useCallback(function(ct){Y().removeCallback(ct)},[])},Dt=mt.observe,lt=mt.unobserve;e.useEffect(function(){var ct,It=!1,Wt=function(){if(Q&&It){var Qt=Q.getBoundingClientRect();Qt.width>0&&Qt.height>0&&Qt.top<(window.innerHeight||document.documentElement.clientHeight)&&Qt.bottom>0&&Qt.left<(window.innerWidth||document.documentElement.clientWidth)&&Qt.right>0&&(he?.startRendering(),It=!1)}};return Q&&oe.shouldUseIntersectionObserver!==!1&&Dt(Q,function(Qt){Qt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),It=!Qt.isIntersecting,clearTimeout(ct),Qt.isIntersecting||Qt.boundingClientRect.width!==0||(ct=setTimeout(Wt,10))}),function(){Q&&lt(Q)}},[Dt,lt,he,Q,oe.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Ce(null))}},[he,Q]),e.useEffect(function(){return function(){$.current!=null&&$.current.cleanup()}},[]);var Pt=I?.animations;e.useEffect(function(){he&&Pt&&(he.isPlaying?(he.stop(he.animationNames),he.play(Pt)):he.isPaused&&(he.stop(he.animationNames),he.pause(Pt)))},[Pt,he]);var Bt=e.useCallback(function(ct){return l.default.createElement(H,c({setContainerRef:tt,setCanvasRef:xe},ct))},[xe,tt]);return{canvas:Q,container:B.current,setCanvasRef:xe,setContainerRef:tt,rive:he,RiveComponent:Bt}}function q(I,P,N){var Q=e.useState(null),ie=Q[0],B=Q[1],$=e.useState(N.defaultValue),me=$[0],he=$[1],Ce=e.useState(null),U=Ce[0],oe=Ce[1],Ne=e.useRef(null),Ae=e.useRef(I),xe=e.useRef(N);e.useEffect(function(){xe.current=N},[N]);var tt=e.useCallback(function(){var Pt=Ne.current,Bt=Ae.current,ct=xe.current;if(!Pt||!Bt)return B(null),he(ct.defaultValue),oe(null),function(){};var It=ct.getProperty(Pt,Bt);if(It){B(It),he(ct.getValue(It)),ct.getExtendedData&&oe(ct.getExtendedData(It));var Wt=function(){he(ct.getValue(It)),ct.getExtendedData&&oe(ct.getExtendedData(It)),ct.onPropertyEvent&&ct.onPropertyEvent()};return It.on(Wt),function(){It.off(Wt)}}return function(){}},[]);e.useEffect(function(){return Ne.current=P,Ae.current=I,tt()},[P,I,tt]);var mt=e.useCallback(function(Pt){if(ie&&Ne.current===P)try{return Pt(ie),void(xe.current.getExtendedData&&oe(xe.current.getExtendedData(ie)))}catch{}if(Ne.current)try{var Bt=xe.current.getProperty(Ne.current,Ae.current);Bt&&(B(Bt),Pt(Bt),xe.current.getExtendedData&&oe(xe.current.getExtendedData(Bt)))}catch{}},[ie,P]),Dt=e.useMemo(function(){return xe.current.buildPropertyOperations(mt)},[mt]),lt=c({value:me},Dt);return N.getExtendedData&&(lt.extendedData=U),lt}i.default=function(I){var P=I.src,N=I.artboard,Q=I.animations,ie=I.stateMachines,B=I.layout,$=I.useOffscreenRenderer,me=$===void 0||$,he=I.shouldDisableRiveListeners,Ce=he!==void 0&&he,U=I.shouldResizeCanvasToContainer,oe=U===void 0||U,Ne=I.automaticallyHandleEvents,Ae=Ne!==void 0&&Ne,xe=I.children,tt=p(I,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),mt=L({src:P,artboard:N,animations:Q,layout:B,stateMachines:ie,autoplay:!0,shouldDisableRiveListeners:Ce,automaticallyHandleEvents:Ae},{useOffscreenRenderer:me,shouldResizeCanvasToContainer:oe}).RiveComponent;return l.default.createElement(mt,c({},tt),xe)},i.useResizeCanvas=j,i.useRive=L,i.useRiveFile=function(I){var P=this,N=e.useState(null),Q=N[0],ie=N[1],B=e.useState("idle"),$=B[0],me=B[1];return e.useEffect(function(){var he=null;return b(P,void 0,void 0,function(){return E(this,function(Ce){try{me("loading"),(he=new r.RiveFile(I)).init(),he.on(r.EventType.Load,function(){he?.getInstance(),ie(he),me("success")}),he.on(r.EventType.LoadError,function(){me("failed")}),ie(he)}catch(U){console.error(U),me("failed")}return[2]})}),function(){he?.cleanup()}},[I.src,I.buffer]),{riveFile:Q,status:$}},i.useStateMachineInput=function(I,P,N,Q){var ie=e.useState(null),B=ie[0],$=ie[1];return e.useEffect(function(){function me(){if(I&&P&&N||$(null),I&&P&&N){var he=I.stateMachineInputs(P);if(he){var Ce=he.find(function(U){return U.name===N});Q!==void 0&&Ce&&(Ce.value=Q),$(Ce||null)}}else $(null)}me(),I&&I.on(r.EventType.Load,function(){me()})},[I]),B},i.useViewModel=function(I,P){var N=P??{},Q=N.name,ie=N.useDefault,B=ie!==void 0&&ie,$=e.useState(null),me=$[0],he=$[1];return e.useEffect(function(){function Ce(){var U;if(I){var oe=null;oe=Q!=null?((U=I.viewModelByName)===null||U===void 0?void 0:U.call(I,Q))||null:I.defaultViewModel()||null,he(oe)}else he(null)}return Ce(),I&&I.on(r.EventType.Load,Ce),function(){I&&I.off(r.EventType.Load,Ce)}},[I,Q,B]),me},i.useViewModelInstance=function(I,P){var N=P??{},Q=N.name,ie=N.useDefault,B=ie!==void 0&&ie,$=N.useNew,me=$!==void 0&&$,he=N.rive,Ce=e.useState(null),U=Ce[0],oe=Ce[1];return e.useEffect(function(){var Ne,Ae,xe;if(I){var tt=null;tt=Q!=null?I.instanceByName(Q)||null:B?((Ne=I.defaultInstance)===null||Ne===void 0?void 0:Ne.call(I))||null:me?((Ae=I.instance)===null||Ae===void 0?void 0:Ae.call(I))||null:((xe=I.defaultInstance)===null||xe===void 0?void 0:xe.call(I))||null,oe(tt),he&&tt&&he.viewModelInstance!==tt&&he.bindViewModelInstance(tt)}else oe(null)},[I,Q,B,me,he]),U},i.useViewModelInstanceArtboard=function(I,P){return{setValue:q(I,P,{getProperty:e.useCallback(function(N,Q){return N.artboard(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(N){return{setValue:function(Q){N(function(ie){ie.value=Q})}}},[])}).setValue}},i.useViewModelInstanceBoolean=function(I,P){var N=q(I,P,{getProperty:e.useCallback(function(Q,ie){return Q.boolean(ie)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ie){Q(function(B){B.value=ie})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceColor=function(I,P){var N=q(I,P,{getProperty:e.useCallback(function(Q,ie){return Q.color(ie)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ie){Q(function(B){B.value=ie})},setRgb:function(ie,B,$){Q(function(me){me.rgb(ie,B,$)})},setRgba:function(ie,B,$,me){Q(function(he){he.rgba(ie,B,$,me)})},setAlpha:function(ie){Q(function(B){B.alpha(ie)})},setOpacity:function(ie){Q(function(B){B.opacity(ie)})}}},[])});return{value:N.value,setValue:N.setValue,setRgb:N.setRgb,setRgba:N.setRgba,setAlpha:N.setAlpha,setOpacity:N.setOpacity}},i.useViewModelInstanceEnum=function(I,P){var N=q(I,P,{getProperty:e.useCallback(function(Q,ie){return Q.enum(ie)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(Q){return Q.values},[]),buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ie){Q(function(B){B.value=ie})}}},[])});return{value:N.value,values:N.extendedData||[],setValue:N.setValue}},i.useViewModelInstanceImage=function(I,P){return{setValue:q(I,P,{getProperty:e.useCallback(function(N,Q){return N.image(Q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(N){return{setValue:function(Q){N(function(ie){ie.value=Q})}}},[])}).setValue}},i.useViewModelInstanceList=function(I,P){var N,Q=e.useState(0)[1],ie=q(I,P,{getProperty:e.useCallback(function(B,$){return B.list($)},[]),getValue:e.useCallback(function(B){return B.length},[]),defaultValue:null,onPropertyEvent:function(){Q(function(B){return B+1})},buildPropertyOperations:e.useCallback(function(B){return{addInstance:function($){B(function(me){return me.addInstance($)})},addInstanceAt:function($,me){var he=!1;return B(function(Ce){he=Ce.addInstanceAt($,me)}),he},removeInstance:function($){B(function(me){return me.removeInstance($)})},removeInstanceAt:function($){B(function(me){return me.removeInstanceAt($)})},getInstanceAt:function($){var me=null;return B(function(he){me=he.instanceAt($)}),me},swap:function($,me){B(function(he){return he.swap($,me)})}}},[])});return{length:(N=ie.value)!==null&&N!==void 0?N:0,addInstance:ie.addInstance,addInstanceAt:ie.addInstanceAt,removeInstance:ie.removeInstance,removeInstanceAt:ie.removeInstanceAt,getInstanceAt:ie.getInstanceAt,swap:ie.swap}},i.useViewModelInstanceNumber=function(I,P){var N=q(I,P,{getProperty:e.useCallback(function(Q,ie){return Q.number(ie)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ie){Q(function(B){B.value=ie})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceString=function(I,P){var N=q(I,P,{getProperty:e.useCallback(function(Q,ie){return Q.string(ie)},[]),getValue:e.useCallback(function(Q){return Q.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(Q){return{setValue:function(ie){Q(function(B){B.value=ie})}}},[])});return{value:N.value,setValue:N.setValue}},i.useViewModelInstanceTrigger=function(I,P,N){var Q=(N??{}).onTrigger;return{trigger:q(I,P,{getProperty:e.useCallback(function(ie,B){return ie.trigger(B)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:Q,buildPropertyOperations:e.useCallback(function(ie){return{trigger:function(){ie(function(B){B.trigger()})}}},[])}).trigger}},Object.keys(r).forEach(function(I){I==="default"||i.hasOwnProperty(I)||Object.defineProperty(i,I,{enumerable:!0,get:function(){return r[I]}})})})(bm)),bm}var uo=QT();const KT=()=>{};var w0={};const nb=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},$T=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],b=i[r++],E=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[a++]=String.fromCharCode(55296+(E>>10)),e[a++]=String.fromCharCode(56320+(E&1023))}else{const c=i[r++],p=i[r++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,b=p?i[l+1]:0,E=l+2<i.length,w=E?i[l+2]:0,x=c>>2,O=(c&3)<<4|b>>4;let G=(b&15)<<2|w>>6,te=w&63;E||(te=64,p||(G=64)),a.push(r[x],r[O],r[G],r[te])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$T(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],b=l<i.length?r[i.charAt(l)]:0;++l;const w=l<i.length?r[i.charAt(l)]:64;++l;const O=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||b==null||w==null||O==null)throw new JT;const G=c<<2|b>>4;if(a.push(G),w!==64){const te=b<<4&240|w>>2;if(a.push(te),O!==64){const z=w<<6&192|O;a.push(z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZT=function(i){const e=nb(i);return rb.encodeByteArray(e,!0)},Bf=function(i){return ZT(i).replace(/\./g,"")},ib=function(i){try{return rb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tA=()=>eA().__FIREBASE_DEFAULTS__,nA=()=>{if(typeof process>"u"||typeof w0>"u")return;const i=w0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},rA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ib(i[1]);return e&&JSON.parse(e)},lh=()=>{try{return KT()||tA()||nA()||rA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ab=i=>lh()?.emulatorHosts?.[i],iA=i=>{const e=ab(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},sb=()=>lh()?.config,ob=i=>lh()?.[`_${i}`];class aA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}function Ql(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lb(i){return(await fetch(i,{credentials:"include"})).ok}function sA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bf(JSON.stringify(r)),Bf(JSON.stringify(p)),""].join(".")}const Hu={};function oA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?i.emulator.push(e):i.prod.push(e);return i}function lA(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let T0=!1;function ub(i,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Hu[i]===e||Hu[i]||T0)return;Hu[i]=e;function r(G){return`__firebase__banner__${G}`}const a="__firebase__banner",c=oA().prod.length>0;function p(){const G=document.getElementById(a);G&&G.remove()}function b(G){G.style.display="flex",G.style.background="#7faaf0",G.style.position="fixed",G.style.bottom="5px",G.style.left="5px",G.style.padding=".5em",G.style.borderRadius="5px",G.style.alignItems="center"}function E(G,te){G.setAttribute("width","24"),G.setAttribute("id",te),G.setAttribute("height","24"),G.setAttribute("viewBox","0 0 24 24"),G.setAttribute("fill","none"),G.style.marginLeft="-6px"}function w(){const G=document.createElement("span");return G.style.cursor="pointer",G.style.marginLeft="16px",G.style.fontSize="24px",G.innerHTML=" &times;",G.onclick=()=>{T0=!0,p()},G}function x(G,te){G.setAttribute("id",te),G.innerText="Learn more",G.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",G.setAttribute("target","__blank"),G.style.paddingLeft="5px",G.style.textDecoration="underline"}function O(){const G=lA(a),te=r("text"),z=document.getElementById(te)||document.createElement("span"),De=r("learnmore"),be=document.getElementById(De)||document.createElement("a"),Le=r("preprendIcon"),j=document.getElementById(Le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(G.created){const Ue=G.element;b(Ue),x(be,De);const et=w();E(j,Le),Ue.append(j,z,be,et),document.body.appendChild(Ue)}c?(z.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}function Ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ti())}function cA(){const i=lh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){const i=Ti();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pA(){return!cA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gA(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(r){e(r)}})}const vA="FirebaseError";class Ns extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=vA,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?_A(c,a):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ns(l,b,a)}}function _A(i,e){return i.replace(bA,(r,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const bA=/\{\$([^}]+)}/g;function EA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fo(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const l of r){if(!a.includes(l))return!1;const c=i[l],p=e[l];if(A0(c)&&A0(p)){if(!Fo(c,p))return!1}else if(c!==p)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function A0(i){return i!==null&&typeof i=="object"}function lc(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wA(i,e){const r=new TA(i,e);return r.subscribe.bind(r)}class TA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let l;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");AA(e,["next","error","complete"])?l=e:l={next:e,error:r,complete:a},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function Em(){}function aa(i){return i&&i._delegate?i._delegate:i}class Ho{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class SA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new aA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RA(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);a===b&&p.resolve(l)}return l}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(i){return i===Bo?void 0:i}function RA(i){return i.instantiationMode==="EAGER"}class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new SA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var tn;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(tn||(tn={}));const xA={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},MA=tn.INFO,NA={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},DA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),l=NA[e];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=DA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const OA=(i,e)=>e.some(r=>i instanceof r);let S0,C0;function kA(){return S0||(S0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VA(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cb=new WeakMap,zm=new WeakMap,fb=new WeakMap,wm=new WeakMap,mp=new WeakMap;function PA(i){const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(fo(i.result)),l()},p=()=>{a(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&cb.set(r,i)}).catch(()=>{}),mp.set(e,i),e}function LA(i){if(zm.has(i))return;const e=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});zm.set(i,e)}let Bm={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fb.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fo(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function UA(i){Bm=i(Bm)}function zA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Tm(this),e,...r);return fb.set(a,e.sort?e.sort():[e]),fo(a)}:VA().includes(i)?function(...e){return i.apply(Tm(this),e),fo(cb.get(this))}:function(...e){return fo(i.apply(Tm(this),e))}}function BA(i){return typeof i=="function"?zA(i):(i instanceof IDBTransaction&&LA(i),OA(i,kA())?new Proxy(i,Bm):i)}function fo(i){if(i instanceof IDBRequest)return PA(i);if(wm.has(i))return wm.get(i);const e=BA(i);return e!==i&&(wm.set(i,e),mp.set(e,i)),e}const Tm=i=>mp.get(i);function jA(i,e,{blocked:r,upgrade:a,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),b=fo(p);return a&&p.addEventListener("upgradeneeded",E=>{a(fo(p.result),E.oldVersion,E.newVersion,fo(p.transaction),E)}),r&&p.addEventListener("blocked",E=>r(E.oldVersion,E.newVersion,E)),b.then(E=>{c&&E.addEventListener("close",()=>c()),l&&E.addEventListener("versionchange",w=>l(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const FA=["get","getKey","getAll","getAllKeys","count"],HA=["put","add","delete","clear"],Am=new Map;function R0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,l=HA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||FA.includes(r)))return;const c=async function(p,...b){const E=this.transaction(p,l?"readwrite":"readonly");let w=E.store;return a&&(w=w.index(b.shift())),(await Promise.all([w[r](...b),l&&E.done]))[0]};return Am.set(e,c),c}UA(i=>({...i,get:(e,r,a)=>R0(e,r)||i.get(e,r,a),has:(e,r)=>!!R0(e,r)||i.has(e,r)}));class qA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(GA(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function GA(i){return i.getComponent()?.type==="VERSION"}const jm="@firebase/app",I0="0.14.6";const Ss=new dp("@firebase/app"),YA="@firebase/app-compat",XA="@firebase/analytics-compat",WA="@firebase/analytics",QA="@firebase/app-check-compat",KA="@firebase/app-check",$A="@firebase/auth",JA="@firebase/auth-compat",ZA="@firebase/database",eS="@firebase/data-connect",tS="@firebase/database-compat",nS="@firebase/functions",rS="@firebase/functions-compat",iS="@firebase/installations",aS="@firebase/installations-compat",sS="@firebase/messaging",oS="@firebase/messaging-compat",lS="@firebase/performance",uS="@firebase/performance-compat",cS="@firebase/remote-config",fS="@firebase/remote-config-compat",hS="@firebase/storage",dS="@firebase/storage-compat",mS="@firebase/firestore",pS="@firebase/ai",gS="@firebase/firestore-compat",yS="firebase",vS="12.6.0";const Fm="[DEFAULT]",_S={[jm]:"fire-core",[YA]:"fire-core-compat",[WA]:"fire-analytics",[XA]:"fire-analytics-compat",[KA]:"fire-app-check",[QA]:"fire-app-check-compat",[$A]:"fire-auth",[JA]:"fire-auth-compat",[ZA]:"fire-rtdb",[eS]:"fire-data-connect",[tS]:"fire-rtdb-compat",[nS]:"fire-fn",[rS]:"fire-fn-compat",[iS]:"fire-iid",[aS]:"fire-iid-compat",[sS]:"fire-fcm",[oS]:"fire-fcm-compat",[lS]:"fire-perf",[uS]:"fire-perf-compat",[cS]:"fire-rc",[fS]:"fire-rc-compat",[hS]:"fire-gcs",[dS]:"fire-gcs-compat",[mS]:"fire-fst",[gS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[yS]:"fire-js-all"};const jf=new Map,bS=new Map,Hm=new Map;function x0(i,e){try{i.container.addComponent(e)}catch(r){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Fl(i){const e=i.name;if(Hm.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,i);for(const r of jf.values())x0(r,i);for(const r of bS.values())x0(r,i);return!0}function pp(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function va(i){return i==null?!1:i.settings!==void 0}const ES={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new oc("app","Firebase",ES);class wS{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const Kl=vS;function hb(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:Fm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ho.create("bad-app-name",{appName:String(l)});if(r||(r=sb()),!r)throw ho.create("no-options");const c=jf.get(l);if(c){if(Fo(r,c.options)&&Fo(a,c.config))return c;throw ho.create("duplicate-app",{appName:l})}const p=new IA(l);for(const E of Hm.values())p.addComponent(E);const b=new wS(r,a,p);return jf.set(l,b),b}function db(i=Fm){const e=jf.get(i);if(!e&&i===Fm&&sb())return hb();if(!e)throw ho.create("no-app",{appName:i});return e}function mo(i,e,r){let a=_S[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${a}" with version "${e}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(p.join(" "));return}Fl(new Ho(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const TS="firebase-heartbeat-database",AS=1,Ku="firebase-heartbeat-store";let Sm=null;function mb(){return Sm||(Sm=jA(TS,AS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ku)}catch(r){console.warn(r)}}}}).catch(i=>{throw ho.create("idb-open",{originalErrorMessage:i.message})})),Sm}async function SS(i){try{const r=(await mb()).transaction(Ku),a=await r.objectStore(Ku).get(pb(i));return await r.done,a}catch(e){if(e instanceof Ns)Ss.warn(e.message);else{const r=ho.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(r.message)}}}async function M0(i,e){try{const a=(await mb()).transaction(Ku,"readwrite");await a.objectStore(Ku).put(e,pb(i)),await a.done}catch(r){if(r instanceof Ns)Ss.warn(r.message);else{const a=ho.create("idb-set",{originalErrorMessage:r?.message});Ss.warn(a.message)}}}function pb(i){return`${i.name}!${i.options.appId}`}const CS=1024,RS=30;class IS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new MS(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=N0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>RS){const l=NS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N0(),{heartbeatsToSend:r,unsentEntries:a}=xS(this._heartbeatsCache.heartbeats),l=Bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ss.warn(e),""}}}function N0(){return new Date().toISOString().substring(0,10)}function xS(i,e=CS){const r=[];let a=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),D0(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),D0(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class MS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gA()?yA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await SS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function D0(i){return Bf(JSON.stringify({version:2,heartbeats:i})).length}function NS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}function DS(i){Fl(new Ho("platform-logger",e=>new qA(e),"PRIVATE")),Fl(new Ho("heartbeat",e=>new IS(e),"PRIVATE")),mo(jm,I0,i),mo(jm,I0,"esm2020"),mo("fire-js","")}DS("");var OS="firebase",kS="12.7.0";mo(OS,kS,"app");function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VS=gb,yb=new oc("auth","Firebase",gb());const Ff=new dp("@firebase/auth");function PS(i,...e){Ff.logLevel<=tn.WARN&&Ff.warn(`Auth (${Kl}): ${i}`,...e)}function Mf(i,...e){Ff.logLevel<=tn.ERROR&&Ff.error(`Auth (${Kl}): ${i}`,...e)}function Cs(i,...e){throw gp(i,...e)}function qa(i,...e){return gp(i,...e)}function vb(i,e,r){const a={...VS(),[e]:r};return new oc("auth","Firebase",a).create(e,{appName:i.name})}function Ts(i){return vb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return yb.create(i,...e)}function At(i,e,...r){if(!i)throw gp(e,...r)}function Es(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Mf(e),new Error(e)}function Rs(i,e){i||Es(e)}function qm(){return typeof self<"u"&&self.location?.href||""}function LS(){return O0()==="http:"||O0()==="https:"}function O0(){return typeof self<"u"&&self.location?.protocol||null}function US(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LS()||hA()||"connection"in navigator)?navigator.onLine:!0}function zS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class uc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Rs(r>e,"Short delay should be less than long delay!"),this.isMobile=uA()||dA()}get(){return US()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(i,e){Rs(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class _b{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FS=new uc(3e4,6e4);function cc(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function $l(i,e,r,a,l={}){return bb(i,l,async()=>{let c={},p={};a&&(e==="GET"?p=a:c={body:JSON.stringify(a)});const b=lc({key:i.config.apiKey,...p}).slice(1),E=await i._getAdditionalHeaders();E["Content-Type"]="application/json",i.languageCode&&(E["X-Firebase-Locale"]=i.languageCode);const w={method:e,headers:E,...c};return fA()||(w.referrerPolicy="no-referrer"),i.emulatorConfig&&Ql(i.emulatorConfig.host)&&(w.credentials="include"),_b.fetch()(await Eb(i,i.config.apiHost,r,b),w)})}async function bb(i,e,r){i._canInitEmulator=!1;const a={...BS,...e};try{const l=new HS(i),c=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw Ef(i,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[E,w]=b.split(" : ");if(E==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(i,"credential-already-in-use",p);if(E==="EMAIL_EXISTS")throw Ef(i,"email-already-in-use",p);if(E==="USER_DISABLED")throw Ef(i,"user-disabled",p);const x=a[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw vb(i,x,w);Cs(i,x)}}catch(l){if(l instanceof Ns)throw l;Cs(i,"network-request-failed",{message:String(l)})}}async function vp(i,e,r,a,l={}){const c=await $l(i,e,r,a,l);return"mfaPendingCredential"in c&&Cs(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Eb(i,e,r,a){const l=`${e}${r}?${a}`,c=i,p=c.config.emulator?yp(i.config,l):`${i.config.apiScheme}://${l}`;return jS.includes(r)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class HS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(qa(this.auth,"network-request-failed")),FS.get())})}}function Ef(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=qa(i,e,a);return l.customData._tokenResponse=r,l}async function qS(i,e){return $l(i,"POST","/v1/accounts:delete",e)}async function Hf(i,e){return $l(i,"POST","/v1/accounts:lookup",e)}function qu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GS(i,e=!1){const r=aa(i),a=await r.getIdToken(e),l=_p(a);At(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:a,authTime:qu(Cm(l.auth_time)),issuedAtTime:qu(Cm(l.iat)),expirationTime:qu(Cm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cm(i){return Number(i)*1e3}function _p(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const l=ib(r);return l?JSON.parse(l):(Mf("Failed to decode base64 JWT payload"),null)}catch(l){return Mf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function k0(i){const e=_p(i);return At(e,"internal-error"),At(typeof e.exp<"u","internal-error"),At(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function $u(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof Ns&&YS(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function YS({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class XS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qf(i){const e=i.auth,r=await i.getIdToken(),a=await $u(i,Hf(e,{idToken:r}));At(a?.users.length,e,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?wb(l.providerUserInfo):[],p=QS(i.providerData,c),b=i.isAnonymous,E=!(i.email&&l.passwordHash)&&!p?.length,w=b?E:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(i,x)}async function WS(i){const e=aa(i);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QS(i,e){return[...i.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function wb(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function KS(i,e){const r=await bb(i,{},async()=>{const a=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,p=await Eb(i,l,"/v1/token",`key=${c}`),b=await i._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const E={method:"POST",headers:b,body:a};return i.emulatorConfig&&Ql(i.emulatorConfig.host)&&(E.credentials="include"),_b.fetch()(p,E)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function $S(i,e){return $l(i,"POST","/v2/accounts:revokeToken",cc(i,e))}class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){At(e.idToken,"internal-error"),At(typeof e.idToken<"u","internal-error"),At(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){At(e.length!==0,"internal-error");const r=k0(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:l,expiresIn:c}=await KS(e,r);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:l,expirationTime:c}=r,p=new Pl;return a&&(At(typeof a=="string","internal-error",{appName:e}),p.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return Es("not implemented")}}function ro(i,e){At(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ma{constructor({uid:e,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new XS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const r=await $u(this,this.stsTokenManager.getToken(this.auth,e));return At(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return GS(this,e)}reload(){return WS(this)}_assign(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await qf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(va(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await $u(this,qS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,l=r.email??void 0,c=r.phoneNumber??void 0,p=r.photoURL??void 0,b=r.tenantId??void 0,E=r._redirectEventId??void 0,w=r.createdAt??void 0,x=r.lastLoginAt??void 0,{uid:O,emailVerified:G,isAnonymous:te,providerData:z,stsTokenManager:De}=r;At(O&&De,e,"internal-error");const be=Pl.fromJSON(this.name,De);At(typeof O=="string",e,"internal-error"),ro(a,e.name),ro(l,e.name),At(typeof G=="boolean",e,"internal-error"),At(typeof te=="boolean",e,"internal-error"),ro(c,e.name),ro(p,e.name),ro(b,e.name),ro(E,e.name),ro(w,e.name),ro(x,e.name);const Le=new Ma({uid:O,auth:e,email:l,emailVerified:G,displayName:a,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:be,createdAt:w,lastLoginAt:x});return z&&Array.isArray(z)&&(Le.providerData=z.map(j=>({...j}))),E&&(Le._redirectEventId=E),Le}static async _fromIdTokenResponse(e,r,a=!1){const l=new Pl;l.updateFromServerResponse(r);const c=new Ma({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await qf(c),c}static async _fromGetAccountInfoResponse(e,r,a){const l=r.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?wb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Pl;b.updateFromIdToken(a);const E=new Ma({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(E,w),E}}const V0=new Map;function ws(i){Rs(i instanceof Function,"Expected a class definition");let e=V0.get(i);return e?(Rs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,V0.set(i,e),e)}class Tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Tb.type="NONE";const P0=Tb;function Nf(i,e,r){return`firebase:${i}:${e}:${r}`}class Ll{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nf(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nf("persistence",l.apiKey,c),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Hf(this.auth,{idToken:e}).catch(()=>{});return r?Ma._fromGetAccountInfoResponse(this.auth,r,e):null}return Ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new Ll(ws(P0),e,a);const l=(await Promise.all(r.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let c=l[0]||ws(P0);const p=Nf(a,e.config.apiKey,e.name);let b=null;for(const w of r)try{const x=await w._get(p);if(x){let O;if(typeof x=="string"){const G=await Hf(e,{idToken:x}).catch(()=>{});if(!G)break;O=await Ma._fromGetAccountInfoResponse(e,G,x)}else O=Ma._fromJSON(e,x);w!==c&&(b=O),c=w;break}}catch{}const E=l.filter(w=>w._shouldAllowMigration);return!c._shouldAllowMigration||!E.length?new Ll(c,e,a):(c=E[0],b&&await c._set(p,b.toJSON()),await Promise.all(r.map(async w=>{if(w!==c)try{await w._remove(p)}catch{}})),new Ll(c,e,a))}}function L0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xb(e))return"Blackberry";if(Mb(e))return"Webos";if(Sb(e))return"Safari";if((e.includes("chrome/")||Cb(e))&&!e.includes("edge/"))return"Chrome";if(Ib(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function Ab(i=Ti()){return/firefox\//i.test(i)}function Sb(i=Ti()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cb(i=Ti()){return/crios\//i.test(i)}function Rb(i=Ti()){return/iemobile/i.test(i)}function Ib(i=Ti()){return/android/i.test(i)}function xb(i=Ti()){return/blackberry/i.test(i)}function Mb(i=Ti()){return/webos/i.test(i)}function bp(i=Ti()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function JS(i=Ti()){return bp(i)&&!!window.navigator?.standalone}function ZS(){return mA()&&document.documentMode===10}function Nb(i=Ti()){return bp(i)||Ib(i)||Mb(i)||xb(i)||/windows phone/i.test(i)||Rb(i)}function Db(i,e=[]){let r;switch(i){case"Browser":r=L0(Ti());break;case"Worker":r=`${L0(Ti())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Kl}/${a}`}class e2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=c=>new Promise((p,b)=>{try{const E=e(c);p(E)}catch(E){b(E)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function t2(i,e={}){return $l(i,"GET","/v2/passwordPolicy",cc(i,e))}const n2=6;class r2{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??n2,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),l&&(r.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class i2{constructor(e,r,a,l){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new e2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ws(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Hf(this,{idToken:e}),a=await Ma._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(va(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=a?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(a=b.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(va(this.app))return Promise.reject(Ts(this));const r=e?aa(e):null;return r&&At(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&At(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return va(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return va(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t2(this),r=new r2(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await $S(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ws(e)||this._popupRedirectResolver;At(r,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ws(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,l){if(this._deleted)return()=>{};const c=typeof r=="function"?r:r.next.bind(r);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof r=="function"){const E=e.addObserver(r,a,l);return()=>{p=!0,E()}}else{const E=e.addObserver(r);return()=>{p=!0,E()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(va(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fc(i){return aa(i)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(r=>this.observer=r)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a2(i){Ep=i}function s2(i){return Ep.loadJS(i)}function o2(){return Ep.gapiScript}function l2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function u2(i,e){const r=pp(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),c=r.getOptions();if(Fo(c,e??{}))return l;Cs(l,"already-initialized")}return r.initialize({options:e})}function c2(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(ws);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function f2(i,e,r){const a=fc(i);At(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Ob(e),{host:p,port:b}=h2(e),E=b===null?"":`:${b}`,w={url:`${c}//${p}${E}/`},x=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(Fo(w,a.config.emulator)&&Fo(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=w,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Ql(p)?(lb(`${c}//${p}${E}`),ub("Auth",!0)):d2()}function Ob(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function h2(i){const e=Ob(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:z0(a.substr(c.length+1))}}else{const[c,p]=a.split(":");return{host:c,port:z0(p)}}}function z0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function d2(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class kb{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,r){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function Ul(i,e){return vp(i,"POST","/v1/accounts:signInWithIdp",cc(i,e))}const m2="http://localhost";class qo extends kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Cs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=r;if(!a||!l)return null;const p=new qo(a,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return Ul(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,Ul(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ul(e,r)}buildRequest(){const e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=lc(r)}return e}}class Vb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hc extends Vb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ao extends hc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";class so extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return qo._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return so.credential(r,a)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";class oo extends hc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";class lo extends hc{constructor(){super("twitter.com")}static credential(e,r){return qo._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return lo.credential(r,a)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";async function p2(i,e){return vp(i,"POST","/v1/accounts:signUp",cc(i,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,l=!1){const c=await Ma._fromIdTokenResponse(e,a,l),p=B0(a);return new Is({user:c,providerId:p,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const l=B0(a);return new Is({user:e,providerId:l,_tokenResponse:a,operationType:r})}}function B0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function g2(i){if(va(i.app))return Promise.reject(Ts(i));const e=fc(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await p2(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(a.user),a}class Gf extends Ns{constructor(e,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,l){return new Gf(e,r,a,l)}}function Pb(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(i,c,e,a):c})}async function y2(i,e,r=!1){const a=await $u(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Is._forOperation(i,"link",a)}async function v2(i,e,r=!1){const{auth:a}=i;if(va(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await $u(i,Pb(a,l,e,i),r);At(c.idToken,a,"internal-error");const p=_p(c.idToken);At(p,a,"internal-error");const{sub:b}=p;return At(i.uid===b,a,"user-mismatch"),Is._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cs(a,"user-mismatch"),c}}async function _2(i,e,r=!1){if(va(i.app))return Promise.reject(Ts(i));const a="signIn",l=await Pb(i,a,e),c=await Is._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(c.user),c}async function b2(i,e){return vp(i,"POST","/v1/accounts:signInWithCustomToken",cc(i,e))}async function E2(i,e){if(va(i.app))return Promise.reject(Ts(i));const r=fc(i),a=await b2(r,{token:e,returnSecureToken:!0}),l=await Is._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function w2(i,e,r,a){return aa(i).onIdTokenChanged(e,r,a)}function T2(i,e,r){return aa(i).beforeAuthStateChanged(e,r)}function A2(i,e,r,a){return aa(i).onAuthStateChanged(e,r,a)}const Yf="__sak";class Lb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=1e3,C2=10;class Ub extends Lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&e(r,l,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,b,E)=>{this.notifyListeners(p,E)});return}const a=e.key;r?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!r&&this.localCache[a]===p||this.notifyListeners(a,p)},c=this.storage.getItem(a);ZS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,C2):l()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ub.type="LOCAL";const R2=Ub;class zb extends Lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}zb.type="SESSION";const Bb=zb;function I2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(l=>l.isListeningto(e));if(r)return r;const a=new uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:l,data:c}=r.data,p=this.handlersMap[l];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const b=Array.from(p).map(async w=>w(r.origin,c)),E=await I2(b);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:E})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function wp(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}class x2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,E)=>{const w=wp("",20);l.port1.start();const x=setTimeout(()=>{E(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(O){const G=O;if(G.data.eventId===w)switch(G.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(G.data.response);break;default:clearTimeout(x),clearTimeout(c),E(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:w,data:r},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ga(){return window}function M2(i){Ga().location.href=i}function jb(){return typeof Ga().WorkerGlobalScope<"u"&&typeof Ga().importScripts=="function"}async function N2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D2(){return navigator?.serviceWorker?.controller||null}function O2(){return jb()?self:null}const Fb="firebaseLocalStorageDb",k2=1,Xf="firebaseLocalStorage",Hb="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ch(i,e){return i.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function V2(){const i=indexedDB.deleteDatabase(Fb);return new dc(i).toPromise()}function Ym(){const i=indexedDB.open(Fb,k2);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Xf,{keyPath:Hb})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Xf)?e(a):(a.close(),await V2(),e(await Ym()))})})}async function j0(i,e,r){const a=ch(i,!0).put({[Hb]:e,value:r});return new dc(a).toPromise()}async function P2(i,e){const r=ch(i,!1).get(e),a=await new dc(r).toPromise();return a===void 0?null:a.value}function F0(i,e){const r=ch(i,!0).delete(e);return new dc(r).toPromise()}const L2=800,U2=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>U2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N2(),!this.activeServiceWorker)return;this.sender=new x2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await j0(e,Yf,"1"),await F0(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>j0(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>P2(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const z2=qb;new uc(3e4,6e4);function B2(i,e){return e?ws(e):(At(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Tp extends kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ul(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function j2(i){return _2(i.auth,new Tp(i),i.bypassAuthState)}function F2(i){const{auth:e,user:r}=i;return At(r,e,"internal-error"),v2(r,new Tp(i),i.bypassAuthState)}async function H2(i){const{auth:e,user:r}=i;return At(r,e,"internal-error"),y2(r,new Tp(i),i.bypassAuthState)}class Gb{constructor(e,r,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const E={auth:this.auth,requestUri:r,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(E))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j2;case"linkViaPopup":case"linkViaRedirect":return H2;case"reauthViaPopup":case"reauthViaRedirect":return F2;default:Cs(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q2=new uc(2e3,1e4);class kl extends Gb{constructor(e,r,a,l,c){super(e,r,l,c),this.provider=a,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return At(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q2.get())};e()}}kl.currentPopupAction=null;const G2="pendingRedirect",Df=new Map;class Y2 extends Gb{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const a=await X2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X2(i,e){const r=K2(e),a=Q2(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function W2(i,e){Df.set(i._key(),e)}function Q2(i){return ws(i._redirectPersistence)}function K2(i){return Nf(G2,i.config.apiKey,i.name)}async function $2(i,e,r=!1){if(va(i.app))return Promise.reject(Ts(i));const a=fc(i),l=B2(a,e),p=await new Y2(a,l,r).execute();return p&&!r&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,e)),p}const J2=600*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eC(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!Yb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(qa(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(H0(e))}saveEventToCache(e){this.cachedEventUids.add(H0(e)),this.lastProcessedEventTime=Date.now()}}function H0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Yb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function eC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yb(i);default:return!1}}async function tC(i,e={}){return $l(i,"GET","/v1/projects",e)}const nC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rC=/^https?/;async function iC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tC(i);for(const r of e)try{if(aC(r))return}catch{}Cs(i,"unauthorized-domain")}function aC(i){const e=qm(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const p=new URL(i);return p.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===a}if(!rC.test(r))return!1;if(nC.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const sC=new uc(3e4,6e4);function q0(){const i=Ga().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function oC(i){return new Promise((e,r)=>{function a(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),r(qa(i,"network-request-failed"))},timeout:sC.get()})}if(Ga().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ga().gapi?.load)a();else{const l=l2("iframefcb");return Ga()[l]=()=>{gapi.load?a():r(qa(i,"network-request-failed"))},s2(`${o2()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Of=null,e})}let Of=null;function lC(i){return Of=Of||oC(i),Of}const uC=new uc(5e3,15e3),cC="__/auth/iframe",fC="emulator/auth/iframe",hC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mC(i){const e=i.config;At(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?yp(e,fC):`https://${i.config.authDomain}/${cC}`,a={apiKey:e.apiKey,appName:i.name,v:Kl},l=dC.get(i.config.apiHost);l&&(a.eid=l);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${r}?${lc(a).slice(1)}`}async function pC(i){const e=await lC(i),r=Ga().gapi;return At(r,i,"internal-error"),e.open({where:document.body,url:mC(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const p=qa(i,"network-request-failed"),b=Ga().setTimeout(()=>{c(p)},uC.get());function E(){Ga().clearTimeout(b),l(a)}a.ping(E).then(E,()=>{c(p)})}))}const gC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yC=500,vC=600,_C="_blank",bC="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EC(i,e,r,a=yC,l=vC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let b="";const E={...gC,width:a.toString(),height:l.toString(),top:c,left:p},w=Ti().toLowerCase();r&&(b=Cb(w)?_C:r),Ab(w)&&(e=e||bC,E.scrollbars="yes");const x=Object.entries(E).reduce((G,[te,z])=>`${G}${te}=${z},`,"");if(JS(w)&&b!=="_self")return wC(e||"",b),new G0(null);const O=window.open(e||"",b,x);At(O,i,"popup-blocked");try{O.focus()}catch{}return new G0(O)}function wC(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const TC="__/auth/handler",AC="emulator/auth/handler",SC=encodeURIComponent("fac");async function Y0(i,e,r,a,l,c){At(i.config.authDomain,i,"auth-domain-config-required"),At(i.config.apiKey,i,"invalid-api-key");const p={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:Kl,eventId:l};if(e instanceof Vb){e.setDefaultLanguage(i.languageCode),p.providerId=e.providerId||"",EA(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,O]of Object.entries({}))p[x]=O}if(e instanceof hc){const x=e.getScopes().filter(O=>O!=="");x.length>0&&(p.scopes=x.join(","))}i.tenantId&&(p.tid=i.tenantId);const b=p;for(const x of Object.keys(b))b[x]===void 0&&delete b[x];const E=await i._getAppCheckToken(),w=E?`#${SC}=${encodeURIComponent(E)}`:"";return`${CC(i)}?${lc(b).slice(1)}${w}`}function CC({config:i}){return i.emulator?yp(i,AC):`https://${i.authDomain}/${TC}`}const Rm="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=$2,this._overrideRedirectResult=W2}async _openPopup(e,r,a,l){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Y0(e,r,a,qm(),l);return EC(e,c,wp())}async _openRedirect(e,r,a,l){await this._originValidation(e);const c=await Y0(e,r,a,qm(),l);return M2(c),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:l,promise:c}=this.eventManagers[r];return l?Promise.resolve(l):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await pC(e),a=new Z2(e);return r.register("authEvent",l=>(At(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Rm,{type:Rm},l=>{const c=l?.[0]?.[Rm];c!==void 0&&r(!!c),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=iC(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Nb()||Sb()||bp()}}const IC=RC;var X0="@firebase/auth",W0="1.12.0";class xC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(i){Fl(new Ho("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=a.options;At(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const E={apiKey:p,authDomain:b,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(i)},w=new i2(a,l,c,E);return c2(w,r),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),Fl(new Ho("auth-internal",e=>{const r=fc(e.getProvider("auth").getImmediate());return(a=>new xC(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(X0,W0,MC(i)),mo(X0,W0,"esm2020")}const DC=300,OC=ob("authIdTokenMaxAge")||DC;let Q0=null;const kC=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>OC)return;const l=r?.token;Q0!==l&&(Q0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VC(i=db()){const e=pp(i,"auth");if(e.isInitialized())return e.getImmediate();const r=u2(i,{popupRedirectResolver:IC,persistence:[z2,R2,Bb]}),a=ob("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const p=kC(c.toString());T2(r,p,()=>p(r.currentUser)),w2(r,b=>p(b))}}const l=ab("auth");return l&&f2(r,`http://${l}`),r}function PC(){return document.getElementsByTagName("head")?.[0]??document}a2({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=l=>{const c=qa("internal-error");c.customData=l,r(c)},a.type="text/javascript",a.charset="UTF-8",PC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var po,Xb;(function(){var i;function e(Y,H){function L(){}L.prototype=H.prototype,Y.F=H.prototype,Y.prototype=new L,Y.prototype.constructor=Y,Y.D=function(q,I,P){for(var N=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)N[Q-2]=arguments[Q];return H.prototype[I].apply(q,N)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(Y,H,L){L||(L=0);const q=Array(16);if(typeof H=="string")for(var I=0;I<16;++I)q[I]=H.charCodeAt(L++)|H.charCodeAt(L++)<<8|H.charCodeAt(L++)<<16|H.charCodeAt(L++)<<24;else for(I=0;I<16;++I)q[I]=H[L++]|H[L++]<<8|H[L++]<<16|H[L++]<<24;H=Y.g[0],L=Y.g[1],I=Y.g[2];let P=Y.g[3],N;N=H+(P^L&(I^P))+q[0]+3614090360&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(I^H&(L^I))+q[1]+3905402710&4294967295,P=H+(N<<12&4294967295|N>>>20),N=I+(L^P&(H^L))+q[2]+606105819&4294967295,I=P+(N<<17&4294967295|N>>>15),N=L+(H^I&(P^H))+q[3]+3250441966&4294967295,L=I+(N<<22&4294967295|N>>>10),N=H+(P^L&(I^P))+q[4]+4118548399&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(I^H&(L^I))+q[5]+1200080426&4294967295,P=H+(N<<12&4294967295|N>>>20),N=I+(L^P&(H^L))+q[6]+2821735955&4294967295,I=P+(N<<17&4294967295|N>>>15),N=L+(H^I&(P^H))+q[7]+4249261313&4294967295,L=I+(N<<22&4294967295|N>>>10),N=H+(P^L&(I^P))+q[8]+1770035416&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(I^H&(L^I))+q[9]+2336552879&4294967295,P=H+(N<<12&4294967295|N>>>20),N=I+(L^P&(H^L))+q[10]+4294925233&4294967295,I=P+(N<<17&4294967295|N>>>15),N=L+(H^I&(P^H))+q[11]+2304563134&4294967295,L=I+(N<<22&4294967295|N>>>10),N=H+(P^L&(I^P))+q[12]+1804603682&4294967295,H=L+(N<<7&4294967295|N>>>25),N=P+(I^H&(L^I))+q[13]+4254626195&4294967295,P=H+(N<<12&4294967295|N>>>20),N=I+(L^P&(H^L))+q[14]+2792965006&4294967295,I=P+(N<<17&4294967295|N>>>15),N=L+(H^I&(P^H))+q[15]+1236535329&4294967295,L=I+(N<<22&4294967295|N>>>10),N=H+(I^P&(L^I))+q[1]+4129170786&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^I&(H^L))+q[6]+3225465664&4294967295,P=H+(N<<9&4294967295|N>>>23),N=I+(H^L&(P^H))+q[11]+643717713&4294967295,I=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(I^P))+q[0]+3921069994&4294967295,L=I+(N<<20&4294967295|N>>>12),N=H+(I^P&(L^I))+q[5]+3593408605&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^I&(H^L))+q[10]+38016083&4294967295,P=H+(N<<9&4294967295|N>>>23),N=I+(H^L&(P^H))+q[15]+3634488961&4294967295,I=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(I^P))+q[4]+3889429448&4294967295,L=I+(N<<20&4294967295|N>>>12),N=H+(I^P&(L^I))+q[9]+568446438&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^I&(H^L))+q[14]+3275163606&4294967295,P=H+(N<<9&4294967295|N>>>23),N=I+(H^L&(P^H))+q[3]+4107603335&4294967295,I=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(I^P))+q[8]+1163531501&4294967295,L=I+(N<<20&4294967295|N>>>12),N=H+(I^P&(L^I))+q[13]+2850285829&4294967295,H=L+(N<<5&4294967295|N>>>27),N=P+(L^I&(H^L))+q[2]+4243563512&4294967295,P=H+(N<<9&4294967295|N>>>23),N=I+(H^L&(P^H))+q[7]+1735328473&4294967295,I=P+(N<<14&4294967295|N>>>18),N=L+(P^H&(I^P))+q[12]+2368359562&4294967295,L=I+(N<<20&4294967295|N>>>12),N=H+(L^I^P)+q[5]+4294588738&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^I)+q[8]+2272392833&4294967295,P=H+(N<<11&4294967295|N>>>21),N=I+(P^H^L)+q[11]+1839030562&4294967295,I=P+(N<<16&4294967295|N>>>16),N=L+(I^P^H)+q[14]+4259657740&4294967295,L=I+(N<<23&4294967295|N>>>9),N=H+(L^I^P)+q[1]+2763975236&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^I)+q[4]+1272893353&4294967295,P=H+(N<<11&4294967295|N>>>21),N=I+(P^H^L)+q[7]+4139469664&4294967295,I=P+(N<<16&4294967295|N>>>16),N=L+(I^P^H)+q[10]+3200236656&4294967295,L=I+(N<<23&4294967295|N>>>9),N=H+(L^I^P)+q[13]+681279174&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^I)+q[0]+3936430074&4294967295,P=H+(N<<11&4294967295|N>>>21),N=I+(P^H^L)+q[3]+3572445317&4294967295,I=P+(N<<16&4294967295|N>>>16),N=L+(I^P^H)+q[6]+76029189&4294967295,L=I+(N<<23&4294967295|N>>>9),N=H+(L^I^P)+q[9]+3654602809&4294967295,H=L+(N<<4&4294967295|N>>>28),N=P+(H^L^I)+q[12]+3873151461&4294967295,P=H+(N<<11&4294967295|N>>>21),N=I+(P^H^L)+q[15]+530742520&4294967295,I=P+(N<<16&4294967295|N>>>16),N=L+(I^P^H)+q[2]+3299628645&4294967295,L=I+(N<<23&4294967295|N>>>9),N=H+(I^(L|~P))+q[0]+4096336452&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~I))+q[7]+1126891415&4294967295,P=H+(N<<10&4294967295|N>>>22),N=I+(H^(P|~L))+q[14]+2878612391&4294967295,I=P+(N<<15&4294967295|N>>>17),N=L+(P^(I|~H))+q[5]+4237533241&4294967295,L=I+(N<<21&4294967295|N>>>11),N=H+(I^(L|~P))+q[12]+1700485571&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~I))+q[3]+2399980690&4294967295,P=H+(N<<10&4294967295|N>>>22),N=I+(H^(P|~L))+q[10]+4293915773&4294967295,I=P+(N<<15&4294967295|N>>>17),N=L+(P^(I|~H))+q[1]+2240044497&4294967295,L=I+(N<<21&4294967295|N>>>11),N=H+(I^(L|~P))+q[8]+1873313359&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~I))+q[15]+4264355552&4294967295,P=H+(N<<10&4294967295|N>>>22),N=I+(H^(P|~L))+q[6]+2734768916&4294967295,I=P+(N<<15&4294967295|N>>>17),N=L+(P^(I|~H))+q[13]+1309151649&4294967295,L=I+(N<<21&4294967295|N>>>11),N=H+(I^(L|~P))+q[4]+4149444226&4294967295,H=L+(N<<6&4294967295|N>>>26),N=P+(L^(H|~I))+q[11]+3174756917&4294967295,P=H+(N<<10&4294967295|N>>>22),N=I+(H^(P|~L))+q[2]+718787259&4294967295,I=P+(N<<15&4294967295|N>>>17),N=L+(P^(I|~H))+q[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+H&4294967295,Y.g[1]=Y.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,Y.g[2]=Y.g[2]+I&4294967295,Y.g[3]=Y.g[3]+P&4294967295}a.prototype.v=function(Y,H){H===void 0&&(H=Y.length);const L=H-this.blockSize,q=this.C;let I=this.h,P=0;for(;P<H;){if(I==0)for(;P<=L;)l(this,Y,P),P+=this.blockSize;if(typeof Y=="string"){for(;P<H;)if(q[I++]=Y.charCodeAt(P++),I==this.blockSize){l(this,q),I=0;break}}else for(;P<H;)if(q[I++]=Y[P++],I==this.blockSize){l(this,q),I=0;break}}this.h=I,this.o+=H},a.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var H=1;H<Y.length-8;++H)Y[H]=0;H=this.o*8;for(var L=Y.length-8;L<Y.length;++L)Y[L]=H&255,H/=256;for(this.v(Y),Y=Array(16),H=0,L=0;L<4;++L)for(let q=0;q<32;q+=8)Y[H++]=this.g[L]>>>q&255;return Y};function c(Y,H){var L=b;return Object.prototype.hasOwnProperty.call(L,Y)?L[Y]:L[Y]=H(Y)}function p(Y,H){this.h=H;const L=[];let q=!0;for(let I=Y.length-1;I>=0;I--){const P=Y[I]|0;q&&P==H||(L[I]=P,q=!1)}this.g=L}var b={};function E(Y){return-128<=Y&&Y<128?c(Y,function(H){return new p([H|0],H<0?-1:0)}):new p([Y|0],Y<0?-1:0)}function w(Y){if(isNaN(Y)||!isFinite(Y))return O;if(Y<0)return be(w(-Y));const H=[];let L=1;for(let q=0;Y>=L;q++)H[q]=Y/L|0,L*=4294967296;return new p(H,0)}function x(Y,H){if(Y.length==0)throw Error("number format error: empty string");if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(Y.charAt(0)=="-")return be(x(Y.substring(1),H));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=w(Math.pow(H,8));let q=O;for(let P=0;P<Y.length;P+=8){var I=Math.min(8,Y.length-P);const N=parseInt(Y.substring(P,P+I),H);I<8?(I=w(Math.pow(H,I)),q=q.j(I).add(w(N))):(q=q.j(L),q=q.add(w(N)))}return q}var O=E(0),G=E(1),te=E(16777216);i=p.prototype,i.m=function(){if(De(this))return-be(this).m();let Y=0,H=1;for(let L=0;L<this.g.length;L++){const q=this.i(L);Y+=(q>=0?q:4294967296+q)*H,H*=4294967296}return Y},i.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(z(this))return"0";if(De(this))return"-"+be(this).toString(Y);const H=w(Math.pow(Y,6));var L=this;let q="";for(;;){const I=et(L,H).g;L=Le(L,I.j(H));let P=((L.g.length>0?L.g[0]:L.h)>>>0).toString(Y);if(L=I,z(L))return P+q;for(;P.length<6;)P="0"+P;q=P+q}},i.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function z(Y){if(Y.h!=0)return!1;for(let H=0;H<Y.g.length;H++)if(Y.g[H]!=0)return!1;return!0}function De(Y){return Y.h==-1}i.l=function(Y){return Y=Le(this,Y),De(Y)?-1:z(Y)?0:1};function be(Y){const H=Y.g.length,L=[];for(let q=0;q<H;q++)L[q]=~Y.g[q];return new p(L,~Y.h).add(G)}i.abs=function(){return De(this)?be(this):this},i.add=function(Y){const H=Math.max(this.g.length,Y.g.length),L=[];let q=0;for(let I=0;I<=H;I++){let P=q+(this.i(I)&65535)+(Y.i(I)&65535),N=(P>>>16)+(this.i(I)>>>16)+(Y.i(I)>>>16);q=N>>>16,P&=65535,N&=65535,L[I]=N<<16|P}return new p(L,L[L.length-1]&-2147483648?-1:0)};function Le(Y,H){return Y.add(be(H))}i.j=function(Y){if(z(this)||z(Y))return O;if(De(this))return De(Y)?be(this).j(be(Y)):be(be(this).j(Y));if(De(Y))return be(this.j(be(Y)));if(this.l(te)<0&&Y.l(te)<0)return w(this.m()*Y.m());const H=this.g.length+Y.g.length,L=[];for(var q=0;q<2*H;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(let I=0;I<Y.g.length;I++){const P=this.i(q)>>>16,N=this.i(q)&65535,Q=Y.i(I)>>>16,ie=Y.i(I)&65535;L[2*q+2*I]+=N*ie,j(L,2*q+2*I),L[2*q+2*I+1]+=P*ie,j(L,2*q+2*I+1),L[2*q+2*I+1]+=N*Q,j(L,2*q+2*I+1),L[2*q+2*I+2]+=P*Q,j(L,2*q+2*I+2)}for(Y=0;Y<H;Y++)L[Y]=L[2*Y+1]<<16|L[2*Y];for(Y=H;Y<2*H;Y++)L[Y]=0;return new p(L,0)};function j(Y,H){for(;(Y[H]&65535)!=Y[H];)Y[H+1]+=Y[H]>>>16,Y[H]&=65535,H++}function Ue(Y,H){this.g=Y,this.h=H}function et(Y,H){if(z(H))throw Error("division by zero");if(z(Y))return new Ue(O,O);if(De(Y))return H=et(be(Y),H),new Ue(be(H.g),be(H.h));if(De(H))return H=et(Y,be(H)),new Ue(be(H.g),H.h);if(Y.g.length>30){if(De(Y)||De(H))throw Error("slowDivide_ only works with positive integers.");for(var L=G,q=H;q.l(Y)<=0;)L=ut(L),q=ut(q);var I=at(L,1),P=at(q,1);for(q=at(q,2),L=at(L,2);!z(q);){var N=P.add(q);N.l(Y)<=0&&(I=I.add(L),P=N),q=at(q,1),L=at(L,1)}return H=Le(Y,I.j(H)),new Ue(I,H)}for(I=O;Y.l(H)>=0;){for(L=Math.max(1,Math.floor(Y.m()/H.m())),q=Math.ceil(Math.log(L)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),P=w(L),N=P.j(H);De(N)||N.l(Y)>0;)L-=q,P=w(L),N=P.j(H);z(P)&&(P=G),I=I.add(P),Y=Le(Y,N)}return new Ue(I,Y)}i.B=function(Y){return et(this,Y).h},i.and=function(Y){const H=Math.max(this.g.length,Y.g.length),L=[];for(let q=0;q<H;q++)L[q]=this.i(q)&Y.i(q);return new p(L,this.h&Y.h)},i.or=function(Y){const H=Math.max(this.g.length,Y.g.length),L=[];for(let q=0;q<H;q++)L[q]=this.i(q)|Y.i(q);return new p(L,this.h|Y.h)},i.xor=function(Y){const H=Math.max(this.g.length,Y.g.length),L=[];for(let q=0;q<H;q++)L[q]=this.i(q)^Y.i(q);return new p(L,this.h^Y.h)};function ut(Y){const H=Y.g.length+1,L=[];for(let q=0;q<H;q++)L[q]=Y.i(q)<<1|Y.i(q-1)>>>31;return new p(L,Y.h)}function at(Y,H){const L=H>>5;H%=32;const q=Y.g.length-L,I=[];for(let P=0;P<q;P++)I[P]=H>0?Y.i(P+L)>>>H|Y.i(P+L+1)<<32-H:Y.i(P+L);return new p(I,Y.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Xb=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=w,p.fromString=x,po=p}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wb,Bu,Qb,kf,Xm,Kb,$b,Jb;(function(){var i,e=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=r(this);function l(u,y){if(y)e:{var A=a;u=u.split(".");for(var k=0;k<u.length-1;k++){var se=u[k];if(!(se in A))break e;A=A[se]}u=u[u.length-1],k=A[u],y=y(k),y!=k&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&A.push([k,y[k]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function E(u,y,A){return u.call.apply(u.bind,arguments)}function w(u,y,A){return w=E,w.apply(null,arguments)}function x(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var k=A.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function O(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(k,se,pe){for(var je=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)je[Ct-2]=arguments[Ct];return y.prototype[se].apply(k,je)}}var G=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let k=0;k<y;k++)A[k]=u[k];return A}return[]}function z(u,y){for(let k=1;k<arguments.length;k++){const se=arguments[k];var A=typeof se;if(A=A!="object"?A:se?Array.isArray(se)?"array":A:"null",A=="array"||A=="object"&&typeof se.length=="number"){A=u.length||0;const pe=se.length||0;u.length=A+pe;for(let je=0;je<pe;je++)u[A+je]=se[je]}else u.push(se)}}class De{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function be(u){p.setTimeout(()=>{throw u},0)}function Le(){var u=Y;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class j{constructor(){this.h=this.g=null}add(y,A){const k=Ue.get();k.set(y,A),this.h?this.h.next=k:this.g=k,this.h=k}}var Ue=new De(()=>new et,u=>u.reset());class et{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,at=!1,Y=new j,H=()=>{const u=Promise.resolve(void 0);ut=()=>{u.then(L)}};function L(){for(var u;u=Le();){try{u.h.call(u.g)}catch(A){be(A)}var y=Ue;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}at=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Q(u,y){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}O(Q,I),Q.prototype.init=function(u,y){const A=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),B=0;function $(u,y,A,k,se){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!k,this.ha=se,this.key=++B,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const k in u)y.call(A,u[k],k,u)}function Ce(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function U(u){const y={};for(const A in u)y[A]=u[A];return y}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ne(u,y){let A,k;for(let se=1;se<arguments.length;se++){k=arguments[se];for(A in k)u[A]=k[A];for(let pe=0;pe<oe.length;pe++)A=oe[pe],Object.prototype.hasOwnProperty.call(k,A)&&(u[A]=k[A])}}function Ae(u){this.src=u,this.g={},this.h=0}Ae.prototype.add=function(u,y,A,k,se){const pe=u.toString();u=this.g[pe],u||(u=this.g[pe]=[],this.h++);const je=tt(u,y,k,se);return je>-1?(y=u[je],A||(y.fa=!1)):(y=new $(y,this.src,pe,!!k,se),y.fa=A,u.push(y)),y};function xe(u,y){const A=y.type;if(A in u.g){var k=u.g[A],se=Array.prototype.indexOf.call(k,y,void 0),pe;(pe=se>=0)&&Array.prototype.splice.call(k,se,1),pe&&(me(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function tt(u,y,A,k){for(let se=0;se<u.length;++se){const pe=u[se];if(!pe.da&&pe.listener==y&&pe.capture==!!A&&pe.ha==k)return se}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),Dt={};function lt(u,y,A,k,se){if(Array.isArray(y)){for(let pe=0;pe<y.length;pe++)lt(u,y[pe],A,k,se);return null}return A=Kt(A),u&&u[ie]?u.J(y,A,b(k)?!!k.capture:!1,se):Pt(u,y,A,!1,k,se)}function Pt(u,y,A,k,se,pe){if(!y)throw Error("Invalid event type");const je=b(se)?!!se.capture:!!se;let Ct=Wn(u);if(Ct||(u[mt]=Ct=new Ae(u)),A=Ct.add(y,A,k,je,pe),A.proxy)return A;if(k=Bt(),A.proxy=k,k.src=u,k.listener=A,u.addEventListener)P||(se=je),se===void 0&&(se=!1),u.addEventListener(y.toString(),k,se);else if(u.attachEvent)u.attachEvent(Wt(y.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Bt(){function u(A){return y.call(u.src,u.listener,A)}const y=Qt;return u}function ct(u,y,A,k,se){if(Array.isArray(y))for(var pe=0;pe<y.length;pe++)ct(u,y[pe],A,k,se);else k=b(k)?!!k.capture:!!k,A=Kt(A),u&&u[ie]?(u=u.i,pe=String(y).toString(),pe in u.g&&(y=u.g[pe],A=tt(y,A,k,se),A>-1&&(me(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[pe],u.h--)))):u&&(u=Wn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=tt(y,A,k,se)),(A=u>-1?y[u]:null)&&It(A))}function It(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ie])xe(y.i,u);else{var A=u.type,k=u.proxy;y.removeEventListener?y.removeEventListener(A,k,u.capture):y.detachEvent?y.detachEvent(Wt(A),k):y.addListener&&y.removeListener&&y.removeListener(k),(A=Wn(y))?(xe(A,u),A.h==0&&(A.src=null,y[mt]=null)):me(u)}}}function Wt(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function Qt(u,y){if(u.da)u=!0;else{y=new Q(y,this);const A=u.listener,k=u.ha||u.src;u.fa&&It(u),u=A.call(k,y)}return u}function Wn(u){return u=u[mt],u instanceof Ae?u:null}var Mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kt(u){return typeof u=="function"?u:(u[Mr]||(u[Mr]=function(y){return u.handleEvent(y)}),u[Mr])}function Ke(){q.call(this),this.i=new Ae(this),this.M=this,this.G=null}O(Ke,q),Ke.prototype[ie]=!0,Ke.prototype.removeEventListener=function(u,y,A,k){ct(this,u,y,A,k)};function St(u,y){var A,k=u.G;if(k)for(A=[];k;k=k.G)A.push(k);if(u=u.M,k=y.type||y,typeof y=="string")y=new I(y,u);else if(y instanceof I)y.target=y.target||u;else{var se=y;y=new I(k,u),Ne(y,se)}se=!0;let pe,je;if(A)for(je=A.length-1;je>=0;je--)pe=y.g=A[je],se=sn(pe,k,!0,y)&&se;if(pe=y.g=u,se=sn(pe,k,!0,y)&&se,se=sn(pe,k,!1,y)&&se,A)for(je=0;je<A.length;je++)pe=y.g=A[je],se=sn(pe,k,!1,y)&&se}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let k=0;k<A.length;k++)me(A[k]);delete u.g[y],u.h--}}this.G=null},Ke.prototype.J=function(u,y,A,k){return this.i.add(String(u),y,!1,A,k)},Ke.prototype.K=function(u,y,A,k){return this.i.add(String(u),y,!0,A,k)};function sn(u,y,A,k){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let se=!0;for(let pe=0;pe<y.length;++pe){const je=y[pe];if(je&&!je.da&&je.capture==A){const Ct=je.listener,Zn=je.ha||je.src;je.fa&&xe(u.i,je),se=Ct.call(Zn,k)!==!1&&se}}return se&&!k.defaultPrevented}function vt(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function wn(u){u.g=vt(()=>{u.g=null,u.i&&(u.i=!1,wn(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class _t extends q{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(u){q.call(this),this.h=u,this.g={}}O(Tn,q);var mn=[];function C(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&It(y)},u),u.g={}}Tn.prototype.N=function(){Tn.Z.N.call(this),C(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var g=p.JSON.stringify,_=p.JSON.parse,V=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function J(){}function ge(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){I.call(this,"d")}O(qe,I);function We(){I.call(this,"c")}O(We,I);var Pe={},Tt=null;function jt(){return Tt=Tt||new Ke}Pe.Ia="serverreachability";function Un(u){I.call(this,Pe.Ia,u)}O(Un,I);function Lt(u){const y=jt();St(y,new Un(y))}Pe.STAT_EVENT="statevent";function Qn(u,y){I.call(this,Pe.STAT_EVENT,u),this.stat=y}O(Qn,I);function Ft(u){const y=jt();St(y,new Qn(y,u))}Pe.Ja="timingevent";function Mn(u,y){I.call(this,Pe.Ja,u),this.size=y}O(Mn,I);function Nn(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function Dn(){this.g=!0}Dn.prototype.ua=function(){this.g=!1};function on(u,y,A,k,se,pe){u.info(function(){if(u.g)if(pe){var je="",Ct=pe.split("&");for(let hn=0;hn<Ct.length;hn++){var Zn=Ct[hn].split("=");if(Zn.length>1){const jn=Zn[0];Zn=Zn[1];const yi=jn.split("_");je=yi.length>=2&&yi[1]=="type"?je+(jn+"="+Zn+"&"):je+(jn+"=redacted&")}}}else je=null;else je=pe;return"XMLHTTP REQ ("+k+") [attempt "+se+"]: "+y+`
`+A+`
`+je})}function yt(u,y,A,k,se,pe,je){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+se+"]: "+y+`
`+A+`
`+pe+" "+je})}function tr(u,y,A,k){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ot(u,A)+(k?" "+k:"")})}function On(u,y){u.info(function(){return"TIMEOUT: "+y})}Dn.prototype.info=function(){};function Ot(u,y){if(!u.g)return y;if(!y)return null;try{const pe=JSON.parse(y);if(pe){for(u=0;u<pe.length;u++)if(Array.isArray(pe[u])){var A=pe[u];if(!(A.length<2)){var k=A[1];if(Array.isArray(k)&&!(k.length<1)){var se=k[0];if(se!="noop"&&se!="stop"&&se!="close")for(let je=1;je<k.length;je++)k[je]=""}}}}return g(pe)}catch{return y}}var Hn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zr;function ei(){}O(ei,J),ei.prototype.g=function(){return new XMLHttpRequest},Zr=new ei;function Qe(u){return encodeURIComponent(String(u))}function $a(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function Ur(u,y,A,k){this.j=u,this.i=y,this.l=A,this.S=k||1,this.V=new Tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}var An={},Kn={};function ti(u,y,A){u.M=1,u.A=mr(_n(y)),u.u=A,u.R=!0,ar(u,null)}function ar(u,y){u.F=Date.now(),Nr(u),u.B=_n(u.A);var A=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),Ta(A.i,"t",k),u.C=0,A=u.j.L,u.h=new zr,u.g=Jo(u.j,A?y:null,!u.u),u.P>0&&(u.O=new _t(w(u.Y,u,u.g),u.P)),y=u.V,A=u.g,k=u.ba;var se="readystatechange";Array.isArray(se)||(se&&(mn[0]=se.toString()),se=mn);for(let pe=0;pe<se.length;pe++){const je=lt(A,se[pe],k||y.handleEvent,!1,y.h||y);if(!je)break;y.g[je.key]=je}y=u.J?U(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Lt(),on(u.i,u.v,u.B,u.l,u.S,u.u)}Ur.prototype.ba=function(u){u=u.target;const y=this.O;y&&mi(u)==3?y.j():this.Y(u)},Ur.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=mi(this.g),Zn=this.g.ya(),hn=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||ur(this.g)))){this.K||Ct!=4||Zn==7||(Zn==8||hn<=0?Lt(3):Lt(2)),ni(this);var y=this.g.ca();this.X=y;var A=Ja(this);if(this.o=y==200,yt(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,se=this.g;if((k=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var pe=k;break t}}pe=null}if(u=pe)tr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jr(this,u);else{this.o=!1,this.m=3,Ft(12),Ar(this),ri(this);break e}}if(this.R){u=!0;let jn;for(;!this.K&&this.C<A.length;)if(jn=Yi(this,A),jn==Kn){Ct==4&&(this.m=4,Ft(14),u=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==An){this.m=4,Ft(15),tr(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else tr(this.i,this.l,jn,null),jr(this,jn);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||A.length!=0||this.h.h||(this.m=1,Ft(16),u=!1),this.o=this.o&&u,!u)tr(this.i,this.l,A,"[Invalid Chunked Response]"),Ar(this),ri(this);else if(A.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),qt(je),je.P=!0,Ft(11))}}else tr(this.i,this.l,A,null),jr(this,A);Ct==4&&Ar(this),this.o&&!this.K&&(Ct==4?Aa(this.j,this):(this.o=!1,Nr(this)))}else pi(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),Ar(this),ri(this)}}}catch{}finally{}};function Ja(u){if(!Gi(u))return u.g.la();const y=ur(u.g);if(y==="")return"";let A="";const k=y.length,se=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ar(u),ri(u),"";u.h.i=new p.TextDecoder}for(let pe=0;pe<k;pe++)u.h.h=!0,A+=u.h.i.decode(y[pe],{stream:!(se&&pe==k-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function Gi(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Yi(u,y){var A=u.C,k=y.indexOf(`
`,A);return k==-1?Kn:(A=Number(y.substring(A,k)),isNaN(A)?An:(k+=1,k+A>y.length?Kn:(y=y.slice(k,k+A),u.C=k+A,y)))}Ur.prototype.cancel=function(){this.K=!0,Ar(this)};function Nr(u){u.T=Date.now()+u.H,Br(u,u.H)}function Br(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nn(w(u.aa,u),y)}function ni(u){u.D&&(p.clearTimeout(u.D),u.D=null)}Ur.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(On(this.i,this.B),this.M!=2&&(Lt(),Ft(17)),Ar(this),this.m=2,ri(this)):Br(this,this.T-u)};function ri(u){u.j.I==0||u.K||Aa(u.j,u)}function Ar(u){ni(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,C(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function jr(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||ii(A.h,u))){if(!u.L&&ii(A.h,u)&&A.I==3){try{var k=A.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var se=k;if(se[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)gr(A),Ee(A);else break e;nt(A),Ft(18)}}else A.xa=se[1],0<A.xa-A.K&&se[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Nn(w(A.Va,A),6e3));Fr(A.h)<=1&&A.ta&&(A.ta=void 0)}else $i(A,11)}else if((u.L||A.g==u)&&gr(A),!N(y))for(se=A.Ba.g.parse(y),y=0;y<se.length;y++){let hn=se[y];const jn=hn[0];if(!(jn<=A.K))if(A.K=jn,hn=hn[1],A.I==2)if(hn[0]=="c"){A.M=hn[1],A.ba=hn[2];const yi=hn[3];yi!=null&&(A.ka=yi,A.j.info("VER="+A.ka));const Pi=hn[4];Pi!=null&&(A.za=Pi,A.j.info("SVER="+A.za));const Li=hn[5];Li!=null&&typeof Li=="number"&&Li>0&&(k=1.5*Li,A.O=k,A.j.info("backChannelRequestTimeoutMs_="+k)),k=A;const Si=u.g;if(Si){const ca=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var pe=k.h;pe.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Za(pe,pe.h),pe.h=null))}if(k.G){const ts=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;ts&&(k.wa=ts,$t(k.J,k.G,ts))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),k=A;var je=u;if(k.na=$o(k,k.L?k.ba:null,k.W),je.L){sa(k.h,je);var Ct=je,Zn=k.O;Zn&&(Ct.H=Zn),Ct.D&&(ni(Ct),Nr(Ct)),k.g=je}else ke(k);A.i.length>0&&ve(A)}else hn[0]!="stop"&&hn[0]!="close"||$i(A,7);else A.I==3&&(hn[0]=="stop"||hn[0]=="close"?hn[0]=="stop"?$i(A,7):ae(A):hn[0]!="noop"&&A.l&&A.l.qa(hn),A.A=0)}}Lt(4)}catch{}}var cn=class{constructor(u,y){this.g=u,this.map=y}};function Xi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fr(u){return u.h?1:u.g?u.g.size:0}function ii(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Za(u,y){u.g?u.g.add(y):u.h=y}function sa(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Xi.prototype.cancel=function(){if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fn(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const k=u[A].indexOf("=");let se,pe=null;k>=0?(se=u[A].substring(0,k),pe=u[A].substring(k+1)):se=u[A],y(se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function sr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof sr?(this.l=u.l,$n(this,u.j),this.o=u.o,this.g=u.g,ai(this,u.u),this.h=u.h,Ni(this,la(u.i)),this.m=u.m):u&&(y=String(u).match(Ea))?(this.l=!1,$n(this,y[1]||"",!0),this.o=ft(y[2]||""),this.g=ft(y[3]||"",!0),ai(this,y[4]),this.h=ft(y[5]||"",!0),Ni(this,y[6]||"",!0),this.m=ft(y[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}sr.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(or(y,wa,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(or(y,wa,!0),"@"),u.push(Qe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(or(A,A.charAt(0)=="/"?ka:es,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",or(A,oa)),u.join("")},sr.prototype.resolve=function(u){const y=_n(this);let A=!!u.j;A?$n(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var k=u.h;if(A)ai(y,u.u);else if(A=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var se=y.h.lastIndexOf("/");se!=-1&&(k=y.h.slice(0,se+1)+k)}if(se=k,se==".."||se==".")k="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){k=se.lastIndexOf("/",0)==0,se=se.split("/");const pe=[];for(let je=0;je<se.length;){const Ct=se[je++];Ct=="."?k&&je==se.length&&pe.push(""):Ct==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),k&&je==se.length&&pe.push("")):(pe.push(Ct),k=!0)}k=pe.join("/")}else k=se}return A?y.h=k:A=u.i.toString()!=="",A?Ni(y,la(u.i)):A=!!u.m,A&&(y.m=u.m),y};function _n(u){return new sr(u)}function $n(u,y,A){u.j=A?ft(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function ai(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Ni(u,y,A){y instanceof Di?(u.i=y,Qi(u.i,u.l)):(A||(y=or(y,pn)),u.i=new Di(y,u.l))}function $t(u,y,A){u.i.set(y,A)}function mr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ft(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function or(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,zn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wa=/[#\/\?@]/g,es=/[#\?:]/g,ka=/[#\?]/g,pn=/[#\?@]/g,oa=/#/g;function Di(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function nr(u){u.g||(u.g=new Map,u.h=0,u.i&&fn(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}i=Di.prototype,i.add=function(u,y){nr(this),this.i=null,u=li(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function si(u,y){nr(u),y=li(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Wi(u,y){return nr(u),y=li(u,y),u.g.has(y)}i.forEach=function(u,y){nr(this),this.g.forEach(function(A,k){A.forEach(function(se){u.call(y,se,k,this)},this)},this)};function oi(u,y){nr(u);let A=[];if(typeof y=="string")Wi(u,y)&&(A=A.concat(u.g.get(li(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}i.set=function(u,y){return nr(this),this.i=null,u=li(this,u),Wi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=oi(this,u),u.length>0?String(u[0]):y):y};function Ta(u,y,A){si(u,y),A.length>0&&(u.i=null,u.g.set(li(u,y),te(A)),u.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var A=y[k];const se=Qe(A);A=oi(this,A);for(let pe=0;pe<A.length;pe++){let je=se;A[pe]!==""&&(je+="="+Qe(A[pe])),u.push(je)}}return this.i=u.join("&")};function la(u){const y=new Di;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function li(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Qi(u,y){y&&!u.j&&(nr(u),u.i=null,u.g.forEach(function(A,k){const se=k.toLowerCase();k!=se&&(si(this,k),Ta(this,se,A))},u)),u.j=y}function Hr(u,y){const A=new Dn;if(p.Image){const k=new Image;k.onload=x(ui,A,"TestLoadImage: loaded",!0,y,k),k.onerror=x(ui,A,"TestLoadImage: error",!1,y,k),k.onabort=x(ui,A,"TestLoadImage: abort",!1,y,k),k.ontimeout=x(ui,A,"TestLoadImage: timeout",!1,y,k),p.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else y(!1)}function Va(u,y){const A=new Dn,k=new AbortController,se=setTimeout(()=>{k.abort(),ui(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:k.signal}).then(pe=>{clearTimeout(se),pe.ok?ui(A,"TestPingServer: ok",!0,y):ui(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(se),ui(A,"TestPingServer: error",!1,y)})}function ui(u,y,A,k,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),k(A)}catch{}}function ci(){this.g=new V}function Dr(u){this.i=u.Sb||null,this.h=u.ab||!1}O(Dr,J),Dr.prototype.g=function(){return new fi(this.i,this.h)};function fi(u,y){Ke.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}O(fi,Ke),i=fi.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Cr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?hi(this):Cr(this),this.readyState==3&&Oi(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,hi(this))},i.Na=function(u){this.g&&(this.response=u,hi(this))},i.ga=function(){this.g&&hi(this)};function hi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Cr(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function Cr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lr(u){let y="";return he(u,function(A,k){y+=k,y+=":",y+=A,y+=`\r
`}),y}function ki(u,y,A){e:{for(k in A){var k=!1;break e}k=!0}k||(A=lr(A),typeof u=="string"?A!=null&&Qe(A):$t(u,y,A))}function Et(u){Ke.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}O(Et,Ke);var Vi=/^https?$/i,Rr=["POST","PUT"];i=Et.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,A,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zr.g(),this.g.onreadystatechange=G(w(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(pe){Ki(this,pe);return}if(u=A||"",A=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var se in k)A.set(se,k[se]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const pe of k.keys())A.set(pe,k.get(pe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),se=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Rr,y,void 0)>=0)||k||se||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,je]of A)this.g.setRequestHeader(pe,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(pe){Ki(this,pe)}};function Ki(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ua(u),di(u)}function ua(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),di(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},i.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),mi(u)==4){u.h=!1;try{const pe=u.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var k;if(k=pe===0){let je=String(u.D).match(Ea)[1]||null;!je&&p.self&&p.self.location&&(je=p.self.location.protocol.slice(0,-1)),k=!Vi.test(je?je.toLowerCase():"")}A=k}if(A)St(u,"complete"),St(u,"success");else{u.o=6;try{var se=mi(u)>2?u.g.statusText:""}catch{se=""}u.l=se+" ["+u.ca()+"]",ua(u)}}finally{di(u)}}}}function di(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||St(u,"ready");try{A.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}i.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),_(y)}};function ur(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pi(u){const y={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(N(u[k]))continue;var A=$a(u[k]);const se=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=y[se]||[];y[se]=pe,pe.push(A)}Ce(y,function(k){return k.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function W(u){this.za=0,this.i=[],this.j=new Dn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Xi(u&&u.concurrentRequestLimit),this.Ba=new ci,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=W.prototype,i.ka=8,i.I=1,i.connect=function(u,y,A,k){Ft(0),this.W=u,this.H=y||{},A&&k!==void 0&&(this.H.OSID=A,this.H.OAID=k),this.F=this.X,this.J=$o(this,null,this.W),ve(this)};function ae(u){if(_e(u),u.I==3){var y=u.V++,A=_n(u.J);if($t(A,"SID",u.M),$t(A,"RID",y),$t(A,"TYPE","terminate"),ze(u,A),y=new Ur(u,u.j,y),y.M=2,y.A=mr(_n(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Nr(y)}Ds(u)}function Ee(u){u.g&&(qt(u),u.g.cancel(),u.g=null)}function _e(u){Ee(u),u.v&&(p.clearTimeout(u.v),u.v=null),gr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function ve(u){if(!Sr(u.h)&&!u.m){u.m=!0;var y=u.Ea;ut||H(),at||(ut(),at=!0),Y.add(y,u),u.D=0}}function He(u,y){return Fr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nn(w(u.Ea,u,y),Ai(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const se=new Ur(this,this.j,u);let pe=this.o;if(this.U&&(pe?(pe=U(pe),Ne(pe,this.U)):pe=this.U),this.u!==null||this.R||(se.J=pe,pe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var k=this.i[A];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=ht(this,se,y),A=_n(this.J),$t(A,"RID",u),$t(A,"CVER",22),this.G&&$t(A,"X-HTTP-Session-Id",this.G),ze(this,A),pe&&(this.R?y="headers="+Qe(lr(pe))+"&"+y:this.u&&ki(A,this.u,pe)),Za(this.h,se),this.Ra&&$t(A,"TYPE","init"),this.S?($t(A,"$req",y),$t(A,"SID","null"),se.U=!0,ti(se,A,null)):ti(se,A,y),this.I=2}}else this.I==3&&(u?Ge(this,u):this.i.length==0||Sr(this.h)||Ge(this))};function Ge(u,y){var A;y?A=y.l:A=u.V++;const k=_n(u.J);$t(k,"SID",u.M),$t(k,"RID",A),$t(k,"AID",u.K),ze(u,k),u.u&&u.o&&ki(k,u.u,u.o),A=new Ur(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=ht(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Za(u.h,A),ti(A,k,y)}function ze(u,y){u.H&&he(u.H,function(A,k){$t(y,k,A)}),u.l&&he({},function(A,k){$t(y,k,A)})}function ht(u,y,A){A=Math.min(u.i.length,A);const k=u.l?w(u.l.Ka,u.l,u):null;e:{var se=u.i;let Ct=-1;for(;;){const Zn=["count="+A];Ct==-1?A>0?(Ct=se[0].g,Zn.push("ofs="+Ct)):Ct=0:Zn.push("ofs="+Ct);let hn=!0;for(let jn=0;jn<A;jn++){var pe=se[jn].g;const yi=se[jn].map;if(pe-=Ct,pe<0)Ct=Math.max(0,se[jn].g-100),hn=!1;else try{pe="req"+pe+"_"||"";try{var je=yi instanceof Map?yi:Object.entries(yi);for(const[Pi,Li]of je){let Si=Li;b(Li)&&(Si=g(Li)),Zn.push(pe+Pi+"="+encodeURIComponent(Si))}}catch(Pi){throw Zn.push(pe+"type="+encodeURIComponent("_badmap")),Pi}}catch{k&&k(yi)}}if(hn){je=Zn.join("&");break e}}je=void 0}return u=u.i.splice(0,A),y.G=u,je}function ke(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ut||H(),at||(ut(),at=!0),Y.add(y,u),u.A=0}}function nt(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nn(w(u.Da,u),Ai(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Or(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nn(w(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Ee(this),Or(this))};function qt(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Or(u){u.g=new Ur(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=_n(u.na);$t(y,"RID","rpc"),$t(y,"SID",u.M),$t(y,"AID",u.K),$t(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(y,"TO",u.ia),$t(y,"TYPE","xmlhttp"),ze(u,y),u.u&&u.o&&ki(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=mr(_n(y)),A.u=null,A.R=!0,ar(A,u)}i.Va=function(){this.C!=null&&(this.C=null,Ee(this),nt(this),Ft(19))};function gr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Aa(u,y){var A=null;if(u.g==y){gr(u),qt(u),u.g=null;var k=2}else if(ii(u.h,y))A=y.G,sa(u.h,y),k=1;else return;if(u.I!=0){if(y.o)if(k==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var se=u.D;k=jt(),St(k,new Mn(k,A)),ve(u)}else ke(u);else if(se=y.m,se==3||se==0&&y.X>0||!(k==1&&He(u,y)||k==2&&nt(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),se){case 1:$i(u,5);break;case 4:$i(u,10);break;case 3:$i(u,6);break;default:$i(u,2)}}}function Ai(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function $i(u,y){if(u.j.info("Error code "+y),y==2){var A=w(u.bb,u),k=u.Ua;const se=!k;k=new sr(k||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||$n(k,"https"),mr(k),se?Hr(k.toString(),A):Va(k.toString(),A)}else Ft(2);u.I=0,u.l&&u.l.pa(y),Ds(u),_e(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Ds(u){if(u.I=0,u.ja=[],u.l){const y=Oa(u.h);(y.length!=0||u.i.length!=0)&&(z(u.ja,y),z(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function $o(u,y,A){var k=A instanceof sr?_n(A):new sr(A);if(k.g!="")y&&(k.g=y+"."+k.g),ai(k,k.u);else{var se=p.location;k=se.protocol,y=y?y+"."+se.hostname:se.hostname,se=+se.port;const pe=new sr(null);k&&$n(pe,k),y&&(pe.g=y),se&&ai(pe,se),A&&(pe.h=A),k=pe}return A=u.G,y=u.wa,A&&y&&$t(k,A,y),$t(k,"VER",u.ka),ze(u,k),k}function Jo(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Et(new Dr({ab:A})):new Et(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Os(){}i=Os.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pa(){}Pa.prototype.g=function(u,y){return new qr(u,y)};function qr(u,y){Ke.call(this),this.g=new W(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!N(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Sa(this)}O(qr,Ke),qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){ae(this.g)},qr.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=g(u),u=A);y.i.push(new cn(y.Ya++,u)),y.I==3&&ve(y)},qr.prototype.N=function(){this.g.l=null,delete this.j,ae(this.g),delete this.g,qr.Z.N.call(this)};function So(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}O(So,qe);function Zo(){We.call(this),this.status=1}O(Zo,We);function Sa(u){this.g=u}O(Sa,Os),Sa.prototype.ra=function(){St(this.g,"a")},Sa.prototype.qa=function(u){St(this.g,new So(u))},Sa.prototype.pa=function(u){St(this.g,new Zo)},Sa.prototype.oa=function(){St(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,Jb=function(){return new Pa},$b=function(){return jt()},Kb=Pe,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hn.NO_ERROR=0,Hn.TIMEOUT=8,Hn.HTTP_ERROR=6,kf=Hn,Mi.COMPLETE="complete",Qb=Mi,ge.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Bu=ge,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,Wb=Et}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const $0="@firebase/firestore",J0="4.9.3";class Ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let Jl="12.7.0";const Go=new dp("@firebase/firestore");function Rl(){return Go.logLevel}function it(i,...e){if(Go.logLevel<=tn.DEBUG){const r=e.map(Ap);Go.debug(`Firestore (${Jl}): ${i}`,...r)}}function xs(i,...e){if(Go.logLevel<=tn.ERROR){const r=e.map(Ap);Go.error(`Firestore (${Jl}): ${i}`,...r)}}function Hl(i,...e){if(Go.logLevel<=tn.WARN){const r=e.map(Ap);Go.warn(`Firestore (${Jl}): ${i}`,...r)}}function Ap(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function wt(i,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,Zb(i,a,r)}function Zb(i,e,r){let a=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw xs(a),new Error(a)}function Rn(i,e,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||Zb(e,l,a)}function Mt(i,e){return i}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Ns{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class eE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Ei.UNAUTHENTICATED)))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Rn(this.o===void 0,42304);let a=this.i;const l=E=>this.i!==a?(a=this.i,r(E)):Promise.resolve();let c=new go;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new go,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const E=c;e.enqueueRetryable((async()=>{await E.promise,await l(this.currentUser)}))},b=E=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((E=>b(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?b(E):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new go)}}),0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Rn(typeof a.accessToken=="string",31837,{l:a}),new eE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string",2055,{h:e}),new Ei(e)}}class BC{constructor(e,r,a){this.P=e,this.T=r,this.I=a,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jC{constructor(e,r,a){this.P=e,this.T=r,this.I=a}getToken(){return Promise.resolve(new BC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Ei.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,va(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Rn(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Rn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Z0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=HC(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<r&&(a+=e.charAt(l[c]%62))}return a}}function nn(i,e){return i<e?-1:i>e?1:0}function Wm(i,e){const r=Math.min(i.length,e.length);for(let a=0;a<r;a++){const l=i.charAt(a),c=e.charAt(a);if(l!==c)return Im(l)===Im(c)?nn(l,c):Im(l)?1:-1}return nn(i.length,e.length)}const qC=55296,GC=57343;function Im(i){const e=i.charCodeAt(0);return e>=qC&&e<=GC}function ql(i,e,r){return i.length===e.length&&i.every(((a,l)=>r(a,e[l])))}const e_="__name__";class Ha{constructor(e,r,a){r===void 0?r=0:r>e.length&&wt(637,{offset:r,range:e.length}),a===void 0?a=e.length-r:a>e.length-r&&wt(1746,{length:a,range:e.length-r}),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return Ha.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ha?e.forEach((a=>{r.push(a)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const c=Ha.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return nn(e.length,r.length)}static compareSegments(e,r){const a=Ha.isNumericId(e),l=Ha.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Ha.extractNumericId(e).compare(Ha.extractNumericId(r)):Wm(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class Fn extends Ha{construct(e,r,a){return new Fn(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new Fn(r)}static emptyPath(){return new Fn([])}}const YC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Ha{construct(e,r,a){return new $r(e,r,a)}static isValidIdentifier(e){return YC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new $r([e_])}static fromServerFormat(e){const r=[];let a="",l=0;const c=()=>{if(a.length===0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Ze(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[l+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new Ze(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=E,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(a+=b,l++):(c(),l++)}if(c(),p)throw new Ze(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(r)}static emptyPath(){return new $r([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Fn.fromString(e))}static fromName(e){return new gt(Fn.fromString(e).popFirst(5))}static empty(){return new gt(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Fn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Fn(e.slice()))}}function tE(i,e,r){if(!r)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function XC(i,e,r,a){if(e===!0&&a===!0)throw new Ze(Ie.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function t_(i){if(!gt.isDocumentKey(i))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function n_(i){if(gt.isDocumentKey(i))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function fh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":wt(12329,{type:typeof i})}function Wf(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ze(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=fh(i);throw new Ze(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function WC(i,e){if(e<=0)throw new Ze(Ie.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Tr(i,e){const r={typeString:i};return e&&(r.value=e),r}function mc(i,e){if(!nE(i))throw new Ze(Ie.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const p=i[a];if(l&&typeof p!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${a}' field to equal '${c.value}'`;break}}if(r)throw new Ze(Ie.INVALID_ARGUMENT,r);return!0}const r_=-62135596800,i_=1e6;class Xn{static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor((e-1e3*r)*i_);return new Xn(r,a)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<r_)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,Xn._jsonSchema))return new Xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xn._jsonSchemaVersion="firestore/timestamp/1.0",Xn._jsonSchema={type:Tr("string",Xn._jsonSchemaVersion),seconds:Tr("number"),nanoseconds:Tr("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Xn(0,0))}static max(){return new Rt(new Xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ju=-1;function QC(i,e){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(a===1e9?new Xn(r+1,0):new Xn(r,a));return new vo(l,gt.empty(),e)}function KC(i){return new vo(i.readTime,i.key,Ju)}class vo{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new vo(Rt.min(),gt.empty(),Ju)}static max(){return new vo(Rt.max(),gt.empty(),Ju)}}function $C(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=gt.comparator(i.documentKey,e.documentKey),r!==0?r:nn(i.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zl(i){if(i.code!==Ie.FAILED_PRECONDITION||i.message!==JC)throw i;it("LocalStore","Unexpectedly lost primary lease")}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Me(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(a,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Me?r:Me.resolve(r)}catch(r){return Me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Me.reject(r)}static resolve(e){return new Me(((r,a)=>{r(e)}))}static reject(e){return new Me(((r,a)=>{a(e)}))}static waitFor(e){return new Me(((r,a)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(E=>a(E)))})),p=!0,c===l&&r()}))}static or(e){let r=Me.resolve(!1);for(const a of e)r=r.next((l=>l?Me.resolve(l):a()));return r}static forEach(e,r){const a=[];return e.forEach(((l,c)=>{a.push(r.call(this,l,c))})),this.waitFor(a)}static mapArray(e,r){return new Me(((a,l)=>{const c=e.length,p=new Array(c);let b=0;for(let E=0;E<c;E++){const w=E;r(e[w]).next((x=>{p[w]=x,++b,b===c&&a(p)}),(x=>l(x)))}}))}static doWhile(e,r){return new Me(((a,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):a()};c()}))}}function eR(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function eu(i){return i.name==="IndexedDbTransactionError"}class hh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hh.ce=-1;const Cp=-1;function dh(i){return i==null}function Qf(i){return i===0&&1/i==-1/0}function tR(i){return typeof i=="number"&&Number.isInteger(i)&&!Qf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const rE="";function nR(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=a_(e)),e=rR(i.get(r),e);return a_(e)}function rR(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case rE:r+="";break;default:r+=c}}return r}function a_(i){return i+rE+""}function s_(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Xo(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function iE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class er{constructor(e,r){this.comparator=e,this.root=r||Kr.EMPTY}insert(e,r){return new er(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,a)=>(e(r,a),!1)))}toString(){const e=[];return this.inorderTraversal(((r,a)=>(e.push(`${r}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?a(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,r,a,l,c){this.key=e,this.value=r,this.color=a??Kr.RED,this.left=l??Kr.EMPTY,this.right=c??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,c){return new Kr(e??this.key,r??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,a),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Kr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,r,a,l,c){return this}insert(e,r,a){return new Kr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,a)=>(e(r),!1)))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((a=>{r=r.add(a)})),r}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new xr(this.comparator);return r.data=e,r}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Na{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Na([])}unionWith(e){let r=new xr($r.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new Na(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((r,a)=>r.isEqual(a)))}}class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aE("Invalid base64 string: "+c):c}})(e);return new Jr(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new Jr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(i){if(Rn(!!i,39018),typeof i=="string"){let e=0;const r=iR.exec(i);if(Rn(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:dr(i.seconds),nanos:dr(i.nanos)}}function dr(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function bo(i){return typeof i=="string"?Jr.fromBase64String(i):Jr.fromUint8Array(i)}const sE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Rp(i){return(i?.mapValue?.fields||{})[oE]?.stringValue===sE}function mh(i){const e=i.mapValue.fields[lE];return Rp(e)?mh(e):e}function Zu(i){const e=_o(i.mapValue.fields[uE].timestampValue);return new Xn(e.seconds,e.nanos)}class aR{constructor(e,r,a,l,c,p,b,E,w,x){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=E,this.useFetchStreams=w,this.isUsingEmulator=x}}const Kf="(default)";class ec{constructor(e,r){this.projectId=e,this.database=r||Kf}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const cE="__type__",sR="__max__",Af={mapValue:{}},fE="__vector__",$f="value";function Eo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rp(i)?4:lR(i)?9007199254740991:oR(i)?10:11:wt(28295,{value:i})}function Ka(i,e){if(i===e)return!0;const r=Eo(i);if(r!==Eo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zu(i).isEqual(Zu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=_o(l.timestampValue),b=_o(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return bo(l.bytesValue).isEqual(bo(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return dr(l.geoPointValue.latitude)===dr(c.geoPointValue.latitude)&&dr(l.geoPointValue.longitude)===dr(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return dr(l.integerValue)===dr(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=dr(l.doubleValue),b=dr(c.doubleValue);return p===b?Qf(p)===Qf(b):isNaN(p)&&isNaN(b)}return!1})(i,e);case 9:return ql(i.arrayValue.values||[],e.arrayValue.values||[],Ka);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(s_(p)!==s_(b))return!1;for(const E in p)if(p.hasOwnProperty(E)&&(b[E]===void 0||!Ka(p[E],b[E])))return!1;return!0})(i,e);default:return wt(52216,{left:i})}}function tc(i,e){return(i.values||[]).find((r=>Ka(r,e)))!==void 0}function Gl(i,e){if(i===e)return 0;const r=Eo(i),a=Eo(e);if(r!==a)return nn(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return nn(i.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=dr(c.integerValue||c.doubleValue),E=dr(p.integerValue||p.doubleValue);return b<E?-1:b>E?1:b===E?0:isNaN(b)?isNaN(E)?0:-1:1})(i,e);case 3:return l_(i.timestampValue,e.timestampValue);case 4:return l_(Zu(i),Zu(e));case 5:return Wm(i.stringValue,e.stringValue);case 6:return(function(c,p){const b=bo(c),E=bo(p);return b.compareTo(E)})(i.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),E=p.split("/");for(let w=0;w<b.length&&w<E.length;w++){const x=nn(b[w],E[w]);if(x!==0)return x}return nn(b.length,E.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=nn(dr(c.latitude),dr(p.latitude));return b!==0?b:nn(dr(c.longitude),dr(p.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return u_(i.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},E=p.fields||{},w=b[$f]?.arrayValue,x=E[$f]?.arrayValue,O=nn(w?.values?.length||0,x?.values?.length||0);return O!==0?O:u_(w,x)})(i.mapValue,e.mapValue);case 11:return(function(c,p){if(c===Af.mapValue&&p===Af.mapValue)return 0;if(c===Af.mapValue)return 1;if(p===Af.mapValue)return-1;const b=c.fields||{},E=Object.keys(b),w=p.fields||{},x=Object.keys(w);E.sort(),x.sort();for(let O=0;O<E.length&&O<x.length;++O){const G=Wm(E[O],x[O]);if(G!==0)return G;const te=Gl(b[E[O]],w[x[O]]);if(te!==0)return te}return nn(E.length,x.length)})(i.mapValue,e.mapValue);default:throw wt(23264,{he:r})}}function l_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return nn(i,e);const r=_o(i),a=_o(e),l=nn(r.seconds,a.seconds);return l!==0?l:nn(r.nanos,a.nanos)}function u_(i,e){const r=i.values||[],a=e.values||[];for(let l=0;l<r.length&&l<a.length;++l){const c=Gl(r[l],a[l]);if(c)return c}return nn(r.length,a.length)}function Yl(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=_o(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return bo(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return gt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const c of r.values||[])l?l=!1:a+=",",a+=Qm(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of a)c?c=!1:l+=",",l+=`${p}:${Qm(r.fields[p])}`;return l+"}"})(i.mapValue):wt(61005,{value:i})}function Vf(i){switch(Eo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(i);return e?16+Vf(e):16;case 5:return 2*i.stringValue.length;case 6:return bo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vf(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return Xo(a.fields,((c,p)=>{l+=c.length+Vf(p)})),l})(i.mapValue);default:throw wt(13486,{value:i})}}function c_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Km(i){return!!i&&"integerValue"in i}function Ip(i){return!!i&&"arrayValue"in i}function f_(i){return!!i&&"nullValue"in i}function h_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pf(i){return!!i&&"mapValue"in i}function oR(i){return(i?.mapValue?.fields||{})[cE]?.stringValue===fE}function Gu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Xo(i.mapValue.fields,((r,a)=>e.mapValue.fields[r]=Gu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gu(i.arrayValue.values[r]);return e}return{...i}}function lR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}class _a{constructor(e){this.value=e}static empty(){return new _a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Pf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(r)}setAll(e){let r=$r.emptyPath(),a={},l=[];e.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const E=this.getFieldsMap(r);this.applyChanges(E,a,l),a={},l=[],r=b.popLast()}p?a[b.lastSegment()]=Gu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,a,l)}delete(e){const r=this.field(e.popLast());Pf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ka(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];Pf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){Xo(r,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new _a(Gu(this.value))}}function hE(i){const e=[];return Xo(i.fields,((r,a)=>{const l=new $r([r]);if(Pf(a)){const c=hE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new Na(e)}class wi{constructor(e,r,a,l,c,p,b){this.key=e,this.documentType=r,this.version=a,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new wi(e,0,Rt.min(),Rt.min(),Rt.min(),_a.empty(),0)}static newFoundDocument(e,r,a,l){return new wi(e,1,r,Rt.min(),a,l,0)}static newNoDocument(e,r){return new wi(e,2,r,Rt.min(),Rt.min(),_a.empty(),0)}static newUnknownDocument(e,r){return new wi(e,3,r,Rt.min(),Rt.min(),_a.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jf{constructor(e,r){this.position=e,this.inclusive=r}}function d_(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(p.referenceValue),r.key):a=Gl(p,r.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function m_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ka(i.position[r],e.position[r]))return!1;return!0}class nc{constructor(e,r="asc"){this.field=e,this.dir=r}}function uR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class dE{}class wr extends dE{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,a):new fR(e,r,a):r==="array-contains"?new mR(e,a):r==="in"?new pR(e,a):r==="not-in"?new gR(e,a):r==="array-contains-any"?new yR(e,a):new wr(e,r,a)}static createKeyFieldInFilter(e,r,a){return r==="in"?new hR(e,a):new dR(e,a)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Gl(r,this.value)):r!==null&&Eo(this.value)===Eo(r)&&this.matchesComparison(Gl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends dE{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Da(e,r)}matches(e){return mE(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(i){return i.op==="and"}function pE(i){return cR(i)&&mE(i)}function cR(i){for(const e of i.filters)if(e instanceof Da)return!1;return!0}function $m(i){if(i instanceof wr)return i.field.canonicalString()+i.op.toString()+Yl(i.value);if(pE(i))return i.filters.map((e=>$m(e))).join(",");{const e=i.filters.map((r=>$m(r))).join(",");return`${i.op}(${e})`}}function gE(i,e){return i instanceof wr?(function(a,l){return l instanceof wr&&a.op===l.op&&a.field.isEqual(l.field)&&Ka(a.value,l.value)})(i,e):i instanceof Da?(function(a,l){return l instanceof Da&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,p,b)=>c&&gE(p,l.filters[b])),!0):!1})(i,e):void wt(19439)}function yE(i){return i instanceof wr?(function(r){return`${r.field.canonicalString()} ${r.op} ${Yl(r.value)}`})(i):i instanceof Da?(function(r){return r.op.toString()+" {"+r.getFilters().map(yE).join(" ,")+"}"})(i):"Filter"}class fR extends wr{constructor(e,r,a){super(e,r,a),this.key=gt.fromName(a.referenceValue)}matches(e){const r=gt.comparator(e.key,this.key);return this.matchesComparison(r)}}class hR extends wr{constructor(e,r){super(e,"in",r),this.keys=vE("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class dR extends wr{constructor(e,r){super(e,"not-in",r),this.keys=vE("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function vE(i,e){return(e.arrayValue?.values||[]).map((r=>gt.fromName(r.referenceValue)))}class mR extends wr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ip(r)&&tc(r.arrayValue,this.value)}}class pR extends wr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&tc(this.value.arrayValue,r)}}class gR extends wr{constructor(e,r){super(e,"not-in",r)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!tc(this.value.arrayValue,r)}}class yR extends wr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ip(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>tc(this.value.arrayValue,a)))}}class vR{constructor(e,r=null,a=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function p_(i,e=null,r=[],a=[],l=null,c=null,p=null){return new vR(i,e,r,a,l,c,p)}function xp(i){const e=Mt(i);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((a=>$m(a))).join(","),r+="|ob:",r+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Yl(a))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Yl(a))).join(",")),e.Te=r}return e.Te}function Mp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!uR(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!gE(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!m_(i.startAt,e.startAt)&&m_(i.endAt,e.endAt)}function Jm(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class tu{constructor(e,r=null,a=[],l=[],c=null,p="F",b=null,E=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _R(i,e,r,a,l,c,p,b){return new tu(i,e,r,a,l,c,p,b)}function _E(i){return new tu(i)}function g_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bE(i){return i.collectionGroup!==null}function Yu(i){const e=Mt(i);if(e.Ie===null){e.Ie=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),r.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new xr($r.comparator);return p.filters.forEach((E=>{E.getFlattenedFilters().forEach((w=>{w.isInequality()&&(b=b.add(w.field))}))})),b})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nc(c,a))})),r.has($r.keyField().canonicalString())||e.Ie.push(new nc($r.keyField(),a))}return e.Ie}function Ya(i){const e=Mt(i);return e.Ee||(e.Ee=bR(e,Yu(i))),e.Ee}function bR(i,e){if(i.limitType==="F")return p_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nc(l.field,c)}));const r=i.endAt?new Jf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Jf(i.startAt.position,i.startAt.inclusive):null;return p_(i.path,i.collectionGroup,e,i.filters,i.limit,r,a)}}function Zm(i,e){const r=i.filters.concat([e]);return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Zf(i,e,r){return new tu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function ph(i,e){return Mp(Ya(i),Ya(e))&&i.limitType===e.limitType}function EE(i){return`${xp(Ya(i))}|lt:${i.limitType}`}function Il(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>yE(l))).join(", ")}]`),dh(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>Yl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>Yl(l))).join(",")),`Target(${a})`})(Ya(i))}; limitType=${i.limitType})`}function gh(i,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,l){for(const c of Yu(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(a,l){return!(a.startAt&&!(function(p,b,E){const w=d_(p,b,E);return p.inclusive?w<=0:w<0})(a.startAt,Yu(a),l)||a.endAt&&!(function(p,b,E){const w=d_(p,b,E);return p.inclusive?w>=0:w>0})(a.endAt,Yu(a),l))})(i,e)}function ER(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wE(i){return(e,r)=>{let a=!1;for(const l of Yu(i)){const c=wR(l,e,r);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function wR(i,e,r){const a=i.field.isKeyField()?gt.comparator(e.key,r.key):(function(c,p,b){const E=p.data.field(c),w=b.data.field(c);return E!==null&&w!==null?Gl(E,w):wt(42886)})(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return wt(19790,{direction:i.dir})}}class Wo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((r,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const TR=new er(gt.comparator);function Ms(){return TR}const TE=new er(gt.comparator);function ju(...i){let e=TE;for(const r of i)e=e.insert(r.key,r);return e}function AE(i){let e=TE;return i.forEach(((r,a)=>e=e.insert(r,a.overlayedDocument))),e}function jo(){return Xu()}function SE(){return Xu()}function Xu(){return new Wo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const AR=new er(gt.comparator),SR=new xr(gt.comparator);function rn(...i){let e=SR;for(const r of i)e=e.add(r);return e}const CR=new xr(nn);function RR(){return CR}function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function CE(i){return{integerValue:""+i}}function IR(i,e){return tR(e)?CE(e):Np(i,e)}class yh{constructor(){this._=void 0}}function xR(i,e,r){return i instanceof eh?(function(l,c){const p={fields:{[oE]:{stringValue:sE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Rp(c)&&(c=mh(c)),c&&(p.fields[lE]=c),{mapValue:p}})(r,e):i instanceof rc?IE(i,e):i instanceof ic?xE(i,e):(function(l,c){const p=RE(l,c),b=y_(p)+y_(l.Ae);return Km(p)&&Km(l.Ae)?CE(b):Np(l.serializer,b)})(i,e)}function MR(i,e,r){return i instanceof rc?IE(i,e):i instanceof ic?xE(i,e):r}function RE(i,e){return i instanceof th?(function(a){return Km(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class eh extends yh{}class rc extends yh{constructor(e){super(),this.elements=e}}function IE(i,e){const r=ME(e);for(const a of i.elements)r.some((l=>Ka(l,a)))||r.push(a);return{arrayValue:{values:r}}}class ic extends yh{constructor(e){super(),this.elements=e}}function xE(i,e){let r=ME(e);for(const a of i.elements)r=r.filter((l=>!Ka(l,a)));return{arrayValue:{values:r}}}class th extends yh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function y_(i){return dr(i.integerValue||i.doubleValue)}function ME(i){return Ip(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function NR(i,e){return i.field.isEqual(e.field)&&(function(a,l){return a instanceof rc&&l instanceof rc||a instanceof ic&&l instanceof ic?ql(a.elements,l.elements,Ka):a instanceof th&&l instanceof th?Ka(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(i.transform,e.transform)}class DR{constructor(e,r){this.version=e,this.transformResults=r}}class As{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vh{}function NE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new OE(i.key,As.none()):new pc(i.key,i.data,As.none());{const r=i.data,a=_a.empty();let l=new xr($r.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?a.delete(c):a.set(c,p),l=l.add(c)}return new Qo(i.key,a,new Na(l.toArray()),As.none())}}function OR(i,e,r){i instanceof pc?(function(l,c,p){const b=l.value.clone(),E=__(l.fieldTransforms,c,p.transformResults);b.setAll(E),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(i,e,r):i instanceof Qo?(function(l,c,p){if(!Lf(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=__(l.fieldTransforms,c,p.transformResults),E=c.data;E.setAll(DE(l)),E.setAll(b),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()})(i,e,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,r)}function Wu(i,e,r,a){return i instanceof pc?(function(c,p,b,E){if(!Lf(c.precondition,p))return b;const w=c.value.clone(),x=b_(c.fieldTransforms,E,p);return w.setAll(x),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),null})(i,e,r,a):i instanceof Qo?(function(c,p,b,E){if(!Lf(c.precondition,p))return b;const w=b_(c.fieldTransforms,E,p),x=p.data;return x.setAll(DE(c)),x.setAll(w),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((O=>O.field)))})(i,e,r,a):(function(c,p,b){return Lf(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(i,e,r)}function kR(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),c=RE(a.transform,l||null);c!=null&&(r===null&&(r=_a.empty()),r.set(a.field,c))}return r||null}function v_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ql(a,l,((c,p)=>NR(c,p)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pc extends vh{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends vh{constructor(e,r,a,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}})),e}function __(i,e,r){const a=new Map;Rn(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,b=e.data.field(c.field);a.set(c.field,MR(p,b,r[l]))}return a}function b_(i,e,r){const a=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);a.set(l.field,xR(c,p,e))}return a}class OE extends vh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VR extends vh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PR{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&OR(c,e,a[l])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Wu(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Wu(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=SE();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const E=NE(p,b);E!==null&&a.set(l.key,E),p.isValidDocument()||p.convertToNoDocument(Rt.min())})),a}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),rn())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((r,a)=>v_(r,a)))&&ql(this.baseMutations,e.baseMutations,((r,a)=>v_(r,a)))}}class Dp{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){Rn(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return AR})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,a[p].version);return new Dp(e,r,a,l)}}class LR{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UR{constructor(e,r){this.count=e,this.unchangedNames=r}}var Er,un;function zR(i){switch(i){case Ie.OK:return wt(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return wt(15467,{code:i})}}function kE(i){if(i===void 0)return xs("GRPC error has no .code"),Ie.UNKNOWN;switch(i){case Er.OK:return Ie.OK;case Er.CANCELLED:return Ie.CANCELLED;case Er.UNKNOWN:return Ie.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Ie.INTERNAL;case Er.UNAVAILABLE:return Ie.UNAVAILABLE;case Er.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Er.NOT_FOUND:return Ie.NOT_FOUND;case Er.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Er.ABORTED:return Ie.ABORTED;case Er.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Er.DATA_LOSS:return Ie.DATA_LOSS;default:return wt(39323,{code:i})}}(un=Er||(Er={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";function BR(){return new TextEncoder}const jR=new po([4294967295,4294967295],0);function E_(i){const e=BR().encode(i),r=new Xb;return r.update(e),new Uint8Array(r.digest())}function w_(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new po([r,a],0),new po([l,c],0)]}class Op{constructor(e,r,a){if(this.bitmap=e,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Fu(`Invalid padding: ${r}`);if(a<0)throw new Fu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${a}`);if(e.length===0&&r!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=po.fromNumber(this.ge)}ye(e,r,a){let l=e.add(r.multiply(po.fromNumber(a)));return l.compare(jR)===1&&(l=new po([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=E_(e),[a,l]=w_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);if(!this.we(p))return!1}return!0}static create(e,r,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Op(c,l,r);return a.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const r=E_(e),[a,l]=w_(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(a,l,c);this.Se(p)}}Se(e){const r=Math.floor(e/8),a=e%8;this.bitmap[r]|=1<<a}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(e,r,a,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const l=new Map;return l.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new _h(Rt.min(),l,new er(nn),Ms(),rn())}}class gc{constructor(e,r,a,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new gc(a,r,rn(),rn(),rn())}}class Uf{constructor(e,r,a,l){this.be=e,this.removedTargetIds=r,this.key=a,this.De=l}}class VE{constructor(e,r){this.targetId=e,this.Ce=r}}class PE{constructor(e,r,a=Jr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class T_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Jr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rn(),r=rn(),a=rn();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:wt(38017,{changeType:c})}})),new gc(this.Me,this.xe,e,r,a)}qe(){this.Oe=!1,this.Fe=A_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Sf(),this.He=Sf(),this.Ye=new er(nn)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const a=this.nt(r);switch(e.state){case 0:this.rt(r)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(e.resumeToken));break;default:wt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(e){const r=e.targetId,a=e.Ce.count,l=this.ot(r);if(l){const c=l.target;if(Jm(c))if(a===0){const p=new gt(c.path);this.et(r,p,wi.newNoDocument(p,Rt.min()))}else Rn(a===1,20013,{expectedCount:a});else{const p=this._t(r);if(p!==a){const b=this.ut(e),E=b?this.ct(b,e,p):1;if(E!==0){this.it(r);const w=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,w)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=bo(a).toUint8Array()}catch(E){if(E instanceof aE)return Hl("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{b=new Op(p,l,c)}catch(E){return Hl(E instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return b.ge===0?null:b}ct(e,r,a){return r.Ce.count===a-this.Pt(e,r.targetId)?0:2}Pt(e,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(e){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&Jm(b.target)){const E=new gt(b.target.path);this.It(E).has(p)||this.Et(p,E)||this.et(p,E,wi.newNoDocument(E,e))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let a=rn();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((E=>{const w=this.ot(E);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(a=a.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new _h(e,r,this.Ye,this.je,a);return this.je=Ms(),this.Je=Sf(),this.He=Sf(),this.Ye=new er(nn),l}Xe(e,r){if(!this.rt(e))return;const a=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),a&&(this.je=this.je.insert(r,a))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new T_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new xr(nn),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new xr(nn),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||it("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Sf(){return new er(gt.comparator)}function A_(){return new er(gt.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},qR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class YR{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ep(i,e){return i.useProto3Json||dh(e)?e:{value:e}}function nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function XR(i,e){return nh(i,e.toTimestamp())}function Xa(i){return Rn(!!i,49232),Rt.fromTimestamp((function(r){const a=_o(r);return new Xn(a.seconds,a.nanos)})(i))}function kp(i,e){return tp(i,e).canonicalString()}function tp(i,e){const r=(function(l){return new Fn(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function UE(i){const e=Fn.fromString(i);return Rn(HE(e),10190,{key:e.toString()}),e}function np(i,e){return kp(i.databaseId,e.path)}function xm(i,e){const r=UE(e);if(r.get(1)!==i.databaseId.projectId)throw new Ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ze(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new gt(BE(r))}function zE(i,e){return kp(i.databaseId,e)}function WR(i){const e=UE(i);return e.length===4?Fn.emptyPath():BE(e)}function rp(i){return new Fn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function BE(i){return Rn(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function S_(i,e,r){return{name:np(i,e),fields:r.value.mapValue.fields}}function QR(i,e){let r;if("targetChange"in e){e.targetChange;const a=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:wt(39313,{state:w})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(w,x){return w.useProto3Json?(Rn(x===void 0||typeof x=="string",58123),Jr.fromBase64String(x||"")):(Rn(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Jr.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(w){const x=w.code===void 0?Ie.UNKNOWN:kE(w.code);return new Ze(x,w.message||"")})(p);r=new PE(a,l,c,b||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=xm(i,a.document.name),c=Xa(a.document.updateTime),p=a.document.createTime?Xa(a.document.createTime):Rt.min(),b=new _a({mapValue:{fields:a.document.fields}}),E=wi.newFoundDocument(l,c,p,b),w=a.targetIds||[],x=a.removedTargetIds||[];r=new Uf(w,x,E.key,E)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=xm(i,a.document),c=a.readTime?Xa(a.readTime):Rt.min(),p=wi.newNoDocument(l,c),b=a.removedTargetIds||[];r=new Uf([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=xm(i,a.document),c=a.removedTargetIds||[];r=new Uf([],c,l,null)}else{if(!("filter"in e))return wt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,p=new UR(l,c),b=a.targetId;r=new VE(b,p)}}return r}function KR(i,e){let r;if(e instanceof pc)r={update:S_(i,e.key,e.value)};else if(e instanceof OE)r={delete:np(i,e.key)};else if(e instanceof Qo)r={update:S_(i,e.key,e.data),updateMask:aI(e.fieldMask)};else{if(!(e instanceof VR))return wt(16599,{Vt:e.type});r={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((a=>(function(c,p){const b=p.transform;if(b instanceof eh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof rc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ic)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof th)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw wt(20930,{transform:p.transform})})(0,a)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:XR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:wt(27497)})(i,e.precondition)),r}function $R(i,e){return i&&i.length>0?(Rn(e!==void 0,14353),i.map((r=>(function(l,c){let p=l.updateTime?Xa(l.updateTime):Xa(c);return p.isEqual(Rt.min())&&(p=Xa(c)),new DR(p,l.transformResults||[])})(r,e)))):[]}function JR(i,e){return{documents:[zE(i,e.path)]}}function ZR(i,e){const r={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=zE(i,l);const c=(function(w){if(w.length!==0)return FE(Da.create(w,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const p=(function(w){if(w.length!==0)return w.map((x=>(function(G){return{field:xl(G.field),direction:nI(G.dir)}})(x)))})(e.orderBy);p&&(r.structuredQuery.orderBy=p);const b=ep(i,e.limit);return b!==null&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(e.endAt)),{ft:r,parent:l}}function eI(i){let e=WR(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Rn(a===1,65062);const x=r.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];r.where&&(c=(function(O){const G=jE(O);return G instanceof Da&&pE(G)?G.getFilters():[G]})(r.where));let p=[];r.orderBy&&(p=(function(O){return O.map((G=>(function(z){return new nc(Ml(z.field),(function(be){switch(be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(G)))})(r.orderBy));let b=null;r.limit&&(b=(function(O){let G;return G=typeof O=="object"?O.value:O,dh(G)?null:G})(r.limit));let E=null;r.startAt&&(E=(function(O){const G=!!O.before,te=O.values||[];return new Jf(te,G)})(r.startAt));let w=null;return r.endAt&&(w=(function(O){const G=!O.before,te=O.values||[];return new Jf(te,G)})(r.endAt)),_R(e,l,p,c,b,"F",E,w)}function tI(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:l})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function jE(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ml(r.unaryFilter.field);return wr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(r.unaryFilter.field);return wr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(r.unaryFilter.field);return wr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(r.unaryFilter.field);return wr.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return wr.create(Ml(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Da.create(r.compositeFilter.filters.map((a=>jE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(r.compositeFilter.op))})(i):wt(30097,{filter:i})}function nI(i){return HR[i]}function rI(i){return qR[i]}function iI(i){return GR[i]}function xl(i){return{fieldPath:i.canonicalString()}}function Ml(i){return $r.fromServerFormat(i.fieldPath)}function FE(i){return i instanceof wr?(function(r){if(r.op==="=="){if(h_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NAN"}};if(f_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(h_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NOT_NAN"}};if(f_(r.value))return{unaryFilter:{field:xl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(r.field),op:rI(r.op),value:r.value}}})(i):i instanceof Da?(function(r){const a=r.getFilters().map((l=>FE(l)));return a.length===1?a[0]:{compositeFilter:{op:iI(r.op),filters:a}}})(i):wt(54877,{filter:i})}function aI(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function HE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class co{constructor(e,r,a,l,c=Rt.min(),p=Rt.min(),b=Jr.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=E}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sI{constructor(e){this.yt=e}}function oI(i){const e=eI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zf(e,e.limit,"L"):e}class lI{constructor(){this.Cn=new uI}addToCollectionParentIndex(e,r){return this.Cn.add(r),Me.resolve()}getCollectionParents(e,r){return Me.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Me.resolve()}deleteFieldIndex(e,r){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,r){return Me.resolve()}getDocumentsMatchingTarget(e,r){return Me.resolve(null)}getIndexType(e,r){return Me.resolve(0)}getFieldIndexes(e,r){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,r){return Me.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,r){return Me.resolve(vo.min())}updateCollectionGroup(e,r,a){return Me.resolve()}updateIndexEntries(e,r){return Me.resolve()}}class uI{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new xr(Fn.comparator),c=!l.has(a);return this.index[r]=l.add(a),c}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new xr(Fn.comparator)).toArray()}}const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class qi{static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(qE,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class Xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xl(0)}static cr(){return new Xl(-1)}}const R_="LruGarbageCollector",cI=1048576;function I_([i,e],[r,a]){const l=nn(i,r);return l===0?nn(e,a):l}class fI{constructor(e){this.Ir=e,this.buffer=new xr(I_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();I_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){eu(r)?it(R_,"Ignoring IndexedDB error during garbage collection: ",r):await Zl(r)}await this.Vr(3e5)}))}}class dI{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(e,r){if(r===0)return Me.resolve(hh.ce);const a=new fI(r);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,r,a){return this.mr.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(C_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let a,l,c,p,b,E,w;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l)))).next((O=>(a=O,b=Date.now(),this.removeTargets(e,a,r)))).next((O=>(c=O,E=Date.now(),this.removeOrphanedDocuments(e,a)))).next((O=>(w=Date.now(),Rl()<=tn.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(E-b)+`ms
	Removed ${O} documents in `+(w-E)+`ms
Total Duration: ${w-x}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O}))))}}function mI(i,e){return new dI(i,e)}class pI{constructor(){this.changes=new Wo((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Me.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gI{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class yI{constructor(e,r,a,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(a!==null&&Wu(a.mutation,l,Na.empty(),Xn.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.getLocalViewOfDocuments(e,a,rn()).next((()=>a))))}getLocalViewOfDocuments(e,r,a=rn()){const l=jo();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,a).next((c=>{let p=ju();return c.forEach(((b,E)=>{p=p.insert(b,E.overlayedDocument)})),p}))))}getOverlayedDocuments(e,r){const a=jo();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,rn())))}populateOverlays(e,r,a){const l=[];return a.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(e,r,a,l){let c=Ms();const p=Xu(),b=(function(){return Xu()})();return r.forEach(((E,w)=>{const x=a.get(w.key);l.has(w.key)&&(x===void 0||x.mutation instanceof Qo)?c=c.insert(w.key,w):x!==void 0?(p.set(w.key,x.mutation.getFieldMask()),Wu(x.mutation,w,x.mutation.getFieldMask(),Xn.now())):p.set(w.key,Na.empty())})),this.recalculateAndSaveOverlays(e,c).next((E=>(E.forEach(((w,x)=>p.set(w,x))),r.forEach(((w,x)=>b.set(w,new gI(x,p.get(w)??null)))),b)))}recalculateAndSaveOverlays(e,r){const a=Xu();let l=new er(((p,b)=>p-b)),c=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((p=>{for(const b of p)b.keys().forEach((E=>{const w=r.get(E);if(w===null)return;let x=a.get(E)||Na.empty();x=b.applyToLocalView(w,x),a.set(E,x);const O=(l.get(b.batchId)||rn()).add(E);l=l.insert(b.batchId,O)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const E=b.getNext(),w=E.key,x=E.value,O=SE();x.forEach((G=>{if(!c.has(G)){const te=NE(r.get(G),a.get(G));te!==null&&O.set(G,te),c=c.add(G)}})),p.push(this.documentOverlayCache.saveOverlays(e,w,O))}return Me.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,r,a,l){return(function(p){return gt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):bE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a,l):this.getDocumentsMatchingCollectionQuery(e,r,a,l)}getNextDocuments(e,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,l-c.size):Me.resolve(jo());let b=Ju,E=c;return p.next((w=>Me.forEach(w,((x,O)=>(b<O.largestBatchId&&(b=O.largestBatchId),c.get(x)?Me.resolve():this.remoteDocumentCache.getEntry(e,x).next((G=>{E=E.insert(x,G)}))))).next((()=>this.populateOverlays(e,w,c))).next((()=>this.computeViews(e,E,w,rn()))).next((x=>({batchId:b,changes:AE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new gt(r)).next((a=>{let l=ju();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,a,l){const c=r.collectionGroup;let p=ju();return this.indexManager.getCollectionParents(e,c).next((b=>Me.forEach(b,(E=>{const w=(function(O,G){return new tu(G,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(r,E.child(c));return this.getDocumentsMatchingCollectionQuery(e,w,a,l).next((x=>{x.forEach(((O,G)=>{p=p.insert(O,G)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,r,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,a,c,l)))).next((p=>{c.forEach(((E,w)=>{const x=w.getKey();p.get(x)===null&&(p=p.insert(x,wi.newInvalidDocument(x)))}));let b=ju();return p.forEach(((E,w)=>{const x=c.get(E);x!==void 0&&Wu(x.mutation,w,Na.empty(),Xn.now()),gh(r,w)&&(b=b.insert(E,w))})),b}))}}class vI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Me.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:Xa(l.createTime)}})(r)),Me.resolve()}getNamedQuery(e,r){return Me.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:oI(l.bundledQuery),readTime:Xa(l.readTime)}})(r)),Me.resolve()}}class _I{constructor(){this.overlays=new er(gt.comparator),this.qr=new Map}getOverlay(e,r){return Me.resolve(this.overlays.get(r))}getOverlays(e,r){const a=jo();return Me.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,r,a){return a.forEach(((l,c)=>{this.St(e,r,c)})),Me.resolve()}removeOverlaysForBatchId(e,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Me.resolve()}getOverlaysForCollection(e,r,a){const l=jo(),c=r.length+1,p=new gt(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const E=b.getNext().value,w=E.getKey();if(!r.isPrefixOf(w.path))break;w.path.length===c&&E.largestBatchId>a&&l.set(E.getKey(),E)}return Me.resolve(l)}getOverlaysForCollectionGroup(e,r,a,l){let c=new er(((w,x)=>w-x));const p=this.overlays.getIterator();for(;p.hasNext();){const w=p.getNext().value;if(w.getKey().getCollectionGroup()===r&&w.largestBatchId>a){let x=c.get(w.largestBatchId);x===null&&(x=jo(),c=c.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const b=jo(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((w,x)=>b.set(w,x))),!(b.size()>=l)););return Me.resolve(b)}St(e,r,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new LR(r,a));let c=this.qr.get(r);c===void 0&&(c=rn(),this.qr.set(r,c)),this.qr.set(r,c.add(a.key))}}class bI{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Me.resolve()}}class Vp{constructor(){this.Qr=new xr(Vr.$r),this.Ur=new xr(Vr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const a=new Vr(e,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,r){e.forEach((a=>this.addReference(a,r)))}removeReference(e,r){this.Gr(new Vr(e,r))}zr(e,r){e.forEach((a=>this.removeReference(a,r)))}jr(e){const r=new gt(new Fn([])),a=new Vr(r,e),l=new Vr(r,e+1),c=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new gt(new Fn([])),a=new Vr(r,e),l=new Vr(r,e+1);let c=rn();return this.Ur.forEachInRange([a,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const r=new Vr(e,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&e.isEqual(a.key)}}class Vr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return gt.comparator(e.key,r.key)||nn(e.Yr,r.Yr)}static Kr(e,r){return nn(e.Yr,r.Yr)||gt.comparator(e.key,r.key)}}class EI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new xr(Vr.$r)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new PR(c,r,a,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new Vr(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Me.resolve(p)}lookupMutationBatch(e,r){return Me.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=this.ei(a),c=l<0?0:l;return Me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Vr(r,0),l=new Vr(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new xr(nn);return r.forEach((l=>{const c=new Vr(l,0),p=new Vr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{a=a.add(b.Yr)}))})),Me.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const p=new Vr(new gt(c),0);let b=new xr(nn);return this.Zr.forEachWhile((E=>{const w=E.key.path;return!!a.isPrefixOf(w)&&(w.length===l&&(b=b.add(E.Yr)),!0)}),p),Me.resolve(this.ti(b))}ti(e){const r=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){Rn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Me.forEach(r.mutations,(l=>{const c=new Vr(l.key,r.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,r){const a=new Vr(r,0),l=this.Zr.firstAfterOrEqual(a);return Me.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class wI{constructor(e){this.ri=e,this.docs=(function(){return new er(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,l=this.docs.get(a),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Me.resolve(a?a.document.mutableCopy():wi.newInvalidDocument(r))}getEntries(e,r){let a=Ms();return r.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():wi.newInvalidDocument(l))})),Me.resolve(a)}getDocumentsMatchingQuery(e,r,a,l){let c=Ms();const p=r.path,b=new gt(p.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:w,value:{document:x}}=E.getNext();if(!p.isPrefixOf(w.path))break;w.path.length>p.length+1||$C(KC(x),a)<=0||(l.has(x.key)||gh(r,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Me.resolve(c)}getAllFromCollectionGroup(e,r,a,l){wt(9500)}ii(e,r){return Me.forEach(this.docs,(a=>r(a)))}newChangeBuffer(e){return new TI(this)}getSize(e){return Me.resolve(this.size)}}class TI extends pI{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Me.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class AI{constructor(e){this.persistence=e,this.si=new Wo((r=>xp(r)),Mp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vp,this.targetCount=0,this.ai=Xl.ur()}forEachTarget(e,r){return this.si.forEach(((a,l)=>r(l))),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),Me.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Xl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Me.resolve()}updateTargetData(e,r){return this.Pr(r),Me.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,r,a){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&a.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Me.waitFor(c).next((()=>l))}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,r){const a=this.si.get(r)||null;return Me.resolve(a)}addMatchingKeys(e,r,a){return this._i.Wr(r,a),Me.resolve()}removeMatchingKeys(e,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Me.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Me.resolve()}getMatchingKeysForTargetId(e,r){const a=this._i.Hr(r);return Me.resolve(a)}containsKey(e,r){return Me.resolve(this._i.containsKey(r))}}class GE{constructor(e,r){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new bI,this.referenceDelegate=e(this),this.Pi=new AI(this),this.indexManager=new lI,this.remoteDocumentCache=(function(l){return new wI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new sI(r),this.Ii=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _I,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.ui[e.toKey()];return a||(a=new EI(r,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,a){it("MemoryPersistence","Starting transaction:",e);const l=new SI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,r){return Me.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,r))))}}class SI extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new Vp,this.Vi=null}static mi(e){return new Pp(e)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(e,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),Me.resolve()}removeReference(e,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),Me.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Me.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.fi,(a=>{const l=gt.fromPath(a);return this.gi(e,l).next((c=>{c||r.removeEntry(l,Rt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Me.or([()=>Me.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class rh{constructor(e,r){this.persistence=e,this.pi=new Wo((a=>nR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=mI(this,r)}static mi(e,r){return new rh(e,r)}Ei(){}di(e){return Me.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>r.next((l=>a+l))))}wr(e){let r=0;return this.pr(e,(a=>{r++})).next((()=>r))}pr(e,r){return Me.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Me.resolve():r(l)))))}removeTargets(e,r,a){return this.persistence.getTargetCache().removeTargets(e,r,a)}removeOrphanedDocuments(e,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,r).next((b=>{b||(a++,c.removeEntry(p,Rt.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}removeReference(e,r,a){return this.pi.set(a,e.currentSequenceNumber),Me.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Me.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Vf(e.data.value)),r}br(e,r,a){return Me.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.pi.get(r);return Me.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lp{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Es=a,this.ds=l}static As(e,r){let a=rn(),l=rn();for(const c of r.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lp(e,r.fromCache,a,l)}}class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pA()?8:eR(Ti())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,a,l){const c={result:null};return this.ys(e,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,r,l,a).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new CI;return this.Ss(e,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,r,p,b.size)}))})).next((()=>c.result))}bs(e,r,a,l){return a.documentReadCount<this.fs?(Rl()<=tn.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Il(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Me.resolve()):(Rl()<=tn.DEBUG&&it("QueryEngine","Query:",Il(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Rl()<=tn.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Il(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ya(r))):Me.resolve())}ys(e,r){if(g_(r))return Me.resolve(null);let a=Ya(r);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=Zf(r,null,"F"),a=Ya(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const p=rn(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,a).next((E=>{const w=this.Ds(r,b);return this.Cs(r,w,p,E.readTime)?this.ys(e,Zf(r,null,"F")):this.vs(e,w,r,E)}))))})))))}ws(e,r,a,l){return g_(r)||l.isEqual(Rt.min())?Me.resolve(null):this.ps.getDocuments(e,a).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,a,l)?Me.resolve(null):(Rl()<=tn.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Il(r)),this.vs(e,p,r,QC(l,Ju)).next((b=>b)))}))}Ds(e,r){let a=new xr(wE(e));return r.forEach(((l,c)=>{gh(e,c)&&(a=a.add(c))})),a}Cs(e,r,a,l){if(e.limit===null)return!1;if(a.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,r,a){return Rl()<=tn.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Il(r)),this.ps.getDocumentsMatchingQuery(e,r,vo.min(),a)}vs(e,r,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Up="LocalStore",II=3e8;class xI{constructor(e,r,a,l){this.persistence=e,this.Fs=r,this.serializer=l,this.Ms=new er(nn),this.xs=new Wo((c=>xp(c)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function MI(i,e,r,a){return new xI(i,e,r,a)}async function YE(i,e){const r=Mt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,r.Bs(e),r.mutationQueue.getAllMutationBatches(a)))).next((c=>{const p=[],b=[];let E=rn();for(const w of l){p.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}for(const w of c){b.push(w.batchId);for(const x of w.mutations)E=E.add(x.key)}return r.localDocuments.getDocuments(a,E).next((w=>({Ls:w,removedBatchIds:p,addedBatchIds:b})))}))}))}function NI(i,e){const r=Mt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,E,w,x){const O=w.batch,G=O.keys();let te=Me.resolve();return G.forEach((z=>{te=te.next((()=>x.getEntry(E,z))).next((De=>{const be=w.docVersions.get(z);Rn(be!==null,48541),De.version.compareTo(be)<0&&(O.applyToRemoteDocument(De,w),De.isValidDocument()&&(De.setReadTime(w.commitVersion),x.addEntry(De)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(E,O)))})(r,a,e,c).next((()=>c.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(b){let E=rn();for(let w=0;w<b.mutationResults.length;++w)b.mutationResults[w].transformResults.length>0&&(E=E.add(b.batch.mutations[w].key));return E})(e)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function XE(i){const e=Mt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function DI(i,e){const r=Mt(i),a=e.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];e.targetChanges.forEach(((x,O)=>{const G=l.get(O);if(!G)return;b.push(r.Pi.removeMatchingKeys(c,x.removedDocuments,O).next((()=>r.Pi.addMatchingKeys(c,x.addedDocuments,O))));let te=G.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?te=te.withResumeToken(Jr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):x.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(x.resumeToken,a)),l=l.insert(O,te),(function(De,be,Le){return De.resumeToken.approximateByteSize()===0||be.snapshotVersion.toMicroseconds()-De.snapshotVersion.toMicroseconds()>=II?!0:Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0})(G,te,x)&&b.push(r.Pi.updateTargetData(c,te))}));let E=Ms(),w=rn();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,x))})),b.push(OI(c,p,e.documentUpdates).next((x=>{E=x.ks,w=x.qs}))),!a.isEqual(Rt.min())){const x=r.Pi.getLastRemoteSnapshotVersion(c).next((O=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));b.push(x)}return Me.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,E,w))).next((()=>E))})).then((c=>(r.Ms=l,c)))}function OI(i,e,r){let a=rn(),l=rn();return r.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let p=Ms();return r.forEach(((b,E)=>{const w=c.get(b);E.isFoundDocument()!==w.isFoundDocument()&&(l=l.add(b)),E.isNoDocument()&&E.version.isEqual(Rt.min())?(e.removeEntry(b,E.readTime),p=p.insert(b,E)):!w.isValidDocument()||E.version.compareTo(w.version)>0||E.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(E),p=p.insert(b,E)):it(Up,"Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",E.version)})),{ks:p,qs:l}}))}function kI(i,e){const r=Mt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Cp),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function VI(i,e){const r=Mt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,e).next((c=>c?(l=c,Me.resolve(l)):r.Pi.allocateTargetId(a).next((p=>(l=new co(e,p,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(e,a.targetId)),a}))}async function ip(i,e,r){const a=Mt(i),l=a.Ms.get(e),c=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",c,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!eu(p))throw p;it(Up,`Failed to update sequence numbers for target ${e}: ${p}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function x_(i,e,r){const a=Mt(i);let l=Rt.min(),c=rn();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(E,w,x){const O=Mt(E),G=O.xs.get(x);return G!==void 0?Me.resolve(O.Ms.get(G)):O.Pi.getTargetData(w,x)})(a,p,Ya(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,b.targetId).next((E=>{c=E}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,e,r?l:Rt.min(),r?c:rn()))).next((b=>(PI(a,ER(e),b),{documents:b,Qs:c})))))}function PI(i,e,r){let a=i.Os.get(e)||Rt.min();r.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class M_{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this.Mo=new M_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,a){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M_,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UI{Oo(e){}shutdown(){}}const N_="ConnectivityMonitor";class D_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(N_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cf=null;function ap(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}const Mm="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,r,a,l,c){const p=ap(),b=this.zo(e,r.toUriEncodedString());it(Mm,`Sending RPC '${e}' ${p}:`,b,a);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,l,c);const{host:w}=new URL(b),x=Ql(w);return this.Jo(e,b,E,a,x).then((O=>(it(Mm,`Received RPC '${e}' ${p}: `,O),O)),(O=>{throw Hl(Mm,`RPC '${e}' ${p} failed with error: `,O,"url: ",b,"request:",a),O}))}Ho(e,r,a,l,c,p){return this.Go(e,r,a,l,c)}jo(e,r,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,r){const a=zI[e];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}class jI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const bi="WebChannelConnection";class FI extends BI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,a,l,c){const p=ap();return new Promise(((b,E)=>{const w=new Wb;w.setWithCredentials(!0),w.listenOnce(Qb.COMPLETE,(()=>{try{switch(w.getLastErrorCode()){case kf.NO_ERROR:const O=w.getResponseJson();it(bi,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(O)),b(O);break;case kf.TIMEOUT:it(bi,`RPC '${e}' ${p} timed out`),E(new Ze(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case kf.HTTP_ERROR:const G=w.getStatus();if(it(bi,`RPC '${e}' ${p} failed with status:`,G,"response text:",w.getResponseText()),G>0){let te=w.getResponseJson();Array.isArray(te)&&(te=te[0]);const z=te?.error;if(z&&z.status&&z.message){const De=(function(Le){const j=Le.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(j)>=0?j:Ie.UNKNOWN})(z.status);E(new Ze(De,z.message))}else E(new Ze(Ie.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new Ze(Ie.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:e,streamId:p,h_:w.getLastErrorCode(),P_:w.getLastError()})}}finally{it(bi,`RPC '${e}' ${p} completed.`)}}));const x=JSON.stringify(l);it(bi,`RPC '${e}' ${p} sending request:`,l),w.send(r,"POST",x,a,15)}))}T_(e,r,a){const l=ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Jb(),b=$b(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(E.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,r,a),E.encodeInitMessageHeaders=!0;const x=c.join("");it(bi,`Creating RPC '${e}' stream ${l}: ${x}`,E);const O=p.createWebChannel(x,E);this.I_(O);let G=!1,te=!1;const z=new jI({Yo:be=>{te?it(bi,`Not sending because RPC '${e}' stream ${l} is closed:`,be):(G||(it(bi,`Opening RPC '${e}' stream ${l} transport.`),O.open(),G=!0),it(bi,`RPC '${e}' stream ${l} sending:`,be),O.send(be))},Zo:()=>O.close()}),De=(be,Le,j)=>{be.listen(Le,(Ue=>{try{j(Ue)}catch(et){setTimeout((()=>{throw et}),0)}}))};return De(O,Bu.EventType.OPEN,(()=>{te||(it(bi,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),De(O,Bu.EventType.CLOSE,(()=>{te||(te=!0,it(bi,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(O))})),De(O,Bu.EventType.ERROR,(be=>{te||(te=!0,Hl(bi,`RPC '${e}' stream ${l} transport errored. Name:`,be.name,"Message:",be.message),z.a_(new Ze(Ie.UNAVAILABLE,"The operation could not be completed")))})),De(O,Bu.EventType.MESSAGE,(be=>{if(!te){const Le=be.data[0];Rn(!!Le,16349);const j=Le,Ue=j?.error||j[0]?.error;if(Ue){it(bi,`RPC '${e}' stream ${l} received error:`,Ue);const et=Ue.status;let ut=(function(H){const L=Er[H];if(L!==void 0)return kE(L)})(et),at=Ue.message;ut===void 0&&(ut=Ie.INTERNAL,at="Unknown error status: "+et+" with message "+Ue.message),te=!0,z.a_(new Ze(ut,at)),O.close()}else it(bi,`RPC '${e}' stream ${l} received:`,Le),z.u_(Le)}})),De(b,Kb.STAT_EVENT,(be=>{be.stat===Xm.PROXY?it(bi,`RPC '${e}' stream ${l} detected buffering proxy`):be.stat===Xm.NOPROXY&&it(bi,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Nm(){return typeof document<"u"?document:null}function bh(i){return new YR(i,!0)}class WE{constructor(e,r,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=r,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const O_="PersistentStream";class QE{constructor(e,r,a,l,c,p,b,E){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WE(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ie.RESOURCE_EXHAUSTED?(xs(r.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{e((()=>{const l=new Ze(Ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,r){const a=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(it(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HI extends QE{constructor(e,r,a,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=QR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Rt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rt.min():p.readTime?Xa(p.readTime):Rt.min()})(e);return this.listener.H_(r,a)}Y_(e){const r={};r.database=rp(this.serializer),r.addTarget=(function(c,p){let b;const E=p.target;if(b=Jm(E)?{documents:JR(c,E)}:{query:ZR(c,E).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=LE(c,p.resumeToken);const w=ep(c,p.expectedCount);w!==null&&(b.expectedCount=w)}else if(p.snapshotVersion.compareTo(Rt.min())>0){b.readTime=nh(c,p.snapshotVersion.toTimestamp());const w=ep(c,p.expectedCount);w!==null&&(b.expectedCount=w)}return b})(this.serializer,e);const a=tI(this.serializer,e);a&&(r.labels=a),this.q_(r)}Z_(e){const r={};r.database=rp(this.serializer),r.removeTarget=e,this.q_(r)}}class qI extends QE{constructor(e,r,a,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=$R(e.writeResults,e.commitTime),a=Xa(e.commitTime);return this.listener.na(a,r)}ra(){const e={};e.database=rp(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((a=>KR(this.serializer,a)))};this.q_(r)}}class GI{}class YI extends GI{constructor(e,r,a,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,tp(r,a),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Ie.UNKNOWN,c.toString())}))}Ho(e,r,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,tp(r,a),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ze(Ie.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XI{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(r),this.aa=!1):it("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class WI{constructor(e,r,a,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{Ko(this)&&(it(Yo,"Restarting streams for network reachability change."),await(async function(E){const w=Mt(E);w.Ea.add(4),await yc(w),w.Ra.set("Unknown"),w.Ea.delete(4),await Eh(w)})(this))}))})),this.Ra=new XI(a,l)}}async function Eh(i){if(Ko(i))for(const e of i.da)await e(!0)}async function yc(i){for(const e of i.da)await e(!1)}function KE(i,e){const r=Mt(i);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Fp(r)?jp(r):nu(r).O_()&&Bp(r,e))}function zp(i,e){const r=Mt(i),a=nu(r);r.Ia.delete(e),a.O_()&&$E(r,e),r.Ia.size===0&&(a.O_()?a.L_():Ko(r)&&r.Ra.set("Unknown"))}function Bp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}nu(i).Y_(e)}function $E(i,e){i.Va.Ue(e),nu(i).Z_(e)}function jp(i){i.Va=new FR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),nu(i).start(),i.Ra.ua()}function Fp(i){return Ko(i)&&!nu(i).x_()&&i.Ia.size>0}function Ko(i){return Mt(i).Ea.size===0}function JE(i){i.Va=void 0}async function QI(i){i.Ra.set("Online")}async function KI(i){i.Ia.forEach(((e,r)=>{Bp(i,e)}))}async function $I(i,e){JE(i),Fp(i)?(i.Ra.ha(e),jp(i)):i.Ra.set("Unknown")}async function JI(i,e,r){if(i.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(i,e)}catch(a){it(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ih(i,a)}else if(e instanceof Uf?i.Va.Ze(e):e instanceof VE?i.Va.st(e):i.Va.tt(e),!r.isEqual(Rt.min()))try{const a=await XE(i.localStore);r.compareTo(a)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((E,w)=>{if(E.resumeToken.approximateByteSize()>0){const x=c.Ia.get(w);x&&c.Ia.set(w,x.withResumeToken(E.resumeToken,p))}})),b.targetMismatches.forEach(((E,w)=>{const x=c.Ia.get(E);if(!x)return;c.Ia.set(E,x.withResumeToken(Jr.EMPTY_BYTE_STRING,x.snapshotVersion)),$E(c,E);const O=new co(x.target,E,w,x.sequenceNumber);Bp(c,O)})),c.remoteSyncer.applyRemoteEvent(b)})(i,r)}catch(a){it(Yo,"Failed to raise snapshot:",a),await ih(i,a)}}async function ih(i,e,r){if(!eu(e))throw e;i.Ea.add(1),await yc(i),i.Ra.set("Offline"),r||(r=()=>XE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{it(Yo,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await Eh(i)}))}function ZE(i,e){return e().catch((r=>ih(i,r,e)))}async function wh(i){const e=Mt(i),r=wo(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;ZI(e);)try{const l=await kI(e.localStore,a);if(l===null){e.Ta.length===0&&r.L_();break}a=l.batchId,ex(e,l)}catch(l){await ih(e,l)}e1(e)&&t1(e)}function ZI(i){return Ko(i)&&i.Ta.length<10}function ex(i,e){i.Ta.push(e);const r=wo(i);r.O_()&&r.X_&&r.ea(e.mutations)}function e1(i){return Ko(i)&&!wo(i).x_()&&i.Ta.length>0}function t1(i){wo(i).start()}async function tx(i){wo(i).ra()}async function nx(i){const e=wo(i);for(const r of i.Ta)e.ea(r.mutations)}async function rx(i,e,r){const a=i.Ta.shift(),l=Dp.from(a,e,r);await ZE(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await wh(i)}async function ix(i,e){e&&wo(i).X_&&await(async function(a,l){if((function(p){return zR(p)&&p!==Ie.ABORTED})(l.code)){const c=a.Ta.shift();wo(a).B_(),await ZE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(i,e),e1(i)&&t1(i)}async function k_(i,e){const r=Mt(i);r.asyncQueue.verifyOperationInProgress(),it(Yo,"RemoteStore received new credentials");const a=Ko(r);r.Ea.add(3),await yc(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Eh(r)}async function ax(i,e){const r=Mt(i);e?(r.Ea.delete(2),await Eh(r)):e||(r.Ea.add(2),await yc(r),r.Ra.set("Unknown"))}function nu(i){return i.ma||(i.ma=(function(r,a,l){const c=Mt(r);return c.sa(),new HI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:QI.bind(null,i),t_:KI.bind(null,i),r_:$I.bind(null,i),H_:JI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Fp(i)?jp(i):i.Ra.set("Unknown")):(await i.ma.stop(),JE(i))}))),i.ma}function wo(i){return i.fa||(i.fa=(function(r,a,l){const c=Mt(r);return c.sa(),new qI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:tx.bind(null,i),r_:ix.bind(null,i),ta:nx.bind(null,i),na:rx.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await wh(i)):(await i.fa.stop(),i.Ta.length>0&&(it(Yo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Hp{constructor(e,r,a,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,a,l,c){const p=Date.now()+a,b=new Hp(e,r,p,l,c);return b.start(a),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(i,e){if(xs("AsyncQueue",`${e}: ${i}`),eu(i))return new Ze(Ie.UNAVAILABLE,`${e}: ${i}`);throw i}class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(r,a)=>e(r,a)||gt.comparator(r.key,a.key):(r,a)=>gt.comparator(r.key,a.key),this.keyedMap=ju(),this.sortedSet=new er(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,a)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class V_{constructor(){this.ga=new er(gt.comparator)}track(e){const r=e.doc.key,a=this.ga.get(r);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(r,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(r):e.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):wt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,a)=>{e.push(a)})),e}}class Wl{constructor(e,r,a,l,c,p,b,E,w){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=E,this.hasCachedResults=w}static fromInitialDocuments(e,r,a,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new Wl(e,r,zl.emptySet(r),p,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ox{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=Mt(r),c=l.queries;l.queries=P_(),c.forEach(((p,b)=>{for(const E of b.Sa)E.onError(a)}))})(this,new Ze(Ie.ABORTED,"Firestore shutting down"))}}function P_(){return new Wo((i=>EE(i)),ph)}async function lx(i,e){const r=Mt(i);let a=3;const l=e.query;let c=r.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new sx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=qp(p,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,c),c.Sa.push(e),e.va(r.onlineState),c.wa&&e.Fa(c.wa)&&Gp(r)}async function ux(i,e){const r=Mt(i),a=e.query;let l=3;const c=r.queries.get(a);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function cx(i,e){const r=Mt(i);let a=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(a=!0);p.wa=l}}a&&Gp(r)}function fx(i,e,r){const a=Mt(i),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(r);a.queries.delete(e)}function Gp(i){i.Ca.forEach((e=>{e.next()}))}var sp,L_;(L_=sp||(sp={})).Ma="default",L_.Cache="cache";class hx{constructor(e,r,a){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Wl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class n1{constructor(e){this.key=e}}class r1{constructor(e){this.key=e}}class dx{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rn(),this.mutatedKeys=rn(),this.eu=wE(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,r){const a=r?r.iu:new V_,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const E=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,w=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,O)=>{const G=l.get(x),te=gh(this.query,O)?O:null,z=!!G&&this.mutatedKeys.has(G.key),De=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let be=!1;G&&te?G.data.isEqual(te.data)?z!==De&&(a.track({type:3,doc:te}),be=!0):this.su(G,te)||(a.track({type:2,doc:te}),be=!0,(E&&this.eu(te,E)>0||w&&this.eu(te,w)<0)&&(b=!0)):!G&&te?(a.track({type:0,doc:te}),be=!0):G&&!te&&(a.track({type:1,doc:G}),be=!0,(E||w)&&(b=!0)),be&&(te?(p=p.add(te),c=De?c.add(x):c.delete(x)):(p=p.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:p,iu:a,Cs:b,mutatedKeys:c}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((x,O)=>(function(te,z){const De=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:be})}};return De(te)-De(z)})(x.type,O.type)||this.eu(x.doc,O.doc))),this.ou(a),l=l??!1;const b=r&&!l?this._u():[],E=this.Xa.size===0&&this.current&&!l?1:0,w=E!==this.Za;return this.Za=E,p.length!==0||w?{snapshot:new Wl(this.query,e.tu,c,p,e.mutatedKeys,E===0,w,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rn(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return e.forEach((a=>{this.Xa.has(a)||r.push(new r1(a))})),this.Xa.forEach((a=>{e.has(a)||r.push(new n1(a))})),r}cu(e){this.Ya=e.Qs,this.Xa=rn();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class mx{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class px{constructor(e){this.key=e,this.hu=!1}}class gx{constructor(e,r,a,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Wo((b=>EE(b)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new er(gt.comparator),this.Au=new Map,this.Ru=new Vp,this.Vu={},this.mu=new Map,this.fu=Xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yx(i,e,r=!0){const a=u1(i);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await i1(a,e,r,!0),l}async function vx(i,e){const r=u1(i);await i1(r,e,!0,!1)}async function i1(i,e,r,a){const l=await VI(i.localStore,Ya(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let b;return a&&(b=await _x(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&KE(i.remoteStore,l),b}async function _x(i,e,r,a,l){i.pu=(O,G,te)=>(async function(De,be,Le,j){let Ue=be.view.ru(Le);Ue.Cs&&(Ue=await x_(De.localStore,be.query,!1).then((({documents:Y})=>be.view.ru(Y,Ue))));const et=j&&j.targetChanges.get(be.targetId),ut=j&&j.targetMismatches.get(be.targetId)!=null,at=be.view.applyChanges(Ue,De.isPrimaryClient,et,ut);return z_(De,be.targetId,at.au),at.snapshot})(i,O,G,te);const c=await x_(i.localStore,e,!0),p=new dx(e,c.Qs),b=p.ru(c.documents),E=gc.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),w=p.applyChanges(b,i.isPrimaryClient,E);z_(i,r,w.au);const x=new mx(e,r,p);return i.Tu.set(e,x),i.Iu.has(r)?i.Iu.get(r).push(e):i.Iu.set(r,[e]),w.snapshot}async function bx(i,e,r){const a=Mt(i),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((p=>!ph(p,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ip(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&zp(a.remoteStore,l.targetId),op(a,l.targetId)})).catch(Zl)):(op(a,l.targetId),await ip(a.localStore,l.targetId,!0))}async function Ex(i,e){const r=Mt(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),zp(r.remoteStore,a.targetId))}async function wx(i,e,r){const a=xx(i);try{const l=await(function(p,b){const E=Mt(p),w=Xn.now(),x=b.reduce(((te,z)=>te.add(z.key)),rn());let O,G;return E.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let z=Ms(),De=rn();return E.Ns.getEntries(te,x).next((be=>{z=be,z.forEach(((Le,j)=>{j.isValidDocument()||(De=De.add(Le))}))})).next((()=>E.localDocuments.getOverlayedDocuments(te,z))).next((be=>{O=be;const Le=[];for(const j of b){const Ue=kR(j,O.get(j.key).overlayedDocument);Ue!=null&&Le.push(new Qo(j.key,Ue,hE(Ue.value.mapValue),As.exists(!0)))}return E.mutationQueue.addMutationBatch(te,w,Le,b)})).next((be=>{G=be;const Le=be.applyToLocalDocumentSet(O,De);return E.documentOverlayCache.saveOverlays(te,be.batchId,Le)}))})).then((()=>({batchId:G.batchId,changes:AE(O)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(p,b,E){let w=p.Vu[p.currentUser.toKey()];w||(w=new er(nn)),w=w.insert(b,E),p.Vu[p.currentUser.toKey()]=w})(a,l.batchId,r),await vc(a,l.changes),await wh(a.remoteStore)}catch(l){const c=qp(l,"Failed to persist write");r.reject(c)}}async function a1(i,e){const r=Mt(i);try{const a=await DI(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Rn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Rn(p.hu,14607):l.removedDocuments.size>0&&(Rn(p.hu,42227),p.hu=!1))})),await vc(r,a,e)}catch(a){await Zl(a)}}function U_(i,e,r){const a=Mt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const E=Mt(p);E.onlineState=b;let w=!1;E.queries.forEach(((x,O)=>{for(const G of O.Sa)G.va(b)&&(w=!0)})),w&&Gp(E)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Tx(i,e,r){const a=Mt(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Au.get(e),c=l&&l.key;if(c){let p=new er(gt.comparator);p=p.insert(c,wi.newNoDocument(c,Rt.min()));const b=rn().add(c),E=new _h(Rt.min(),new Map,new er(nn),p,b);await a1(a,E),a.du=a.du.remove(c),a.Au.delete(e),Xp(a)}else await ip(a.localStore,e,!1).then((()=>op(a,e,r))).catch(Zl)}async function Ax(i,e){const r=Mt(i),a=e.batch.batchId;try{const l=await NI(r.localStore,e);o1(r,a,null),s1(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await vc(r,l)}catch(l){await Zl(l)}}async function Sx(i,e,r){const a=Mt(i);try{const l=await(function(p,b){const E=Mt(p);return E.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let x;return E.mutationQueue.lookupMutationBatch(w,b).next((O=>(Rn(O!==null,37113),x=O.keys(),E.mutationQueue.removeMutationBatch(w,O)))).next((()=>E.mutationQueue.performConsistencyCheck(w))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(w,x,b))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,x))).next((()=>E.localDocuments.getDocuments(w,x)))}))})(a.localStore,e);o1(a,e,r),s1(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),await vc(a,l)}catch(l){await Zl(l)}}function s1(i,e){(i.mu.get(e)||[]).forEach((r=>{r.resolve()})),i.mu.delete(e)}function o1(i,e,r){const a=Mt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function op(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||l1(i,a)}))}function l1(i,e){i.Eu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(zp(i.remoteStore,r),i.du=i.du.remove(e),i.Au.delete(r),Xp(i))}function z_(i,e,r){for(const a of r)a instanceof n1?(i.Ru.addReference(a.key,e),Cx(i,a)):a instanceof r1?(it(Yp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||l1(i,a.key)):wt(19791,{wu:a})}function Cx(i,e){const r=e.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(it(Yp,"New document in limbo: "+r),i.Eu.add(a),Xp(i))}function Xp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const r=new gt(Fn.fromString(e)),a=i.fu.next();i.Au.set(a,new px(r)),i.du=i.du.insert(r,a),KE(i.remoteStore,new co(Ya(_E(r.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function vc(i,e,r){const a=Mt(i),l=[],c=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((b,E)=>{p.push(a.pu(E,e,r).then((w=>{if((w||r)&&a.isPrimaryClient){const x=w?!w.fromCache:r?.targetChanges.get(E.targetId)?.current;a.sharedClientState.updateQueryState(E.targetId,x?"current":"not-current")}if(w){l.push(w);const x=Lp.As(E.targetId,w);c.push(x)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(E,w){const x=Mt(E);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>Me.forEach(w,(G=>Me.forEach(G.Es,(te=>x.persistence.referenceDelegate.addReference(O,G.targetId,te))).next((()=>Me.forEach(G.ds,(te=>x.persistence.referenceDelegate.removeReference(O,G.targetId,te)))))))))}catch(O){if(!eu(O))throw O;it(Up,"Failed to update sequence numbers: "+O)}for(const O of w){const G=O.targetId;if(!O.fromCache){const te=x.Ms.get(G),z=te.snapshotVersion,De=te.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(G,De)}}})(a.localStore,c))}async function Rx(i,e){const r=Mt(i);if(!r.currentUser.isEqual(e)){it(Yp,"User change. New user:",e.toKey());const a=await YE(r.localStore,e);r.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((E=>{E.reject(new Ze(Ie.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await vc(r,a.Ls)}}function Ix(i,e){const r=Mt(i),a=r.Au.get(e);if(a&&a.hu)return rn().add(a.key);{let l=rn();const c=r.Iu.get(e);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function u1(i){const e=Mt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tx.bind(null,e),e.Pu.H_=cx.bind(null,e.eventManager),e.Pu.yu=fx.bind(null,e.eventManager),e}function xx(i){const e=Mt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return MI(this.persistence,new RI,e.initialUser,this.serializer)}Cu(e){return new GE(Pp.mi,this.serializer)}Du(e){return new LI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class Mx extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Rn(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new hI(a,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new GE((a=>rh.mi(a,r)),this.serializer)}}class lp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>U_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),await ax(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ox})()}createDatastore(e){const r=bh(e.databaseInfo.databaseId),a=(function(c){return new FI(c)})(e.databaseInfo);return(function(c,p,b,E){return new YI(c,p,b,E)})(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return(function(a,l,c,p,b){return new WI(a,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(r=>U_(this.syncEngine,r,0)),(function(){return D_.v()?new D_:new UI})())}createSyncEngine(e,r){return(function(l,c,p,b,E,w,x){const O=new gx(l,c,p,b,E,w);return x&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=Mt(r);it(Yo,"RemoteStore shutting down."),a.Ea.add(5),await yc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class Nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const To="FirestoreClient";class Dx{constructor(e,r,a,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=Ei.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async p=>{it(To,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(it(To,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const a=qp(r,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),it(To,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await YE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function B_(i,e){i.asyncQueue.verifyOperationInProgress();const r=await Ox(i);it(To,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((a=>k_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>k_(e.remoteStore,l))),i._onlineComponents=e}async function Ox(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){it(To,"Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ie.FAILED_PRECONDITION||l.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Hl("Error using user provided cache. Falling back to memory cache: "+r),await Dm(i,new ah)}}else it(To,"Using default OfflineComponentProvider"),await Dm(i,new Mx(void 0));return i._offlineComponents}async function c1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(it(To,"Using user provided OnlineComponentProvider"),await B_(i,i._uninitializedComponentsProvider._online)):(it(To,"Using default OnlineComponentProvider"),await B_(i,new lp))),i._onlineComponents}function kx(i){return c1(i).then((e=>e.syncEngine))}async function Vx(i){const e=await c1(i),r=e.eventManager;return r.onListen=yx.bind(null,e.syncEngine),r.onUnlisten=bx.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=vx.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Ex.bind(null,e.syncEngine),r}function Px(i,e,r={}){const a=new go;return i.asyncQueue.enqueueAndForget((async()=>(function(c,p,b,E,w){const x=new Nx({next:G=>{x.Nu(),p.enqueueAndForget((()=>ux(c,O))),G.fromCache&&E.source==="server"?w.reject(new Ze(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(G)},error:G=>w.reject(G)}),O=new hx(b,x,{includeMetadataChanges:!0,qa:!0});return lx(c,O)})(await Vx(i),i.asyncQueue,e,r,a))),a.promise}function f1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const j_=new Map;const h1="firestore.googleapis.com",F_=!0;class H_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=F_}else this.host=e.host,this.ssl=e.ssl??F_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cI)throw new Ze(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ze(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ze(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ze(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,r,a,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new LC;switch(a.type){case"firstParty":return new jC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ze(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=j_.get(r);a&&(it("ComponentProvider","Removing Datastore"),j_.delete(r),a.terminate())})(this),Promise.resolve()}}function Lx(i,e,r,a={}){i=Wf(i,Th);const l=Ql(e),c=i._getSettings(),p={...c,emulatorOptions:i._getEmulatorOptions()},b=`${e}:${r}`;l&&(lb(`https://${b}`),ub("Firestore",!0)),c.host!==h1&&c.host!==b&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...c,host:b,ssl:l,emulatorOptions:a};if(!Fo(E,p)&&(i._setSettings(E),a.mockUserToken)){let w,x;if(typeof a.mockUserToken=="string")w=a.mockUserToken,x=Ei.MOCK_USER;else{w=sA(a.mockUserToken,i._app?.options.projectId);const O=a.mockUserToken.sub||a.mockUserToken.user_id;if(!O)throw new Ze(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ei(O)}i._authCredentials=new UC(new eE(w,x))}}class Ao{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Lr{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lr(this.firestore,e,this._key)}toJSON(){return{type:Lr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,a){if(mc(r,Lr._jsonSchema))return new Lr(e,a||null,new gt(Fn.fromString(r.referencePath)))}}Lr._jsonSchemaVersion="firestore/documentReference/1.0",Lr._jsonSchema={type:Tr("string",Lr._jsonSchemaVersion),referencePath:Tr("string")};class yo extends Ao{constructor(e,r,a){super(e,r,_E(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lr(this.firestore,null,new gt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Nl(i,e,...r){if(i=aa(i),tE("collection","path",e),i instanceof Th){const a=Fn.fromString(e,...r);return n_(a),new yo(i,null,a)}{if(!(i instanceof Lr||i instanceof yo))throw new Ze(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Fn.fromString(e,...r));return n_(a),new yo(i.firestore,null,a)}}function Ux(i,e,...r){if(i=aa(i),arguments.length===1&&(e=Sp.newId()),tE("doc","path",e),i instanceof Th){const a=Fn.fromString(e,...r);return t_(a),new Lr(i,null,new gt(a))}{if(!(i instanceof Lr||i instanceof yo))throw new Ze(Ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Fn.fromString(e,...r));return t_(a),new Lr(i.firestore,i instanceof yo?i.converter:null,new gt(a))}}const q_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WE(this,"async_queue_retry"),this._c=()=>{const a=Nm();a&&it(q_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const r=Nm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Nm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eu(e))throw e;it(q_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",Y_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(e,r,a){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const l=Hp.createAndSchedule(this,e,r,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&wt(47125,{Pc:Y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function Y_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Wp extends Th{constructor(e,r,a,l){super(e,r,a,l),this.type="firestore",this._queue=new G_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function zx(i,e){const r=typeof i=="object"?i:db(),a=typeof i=="string"?i:Kf,l=pp(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=iA("firestore");c&&Lx(l,...c)}return l}function d1(i){if(i._terminated)throw new Ze(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Bx(i),i._firestoreClient}function Bx(i){const e=i._freezeSettings(),r=(function(l,c,p,b){return new aR(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,f1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Dx(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ba(Jr.fromBase64String(e))}catch(r){throw new Ze(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ba(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ba._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,ba._jsonSchema))return ba.fromBase64String(e.bytes)}}ba._jsonSchemaVersion="firestore/bytes/1.0",ba._jsonSchema={type:Tr("string",ba._jsonSchemaVersion),bytes:Tr("string")};class Qp{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class m1{constructor(e){this._methodName=e}}class Wa{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ze(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wa._jsonSchemaVersion}}static fromJSON(e){if(mc(e,Wa._jsonSchema))return new Wa(e.latitude,e.longitude)}}Wa._jsonSchemaVersion="firestore/geoPoint/1.0",Wa._jsonSchema={type:Tr("string",Wa._jsonSchemaVersion),latitude:Tr("number"),longitude:Tr("number")};class Qa{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,Qa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Qa(e.vectorValues);throw new Ze(Ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qa._jsonSchemaVersion="firestore/vectorValue/1.0",Qa._jsonSchema={type:Tr("string",Qa._jsonSchemaVersion),vectorValues:Tr("object")};const jx=/^__.*__$/;class Fx{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,r,this.fieldTransforms):new pc(e,this.data,r,this.fieldTransforms)}}function p1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:i})}}class Kp{constructor(e,r,a,l,c,p){this.settings=e,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.gc(e),a}yc(e){const r=this.path?.child(e),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&jx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Hx{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=a||bh(e)}Cc(e,r,a,l=!1){return new Kp({Ac:e,methodName:r,Dc:a,path:$r.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g1(i){const e=i._freezeSettings(),r=bh(i._databaseId);return new Hx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function qx(i,e,r,a,l,c={}){const p=i.Cc(c.merge||c.mergeFields?2:0,e,r,l);_1("Data must be an object, but it was:",p,a);const b=y1(a,p);let E,w;if(c.merge)E=new Na(p.fieldMask),w=p.fieldTransforms;else if(c.mergeFields){const x=[];for(const O of c.mergeFields){const G=Yx(e,O,r);if(!p.contains(G))throw new Ze(Ie.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);Wx(x,G)||x.push(G)}E=new Na(x),w=p.fieldTransforms.filter((O=>E.covers(O.field)))}else E=null,w=p.fieldTransforms;return new Fx(new _a(b),E,w)}function Gx(i,e,r,a=!1){return $p(r,i.Cc(a?4:3,e))}function $p(i,e){if(v1(i=aa(i)))return _1("Unsupported field value:",e,i),y1(i,e);if(i instanceof m1)return(function(a,l){if(!p1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let p=0;for(const b of a){let E=$p(b,l.wc(p));E==null&&(E={nullValue:"NULL_VALUE"}),c.push(E),p++}return{arrayValue:{values:c}}})(i,e)}return(function(a,l){if((a=aa(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return IR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Xn.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof Xn){const c=new Xn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Wa)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ba)return{bytesValue:LE(l.serializer,a._byteString)};if(a instanceof Lr){const c=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:kp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qa)return(function(p,b){return{mapValue:{fields:{[cE]:{stringValue:fE},[$f]:{arrayValue:{values:p.toArray().map((w=>{if(typeof w!="number")throw b.Sc("VectorValues must only contain numeric values.");return Np(b.serializer,w)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${fh(a)}`)})(i,e)}function y1(i,e){const r={};return iE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(i,((a,l)=>{const c=$p(l,e.mc(a));c!=null&&(r[a]=c)})),{mapValue:{fields:r}}}function v1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Xn||i instanceof Wa||i instanceof ba||i instanceof Lr||i instanceof m1||i instanceof Qa)}function _1(i,e,r){if(!v1(r)||!nE(r)){const a=fh(r);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function Yx(i,e,r){if((e=aa(e))instanceof Qp)return e._internalPath;if(typeof e=="string")return b1(i,e);throw sh("Field path arguments must be of type string or ",i,!1,void 0,r)}const Xx=new RegExp("[~\\*/\\[\\]]");function b1(i,e,r){if(e.search(Xx)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Qp(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function sh(i,e,r,a,l){const c=a&&!a.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let E="";return(c||p)&&(E+=" (found",c&&(E+=` in field ${a}`),p&&(E+=` in document ${l}`),E+=")"),new Ze(Ie.INVALID_ARGUMENT,b+i+E)}function Wx(i,e){return i.some((r=>r.isEqual(e)))}class E1{constructor(e,r,a,l,c){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Ah("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Qx extends E1{data(){return super.data()}}function Ah(i,e){return typeof e=="string"?b1(i,e):e instanceof Qp?e._internalPath:e._delegate._internalPath}function Kx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ze(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class Zp extends Jp{}function up(i,e,...r){let a=[];e instanceof Jp&&a.push(e),a=a.concat(r),(function(c){const p=c.filter((E=>E instanceof eg)).length,b=c.filter((E=>E instanceof Sh)).length;if(p>1||p>0&&b>0)throw new Ze(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)i=l._apply(i);return i}class Sh extends Zp{constructor(e,r,a){super(),this._field=e,this._op=r,this._value=a,this.type="where"}static _create(e,r,a){return new Sh(e,r,a)}_apply(e){const r=this._parse(e);return w1(e._query,r),new Ao(e.firestore,e.converter,Zm(e._query,r))}_parse(e){const r=g1(e.firestore);return(function(c,p,b,E,w,x,O){let G;if(w.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){W_(O,x);const z=[];for(const De of O)z.push(X_(E,c,De));G={arrayValue:{values:z}}}else G=X_(E,c,O)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||W_(O,x),G=Gx(b,p,O,x==="in"||x==="not-in");return wr.create(w,x,G)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vl(i,e,r){const a=e,l=Ah("where",i);return Sh._create(l,a,r)}class eg extends Jp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new eg(e,r)}_parse(e){const r=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return r.length===1?r[0]:Da.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const E of b)w1(p,E),p=Zm(p,E)})(e._query,r),new Ao(e.firestore,e.converter,Zm(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends Zp{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new tg(e,r)}_apply(e){const r=(function(l,c,p){if(l.startAt!==null)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(c,p)})(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,(function(l,c){const p=l.explicitOrderBy.concat([c]);return new tu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,r))}}function io(i,e="asc"){const r=e,a=Ah("orderBy",i);return tg._create(a,r)}class ng extends Zp{constructor(e,r,a){super(),this.type=e,this._limit=r,this._limitType=a}static _create(e,r,a){return new ng(e,r,a)}_apply(e){return new Ao(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function Qu(i){return WC("limit",i),ng._create("limit",i,"F")}function X_(i,e,r){if(typeof(r=aa(r))=="string"){if(r==="")throw new Ze(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&r.indexOf("/")!==-1)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(Fn.fromString(r));if(!gt.isDocumentKey(a))throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return c_(i,new gt(a))}if(r instanceof Lr)return c_(i,r._key);throw new Ze(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(r)}.`)}function W_(i,e){if(!Array.isArray(i)||i.length===0)throw new Ze(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w1(i,e){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ze(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class $x{convertValue(e,r="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const a={};return Xo(e,((l,c)=>{a[l]=this.convertValue(c,r)})),a}convertVectorValue(e){const r=e.fields?.[$f].arrayValue?.values?.map((a=>dr(a.doubleValue)));return new Qa(r)}convertGeoPoint(e){return new Wa(dr(e.latitude),dr(e.longitude))}convertArray(e,r){return(e.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const a=mh(e);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const r=_o(e);return new Xn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=Fn.fromString(e);Rn(HE(a),9688,{name:e});const l=new ec(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(r)||xs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function Jx(i,e,r){let a;return a=i?i.toFirestore(e):e,a}class Rf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bl extends E1{constructor(e,r,a,l,c,p){super(e,r,a,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Ah("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Bl._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bl._jsonSchema={type:Tr("string",Bl._jsonSchemaVersion),bundleSource:Tr("string","DocumentSnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class zf extends Bl{data(e={}){return super.data(e)}}class jl{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Rf(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((a=>{e.call(r,new zf(this._firestore,this._userDataWriter,a.key,a,new Rf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ze(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const E=new zf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Rf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:E,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const E=new zf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Rf(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let w=-1,x=-1;return b.type!==0&&(w=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),x=p.indexOf(b.doc.key)),{type:Zx(b.type),doc:E,oldIndex:w,newIndex:x}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:i})}}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:Tr("string",jl._jsonSchemaVersion),bundleSource:Tr("string","QuerySnapshot"),bundleName:Tr("string"),bundle:Tr("string")};class eM extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,r)}}function cp(i){i=Wf(i,Ao);const e=Wf(i.firestore,Wp),r=d1(e),a=new eM(e);return Kx(i._query),Px(r,i._query).then((l=>new jl(e,a,i,l)))}function Om(i,e){const r=Wf(i.firestore,Wp),a=Ux(i),l=Jx(i.converter,e);return tM(r,[qx(g1(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,As.exists(!1))]).then((()=>a))}function tM(i,e){return(function(a,l){const c=new go;return a.asyncQueue.enqueueAndForget((async()=>wx(await kx(a),l,c))),c.promise})(d1(i),e)}(function(e,r=!0){(function(l){Jl=l})(Kl),Fl(new Ho("firestore",((a,{instanceIdentifier:l,options:c})=>{const p=a.getProvider("app").getImmediate(),b=new Wp(new zC(a.getProvider("auth-internal")),new FC(p,a.getProvider("app-check-internal")),(function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Ze(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(w.options.projectId,x)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),mo($0,J0,e),mo($0,J0,"esm2020")})();const nM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},rM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):nM,T1=hb(rM),km=VC(T1),Dl=zx(T1),fp=typeof __app_id<"u"?__app_id:"long-jump-game",Vm={background:"#f0f0e6",boardBackground:"#f0eae9",boardLines:"#dcd8cc",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",tileWild:"#ffd700",tileWildPlaced:"#fff8c4",tileObstacle:"#374151",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",starPurple:"#a855f7",overlayComplete:"#ffffff",startArrow:"#000000",modalBg:"#ffffff",settingsBg:"#ffffff",handBg:"#dcd8cc"},iM={background:"#111827",boardBackground:"#1f2937",boardLines:"#374151",tileLocked:"#374151",tileLockedText:"#f3f4f6",tileTemp:"#854d0e",tileTempRing:"#ca8a04",tileWild:"#b45309",tileWildPlaced:"#78350f",tileObstacle:"#000000",accentPrimary:"#65a30d",accentSecondary:"#4d7c0f",textMain:"#f9fafb",textSub:"#9ca3af",starGold:"#fbbf24",starPurple:"#c084fc",overlayComplete:"#1f2937",startArrow:"#ffffff",modalBg:"#1f2937",settingsBg:"#111827",handBg:"#1f2937"},Pr=5,hp=50,aM=50,A1=30,sM=30,xa=40,S1={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1,"*":2},oM=new Set(["EXTORTIONATELY","ORNERIER","RAINILY","NET","KITE","KITES","TOXICALLY","OUR","OURS","AA","AB","AD","AE","AG","AH","AI","AL","AM","AN","AR","AS","AT","AW","AX","AY","BA","BE","BI","BO","BY","CH","DA","DE","DI","DO","EA","ED","EE","EF","EH","EL","EM","EN","ER","ES","ET","EW","EX","FA","FE","FY","GI","GO","GU","HA","HE","HI","HM","HO","ID","IF","IN","IO","IS","IT","JA","JO","KA","KI","KO","KY","LA","LI","LO","MA","ME","MI","MM","MO","MU","MY","NA","NE","NO","NU","NY","OB","OD","OE","OF","OH","OI","OK","OM","ON","OO","OP","OR","OS","OU","OW","OX","OY","PA","PE","PI","PO","QI","RE","SH","SI","SO","ST","TA","TE","TI","TO","UG","UH","UM","UN","UP","UR","US","UT","WE","WO","XI","XU","YA","YE","YO","YU","ZA","ZE","ZO"]),Q_=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],K_=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],$_=(i=hp)=>Array(Pr).fill(null).map(()=>Array(i).fill(null)),If=(i,e=!1)=>({id:Math.random().toString(36).substring(2,15)+Date.now().toString(36),letter:i,isNew:e,isPlaced:!1}),C1=i=>{const e=["th","st","nd","rd"],r=i%100;return i+(e[(r-20)%10]||e[r]||e[0])},lM=i=>{const e=new Date(i),r=e.getDate(),a=e.toLocaleDateString("en-GB",{month:"short"});return`${C1(r)} ${a}`},ac=i=>function(){var e=i+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},sc=i=>{let e=1779033703,r=3144134277,a=1013904242,l=2773480762;for(let c=0,p;c<i.length;c++)p=i.charCodeAt(c),e=r^Math.imul(e^p,597399067),r=a^Math.imul(r^p,2869860233),a=l^Math.imul(a^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(a^e>>>18,597399067),r=Math.imul(l^r>>>22,2869860233),a=Math.imul(e^a>>>17,951274213),l=Math.imul(r^l>>>19,2716044179),(e^r^a^l)>>>0},uM=()=>new Date().toISOString().split("T")[0],cM=(i,e,r)=>{const a=sc(i),l=ac(a),c=[],p=Math.floor(e*.3),b=new Set;for(;c.length<p;){const E=Math.floor(l()*Pr),w=Math.floor(l()*e);if(w===0||r==="maze"&&(w===14||w===29))continue;const x=`${E},${w}`;if(!b.has(x)){b.add(x);const O=l();let G=1,te="star";O>.5&&(G=2),O>.8&&(G=3),c.push({r:E,c:w,val:G,type:te})}}return r==="maze"&&[14,29].forEach(E=>{if(E<e)for(let w=0;w<Pr;w++){if((w+E)%3===0)continue;const O=w*E*13%10/10>.5?3:2;c.push({r:w,c:E,val:O,type:"star"})}}),c},fM=(i,e,r)=>{const a=sc(i+"OBSTACLES"),l=ac(a),c=[];if(r!=="maze"){const G=Math.floor(e*.1),te=new Set;for(;c.length<G;){const z=Math.floor(l()*Pr),De=Math.floor(l()*e);if(De===0)continue;const be=`${z},${De}`;te.has(be)||(te.add(be),c.push({r:z,c:De}))}return c}const p=new Set;for(let G=0;G<Pr;G++)p.add(`${G},14`),p.add(`${G},29`);((G,te)=>{const z=sc(i+G),De=ac(z);let be=te;for(let Le=1;Le<e;Le++){p.add(`${be},${Le}`);const j=De();j<.3&&be>0?be--:j>.7&&be<Pr-1&&be++,p.add(`${be},${Le}`)}})("PATH_MAIN",2);const E=e*Pr,w=Math.floor(E*.45),x=new Set;let O=0;for(;c.length<w&&O<E*5;){O++;const G=Math.floor(l()*Pr),te=Math.floor(l()*e);if(te===0)continue;const z=`${G},${te}`;p.has(z)||x.has(z)||(x.add(z),c.push({r:G,c:te}))}return c},hM=(i,e,r)=>{const a=sc(i+"WILDCARDS_V3"),l=ac(a),c=[];let p=0;for(;p<100;){const b=Math.floor(l()*Pr),E=5,w=Math.min(29,r-2);if(w<=E)break;const x=Math.floor(l()*(w-E+1))+E;if(!(x===14||x===29)){if(!e.some(O=>O.r===b&&O.c===x)){c.push({r:b,c:x});break}p++}}for(p=0;p<100;){const b=Math.floor(l()*Pr),E=30,w=r-5,x=Math.floor(l()*(w-E+1))+E;if(!(x===14||x===29)){if(!e.some(O=>O.r===b&&O.c===x)){c.push({r:b,c:x});break}p++}}return[14,29].forEach(b=>{if(b<r)for(let E=0;E<Pr;E++)(E+b)%3===0&&(e.some(w=>w.r===E&&w.c===b)||c.push({r:E,c:b}))}),c},dM=()=>[{id:"t1",type:"top",offset:0,startCol:2},{id:"t2",type:"top",offset:-1,startCol:1},{id:"t3",type:"top",offset:-2,startCol:0},{id:"b1",type:"bottom",offset:0,startCol:2},{id:"b2",type:"bottom",offset:-1,startCol:1},{id:"b3",type:"bottom",offset:-2,startCol:0},{id:"t4",type:"top",offset:1,startCol:3},{id:"b4",type:"bottom",offset:1,startCol:3},{id:"t5",type:"top",offset:2,startCol:4},{id:"b5",type:"bottom",offset:2,startCol:4}],mM=i=>{const e=sc(i),r=ac(e);let a=[];Object.entries(S1).forEach(([b,E])=>{for(let w=0;w<E;w++)a.push(b)});let l=[];for(let b=0;b<10;b++)l=l.concat(a);for(let b=l.length-1;b>0;b--){const E=Math.floor(r()*(b+1));[l[b],l[E]]=[l[E],l[b]]}const c=A1;if(!l.slice(0,c).includes("*")){const b=l.indexOf("*",c);if(b!==-1){const E=Math.floor(r()*c);[l[E],l[b]]=[l[b],l[E]]}}return l},pM=i=>{const e=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem("longJumpStats"))||{gamesPlayed:0,currentStreak:0,maxStreak:0,totalDistance:0,lastPlayedDate:null};let{gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:b}=r;if(a+=1,p+=i,b!==e){const w=new Date;w.setDate(w.getDate()-1);const x=w.toISOString().split("T")[0];b===x?l+=1:l=1}l>c&&(c=l);const E={gamesPlayed:a,currentStreak:l,maxStreak:c,totalDistance:p,lastPlayedDate:e};return localStorage.setItem("longJumpStats",JSON.stringify(E)),E},J_=()=>{const i=Q_[Math.floor(Math.random()*Q_.length)],e=K_[Math.floor(Math.random()*K_.length)],r=Math.floor(Math.random()*90)+10;return`${i}${e}${r}`},Pm=i=>{if(i.length<=1)return!0;const e=i[0].r,r=i[0].c;return i.every(a=>a.r===e)||i.every(a=>a.c===r)},Ol={ctx:null,init:()=>{Ol.ctx||(Ol.ctx=new(window.AudioContext||window.webkitAudioContext))},play:i=>{Ol.ctx||Ol.init();const e=Ol.ctx,r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination);const l=e.currentTime,c=.5+Math.random();i==="pop"?(r.type="triangle",r.frequency.setValueAtTime(600*c,l),r.frequency.exponentialRampToValueAtTime(100*c,l+.15),a.gain.setValueAtTime(.5,l),a.gain.exponentialRampToValueAtTime(.01,l+.15),r.start(l),r.stop(l+.15)):i==="success"?(r.type="sine",r.frequency.setValueAtTime(400*c,l),r.frequency.setValueAtTime(600*c,l+.1),a.gain.setValueAtTime(.3,l),a.gain.linearRampToValueAtTime(0,l+.3),r.start(l),r.stop(l+.3)):i==="error"?(r.type="sawtooth",r.frequency.setValueAtTime(150,l),r.frequency.linearRampToValueAtTime(100,l+.2),a.gain.setValueAtTime(.5,l),a.gain.linearRampToValueAtTime(0,l+.2),r.start(l),r.stop(l+.2)):i==="click"?(r.type="square",r.frequency.setValueAtTime(800,l),a.gain.setValueAtTime(.1,l),a.gain.exponentialRampToValueAtTime(.01,l+.05),r.start(l),r.stop(l+.05)):i==="fanfare"&&(r.type="square",r.frequency.setValueAtTime(261.63,l),r.frequency.setValueAtTime(329.63,l+.1),r.frequency.setValueAtTime(392,l+.2),r.frequency.setValueAtTime(523.25,l+.3),a.gain.setValueAtTime(.2,l),a.gain.setValueAtTime(.2,l+.3),a.gain.exponentialRampToValueAtTime(.01,l+.8),r.start(l),r.stop(l+.8))}},gM=i=>{if(navigator.vibrate)switch(i){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(15);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,20,50]);break;case"heavy":navigator.vibrate(50);break}},yM=({theme:i})=>{const e=Be.useRef(null);return Be.useEffect(()=>{const r=e.current;if(!r)return;const a=r.getContext("2d");let l=window.innerWidth,c=window.innerHeight;if(l===0||c===0)return;r.width=l,r.height=c;const p=[],b=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",i.accentPrimary];for(let O=0;O<150;O++)p.push({x:Math.random()*l,y:Math.random()*c-c,vx:Math.random()*2-1,vy:Math.random()*3+2,color:b[Math.floor(Math.random()*b.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let E;const w=()=>{!a||!r.width||!r.height||(a.clearRect(0,0,l,c),p.forEach(O=>{O.y+=O.vy,O.x+=O.vx+Math.sin(O.y/50),O.rotation+=O.rotationSpeed,O.y>c&&(O.y=-10,O.x=Math.random()*l),!(!Number.isFinite(O.x)||!Number.isFinite(O.y)||!Number.isFinite(O.rotation)||!Number.isFinite(O.size))&&(a.save(),a.translate(O.x,O.y),a.rotate(O.rotation*Math.PI/180),a.fillStyle=O.color,a.fillRect(-O.size/2,-O.size/2,O.size,O.size),a.restore())}),E=requestAnimationFrame(w))};w();const x=()=>{r&&(l=window.innerWidth,c=window.innerHeight,l>0&&c>0&&(r.width=l,r.height=c))};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),E&&cancelAnimationFrame(E)}},[i]),R.createElement("canvas",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:0}})},Z_=()=>{const{RiveComponent:i}=uo.useRive({src:"longjumplogo.riv",stateMachines:"State Machine 1",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return R.createElement(i,{style:{width:"100%",maxWidth:"500px",aspectRatio:"500/220",display:"block",margin:"0 auto",padding:"20px 0"}})},eb=({trigger:i})=>{const{rive:e,RiveComponent:r}=uo.useRive({src:"fan.riv",autoplay:!0,layout:new uo.Layout({fit:uo.Fit.Contain,alignment:uo.Alignment.Center})});return Be.useEffect(()=>{if(i&&e&&e.viewModelInstance)try{const a=e.viewModelInstance("View Model 1");if(a){const l=a.trigger("Celebrate");l&&l.fire()}}catch(a){console.warn("Rive trigger warning:",a)}},[i,e]),r?R.createElement("div",{style:{width:`${xa}px`,height:"60px",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},R.createElement("div",{style:{width:"39px",height:"60px"}},R.createElement(r,null))):null},Lm=({highlightName:i,user:e,onRankFound:r,lastUpdated:a,initialMode:l="standard",onParCalculated:c,theme:p})=>{const[b,E]=Be.useState([]),[w,x]=Be.useState(!0),[O,G]=Be.useState("daily"),[te,z]=Be.useState(l),[De,be]=Be.useState(null);Be.useEffect(()=>{z(l)},[l]);const Le=async()=>{if(!e)return;x(!0),be(null);const j=Nl(Dl,"artifacts",fp,"public","data","scores"),Ue=new Date,et=Ue.toISOString().split("T")[0],ut=Ue.getDay(),at=Ue.getDate()-ut+(ut===0?-6:1),H=new Date(Ue.setDate(at)).toISOString().split("T")[0],L=new Date,I=new Date(L.getFullYear(),L.getMonth(),1).toISOString().split("T")[0];let P=[];te==="maze"&&P.push(Vl("mode","==","maze")),O==="daily"?(P.push(Vl("date","==",et)),P.push(io("score","desc")),P.push(io("timestamp","asc")),P.push(Qu(100))):O==="weekly"?(P.push(Vl("date",">=",H)),P.push(io("date","desc")),P.push(io("score","desc")),P.push(Qu(500))):(P.push(Vl("date",">=",I)),P.push(io("date","desc")),P.push(io("score","desc")),P.push(Qu(500)));try{const N=up(j,...P),Q=await cp(N);if(Q.empty){E([]),x(!1),c&&O==="daily"&&c(te==="maze"?20:25,te);return}let ie=Q.docs.map(B=>({id:B.id,...B.data()}));if(te==="standard"&&(ie=ie.filter(B=>!B.mode||B.mode==="standard")),O==="daily"&&c){const $=ie.reduce((Ce,U)=>Ce+U.score,0)/ie.length,he=Math.floor(((te==="maze"?20:25)+$)/2);c(he,te)}if(O==="weekly"||O==="monthly"){const B=new Map;ie.forEach($=>{const me=B.get($.name);me?($.score>me.score||$.score===me.score&&$.timestamp<me.timestamp)&&B.set($.name,$):B.set($.name,$)}),ie=Array.from(B.values()),ie.sort(($,me)=>me.score!==$.score?me.score-$.score:$.timestamp-me.timestamp),ie=ie.slice(0,100)}if(E(ie),x(!1),i&&r){const B=ie.findIndex($=>$.name===i);B!==-1&&r(B+1)}}catch(N){console.error(" FIRESTORE ERROR:",N),be(N.message),x(!1)}};return Be.useEffect(()=>{Le()},[e,O,te,i,a]),R.createElement("div",{className:"rounded-2xl p-4 shadow-xl border w-full h-full flex flex-col relative transition-colors duration-300",style:{backgroundColor:p.modalBg+"DD",borderColor:p.boardLines}},De&&De.includes("index")&&R.createElement("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-4 text-center bg-white/90"},R.createElement(yT,{className:"text-red-500 mb-2",size:32}),R.createElement("p",{className:"text-xs font-bold text-red-600 mb-2"},"DATABASE INDEX MISSING"),R.createElement("button",{onClick:Le,className:"px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold"},"Retry")),R.createElement("div",{className:"flex flex-col gap-2 mb-2 pb-2 border-b shrink-0",style:{borderColor:p.boardLines}},R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-2"},R.createElement(Um,{size:20,className:"text-yellow-500"}),R.createElement("h3",{className:"text-sm font-black uppercase tracking-widest",style:{color:p.textSub}},O==="daily"?"Today's Top":O==="weekly"?"Weekly Best":"Monthly Best")),R.createElement("div",{className:"flex rounded-lg p-1",style:{backgroundColor:p.boardLines}},R.createElement("button",{onClick:()=>G("daily"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Daily"),R.createElement("button",{onClick:()=>G("weekly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Weekly"),R.createElement("button",{onClick:()=>G("monthly"),className:`px-2 py-1 rounded-md text-[9px] font-bold uppercase tracking-wide transition-all ${O==="monthly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Monthly"))),R.createElement("div",{className:"flex justify-center"},R.createElement("div",{className:"flex rounded-lg p-1 w-full",style:{backgroundColor:p.boardLines}},R.createElement("button",{onClick:()=>z("standard"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${te==="standard"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`},"Standard"),R.createElement("button",{onClick:()=>z("maze"),className:`flex-1 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${te==="maze"?"bg-white shadow-sm text-purple-600":"text-gray-400 hover:text-gray-600"}`},"Maze Mode")))),R.createElement("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1"},w?R.createElement("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse"},"Loading..."):b.length===0?R.createElement("div",{className:"text-center py-8 text-gray-400 text-sm italic"},"No scores yet.",R.createElement("br",null),"Be the first!"):R.createElement("div",{className:"space-y-1"},b.map((j,Ue)=>{const et=j.score>40;let ut="";return O==="weekly"?ut=new Date(j.date).toLocaleDateString(void 0,{weekday:"short"}):O==="monthly"&&(ut=lM(j.date)),R.createElement("div",{key:Ue,className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all border ${j.name===i?`bg-[${p.accentPrimary}]/10 border-[${p.accentPrimary}]/20`:et?"bg-amber-100 border-amber-300":"hover:bg-white/10 border-transparent"}`,style:j.name!==i&&!et?{borderColor:"transparent"}:{}},R.createElement("div",{className:"flex items-center gap-2"},R.createElement("span",{className:`font-black w-5 text-center ${Ue===0?"text-yellow-600 text-lg":Ue===1?"text-gray-500 text-base":Ue===2?"text-orange-700 text-base":"text-gray-500"}`},Ue+1),R.createElement("div",{className:"flex items-center gap-1 overflow-hidden"},et&&R.createElement(Um,{size:14,className:"text-yellow-600 fill-yellow-600 shrink-0"}),R.createElement("span",{className:`font-bold truncate max-w-[90px] ${j.name===i?"":et?"text-amber-900":""}`,style:{color:j.name===i?p.textMain:et?"#78350f":p.textMain}},j.name),ut&&R.createElement("span",{className:"text-[9px] font-normal ml-1 border-l pl-1",style:{color:p.textSub,borderColor:p.boardLines}},ut))),R.createElement("span",{className:`font-mono font-black px-2 py-0.5 rounded-md text-xs ${et?"bg-amber-200 text-amber-900":"bg-gray-100 text-gray-900"}`},j.score,"m"))}))))};function vM(){const[i,e]=Be.useState("menu"),[r,a]=Be.useState("standard"),[l,c]=Be.useState(()=>localStorage.getItem("longJumpPlayerName")||J_()),[p,b]=Be.useState(!1),[E,w]=Be.useState(!1),[x,O]=Be.useState(()=>{const W=localStorage.getItem("longJumpShowFans");return W===null?!0:W!=="false"}),[G,te]=Be.useState(()=>{const W=localStorage.getItem("longJumpSound");return W===null?!0:W!=="false"}),[z,De]=Be.useState(()=>{const W=localStorage.getItem("longJumpHaptics");return W===null?!0:W!=="false"}),[be,Le]=Be.useState(()=>localStorage.getItem("longJumpDarkMode")==="true"),j=be?iM:Vm,[Ue,et]=Be.useState(!1),[ut,at]=Be.useState(null),[Y,H]=Be.useState(!1),[L,q]=Be.useState(null);Be.useEffect(()=>{window.addEventListener("beforeinstallprompt",W=>{W.preventDefault(),q(W)})},[]);const[I,P]=Be.useState(""),[N,Q]=Be.useState("idle"),ie=async()=>{if(I.trim()){Q("submitting");try{const W=Nl(Dl,"suggestions");await Om(W,{text:I,player:l,date:new Date().toISOString(),version:"8.11"}),Q("success"),P(""),setTimeout(()=>Q("idle"),3e3)}catch(W){console.error("Error submitting suggestion:",W),Q("idle"),We({text:"Could not send suggestion. Try again.",type:"error"})}}},[B,$]=Be.useState(()=>$_(hp)),[me,he]=Be.useState([]),[Ce,U]=Be.useState([]),[oe,Ne]=Be.useState(0),[Ae,xe]=Be.useState(!1),[tt,mt]=Be.useState([]),[Dt,lt]=Be.useState(0),[Pt,Bt]=Be.useState([]),[ct,It]=Be.useState([]),[Wt,Qt]=Be.useState([]),[Wn,Mr]=Be.useState([]),[Kt,Ke]=Be.useState(null),[St,sn]=Be.useState(null),[vt,wn]=Be.useState([]),[_t,Tn]=Be.useState(0),[mn,C]=Be.useState(0),[g,_]=Be.useState(null),[V,J]=Be.useState(!1),[ge,Se]=Be.useState(!1),[qe,We]=Be.useState({text:"Goal: Get as far right as you can.",type:"neutral",invalidWord:null}),[Pe,Tt]=Be.useState(!1),[jt,Un]=Be.useState(!1),[Lt,Qn]=Be.useState(!1),[Ft,Mn]=Be.useState(!1),[Nn,Dn]=Be.useState(!1),[on,yt]=Be.useState(!1),[tr,On]=Be.useState(!1),[Ot,Hn]=Be.useState(!1),[Mi,Zr]=Be.useState(null),[ei,Qe]=Be.useState(null),[$a,Ur]=Be.useState(!1),[zr,An]=Be.useState(null),[Kn,ti]=Be.useState(25),[ar,Ja]=Be.useState(null),[Gi,Yi]=Be.useState([]),Nr=Be.useRef(0),[Br,ni]=Be.useState(new Set),[ri,Ar]=Be.useState(!1),jr=Be.useRef({standard:25,quick:12}),cn=Be.useRef(null),[Xi,Sr]=Be.useState(!1),[Fr,ii]=Be.useState(0),[Za,sa]=Be.useState(0),Oa=B.some(W=>W.some(ae=>ae!==null));Be.useEffect(()=>{localStorage.setItem("longJumpPlayerName",l)},[l]),Be.useEffect(()=>{localStorage.setItem("longJumpShowFans",x)},[x]),Be.useEffect(()=>{localStorage.setItem("longJumpSound",G)},[G]),Be.useEffect(()=>{localStorage.setItem("longJumpHaptics",z)},[z]),Be.useEffect(()=>{localStorage.setItem("longJumpDarkMode",be)},[be]),Be.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await E2(km,__initial_auth_token):await g2(km)})();const ae=A2(km,Qe);return()=>ae()},[]),Be.useEffect(()=>{(async()=>{try{const ae=up(Nl(Dl,"missing_words")),Ee=await cp(ae),_e=new Set;Ee.forEach(ve=>{ve.data().word&&_e.add(ve.data().word.toUpperCase())}),ni(_e)}catch(ae){console.error("Error loading missing words:",ae)}})()},[]),Be.useEffect(()=>{if(mn===_t)return;const W=500,ae=performance.now(),Ee=mn,_e=_t,ve=He=>{const Ge=He-ae,ze=Math.min(Ge/W,1),ht=1-Math.pow(1-ze,3),ke=Math.floor(Ee+(_e-Ee)*ht);C(ke),ze<1&&requestAnimationFrame(ve)};requestAnimationFrame(ve)},[_t]),Be.useEffect(()=>{(async()=>{try{const ae=Nl(Dl,"artifacts",fp,"public","data","scores"),Ee=new Date().toISOString().split("T")[0];let _e=[Vl("date","==",Ee),io("score","desc"),io("timestamp","asc")];r==="quick"?(_e.push(Vl("mode","==","quick")),_e.push(Qu(1))):_e.push(Qu(50));const ve=up(ae,..._e),He=await cp(ve);let Ge=null;if(!He.empty){const ze=He.docs.map(ht=>ht.data());r==="quick"?Ge=ze[0]:Ge=ze.find(ht=>!ht.mode||ht.mode==="standard")}An(Ge||null)}catch(ae){console.error("Error fetching leader:",ae)}})()},[oe,r]);const Ea=Be.useCallback((W,ae)=>{(ae==="quick"||ae==="standard")&&(jr.current[ae]=W),ti(W)},[]),fn=W=>{G&&Ol.play(W==="light"?"pop":W),z&&gM(W)};Be.useEffect(()=>{sr("standard")},[]);const sr=(W="standard")=>{const ae=uM(),Ee=W==="maze"?ae+"-MAZE":ae,_e=mM(Ee);mt(_e),a(W);const ve=W==="maze"?aM:hp,He=W==="maze"?sM:A1;let Ge;Ge=_e.slice(0,He);const ze=Ge.map(nt=>If(nt,!1)).sort((nt,qt)=>nt.letter.localeCompare(qt.letter));he(ze),lt(He),$($_(ve)),wn([]),U([]),Yi([]),Tn(0),C(0),_(null),J(!1),Se(!1),Bt(cM(ae,ve,W));const ht=fM(ae,ve,W);It(ht),Qt(hM(ae,ht,ve)),Mr(dM()),We({text:"Goal: Get as far right as you can.",type:"neutral"}),yt(!1),Un(!1),Mn(!1),Dn(!1),Ur(!1),On(!1),Qn(!1),xe(!1),Ke(null),sn(null),b(!1);const ke=jr.current[W]||(W==="maze"?20:25);ti(ke),sn({r:2,c:0}),Ar(!1),cn.current&&(cn.current.scrollLeft=0)},_n=W=>{fn("click"),l.trim()||c(J_()),e("playing"),sr(W),Mn(!0)},$n=()=>{fn("click"),e("menu"),sr("standard")},ai=()=>{if(fn("click"),Ce.length!==0){if(ri){We({text:"Already used Undo this turn!",type:"error"}),fn("error");return}H(!0)}},Ni=()=>{const W=Ce[Ce.length-1],ae=Ce.slice(0,-1);$(W.grid),Tn(W.score),lt(W.drawCount);const Ee=Array.from(new Map(W.hand.map(_e=>[_e.id,{..._e,isPlaced:!1}])).values());he(Ee),U(ae),wn([]),Ke(null),We({text:"Move undone",type:"info"}),Ar(!0),H(!1)},$t=W=>{const ae=W.toUpperCase();return[...me].reverse().find(Ee=>Ee.letter===ae&&!Ee.isPlaced)},mr=()=>{if(vt.length===0)return;fn("click");const ae=[...vt].sort((Ge,ze)=>Ge.r-ze.r||Ge.c-ze.c)[0],Ee=ae?ae.r:null,_e=ae?ae.c:null,He=vt.map(Ge=>Ge.isWild?"*":Ge.letter).map(Ge=>If(Ge,!1));he(Ge=>[...Ge.filter(ht=>!ht.isPlaced),...He].sort((ht,ke)=>ht.letter!==ke.letter?ht.letter.localeCompare(ke.letter):ht.isNew===ke.isNew?0:ht.isNew?1:-1)),wn([]),Ke(null),Ee!==null&&_e!==null&&(sn(null),setTimeout(()=>{sn({r:Ee,c:_e})},10))},ft=W=>{const ae=B[0].length;if(!St){sn({r:2,c:_t});return}let{r:Ee,c:_e}=St;W==="ArrowUp"&&(Ee=Math.max(0,Ee-1)),W==="ArrowDown"&&(Ee=Math.min(Pr-1,Ee+1)),W==="ArrowLeft"&&(_e=Math.max(0,_e-1)),W==="ArrowRight"&&(_e=Math.min(ae-1,_e+1)),sn({r:Ee,c:_e})};Be.useEffect(()=>{const W=ae=>{if(ae.key==="k"||ae.key==="K"){if(Nr.current+=1,Nr.current>=10){fn("fanfare"),Yi(["TEST","MODE","ACTIVE","RANDOM","WORDS","SHOWN","HERE","FOR","DEBUG","PURPOSES"]),Tn(42),C(42),Ja({gamesPlayed:10,currentStreak:5,maxStreak:10,totalDistance:420,lastPlayedDate:new Date().toISOString().split("T")[0]}),e("gameOver"),Nr.current=0;return}}else Nr.current=0;if(!(i!=="playing"||on||Nn||Ft||jt||Ot||Lt||p||Ue||Y)){if(ae.code==="Space"){ae.preventDefault(),Rr();return}if(ae.key==="Escape"){mr();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ae.key)){ae.preventDefault(),ft(ae.key);return}if(ae.key==="Backspace"||ae.key==="Delete"){if(St){const{r:Ee,c:_e}=St;vt.find(He=>He.r===Ee&&He.c===_e)?li(Ee,_e):ft("ArrowLeft")}return}if(ae.key==="Enter"){vt.length>0&&Oi();return}if(/^[a-zA-Z]$/.test(ae.key)){const Ee=B[0].length;if(!St){sn({r:2,c:_t});return}const{r:_e,c:ve}=St;if(B[_e]&&B[_e][ve]||ct.some(ze=>ze.r===_e&&ze.c===ve)){ft("ArrowRight");return}let He=$t(ae.key),Ge=null;if(!He){const ze=$t("*");ze&&(He=ze,Ge=ae.key.toUpperCase())}He?(Wi(He,_e,ve,Ge),sn({r:_e,c:Math.min(Ee-1,ve+1)})):(We({text:`No '${ae.key.toUpperCase()}' or Wildcard in hand`,type:"error"}),setTimeout(()=>We({text:"Goal: Get as far right as you can.",type:"neutral"}),1e3))}}};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[i,on,St,me,vt,Nn,Ft,jt,Ot,Lt,p,Ue,Y]),Be.useEffect(()=>{if(St&&cn.current){const W=cn.current,ae=St.c*xa,Ee=ae+xa,_e=W.scrollLeft,ve=_e+W.clientWidth,He=100;ae<_e?W.scrollTo({left:Math.max(0,ae-He),behavior:"smooth"}):Ee>ve&&W.scrollTo({left:Ee-W.clientWidth+He,behavior:"smooth"})}},[St]);const or=()=>Un(!0),zn=async()=>{Un(!1),yt(!0),Ur(!0),fn("fanfare");const W=l.trim().toLowerCase()==="test";if(ei&&!W)try{const ve=new Date().toISOString().split("T")[0],He=Nl(Dl,"artifacts",fp,"public","data","scores");await Om(He,{name:l||"Anonymous",score:_t,mode:r,date:ve,timestamp:Date.now(),userId:ei.uid}),Ne(Date.now())}catch(ve){console.error("Error saving score:",ve)}const ae=pM(_t);Ja(ae),Ur(!1);const Ee=_t*50+800;setTimeout(()=>{e("gameOver"),yt(!1)},Math.max(Ee,2500))},wa=()=>Un(!1),es=()=>i==="playing"?Qn(!0):e("menu"),ka=()=>{Qn(!1),e("menu"),sr()},pn=async()=>{const W=g?C1(g):"top",ae="https://www.longjump.co.za",Ee=Gi.length>0?`

 Words: ${Gi.join(", ")}`:"";let _e=g?`${l} placed ${W} in Long-Jump with a distance of ${_t}m. How far can you get? ${ae}${Ee}`:`${l} got a distance of ${_t}m in Long-Jump. How far can you get? ${ae}${Ee}`;try{navigator.share?await navigator.share({title:"Long Jump Result",text:_e}):(await navigator.clipboard.writeText(_e),J(!0),setTimeout(()=>J(!1),1e3))}catch(ve){console.error("Failed to copy/share: ",ve);try{await navigator.clipboard.writeText(_e),J(!0),setTimeout(()=>J(!1),1e3)}catch{}}},oa=W=>{W.target.closest('[draggable="true"]')||W.target.tagName==="BUTTON"||(Sr(!0),ii(W.pageX-cn.current.offsetLeft),sa(cn.current.scrollLeft))},Di=()=>Sr(!1),nr=()=>Sr(!1),si=W=>{if(!Xi)return;W.preventDefault();const Ee=(W.pageX-cn.current.offsetLeft-Fr)*1.5;cn.current.scrollLeft=Za-Ee},Wi=(W,ae,Ee,_e=null)=>{if(fn("light"),W.letter==="*"&&!_e){Zr({r:ae,c:Ee,tileId:W.id}),Hn(!0);return}const ve=W.letter==="*";oi(W,ae,Ee,ve,_e)},oi=(W,ae,Ee,_e=!1,ve=null)=>{if(B.every(ht=>ht.every(ke=>ke===null))&&vt.length===0&&Ee!==0){On(!0),setTimeout(()=>On(!1),3e3);return}const Ge=ve||W.letter,ze=[...vt,{r:ae,c:Ee,letter:Ge,isWild:_e,id:W.id}];if(!Pm(ze)){We({text:" Tiles must be placed in a single row or column",type:"error"}),fn("error");return}wn(ze),he(ht=>ht.map(ke=>ke.id===W.id?{...ke,isPlaced:!0}:ke)),On(!1),qe.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})},Ta=W=>{if(fn("light"),Mi){const ae={id:Mi.tileId,letter:"*"};oi(ae,Mi.r,Mi.c,!0,W),sn({r:Mi.r,c:Math.min(B[0].length-1,Mi.c+1)}),Hn(!1),Zr(null),Ke(null)}},la=W=>{if(fn("light"),!on&&i==="playing"){if(St){const{r:ae,c:Ee}=St,_e=B[0].length;if(!(B[ae]&&B[ae][Ee]||ct.some(He=>He.r===ae&&He.c===Ee))){const He=me.find(Ge=>Ge.id===W);He&&(Wi(He,ae,Ee),sn({r:ae,c:Math.min(_e-1,Ee+1)}));return}}Ke(Kt===W?null:W)}},li=(W,ae)=>{if(Xi||on||i!=="playing"||B[W]&&B[W][ae]||ct.some(_e=>_e.r===W&&_e.c===ae))return;const Ee=vt.findIndex(_e=>_e.r===W&&_e.c===ae);if(Ee!==-1){fn("light");const _e=vt[Ee],ve=[...vt];ve.splice(Ee,1),wn(ve),he(He=>He.map(Ge=>Ge.id===_e.id?{...Ge,isPlaced:!1}:Ge)),Ke(null),sn({r:W,c:ae});return}if(Kt){const _e=me.find(ve=>ve.id===Kt);if(_e){const ve=B[0].length;Wi(_e,W,ae),Ke(null),sn({r:W,c:Math.min(ve-1,ae+1)})}}else sn({r:W,c:ae})},Qi=(W,ae)=>{on||i!=="playing"||(W.dataTransfer.setData("text/plain",JSON.stringify(ae)),W.dataTransfer.effectAllowed="move")},Hr=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},Va=(W,ae,Ee)=>{if(on||i!=="playing"||(W.preventDefault(),W.stopPropagation(),ct.some(ve=>ve.r===ae&&ve.c===Ee)))return;const _e=W.dataTransfer.getData("text/plain");if(_e)try{const ve=JSON.parse(_e);if(B[ae]&&B[ae][Ee])return;const He=vt.findIndex(ze=>ze.r===ae&&ze.c===Ee),Ge=B[0].length;if(ve.type==="hand"){fn("light");const ze=ve.tile;if(ze.letter==="*"){Zr({r:ae,c:Ee,tileId:ze.id}),Hn(!0);return}if(B.every(ke=>ke.every(nt=>nt===null))&&vt.length===0&&Ee!==0){On(!0),setTimeout(()=>On(!1),3e3);return}if(He!==-1){const ke=vt[He],nt=[...vt];he(qt=>qt.map(Or=>Or.id===ze.id?{...Or,isPlaced:!0}:Or.id===ke.id?{...Or,isPlaced:!1}:Or)),nt.splice(He,1,{r:ae,c:Ee,letter:ze.letter,isWild:!1,id:ze.id}),wn(nt)}else{const ke=[...vt,{r:ae,c:Ee,letter:ze.letter,isWild:!1,id:ze.id}];if(!Pm(ke)){We({text:" Tiles must be placed in a single row or column",type:"error"}),fn("error");return}wn(ke),he(nt=>nt.map(qt=>qt.id===ze.id?{...qt,isPlaced:!0}:qt))}On(!1),Ke(null),sn({r:ae,c:Math.min(Ge-1,Ee+1)}),qe.type==="error"&&We({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(ve.type==="board"){if(ve.r===ae&&ve.c===Ee)return;const ze=vt.findIndex(nt=>nt.r===ve.r&&nt.c===ve.c);if(ze===-1)return;const ht=vt[ze],ke=[...vt];if(He!==-1){const nt=vt[He];ke[He]={...nt,r:ve.r,c:ve.c},ke[ze]={...ht,r:ae,c:Ee}}else ke[ze]={...ht,r:ae,c:Ee};if(!Pm(ke)){We({text:" Tiles must be placed in a single row or column",type:"error"}),fn("error");return}wn(ke),sn({r:ae,c:Math.min(Ge-1,Ee+1)})}}catch{}},ui=W=>{if(on||i!=="playing")return;W.preventDefault(),W.stopPropagation();const ae=W.dataTransfer.getData("text/plain");if(ae)try{const Ee=JSON.parse(ae);if(Ee.type==="board"){const _e=vt.find(ve=>ve.r===Ee.r&&ve.c===Ee.c);wn(ve=>ve.filter(He=>!(He.r===Ee.r&&He.c===Ee.c))),he(ve=>ve.map(He=>He.id===_e.id?{...He,isPlaced:!1}:He)),fn("light")}}catch{}},ci=(W,ae)=>{if(!B||!B[W])return null;if(B[W][ae])return{letter:B[W][ae],type:"locked"};const Ee=vt.find(_e=>_e.r===W&&_e.c===ae);return Ee?{letter:Ee.letter,type:"temp",isWild:Ee.isWild}:null},Dr=(W,ae)=>Pt.find(Ee=>Ee.r===W&&Ee.c===ae),fi=(W,ae)=>ct.find(Ee=>Ee.r===W&&Ee.c===ae),Oi=async()=>{if(vt.length===0)return;Tt(!0),We({text:"Validating...",type:"info"});const W=B.map(ze=>[...ze]);if(vt.forEach(ze=>{W[ze.r]&&(W[ze.r][ze.c]=ze.letter)}),vt.length>1){const ze=[...vt].sort((nt,qt)=>nt.r-qt.r||nt.c-qt.c),ht=ze[0],ke=ze[ze.length-1];if(ht.r===ke.r){for(let nt=ht.c;nt<=ke.c;nt++)if(!W[ht.r][nt]){Et("Cannot leave gaps between tiles.");return}}else for(let nt=ht.r;nt<=ke.r;nt++)if(!W[nt][ht.c]){Et("Cannot leave gaps between tiles.");return}}const ae=B.every(ze=>ze.every(ht=>ht===null));let Ee=!1,_e=!1;const ve=B[0].length;if(vt.forEach(ze=>{ze.c===0&&(Ee=!0),[{r:ze.r+1,c:ze.c},{r:ze.r-1,c:ze.c},{r:ze.r,c:ze.c+1},{r:ze.r,c:ze.c-1}].forEach(ke=>{ke.r>=0&&ke.r<Pr&&ke.c>=0&&ke.c<ve&&B[ke.r]&&B[ke.r][ke.c]&&(_e=!0)})}),ae&&!Ee){Et("First word must start in Column 1.");return}if(!ae&&!_e){Et("Tiles must connect to existing words.");return}const Ge=ki(W).filter(ze=>ze.cells.some(ht=>vt.some(ke=>ke.r===ht.r&&ke.c===ht.c)));if(Ge.length===0){Et("Words must be at least 2 letters.");return}try{const ze=[];for(const ht of Ge)await hi(ht.word)||ze.push(ht.word);if(ze.length>0){Et(`Invalid word(s): ${ze.join(", ")}`,ze[0]);return}Vi(W,Ge)}catch(ze){console.error(ze),Et("Error checking dictionary. Try again.")}},hi=async W=>{const ae=W.toLowerCase().trim(),Ee=ae.toUpperCase();if(Br.has(Ee)||oM.has(Ee))return!0;if(ae.length===2)return!1;try{const ve=`https://dictionaryapi.com/api/v3/references/collegiate/json/${encodeURIComponent(ae)}?key=4e64bca3-60b7-40bf-bcda-d8e496a67a7f`,He=await fetch(ve);if(!He.ok)return!1;const Ge=await He.json();return!Array.isArray(Ge)||Ge.length===0||typeof Ge[0]=="string"?!1:Ge.some(ht=>typeof ht!="object"||!ht.meta||ht.fl==="abbreviation"||ht.fl==="abbr"?!1:Array.isArray(ht.meta.stems)?ht.meta.stems.map(nt=>nt.toLowerCase()).includes(ae):!1)}catch(_e){return console.warn("M-W API Error:",_e),!0}},Cr=W=>{at(W),et(!0)},lr=async()=>{if(ut){try{const W=Nl(Dl,"missing_words");await Om(W,{word:ut.toUpperCase(),reportedBy:l,date:new Date().toISOString()}),ni(ae=>new Set(ae).add(ut.toUpperCase())),We({text:`Reported '${ut}' - You can use it now!`,type:"success"})}catch(W){console.error("Error reporting word:",W),We({text:"Could not report word.",type:"error"})}et(!1),at(null)}},ki=W=>{let ae=[];const Ee=B[0].length;for(let _e=0;_e<Pr;_e++){let ve="",He=[];for(let Ge=0;Ge<Ee;Ge++)W[_e]&&W[_e][Ge]?(ve+=W[_e][Ge],He.push({r:_e,c:Ge})):(ve.length>1&&ae.push({word:ve,cells:[...He],type:"H"}),ve="",He=[]);ve.length>1&&ae.push({word:ve,cells:[...He],type:"H"})}for(let _e=0;_e<Ee;_e++){let ve="",He=[];for(let Ge=0;Ge<Pr;Ge++)W[Ge]&&W[Ge][_e]?(ve+=W[Ge][_e],He.push({r:Ge,c:_e})):(ve.length>1&&ae.push({word:ve,cells:[...He],type:"V"}),ve="",He=[]);ve.length>1&&ae.push({word:ve,cells:[...He],type:"V"})}return ae},Et=(W,ae=null)=>{We({text:W,type:"error",invalidWord:ae}),Tt(!1),fn("error")},Vi=(W,ae)=>{fn("success");const Ee=JSON.parse(JSON.stringify(B));Yi(ke=>[...ke,...ae.map(nt=>nt.word)]),U(ke=>[...ke,{grid:Ee,hand:me.map(nt=>({...nt,isPlaced:!1})),score:_t,drawCount:Dt}]),$(W),Se(!0),setTimeout(()=>Se(!1),200);let _e=0,ve=0,He=null;ae.forEach(ke=>{ke.cells.forEach(nt=>{const qt=Dr(nt.r,nt.c),Or=vt.some(gr=>gr.r===nt.r&&gr.c===nt.c);qt&&Or&&(qt.type&&qt.type.startsWith("gift")?He=qt.type:qt.val&&(_e+=qt.val)),Wt.some(gr=>gr.r===nt.r&&gr.c===nt.c)&&ve++})});let Ge=me.filter(ke=>!ke.isPlaced);if(_e>0){const ke=tt.slice(Dt,Dt+_e).map(nt=>If(nt,!0));Ge=[...Ge,...ke],lt(nt=>nt+_e)}if(ve>0){const ke=Array(ve).fill(null).map(()=>If("*",!0));Ge=[...Ge,...ke]}if(Ge.sort((ke,nt)=>ke.letter.localeCompare(nt.letter)),he(Ge),He){const ke=tt.slice(Dt,Dt+(He==="gift_large"?5:He==="gift_medium"?4:3));setActiveGiftType(He),setActiveGiftPool(ke),setSelectedGiftIndices(new Set),setTimeout(()=>setShowGiftModal(!0),500)}else if(_e>0||ve>0){const ke=ve>0?`${ve} Wildcard${ve>1?"s":""} Unlocked!`:"",nt=_e>0?`+${_e} Tiles!`:"";We({text:`${ke} ${nt}`,type:"success"})}else We({text:"Valid move!",type:"success"});let ze=_t-1;vt.forEach(ke=>{ke.c>ze&&(ze=ke.c)});const ht=W[0].length;for(let ke=0;ke<Pr;ke++)for(let nt=0;nt<ht;nt++)W[ke]&&W[ke][nt]&&nt>ze&&(ze=nt);Tn(ze+1),wn([]),Tt(!1),sn(null),Ar(!1)},Rr=()=>{fn("click"),he(W=>[...W].sort(()=>Math.random()-.5))},Ki=()=>{fn("click"),he(W=>[...W].sort((ae,Ee)=>ae.letter!==Ee.letter?ae.letter.localeCompare(Ee.letter):ae.isNew===Ee.isNew?0:ae.isNew?1:-1))},ua=me.reduce((W,ae)=>(W[ae.letter]||(W[ae.letter]=[]),W[ae.letter].push(ae),W),{}),pr=Array.from(new Set(me.map(W=>W.letter))),di=pr.length>=6,mi=Math.ceil(pr.length/2),ur=di?pr.slice(0,mi):pr,pi=di?pr.slice(mi):[],gi=({letter:W})=>{const ae=ua[W]||[],Ee=ae.filter(ht=>!ht.isPlaced),_e=Math.min(Ee.length,15),ve=Ee[Ee.length-1];if(ae.length>0&&_e===0)return R.createElement("div",{className:"w-10 h-10 rounded-lg border-2 border-dashed",style:{backgroundColor:j.boardBackground+"40",borderColor:j.boardLines}});if(_e===0)return null;const He=ve&&Kt===ve.id,Ge=6,ze=40+(_e>1?(_e-1)*Ge:0);return R.createElement("div",{className:"relative w-10 flex items-end",style:{height:`${ze}px`}},[...Array(_e-1)].map((ht,ke)=>{const qt=(W.charCodeAt(0)+ke)%7-3;return R.createElement("div",{key:ke,className:"absolute w-10 h-10 rounded-lg border transition-all shadow-md",style:{backgroundColor:"#e5e7eb",borderColor:"rgba(0,0,0,0.1)",bottom:`${ke*Ge}px`,zIndex:ke,transform:`rotate(${qt}deg)`}})}),R.createElement("button",{draggable:!on&&i==="playing",onDragStart:ht=>Qi(ht,{type:"hand",tile:ve}),onClick:()=>la(ve.id),className:`absolute w-10 h-10 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-[0_4px_6px_rgba(0,0,0,0.3)] transition-all ${i==="playing"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,style:{bottom:`${(_e-1)*Ge}px`,zIndex:_e,backgroundColor:He?j.accentPrimary:W==="*"?j.tileTemp:"white",color:He?"white":"#1f2937",transform:He?"translateY(-12px) rotate(0deg)":`translateY(0) rotate(${He?0:W.charCodeAt(0)%5-2}deg)`}},ve&&ve.isNew&&R.createElement("div",{className:"absolute -top-3 -right-2 bg-green-600 text-white text-[8px] font-black px-1.5 py-0.5 rounded-full shadow-sm z-50 tracking-tighter"},"NEW"),W==="*"?R.createElement(bf,{size:20,fill:j.starPurple,className:"text-purple-500"}):W))};return i==="menu"?R.createElement("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto transition-colors duration-300",style:{backgroundColor:j.background,color:j.textMain}},R.createElement("div",{className:"fixed top-4 right-4 z-[60]"},R.createElement("button",{onClick:()=>b(!0),className:"p-2 rounded-full hover:bg-black/5 transition-colors bg-white/50 backdrop-blur-sm shadow-sm",style:{color:j.textSub}},R.createElement(g0,{size:24}))),R.createElement("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch relative"},R.createElement("div",{className:"space-y-4 flex flex-col items-center w-full mt-6"},R.createElement(Z_,null),R.createElement("div",{className:"flex items-center gap-2 text-xs font-bold tracking-widest uppercase text-gray-400 mt-4"},R.createElement("span",null,"Refreshed Daily"),R.createElement(ym,{size:12,className:"text-yellow-500 fill-yellow-500 animate-[spin_4s_linear_infinite]"})),R.createElement("div",{className:"flex flex-col gap-1 items-center"},R.createElement("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:j.textSub}},"Jump as far as you can by building words, connecting tiles and picking up extra letters."),R.createElement("div",{className:"text-xs font-bold px-3 py-1 rounded-full border mt-2",style:{backgroundColor:j.tileLocked,color:j.accentSecondary,borderColor:j.accentPrimary}},"Today's Par: ",Kn,"m"))),R.createElement("div",{className:"w-full max-w-xs space-y-2 group"},R.createElement("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:j.textSub}},"Enter your name"),R.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),placeholder:"Player 1",maxLength:12,className:"w-full border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{backgroundColor:j.modalBg,color:j.textMain,borderColor:"transparent"},onFocus:W=>W.target.style.borderColor=j.accentPrimary,onBlur:W=>W.target.style.borderColor="transparent"})),R.createElement("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs sm:max-w-md justify-center"},R.createElement("button",{onClick:()=>_n("standard"),className:"flex-1 py-2 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex items-center justify-center gap-2 text-white",style:{backgroundColor:j.accentPrimary}},"Play ",R.createElement(xT,{size:20,fill:"currentColor"})),R.createElement("button",{onClick:()=>_n("maze"),className:"flex-1 py-2 rounded-2xl font-black text-lg uppercase shadow-lg hover:-translate-y-1 active:translate-y-0 transition-all flex flex-col items-center justify-center gap-0 text-white",style:{backgroundColor:"#d97706"}},R.createElement("span",null,"MAZE MODE"),R.createElement("span",{className:"text-[10px] font-bold text-orange-100/80 tracking-widest"},"HARDCORE"))),R.createElement("div",{className:"flex flex-col items-center gap-3 mt-2 w-full"},R.createElement("div",{className:"flex flex-row items-center justify-center gap-4"},R.createElement("button",{onClick:()=>w(!0),className:"group flex items-center gap-2 px-3 py-2 rounded-full font-bold text-xs transition-colors shadow-sm whitespace-nowrap",style:{backgroundColor:j.tileLocked,color:j.textSub},title:"Updates"},R.createElement(kT,{size:14})),R.createElement("a",{href:"https://www.richardbolland.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-xs hover:opacity-80 border-b border-gray-500 transition-colors pb-0.5 whitespace-nowrap",style:{color:j.textSub}},"By Richard Bolland"),R.createElement("span",{style:{color:j.boardLines}},"|"),R.createElement("a",{href:"https://pay.yoco.com/richard-bolland",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-2 px-4 py-2 bg-pink-50 rounded-full text-pink-600 font-bold text-xs hover:bg-pink-100 transition-colors shadow-sm whitespace-nowrap"},R.createElement(TT,{size:14,className:"fill-pink-600"}),R.createElement("span",null,"Tip Jar"))),R.createElement("span",{className:"text-[10px] text-center max-w-xs leading-tight",style:{color:j.textSub}},"Help cover server costs & keep the game running.")),R.createElement("div",{className:"block lg:hidden w-full h-full min-h-[300px]"},R.createElement(Lm,{user:ei,lastUpdated:oe,initialMode:"standard",onParCalculated:Ea,theme:j}))),R.createElement("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch"},R.createElement(Lm,{user:ei,lastUpdated:oe,initialMode:"standard",onParCalculated:Ea,theme:j})),p&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4 pointer-events-auto"},R.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar bg-white",style:{backgroundColor:j.modalBg}},R.createElement("div",{className:"flex justify-between items-center mb-6"},R.createElement("h3",{className:"text-xl font-black uppercase",style:{color:j.textMain}},"Settings"),R.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:j.textSub}},R.createElement(vm,{size:24}))),R.createElement("div",{className:"space-y-6"},R.createElement("div",null,R.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:j.textSub}},"Username"),R.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),maxLength:12,className:"w-full border-2 px-4 py-3 rounded-xl font-bold outline-none transition-all bg-gray-50",style:{borderColor:j.boardLines,color:j.textMain}})),R.createElement("div",{className:"space-y-4"},R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement(y0,{size:20,className:"text-yellow-500"}),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Dark Mode")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:be,onChange:()=>Le(!be)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement(_0,{size:20,className:"text-blue-500"}),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Sound Effects")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>te(!G)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement(_m,{size:20,className:"text-orange-500"}),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Haptics")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>De(!z)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement("span",{className:"text-xl"},""),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Crowd Fans")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:x,onChange:()=>O(!x)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})))),R.createElement("div",{className:"pt-4 border-t",style:{borderColor:j.boardLines}},R.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:j.textSub}},"Make a Suggestion"),R.createElement("textarea",{value:I,onChange:W=>P(W.target.value),className:"w-full border-2 px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24 bg-gray-50",style:{borderColor:j.boardLines,color:j.textMain},placeholder:"Ideas..."}),R.createElement("button",{onClick:ie,disabled:N!=="idle"||!I.trim(),className:"w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm bg-gray-500 text-white"},"Submit Suggestion"))))),E&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},R.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},R.createElement("div",{className:"border-l-2 pl-3",style:{borderColor:"#D97706"}},R.createElement("div",{className:"text-xs font-bold uppercase",style:{color:"#D97706"}},"v9.10"),R.createElement("div",{className:"font-bold",style:{color:j.textMain}},"Maze Mode Arrives!"),R.createElement("p",{className:"text-xs",style:{color:j.textSub}},"New hardcore mode! Navigate dense obstacles with big rewards!."),R.createElement("ul",{className:"text-[10px] list-disc list-inside mt-1",style:{color:j.textSub}},R.createElement("li",null,'New "Maze" Leaderboard'),R.createElement("li",null,"End Game Word List & Stats"))),R.createElement("div",{className:"border-l-2 pl-3 border-gray-200"},R.createElement("div",{className:"text-xs font-bold uppercase text-gray-400"},"v9.01"),R.createElement("div",{className:"font-bold",style:{color:j.textSub}},"Christmas Mode (Archived)"),R.createElement("p",{className:"text-xs",style:{color:j.textSub}},"New Gift Boxes, Secret Rewards, and festive fixes.")),R.createElement("div",{className:"border-l-2 border-gray-200 pl-3"},R.createElement("div",{className:"text-xs font-bold text-gray-400 uppercase"},"v8.11"),R.createElement("div",{className:"font-bold",style:{color:j.textSub}},"Dictionary Upgrade"),R.createElement("p",{className:"text-xs",style:{color:j.textSub}},"Now powered by Merriam-Webster Collegiate Dictionary!"))),R.createElement("button",{onClick:()=>w(!1),className:"w-full mt-6 py-3 rounded-xl font-bold uppercase tracking-widest transition-all",style:{backgroundColor:j.boardLines,color:j.textMain}},"Close")))):R.createElement("div",{className:"h-[100dvh] w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center overflow-hidden relative transition-colors duration-300",style:{backgroundColor:j.background,color:j.textMain}},i==="gameOver"&&!Ae&&R.createElement("div",{className:"absolute inset-0 z-[100] bg-black/40 backdrop-blur-sm flex flex-col lg:flex-row items-center justify-start lg:justify-center p-6 gap-6 lg:gap-12 overflow-y-auto animate-fade-in pt-20 lg:pt-6"},R.createElement(yM,{theme:j}),R.createElement("div",{className:"backdrop-blur-md p-8 rounded-3xl shadow-2xl text-center border max-w-md w-full flex flex-col relative z-[101]",style:{backgroundColor:j.modalBg+"EE",borderColor:j.boardLines}},R.createElement("h3",{className:"text-xl font-black uppercase tracking-widest mb-6",style:{color:j.textMain}},"STATISTICS"),R.createElement("div",{className:"flex justify-between items-start mb-8 px-1 gap-1"},R.createElement("div",{className:"flex flex-col items-center"},R.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ar?.gamesPlayed||0),R.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Played")),R.createElement("div",{className:"flex flex-col items-center"},R.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ar?.currentStreak||0),R.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Current",R.createElement("br",null),"Streak")),R.createElement("div",{className:"flex flex-col items-center"},R.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ar?.maxStreak||0),R.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Max",R.createElement("br",null),"Streak")),R.createElement("div",{className:"flex flex-col items-center"},R.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},ar?.gamesPlayed>0?Math.round(ar.totalDistance/ar.gamesPlayed):0,"m"),R.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Avg",R.createElement("br",null),"Dist")),R.createElement("div",{className:"flex flex-col items-center"},R.createElement("span",{className:"text-2xl md:text-3xl font-black mb-1",style:{color:j.textMain}},(ar?.totalDistance||0)>=1e3?(ar.totalDistance/1e3).toFixed(1)+"k":(ar?.totalDistance||0)+"m"),R.createElement("span",{className:"text-[9px] md:text-[10px] font-bold uppercase tracking-wide leading-tight",style:{color:j.textSub}},"Total",R.createElement("br",null),"Dist"))),R.createElement("div",{className:"rounded-2xl overflow-hidden mb-6 shadow-sm border",style:{backgroundColor:j.settingsBg,borderColor:j.boardLines}},R.createElement("div",{className:"flex border-b",style:{borderColor:j.boardLines}},R.createElement("div",{className:"flex-1 p-4 border-r",style:{borderColor:j.boardLines}},R.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:j.textSub}},"Athlete"),R.createElement("div",{className:"text-xl font-black truncate",style:{color:j.textMain}},l)),R.createElement("div",{className:"flex-1 p-4 bg-black/5"},R.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-1 opacity-60",style:{color:j.textSub}},"Distance"),R.createElement("div",{className:"text-3xl font-black",style:{color:j.accentPrimary}},mn,"m"))),R.createElement("div",{className:"p-4 bg-white/50"},R.createElement("div",{className:"text-[10px] font-bold uppercase tracking-widest mb-2 opacity-60 text-left",style:{color:j.textSub}},"Words Found (",Gi.length,")"),R.createElement("div",{className:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scrollbar content-start"},Gi.length>0?Gi.map((W,ae)=>R.createElement("span",{key:ae,className:"px-2 py-1 rounded text-[10px] font-bold border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain}},W)):R.createElement("span",{className:"text-xs italic opacity-50"},"No words found yet.")))),R.createElement("div",{className:"flex flex-col gap-3"},R.createElement("button",{onClick:pn,className:"w-full py-4 border-2 rounded-xl font-bold text-lg uppercase tracking-widest transition-all shadow-sm flex items-center justify-center gap-2 hover:opacity-80",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain}},V?R.createElement(R.Fragment,null,R.createElement(uT,{size:20})," Copied"):R.createElement(R.Fragment,null,R.createElement(LT,{size:20})," Share Result")),R.createElement("div",{className:"flex gap-2"},R.createElement("button",{onClick:$n,className:"flex-1 py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg",style:{backgroundColor:"#111827"}},"Play Again"),R.createElement("button",{onClick:()=>xe(!0),className:"flex-none px-4 py-4 border-2 rounded-xl hover:opacity-80 shadow-sm transition-all flex items-center justify-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines,color:j.textMain},title:"View Board"},R.createElement(bT,{size:24}))))),R.createElement("div",{className:"w-full max-w-sm lg:h-[600px] z-[101] relative"},R.createElement(Lm,{highlightName:l,user:ei,onRankFound:_,lastUpdated:oe,initialMode:r,onParCalculated:Ea,theme:j}))),Ot&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},R.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("h3",{className:"text-xl font-black mb-4 uppercase",style:{color:j.textMain}},"Pick a Letter"),R.createElement("div",{className:"grid grid-cols-6 gap-2"},Object.keys(S1).filter(W=>W!=="*").map(W=>R.createElement("button",{key:W,onClick:()=>Ta(W),className:"w-10 h-10 rounded-lg font-bold text-xl shadow-sm hover:scale-110 transition-transform border",style:{backgroundColor:j.tileTemp,borderColor:j.tileTempRing,color:j.textMain}},W))),R.createElement("button",{onClick:()=>{Hn(!1),Zr(null)},className:"mt-6 text-sm font-bold hover:opacity-80",style:{color:j.textSub}},"Cancel"))),Ue&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},R.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("div",{className:"flex justify-center mb-4"},R.createElement("div",{className:"bg-yellow-100 p-3 rounded-full"},R.createElement(m0,{size:32,className:"text-yellow-600"}))),R.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:j.textMain}},"Report Missing Word"),R.createElement("p",{className:"mb-4 text-sm font-bold",style:{color:j.textMain}},'"',ut,'"'),R.createElement("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 mb-6 text-left"},R.createElement("p",{className:"text-xs text-red-700 leading-relaxed font-medium"},R.createElement("strong",null," Warning:")," Moderators check all reported words. If you abuse this feature to create fake words, your high scores will be deleted.")),R.createElement("div",{className:"flex gap-3"},R.createElement("button",{onClick:()=>{et(!1),at(null)},className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),R.createElement("button",{onClick:lr,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-yellow-500 hover:bg-yellow-600"},"Report & Add")))),Y&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},R.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border text-center",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("div",{className:"flex justify-center mb-4"},R.createElement("div",{className:"bg-blue-100 p-3 rounded-full"},R.createElement(p0,{size:32,className:"text-blue-600"}))),R.createElement("h3",{className:"text-xl font-black mb-2 uppercase",style:{color:j.textMain}},"Use Undo?"),R.createElement("p",{className:"mb-6 text-sm",style:{color:j.textSub}},"You can only use Undo ",R.createElement("strong",{style:{color:j.accentPrimary}},"once per turn"),". ",R.createElement("br",null),R.createElement("br",null),"Are you sure you want to go back?"),R.createElement("div",{className:"flex gap-3"},R.createElement("button",{onClick:()=>H(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),R.createElement("button",{onClick:Ni,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-blue-500 hover:bg-blue-600"},"Confirm Undo")))),(Ft||Nn)&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4"},R.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border relative",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 p-4 rounded-full shadow-xl",style:{backgroundColor:j.modalBg}},R.createElement(oT,{size:48,style:{color:j.accentPrimary}})),R.createElement("h3",{className:"text-2xl font-black mt-8 mb-4 uppercase tracking-tight",style:{color:j.textMain}},"Game Rules"),R.createElement("div",{className:"text-left mb-6 text-sm space-y-3",style:{color:j.textSub}},R.createElement("p",{className:"flex gap-2"},R.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),R.createElement("span",null,"This is a ",R.createElement("strong",null,"daily seeded game"),". Everyone gets the same letters and board - refreshed daily.")),R.createElement("p",{className:"flex gap-2"},R.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),R.createElement("span",null,"Place words ",R.createElement("strong",null,"Left to Right")," or ",R.createElement("strong",null,"Top to Bottom")," (Scrabble rules).")),R.createElement("p",{className:"flex gap-2"},R.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),R.createElement("span",null,"Minimum ",R.createElement("strong",null,"2 letter")," words.")),R.createElement("p",{className:"flex gap-2"},R.createElement("span",{className:"font-bold",style:{color:j.textMain}},""),R.createElement("span",null,"Start in ",R.createElement("strong",null,"Column 1")," (left).")),R.createElement("p",{className:"flex gap-2 items-center"},R.createElement(ym,{size:16,className:"text-yellow-500 fill-yellow-500"}),R.createElement("span",null,R.createElement("strong",null,"Yellow Stars:")," Give +1, +2, or +3 random letters.")),R.createElement("p",{className:"flex gap-2 items-center"},R.createElement(bf,{size:16,className:"text-purple-500 fill-purple-500"}),R.createElement("span",null,R.createElement("strong",null,"Purple Sparkles:")," Give you a blank Wildcard tile!")),R.createElement("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg mt-2"},R.createElement("p",{className:"text-xs text-yellow-800 font-bold mb-1 flex items-center gap-1"},R.createElement(_m,{size:10,fill:"currentColor"})," HANDY TIP:"),R.createElement("p",{className:"text-xs text-yellow-800"},"Stars act like ",R.createElement("b",null,"Double Word Scores")," in Scrabble! If you place a vertical AND horizontal word over a star, you get double the letters."))),R.createElement("button",{onClick:()=>{Mn(!1),Dn(!1)},className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:j.accentPrimary}},Ft?"Let's Jump!":"Close"))),Lt&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},R.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("div",{className:"flex justify-center mb-4"},R.createElement("div",{className:"bg-red-100 p-3 rounded-full"},R.createElement(RT,{size:32,className:"text-red-500"}))),R.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:j.textMain}},"Exit Game?"),R.createElement("p",{className:"mb-8",style:{color:j.textSub}},"Are you sure you want to quit? You will lose your current progress."),R.createElement("div",{className:"flex gap-3"},R.createElement("button",{onClick:()=>Qn(!1),className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),R.createElement("button",{onClick:ka,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all bg-red-500 hover:bg-red-600"},"Exit")))),jt&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in"},R.createElement("div",{className:"rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border",style:{backgroundColor:j.modalBg,borderColor:j.boardLines}},R.createElement("h3",{className:"text-2xl font-black mb-2",style:{color:j.textMain}},"Submit Score?"),R.createElement("p",{className:"mb-8",style:{color:j.textSub}},"You reached column ",R.createElement("strong",{style:{color:j.accentPrimary}},_t),". This will end your current run."),R.createElement("div",{className:"flex gap-3"},R.createElement("button",{onClick:wa,className:"flex-1 py-3 rounded-xl font-bold hover:opacity-80 transition-colors",style:{backgroundColor:j.boardLines,color:j.textSub}},"Cancel"),R.createElement("button",{onClick:zn,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:j.accentPrimary}},"Confirm")))),p&&R.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4 pointer-events-auto"},R.createElement("div",{className:"rounded-2xl p-6 shadow-2xl max-w-sm w-full border max-h-[85vh] overflow-y-auto custom-scrollbar bg-white",style:{backgroundColor:j.modalBg}},R.createElement("div",{className:"flex justify-between items-center mb-6"},R.createElement("h3",{className:"text-xl font-black uppercase",style:{color:j.textMain}},"Settings"),R.createElement("button",{onClick:()=>b(!1),className:"hover:opacity-70",style:{color:j.textSub}},R.createElement(vm,{size:24}))),R.createElement("div",{className:"space-y-6"},R.createElement("div",null,R.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:j.textSub}},"Username"),R.createElement("input",{type:"text",value:l,onChange:W=>c(W.target.value),maxLength:12,className:"w-full border-2 px-4 py-3 rounded-xl font-bold outline-none transition-all bg-gray-50",style:{borderColor:j.boardLines,color:j.textMain}})),R.createElement("div",{className:"space-y-4"},R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement(y0,{size:20,className:"text-yellow-500"}),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Dark Mode")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:be,onChange:()=>Le(!be)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement(_0,{size:20,className:"text-blue-500"}),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Sound Effects")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:G,onChange:()=>te(!G)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement(_m,{size:20,className:"text-orange-500"}),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Haptics")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:z,onChange:()=>De(!z)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"}))),R.createElement("div",{className:"flex items-center justify-between"},R.createElement("div",{className:"flex items-center gap-3"},R.createElement("span",{className:"text-xl"},""),R.createElement("span",{className:"font-bold text-sm",style:{color:j.textMain}},"Crowd Fans")),R.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},R.createElement("input",{type:"checkbox",className:"sr-only peer",checked:x,onChange:()=>O(!x)}),R.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})))),R.createElement("div",{className:"pt-4 border-t",style:{borderColor:j.boardLines}},R.createElement("label",{className:"text-xs font-bold uppercase tracking-widest mb-2 block",style:{color:j.textSub}},"Make a Suggestion"),R.createElement("textarea",{value:I,onChange:W=>P(W.target.value),className:"w-full border-2 px-4 py-3 rounded-xl font-medium text-sm outline-none transition-all resize-none h-24 bg-gray-50",style:{borderColor:j.boardLines,color:j.textMain},placeholder:"Ideas..."}),R.createElement("button",{onClick:ie,disabled:N!=="idle"||!I.trim(),className:"w-full mt-2 py-3 rounded-xl font-bold uppercase tracking-widest text-xs transition-all shadow-sm bg-gray-500 text-white"},"Submit Suggestion"))))),R.createElement("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-start shrink-0 relative z-50"},R.createElement("div",{className:"flex flex-col items-start"},R.createElement("div",{className:"hidden md:block text-sm font-bold tracking-widest",style:{color:j.textSub}},new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()),zr&&R.createElement("div",{className:"hidden md:flex items-center gap-2 mt-1 text-[10px] animate-fade-in whitespace-nowrap"},R.createElement("span",{className:"font-bold uppercase tracking-widest",style:{color:j.textSub}},r==="quick"?"Quick Leader":"Standard Leader"),R.createElement(Um,{size:12,className:"text-yellow-500 fill-yellow-500"}),R.createElement("span",{className:"font-bold",style:{color:j.textMain}},zr.name),R.createElement("span",{className:"font-mono",style:{color:j.textSub}},zr.score,"m")),R.createElement("div",{className:"block md:hidden"},_t>0&&i==="playing"&&R.createElement("button",{onClick:or,disabled:on||Pe,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"}},"END RUN ",R.createElement(v0,{size:10,style:{color:Vm.starGold}})),i==="gameOver"&&Ae&&R.createElement("button",{onClick:()=>xe(!1),className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:j.accentPrimary,color:"white"}},R.createElement(d0,{size:12})," RESULTS"))),R.createElement("div",{className:"flex flex-col items-center flex-1"},R.createElement("div",{className:"hidden md:block w-64 cursor-pointer hover:opacity-80 transition-opacity mb-2",onClick:es},R.createElement(Z_,null)),R.createElement("div",{className:"hidden md:block mt-6"},i==="playing"&&_t>0&&R.createElement("button",{onClick:or,disabled:on||Pe,className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"}},"END RUN ",R.createElement(v0,{size:10,style:{color:Vm.starGold}})),i==="gameOver"&&Ae&&R.createElement("button",{onClick:()=>xe(!1),className:"px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:j.accentPrimary}},R.createElement(d0,{size:14})," BACK TO RESULTS"))),R.createElement("div",{className:"flex flex-col items-end w-32 gap-1"},R.createElement("span",{className:"text-xs font-bold tracking-widest",style:{color:j.accentPrimary}},l||"PLAYER 1"),R.createElement("div",{className:"flex items-center gap-1 font-black text-lg",style:{color:j.accentPrimary}},R.createElement(DT,{size:16})," ",mn,"m"),R.createElement("div",{className:"flex gap-2"},R.createElement("button",{onClick:()=>Dn(!0),className:"text-[10px] font-bold hover:opacity-70 uppercase tracking-widest flex items-center gap-1",style:{color:j.textSub}},"Rules ",R.createElement(ST,{size:12})),R.createElement("button",{onClick:()=>b(!0),className:"hover:opacity-70",style:{color:j.textSub}},R.createElement(g0,{size:14}))))),R.createElement("div",{className:"flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 landscape:mt-0",onMouseDown:oa,onMouseLeave:Di,onMouseUp:nr,onMouseMove:si},R.createElement("div",{ref:cn,className:`w-full overflow-x-auto overflow-y-visible custom-scrollbar flex items-center landscape:h-full no-scrollbar relative z-0 ${Xi?"cursor-grabbing":"cursor-grab"} py-4`,style:{userSelect:"none"}},R.createElement("div",{className:"relative p-1 mx-4 pt-16 pb-16",style:{width:"fit-content",minWidth:"fit-content"},id:"board-capture-area"},R.createElement("div",{className:"absolute top-0 bottom-0 border-r-2 border-red-400 border-dashed z-20 pointer-events-none opacity-60",style:{left:`${Kn*xa}px`}},R.createElement("span",{className:"absolute top-[-20px] right-0 translate-x-1/2 text-red-500 text-[10px] font-black tracking-widest"},"PAR")),R.createElement("div",{className:"flex relative mb-3",style:{width:`${B[0].length*xa}px`,height:"24px"}},Array(B[0].length).fill(0).map((W,ae)=>{const Ee=ae===0,_e=(ae+1)%5===0;if(!Ee&&!_e)return null;const ve=_t<3;return R.createElement("div",{key:`ruler-${ae}`,className:"absolute bottom-0 font-bold select-none transform -translate-x-1/2 text-center flex flex-col items-center justify-end transition-transform duration-1000 ease-in-out",style:{left:ae*xa+xa/2,transform:`translateX(-50%) ${Ee&&ve?"translateY(-45px)":"translateY(0)"}`}},R.createElement("span",{className:"text-xs tracking-wider",style:{color:Ee?j.textMain:j.textSub}},Ee?"START":`${ae+1}m`),R.createElement("div",{className:"w-0.5 h-1.5 mt-0.5",style:{backgroundColor:Ee?j.textMain:j.boardLines}}))})),R.createElement("div",{className:"relative"},R.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},x&&Wn.filter(W=>W.type==="top").map((W,ae)=>{const Ee=Math.max(W.startCol,_t+W.offset);return R.createElement("div",{key:`fan-top-${W.id}`,className:"absolute -top-[55px]",style:{left:`${Ee*xa}px`,transition:"left 1.2s ease-in-out",zIndex:50}},R.createElement(eb,{trigger:ge}))})),R.createElement("div",{className:"relative z-10 grid gap-0 rounded-xl shadow-inner border-4",style:{gridTemplateColumns:`repeat(${B[0].length}, ${xa}px)`,gridTemplateRows:`repeat(${Pr}, ${xa}px)`,backgroundColor:j.boardBackground,borderColor:j.boardLines}},Array(Pr).fill(0).map((W,ae)=>Array(B[0].length).fill(0).map((Ee,_e)=>{const ve=ci(ae,_e),He=Dr(ae,_e),Ge=fi(ae,_e),ze=Wt.some(Ai=>Ai.r===ae&&Ai.c===_e),ke=_e===0&&!ve&&!Oa,nt=ve?.type==="locked",qt=(_e+1)%5===0,Or=_e<mn,gr=St&&St.r===ae&&St.c===_e,Aa=on&&nt?"animate-jump-green":"";return R.createElement("div",{key:`${ae}-${_e}`,onClick:()=>li(ae,_e),onDragOver:Hr,onDrop:Ai=>Va(Ai,ae,_e),className:`relative flex items-center justify-center transition-all duration-300 w-full h-full ${ve?ve.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":Ge?"cursor-not-allowed":"hover:bg-white/20"}  ${ve?.type==="temp"?`bg-[${j.tileTemp}] ring-2 ring-[${j.tileTempRing}] -translate-y-[2px] z-10`:""} ${!ve&&!Ge&&Or?"bg-white/20":_e===0&&!ve?"bg-green-100/40":!ve&&!Ge&&!ke&&(ae+_e)%2===0?"bg-black/5":"bg-transparent"} ${gr?"ring-4 ring-blue-400 z-20":""} ${!ve&&gr?"bg-blue-50/20":""} ${!ve&&qt?"border-r-2 border-r-black/10":"border border-black/5"} ${Or?"animate-pop-green":""} ${Aa}`,style:{...nt?{backgroundColor:Or?j.overlayComplete:j.tileLocked,color:j.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)",animationDelay:on?`${_e*50}ms`:"0ms"}:ve?.type==="temp"?{backgroundColor:ve.isWild?j.tileWildPlaced:j.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:Ge?{backgroundColor:j.tileObstacle,borderRadius:"8px",backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px)"}:r==="maze"&&(_e===14||_e===29)?{backgroundColor:"#fef08a",borderLeft:"2px solid #eab308",borderRight:"2px solid #eab308"}:{}}},!ve&&ke&&R.createElement("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none z-10"},R.createElement(pT,{size:20,style:{color:j.startArrow}})),!ve&&Ge&&R.createElement("div",{className:"tile-obstacle absolute inset-0 flex items-center justify-center opacity-40 pointer-events-none z-10"}),!ve&&He&&!Ge&&!ze&&R.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none z-10"},R.createElement(ym,{className:"w-6 h-6",fill:j.starGold,stroke:j.starGold}),R.createElement("span",{className:"text-[16px] font-black mt-[-2px]",style:{color:"#000000"}},"+",He.val)),!ve&&ze&&!Ge&&R.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10 animate-pulse"},R.createElement(bf,{className:"w-7 h-7",fill:j.starPurple,stroke:j.starPurple})),ve&&R.createElement("div",{draggable:ve.type==="temp"&&!on&&i==="playing",onDragStart:Ai=>Qi(Ai,{type:"board",r:ae,c:_e,letter:ve.letter}),className:`w-full h-full flex items-center justify-center ${ve.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`},R.createElement("span",{className:"text-2xl font-bold select-none font-mono"},ve.letter),ve.isWild&&R.createElement(bf,{size:12,className:"absolute top-0.5 right-0.5 text-purple-500 fill-purple-500"})))}))),R.createElement("div",{className:"absolute top-0 left-0 w-full h-full z-30 pointer-events-none"},x&&Wn.filter(W=>W.type==="bottom").map((W,ae)=>{const Ee=Math.max(W.startCol,_t+W.offset);return R.createElement("div",{key:`fan-bottom-${W.id}`,className:"absolute -bottom-[35px]",style:{left:`${Ee*xa}px`,transition:"left 1.2s ease-in-out",zIndex:50}},R.createElement(eb,{trigger:ge}))}))),tr&&R.createElement("div",{className:"absolute top-1/2 left-14 z-50 -translate-y-1/2 animate-bounce-horizontal pointer-events-none"},R.createElement("div",{className:"bg-black text-white text-xs font-bold px-3 py-2 rounded-lg shadow-xl flex items-center gap-2 whitespace-nowrap relative"},R.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-black rotate-45"}),R.createElement(dT,{size:16}),"Start Here!"))))),R.createElement("div",{className:"w-full max-w-4xl px-4 pb-4 md:pb-10 landscape:pb-2 flex flex-col items-center shrink-0 relative z-50"},R.createElement("div",{className:"w-full flex flex-col-reverse md:flex-row items-center justify-between gap-2 md:gap-4 mb-2 md:mb-4"},R.createElement("div",{className:`px-4 py-3 rounded-lg text-xs md:text-sm font-bold transition-colors shadow-sm w-full md:w-auto text-center flex items-center justify-center gap-2 ${qe.type==="error"?"bg-red-100 text-red-700":qe.type==="success"?"bg-green-100 text-green-800":"bg-white text-gray-600"}`},R.createElement("span",null,Pe?"Checking...":qe.text),qe.type==="error"&&qe.invalidWord&&R.createElement("button",{onClick:()=>Cr(qe.invalidWord),className:"ml-2 px-2 py-0.5 rounded text-[10px] uppercase tracking-wide flex items-center gap-1 transition-colors hover:opacity-80",style:{backgroundColor:j.accentPrimary,color:"white"}},"Report ",R.createElement(m0,{size:10}))),R.createElement("div",{className:"flex gap-2 md:gap-4 items-center flex-wrap justify-center"},R.createElement("button",{onClick:ai,disabled:on||Ce.length===0||i!=="playing",className:"flex items-center gap-2 px-3 py-2 md:px-4 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain},title:"Undo last move"},R.createElement(p0,{size:16})),R.createElement("button",{onClick:Rr,disabled:on||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain}},R.createElement(zT,{size:16})," Shuffle"),R.createElement("button",{onClick:Ki,disabled:on||i!=="playing",className:"flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:shadow-md hover:opacity-90 transition-all uppercase tracking-wider disabled:opacity-50",style:{backgroundColor:j.modalBg,color:j.textMain}},R.createElement(iT,{size:16})," Sort A-Z"),vt.length>0&&R.createElement("button",{onClick:Oi,disabled:Pe||on||i!=="playing",className:`flex items-center gap-2 px-6 md:px-8 py-2 md:py-3 rounded-xl font-black text-xs md:text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all ${Pe||on?"bg-gray-400 text-gray-200 cursor-wait":""}`,style:Pe||on?{}:{backgroundColor:j.accentPrimary,color:"white"}},Pe?"Checking...":"JUMP"," ",R.createElement(fT,{size:18,strokeWidth:4})),vt.length>0&&R.createElement("button",{onClick:mr,disabled:on||i!=="playing",className:"flex items-center gap-2 px-3 md:px-4 py-2 md:py-3 bg-red-100 text-red-600 rounded-xl font-bold text-xs md:text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50"},R.createElement(vm,{size:16})))),R.createElement("div",{onDragOver:Hr,onDrop:ui,className:"flex flex-col items-center justify-center gap-4 p-4 rounded-2xl shadow-inner min-h-[140px] md:min-h-[160px] w-full transition-colors",style:{backgroundColor:j.handBg}},pr.length===0&&R.createElement("div",{className:"italic",style:{color:j.textSub}},"Empty Hand"),pr.length<6?R.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},pr.map(W=>R.createElement(gi,{key:W,letter:W}))):R.createElement("div",{className:"flex flex-col gap-2 w-full items-center"},R.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},ur.map(W=>R.createElement(gi,{key:W,letter:W}))),R.createElement("div",{className:"flex gap-3 flex-wrap justify-center items-end"},pi.map(W=>R.createElement(gi,{key:W,letter:W})))))),R.createElement("style",null,`
        .custom-scrollbar::-webkit-scrollbar { height: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,0.2); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .animate-pulse-slow { animation: pulse-slow 3s infinite ease-in-out; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        .animate-flash-orange { animation: flash-orange 0.6s ease-in-out infinite; }
        .animate-pop-green { animation: pop-green 0.3s ease-out forwards; }
        .animate-jump-green { animation: jump-green 0.6s ease-in-out forwards; }
        .animate-bounce-horizontal { animation: bounce-horizontal 1s infinite; }
        @keyframes bounce-horizontal { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(25%); } }
        @keyframes pop-green { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes jump-green { 0% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } 20% { transform: translateY(-12px) scale(1.1); background-color: #59AD20; color: white; border-color: #59AD20; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 40% { transform: translateY(0) scale(1); background-color: #59AD20; color: white; } 80% { background-color: #59AD20; color: white; } 100% { transform: translateY(0); background-color: #f8f5ed; color: #111827; } }
        @keyframes pulse-white { 0%, 100% { background-color: rgba(255,255,255,0.05); } 50% { background-color: rgba(255,255,255,0.7); } }
        @keyframes pulse-slow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes flash-orange { 0%, 100% { background-color: #f8f5ed; color: black; } 50% { background-color: #f97316; color: white; border-color: #f97316; } }
      `))}$w.createRoot(document.getElementById("root")).render(R.createElement(Be.StrictMode,null,R.createElement(vM,null)));
