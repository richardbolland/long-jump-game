(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var nm={exports:{}},Nu={};var jv;function RT(){if(jv)return Nu;jv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Nu.Fragment=e,Nu.jsx=i,Nu.jsxs=i,Nu}var Bv;function CT(){return Bv||(Bv=1,nm.exports=RT()),nm.exports}var pe=CT(),im={exports:{}},Et={};var Fv;function IT(){if(Fv)return Et;Fv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),F=Symbol.iterator;function te(L){return L===null||typeof L!="object"?null:(L=F&&L[F]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Me=Object.assign,be={};function Pe(L,ie,Te){this.props=L,this.context=ie,this.refs=be,this.updater=Te||k}Pe.prototype.isReactComponent={},Pe.prototype.setState=function(L,ie){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ie,"setState")},Pe.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Ne(){}Ne.prototype=Pe.prototype;function ze(L,ie,Te){this.props=L,this.context=ie,this.refs=be,this.updater=Te||k}var je=ze.prototype=new Ne;je.constructor=ze,Me(je,Pe.prototype),je.isPureReactComponent=!0;var Ke=Array.isArray;function it(){}var H={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(L,ie,Te){var we=Te.ref;return{$$typeof:a,type:L,key:ie,ref:we!==void 0?we:null,props:Te}}function B(L,ie){return V(L.type,ie,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===a}function P(L){var ie={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Te){return ie[Te]})}var I=/\/+/g;function K(L,ie){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):ie.toString(36)}function le(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(it,it):(L.status="pending",L.then(function(ie){L.status==="pending"&&(L.status="fulfilled",L.value=ie)},function(ie){L.status==="pending"&&(L.status="rejected",L.reason=ie)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,ie,Te,we,Ce){var He=typeof L;(He==="undefined"||He==="boolean")&&(L=null);var at=!1;if(L===null)at=!0;else switch(He){case"bigint":case"string":case"number":at=!0;break;case"object":switch(L.$$typeof){case a:case e:at=!0;break;case M:return at=L._init,q(at(L._payload),ie,Te,we,Ce)}}if(at)return Ce=Ce(L),at=we===""?"."+K(L,0):we,Ke(Ce)?(Te="",at!=null&&(Te=at.replace(I,"$&/")+"/"),q(Ce,ie,Te,"",function(Rt){return Rt})):Ce!=null&&(C(Ce)&&(Ce=B(Ce,Te+(Ce.key==null||L&&L.key===Ce.key?"":(""+Ce.key).replace(I,"$&/")+"/")+at)),ie.push(Ce)),1;at=0;var ot=we===""?".":we+":";if(Ke(L))for(var pt=0;pt<L.length;pt++)we=L[pt],He=ot+K(we,pt),at+=q(we,ie,Te,He,Ce);else if(pt=te(L),typeof pt=="function")for(L=pt.call(L),pt=0;!(we=L.next()).done;)we=we.value,He=ot+K(we,pt++),at+=q(we,ie,Te,He,Ce);else if(He==="object"){if(typeof L.then=="function")return q(le(L),ie,Te,we,Ce);throw ie=String(L),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return at}function J(L,ie,Te){if(L==null)return L;var we=[],Ce=0;return q(L,we,"","",function(He){return ie.call(Te,He,Ce++)}),we}function ge(L){if(L._status===-1){var ie=L._result;ie=ie(),ie.then(function(Te){(L._status===0||L._status===-1)&&(L._status=1,L._result=Te)},function(Te){(L._status===0||L._status===-1)&&(L._status=2,L._result=Te)}),L._status===-1&&(L._status=0,L._result=ie)}if(L._status===1)return L._result.default;throw L._result}var he=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Re={map:J,forEach:function(L,ie,Te){J(L,function(){ie.apply(this,arguments)},Te)},count:function(L){var ie=0;return J(L,function(){ie++}),ie},toArray:function(L){return J(L,function(ie){return ie})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Et.Activity=U,Et.Children=Re,Et.Component=Pe,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ze,Et.StrictMode=s,Et.Suspense=w,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Et.__COMPILER_RUNTIME={__proto__:null,c:function(L){return H.H.useMemoCache(L)}},Et.cache=function(L){return function(){return L.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(L,ie,Te){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var we=Me({},L.props),Ce=L.key;if(ie!=null)for(He in ie.key!==void 0&&(Ce=""+ie.key),ie)!j.call(ie,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ie.ref===void 0||(we[He]=ie[He]);var He=arguments.length-2;if(He===1)we.children=Te;else if(1<He){for(var at=Array(He),ot=0;ot<He;ot++)at[ot]=arguments[ot+2];we.children=at}return V(L.type,Ce,we)},Et.createContext=function(L){return L={$$typeof:p,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Et.createElement=function(L,ie,Te){var we,Ce={},He=null;if(ie!=null)for(we in ie.key!==void 0&&(He=""+ie.key),ie)j.call(ie,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Ce[we]=ie[we]);var at=arguments.length-2;if(at===1)Ce.children=Te;else if(1<at){for(var ot=Array(at),pt=0;pt<at;pt++)ot[pt]=arguments[pt+2];Ce.children=ot}if(L&&L.defaultProps)for(we in at=L.defaultProps,at)Ce[we]===void 0&&(Ce[we]=at[we]);return V(L,He,Ce)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(L){return{$$typeof:b,render:L}},Et.isValidElement=C,Et.lazy=function(L){return{$$typeof:M,_payload:{_status:-1,_result:L},_init:ge}},Et.memo=function(L,ie){return{$$typeof:E,type:L,compare:ie===void 0?null:ie}},Et.startTransition=function(L){var ie=H.T,Te={};H.T=Te;try{var we=L(),Ce=H.S;Ce!==null&&Ce(Te,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(it,he)}catch(He){he(He)}finally{ie!==null&&Te.types!==null&&(ie.types=Te.types),H.T=ie}},Et.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Et.use=function(L){return H.H.use(L)},Et.useActionState=function(L,ie,Te){return H.H.useActionState(L,ie,Te)},Et.useCallback=function(L,ie){return H.H.useCallback(L,ie)},Et.useContext=function(L){return H.H.useContext(L)},Et.useDebugValue=function(){},Et.useDeferredValue=function(L,ie){return H.H.useDeferredValue(L,ie)},Et.useEffect=function(L,ie){return H.H.useEffect(L,ie)},Et.useEffectEvent=function(L){return H.H.useEffectEvent(L)},Et.useId=function(){return H.H.useId()},Et.useImperativeHandle=function(L,ie,Te){return H.H.useImperativeHandle(L,ie,Te)},Et.useInsertionEffect=function(L,ie){return H.H.useInsertionEffect(L,ie)},Et.useLayoutEffect=function(L,ie){return H.H.useLayoutEffect(L,ie)},Et.useMemo=function(L,ie){return H.H.useMemo(L,ie)},Et.useOptimistic=function(L,ie){return H.H.useOptimistic(L,ie)},Et.useReducer=function(L,ie,Te){return H.H.useReducer(L,ie,Te)},Et.useRef=function(L){return H.H.useRef(L)},Et.useState=function(L){return H.H.useState(L)},Et.useSyncExternalStore=function(L,ie,Te){return H.H.useSyncExternalStore(L,ie,Te)},Et.useTransition=function(){return H.H.useTransition()},Et.version="19.2.0",Et}var Hv;function Jh(){return Hv||(Hv=1,im.exports=IT()),im.exports}var Bt=Jh(),rm={exports:{}},Vu={},am={exports:{}},sm={};var qv;function MT(){return qv||(qv=1,(function(a){function e(q,J){var ge=q.length;q.push(J);e:for(;0<ge;){var he=ge-1>>>1,Re=q[he];if(0<l(Re,J))q[he]=J,q[ge]=Re,ge=he;else break e}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var J=q[0],ge=q.pop();if(ge!==J){q[0]=ge;e:for(var he=0,Re=q.length,L=Re>>>1;he<L;){var ie=2*(he+1)-1,Te=q[ie],we=ie+1,Ce=q[we];if(0>l(Te,ge))we<Re&&0>l(Ce,Te)?(q[he]=Ce,q[we]=ge,he=we):(q[he]=Te,q[ie]=ge,he=ie);else if(we<Re&&0>l(Ce,ge))q[he]=Ce,q[we]=ge,he=we;else break e}}return J}function l(q,J){var ge=q.sortIndex-J.sortIndex;return ge!==0?ge:q.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();a.unstable_now=function(){return p.now()-b}}var w=[],E=[],M=1,U=null,F=3,te=!1,k=!1,Me=!1,be=!1,Pe=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,ze=typeof setImmediate<"u"?setImmediate:null;function je(q){for(var J=i(E);J!==null;){if(J.callback===null)s(E);else if(J.startTime<=q)s(E),J.sortIndex=J.expirationTime,e(w,J);else break;J=i(E)}}function Ke(q){if(Me=!1,je(q),!k)if(i(w)!==null)k=!0,it||(it=!0,P());else{var J=i(E);J!==null&&le(Ke,J.startTime-q)}}var it=!1,H=-1,j=5,V=-1;function B(){return be?!0:!(a.unstable_now()-V<j)}function C(){if(be=!1,it){var q=a.unstable_now();V=q;var J=!0;try{e:{k=!1,Me&&(Me=!1,Ne(H),H=-1),te=!0;var ge=F;try{t:{for(je(q),U=i(w);U!==null&&!(U.expirationTime>q&&B());){var he=U.callback;if(typeof he=="function"){U.callback=null,F=U.priorityLevel;var Re=he(U.expirationTime<=q);if(q=a.unstable_now(),typeof Re=="function"){U.callback=Re,je(q),J=!0;break t}U===i(w)&&s(w),je(q)}else s(w);U=i(w)}if(U!==null)J=!0;else{var L=i(E);L!==null&&le(Ke,L.startTime-q),J=!1}}break e}finally{U=null,F=ge,te=!1}J=void 0}}finally{J?P():it=!1}}}var P;if(typeof ze=="function")P=function(){ze(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,K=I.port2;I.port1.onmessage=C,P=function(){K.postMessage(null)}}else P=function(){Pe(C,0)};function le(q,J){H=Pe(function(){q(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return F},a.unstable_next=function(q){switch(F){case 1:case 2:case 3:var J=3;break;default:J=F}var ge=F;F=J;try{return q()}finally{F=ge}},a.unstable_requestPaint=function(){be=!0},a.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ge=F;F=q;try{return J()}finally{F=ge}},a.unstable_scheduleCallback=function(q,J,ge){var he=a.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?he+ge:he):ge=he,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ge+Re,q={id:M++,callback:J,priorityLevel:q,startTime:ge,expirationTime:Re,sortIndex:-1},ge>he?(q.sortIndex=ge,e(E,q),i(w)===null&&q===i(E)&&(Me?(Ne(H),H=-1):Me=!0,le(Ke,ge-he))):(q.sortIndex=Re,e(w,q),k||te||(k=!0,it||(it=!0,P()))),q},a.unstable_shouldYield=B,a.unstable_wrapCallback=function(q){var J=F;return function(){var ge=F;F=J;try{return q.apply(this,arguments)}finally{F=ge}}}})(sm)),sm}var Gv;function DT(){return Gv||(Gv=1,am.exports=MT()),am.exports}var om={exports:{}},Si={};var Yv;function OT(){if(Yv)return Si;Yv=1;var a=Jh();function e(w){var E="https://react.dev/errors/"+w;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)E+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(w,E,M){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:U==null?null:""+U,children:w,containerInfo:E,implementation:M}}var p=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(w,E){if(w==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Si.createPortal=function(w,E){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return c(w,E,null,M)},Si.flushSync=function(w){var E=p.T,M=s.p;try{if(p.T=null,s.p=2,w)return w()}finally{p.T=E,s.p=M,s.d.f()}},Si.preconnect=function(w,E){typeof w=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(w,E))},Si.prefetchDNS=function(w){typeof w=="string"&&s.d.D(w)},Si.preinit=function(w,E){if(typeof w=="string"&&E&&typeof E.as=="string"){var M=E.as,U=b(M,E.crossOrigin),F=typeof E.integrity=="string"?E.integrity:void 0,te=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;M==="style"?s.d.S(w,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:U,integrity:F,fetchPriority:te}):M==="script"&&s.d.X(w,{crossOrigin:U,integrity:F,fetchPriority:te,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Si.preinitModule=function(w,E){if(typeof w=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var M=b(E.as,E.crossOrigin);s.d.M(w,{crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(w)},Si.preload=function(w,E){if(typeof w=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var M=E.as,U=b(M,E.crossOrigin);s.d.L(w,M,{crossOrigin:U,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Si.preloadModule=function(w,E){if(typeof w=="string")if(E){var M=b(E.as,E.crossOrigin);s.d.m(w,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(w)},Si.requestFormReset=function(w){s.d.r(w)},Si.unstable_batchedUpdates=function(w,E){return w(E)},Si.useFormState=function(w,E,M){return p.H.useFormState(w,E,M)},Si.useFormStatus=function(){return p.H.useHostTransitionStatus()},Si.version="19.2.0",Si}var Xv;function xT(){if(Xv)return om.exports;Xv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),om.exports=OT(),om.exports}var Qv;function NT(){if(Qv)return Vu;Qv=1;var a=DT(),e=Jh(),i=xT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function p(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function w(t){if(c(t)!==t)throw Error(s(188))}function E(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return w(h),t;if(m===o)return w(h),n;m=m.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=m;else{for(var T=!1,D=h.child;D;){if(D===r){T=!0,r=h,o=m;break}if(D===o){T=!0,o=h,r=m;break}D=D.sibling}if(!T){for(D=m.child;D;){if(D===r){T=!0,r=m,o=h;break}if(D===o){T=!0,o=m,r=h;break}D=D.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function M(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=M(t),n!==null)return n;t=t.sibling}return null}var U=Object.assign,F=Symbol.for("react.element"),te=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Pe=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),ze=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Me:return"Fragment";case Pe:return"Profiler";case be:return"StrictMode";case Ke:return"Suspense";case it:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ze:return t.displayName||"Context";case Ne:return(t._context.displayName||"Context")+".Consumer";case je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return n=t.displayName||null,n!==null?n:K(t.type)||"Memo";case j:n=t._payload,t=t._init;try{return K(t(n))}catch{}}return null}var le=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},he=[],Re=-1;function L(t){return{current:t}}function ie(t){0>Re||(t.current=he[Re],he[Re]=null,Re--)}function Te(t,n){Re++,he[Re]=t.current,t.current=n}var we=L(null),Ce=L(null),He=L(null),at=L(null);function ot(t,n){switch(Te(He,n),Te(Ce,t),Te(we,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=uv(n),t=cv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(we),Te(we,t)}function pt(){ie(we),ie(Ce),ie(He)}function Rt(t){t.memoizedState!==null&&Te(at,t);var n=we.current,r=cv(n,t.type);n!==r&&(Te(Ce,t),Te(we,r))}function on(t){Ce.current===t&&(ie(we),ie(Ce)),at.current===t&&(ie(at),Mu._currentValue=ge)}var st,bt;function Gt(t){if(st===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);st=n&&n[1]||"",bt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+t+bt}var Lt=!1;function Dn(t,n){if(!t||Lt)return"";Lt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var ce=me}Reflect.construct(t,[],Ee)}else{try{Ee.call()}catch(me){ce=me}t.call(Ee.prototype)}}else{try{throw Error()}catch(me){ce=me}(Ee=t())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&ce&&typeof me.stack=="string")return[me.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],D=m[1];if(T&&D){var G=T.split(`
`),oe=D.split(`
`);for(h=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;h<oe.length&&!oe[h].includes("DetermineComponentFrameRoot");)h++;if(o===G.length||h===oe.length)for(o=G.length-1,h=oe.length-1;1<=o&&0<=h&&G[o]!==oe[h];)h--;for(;1<=o&&0<=h;o--,h--)if(G[o]!==oe[h]){if(o!==1||h!==1)do if(o--,h--,0>h||G[o]!==oe[h]){var ve=`
`+G[o].replace(" at new "," at ");return t.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",t.displayName)),ve}while(1<=o&&0<=h);break}}}finally{Lt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Gt(r):""}function ai(t,n){switch(t.tag){case 26:case 27:case 5:return Gt(t.type);case 16:return Gt("Lazy");case 13:return t.child!==n&&n!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Dn(t.type,!1);case 11:return Dn(t.type.render,!1);case 1:return Dn(t.type,!0);case 31:return Gt("Activity");default:return""}}function Wt(t){try{var n="",r=null;do n+=ai(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var tt=Object.prototype.hasOwnProperty,en=a.unstable_scheduleCallback,mn=a.unstable_cancelCallback,ur=a.unstable_shouldYield,Un=a.unstable_requestPaint,Yt=a.unstable_now,bn=a.unstable_getCurrentPriorityLevel,R=a.unstable_ImmediatePriority,g=a.unstable_UserBlockingPriority,v=a.unstable_NormalPriority,x=a.unstable_LowPriority,X=a.unstable_IdlePriority,de=a.log,Ie=a.unstable_setDisableYieldValue,Qe=null,ee=null;function re(t){if(typeof de=="function"&&Ie(t),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(Qe,t)}catch{}}var ye=Math.clz32?Math.clz32:Be,xe=Math.log,Ve=Math.LN2;function Be(t){return t>>>=0,t===0?32:31-(xe(t)/Ve|0)|0}var Je=256,mt=262144,Ge=4194304;function wt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nt(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var D=o&134217727;return D!==0?(o=D&~m,o!==0?h=wt(o):(T&=D,T!==0?h=wt(T):r||(r=D&~t,r!==0&&(h=wt(r))))):(D=o&~m,D!==0?h=wt(D):T!==0?h=wt(T):r||(r=o&~t,r!==0&&(h=wt(r)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:h}function wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ui(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var t=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),t}function zn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function At(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cr(t,n,r,o,h,m){var T=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var D=t.entanglements,G=t.expirationTimes,oe=t.hiddenUpdates;for(r=T&~r;0<r;){var ve=31-ye(r),Ee=1<<ve;D[ve]=0,G[ve]=-1;var ce=oe[ve];if(ce!==null)for(oe[ve]=null,ve=0;ve<ce.length;ve++){var me=ce[ve];me!==null&&(me.lane&=-536870913)}r&=~Ee}o!==0&&hr(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~n))}function hr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ye(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function fo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-ye(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Xr(t,n){var r=n&-n;return r=(r&42)!==0?1:sa(r),(r&(t.suspendedLanes|n))!==0?0:r}function sa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gs(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function fr(t,n){var r=J.p;try{return J.p=t,n()}finally{J.p=r}}var dr=Math.random().toString(36).slice(2),pn="__reactFiber$"+dr,jn="__reactProps$"+dr,mr="__reactContainer$"+dr,Qr="__reactEvents$"+dr,Xo="__reactListeners$"+dr,mo="__reactHandles$"+dr,Ma="__reactResources$"+dr,pr="__reactMarker$"+dr;function Di(t){delete t[pn],delete t[jn],delete t[Qr],delete t[Xo],delete t[mo]}function gr(t){var n=t[pn];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mr]||r[pn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=yv(t);t!==null;){if(r=t[pn])return r;t=yv(t)}return n}t=r,r=t.parentNode}return null}function Fi(t){if(t=t[pn]||t[mr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Oi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Hi(t){var n=t[Ma];return n||(n=t[Ma]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xn(t){t[pr]=!0}var Da=new Set,xi={};function Ni(t,n){qi(t,n),qi(t+"Capture",n)}function qi(t,n){for(xi[t]=n,t=0;t<n.length;t++)Da.add(n[t])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oa={},ys={};function go(t){return tt.call(ys,t)?!0:tt.call(oa,t)?!1:po.test(t)?ys[t]=!0:(oa[t]=!0,!1)}function Dr(t,n,r){if(go(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function wi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Or(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(T){r=""+T,m.call(this,T)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $t(t){if(!t._valueTracker){var n=Gi(t)?"checked":"value";t._valueTracker=Or(t,n,""+t[n])}}function ci(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Gi(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function lt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var si=/[\n"\\]/g;function Sn(t){return t.replace(si,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oa(t,n,r,o,h,m,T,D){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),n!=null?T==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pn(n)):t.value!==""+Pn(n)&&(t.value=""+Pn(n)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),n!=null?vs(t,T,Pn(n)):r!=null?vs(t,T,Pn(r)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+Pn(D):t.removeAttribute("name")}function yo(t,n,r,o,h,m,T,D){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){$t(t);return}r=r!=null?""+Pn(r):"",n=n!=null?""+Pn(n):r,D||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=D?t.checked:!!o,t.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),$t(t)}function vs(t,n,r){n==="number"&&lt(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ln(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Pn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function la(t,n,r){if(n!=null&&(n=""+Pn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Pn(r):""}function xr(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(le(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Pn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),$t(t)}function Yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Yi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xa(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Yi.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function yr(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&xa(t,h,o)}else for(var m in n)n.hasOwnProperty(m)&&xa(t,m,n[m])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xi(){}var _s=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Vi=null;function Wi(t){var n=Fi(t);if(n&&(t=n.stateNode)){var r=t[jn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Oa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[jn]||null;if(!h)throw Error(s(90));Oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&ci(o)}break e;case"textarea":la(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ln(t,!!r.multiple,n,!1)}}}var Kr=!1;function $i(t,n,r){if(Kr)return t(n,r);Kr=!0;try{var o=t(n);return o}finally{if(Kr=!1,(Ki!==null||Vi!==null)&&(Gc(),Ki&&(n=Ki,t=Vi,Vi=Ki=null,Wi(n),t)))for(n=0;n<t.length;n++)Wi(t[n])}}function hi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[jn]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(ei)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Nr=!1}var Vr=null,Ei=null,Wr=null;function ha(){if(Wr)return Wr;var t,n=Ei,r=n.length,o,h="value"in Vr?Vr.value:Vr.textContent,m=h.length;for(t=0;t<r&&n[t]===h[t];t++);var T=r-t;for(o=1;o<=T&&n[r-o]===h[m-o];o++);return Wr=h.slice(t,1<o?1-o:void 0)}function $r(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function _r(){return!0}function br(){return!1}function ti(t){function n(r,o,h,m,T){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(r=t[D],this[D]=r?r(m):m[D]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_r:br,this.isPropagationStopped=br,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=ti(Ji),fa=U({},Ji,{view:0,detail:0}),vo=ti(fa),wr,Va,Pi,Pa=U({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(wr=t.screenX-Pi.screenX,Va=t.screenY-Pi.screenY):Va=wr=0,Pi=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),bs=ti(Pa),ka=U({},Pa,{dataTransfer:0}),Qo=ti(ka),Bn=U({},fa,{relatedTarget:0}),da=ti(Bn),ki=U({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=ti(ki),Jr=U({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),La=ti(Jr),ws=U({},Ji,{data:0}),Er=ti(ws),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ts(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=$o[t])?!!n[t]:!1}function ma(){return Ts}var fi=U({},fa,{key:function(t){if(t.key){var n=Es[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_o=ti(fi),Jo=U({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=ti(Jo),u=U({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),y=ti(u),A=U({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=ti(A),ne=U({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=ti(ne),ke=U({},Ji,{newState:0,oldState:0}),vt=ti(ke),Nn=[9,13,27,32],Jt=ei&&"CompositionEvent"in window,Tn=null;ei&&"documentMode"in document&&(Tn=document.documentMode);var Ti=ei&&"TextEvent"in window&&!Tn,Zi=ei&&(!Jt||Tn&&8<Tn&&11>=Tn),er=" ",Li=!1;function kr(t,n){switch(t){case"keyup":return Nn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function gf(t,n){switch(t){case"compositionend":return Ua(n);case"keypress":return n.which!==32?null:(Li=!0,er);case"textInput":return t=n.data,t===er&&Li?null:t;default:return null}}function dc(t,n){if(za)return t==="compositionend"||!Jt&&kr(t,n)?(t=ha(),Wr=Ei=Vr=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zi&&n.locale!=="ko"?null:n.data;default:return null}}var Zo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $l(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Zo[t.type]:n==="textarea"}function Rn(t,n,r,o){Ki?Vi?Vi.push(o):Vi=[o]:Ki=o,n=Jc(n,"onChange"),0<n.length&&(r=new Pr("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ui=null,ja=null;function mc(t){iv(t,0)}function bo(t){var n=Oi(t);if(ci(n))return t}function Jl(t,n){if(t==="change")return n}var Zl=!1;if(ei){var As;if(ei){var el="oninput"in document;if(!el){var f=document.createElement("div");f.setAttribute("oninput","return;"),el=typeof f.oninput=="function"}As=el}else As=!1;Zl=As&&(!document.documentMode||9<document.documentMode)}function d(){Ui&&(Ui.detachEvent("onpropertychange",_),ja=Ui=null)}function _(t){if(t.propertyName==="value"&&bo(ja)){var n=[];Rn(n,ja,t,Qi(t)),$i(mc,n)}}function S(t,n,r){t==="focusin"?(d(),Ui=n,ja=r,Ui.attachEvent("onpropertychange",_)):t==="focusout"&&d()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bo(ja)}function z(t,n){if(t==="click")return bo(n)}function Q(t,n){if(t==="input"||t==="change")return bo(n)}function W(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ue=typeof Object.is=="function"?Object.is:W;function se(t,n){if(ue(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!tt.call(n,h)||!ue(t[h],n[h]))return!1}return!0}function Oe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ye(t,n){var r=Oe(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Oe(r)}}function et(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?et(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=lt(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=lt(t.document)}return n}function Le(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var We=ei&&"documentMode"in document&&11>=document.documentMode,Ue=null,tn=null,Xe=null,Dt=!1;function un(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dt||Ue==null||Ue!==lt(o)||(o=Ue,"selectionStart"in o&&Le(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xe&&se(Xe,o)||(Xe=o,o=Jc(tn,"onSelect"),0<o.length&&(n=new Pr("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ue)))}function Fn(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var tr={animationend:Fn("Animation","AnimationEnd"),animationiteration:Fn("Animation","AnimationIteration"),animationstart:Fn("Animation","AnimationStart"),transitionrun:Fn("Transition","TransitionRun"),transitionstart:Fn("Transition","TransitionStart"),transitioncancel:Fn("Transition","TransitionCancel"),transitionend:Fn("Transition","TransitionEnd")},xt={},Tr={};ei&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function Ba(t){if(xt[t])return xt[t];if(!tr[t])return t;var n=tr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Tr)return xt[t]=n[r];return t}var De=Ba("animationend"),Fe=Ba("animationiteration"),Ot=Ba("animationstart"),Ut=Ba("transitionrun"),St=Ba("transitionstart"),Vt=Ba("transitioncancel"),Qt=Ba("transitionend"),Zt=new Map,zi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zi.push("scrollEnd");function cn(t,n){Zt.set(t,n),Ni(n,[t])}var di=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},an=[],Fa=0,tl=0;function pa(){for(var t=Fa,n=tl=Fa=0;n<t;){var r=an[n];an[n++]=null;var o=an[n];an[n++]=null;var h=an[n];an[n++]=null;var m=an[n];if(an[n++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&eu(r,h,m)}}function ga(t,n,r,o){an[Fa++]=t,an[Fa++]=n,an[Fa++]=r,an[Fa++]=o,tl|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ea(t,n,r,o){return ga(t,n,r,o),wo(t)}function ji(t,n){return ga(t,null,null,n),wo(t)}function eu(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-ye(r),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),m):null}function wo(t){if(50<Eu)throw Eu=0,Rd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ar={};function yf(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,n,r,o){return new yf(t,n,r,o)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ha(t,n){var r=t.alternate;return r===null?(r=Ai(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function pc(t,n,r,o,h,m){var T=0;if(o=t,typeof t=="function")vf(t)&&(T=1);else if(typeof t=="string")T=mT(t,r,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=Ai(31,r,n,h),t.elementType=V,t.lanes=m,t;case Me:return Eo(r.children,h,m,n);case be:T=8,h|=24;break;case Pe:return t=Ai(12,r,n,h|2),t.elementType=Pe,t.lanes=m,t;case Ke:return t=Ai(13,r,n,h),t.elementType=Ke,t.lanes=m,t;case it:return t=Ai(19,r,n,h),t.elementType=it,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ze:T=10;break e;case Ne:T=9;break e;case je:T=11;break e;case H:T=14;break e;case j:T=16,o=null;break e}T=29,r=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=Ai(T,r,n,h),n.elementType=t,n.type=o,n.lanes=m,n}function Eo(t,n,r,o){return t=Ai(7,t,o,n),t.lanes=r,t}function _f(t,n,r){return t=Ai(6,t,null,n),t.lanes=r,t}function jp(t){var n=Ai(18,null,null,0);return n.stateNode=t,n}function bf(t,n,r){return n=Ai(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bp=new WeakMap;function Lr(t,n){if(typeof t=="object"&&t!==null){var r=Bp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Wt(n)},Bp.set(t,n),n)}return{value:t,source:n,stack:Wt(n)}}var nl=[],il=0,gc=null,tu=0,Ur=[],zr=0,Ss=null,ya=1,va="";function qa(t,n){nl[il++]=tu,nl[il++]=gc,gc=t,tu=n}function Fp(t,n,r){Ur[zr++]=ya,Ur[zr++]=va,Ur[zr++]=Ss,Ss=t;var o=ya;t=va;var h=32-ye(o)-1;o&=~(1<<h),r+=1;var m=32-ye(n)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,ya=1<<32-ye(n)+h|r<<h|o,va=m+t}else ya=1<<m|r<<h|o,va=t}function wf(t){t.return!==null&&(qa(t,1),Fp(t,1,0))}function Ef(t){for(;t===gc;)gc=nl[--il],nl[il]=null,tu=nl[--il],nl[il]=null;for(;t===Ss;)Ss=Ur[--zr],Ur[zr]=null,va=Ur[--zr],Ur[zr]=null,ya=Ur[--zr],Ur[zr]=null}function Hp(t,n){Ur[zr++]=ya,Ur[zr++]=va,Ur[zr++]=Ss,ya=n.id,va=n.overflow,Ss=t}var mi=null,Cn=null,Xt=!1,Rs=null,jr=!1,Tf=Error(s(519));function Cs(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(Lr(n,t)),Tf}function qp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[pn]=t,n[jn]=o,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(r=0;r<Au.length;r++)kt(Au[r],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),yo(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),xr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||ov(n.textContent,r)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=Xi),n=!0):n=!1,n||Cs(t,!0)}function Gp(t){for(mi=t.return;mi;)switch(mi.tag){case 5:case 31:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:mi=mi.return}}function rl(t){if(t!==mi)return!1;if(!Xt)return Gp(t),Xt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Bd(t.type,t.memoizedProps)),r=!r),r&&Cn&&Cs(t),Gp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Cn=gv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Cn=gv(t)}else n===27?(n=Cn,Bs(t.type)?(t=Yd,Yd=null,Cn=t):Cn=n):Cn=mi?Fr(t.stateNode.nextSibling):null;return!0}function To(){Cn=mi=null,Xt=!1}function Af(){var t=Rs;return t!==null&&(ar===null?ar=t:ar.push.apply(ar,t),Rs=null),t}function nu(t){Rs===null?Rs=[t]:Rs.push(t)}var Sf=L(null),Ao=null,Ga=null;function Is(t,n,r){Te(Sf,n._currentValue),n._currentValue=r}function Ya(t){t._currentValue=Sf.current,ie(Sf)}function Rf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Cf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;e:for(;m!==null;){var D=m;m=h;for(var G=0;G<n.length;G++)if(D.context===n[G]){m.lanes|=r,D=m.alternate,D!==null&&(D.lanes|=r),Rf(m.return,r,t),o||(T=null);break e}m=D.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=r,m=T.alternate,m!==null&&(m.lanes|=r),Rf(T,r,t),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===t){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function al(t,n,r,o){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var D=h.type;ue(h.pendingProps.value,T.value)||(t!==null?t.push(D):t=[D])}}else if(h===at.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Mu):t=[Mu])}h=h.return}t!==null&&Cf(n,t,r,o),n.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!ue(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function So(t){Ao=t,Ga=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pi(t){return Yp(Ao,t)}function vc(t,n){return Ao===null&&So(t),Yp(t,n)}function Yp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ga===null){if(t===null)throw Error(s(308));Ga=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ga=Ga.next=n;return r}var cE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},hE=a.unstable_scheduleCallback,fE=a.unstable_NormalPriority,Xn={$$typeof:ze,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new cE,data:new Map,refCount:0}}function iu(t){t.refCount--,t.refCount===0&&hE(fE,function(){t.controller.abort()})}var ru=null,Mf=0,sl=0,ol=null;function dE(t,n){if(ru===null){var r=ru=[];Mf=0,sl=xd(),ol={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Mf++,n.then(Xp,Xp),n}function Xp(){if(--Mf===0&&ru!==null){ol!==null&&(ol.status="fulfilled");var t=ru;ru=null,sl=0,ol=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mE(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Qp=q.S;q.S=function(t,n){Oy=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dE(t,n),Qp!==null&&Qp(t,n)};var Ro=L(null);function Df(){var t=Ro.current;return t!==null?t:En.pooledCache}function _c(t,n){n===null?Te(Ro,Ro.current):Te(Ro,n.pool)}function Kp(){var t=Df();return t===null?null:{parent:Xn._currentValue,pool:t}}var ll=Error(s(460)),Of=Error(s(474)),bc=Error(s(542)),wc={then:function(){}};function Wp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $p(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Xi,Xi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zp(t),t;default:if(typeof n.status=="string")n.then(Xi,Xi);else{if(t=En,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zp(t),t}throw Io=n,ll}}function Co(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Io=r,ll):r}}var Io=null;function Jp(){if(Io===null)throw Error(s(459));var t=Io;return Io=null,t}function Zp(t){if(t===ll||t===bc)throw Error(s(483))}var ul=null,au=0;function Ec(t){var n=au;return au+=1,ul===null&&(ul=[]),$p(ul,t,n)}function su(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tc(t,n){throw n.$$typeof===F?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function eg(t){function n(Z,Y){if(t){var ae=Z.deletions;ae===null?(Z.deletions=[Y],Z.flags|=16):ae.push(Y)}}function r(Z,Y){if(!t)return null;for(;Y!==null;)n(Z,Y),Y=Y.sibling;return null}function o(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function h(Z,Y){return Z=Ha(Z,Y),Z.index=0,Z.sibling=null,Z}function m(Z,Y,ae){return Z.index=ae,t?(ae=Z.alternate,ae!==null?(ae=ae.index,ae<Y?(Z.flags|=67108866,Y):ae):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function T(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function D(Z,Y,ae,_e){return Y===null||Y.tag!==6?(Y=_f(ae,Z.mode,_e),Y.return=Z,Y):(Y=h(Y,ae),Y.return=Z,Y)}function G(Z,Y,ae,_e){var ut=ae.type;return ut===Me?ve(Z,Y,ae.props.children,_e,ae.key):Y!==null&&(Y.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===j&&Co(ut)===Y.type)?(Y=h(Y,ae.props),su(Y,ae),Y.return=Z,Y):(Y=pc(ae.type,ae.key,ae.props,null,Z.mode,_e),su(Y,ae),Y.return=Z,Y)}function oe(Z,Y,ae,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=bf(ae,Z.mode,_e),Y.return=Z,Y):(Y=h(Y,ae.children||[]),Y.return=Z,Y)}function ve(Z,Y,ae,_e,ut){return Y===null||Y.tag!==7?(Y=Eo(ae,Z.mode,_e,ut),Y.return=Z,Y):(Y=h(Y,ae),Y.return=Z,Y)}function Ee(Z,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=_f(""+Y,Z.mode,ae),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case te:return ae=pc(Y.type,Y.key,Y.props,null,Z.mode,ae),su(ae,Y),ae.return=Z,ae;case k:return Y=bf(Y,Z.mode,ae),Y.return=Z,Y;case j:return Y=Co(Y),Ee(Z,Y,ae)}if(le(Y)||P(Y))return Y=Eo(Y,Z.mode,ae,null),Y.return=Z,Y;if(typeof Y.then=="function")return Ee(Z,Ec(Y),ae);if(Y.$$typeof===ze)return Ee(Z,vc(Z,Y),ae);Tc(Z,Y)}return null}function ce(Z,Y,ae,_e){var ut=Y!==null?Y.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ut!==null?null:D(Z,Y,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case te:return ae.key===ut?G(Z,Y,ae,_e):null;case k:return ae.key===ut?oe(Z,Y,ae,_e):null;case j:return ae=Co(ae),ce(Z,Y,ae,_e)}if(le(ae)||P(ae))return ut!==null?null:ve(Z,Y,ae,_e,null);if(typeof ae.then=="function")return ce(Z,Y,Ec(ae),_e);if(ae.$$typeof===ze)return ce(Z,Y,vc(Z,ae),_e);Tc(Z,ae)}return null}function me(Z,Y,ae,_e,ut){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Z=Z.get(ae)||null,D(Y,Z,""+_e,ut);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case te:return Z=Z.get(_e.key===null?ae:_e.key)||null,G(Y,Z,_e,ut);case k:return Z=Z.get(_e.key===null?ae:_e.key)||null,oe(Y,Z,_e,ut);case j:return _e=Co(_e),me(Z,Y,ae,_e,ut)}if(le(_e)||P(_e))return Z=Z.get(ae)||null,ve(Y,Z,_e,ut,null);if(typeof _e.then=="function")return me(Z,Y,ae,Ec(_e),ut);if(_e.$$typeof===ze)return me(Z,Y,ae,vc(Y,_e),ut);Tc(Y,_e)}return null}function nt(Z,Y,ae,_e){for(var ut=null,nn=null,rt=Y,Mt=Y=0,jt=null;rt!==null&&Mt<ae.length;Mt++){rt.index>Mt?(jt=rt,rt=null):jt=rt.sibling;var rn=ce(Z,rt,ae[Mt],_e);if(rn===null){rt===null&&(rt=jt);break}t&&rt&&rn.alternate===null&&n(Z,rt),Y=m(rn,Y,Mt),nn===null?ut=rn:nn.sibling=rn,nn=rn,rt=jt}if(Mt===ae.length)return r(Z,rt),Xt&&qa(Z,Mt),ut;if(rt===null){for(;Mt<ae.length;Mt++)rt=Ee(Z,ae[Mt],_e),rt!==null&&(Y=m(rt,Y,Mt),nn===null?ut=rt:nn.sibling=rt,nn=rt);return Xt&&qa(Z,Mt),ut}for(rt=o(rt);Mt<ae.length;Mt++)jt=me(rt,Z,Mt,ae[Mt],_e),jt!==null&&(t&&jt.alternate!==null&&rt.delete(jt.key===null?Mt:jt.key),Y=m(jt,Y,Mt),nn===null?ut=jt:nn.sibling=jt,nn=jt);return t&&rt.forEach(function(Ys){return n(Z,Ys)}),Xt&&qa(Z,Mt),ut}function dt(Z,Y,ae,_e){if(ae==null)throw Error(s(151));for(var ut=null,nn=null,rt=Y,Mt=Y=0,jt=null,rn=ae.next();rt!==null&&!rn.done;Mt++,rn=ae.next()){rt.index>Mt?(jt=rt,rt=null):jt=rt.sibling;var Ys=ce(Z,rt,rn.value,_e);if(Ys===null){rt===null&&(rt=jt);break}t&&rt&&Ys.alternate===null&&n(Z,rt),Y=m(Ys,Y,Mt),nn===null?ut=Ys:nn.sibling=Ys,nn=Ys,rt=jt}if(rn.done)return r(Z,rt),Xt&&qa(Z,Mt),ut;if(rt===null){for(;!rn.done;Mt++,rn=ae.next())rn=Ee(Z,rn.value,_e),rn!==null&&(Y=m(rn,Y,Mt),nn===null?ut=rn:nn.sibling=rn,nn=rn);return Xt&&qa(Z,Mt),ut}for(rt=o(rt);!rn.done;Mt++,rn=ae.next())rn=me(rt,Z,Mt,rn.value,_e),rn!==null&&(t&&rn.alternate!==null&&rt.delete(rn.key===null?Mt:rn.key),Y=m(rn,Y,Mt),nn===null?ut=rn:nn.sibling=rn,nn=rn);return t&&rt.forEach(function(ST){return n(Z,ST)}),Xt&&qa(Z,Mt),ut}function _n(Z,Y,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===Me&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case te:e:{for(var ut=ae.key;Y!==null;){if(Y.key===ut){if(ut=ae.type,ut===Me){if(Y.tag===7){r(Z,Y.sibling),_e=h(Y,ae.props.children),_e.return=Z,Z=_e;break e}}else if(Y.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===j&&Co(ut)===Y.type){r(Z,Y.sibling),_e=h(Y,ae.props),su(_e,ae),_e.return=Z,Z=_e;break e}r(Z,Y);break}else n(Z,Y);Y=Y.sibling}ae.type===Me?(_e=Eo(ae.props.children,Z.mode,_e,ae.key),_e.return=Z,Z=_e):(_e=pc(ae.type,ae.key,ae.props,null,Z.mode,_e),su(_e,ae),_e.return=Z,Z=_e)}return T(Z);case k:e:{for(ut=ae.key;Y!==null;){if(Y.key===ut)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){r(Z,Y.sibling),_e=h(Y,ae.children||[]),_e.return=Z,Z=_e;break e}else{r(Z,Y);break}else n(Z,Y);Y=Y.sibling}_e=bf(ae,Z.mode,_e),_e.return=Z,Z=_e}return T(Z);case j:return ae=Co(ae),_n(Z,Y,ae,_e)}if(le(ae))return nt(Z,Y,ae,_e);if(P(ae)){if(ut=P(ae),typeof ut!="function")throw Error(s(150));return ae=ut.call(ae),dt(Z,Y,ae,_e)}if(typeof ae.then=="function")return _n(Z,Y,Ec(ae),_e);if(ae.$$typeof===ze)return _n(Z,Y,vc(Z,ae),_e);Tc(Z,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Y!==null&&Y.tag===6?(r(Z,Y.sibling),_e=h(Y,ae),_e.return=Z,Z=_e):(r(Z,Y),_e=_f(ae,Z.mode,_e),_e.return=Z,Z=_e),T(Z)):r(Z,Y)}return function(Z,Y,ae,_e){try{au=0;var ut=_n(Z,Y,ae,_e);return ul=null,ut}catch(rt){if(rt===ll||rt===bc)throw rt;var nn=Ai(29,rt,null,Z.mode);return nn.lanes=_e,nn.return=Z,nn}finally{}}}var Mo=eg(!0),tg=eg(!1),Ms=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(sn&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wo(t),eu(t,null,r),n}return ga(t,o,n,r),wo(t)}function ou(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,fo(t,r)}}function Vf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,r=r.next}while(r!==null);m===null?h=m=n:m=m.next=n}else h=m=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Pf=!1;function lu(){if(Pf){var t=ol;if(t!==null)throw t}}function uu(t,n,r,o){Pf=!1;var h=t.updateQueue;Ms=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var G=D,oe=G.next;G.next=null,T===null?m=oe:T.next=oe,T=G;var ve=t.alternate;ve!==null&&(ve=ve.updateQueue,D=ve.lastBaseUpdate,D!==T&&(D===null?ve.firstBaseUpdate=oe:D.next=oe,ve.lastBaseUpdate=G))}if(m!==null){var Ee=h.baseState;T=0,ve=oe=G=null,D=m;do{var ce=D.lane&-536870913,me=ce!==D.lane;if(me?(zt&ce)===ce:(o&ce)===ce){ce!==0&&ce===sl&&(Pf=!0),ve!==null&&(ve=ve.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var nt=t,dt=D;ce=n;var _n=r;switch(dt.tag){case 1:if(nt=dt.payload,typeof nt=="function"){Ee=nt.call(_n,Ee,ce);break e}Ee=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=dt.payload,ce=typeof nt=="function"?nt.call(_n,Ee,ce):nt,ce==null)break e;Ee=U({},Ee,ce);break e;case 2:Ms=!0}}ce=D.callback,ce!==null&&(t.flags|=64,me&&(t.flags|=8192),me=h.callbacks,me===null?h.callbacks=[ce]:me.push(ce))}else me={lane:ce,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ve===null?(oe=ve=me,G=Ee):ve=ve.next=me,T|=ce;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;me=D,D=me.next,me.next=null,h.lastBaseUpdate=me,h.shared.pending=null}}while(!0);ve===null&&(G=Ee),h.baseState=G,h.firstBaseUpdate=oe,h.lastBaseUpdate=ve,m===null&&(h.shared.lanes=0),ks|=T,t.lanes=T,t.memoizedState=Ee}}function ng(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}var cl=L(null),Ac=L(0);function rg(t,n){t=ts,Te(Ac,t),Te(cl,n),ts=t|n.baseLanes}function kf(){Te(Ac,ts),Te(cl,cl.current)}function Lf(){ts=Ac.current,ie(cl),ie(Ac)}var Sr=L(null),Br=null;function xs(t){var n=t.alternate;Te(Hn,Hn.current&1),Te(Sr,t),Br===null&&(n===null||cl.current!==null||n.memoizedState!==null)&&(Br=t)}function Uf(t){Te(Hn,Hn.current),Te(Sr,t),Br===null&&(Br=t)}function ag(t){t.tag===22?(Te(Hn,Hn.current),Te(Sr,t),Br===null&&(Br=t)):Ns()}function Ns(){Te(Hn,Hn.current),Te(Sr,Sr.current)}function Rr(t){ie(Sr),Br===t&&(Br=null),ie(Hn)}var Hn=L(0);function Sc(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||qd(r)||Gd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xa=0,It=null,yn=null,Qn=null,Rc=!1,hl=!1,Do=!1,Cc=0,cu=0,fl=null,pE=0;function kn(){throw Error(s(321))}function zf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ue(t[r],n[r]))return!1;return!0}function jf(t,n,r,o,h,m){return Xa=m,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Fg:td,Do=!1,m=r(o,h),Do=!1,hl&&(m=og(n,r,o,h)),sg(t),m}function sg(t){q.H=du;var n=yn!==null&&yn.next!==null;if(Xa=0,Qn=yn=It=null,Rc=!1,cu=0,fl=null,n)throw Error(s(300));t===null||Kn||(t=t.dependencies,t!==null&&yc(t)&&(Kn=!0))}function og(t,n,r,o){It=t;var h=0;do{if(hl&&(fl=null),cu=0,hl=!1,25<=h)throw Error(s(301));if(h+=1,Qn=yn=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Hg,m=n(r,o)}while(hl);return m}function gE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?hu(n):n,t=t.useState()[0],(yn!==null?yn.memoizedState:null)!==t&&(It.flags|=1024),n}function Bf(){var t=Cc!==0;return Cc=0,t}function Ff(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Hf(t){if(Rc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Rc=!1}Xa=0,Qn=yn=It=null,hl=!1,cu=Cc=0,fl=null}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?It.memoizedState=Qn=t:Qn=Qn.next=t,Qn}function qn(){if(yn===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var n=Qn===null?It.memoizedState:Qn.next;if(n!==null)Qn=n,yn=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Qn===null?It.memoizedState=Qn=t:Qn=Qn.next=t}return Qn}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(t){var n=cu;return cu+=1,fl===null&&(fl=[]),t=$p(fl,t,n),n=It,(Qn===null?n.memoizedState:Qn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Fg:td),t}function Mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hu(t);if(t.$$typeof===ze)return pi(t)}throw Error(s(438,String(t)))}function qf(t){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ic(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=B;return n.index++,r}function Qa(t,n){return typeof n=="function"?n(t):n}function Dc(t){var n=qn();return Gf(n,yn,t)}function Gf(t,n,r){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}n.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var D=T=null,G=null,oe=n,ve=!1;do{var Ee=oe.lane&-536870913;if(Ee!==oe.lane?(zt&Ee)===Ee:(Xa&Ee)===Ee){var ce=oe.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ee===sl&&(ve=!0);else if((Xa&ce)===ce){oe=oe.next,ce===sl&&(ve=!0);continue}else Ee={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},G===null?(D=G=Ee,T=m):G=G.next=Ee,It.lanes|=ce,ks|=ce;Ee=oe.action,Do&&r(m,Ee),m=oe.hasEagerState?oe.eagerState:r(m,Ee)}else ce={lane:Ee,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},G===null?(D=G=ce,T=m):G=G.next=ce,It.lanes|=Ee,ks|=Ee;oe=oe.next}while(oe!==null&&oe!==n);if(G===null?T=m:G.next=D,!ue(m,t.memoizedState)&&(Kn=!0,ve&&(r=ol,r!==null)))throw r;t.memoizedState=m,t.baseState=T,t.baseQueue=G,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Yf(t){var n=qn(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,m=n.memoizedState;if(h!==null){r.pending=null;var T=h=h.next;do m=t(m,T.action),T=T.next;while(T!==h);ue(m,n.memoizedState)||(Kn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function lg(t,n,r){var o=It,h=qn(),m=Xt;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=n();var T=!ue((yn||h).memoizedState,r);if(T&&(h.memoizedState=r,Kn=!0),h=h.queue,Kf(hg.bind(null,o,h,t),[t]),h.getSnapshot!==n||T||Qn!==null&&Qn.memoizedState.tag&1){if(o.flags|=2048,dl(9,{destroy:void 0},cg.bind(null,o,h,r,n),null),En===null)throw Error(s(349));m||(Xa&127)!==0||ug(o,n,r)}return r}function ug(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Ic(),It.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function cg(t,n,r,o){n.value=r,n.getSnapshot=o,fg(n)&&dg(t)}function hg(t,n,r){return r(function(){fg(n)&&dg(t)})}function fg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ue(t,r)}catch{return!0}}function dg(t){var n=ji(t,2);n!==null&&sr(n,t,2)}function Xf(t){var n=Bi();if(typeof t=="function"){var r=t;if(t=r(),Do){re(!0);try{r()}finally{re(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},n}function mg(t,n,r,o){return t.baseState=r,Gf(t,yn,typeof o=="function"?o:Qa)}function yE(t,n,r,o,h){if(Nc(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};q.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,pg(n,m)):(m.next=r.next,n.pending=r.next=m)}}function pg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var m=q.T,T={};q.T=T;try{var D=r(h,o),G=q.S;G!==null&&G(T,D),gg(t,n,D)}catch(oe){Qf(t,n,oe)}finally{m!==null&&T.types!==null&&(m.types=T.types),q.T=m}}else try{m=r(h,o),gg(t,n,m)}catch(oe){Qf(t,n,oe)}}function gg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){yg(t,n,o)},function(o){return Qf(t,n,o)}):yg(t,n,r)}function yg(t,n,r){n.status="fulfilled",n.value=r,vg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pg(t,r)))}function Qf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,vg(n),n=n.next;while(n!==o)}t.action=null}function vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _g(t,n){return n}function bg(t,n){if(Xt){var r=En.formState;if(r!==null){e:{var o=It;if(Xt){if(Cn){t:{for(var h=Cn,m=jr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Fr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Cn=Fr(h.nextSibling),o=h.data==="F!";break e}}Cs(o)}o=!1}o&&(n=r[0])}}return r=Bi(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},r.queue=o,r=zg.bind(null,It,o),o.dispatch=r,o=Xf(!1),m=ed.bind(null,It,!1,o.queue),o=Bi(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=yE.bind(null,It,h,m,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function wg(t){var n=qn();return Eg(n,yn,t)}function Eg(t,n,r){if(n=Gf(t,n,_g)[0],t=Dc(Qa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=hu(n)}catch(T){throw T===ll?bc:T}else o=n;n=qn();var h=n.queue,m=h.dispatch;return r!==n.memoizedState&&(It.flags|=2048,dl(9,{destroy:void 0},vE.bind(null,h,r),null)),[o,m,t]}function vE(t,n){t.action=n}function Tg(t){var n=qn(),r=yn;if(r!==null)return Eg(n,r,t);qn(),n=n.memoizedState,r=qn();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function dl(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Ic(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Ag(){return qn().memoizedState}function Oc(t,n,r,o){var h=Bi();It.flags|=t,h.memoizedState=dl(1|n,{destroy:void 0},r,o===void 0?null:o)}function xc(t,n,r,o){var h=qn();o=o===void 0?null:o;var m=h.memoizedState.inst;yn!==null&&o!==null&&zf(o,yn.memoizedState.deps)?h.memoizedState=dl(n,m,r,o):(It.flags|=t,h.memoizedState=dl(1|n,m,r,o))}function Sg(t,n){Oc(8390656,8,t,n)}function Kf(t,n){xc(2048,8,t,n)}function _E(t){It.flags|=4;var n=It.updateQueue;if(n===null)n=Ic(),It.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rg(t){var n=qn().memoizedState;return _E({ref:n,nextImpl:t}),function(){if((sn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return xc(4,2,t,n)}function Ig(t,n){return xc(4,4,t,n)}function Mg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dg(t,n,r){r=r!=null?r.concat([t]):null,xc(4,4,Mg.bind(null,n,t),r)}function Wf(){}function Og(t,n){var r=qn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&zf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function xg(t,n){var r=qn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&zf(n,o[1]))return o[0];if(o=t(),Do){re(!0);try{t()}finally{re(!1)}}return r.memoizedState=[o,n],o}function $f(t,n,r){return r===void 0||(Xa&1073741824)!==0&&(zt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ny(),It.lanes|=t,ks|=t,r)}function Ng(t,n,r,o){return ue(r,n)?r:cl.current!==null?(t=$f(t,r,o),ue(t,n)||(Kn=!0),t):(Xa&42)===0||(Xa&1073741824)!==0&&(zt&261930)===0?(Kn=!0,t.memoizedState=r):(t=Ny(),It.lanes|=t,ks|=t,n)}function Vg(t,n,r,o,h){var m=J.p;J.p=m!==0&&8>m?m:8;var T=q.T,D={};q.T=D,ed(t,!1,n,r);try{var G=h(),oe=q.S;if(oe!==null&&oe(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ve=mE(G,o);fu(t,n,ve,Mr(t))}else fu(t,n,o,Mr(t))}catch(Ee){fu(t,n,{then:function(){},status:"rejected",reason:Ee},Mr())}finally{J.p=m,T!==null&&D.types!==null&&(T.types=D.types),q.T=T}}function bE(){}function Jf(t,n,r,o){if(t.tag!==5)throw Error(s(476));var h=Pg(t).queue;Vg(t,h,n,ge,r===null?bE:function(){return kg(t),r(o)})}function Pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:ge},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kg(t){var n=Pg(t);n.next===null&&(n=t.alternate.memoizedState),fu(t,n.next.queue,{},Mr())}function Zf(){return pi(Mu)}function Lg(){return qn().memoizedState}function Ug(){return qn().memoizedState}function wE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mr();t=Ds(r);var o=Os(n,t,r);o!==null&&(sr(o,n,r),ou(o,n,r)),n={cache:If()},t.payload=n;return}n=n.return}}function EE(t,n,r){var o=Mr();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Nc(t)?jg(n,r):(r=ea(t,n,r,o),r!==null&&(sr(r,t,o),Bg(r,n,o)))}function zg(t,n,r){var o=Mr();fu(t,n,r,o)}function fu(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))jg(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,D=m(T,r);if(h.hasEagerState=!0,h.eagerState=D,ue(D,T))return ga(t,n,h,0),En===null&&pa(),!1}catch{}finally{}if(r=ea(t,n,h,o),r!==null)return sr(r,t,o),Bg(r,n,o),!0}return!1}function ed(t,n,r,o){if(o={lane:2,revertLane:xd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(n)throw Error(s(479))}else n=ea(t,r,o,2),n!==null&&sr(n,t,2)}function Nc(t){var n=t.alternate;return t===It||n!==null&&n===It}function jg(t,n){hl=Rc=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,fo(t,r)}}var du={readContext:pi,use:Mc,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};du.useEffectEvent=kn;var Fg={readContext:pi,use:Mc,useCallback:function(t,n){return Bi().memoizedState=[t,n===void 0?null:n],t},useContext:pi,useEffect:Sg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Oc(4194308,4,Mg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Oc(4194308,4,t,n)},useInsertionEffect:function(t,n){Oc(4,2,t,n)},useMemo:function(t,n){var r=Bi();n=n===void 0?null:n;var o=t();if(Do){re(!0);try{t()}finally{re(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Bi();if(r!==void 0){var h=r(n);if(Do){re(!0);try{r(n)}finally{re(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=EE.bind(null,It,t),[o.memoizedState,t]},useRef:function(t){var n=Bi();return t={current:t},n.memoizedState=t},useState:function(t){t=Xf(t);var n=t.queue,r=zg.bind(null,It,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Wf,useDeferredValue:function(t,n){var r=Bi();return $f(r,t,n)},useTransition:function(){var t=Xf(!1);return t=Vg.bind(null,It,t.queue,!0,!1),Bi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=It,h=Bi();if(Xt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),En===null)throw Error(s(349));(zt&127)!==0||ug(o,n,r)}h.memoizedState=r;var m={value:r,getSnapshot:n};return h.queue=m,Sg(hg.bind(null,o,m,t),[t]),o.flags|=2048,dl(9,{destroy:void 0},cg.bind(null,o,m,r,n),null),r},useId:function(){var t=Bi(),n=En.identifierPrefix;if(Xt){var r=va,o=ya;r=(o&~(1<<32-ye(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Cc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=pE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Zf,useFormState:bg,useActionState:bg,useOptimistic:function(t){var n=Bi();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ed.bind(null,It,!0,r),r.dispatch=n,[t,n]},useMemoCache:qf,useCacheRefresh:function(){return Bi().memoizedState=wE.bind(null,It)},useEffectEvent:function(t){var n=Bi(),r={impl:t};return n.memoizedState=r,function(){if((sn&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},td={readContext:pi,use:Mc,useCallback:Og,useContext:pi,useEffect:Kf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:xg,useReducer:Dc,useRef:Ag,useState:function(){return Dc(Qa)},useDebugValue:Wf,useDeferredValue:function(t,n){var r=qn();return Ng(r,yn.memoizedState,t,n)},useTransition:function(){var t=Dc(Qa)[0],n=qn().memoizedState;return[typeof t=="boolean"?t:hu(t),n]},useSyncExternalStore:lg,useId:Lg,useHostTransitionStatus:Zf,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var r=qn();return mg(r,yn,t,n)},useMemoCache:qf,useCacheRefresh:Ug};td.useEffectEvent=Rg;var Hg={readContext:pi,use:Mc,useCallback:Og,useContext:pi,useEffect:Kf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:xg,useReducer:Yf,useRef:Ag,useState:function(){return Yf(Qa)},useDebugValue:Wf,useDeferredValue:function(t,n){var r=qn();return yn===null?$f(r,t,n):Ng(r,yn.memoizedState,t,n)},useTransition:function(){var t=Yf(Qa)[0],n=qn().memoizedState;return[typeof t=="boolean"?t:hu(t),n]},useSyncExternalStore:lg,useId:Lg,useHostTransitionStatus:Zf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=qn();return yn!==null?mg(r,yn,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:qf,useCacheRefresh:Ug};Hg.useEffectEvent=Rg;function nd(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:U({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var id={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Mr(),h=Ds(o);h.payload=n,r!=null&&(h.callback=r),n=Os(t,h,o),n!==null&&(sr(n,t,o),ou(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Mr(),h=Ds(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Os(t,h,o),n!==null&&(sr(n,t,o),ou(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Mr(),o=Ds(r);o.tag=2,n!=null&&(o.callback=n),n=Os(t,o,r),n!==null&&(sr(n,t,r),ou(n,t,r))}};function qg(t,n,r,o,h,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,T):n.prototype&&n.prototype.isPureReactComponent?!se(r,o)||!se(h,m):!0}function Gg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&id.enqueueReplaceState(n,n.state,null)}function Oo(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=U({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Yg(t){di(t)}function Xg(t){console.error(t)}function Qg(t){di(t)}function Vc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,n,r){return r=Ds(r),r.tag=3,r.payload={element:null},r.callback=function(){Vc(t,n)},r}function Wg(t){return t=Ds(t),t.tag=3,t}function $g(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){Kg(n,r,o)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Kg(n,r,o),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})})}function TE(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&al(n,r,h,!0),r=Sr.current,r!==null){switch(r.tag){case 31:case 13:return Br===null?Yc():r.alternate===null&&Ln===0&&(Ln=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===wc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Md(t,o,h)),!1;case 22:return r.flags|=65536,o===wc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Md(t,o,h)),!1}throw Error(s(435,r.tag))}return Md(t,o,h),Yc(),!1}if(Xt)return n=Sr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Tf&&(t=Error(s(422),{cause:o}),nu(Lr(t,r)))):(o!==Tf&&(n=Error(s(423),{cause:o}),nu(Lr(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Lr(o,r),h=rd(t.stateNode,o,h),Vf(t,h),Ln!==4&&(Ln=2)),!1;var m=Error(s(520),{cause:o});if(m=Lr(m,r),wu===null?wu=[m]:wu.push(m),Ln!==4&&(Ln=2),n===null)return!0;o=Lr(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=rd(r.stateNode,o,t),Vf(r,t),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ls===null||!Ls.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wg(h),$g(h,t,r,o),Vf(r,h),!1}r=r.return}while(r!==null);return!1}var ad=Error(s(461)),Kn=!1;function gi(t,n,r,o){n.child=t===null?tg(n,null,r,o):Mo(n,t.child,r,o)}function Jg(t,n,r,o,h){r=r.render;var m=n.ref;if("ref"in o){var T={};for(var D in o)D!=="ref"&&(T[D]=o[D])}else T=o;return So(n),o=jf(t,n,r,T,m,h),D=Bf(),t!==null&&!Kn?(Ff(t,n,h),Ka(t,n,h)):(Xt&&D&&wf(n),n.flags|=1,gi(t,n,o,h),n.child)}function Zg(t,n,r,o,h){if(t===null){var m=r.type;return typeof m=="function"&&!vf(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,ey(t,n,m,o,h)):(t=pc(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!dd(t,h)){var T=m.memoizedProps;if(r=r.compare,r=r!==null?r:se,r(T,o)&&t.ref===n.ref)return Ka(t,n,h)}return n.flags|=1,t=Ha(m,o),t.ref=n.ref,t.return=n,n.child=t}function ey(t,n,r,o,h){if(t!==null){var m=t.memoizedProps;if(se(m,o)&&t.ref===n.ref)if(Kn=!1,n.pendingProps=o=m,dd(t,h))(t.flags&131072)!==0&&(Kn=!0);else return n.lanes=t.lanes,Ka(t,n,h)}return sd(t,n,r,o,h)}function ty(t,n,r,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return ny(t,n,m,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&_c(n,m!==null?m.cachePool:null),m!==null?rg(n,m):kf(),ag(n);else return o=n.lanes=536870912,ny(t,n,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(_c(n,m.cachePool),rg(n,m),Ns(),n.memoizedState=null):(t!==null&&_c(n,null),kf(),Ns());return gi(t,n,h,r),n.child}function mu(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(t,n,r,o,h){var m=Df();return m=m===null?null:{parent:Xn._currentValue,pool:m},n.memoizedState={baseLanes:r,cachePool:m},t!==null&&_c(n,null),kf(),ag(n),t!==null&&al(t,n,o,!0),n.childLanes=h,null}function Pc(t,n){return n=Lc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function iy(t,n,r){return Mo(n,t.child,null,r),t=Pc(n,n.pendingProps),t.flags|=2,Rr(n),n.memoizedState=null,t}function AE(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xt){if(o.mode==="hidden")return t=Pc(n,o),n.lanes=536870912,mu(null,t);if(Uf(n),(t=Cn)?(t=pv(t,jr),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},r=jp(t),r.return=n,n.child=r,mi=n,Cn=null)):t=null,t===null)throw Cs(n);return n.lanes=536870912,null}return Pc(n,o)}var m=t.memoizedState;if(m!==null){var T=m.dehydrated;if(Uf(n),h)if(n.flags&256)n.flags&=-257,n=iy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Kn||al(t,n,r,!1),h=(r&t.childLanes)!==0,Kn||h){if(o=En,o!==null&&(T=Xr(o,r),T!==0&&T!==m.retryLane))throw m.retryLane=T,ji(t,T),sr(o,t,T),ad;Yc(),n=iy(t,n,r)}else t=m.treeContext,Cn=Fr(T.nextSibling),mi=n,Xt=!0,Rs=null,jr=!1,t!==null&&Hp(n,t),n=Pc(n,o),n.flags|=4096;return n}return t=Ha(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function kc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function sd(t,n,r,o,h){return So(n),r=jf(t,n,r,o,void 0,h),o=Bf(),t!==null&&!Kn?(Ff(t,n,h),Ka(t,n,h)):(Xt&&o&&wf(n),n.flags|=1,gi(t,n,r,h),n.child)}function ry(t,n,r,o,h,m){return So(n),n.updateQueue=null,r=og(n,o,r,h),sg(t),o=Bf(),t!==null&&!Kn?(Ff(t,n,m),Ka(t,n,m)):(Xt&&o&&wf(n),n.flags|=1,gi(t,n,r,m),n.child)}function ay(t,n,r,o,h){if(So(n),n.stateNode===null){var m=Ar,T=r.contextType;typeof T=="object"&&T!==null&&(m=pi(T)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=id,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},xf(n),T=r.contextType,m.context=typeof T=="object"&&T!==null?pi(T):Ar,m.state=n.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(nd(n,r,T,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&id.enqueueReplaceState(m,m.state,null),uu(n,o,m,h),lu(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var D=n.memoizedProps,G=Oo(r,D);m.props=G;var oe=m.context,ve=r.contextType;T=Ar,typeof ve=="object"&&ve!==null&&(T=pi(ve));var Ee=r.getDerivedStateFromProps;ve=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(D||oe!==T)&&Gg(n,m,o,T),Ms=!1;var ce=n.memoizedState;m.state=ce,uu(n,o,m,h),lu(),oe=n.memoizedState,D||ce!==oe||Ms?(typeof Ee=="function"&&(nd(n,r,Ee,o),oe=n.memoizedState),(G=Ms||qg(n,r,G,o,ce,oe,T))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=oe),m.props=o,m.state=oe,m.context=T,o=G):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Nf(t,n),T=n.memoizedProps,ve=Oo(r,T),m.props=ve,Ee=n.pendingProps,ce=m.context,oe=r.contextType,G=Ar,typeof oe=="object"&&oe!==null&&(G=pi(oe)),D=r.getDerivedStateFromProps,(oe=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Ee||ce!==G)&&Gg(n,m,o,G),Ms=!1,ce=n.memoizedState,m.state=ce,uu(n,o,m,h),lu();var me=n.memoizedState;T!==Ee||ce!==me||Ms||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof D=="function"&&(nd(n,r,D,o),me=n.memoizedState),(ve=Ms||qg(n,r,ve,o,ce,me,G)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(oe||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,me,G),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,me,G)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),m.props=o,m.state=me,m.context=G,o=ve):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ce===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,kc(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Mo(n,t.child,null,h),n.child=Mo(n,null,r,h)):gi(t,n,r,h),n.memoizedState=m.state,t=n.child):t=Ka(t,n,h),t}function sy(t,n,r,o){return To(),n.flags|=256,gi(t,n,r,o),n.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Kp()}}function ud(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ir),t}function oy(t,n,r){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(Hn.current&2)!==0),T&&(h=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xt){if(h?xs(n):Ns(),(t=Cn)?(t=pv(t,jr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:ya,overflow:va}:null,retryLane:536870912,hydrationErrors:null},r=jp(t),r.return=n,n.child=r,mi=n,Cn=null)):t=null,t===null)throw Cs(n);return Gd(t)?n.lanes=32:n.lanes=536870912,null}var D=o.children;return o=o.fallback,h?(Ns(),h=n.mode,D=Lc({mode:"hidden",children:D},h),o=Eo(o,h,r,null),D.return=n,o.return=n,D.sibling=o,n.child=D,o=n.child,o.memoizedState=ld(r),o.childLanes=ud(t,T,r),n.memoizedState=od,mu(null,o)):(xs(n),cd(n,D))}var G=t.memoizedState;if(G!==null&&(D=G.dehydrated,D!==null)){if(m)n.flags&256?(xs(n),n.flags&=-257,n=hd(t,n,r)):n.memoizedState!==null?(Ns(),n.child=t.child,n.flags|=128,n=null):(Ns(),D=o.fallback,h=n.mode,o=Lc({mode:"visible",children:o.children},h),D=Eo(D,h,r,null),D.flags|=2,o.return=n,D.return=n,o.sibling=D,n.child=o,Mo(n,t.child,null,r),o=n.child,o.memoizedState=ld(r),o.childLanes=ud(t,T,r),n.memoizedState=od,n=mu(null,o));else if(xs(n),Gd(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var oe=T.dgst;T=oe,o=Error(s(419)),o.stack="",o.digest=T,nu({value:o,source:null,stack:null}),n=hd(t,n,r)}else if(Kn||al(t,n,r,!1),T=(r&t.childLanes)!==0,Kn||T){if(T=En,T!==null&&(o=Xr(T,r),o!==0&&o!==G.retryLane))throw G.retryLane=o,ji(t,o),sr(T,t,o),ad;qd(D)||Yc(),n=hd(t,n,r)}else qd(D)?(n.flags|=192,n.child=t.child,n=null):(t=G.treeContext,Cn=Fr(D.nextSibling),mi=n,Xt=!0,Rs=null,jr=!1,t!==null&&Hp(n,t),n=cd(n,o.children),n.flags|=4096);return n}return h?(Ns(),D=o.fallback,h=n.mode,G=t.child,oe=G.sibling,o=Ha(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,oe!==null?D=Ha(oe,D):(D=Eo(D,h,r,null),D.flags|=2),D.return=n,o.return=n,o.sibling=D,n.child=o,mu(null,o),o=n.child,D=t.child.memoizedState,D===null?D=ld(r):(h=D.cachePool,h!==null?(G=Xn._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=Kp(),D={baseLanes:D.baseLanes|r,cachePool:h}),o.memoizedState=D,o.childLanes=ud(t,T,r),n.memoizedState=od,mu(t.child,o)):(xs(n),r=t.child,t=r.sibling,r=Ha(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(T=n.deletions,T===null?(n.deletions=[t],n.flags|=16):T.push(t)),n.child=r,n.memoizedState=null,r)}function cd(t,n){return n=Lc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Lc(t,n){return t=Ai(22,t,null,n),t.lanes=0,t}function hd(t,n,r){return Mo(n,t.child,null,r),t=cd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Rf(t.return,n,r)}function fd(t,n,r,o,h,m){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=r,T.tailMode=h,T.treeForkCount=m)}function uy(t,n,r){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var T=Hn.current,D=(T&2)!==0;if(D?(T=T&1|2,n.flags|=128):T&=1,Te(Hn,T),gi(t,n,o,r),o=Xt?tu:0,!D&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,r,n);else if(t.tag===19)ly(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Sc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),fd(n,!1,h,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}fd(n,!0,r,null,m,o);break;case"together":fd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ka(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ks|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ha(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ha(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function dd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function SE(t,n,r){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),Is(n,Xn,t.memoizedState.cache),To();break;case 27:case 5:Rt(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(xs(n),t=Ka(t,n,r),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(al(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return uy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Te(Hn,Hn.current),o)break;return null;case 22:return n.lanes=0,ty(t,n,r,n.pendingProps);case 24:Is(n,Xn,t.memoizedState.cache)}return Ka(t,n,r)}function cy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Kn=!0;else{if(!dd(t,r)&&(n.flags&128)===0)return Kn=!1,SE(t,n,r);Kn=(t.flags&131072)!==0}else Kn=!1,Xt&&(n.flags&1048576)!==0&&Fp(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Co(n.elementType),n.type=t,typeof t=="function")vf(t)?(o=Oo(t,o),n.tag=1,n=ay(null,n,t,o,r)):(n.tag=0,n=sd(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===je){n.tag=11,n=Jg(null,n,t,o,r);break e}else if(h===H){n.tag=14,n=Zg(null,n,t,o,r);break e}}throw n=K(t)||t,Error(s(306,n,""))}}return n;case 0:return sd(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Oo(o,n.pendingProps),ay(t,n,o,h,r);case 3:e:{if(ot(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Nf(t,n),uu(n,o,null,r);var T=n.memoizedState;if(o=T.cache,Is(n,Xn,o),o!==m.cache&&Cf(n,[Xn],r,!0),lu(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=sy(t,n,o,r);break e}else if(o!==h){h=Lr(Error(s(424)),n),nu(h),n=sy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Cn=Fr(t.firstChild),mi=n,Xt=!0,Rs=null,jr=!0,r=tg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(To(),o===h){n=Ka(t,n,r);break e}gi(t,n,o,r)}n=n.child}return n;case 26:return kc(t,n),t===null?(r=wv(n.type,null,n.pendingProps,null))?n.memoizedState=r:Xt||(r=n.type,t=n.pendingProps,o=Zc(He.current).createElement(r),o[pn]=n,o[jn]=t,yi(o,r,t),xn(o),n.stateNode=o):n.memoizedState=wv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Rt(n),t===null&&Xt&&(o=n.stateNode=vv(n.type,n.pendingProps,He.current),mi=n,jr=!0,h=Cn,Bs(n.type)?(Yd=h,Cn=Fr(o.firstChild)):Cn=h),gi(t,n,n.pendingProps.children,r),kc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xt&&((h=o=Cn)&&(o=tT(o,n.type,n.pendingProps,jr),o!==null?(n.stateNode=o,mi=n,Cn=Fr(o.firstChild),jr=!1,h=!0):h=!1),h||Cs(n)),Rt(n),h=n.type,m=n.pendingProps,T=t!==null?t.memoizedProps:null,o=m.children,Bd(h,m)?o=null:T!==null&&Bd(h,T)&&(n.flags|=32),n.memoizedState!==null&&(h=jf(t,n,gE,null,null,r),Mu._currentValue=h),kc(t,n),gi(t,n,o,r),n.child;case 6:return t===null&&Xt&&((t=r=Cn)&&(r=nT(r,n.pendingProps,jr),r!==null?(n.stateNode=r,mi=n,Cn=null,t=!0):t=!1),t||Cs(n)),null;case 13:return oy(t,n,r);case 4:return ot(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Mo(n,null,o,r):gi(t,n,o,r),n.child;case 11:return Jg(t,n,n.type,n.pendingProps,r);case 7:return gi(t,n,n.pendingProps,r),n.child;case 8:return gi(t,n,n.pendingProps.children,r),n.child;case 12:return gi(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Is(n,n.type,o.value),gi(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,So(n),h=pi(h),o=o(h),n.flags|=1,gi(t,n,o,r),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,r);case 15:return ey(t,n,n.type,n.pendingProps,r);case 19:return uy(t,n,r);case 31:return AE(t,n,r);case 22:return ty(t,n,r,n.pendingProps);case 24:return So(n),o=pi(Xn),t===null?(h=Df(),h===null&&(h=En,m=If(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),n.memoizedState={parent:o,cache:h},xf(n),Is(n,Xn,h)):((t.lanes&r)!==0&&(Nf(t,n),uu(n,null,null,r),lu()),h=t.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Is(n,Xn,o)):(o=m.cache,Is(n,Xn,o),o!==h.cache&&Cf(n,[Xn],r,!0))),gi(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Wa(t){t.flags|=4}function md(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ly())t.flags|=8192;else throw Io=wc,Of}else t.flags&=-16777217}function hy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rv(n))if(Ly())t.flags|=8192;else throw Io=wc,Of}function Uc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ft():536870912,t.lanes|=n,yl|=n)}function pu(t,n){if(!Xt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function In(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function RE(t,n,r){var o=n.pendingProps;switch(Ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(n),null;case 1:return In(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ya(Xn),pt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Wa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Af())),In(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(Wa(n),m!==null?(In(n),hy(n,m)):(In(n),md(n,h,null,o,r))):m?m!==t.memoizedState?(Wa(n),In(n),hy(n,m)):(In(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Wa(n),In(n),md(n,h,t,o,r)),null;case 27:if(on(n),r=He.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wa(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return In(n),null}t=we.current,rl(n)?qp(n):(t=vv(h,o,r),n.stateNode=t,Wa(n))}return In(n),null;case 5:if(on(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wa(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return In(n),null}if(m=we.current,rl(n))qp(n);else{var T=Zc(He.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?T.createElement("select",{is:o.is}):T.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?T.createElement(h,{is:o.is}):T.createElement(h)}}m[pn]=n,m[jn]=o;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(yi(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Wa(n)}}return In(n),md(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Wa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=He.current,rl(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=mi,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[pn]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ov(t.nodeValue,r)),t||Cs(n,!0)}else t=Zc(t).createTextNode(o),t[pn]=n,n.stateNode=t}return In(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=rl(n),r!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pn]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;In(n),t=!1}else r=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Rr(n),n):(Rr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return In(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[pn]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;In(n),h=!1}else h=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rr(n),n):(Rr(n),null)}return Rr(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Uc(n,n.updateQueue),In(n),null);case 4:return pt(),t===null&&kd(n.stateNode.containerInfo),In(n),null;case 10:return Ya(n.type),In(n),null;case 19:if(ie(Hn),o=n.memoizedState,o===null)return In(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)pu(o,!1);else{if(Ln!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=Sc(t),m!==null){for(n.flags|=128,pu(o,!1),t=m.updateQueue,n.updateQueue=t,Uc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zp(r,t),r=r.sibling;return Te(Hn,Hn.current&1|2),Xt&&qa(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Yt()>Hc&&(n.flags|=128,h=!0,pu(o,!1),n.lanes=4194304)}else{if(!h)if(t=Sc(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uc(n,t),pu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Xt)return In(n),null}else 2*Yt()-o.renderingStartTime>Hc&&r!==536870912&&(n.flags|=128,h=!0,pu(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(t=o.last,t!==null?t.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,r=Hn.current,Te(Hn,h?r&1|2:r&1),Xt&&qa(n,o.treeForkCount),t):(In(n),null);case 22:case 23:return Rr(n),Lf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(In(n),n.subtreeFlags&6&&(n.flags|=8192)):In(n),r=n.updateQueue,r!==null&&Uc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&ie(Ro),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ya(Xn),In(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function CE(t,n){switch(Ef(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ya(Xn),pt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return on(n),null;case 31:if(n.memoizedState!==null){if(Rr(n),n.alternate===null)throw Error(s(340));To()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Rr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));To()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Hn),null;case 4:return pt(),null;case 10:return Ya(n.type),null;case 22:case 23:return Rr(n),Lf(),t!==null&&ie(Ro),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ya(Xn),null;case 25:return null;default:return null}}function fy(t,n){switch(Ef(n),n.tag){case 3:Ya(Xn),pt();break;case 26:case 27:case 5:on(n);break;case 4:pt();break;case 31:n.memoizedState!==null&&Rr(n);break;case 13:Rr(n);break;case 19:ie(Hn);break;case 10:Ya(n.type);break;case 22:case 23:Rr(n),Lf(),t!==null&&ie(Ro);break;case 24:Ya(Xn)}}function gu(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var m=r.create,T=r.inst;o=m(),T.destroy=o}r=r.next}while(r!==h)}}catch(D){dn(n,n.return,D)}}function Vs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var T=o.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,h=n;var G=r,oe=D;try{oe()}catch(ve){dn(h,G,ve)}}}o=o.next}while(o!==m)}}catch(ve){dn(n,n.return,ve)}}function dy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(o){dn(t,t.return,o)}}}function my(t,n,r){r.props=Oo(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){dn(t,n,o)}}function yu(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){dn(t,n,h)}}function _a(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){dn(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){dn(t,n,h)}else r.current=null}function py(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){dn(t,t.return,h)}}function pd(t,n,r){try{var o=t.stateNode;KE(o,t.type,r,n),o[jn]=n}catch(h){dn(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bs(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xi));else if(o!==4&&(o===27&&Bs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(yd(t,n,r),t=t.sibling;t!==null;)yd(t,n,r),t=t.sibling}function zc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Bs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(zc(t,n,r),t=t.sibling;t!==null;)zc(t,n,r),t=t.sibling}function yy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);yi(n,o,r),n[pn]=t,n[jn]=r}catch(m){dn(t,t.return,m)}}var $a=!1,Wn=!1,vd=!1,vy=typeof WeakSet=="function"?WeakSet:Set,oi=null;function IE(t,n){if(t=t.containerInfo,zd=sh,t=$(t),Le(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var T=0,D=-1,G=-1,oe=0,ve=0,Ee=t,ce=null;t:for(;;){for(var me;Ee!==r||h!==0&&Ee.nodeType!==3||(D=T+h),Ee!==m||o!==0&&Ee.nodeType!==3||(G=T+o),Ee.nodeType===3&&(T+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)ce=Ee,Ee=me;for(;;){if(Ee===t)break t;if(ce===r&&++oe===h&&(D=T),ce===m&&++ve===o&&(G=T),(me=Ee.nextSibling)!==null)break;Ee=ce,ce=Ee.parentNode}Ee=me}r=D===-1||G===-1?null:{start:D,end:G}}else r=null}r=r||{start:0,end:0}}else r=null;for(jd={focusedElem:t,selectionRange:r},sh=!1,oi=n;oi!==null;)if(n=oi,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,oi=t;else for(;oi!==null;){switch(n=oi,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=n,h=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var nt=Oo(r.type,h);t=o.getSnapshotBeforeUpdate(nt,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(dt){dn(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Hd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,oi=t;break}oi=n.return}}function _y(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Za(t,r),o&4&&gu(5,r);break;case 1:if(Za(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(T){dn(r,r.return,T)}else{var h=Oo(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){dn(r,r.return,T)}}o&64&&dy(r),o&512&&yu(r,r.return);break;case 3:if(Za(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ig(t,n)}catch(T){dn(r,r.return,T)}}break;case 27:n===null&&o&4&&yy(r);case 26:case 5:Za(t,r),n===null&&o&4&&py(r),o&512&&yu(r,r.return);break;case 12:Za(t,r);break;case 31:Za(t,r),o&4&&Ey(t,r);break;case 13:Za(t,r),o&4&&Ty(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=LE.bind(null,r),iT(t,r))));break;case 22:if(o=r.memoizedState!==null||$a,!o){n=n!==null&&n.memoizedState!==null||Wn,h=$a;var m=Wn;$a=o,(Wn=n)&&!m?es(t,r,(r.subtreeFlags&8772)!==0):Za(t,r),$a=h,Wn=m}break;case 30:break;default:Za(t,r)}}function by(t){var n=t.alternate;n!==null&&(t.alternate=null,by(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Di(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var On=null,nr=!1;function Ja(t,n,r){for(r=r.child;r!==null;)wy(t,n,r),r=r.sibling}function wy(t,n,r){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(Qe,r)}catch{}switch(r.tag){case 26:Wn||_a(r,n),Ja(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Wn||_a(r,n);var o=On,h=nr;Bs(r.type)&&(On=r.stateNode,nr=!1),Ja(t,n,r),Ru(r.stateNode),On=o,nr=h;break;case 5:Wn||_a(r,n);case 6:if(o=On,h=nr,On=null,Ja(t,n,r),On=o,nr=h,On!==null)if(nr)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(r.stateNode)}catch(m){dn(r,n,m)}else try{On.removeChild(r.stateNode)}catch(m){dn(r,n,m)}break;case 18:On!==null&&(nr?(t=On,dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Sl(t)):dv(On,r.stateNode));break;case 4:o=On,h=nr,On=r.stateNode.containerInfo,nr=!0,Ja(t,n,r),On=o,nr=h;break;case 0:case 11:case 14:case 15:Vs(2,r,n),Wn||Vs(4,r,n),Ja(t,n,r);break;case 1:Wn||(_a(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&my(r,n,o)),Ja(t,n,r);break;case 21:Ja(t,n,r);break;case 22:Wn=(o=Wn)||r.memoizedState!==null,Ja(t,n,r),Wn=o;break;default:Ja(t,n,r)}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Sl(t)}catch(r){dn(n,n.return,r)}}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(r){dn(n,n.return,r)}}function ME(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(s(435,t.tag))}}function jc(t,n){var r=ME(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=UE.bind(null,t,o);o.then(h,h)}})}function ir(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],m=t,T=n,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Bs(D.type)){On=D.stateNode,nr=!1;break e}break;case 5:On=D.stateNode,nr=!1;break e;case 3:case 4:On=D.stateNode.containerInfo,nr=!0;break e}D=D.return}if(On===null)throw Error(s(160));wy(m,T,h),On=null,nr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var ta=null;function Ay(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ir(n,t),rr(t),o&4&&(Vs(3,t,t.return),gu(3,t),Vs(5,t,t.return));break;case 1:ir(n,t),rr(t),o&512&&(Wn||r===null||_a(r,r.return)),o&64&&$a&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ta;if(ir(n,t),rr(t),o&512&&(Wn||r===null||_a(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[pr]||m[pn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),yi(m,o,r),m[pn]=t,xn(m),o=m;break e;case"link":var T=Av("link","href",h).get(o+(r.href||""));if(T){for(var D=0;D<T.length;D++)if(m=T[D],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(D,1);break t}}m=h.createElement(o),yi(m,o,r),h.head.appendChild(m);break;case"meta":if(T=Av("meta","content",h).get(o+(r.content||""))){for(D=0;D<T.length;D++)if(m=T[D],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(D,1);break t}}m=h.createElement(o),yi(m,o,r),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[pn]=t,xn(m),o=m}t.stateNode=o}else Sv(h,t.type,t.stateNode);else t.stateNode=Tv(h,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Sv(h,t.type,t.stateNode):Tv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&pd(t,t.memoizedProps,r.memoizedProps)}break;case 27:ir(n,t),rr(t),o&512&&(Wn||r===null||_a(r,r.return)),r!==null&&o&4&&pd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ir(n,t),rr(t),o&512&&(Wn||r===null||_a(r,r.return)),t.flags&32){h=t.stateNode;try{Yn(h,"")}catch(nt){dn(t,t.return,nt)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,r!==null?r.memoizedProps:h)),o&1024&&(vd=!0);break;case 6:if(ir(n,t),rr(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(nt){dn(t,t.return,nt)}}break;case 3:if(nh=null,h=ta,ta=eh(n.containerInfo),ir(n,t),ta=h,rr(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Sl(n.containerInfo)}catch(nt){dn(t,t.return,nt)}vd&&(vd=!1,Sy(t));break;case 4:o=ta,ta=eh(t.stateNode.containerInfo),ir(n,t),rr(t),ta=o;break;case 12:ir(n,t),rr(t);break;case 31:ir(n,t),rr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jc(t,o)));break;case 13:ir(n,t),rr(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fc=Yt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jc(t,o)));break;case 22:h=t.memoizedState!==null;var G=r!==null&&r.memoizedState!==null,oe=$a,ve=Wn;if($a=oe||h,Wn=ve||G,ir(n,t),Wn=ve,$a=oe,rr(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||G||$a||Wn||xo(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){G=r=n;try{if(m=G.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=G.stateNode;var Ee=G.memoizedProps.style,ce=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;D.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(nt){dn(G,G.return,nt)}}}else if(n.tag===6){if(r===null){G=n;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(nt){dn(G,G.return,nt)}}}else if(n.tag===18){if(r===null){G=n;try{var me=G.stateNode;h?mv(me,!0):mv(G.stateNode,!1)}catch(nt){dn(G,G.return,nt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,jc(t,r))));break;case 19:ir(n,t),rr(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,jc(t,o)));break;case 30:break;case 21:break;default:ir(n,t),rr(t)}}function rr(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,m=gd(t);zc(t,m,h);break;case 5:var T=r.stateNode;r.flags&32&&(Yn(T,""),r.flags&=-33);var D=gd(t);zc(t,D,T);break;case 3:case 4:var G=r.stateNode.containerInfo,oe=gd(t);yd(t,oe,G);break;default:throw Error(s(161))}}catch(ve){dn(t,t.return,ve)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Za(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function xo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),xo(n);break;case 1:_a(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),xo(n);break;case 27:Ru(n.stateNode);case 26:case 5:_a(n,n.return),xo(n);break;case 22:n.memoizedState===null&&xo(n);break;case 30:xo(n);break;default:xo(n)}t=t.sibling}}function es(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:es(h,m,r),gu(4,m);break;case 1:if(es(h,m,r),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(oe){dn(o,o.return,oe)}if(o=m,h=o.updateQueue,h!==null){var D=o.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)ng(G[h],D)}catch(oe){dn(o,o.return,oe)}}r&&T&64&&dy(m),yu(m,m.return);break;case 27:yy(m);case 26:case 5:es(h,m,r),r&&o===null&&T&4&&py(m),yu(m,m.return);break;case 12:es(h,m,r);break;case 31:es(h,m,r),r&&T&4&&Ey(h,m);break;case 13:es(h,m,r),r&&T&4&&Ty(h,m);break;case 22:m.memoizedState===null&&es(h,m,r),yu(m,m.return);break;case 30:break;default:es(h,m,r)}n=n.sibling}}function _d(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&iu(r))}function bd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&iu(t))}function na(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,o),n=n.sibling}function Ry(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:na(t,n,r,o),h&2048&&gu(9,n);break;case 1:na(t,n,r,o);break;case 3:na(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&iu(t)));break;case 12:if(h&2048){na(t,n,r,o),t=n.stateNode;try{var m=n.memoizedProps,T=m.id,D=m.onPostCommit;typeof D=="function"&&D(T,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){dn(n,n.return,G)}}else na(t,n,r,o);break;case 31:na(t,n,r,o);break;case 13:na(t,n,r,o);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?na(t,n,r,o):vu(t,n):m._visibility&2?na(t,n,r,o):(m._visibility|=2,ml(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&_d(T,n);break;case 24:na(t,n,r,o),h&2048&&bd(n.alternate,n);break;default:na(t,n,r,o)}}function ml(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,T=n,D=r,G=o,oe=T.flags;switch(T.tag){case 0:case 11:case 15:ml(m,T,D,G,h),gu(8,T);break;case 23:break;case 22:var ve=T.stateNode;T.memoizedState!==null?ve._visibility&2?ml(m,T,D,G,h):vu(m,T):(ve._visibility|=2,ml(m,T,D,G,h)),h&&oe&2048&&_d(T.alternate,T);break;case 24:ml(m,T,D,G,h),h&&oe&2048&&bd(T.alternate,T);break;default:ml(m,T,D,G,h)}n=n.sibling}}function vu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:vu(r,o),h&2048&&_d(o.alternate,o);break;case 24:vu(r,o),h&2048&&bd(o.alternate,o);break;default:vu(r,o)}n=n.sibling}}var _u=8192;function pl(t,n,r){if(t.subtreeFlags&_u)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:pl(t,n,r),t.flags&_u&&t.memoizedState!==null&&pT(r,ta,t.memoizedState,t.memoizedProps);break;case 5:pl(t,n,r);break;case 3:case 4:var o=ta;ta=eh(t.stateNode.containerInfo),pl(t,n,r),ta=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=_u,_u=16777216,pl(t,n,r),_u=o):pl(t,n,r));break;default:pl(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];oi=o,Dy(o,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:bu(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:bu(t);break;case 12:bu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bc(t)):bu(t);break;default:bu(t)}}function Bc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];oi=o,Dy(o,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),Bc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Bc(n));break;default:Bc(n)}t=t.sibling}}function Dy(t,n){for(;oi!==null;){var r=oi;switch(r.tag){case 0:case 11:case 15:Vs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:iu(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,oi=o;else e:for(r=t;oi!==null;){o=oi;var h=o.sibling,m=o.return;if(by(o),o===r){oi=null;break e}if(h!==null){h.return=m,oi=h;break e}oi=m}}}var DE={getCacheForType:function(t){var n=pi(Xn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return pi(Xn).controller.signal}},OE=typeof WeakMap=="function"?WeakMap:Map,sn=0,En=null,Pt=null,zt=0,fn=0,Cr=null,Ps=!1,gl=!1,wd=!1,ts=0,Ln=0,ks=0,No=0,Ed=0,Ir=0,yl=0,wu=null,ar=null,Td=!1,Fc=0,Oy=0,Hc=1/0,qc=null,Ls=null,ni=0,Us=null,vl=null,ns=0,Ad=0,Sd=null,xy=null,Eu=0,Rd=null;function Mr(){return(sn&2)!==0&&zt!==0?zt&-zt:q.T!==null?xd():gs()}function Ny(){if(Ir===0)if((zt&536870912)===0||Xt){var t=mt;mt<<=1,(mt&3932160)===0&&(mt=262144),Ir=t}else Ir=536870912;return t=Sr.current,t!==null&&(t.flags|=32),Ir}function sr(t,n,r){(t===En&&(fn===2||fn===9)||t.cancelPendingCommit!==null)&&(_l(t,0),zs(t,zt,Ir,!1)),At(t,r),((sn&2)===0||t!==En)&&(t===En&&((sn&2)===0&&(No|=r),Ln===4&&zs(t,zt,Ir,!1)),ba(t))}function Vy(t,n,r){if((sn&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||wn(t,n),h=o?VE(t,n):Id(t,n,!0),m=o;do{if(h===0){gl&&!o&&zs(t,n,0,!1);break}else{if(r=t.current.alternate,m&&!xE(r)){h=Id(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var D=t;h=wu;var G=D.current.memoizedState.isDehydrated;if(G&&(_l(D,T).flags|=256),T=Id(D,T,!1),T!==2){if(wd&&!G){D.errorRecoveryDisabledLanes|=m,No|=m,h=4;break e}m=ar,ar=h,m!==null&&(ar===null?ar=m:ar.push.apply(ar,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){_l(t,0),zs(t,n,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:zs(o,n,Ir,!Ps);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Fc+300-Yt(),10<h)){if(zs(o,n,Ir,!Ps),Nt(o,0,!0)!==0)break e;ns=n,o.timeoutHandle=hv(Py.bind(null,o,r,ar,qc,Td,n,Ir,No,yl,Ps,m,"Throttled",-0,0),h);break e}Py(o,r,ar,qc,Td,n,Ir,No,yl,Ps,m,null,-0,0)}}break}while(!0);ba(t)}function Py(t,n,r,o,h,m,T,D,G,oe,ve,Ee,ce,me){if(t.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},Cy(n,m,Ee);var nt=(m&62914560)===m?Fc-Yt():(m&4194048)===m?Oy-Yt():0;if(nt=gT(Ee,nt),nt!==null){ns=m,t.cancelPendingCommit=nt(Hy.bind(null,t,n,m,r,o,h,T,D,G,ve,Ee,null,ce,me)),zs(t,m,T,!oe);return}}Hy(t,n,m,r,o,h,T,D,G)}function xE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],m=h.getSnapshot;h=h.value;try{if(!ue(m(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(t,n,r,o){n&=~Ed,n&=~No,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var m=31-ye(h),T=1<<m;o[m]=-1,h&=~T}r!==0&&hr(t,r,n)}function Gc(){return(sn&6)===0?(Tu(0),!1):!0}function Cd(){if(Pt!==null){if(fn===0)var t=Pt.return;else t=Pt,Ga=Ao=null,Hf(t),ul=null,au=0,t=Pt;for(;t!==null;)fy(t.alternate,t),t=t.return;Pt=null}}function _l(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,JE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ns=0,Cd(),En=t,Pt=r=Ha(t.current,null),zt=n,fn=0,Cr=null,Ps=!1,gl=wn(t,n),wd=!1,yl=Ir=Ed=No=ks=Ln=0,ar=wu=null,Td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ye(o),m=1<<h;n|=t[h],o&=~m}return ts=n,pa(),r}function ky(t,n){It=null,q.H=du,n===ll||n===bc?(n=Jp(),fn=3):n===Of?(n=Jp(),fn=4):fn=n===ad?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cr=n,Pt===null&&(Ln=1,Vc(t,Lr(n,t.current)))}function Ly(){var t=Sr.current;return t===null?!0:(zt&4194048)===zt?Br===null:(zt&62914560)===zt||(zt&536870912)!==0?t===Br:!1}function Uy(){var t=q.H;return q.H=du,t===null?du:t}function zy(){var t=q.A;return q.A=DE,t}function Yc(){Ln=4,Ps||(zt&4194048)!==zt&&Sr.current!==null||(gl=!0),(ks&134217727)===0&&(No&134217727)===0||En===null||zs(En,zt,Ir,!1)}function Id(t,n,r){var o=sn;sn|=2;var h=Uy(),m=zy();(En!==t||zt!==n)&&(qc=null,_l(t,n)),n=!1;var T=Ln;e:do try{if(fn!==0&&Pt!==null){var D=Pt,G=Cr;switch(fn){case 8:Cd(),T=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(n=!0);var oe=fn;if(fn=0,Cr=null,bl(t,D,G,oe),r&&gl){T=0;break e}break;default:oe=fn,fn=0,Cr=null,bl(t,D,G,oe)}}NE(),T=Ln;break}catch(ve){ky(t,ve)}while(!0);return n&&t.shellSuspendCounter++,Ga=Ao=null,sn=o,q.H=h,q.A=m,Pt===null&&(En=null,zt=0,pa()),T}function NE(){for(;Pt!==null;)jy(Pt)}function VE(t,n){var r=sn;sn|=2;var o=Uy(),h=zy();En!==t||zt!==n?(qc=null,Hc=Yt()+500,_l(t,n)):gl=wn(t,n);e:do try{if(fn!==0&&Pt!==null){n=Pt;var m=Cr;t:switch(fn){case 1:fn=0,Cr=null,bl(t,n,m,1);break;case 2:case 9:if(Wp(m)){fn=0,Cr=null,By(n);break}n=function(){fn!==2&&fn!==9||En!==t||(fn=7),ba(t)},m.then(n,n);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:Wp(m)?(fn=0,Cr=null,By(n)):(fn=0,Cr=null,bl(t,n,m,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var D=Pt;if(T?Rv(T):D.stateNode.complete){fn=0,Cr=null;var G=D.sibling;if(G!==null)Pt=G;else{var oe=D.return;oe!==null?(Pt=oe,Xc(oe)):Pt=null}break t}}fn=0,Cr=null,bl(t,n,m,5);break;case 6:fn=0,Cr=null,bl(t,n,m,6);break;case 8:Cd(),Ln=6;break e;default:throw Error(s(462))}}PE();break}catch(ve){ky(t,ve)}while(!0);return Ga=Ao=null,q.H=o,q.A=h,sn=r,Pt!==null?0:(En=null,zt=0,pa(),Ln)}function PE(){for(;Pt!==null&&!ur();)jy(Pt)}function jy(t){var n=cy(t.alternate,t,ts);t.memoizedProps=t.pendingProps,n===null?Xc(t):Pt=n}function By(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Hf(n);default:fy(r,n),n=Pt=zp(n,ts),n=cy(r,n,ts)}t.memoizedProps=t.pendingProps,n===null?Xc(t):Pt=n}function bl(t,n,r,o){Ga=Ao=null,Hf(n),ul=null,au=0;var h=n.return;try{if(TE(t,h,n,r,zt)){Ln=1,Vc(t,Lr(r,t.current)),Pt=null;return}}catch(m){if(h!==null)throw Pt=h,m;Ln=1,Vc(t,Lr(r,t.current)),Pt=null;return}n.flags&32768?(Xt||o===1?t=!0:gl||(zt&536870912)!==0?t=!1:(Ps=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,t)):Xc(n)}function Xc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Ps);return}t=n.return;var r=RE(n.alternate,n,ts);if(r!==null){Pt=r;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=t}while(n!==null);Ln===0&&(Ln=5)}function Fy(t,n){do{var r=CE(t.alternate,t);if(r!==null){r.flags&=32767,Pt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=r}while(t!==null);Ln=6,Pt=null}function Hy(t,n,r,o,h,m,T,D,G){t.cancelPendingCommit=null;do Qc();while(ni!==0);if((sn&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=tl,cr(t,r,m,T,D,G),t===En&&(Pt=En=null,zt=0),vl=n,Us=t,ns=r,Ad=m,Sd=h,xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE(v,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=J.p,J.p=2,T=sn,sn|=4;try{IE(t,n,r)}finally{sn=T,J.p=h,q.T=o}}ni=1,qy(),Gy(),Yy()}}function qy(){if(ni===1){ni=0;var t=Us,n=vl,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=J.p;J.p=2;var h=sn;sn|=4;try{Ay(n,t);var m=jd,T=$(t.containerInfo),D=m.focusedElem,G=m.selectionRange;if(T!==D&&D&&D.ownerDocument&&et(D.ownerDocument.documentElement,D)){if(G!==null&&Le(D)){var oe=G.start,ve=G.end;if(ve===void 0&&(ve=oe),"selectionStart"in D)D.selectionStart=oe,D.selectionEnd=Math.min(ve,D.value.length);else{var Ee=D.ownerDocument||document,ce=Ee&&Ee.defaultView||window;if(ce.getSelection){var me=ce.getSelection(),nt=D.textContent.length,dt=Math.min(G.start,nt),_n=G.end===void 0?dt:Math.min(G.end,nt);!me.extend&&dt>_n&&(T=_n,_n=dt,dt=T);var Z=Ye(D,dt),Y=Ye(D,_n);if(Z&&Y&&(me.rangeCount!==1||me.anchorNode!==Z.node||me.anchorOffset!==Z.offset||me.focusNode!==Y.node||me.focusOffset!==Y.offset)){var ae=Ee.createRange();ae.setStart(Z.node,Z.offset),me.removeAllRanges(),dt>_n?(me.addRange(ae),me.extend(Y.node,Y.offset)):(ae.setEnd(Y.node,Y.offset),me.addRange(ae))}}}}for(Ee=[],me=D;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Ee.length;D++){var _e=Ee[D];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}sh=!!zd,jd=zd=null}finally{sn=h,J.p=o,q.T=r}}t.current=n,ni=2}}function Gy(){if(ni===2){ni=0;var t=Us,n=vl,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=J.p;J.p=2;var h=sn;sn|=4;try{_y(t,n.alternate,n)}finally{sn=h,J.p=o,q.T=r}}ni=3}}function Yy(){if(ni===4||ni===3){ni=0,Un();var t=Us,n=vl,r=ns,o=xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ni=5:(ni=0,vl=Us=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),qe(r),n=n.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(Qe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=J.p,J.p=2,q.T=null;try{for(var m=t.onRecoverableError,T=0;T<o.length;T++){var D=o[T];m(D.value,{componentStack:D.stack})}}finally{q.T=n,J.p=h}}(ns&3)!==0&&Qc(),ba(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Rd?Eu++:(Eu=0,Rd=t):Eu=0,Tu(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,iu(n)))}function Qc(){return qy(),Gy(),Yy(),Qy()}function Qy(){if(ni!==5)return!1;var t=Us,n=Ad;Ad=0;var r=qe(ns),o=q.T,h=J.p;try{J.p=32>r?32:r,q.T=null,r=Sd,Sd=null;var m=Us,T=ns;if(ni=0,vl=Us=null,ns=0,(sn&6)!==0)throw Error(s(331));var D=sn;if(sn|=4,My(m.current),Ry(m,m.current,T,r),sn=D,Tu(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(Qe,m)}catch{}return!0}finally{J.p=h,q.T=o,Xy(t,n)}}function Ky(t,n,r){n=Lr(r,n),n=rd(t.stateNode,n,2),t=Os(t,n,2),t!==null&&(At(t,2),ba(t))}function dn(t,n,r){if(t.tag===3)Ky(t,t,r);else for(;n!==null;){if(n.tag===3){Ky(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ls===null||!Ls.has(o))){t=Lr(r,t),r=Wg(2),o=Os(n,r,2),o!==null&&($g(r,o,n,t),At(o,2),ba(o));break}}n=n.return}}function Md(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new OE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(wd=!0,h.add(r),t=kE.bind(null,t,n,r),n.then(t,t))}function kE(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,En===t&&(zt&r)===r&&(Ln===4||Ln===3&&(zt&62914560)===zt&&300>Yt()-Fc?(sn&2)===0&&_l(t,0):Ed|=r,yl===zt&&(yl=0)),ba(t)}function Wy(t,n){n===0&&(n=ft()),t=ji(t,n),t!==null&&(At(t,n),ba(t))}function LE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function UE(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Wy(t,r)}function zE(t,n){return en(t,n)}var Kc=null,wl=null,Dd=!1,Wc=!1,Od=!1,js=0;function ba(t){t!==wl&&t.next===null&&(wl===null?Kc=wl=t:wl=wl.next=t),Wc=!0,Dd||(Dd=!0,BE())}function Tu(t,n){if(!Od&&Wc){Od=!0;do for(var r=!1,o=Kc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,D=o.pingedLanes;m=(1<<31-ye(42|t)+1)-1,m&=h&~(T&~D),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,ev(o,m))}else m=zt,m=Nt(o,o===En?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||wn(o,m)||(r=!0,ev(o,m));o=o.next}while(r);Od=!1}}function jE(){$y()}function $y(){Wc=Dd=!1;var t=0;js!==0&&$E()&&(t=js);for(var n=Yt(),r=null,o=Kc;o!==null;){var h=o.next,m=Jy(o,n);m===0?(o.next=null,r===null?Kc=h:r.next=h,h===null&&(wl=r)):(r=o,(t!==0||(m&3)!==0)&&(Wc=!0)),o=h}ni!==0&&ni!==5||Tu(t),js!==0&&(js=0)}function Jy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-ye(m),D=1<<T,G=h[T];G===-1?((D&r)===0||(D&o)!==0)&&(h[T]=ui(D,n)):G<=n&&(t.expiredLanes|=D),m&=~D}if(n=En,r=zt,r=Nt(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(fn===2||fn===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mn(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&mn(o),qe(r)){case 2:case 8:r=g;break;case 32:r=v;break;case 268435456:r=X;break;default:r=v}return o=Zy.bind(null,t),r=en(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&mn(o),t.callbackPriority=2,t.callbackNode=null,2}function Zy(t,n){if(ni!==0&&ni!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Qc()&&t.callbackNode!==r)return null;var o=zt;return o=Nt(t,t===En?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vy(t,o,n),Jy(t,Yt()),t.callbackNode!=null&&t.callbackNode===r?Zy.bind(null,t):null)}function ev(t,n){if(Qc())return null;Vy(t,n,!0)}function BE(){ZE(function(){(sn&6)!==0?en(R,jE):$y()})}function xd(){if(js===0){var t=sl;t===0&&(t=Je,Je<<=1,(Je&261888)===0&&(Je=256)),js=t}return js}function tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function nv(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function FE(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var m=tv((h[jn]||null).action),T=o.submitter;T&&(n=(n=T[jn]||null)?tv(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var D=new Pr("action","action",null,o,h);t.push({event:D,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(js!==0){var G=T?nv(h,T):new FormData(h);Jf(r,{pending:!0,data:G,method:h.method,action:m},null,G)}}else typeof m=="function"&&(D.preventDefault(),G=T?nv(h,T):new FormData(h),Jf(r,{pending:!0,data:G,method:h.method,action:m},m,G))},currentTarget:h}]})}}for(var Nd=0;Nd<zi.length;Nd++){var Vd=zi[Nd],HE=Vd.toLowerCase(),qE=Vd[0].toUpperCase()+Vd.slice(1);cn(HE,"on"+qE)}cn(De,"onAnimationEnd"),cn(Fe,"onAnimationIteration"),cn(Ot,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(Ut,"onTransitionRun"),cn(St,"onTransitionStart"),cn(Vt,"onTransitionCancel"),cn(Qt,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function iv(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var T=o.length-1;0<=T;T--){var D=o[T],G=D.instance,oe=D.currentTarget;if(D=D.listener,G!==m&&h.isPropagationStopped())break e;m=D,h.currentTarget=oe;try{m(h)}catch(ve){di(ve)}h.currentTarget=null,m=G}else for(T=0;T<o.length;T++){if(D=o[T],G=D.instance,oe=D.currentTarget,D=D.listener,G!==m&&h.isPropagationStopped())break e;m=D,h.currentTarget=oe;try{m(h)}catch(ve){di(ve)}h.currentTarget=null,m=G}}}}function kt(t,n){var r=n[Qr];r===void 0&&(r=n[Qr]=new Set);var o=t+"__bubble";r.has(o)||(rv(n,t,2,!1),r.add(o))}function Pd(t,n,r){var o=0;n&&(o|=4),rv(r,t,o,n)}var $c="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[$c]){t[$c]=!0,Da.forEach(function(r){r!=="selectionchange"&&(GE.has(r)||Pd(r,!1,t),Pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$c]||(n[$c]=!0,Pd("selectionchange",!1,n))}}function rv(t,n,r,o){switch(Nv(n)){case 2:var h=_T;break;case 8:h=bT;break;default:h=$d}r=h.bind(null,n,r,t),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Ld(t,n,r,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var D=o.stateNode.containerInfo;if(D===h)break;if(T===4)for(T=o.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;D!==null;){if(T=gr(D),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){o=m=T;continue e}D=D.parentNode}}o=o.return}$i(function(){var oe=m,ve=Qi(r),Ee=[];e:{var ce=Zt.get(t);if(ce!==void 0){var me=Pr,nt=t;switch(t){case"keypress":if($r(r)===0)break e;case"keydown":case"keyup":me=_o;break;case"focusin":nt="focus",me=da;break;case"focusout":nt="blur",me=da;break;case"beforeblur":case"afterblur":me=da;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=y;break;case De:case Fe:case Ot:me=Ko;break;case Qt:me=N;break;case"scroll":case"scrollend":me=vo;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Zr;break;case"toggle":case"beforetoggle":me=vt}var dt=(n&4)!==0,_n=!dt&&(t==="scroll"||t==="scrollend"),Z=dt?ce!==null?ce+"Capture":null:ce;dt=[];for(var Y=oe,ae;Y!==null;){var _e=Y;if(ae=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ae===null||Z===null||(_e=hi(Y,Z),_e!=null&&dt.push(Su(Y,_e,ae))),_n)break;Y=Y.return}0<dt.length&&(ce=new me(ce,nt,null,r,ve),Ee.push({event:ce,listeners:dt}))}}if((n&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ce&&r!==_s&&(nt=r.relatedTarget||r.fromElement)&&(gr(nt)||nt[mr]))break e;if((me||ce)&&(ce=ve.window===ve?ve:(ce=ve.ownerDocument)?ce.defaultView||ce.parentWindow:window,me?(nt=r.relatedTarget||r.toElement,me=oe,nt=nt?gr(nt):null,nt!==null&&(_n=c(nt),dt=nt.tag,nt!==_n||dt!==5&&dt!==27&&dt!==6)&&(nt=null)):(me=null,nt=oe),me!==nt)){if(dt=bs,_e="onMouseLeave",Z="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Zr,_e="onPointerLeave",Z="onPointerEnter",Y="pointer"),_n=me==null?ce:Oi(me),ae=nt==null?ce:Oi(nt),ce=new dt(_e,Y+"leave",me,r,ve),ce.target=_n,ce.relatedTarget=ae,_e=null,gr(ve)===oe&&(dt=new dt(Z,Y+"enter",nt,r,ve),dt.target=ae,dt.relatedTarget=_n,_e=dt),_n=_e,me&&nt)t:{for(dt=YE,Z=me,Y=nt,ae=0,_e=Z;_e;_e=dt(_e))ae++;_e=0;for(var ut=Y;ut;ut=dt(ut))_e++;for(;0<ae-_e;)Z=dt(Z),ae--;for(;0<_e-ae;)Y=dt(Y),_e--;for(;ae--;){if(Z===Y||Y!==null&&Z===Y.alternate){dt=Z;break t}Z=dt(Z),Y=dt(Y)}dt=null}else dt=null;me!==null&&av(Ee,ce,me,dt,!1),nt!==null&&_n!==null&&av(Ee,_n,nt,dt,!0)}}e:{if(ce=oe?Oi(oe):window,me=ce.nodeName&&ce.nodeName.toLowerCase(),me==="select"||me==="input"&&ce.type==="file")var nn=Jl;else if($l(ce))if(Zl)nn=Q;else{nn=O;var rt=S}else me=ce.nodeName,!me||me.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?oe&&Na(oe.elementType)&&(nn=Jl):nn=z;if(nn&&(nn=nn(t,oe))){Rn(Ee,nn,r,ve);break e}rt&&rt(t,ce,oe),t==="focusout"&&oe&&ce.type==="number"&&oe.memoizedProps.value!=null&&vs(ce,"number",ce.value)}switch(rt=oe?Oi(oe):window,t){case"focusin":($l(rt)||rt.contentEditable==="true")&&(Ue=rt,tn=oe,Xe=null);break;case"focusout":Xe=tn=Ue=null;break;case"mousedown":Dt=!0;break;case"contextmenu":case"mouseup":case"dragend":Dt=!1,un(Ee,r,ve);break;case"selectionchange":if(We)break;case"keydown":case"keyup":un(Ee,r,ve)}var Mt;if(Jt)e:{switch(t){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else za?kr(t,r)&&(jt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(jt="onCompositionStart");jt&&(Zi&&r.locale!=="ko"&&(za||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&za&&(Mt=ha()):(Vr=ve,Ei="value"in Vr?Vr.value:Vr.textContent,za=!0)),rt=Jc(oe,jt),0<rt.length&&(jt=new Er(jt,t,null,r,ve),Ee.push({event:jt,listeners:rt}),Mt?jt.data=Mt:(Mt=Ua(r),Mt!==null&&(jt.data=Mt)))),(Mt=Ti?gf(t,r):dc(t,r))&&(jt=Jc(oe,"onBeforeInput"),0<jt.length&&(rt=new Er("onBeforeInput","beforeinput",null,r,ve),Ee.push({event:rt,listeners:jt}),rt.data=Mt)),FE(Ee,t,oe,r,ve)}iv(Ee,n)})}function Su(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Jc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=hi(t,r),h!=null&&o.unshift(Su(t,h,m)),h=hi(t,n),h!=null&&o.push(Su(t,h,m))),t.tag===3)return o;t=t.return}return[]}function YE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,n,r,o,h){for(var m=n._reactName,T=[];r!==null&&r!==o;){var D=r,G=D.alternate,oe=D.stateNode;if(D=D.tag,G!==null&&G===o)break;D!==5&&D!==26&&D!==27||oe===null||(G=oe,h?(oe=hi(r,m),oe!=null&&T.unshift(Su(r,oe,G))):h||(oe=hi(r,m),oe!=null&&T.push(Su(r,oe,G)))),r=r.return}T.length!==0&&t.push({event:n,listeners:T})}var XE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function sv(t){return(typeof t=="string"?t:""+t).replace(XE,`
`).replace(QE,"")}function ov(t,n){return n=sv(n),sv(t)===n}function vn(t,n,r,o,h,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Yn(t,""+o);break;case"className":wi(t,"class",o);break;case"tabIndex":wi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(t,r,o);break;case"style":yr(t,o,m);break;case"data":if(n!=="object"){wi(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ca(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&vn(t,n,"name",h.name,h,null),vn(t,n,"formEncType",h.formEncType,h,null),vn(t,n,"formMethod",h.formMethod,h,null),vn(t,n,"formTarget",h.formTarget,h,null)):(vn(t,n,"encType",h.encType,h,null),vn(t,n,"method",h.method,h,null),vn(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ca(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Xi);break;case"onScroll":o!=null&&kt("scroll",t);break;case"onScrollEnd":o!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":kt("beforetoggle",t),kt("toggle",t),Dr(t,"popover",o);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Dr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ua.get(r)||r,Dr(t,r,o))}}function Ud(t,n,r,o,h,m){switch(r){case"style":yr(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Yn(t,o):(typeof o=="number"||typeof o=="bigint")&&Yn(t,""+o);break;case"onScroll":o!=null&&kt("scroll",t);break;case"onScrollEnd":o!=null&&kt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xi.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),m=t[jn]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Dr(t,r,o)}}}function yi(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var o=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var T=r[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vn(t,n,m,T,r,null)}}h&&vn(t,n,"srcSet",r.srcSet,r,null),o&&vn(t,n,"src",r.src,r,null);return;case"input":kt("invalid",t);var D=m=T=h=null,G=null,oe=null;for(o in r)if(r.hasOwnProperty(o)){var ve=r[o];if(ve!=null)switch(o){case"name":h=ve;break;case"type":T=ve;break;case"checked":G=ve;break;case"defaultChecked":oe=ve;break;case"value":m=ve;break;case"defaultValue":D=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,n));break;default:vn(t,n,o,ve,r,null)}}yo(t,m,D,G,oe,T,h,!1);return;case"select":kt("invalid",t),o=T=m=null;for(h in r)if(r.hasOwnProperty(h)&&(D=r[h],D!=null))switch(h){case"value":m=D;break;case"defaultValue":T=D;break;case"multiple":o=D;default:vn(t,n,h,D,r,null)}n=m,r=T,t.multiple=!!o,n!=null?ln(t,!!o,n,!1):r!=null&&ln(t,!!o,r,!0);return;case"textarea":kt("invalid",t),m=h=o=null;for(T in r)if(r.hasOwnProperty(T)&&(D=r[T],D!=null))switch(T){case"value":o=D;break;case"defaultValue":h=D;break;case"children":m=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:vn(t,n,T,D,r,null)}xr(t,o,h,m);return;case"option":for(G in r)if(r.hasOwnProperty(G)&&(o=r[G],o!=null))switch(G){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:vn(t,n,G,o,r,null)}return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(o=0;o<Au.length;o++)kt(Au[o],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in r)if(r.hasOwnProperty(oe)&&(o=r[oe],o!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:vn(t,n,oe,o,r,null)}return;default:if(Na(n)){for(ve in r)r.hasOwnProperty(ve)&&(o=r[ve],o!==void 0&&Ud(t,n,ve,o,r,void 0));return}}for(D in r)r.hasOwnProperty(D)&&(o=r[D],o!=null&&vn(t,n,D,o,r,null))}function KE(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,D=null,G=null,oe=null,ve=null;for(me in r){var Ee=r[me];if(r.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=Ee;default:o.hasOwnProperty(me)||vn(t,n,me,null,o,Ee)}}for(var ce in o){var me=o[ce];if(Ee=r[ce],o.hasOwnProperty(ce)&&(me!=null||Ee!=null))switch(ce){case"type":m=me;break;case"name":h=me;break;case"checked":oe=me;break;case"defaultChecked":ve=me;break;case"value":T=me;break;case"defaultValue":D=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,n));break;default:me!==Ee&&vn(t,n,ce,me,o,Ee)}}Oa(t,T,D,G,oe,ve,m,h);return;case"select":me=T=D=ce=null;for(m in r)if(G=r[m],r.hasOwnProperty(m)&&G!=null)switch(m){case"value":break;case"multiple":me=G;default:o.hasOwnProperty(m)||vn(t,n,m,null,o,G)}for(h in o)if(m=o[h],G=r[h],o.hasOwnProperty(h)&&(m!=null||G!=null))switch(h){case"value":ce=m;break;case"defaultValue":D=m;break;case"multiple":T=m;default:m!==G&&vn(t,n,h,m,o,G)}n=D,r=T,o=me,ce!=null?ln(t,!!r,ce,!1):!!o!=!!r&&(n!=null?ln(t,!!r,n,!0):ln(t,!!r,r?[]:"",!1));return;case"textarea":me=ce=null;for(D in r)if(h=r[D],r.hasOwnProperty(D)&&h!=null&&!o.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:vn(t,n,D,null,o,h)}for(T in o)if(h=o[T],m=r[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":ce=h;break;case"defaultValue":me=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&vn(t,n,T,h,o,m)}la(t,ce,me);return;case"option":for(var nt in r)if(ce=r[nt],r.hasOwnProperty(nt)&&ce!=null&&!o.hasOwnProperty(nt))switch(nt){case"selected":t.selected=!1;break;default:vn(t,n,nt,null,o,ce)}for(G in o)if(ce=o[G],me=r[G],o.hasOwnProperty(G)&&ce!==me&&(ce!=null||me!=null))switch(G){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:vn(t,n,G,ce,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)ce=r[dt],r.hasOwnProperty(dt)&&ce!=null&&!o.hasOwnProperty(dt)&&vn(t,n,dt,null,o,ce);for(oe in o)if(ce=o[oe],me=r[oe],o.hasOwnProperty(oe)&&ce!==me&&(ce!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,n));break;default:vn(t,n,oe,ce,o,me)}return;default:if(Na(n)){for(var _n in r)ce=r[_n],r.hasOwnProperty(_n)&&ce!==void 0&&!o.hasOwnProperty(_n)&&Ud(t,n,_n,void 0,o,ce);for(ve in o)ce=o[ve],me=r[ve],!o.hasOwnProperty(ve)||ce===me||ce===void 0&&me===void 0||Ud(t,n,ve,ce,o,me);return}}for(var Z in r)ce=r[Z],r.hasOwnProperty(Z)&&ce!=null&&!o.hasOwnProperty(Z)&&vn(t,n,Z,null,o,ce);for(Ee in o)ce=o[Ee],me=r[Ee],!o.hasOwnProperty(Ee)||ce===me||ce==null&&me==null||vn(t,n,Ee,ce,o,me)}function lv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],m=h.transferSize,T=h.initiatorType,D=h.duration;if(m&&D&&lv(T)){for(T=0,D=h.responseEnd,o+=1;o<r.length;o++){var G=r[o],oe=G.startTime;if(oe>D)break;var ve=G.transferSize,Ee=G.initiatorType;ve&&lv(Ee)&&(G=G.responseEnd,T+=ve*(G<D?1:(D-oe)/(G-oe)))}if(--o,n+=8*(m+T)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,jd=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Bd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Fd=null;function $E(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,ZE=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(eT)}:hv;function eT(t){setTimeout(function(){throw t})}function Bs(t){return t==="head"}function dv(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Sl(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Ru(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ru(r);for(var m=r.firstChild;m;){var T=m.nextSibling,D=m.nodeName;m[pr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=T}}else r==="body"&&Ru(t.ownerDocument.body);r=h}while(r);Sl(n)}function mv(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Hd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Hd(r),Di(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tT(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Fr(t.nextSibling),t===null)break}return null}function nT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fr(t.nextSibling),t===null))return null;return t}function pv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fr(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Yd=null;function gv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Fr(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function yv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function vv(t,n,r){switch(n=Zc(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ru(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Di(t)}var Hr=new Map,_v=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=J.d;J.d={f:rT,r:aT,D:sT,C:oT,L:lT,m:uT,X:hT,S:cT,M:fT};function rT(){var t=is.f(),n=Gc();return t||n}function aT(t){var n=Fi(t);n!==null&&n.tag===5&&n.type==="form"?kg(n):is.r(t)}var El=typeof document>"u"?null:document;function bv(t,n,r){var o=El;if(o&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),_v.has(h)||(_v.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),yi(n,"link",t),xn(n),o.head.appendChild(n)))}}function sT(t){is.D(t),bv("dns-prefetch",t,null)}function oT(t,n){is.C(t,n),bv("preconnect",t,n)}function lT(t,n,r){is.L(t,n,r);var o=El;if(o&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Sn(r.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var m=h;switch(n){case"style":m=Tl(t);break;case"script":m=Al(t)}Hr.has(m)||(t=U({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Hr.set(m,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cu(m))||n==="script"&&o.querySelector(Iu(m))||(n=o.createElement("link"),yi(n,"link",t),xn(n),o.head.appendChild(n)))}}function uT(t,n){is.m(t,n);var r=El;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Al(t)}if(!Hr.has(m)&&(t=U({rel:"modulepreload",href:t},n),Hr.set(m,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Iu(m)))return}o=r.createElement("link"),yi(o,"link",t),xn(o),r.head.appendChild(o)}}}function cT(t,n,r){is.S(t,n,r);var o=El;if(o&&t){var h=Hi(o).hoistableStyles,m=Tl(t);n=n||"default";var T=h.get(m);if(!T){var D={loading:0,preload:null};if(T=o.querySelector(Cu(m)))D.loading=5;else{t=U({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Hr.get(m))&&Xd(t,r);var G=T=o.createElement("link");xn(G),yi(G,"link",t),G._p=new Promise(function(oe,ve){G.onload=oe,G.onerror=ve}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,th(T,n,o)}T={type:"stylesheet",instance:T,count:1,state:D},h.set(m,T)}}}function hT(t,n){is.X(t,n);var r=El;if(r&&t){var o=Hi(r).hoistableScripts,h=Al(t),m=o.get(h);m||(m=r.querySelector(Iu(h)),m||(t=U({src:t,async:!0},n),(n=Hr.get(h))&&Qd(t,n),m=r.createElement("script"),xn(m),yi(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function fT(t,n){is.M(t,n);var r=El;if(r&&t){var o=Hi(r).hoistableScripts,h=Al(t),m=o.get(h);m||(m=r.querySelector(Iu(h)),m||(t=U({src:t,async:!0,type:"module"},n),(n=Hr.get(h))&&Qd(t,n),m=r.createElement("script"),xn(m),yi(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function wv(t,n,r,o){var h=(h=He.current)?eh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Tl(r.href),r=Hi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Tl(r.href);var m=Hi(h).hoistableStyles,T=m.get(t);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=h.querySelector(Cu(t)))&&!m._p&&(T.instance=m,T.state.loading=5),Hr.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hr.set(t,r),m||dT(h,t,r,T.state))),n&&o===null)throw Error(s(528,""));return T}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Al(r),r=Hi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Tl(t){return'href="'+Sn(t)+'"'}function Cu(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return U({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),yi(n,"link",r),xn(n),t.head.appendChild(n))}function Al(t){return'[src="'+Sn(t)+'"]'}function Iu(t){return"script[async]"+t}function Tv(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Sn(r.href)+'"]');if(o)return n.instance=o,xn(o),o;var h=U({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xn(o),yi(o,"style",h),th(o,r.precedence,t),n.instance=o;case"stylesheet":h=Tl(r.href);var m=t.querySelector(Cu(h));if(m)return n.state.loading|=4,n.instance=m,xn(m),m;o=Ev(r),(h=Hr.get(h))&&Xd(o,h),m=(t.ownerDocument||t).createElement("link"),xn(m);var T=m;return T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),yi(m,"link",o),n.state.loading|=4,th(m,r.precedence,t),n.instance=m;case"script":return m=Al(r.src),(h=t.querySelector(Iu(m)))?(n.instance=h,xn(h),h):(o=r,(h=Hr.get(m))&&(o=U({},r),Qd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),xn(h),yi(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,th(o,r.precedence,t));return n.instance}function th(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var D=o[T];if(D.dataset.precedence===n)m=D;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Qd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var nh=null;function Av(t,n,r){if(nh===null){var o=new Map,h=nh=new Map;h.set(r,o)}else h=nh,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var m=r[h];if(!(m[pr]||m[pn]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=t+T;var D=o.get(T);D?D.push(m):o.set(T,[m])}}return o}function Sv(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Rv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Tl(o.href),m=n.querySelector(Cu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ih.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=m,xn(m);return}m=n.ownerDocument||n,o=Ev(o),(h=Hr.get(h))&&Xd(o,h),m=m.createElement("link"),xn(m);var T=m;T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),yi(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ih.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Kd=0;function gT(t,n){return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&Kd===0&&(Kd=62500*WE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Kd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rh=null;function ah(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rh=new Map,n.forEach(yT,t),rh=null,ih.call(t))}function yT(t,n){if(!(n.state.loading&4)){var r=rh.get(t);if(r)var o=r.get(null);else{r=new Map,rh.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),o=T)}o&&r.set(null,o)}h=n.instance,T=h.getAttribute("data-precedence"),m=r.get(T)||o,m===o&&r.set(null,h),r.set(T,h),this.count++,o=ih.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Mu={$$typeof:ze,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function vT(t,n,r,o,h,m,T,D,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.hiddenUpdates=zn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Cv(t,n,r,o,h,m,T,D,G,oe,ve,Ee){return t=new vT(t,n,r,T,G,oe,ve,Ee,D),n=1,m===!0&&(n|=24),m=Ai(3,null,null,n),t.current=m,m.stateNode=t,n=If(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},xf(m),t}function Iv(t){return t?(t=Ar,t):Ar}function Mv(t,n,r,o,h,m){h=Iv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ds(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Os(t,o,n),r!==null&&(sr(r,t,n),ou(r,t,n))}function Dv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Wd(t,n){Dv(t,n),(t=t.alternate)&&Dv(t,n)}function Ov(t){if(t.tag===13||t.tag===31){var n=ji(t,67108864);n!==null&&sr(n,t,67108864),Wd(t,67108864)}}function xv(t){if(t.tag===13||t.tag===31){var n=Mr();n=sa(n);var r=ji(t,n);r!==null&&sr(r,t,n),Wd(t,n)}}var sh=!0;function _T(t,n,r,o){var h=q.T;q.T=null;var m=J.p;try{J.p=2,$d(t,n,r,o)}finally{J.p=m,q.T=h}}function bT(t,n,r,o){var h=q.T;q.T=null;var m=J.p;try{J.p=8,$d(t,n,r,o)}finally{J.p=m,q.T=h}}function $d(t,n,r,o){if(sh){var h=Jd(o);if(h===null)Ld(t,n,o,oh,r),Vv(t,o);else if(ET(h,t,n,r,o))o.stopPropagation();else if(Vv(t,o),n&4&&-1<wT.indexOf(t)){for(;h!==null;){var m=Fi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=wt(m.pendingLanes);if(T!==0){var D=m;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var G=1<<31-ye(T);D.entanglements[1]|=G,T&=~G}ba(m),(sn&6)===0&&(Hc=Yt()+500,Tu(0))}}break;case 31:case 13:D=ji(m,2),D!==null&&sr(D,m,2),Gc(),Wd(m,2)}if(m=Jd(o),m===null&&Ld(t,n,o,oh,r),m===h)break;h=m}h!==null&&o.stopPropagation()}else Ld(t,n,o,null,r)}}function Jd(t){return t=Qi(t),Zd(t)}var oh=null;function Zd(t){if(oh=null,t=gr(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=p(n),t!==null)return t;t=null}else if(r===31){if(t=b(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oh=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bn()){case R:return 2;case g:return 8;case v:case x:return 32;case X:return 268435456;default:return 32}default:return 32}}var em=!1,Fs=null,Hs=null,qs=null,Du=new Map,Ou=new Map,Gs=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(t,n){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Du.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(n.pointerId)}}function xu(t,n,r,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Fi(n),n!==null&&Ov(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ET(t,n,r,o,h){switch(n){case"focusin":return Fs=xu(Fs,t,n,r,o,h),!0;case"dragenter":return Hs=xu(Hs,t,n,r,o,h),!0;case"mouseover":return qs=xu(qs,t,n,r,o,h),!0;case"pointerover":var m=h.pointerId;return Du.set(m,xu(Du.get(m)||null,t,n,r,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Ou.set(m,xu(Ou.get(m)||null,t,n,r,o,h)),!0}return!1}function Pv(t){var n=gr(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=p(r),n!==null){t.blockedOn=n,fr(t.priority,function(){xv(r)});return}}else if(n===31){if(n=b(r),n!==null){t.blockedOn=n,fr(t.priority,function(){xv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Jd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);_s=o,r.target.dispatchEvent(o),_s=null}else return n=Fi(r),n!==null&&Ov(n),t.blockedOn=r,!1;n.shift()}return!0}function kv(t,n,r){lh(t)&&r.delete(n)}function TT(){em=!1,Fs!==null&&lh(Fs)&&(Fs=null),Hs!==null&&lh(Hs)&&(Hs=null),qs!==null&&lh(qs)&&(qs=null),Du.forEach(kv),Ou.forEach(kv)}function uh(t,n){t.blockedOn===n&&(t.blockedOn=null,em||(em=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,TT)))}var ch=null;function Lv(t){ch!==t&&(ch=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ch===t&&(ch=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Zd(o||r)===null)continue;break}var m=Fi(r);m!==null&&(t.splice(n,3),n-=3,Jf(m,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Sl(t){function n(G){return uh(G,t)}Fs!==null&&uh(Fs,t),Hs!==null&&uh(Hs,t),qs!==null&&uh(qs,t),Du.forEach(n),Ou.forEach(n);for(var r=0;r<Gs.length;r++){var o=Gs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)Pv(r),r.blockedOn===null&&Gs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],m=r[o+1],T=h[jn]||null;if(typeof m=="function")T||Lv(r);else if(T){var D=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[jn]||null)D=T.formAction;else if(Zd(h)!==null)continue}else D=T.action;typeof D=="function"?r[o+1]=D:(r.splice(o,3),o-=3),Lv(r)}}}function Uv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}hh.prototype.render=tm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=Mr();Mv(r,o,t,n,null,null)},hh.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Mv(t.current,2,null,t,null,null),Gc(),n[mr]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var n=gs();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Gs.length&&n!==0&&n<Gs[r].priority;r++);Gs.splice(r,0,t),r===0&&Pv(t)}};var zv=e.version;if(zv!=="19.2.0")throw Error(s(527,zv,"19.2.0"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=E(n),t=t!==null?M(t):null,t=t===null?null:t.stateNode,t};var AT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Qe=fh.inject(AT),ee=fh}catch{}}return Vu.createRoot=function(t,n){if(!l(t))throw Error(s(299));var r=!1,o="",h=Yg,m=Xg,T=Qg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Cv(t,1,!1,null,null,r,o,null,h,m,T,Uv),t[mr]=n.current,kd(t),new tm(n)},Vu.hydrateRoot=function(t,n,r){if(!l(t))throw Error(s(299));var o=!1,h="",m=Yg,T=Xg,D=Qg,G=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(D=r.onRecoverableError),r.formState!==void 0&&(G=r.formState)),n=Cv(t,1,!0,n,r??null,o,h,G,m,T,D,Uv),n.context=Iv(null),r=n.current,o=Mr(),o=sa(o),h=Ds(o),h.callback=null,Os(r,h,o),r=o,n.current.lanes=r,At(n,r),ba(n),t[mr]=n.current,kd(t),new hh(n)},Vu.version="19.2.0",Vu}var Kv;function VT(){if(Kv)return rm.exports;Kv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),rm.exports=NT(),rm.exports}var PT=VT();const kT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Wv=a=>{const e=LT(a);return e.charAt(0).toUpperCase()+e.slice(1)},P0=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),UT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jT=Bt.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},w)=>Bt.createElement("svg",{ref:w,...zT,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:P0("lucide",l),...!c&&!UT(b)&&{"aria-hidden":"true"},...b},[...p.map(([E,M])=>Bt.createElement(E,M)),...Array.isArray(c)?c:[c]]));const ms=(a,e)=>{const i=Bt.forwardRef(({className:s,...l},c)=>Bt.createElement(jT,{ref:c,iconNode:e,className:P0(`lucide-${kT(Wv(a))}`,`lucide-${a}`,s),...l}));return i.displayName=Wv(a),i};const BT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],FT=ms("arrow-down-a-z",BT);const HT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qT=ms("check",HT);const GT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YT=ms("chevron-right",GT);const XT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],QT=ms("crown",XT);const KT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],WT=ms("play",KT);const $T=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JT=ms("rotate-ccw",$T);const ZT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],e1=ms("shuffle",ZT);const t1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],n1=ms("star",t1);const i1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lm=ms("trophy",i1);var um={},bh={exports:{}},r1=bh.exports,$v;function a1(){return $v||($v=1,(function(a,e){(function(s,l){a.exports=l()})(r1,()=>(()=>{var i=[,((p,b,w)=>{w.r(b),w.d(b,{default:()=>M});var E=(()=>{var U=typeof document<"u"?document.currentScript?.src:void 0;return(function(F={}){var te,k=F,Me,be,Pe=new Promise((f,d)=>{Me=f,be=d}),Ne=typeof window=="object",ze=typeof importScripts=="function";function je(){function f(Q){const W=S;_=d=0,S=new Map,W.forEach(ue=>{try{ue(Q)}catch(se){console.error(se)}}),this.nb(),O&&O.Pb()}let d=0,_=0,S=new Map,O=null,z=null;this.requestAnimationFrame=function(Q){d||=requestAnimationFrame(f.bind(this));const W=++_;return S.set(W,Q),W},this.cancelAnimationFrame=function(Q){S.delete(Q),d&&S.size==0&&(cancelAnimationFrame(d),d=0)},this.Nb=function(Q){z&&(document.body.remove(z),z=null),Q||(z=document.createElement("div"),z.style.backgroundColor="black",z.style.position="fixed",z.style.right=0,z.style.top=0,z.style.color="white",z.style.padding="4px",z.innerHTML="RIVE FPS",Q=function(W){z.innerHTML="RIVE FPS "+W.toFixed(1)},document.body.appendChild(z)),O=new function(){let W=0,ue=0;this.Pb=function(){var se=performance.now();ue?(++W,se-=ue,1e3<se&&(Q(1e3*W/se),W=ue=0)):(ue=se,W=0)}}},this.Kb=function(){z&&(document.body.remove(z),z=null),O=null},this.nb=function(){}}function Ke(f){console.assert(!0);const d=new Map;let _=-1/0;this.push=function(S){return S=S+((1<<f)-1)>>f,d.has(S)&&clearTimeout(d.get(S)),d.set(S,setTimeout(function(){d.delete(S),d.length==0?_=-1/0:S==_&&(_=Math.max(...d.keys()),console.assert(_<S))},1e3)),_=Math.max(S,_),_<<f}}const it=k.onRuntimeInitialized;k.onRuntimeInitialized=function(){it&&it();let f=k.decodeAudio;k.decodeAudio=function(O,z){O=f(O),z(O)};let d=k.decodeFont;k.decodeFont=function(O,z){O=d(O),z(O)};const _=k.FileAssetLoader;k.ptrToAsset=O=>{let z=k.ptrToFileAsset(O);return z.isImage?k.ptrToImageAsset(O):z.isFont?k.ptrToFontAsset(O):z.isAudio?k.ptrToAudioAsset(O):z},k.CustomFileAssetLoader=_.extend("CustomFileAssetLoader",{__construct:function({loadContents:O}){this.__parent.__construct.call(this),this.Db=O},loadContents:function(O,z){return O=k.ptrToAsset(O),this.Db(O,z)}}),k.CDNFileAssetLoader=_.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(O){let z=k.ptrToAsset(O);return O=z.cdnUuid,O===""?!1:((function(Q,W){var ue=new XMLHttpRequest;ue.responseType="arraybuffer",ue.onreadystatechange=function(){ue.readyState==4&&ue.status==200&&W(ue)},ue.open("GET",Q,!0),ue.send(null)})(z.cdnBaseUrl+"/"+O,Q=>{z.decode(new Uint8Array(Q.response))}),!0)}}),k.FallbackFileAssetLoader=_.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(O){this.jb.push(O)},loadContents:function(O,z){for(let Q of this.jb)if(Q.loadContents(O,z))return!0;return!1}});let S=k.computeAlignment;k.computeAlignment=function(O,z,Q,W,ue=1){return S.call(this,O,z,Q,W,ue)}};const H="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),j=new function(){function f(){if(!d){let tn=function(Xe,Dt,un){if(Dt=Ue.createShader(Dt),Ue.shaderSource(Dt,un),Ue.compileShader(Dt),un=Ue.getShaderInfoLog(Dt),0<(un||"").length)throw un;Ue.attachShader(Xe,Dt)};var We=tn,$=document.createElement("canvas"),Le={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Ue;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Ue=$.getContext("webgl",Le),_=1,!Ue)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Ue=$.getContext("webgl2",Le))_=2;else if(Ue=$.getContext("webgl",Le))_=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Ue=new Proxy(Ue,{get(Xe,Dt){if(Xe.isContextLost()){if(ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Dt),ue=!0),typeof Xe[Dt]=="function")return function(){}}else return typeof Xe[Dt]=="function"?function(...un){return Xe[Dt].apply(Xe,un)}:Xe[Dt]},set(Xe,Dt,un){if(Xe.isContextLost())ue||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Dt),ue=!0);else return Xe[Dt]=un,!0}}),S=Math.min(Ue.getParameter(Ue.MAX_RENDERBUFFER_SIZE),Ue.getParameter(Ue.MAX_TEXTURE_SIZE)),$=Ue.createProgram(),tn($,Ue.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),tn($,Ue.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Ue.bindAttribLocation($,0,"vertex"),Ue.bindAttribLocation($,1,"uv"),Ue.linkProgram($),Le=Ue.getProgramInfoLog($),0<(Le||"").trim().length)throw Le;O=Ue.getUniformLocation($,"mat"),z=Ue.getUniformLocation($,"translate"),Ue.useProgram($),Ue.bindBuffer(Ue.ARRAY_BUFFER,Ue.createBuffer()),Ue.enableVertexAttribArray(0),Ue.enableVertexAttribArray(1),Ue.bindBuffer(Ue.ELEMENT_ARRAY_BUFFER,Ue.createBuffer()),Ue.uniform1i(Ue.getUniformLocation($,"image"),0),Ue.pixelStorei(Ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),d=Ue}return!0}let d=null,_=0,S=0,O=null,z=null,Q=0,W=0,ue=!1;f(),this.ac=function(){return f(),S},this.Jb=function($){d.deleteTexture&&d.deleteTexture($)},this.Ib=function($){if(!f())return null;const Le=d.createTexture();return Le?(d.bindTexture(d.TEXTURE_2D,Le),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,$),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),_==2?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_LINEAR),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),Le):null};const se=new Ke(8),Oe=new Ke(8),Ye=new Ke(10),et=new Ke(10);this.Mb=function($,Le,We,Ue,tn){if(f()){var Xe=se.push($),Dt=Oe.push(Le);if(d.canvas){(d.canvas.width!=Xe||d.canvas.height!=Dt)&&(d.canvas.width=Xe,d.canvas.height=Dt),d.viewport(0,Dt-Le,$,Le),d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.enable(d.SCISSOR_TEST),We.sort((xt,Tr)=>Tr.ub-xt.ub),Xe=Ye.push(Ue),Q!=Xe&&(d.bufferData(d.ARRAY_BUFFER,8*Xe,d.DYNAMIC_DRAW),Q=Xe),Xe=0;for(var un of We)d.bufferSubData(d.ARRAY_BUFFER,Xe,un.Sa),Xe+=4*un.Sa.length;console.assert(Xe==4*Ue);for(var Fn of We)d.bufferSubData(d.ARRAY_BUFFER,Xe,Fn.Ab),Xe+=4*Fn.Ab.length;console.assert(Xe==8*Ue),Xe=et.push(tn),W!=Xe&&(d.bufferData(d.ELEMENT_ARRAY_BUFFER,2*Xe,d.DYNAMIC_DRAW),W=Xe),un=0;for(var tr of We)d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,un,tr.indices),un+=2*tr.indices.length;console.assert(un==2*tn),tr=0,Fn=!0,Xe=un=0;for(const xt of We){xt.image.Ia!=tr&&(d.bindTexture(d.TEXTURE_2D,xt.image.Ha||null),tr=xt.image.Ia),xt.fc?(d.scissor(xt.Ya,Dt-xt.Za-xt.ib,xt.tc,xt.ib),Fn=!0):Fn&&(d.scissor(0,Dt-Le,$,Le),Fn=!1),We=2/$;const Tr=-2/Le;d.uniform4f(O,xt.ga[0]*We*xt.za,xt.ga[1]*Tr*xt.Aa,xt.ga[2]*We*xt.za,xt.ga[3]*Tr*xt.Aa),d.uniform2f(z,xt.ga[4]*We*xt.za+We*(xt.Ya-xt.bc*xt.za)-1,xt.ga[5]*Tr*xt.Aa+Tr*(xt.Za-xt.cc*xt.Aa)+1),d.vertexAttribPointer(0,2,d.FLOAT,!1,0,Xe),d.vertexAttribPointer(1,2,d.FLOAT,!1,0,Xe+4*Ue),d.drawElements(d.TRIANGLES,xt.indices.length,d.UNSIGNED_SHORT,un),Xe+=4*xt.Sa.length,un+=2*xt.indices.length}console.assert(Xe==4*Ue),console.assert(un==2*tn)}}},this.canvas=function(){return f()&&d.canvas}},V=k.onRuntimeInitialized;k.onRuntimeInitialized=function(){function f(De){switch(De){case se.srcOver:return"source-over";case se.screen:return"screen";case se.overlay:return"overlay";case se.darken:return"darken";case se.lighten:return"lighten";case se.colorDodge:return"color-dodge";case se.colorBurn:return"color-burn";case se.hardLight:return"hard-light";case se.softLight:return"soft-light";case se.difference:return"difference";case se.exclusion:return"exclusion";case se.multiply:return"multiply";case se.hue:return"hue";case se.saturation:return"saturation";case se.color:return"color";case se.luminosity:return"luminosity"}}function d(De){return"rgba("+((16711680&De)>>>16)+","+((65280&De)>>>8)+","+((255&De)>>>0)+","+((4278190080&De)>>>24)/255+")"}function _(){0<Dt.length&&(j.Mb(Xe.drawWidth(),Xe.drawHeight(),Dt,un,Fn),Dt=[],Fn=un=0,Xe.reset(512,512));for(const De of tn){for(const Fe of De.H)Fe();De.H=[]}tn.clear()}V&&V();var S=k.RenderPaintStyle;const O=k.RenderPath,z=k.RenderPaint,Q=k.Renderer,W=k.StrokeCap,ue=k.StrokeJoin,se=k.BlendMode,Oe=S.fill,Ye=S.stroke,et=k.FillRule.evenOdd;let $=1;var Le=k.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:De,va:Fe}={}){this.__parent.__construct.call(this),this.Ia=$,$=$+1&2147483647||1,this.ka=De,this.va=Fe},__destruct:function(){this.Ha&&(j.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(De){var Fe=this;Fe.va&&Fe.va(Fe);var Ot=new Image;Fe.Va=URL.createObjectURL(new Blob([De],{type:"image/png"})),Ot.onload=function(){Fe.Cb=Ot,Fe.Ha=j.Ib(Ot),Fe.size(Ot.width,Ot.height),Fe.ka&&Fe.ka(Fe)},Ot.src=Fe.Va}}),We=O.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(De,Fe,Ot,Ut,St,Vt,Qt){var Zt=this.T,zi=Zt.addPath;De=De.T;const cn=new DOMMatrix;cn.a=Fe,cn.b=Ot,cn.c=Ut,cn.d=St,cn.e=Vt,cn.f=Qt,zi.call(Zt,De,cn)},fillRule:function(De){this.Ua=De},moveTo:function(De,Fe){this.T.moveTo(De,Fe)},lineTo:function(De,Fe){this.T.lineTo(De,Fe)},cubicTo:function(De,Fe,Ot,Ut,St,Vt){this.T.bezierCurveTo(De,Fe,Ot,Ut,St,Vt)},close:function(){this.T.closePath()}}),Ue=z.extend("CanvasRenderPaint",{color:function(De){this.Wa=d(De)},thickness:function(De){this.Fb=De},join:function(De){switch(De){case ue.miter:this.Ga="miter";break;case ue.round:this.Ga="round";break;case ue.bevel:this.Ga="bevel"}},cap:function(De){switch(De){case W.butt:this.Fa="butt";break;case W.round:this.Fa="round";break;case W.square:this.Fa="square"}},style:function(De){this.Eb=De},blendMode:function(De){this.Bb=f(De)},clearGradient:function(){this.ia=null},linearGradient:function(De,Fe,Ot,Ut){this.ia={wb:De,xb:Fe,bb:Ot,cb:Ut,Pa:[]}},radialGradient:function(De,Fe,Ot,Ut){this.ia={wb:De,xb:Fe,bb:Ot,cb:Ut,Pa:[],$b:!0}},addStop:function(De,Fe){this.ia.Pa.push({color:De,stop:Fe})},completeGradient:function(){},draw:function(De,Fe,Ot){let Ut=this.Eb;var St=this.Wa,Vt=this.ia;if(De.globalCompositeOperation=this.Bb,Vt!=null){St=Vt.wb;var Qt=Vt.xb;const zi=Vt.bb;var Zt=Vt.cb;const cn=Vt.Pa;Vt.$b?(Vt=zi-St,Zt-=Qt,St=De.createRadialGradient(St,Qt,0,St,Qt,Math.sqrt(Vt*Vt+Zt*Zt))):St=De.createLinearGradient(St,Qt,zi,Zt);for(let di=0,an=cn.length;di<an;di++)Qt=cn[di],St.addColorStop(Qt.stop,d(Qt.color));this.Wa=St,this.ia=null}switch(Ut){case Ye:De.strokeStyle=St,De.lineWidth=this.Fb,De.lineCap=this.Fa,De.lineJoin=this.Ga,De.stroke(Fe);break;case Oe:De.fillStyle=St,De.fill(Fe,Ot)}}});const tn=new Set;let Xe=null,Dt=[],un=0,Fn=0;var tr=k.CanvasRenderer=Q.extend("Renderer",{__construct:function(De){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=De.getContext("2d"),this.Ta=De,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const De=this.S.length-6;if(6>De)throw"restore() called without matching save().";this.S.splice(De),this.H.push(this.B.restore.bind(this.B))},transform:function(De,Fe,Ot,Ut,St,Vt){const Qt=this.S,Zt=Qt.length-6;Qt.splice(Zt,6,Qt[Zt]*De+Qt[Zt+2]*Fe,Qt[Zt+1]*De+Qt[Zt+3]*Fe,Qt[Zt]*Ot+Qt[Zt+2]*Ut,Qt[Zt+1]*Ot+Qt[Zt+3]*Ut,Qt[Zt]*St+Qt[Zt+2]*Vt+Qt[Zt+4],Qt[Zt+1]*St+Qt[Zt+3]*Vt+Qt[Zt+5]),this.H.push(this.B.transform.bind(this.B,De,Fe,Ot,Ut,St,Vt))},rotate:function(De){const Fe=Math.sin(De);De=Math.cos(De),this.transform(De,Fe,-Fe,De,0,0)},_drawPath:function(De,Fe){this.H.push(Fe.draw.bind(Fe,this.B,De.T,De.Ua===et?"evenodd":"nonzero"))},_drawRiveImage:function(De,Fe,Ot,Ut){var St=De.Cb;if(St){var Vt=this.B,Qt=f(Ot);this.H.push(function(){Vt.globalCompositeOperation=Qt,Vt.globalAlpha=Ut,Vt.drawImage(St,0,0),Vt.globalAlpha=1})}},_getMatrix:function(De){const Fe=this.S,Ot=Fe.length-6;for(let Ut=0;6>Ut;++Ut)De[Ut]=Fe[Ot+Ut]},_drawImageMesh:function(De,Fe,Ot,Ut,St,Vt,Qt,Zt,zi,cn,di){Fe=this.B.canvas.width;var an=this.B.canvas.height;const Fa=cn-Zt,tl=di-zi;Zt=Math.max(Zt,0),zi=Math.max(zi,0),cn=Math.min(cn,Fe),di=Math.min(di,an);const pa=cn-Zt,ga=di-zi;if(console.assert(pa<=Math.min(Fa,Fe)),console.assert(ga<=Math.min(tl,an)),!(0>=pa||0>=ga)){cn=pa<Fa||ga<tl,Fe=di=1;var ea=Math.ceil(pa*di),ji=Math.ceil(ga*Fe);an=j.ac(),ea>an&&(di*=an/ea,ea=an),ji>an&&(Fe*=an/ji,ji=an),Xe||(Xe=new k.DynamicRectanizer(an),Xe.reset(512,512)),an=Xe.addRect(ea,ji),0>an&&(_(),tn.add(this),an=Xe.addRect(ea,ji),console.assert(0<=an));var eu=an&65535,wo=an>>16;Dt.push({ga:this.S.slice(this.S.length-6),image:De,Ya:eu,Za:wo,bc:Zt,cc:zi,tc:ea,ib:ji,za:di,Aa:Fe,Sa:new Float32Array(St),Ab:new Float32Array(Vt),indices:new Uint16Array(Qt),fc:cn,ub:De.Ia<<1|(cn?1:0)}),un+=St.length,Fn+=Qt.length;var Ar=this.B,yf=f(Ot);this.H.push(function(){Ar.save(),Ar.resetTransform(),Ar.globalCompositeOperation=yf,Ar.globalAlpha=Ut;const Ai=j.canvas();Ai&&Ar.drawImage(Ai,eu,wo,ea,ji,Zt,zi,pa,ga),Ar.restore()})}},_clipPath:function(De){this.H.push(this.B.clip.bind(this.B,De.T,De.Ua===et?"evenodd":"nonzero"))},clear:function(){tn.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(De,Fe){this.transform(1,0,0,1,De,Fe)}});k.makeRenderer=function(De){const Fe=new tr(De),Ot=Fe.B;return new Proxy(Fe,{get(Ut,St){if(typeof Ut[St]=="function")return function(...Vt){return Ut[St].apply(Ut,Vt)};if(typeof Ot[St]=="function"){if(-1<H.indexOf(St))throw Error("RiveException: Method call to '"+St+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Vt){Fe.H.push(Ot[St].bind(Ot,...Vt))}}return Ut[St]},set(Ut,St,Vt){if(St in Ot)return Fe.H.push(()=>{Ot[St]=Vt}),!0}})},k.decodeImage=function(De,Fe){new Le({ka:Fe}).decode(De)},k.renderFactory={makeRenderPaint:function(){return new Ue},makeRenderPath:function(){return new We},makeRenderImage:function(){let De=Tr;return new Le({va:()=>{De.total++},ka:()=>{if(De.loaded++,De.loaded===De.total){const Fe=De.ready;Fe&&(Fe(),De.ready=null)}}})}};let xt=k.load,Tr=null;k.load=function(De,Fe,Ot=!0){const Ut=new k.FallbackFileAssetLoader;return Fe!==void 0&&Ut.addLoader(Fe),Ot&&(Fe=new k.CDNFileAssetLoader,Ut.addLoader(Fe)),new Promise(function(St){let Vt=null;Tr={total:0,loaded:0,ready:function(){St(Vt)}},Vt=xt(De,Ut),Tr.total==0&&St(Vt)})};let Ba=k.RendererWrapper.prototype.align;k.RendererWrapper.prototype.align=function(De,Fe,Ot,Ut,St=1){Ba.call(this,De,Fe,Ot,Ut,St)},S=new je,k.requestAnimationFrame=S.requestAnimationFrame.bind(S),k.cancelAnimationFrame=S.cancelAnimationFrame.bind(S),k.enableFPSCounter=S.Nb.bind(S),k.disableFPSCounter=S.Kb,S.nb=_,k.resolveAnimationFrame=_,k.cleanup=function(){Xe&&Xe.delete()}};var B=Object.assign({},k),C="./this.program",P="",I,K;(Ne||ze)&&(ze?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),U&&(P=U),P.startsWith("blob:")?P="":P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1),ze&&(K=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),I=(f,d,_)=>{if(ai(f)){var S=new XMLHttpRequest;S.open("GET",f,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?d(S.response):_()},S.onerror=_,S.send(null)}else fetch(f,{credentials:"same-origin"}).then(O=>O.ok?O.arrayBuffer():Promise.reject(Error(O.status+" : "+O.url))).then(d,_)});var le=k.print||console.log.bind(console),q=k.printErr||console.error.bind(console);Object.assign(k,B),B=null,k.thisProgram&&(C=k.thisProgram);var J;k.wasmBinary&&(J=k.wasmBinary);var ge,he=!1,Re,L,ie,Te,we,Ce,He,at;function ot(){var f=ge.buffer;k.HEAP8=Re=new Int8Array(f),k.HEAP16=ie=new Int16Array(f),k.HEAPU8=L=new Uint8Array(f),k.HEAPU16=Te=new Uint16Array(f),k.HEAP32=we=new Int32Array(f),k.HEAPU32=Ce=new Uint32Array(f),k.HEAPF32=He=new Float32Array(f),k.HEAPF64=at=new Float64Array(f)}var pt=[],Rt=[],on=[];function st(){var f=k.preRun.shift();pt.unshift(f)}var bt=0,Gt=null;function Lt(f){throw k.onAbort?.(f),f="Aborted("+f+")",q(f),he=!0,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),be(f),f}var Dn=f=>f.startsWith("data:application/octet-stream;base64,"),ai=f=>f.startsWith("file://"),Wt;function tt(f){if(f==Wt&&J)return new Uint8Array(J);if(K)return K(f);throw"both async and sync fetching of the wasm failed"}function en(f){return J?Promise.resolve().then(()=>tt(f)):new Promise((d,_)=>{I(f,S=>d(new Uint8Array(S)),()=>{try{d(tt(f))}catch(S){_(S)}})})}function mn(f,d,_){return en(f).then(S=>WebAssembly.instantiate(S,d)).then(_,S=>{q(`failed to asynchronously prepare wasm: ${S}`),Lt(S)})}function ur(f,d){var _=Wt;return J||typeof WebAssembly.instantiateStreaming!="function"||Dn(_)||ai(_)||typeof fetch!="function"?mn(_,f,d):fetch(_,{credentials:"same-origin"}).then(S=>WebAssembly.instantiateStreaming(S,f).then(d,function(O){return q(`wasm streaming compile failed: ${O}`),q("falling back to ArrayBuffer instantiation"),mn(_,f,d)}))}var Un,Yt,bn={464256:(f,d,_,S,O)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=f,window.h.I.capture=d,window.h.I.Ja=_,window.h.fa={},window.h.fa.stopped=S,window.h.fa.vb=O;let z=window.h;z.D=[],z.rc=function(Q){for(var W=0;W<z.D.length;++W)if(z.D[W]==null)return z.D[W]=Q,W;return z.D.push(Q),z.D.length-1},z.zb=function(Q){for(z.D[Q]=null;0<z.D.length&&z.D[z.D.length-1]==null;)z.D.pop()},z.Oc=function(Q){for(var W=0;W<z.D.length;++W)if(z.D[W]==Q)return z.zb(W)},z.pa=function(Q){return z.D[Q]},z.Ra=["touchend","click"],z.unlock=function(){for(var Q=0;Q<z.D.length;++Q){var W=z.D[Q];W!=null&&W.K!=null&&W.state===z.fa.vb&&W.K.resume().then(()=>{bo(W.ob)},ue=>{console.error("Failed to resume audiocontext",ue)})}z.Ra.map(function(ue){document.removeEventListener(ue,z.unlock,!0)})},z.Ra.map(function(Q){document.addEventListener(Q,z.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(f){document.removeEventListener(f,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var f=new(window.AudioContext||window.webkitAudioContext),d=f.sampleRate;return f.close(),d}catch{return 0}},467013:(f,d,_,S,O,z)=>{if(typeof window.h>"u")return-1;var Q={},W={};return f==window.h.I.wa&&_!=0&&(W.sampleRate=_),Q.K=new(window.AudioContext||window.webkitAudioContext)(W),Q.K.suspend(),Q.state=window.h.fa.stopped,_=0,f!=window.h.I.wa&&(_=d),Q.Y=Q.K.createScriptProcessor(S,_,d),Q.Y.onaudioprocess=function(ue){if((Q.qa==null||Q.qa.length==0)&&(Q.qa=new Float32Array(He.buffer,O,S*d)),f==window.h.I.capture||f==window.h.I.Ja){for(var se=0;se<d;se+=1)for(var Oe=ue.inputBuffer.getChannelData(se),Ye=Q.qa,et=0;et<S;et+=1)Ye[et*d+se]=Oe[et];Jl(z,S,O)}if(f==window.h.I.wa||f==window.h.I.Ja)for(Zl(z,S,O),se=0;se<ue.outputBuffer.numberOfChannels;++se)for(Oe=ue.outputBuffer.getChannelData(se),Ye=Q.qa,et=0;et<S;et+=1)Oe[et]=Ye[et*d+se];else for(se=0;se<ue.outputBuffer.numberOfChannels;++se)ue.outputBuffer.getChannelData(se).fill(0)},f!=window.h.I.capture&&f!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ue){Q.Ba=Q.K.createMediaStreamSource(ue),Q.Ba.connect(Q.Y),Q.Y.connect(Q.K.destination)}).catch(function(ue){console.log("Failed to get user media: "+ue)}),f==window.h.I.wa&&Q.Y.connect(Q.K.destination),Q.ob=z,window.h.rc(Q)},469890:f=>window.h.pa(f).K.sampleRate,469963:f=>{f=window.h.pa(f),f.Y!==void 0&&(f.Y.onaudioprocess=function(){},f.Y.disconnect(),f.Y=void 0),f.Ba!==void 0&&(f.Ba.disconnect(),f.Ba=void 0),f.K.close(),f.K=void 0,f.ob=void 0},470363:f=>{window.h.zb(f)},470413:f=>{f=window.h.pa(f),f.K.resume(),f.state=window.h.fa.vb},470552:f=>{f=window.h.pa(f),f.K.suspend(),f.state=window.h.fa.stopped}},R=f=>{for(;0<f.length;)f.shift()(k)};function g(){var f=we[+Gi>>2];return Gi+=4,f}var v=(f,d)=>{for(var _=0,S=f.length-1;0<=S;S--){var O=f[S];O==="."?f.splice(S,1):O===".."?(f.splice(S,1),_++):_&&(f.splice(S,1),_--)}if(d)for(;_;_--)f.unshift("..");return f},x=f=>{var d=f.charAt(0)==="/",_=f.substr(-1)==="/";return(f=v(f.split("/").filter(S=>!!S),!d).join("/"))||d||(f="."),f&&_&&(f+="/"),(d?"/":"")+f},X=f=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=d[0],d=d[1],!f&&!d?".":(d&&=d.substr(0,d.length-1),f+d)},de=f=>{if(f==="/")return"/";f=x(f),f=f.replace(/\/$/,"");var d=f.lastIndexOf("/");return d===-1?f:f.substr(d+1)},Ie=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);Lt("initRandomDevice")},Qe=f=>(Qe=Ie())(f),ee=(...f)=>{for(var d="",_=!1,S=f.length-1;-1<=S&&!_;S--){if(_=0<=S?f[S]:"/",typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!_)return"";d=_+"/"+d,_=_.charAt(0)==="/"}return d=v(d.split("/").filter(O=>!!O),!_).join("/"),(_?"/":"")+d||"."},re=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ye=(f,d,_)=>{var S=d+_;for(_=d;f[_]&&!(_>=S);)++_;if(16<_-d&&f.buffer&&re)return re.decode(f.subarray(d,_));for(S="";d<_;){var O=f[d++];if(O&128){var z=f[d++]&63;if((O&224)==192)S+=String.fromCharCode((O&31)<<6|z);else{var Q=f[d++]&63;O=(O&240)==224?(O&15)<<12|z<<6|Q:(O&7)<<18|z<<12|Q<<6|f[d++]&63,65536>O?S+=String.fromCharCode(O):(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else S+=String.fromCharCode(O)}return S},xe=[],Ve=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);127>=S?d++:2047>=S?d+=2:55296<=S&&57343>=S?(d+=4,++_):d+=3}return d},Be=(f,d,_,S)=>{if(!(0<S))return 0;var O=_;S=_+S-1;for(var z=0;z<f.length;++z){var Q=f.charCodeAt(z);if(55296<=Q&&57343>=Q){var W=f.charCodeAt(++z);Q=65536+((Q&1023)<<10)|W&1023}if(127>=Q){if(_>=S)break;d[_++]=Q}else{if(2047>=Q){if(_+1>=S)break;d[_++]=192|Q>>6}else{if(65535>=Q){if(_+2>=S)break;d[_++]=224|Q>>12}else{if(_+3>=S)break;d[_++]=240|Q>>18,d[_++]=128|Q>>12&63}d[_++]=128|Q>>6&63}d[_++]=128|Q&63}}return d[_]=0,_-O};function Je(f,d){var _=Array(Ve(f)+1);return f=Be(f,_,0,_.length),d&&(_.length=f),_}var mt=[];function Ge(f,d){mt[f]={input:[],G:[],V:d},Hi(f,wt)}var wt={open(f){var d=mt[f.node.xa];if(!d)throw new qe(43);f.s=d,f.seekable=!1},close(f){f.s.V.oa(f.s)},oa(f){f.s.V.oa(f.s)},read(f,d,_,S){if(!f.s||!f.s.V.hb)throw new qe(60);for(var O=0,z=0;z<S;z++){try{var Q=f.s.V.hb(f.s)}catch{throw new qe(29)}if(Q===void 0&&O===0)throw new qe(6);if(Q==null)break;O++,d[_+z]=Q}return O&&(f.node.timestamp=Date.now()),O},write(f,d,_,S){if(!f.s||!f.s.V.Ma)throw new qe(60);try{for(var O=0;O<S;O++)f.s.V.Ma(f.s,d[_+O])}catch{throw new qe(29)}return S&&(f.node.timestamp=Date.now()),O}},Nt={hb(){e:{if(!xe.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f){f=null;break e}xe=Je(f,!0)}f=xe.shift()}return f},Ma(f,d){d===null||d===10?(le(ye(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(le(ye(f.G,0)),f.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},wn={Ma(f,d){d===null||d===10?(q(ye(f.G,0)),f.G=[]):d!=0&&f.G.push(d)},oa(f){f.G&&0<f.G.length&&(q(ye(f.G,0)),f.G=[])}};function ui(f,d){var _=f.l?f.l.length:0;_>=d||(d=Math.max(d,_*(1048576>_?2:1.125)>>>0),_!=0&&(d=Math.max(d,256)),_=f.l,f.l=new Uint8Array(d),0<f.v&&f.l.set(_.subarray(0,f.v),0))}var ft={N:null,U(){return ft.createNode(null,"/",16895,0)},createNode(f,d,_,S){if((_&61440)===24576||(_&61440)===4096)throw new qe(63);return ft.N||(ft.N={dir:{node:{X:ft.j.X,P:ft.j.P,ja:ft.j.ja,ta:ft.j.ta,sb:ft.j.sb,yb:ft.j.yb,tb:ft.j.tb,rb:ft.j.rb,Ca:ft.j.Ca},stream:{aa:ft.m.aa}},file:{node:{X:ft.j.X,P:ft.j.P},stream:{aa:ft.m.aa,read:ft.m.read,write:ft.m.write,Xa:ft.m.Xa,kb:ft.m.kb,mb:ft.m.mb}},link:{node:{X:ft.j.X,P:ft.j.P,la:ft.j.la},stream:{}},$a:{node:{X:ft.j.X,P:ft.j.P},stream:Oi}}),_=Xo(f,d,_,S),(_.mode&61440)===16384?(_.j=ft.N.dir.node,_.m=ft.N.dir.stream,_.l={}):(_.mode&61440)===32768?(_.j=ft.N.file.node,_.m=ft.N.file.stream,_.v=0,_.l=null):(_.mode&61440)===40960?(_.j=ft.N.link.node,_.m=ft.N.link.stream):(_.mode&61440)===8192&&(_.j=ft.N.$a.node,_.m=ft.N.$a.stream),_.timestamp=Date.now(),f&&(f.l[d]=_,f.timestamp=_.timestamp),_},Fc(f){return f.l?f.l.subarray?f.l.subarray(0,f.v):new Uint8Array(f.l):new Uint8Array(0)},j:{X(f){var d={};return d.Dc=(f.mode&61440)===8192?f.id:1,d.Hc=f.id,d.mode=f.mode,d.Kc=1,d.uid=0,d.Gc=0,d.xa=f.xa,(f.mode&61440)===16384?d.size=4096:(f.mode&61440)===32768?d.size=f.v:(f.mode&61440)===40960?d.size=f.link.length:d.size=0,d.vc=new Date(f.timestamp),d.Jc=new Date(f.timestamp),d.Cc=new Date(f.timestamp),d.Gb=4096,d.wc=Math.ceil(d.size/d.Gb),d},P(f,d){if(d.mode!==void 0&&(f.mode=d.mode),d.timestamp!==void 0&&(f.timestamp=d.timestamp),d.size!==void 0&&(d=d.size,f.v!=d))if(d==0)f.l=null,f.v=0;else{var _=f.l;f.l=new Uint8Array(d),_&&f.l.set(_.subarray(0,Math.min(d,f.v))),f.v=d}},ja(){throw gs[44]},ta(f,d,_,S){return ft.createNode(f,d,_,S)},sb(f,d,_){if((f.mode&61440)===16384){try{var S=Qr(d,_)}catch{}if(S)for(var O in S.l)throw new qe(55)}delete f.parent.l[f.name],f.parent.timestamp=Date.now(),f.name=_,d.l[_]=f,d.timestamp=f.parent.timestamp},yb(f,d){delete f.l[d],f.timestamp=Date.now()},tb(f,d){var _=Qr(f,d),S;for(S in _.l)throw new qe(55);delete f.l[d],f.timestamp=Date.now()},rb(f){var d=[".",".."],_;for(_ of Object.keys(f.l))d.push(_);return d},Ca(f,d,_){return f=ft.createNode(f,d,41471,0),f.link=_,f},la(f){if((f.mode&61440)!==40960)throw new qe(28);return f.link}},m:{read(f,d,_,S,O){var z=f.node.l;if(O>=f.node.v)return 0;if(f=Math.min(f.node.v-O,S),8<f&&z.subarray)d.set(z.subarray(O,O+f),_);else for(S=0;S<f;S++)d[_+S]=z[O+S];return f},write(f,d,_,S,O,z){if(d.buffer===Re.buffer&&(z=!1),!S)return 0;if(f=f.node,f.timestamp=Date.now(),d.subarray&&(!f.l||f.l.subarray)){if(z)return f.l=d.subarray(_,_+S),f.v=S;if(f.v===0&&O===0)return f.l=d.slice(_,_+S),f.v=S;if(O+S<=f.v)return f.l.set(d.subarray(_,_+S),O),S}if(ui(f,O+S),f.l.subarray&&d.subarray)f.l.set(d.subarray(_,_+S),O);else for(z=0;z<S;z++)f.l[O+z]=d[_+z];return f.v=Math.max(f.v,O+S),S},aa(f,d,_){if(_===1?d+=f.position:_===2&&(f.node.mode&61440)===32768&&(d+=f.node.v),0>d)throw new qe(28);return d},Xa(f,d,_){ui(f.node,d+_),f.node.v=Math.max(f.node.v,d+_)},kb(f,d,_,S,O){if((f.node.mode&61440)!==32768)throw new qe(43);if(f=f.node.l,O&2||f.buffer!==Re.buffer){if((0<_||_+d<f.length)&&(f.subarray?f=f.subarray(_,_+d):f=Array.prototype.slice.call(f,_,_+d)),_=!0,Lt(),d=void 0,!d)throw new qe(48);Re.set(f,d)}else _=!1,d=f.byteOffset;return{o:d,uc:_}},mb(f,d,_,S){return ft.m.write(f,d,0,S,_,!1),0}}},zn=(f,d)=>{var _=0;return f&&(_|=365),d&&(_|=146),_},At=null,cr={},hr=[],fo=1,Xr=null,sa=!0,qe=class{constructor(f){this.name="ErrnoError",this.$=f}},gs={},fr=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(f){this.h.flags=f}get position(){return this.h.position}set position(f){this.h.position=f}},dr=class{constructor(f,d,_,S){f||=this,this.parent=f,this.U=f.U,this.ua=null,this.id=fo++,this.name=d,this.mode=_,this.j={},this.m={},this.xa=S}get read(){return(this.mode&365)===365}set read(f){f?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(f){f?this.mode|=146:this.mode&=-147}};function pn(f,d={}){if(f=ee(f),!f)return{path:"",node:null};if(d=Object.assign({gb:!0,Oa:0},d),8<d.Oa)throw new qe(32);f=f.split("/").filter(Q=>!!Q);for(var _=At,S="/",O=0;O<f.length;O++){var z=O===f.length-1;if(z&&d.parent)break;if(_=Qr(_,f[O]),S=x(S+"/"+f[O]),_.ua&&(!z||z&&d.gb)&&(_=_.ua.root),!z||d.fb){for(z=0;(_.mode&61440)===40960;)if(_=po(S),S=ee(X(S),_),_=pn(S,{Oa:d.Oa+1}).node,40<z++)throw new qe(32)}}return{path:S,node:_}}function jn(f){for(var d;;){if(f===f.parent)return f=f.U.lb,d?f[f.length-1]!=="/"?`${f}/${d}`:f+d:f;d=d?`${f.name}/${d}`:f.name,f=f.parent}}function mr(f,d){for(var _=0,S=0;S<d.length;S++)_=(_<<5)-_+d.charCodeAt(S)|0;return(f+_>>>0)%Xr.length}function Qr(f,d){var _=(f.mode&61440)===16384?(_=Ma(f,"x"))?_:f.j.ja?0:2:54;if(_)throw new qe(_);for(_=Xr[mr(f.id,d)];_;_=_.ec){var S=_.name;if(_.parent.id===f.id&&S===d)return _}return f.j.ja(f,d)}function Xo(f,d,_,S){return f=new dr(f,d,_,S),d=mr(f.parent.id,f.name),f.ec=Xr[d],Xr[d]=f}function mo(f){var d=["r","w","rw"][f&3];return f&512&&(d+="w"),d}function Ma(f,d){if(sa)return 0;if(!d.includes("r")||f.mode&292){if(d.includes("w")&&!(f.mode&146)||d.includes("x")&&!(f.mode&73))return 2}else return 2;return 0}function pr(f,d){try{return Qr(f,d),20}catch{}return Ma(f,"wx")}function Di(f){if(f=hr[f],!f)throw new qe(8);return f}function gr(f,d=-1){if(f=Object.assign(new fr,f),d==-1)e:{for(d=0;4096>=d;d++)if(!hr[d])break e;throw new qe(33)}return f.W=d,hr[d]=f}function Fi(f,d=-1){return f=gr(f,d),f.m?.Ec?.(f),f}var Oi={open(f){f.m=cr[f.node.xa].m,f.m.open?.(f)},aa(){throw new qe(70)}};function Hi(f,d){cr[f]={m:d}}function xn(f,d){var _=d==="/";if(_&&At)throw new qe(10);if(!_&&d){var S=pn(d,{gb:!1});if(d=S.path,S=S.node,S.ua)throw new qe(10);if((S.mode&61440)!==16384)throw new qe(54)}d={type:f,Mc:{},lb:d,dc:[]},f=f.U(d),f.U=d,d.root=f,_?At=f:S&&(S.ua=d,S.U&&S.U.dc.push(d))}function Da(f,d,_){var S=pn(f,{parent:!0}).node;if(f=de(f),!f||f==="."||f==="..")throw new qe(28);var O=pr(S,f);if(O)throw new qe(O);if(!S.j.ta)throw new qe(63);return S.j.ta(S,f,d,_)}function xi(f){return Da(f,16895,0)}function Ni(f,d,_){typeof _>"u"&&(_=d,d=438),Da(f,d|8192,_)}function qi(f,d){if(!ee(f))throw new qe(44);var _=pn(d,{parent:!0}).node;if(!_)throw new qe(44);d=de(d);var S=pr(_,d);if(S)throw new qe(S);if(!_.j.Ca)throw new qe(63);_.j.Ca(_,d,f)}function po(f){if(f=pn(f).node,!f)throw new qe(44);if(!f.j.la)throw new qe(28);return ee(jn(f.parent),f.j.la(f))}function oa(f,d,_){if(f==="")throw new qe(44);if(typeof d=="string"){var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof S>"u")throw Error(`Unknown file open mode: ${d}`);d=S}if(_=d&64?(typeof _>"u"?438:_)&4095|32768:0,typeof f=="object")var O=f;else{f=x(f);try{O=pn(f,{fb:!(d&131072)}).node}catch{}}if(S=!1,d&64)if(O){if(d&128)throw new qe(20)}else O=Da(f,_,0),S=!0;if(!O)throw new qe(44);if((O.mode&61440)===8192&&(d&=-513),d&65536&&(O.mode&61440)!==16384)throw new qe(54);if(!S&&(_=O?(O.mode&61440)===40960?32:(O.mode&61440)===16384&&(mo(d)!=="r"||d&512)?31:Ma(O,mo(d)):44))throw new qe(_);if(d&512&&!S){if(_=O,_=typeof _=="string"?pn(_,{fb:!0}).node:_,!_.j.P)throw new qe(63);if((_.mode&61440)===16384)throw new qe(31);if((_.mode&61440)!==32768)throw new qe(28);if(S=Ma(_,"w"))throw new qe(S);_.j.P(_,{size:0,timestamp:Date.now()})}return d&=-131713,O=gr({node:O,path:jn(O),flags:d,seekable:!0,position:0,m:O.m,sc:[],error:!1}),O.m.open&&O.m.open(O),!k.logReadFiles||d&1||(Pn||={},f in Pn||(Pn[f]=1)),O}function ys(f,d,_){if(f.W===null)throw new qe(8);if(!f.seekable||!f.m.aa)throw new qe(70);if(_!=0&&_!=1&&_!=2)throw new qe(28);f.position=f.m.aa(f,d,_),f.sc=[]}var go;function Dr(f,d,_){f=x("/dev/"+f);var S=zn(!!d,!!_);wi||=64;var O=wi++<<8|0;Hi(O,{open(z){z.seekable=!1},close(){_?.buffer?.length&&_(10)},read(z,Q,W,ue){for(var se=0,Oe=0;Oe<ue;Oe++){try{var Ye=d()}catch{throw new qe(29)}if(Ye===void 0&&se===0)throw new qe(6);if(Ye==null)break;se++,Q[W+Oe]=Ye}return se&&(z.node.timestamp=Date.now()),se},write(z,Q,W,ue){for(var se=0;se<ue;se++)try{_(Q[W+se])}catch{throw new qe(29)}return ue&&(z.node.timestamp=Date.now()),se}}),Ni(f,S,O)}var wi,gn={},Pn,Gi=void 0,Or=(f,d)=>Object.defineProperty(d,"name",{value:f}),$t=[],ci=[],lt,si=f=>{if(!f)throw new lt("Cannot use deleted val. handle = "+f);return ci[f]},Sn=f=>{switch(f){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const d=$t.pop()||ci.length;return ci[d]=f,ci[d+1]=1,d}},Oa=f=>{var d=Error,_=Or(f,function(S){this.name=f,this.message=S,S=Error(S).stack,S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(d.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},yo,vs,ln=f=>{for(var d="";L[f];)d+=vs[L[f++]];return d},la=[],xr=()=>{for(;la.length;){var f=la.pop();f.g.ea=!1,f.delete()}},Yn,Yi={},xa=(f,d)=>{if(d===void 0)throw new lt("ptr should not be undefined");for(;f.C;)d=f.ma(d),f=f.C;return d},yr={},Na=f=>{f=mc(f);var d=ln(f);return Ui(f),d},ua=(f,d)=>{var _=yr[f];if(_===void 0)throw f=`${d} has unknown type ${Na(f)}`,new lt(f);return _},vr=()=>{},ca=!1,Xi=(f,d,_)=>d===_?f:_.C===void 0?null:(f=Xi(f,d,_.C),f===null?null:_.Lb(f)),_s={},Qi=(f,d)=>(d=xa(f,d),Yi[d]),Ki,Vi=(f,d)=>{if(!d.u||!d.o)throw new Ki("makeClassHandle requires ptr and ptrType");if(!!d.J!=!!d.F)throw new Ki("Both smartPtrType and smartPtr must be specified");return d.count={value:1},Wi(Object.create(f,{g:{value:d,writable:!0}}))},Wi=f=>typeof FinalizationRegistry>"u"?(Wi=d=>d,f):(ca=new FinalizationRegistry(d=>{d=d.g,--d.count.value,d.count.value===0&&(d.F?d.J.O(d.F):d.u.i.O(d.o))}),Wi=d=>{var _=d.g;return _.F&&ca.register(d,{g:_},d),d},vr=d=>{ca.unregister(d)},Wi(f)),Kr={},$i=f=>{for(;f.length;){var d=f.pop();f.pop()(d)}};function hi(f){return this.fromWireType(Ce[f>>2])}var ei={},Nr={},Ct=(f,d,_)=>{function S(W){if(W=_(W),W.length!==f.length)throw new Ki("Mismatched type converter count");for(var ue=0;ue<f.length;++ue)Ei(f[ue],W[ue])}f.forEach(function(W){Nr[W]=d});var O=Array(d.length),z=[],Q=0;d.forEach((W,ue)=>{yr.hasOwnProperty(W)?O[ue]=yr[W]:(z.push(W),ei.hasOwnProperty(W)||(ei[W]=[]),ei[W].push(()=>{O[ue]=yr[W],++Q,Q===z.length&&S(O)}))}),z.length===0&&S(O)};function Vr(f,d,_={}){var S=d.name;if(!f)throw new lt(`type "${S}" must have a positive integer typeid pointer`);if(yr.hasOwnProperty(f)){if(_.Vb)return;throw new lt(`Cannot register type '${S}' twice`)}yr[f]=d,delete Nr[f],ei.hasOwnProperty(f)&&(d=ei[f],delete ei[f],d.forEach(O=>O()))}function Ei(f,d,_={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Vr(f,d,_)}var Wr=f=>{throw new lt(f.g.u.i.name+" instance already deleted")};function ha(){}var $r=(f,d,_)=>{if(f[d].A===void 0){var S=f[d];f[d]=function(...O){if(!f[d].A.hasOwnProperty(O.length))throw new lt(`Function '${_}' called with an invalid number of arguments (${O.length}) - expects one of (${f[d].A})!`);return f[d].A[O.length].apply(this,O)},f[d].A=[],f[d].A[S.da]=S}},_r=(f,d,_)=>{if(k.hasOwnProperty(f)){if(_===void 0||k[f].A!==void 0&&k[f].A[_]!==void 0)throw new lt(`Cannot register public name '${f}' twice`);if($r(k,f,f),k.hasOwnProperty(_))throw new lt(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`);k[f].A[_]=d}else k[f]=d,_!==void 0&&(k[f].Lc=_)},br=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f};function ti(f,d,_,S,O,z,Q,W){this.name=f,this.constructor=d,this.M=_,this.O=S,this.C=O,this.Qb=z,this.ma=Q,this.Lb=W,this.pb=[]}var Ji=(f,d,_)=>{for(;d!==_;){if(!d.ma)throw new lt(`Expected null or instance of ${_.name}, got an instance of ${d.name}`);f=d.ma(f),d=d.C}return f};function Pr(f,d){if(d===null){if(this.La)throw new lt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new lt(`Cannot pass "${Ts(d)}" as a ${this.name}`);if(!d.g.o)throw new lt(`Cannot pass deleted object as a pointer of type ${this.name}`);return Ji(d.g.o,d.g.u.i,this.i)}function fa(f,d){if(d===null){if(this.La)throw new lt(`null is not a valid ${this.name}`);if(this.sa){var _=this.Na();return f!==null&&f.push(this.O,_),_}return 0}if(!d||!d.g)throw new lt(`Cannot pass "${Ts(d)}" as a ${this.name}`);if(!d.g.o)throw new lt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&d.g.u.ra)throw new lt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);if(_=Ji(d.g.o,d.g.u.i,this.i),this.sa){if(d.g.F===void 0)throw new lt("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(d.g.J===this)_=d.g.F;else throw new lt(`Cannot convert argument of type ${d.g.J?d.g.J.name:d.g.u.name} to parameter type ${this.name}`);break;case 1:_=d.g.F;break;case 2:if(d.g.J===this)_=d.g.F;else{var S=d.clone();_=this.ic(_,Sn(()=>S.delete())),f!==null&&f.push(this.O,_)}break;default:throw new lt("Unsupporting sharing policy")}}return _}function vo(f,d){if(d===null){if(this.La)throw new lt(`null is not a valid ${this.name}`);return 0}if(!d.g)throw new lt(`Cannot pass "${Ts(d)}" as a ${this.name}`);if(!d.g.o)throw new lt(`Cannot pass deleted object as a pointer of type ${this.name}`);if(d.g.u.ra)throw new lt(`Cannot convert argument of type ${d.g.u.name} to parameter type ${this.name}`);return Ji(d.g.o,d.g.u.i,this.i)}function wr(f,d,_,S,O,z,Q,W,ue,se,Oe){this.name=f,this.i=d,this.La=_,this.ra=S,this.sa=O,this.hc=z,this.mc=Q,this.qb=W,this.Na=ue,this.ic=se,this.O=Oe,O||d.C!==void 0?this.toWireType=fa:(this.toWireType=S?Pr:vo,this.L=null)}var Va=(f,d,_)=>{if(!k.hasOwnProperty(f))throw new Ki("Replacing nonexistent public symbol");k[f].A!==void 0&&_!==void 0?k[f].A[_]=d:(k[f]=d,k[f].da=_)},Pi=[],Pa,bs=f=>{var d=Pi[f];return d||(f>=Pi.length&&(Pi.length=f+1),Pi[f]=d=Pa.get(f)),d},ka=(f,d,_=[])=>(f.includes("j")?(f=f.replace(/p/g,"i"),d=(0,k["dynCall_"+f])(d,..._)):d=bs(d)(..._),d),Qo=(f,d)=>(..._)=>ka(f,d,_),Bn=(f,d)=>{f=ln(f);var _=f.includes("j")?Qo(f,d):bs(d);if(typeof _!="function")throw new lt(`unknown function pointer with signature ${f}: ${d}`);return _},da,ki=(f,d)=>{function _(z){O[z]||yr[z]||(Nr[z]?Nr[z].forEach(_):(S.push(z),O[z]=!0))}var S=[],O={};throw d.forEach(_),new da(`${f}: `+S.map(Na).join([", "]))};function Ko(f){for(var d=1;d<f.length;++d)if(f[d]!==null&&f[d].L===void 0)return!0;return!1}function Jr(f,d,_,S,O){var z=d.length;if(2>z)throw new lt("argTypes array size mismatch! Must at least get return value and 'this' types!");var Q=d[1]!==null&&_!==null,W=Ko(d),ue=d[0].name!=="void",se=z-2,Oe=Array(se),Ye=[],et=[];return Or(f,function(...$){if($.length!==se)throw new lt(`function ${f} called with ${$.length} arguments, expected ${se}`);if(et.length=0,Ye.length=Q?2:1,Ye[0]=O,Q){var Le=d[1].toWireType(et,this);Ye[1]=Le}for(var We=0;We<se;++We)Oe[We]=d[We+2].toWireType(et,$[We]),Ye.push(Oe[We]);if($=S(...Ye),W)$i(et);else for(We=Q?1:2;We<d.length;We++){var Ue=We===1?Le:Oe[We-2];d[We].L!==null&&d[We].L(Ue)}return Le=ue?d[0].fromWireType($):void 0,Le})}var La=(f,d)=>{for(var _=[],S=0;S<f;S++)_.push(Ce[d+4*S>>2]);return _},ws=f=>{f=f.trim();const d=f.indexOf("(");return d!==-1?f.substr(0,d):f},Er=(f,d,_)=>{if(!(f instanceof Object))throw new lt(`${_} with invalid "this": ${f}`);if(!(f instanceof d.i.constructor))throw new lt(`${_} incompatible with "this" of type ${f.constructor.name}`);if(!f.g.o)throw new lt(`cannot call emscripten binding method ${_} on deleted object`);return Ji(f.g.o,f.g.u.i,d.i)},Es=f=>{9<f&&--ci[f+1]===0&&(ci[f]=void 0,$t.push(f))},Wo={name:"emscripten::val",fromWireType:f=>{var d=si(f);return Es(f),d},toWireType:(f,d)=>Sn(d),argPackAdvance:8,readValueFromPointer:hi,L:null},$o=(f,d,_)=>{switch(d){case 1:return _?function(S){return this.fromWireType(Re[S])}:function(S){return this.fromWireType(L[S])};case 2:return _?function(S){return this.fromWireType(ie[S>>1])}:function(S){return this.fromWireType(Te[S>>1])};case 4:return _?function(S){return this.fromWireType(we[S>>2])}:function(S){return this.fromWireType(Ce[S>>2])};default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},Ts=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},ma=(f,d)=>{switch(d){case 4:return function(_){return this.fromWireType(He[_>>2])};case 8:return function(_){return this.fromWireType(at[_>>3])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}},fi=(f,d,_)=>{switch(d){case 1:return _?S=>Re[S]:S=>L[S];case 2:return _?S=>ie[S>>1]:S=>Te[S>>1];case 4:return _?S=>we[S>>2]:S=>Ce[S>>2];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}},_o=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Jo=(f,d)=>{for(var _=f>>1,S=_+d/2;!(_>=S)&&Te[_];)++_;if(_<<=1,32<_-f&&_o)return _o.decode(L.subarray(f,_));for(_="",S=0;!(S>=d/2);++S){var O=ie[f+2*S>>1];if(O==0)break;_+=String.fromCharCode(O)}return _},Zr=(f,d,_)=>{if(_??=2147483647,2>_)return 0;_-=2;var S=d;_=_<2*f.length?_/2:f.length;for(var O=0;O<_;++O)ie[d>>1]=f.charCodeAt(O),d+=2;return ie[d>>1]=0,d-S},u=f=>2*f.length,y=(f,d)=>{for(var _=0,S="";!(_>=d/4);){var O=we[f+4*_>>2];if(O==0)break;++_,65536<=O?(O-=65536,S+=String.fromCharCode(55296|O>>10,56320|O&1023)):S+=String.fromCharCode(O)}return S},A=(f,d,_)=>{if(_??=2147483647,4>_)return 0;var S=d;_=S+_-4;for(var O=0;O<f.length;++O){var z=f.charCodeAt(O);if(55296<=z&&57343>=z){var Q=f.charCodeAt(++O);z=65536+((z&1023)<<10)|Q&1023}if(we[d>>2]=z,d+=4,d+4>_)break}return we[d>>2]=0,d-S},N=f=>{for(var d=0,_=0;_<f.length;++_){var S=f.charCodeAt(_);55296<=S&&57343>=S&&++_,d+=4}return d},ne=(f,d,_)=>{var S=[];return f=f.toWireType(S,_),S.length&&(Ce[d>>2]=Sn(S)),f},fe={},ke=f=>{var d=fe[f];return d===void 0?ln(f):d},vt=[],Nn=f=>{var d=vt.length;return vt.push(f),d},Jt=(f,d)=>{for(var _=Array(f),S=0;S<f;++S)_[S]=ua(Ce[d+4*S>>2],"parameter "+S);return _},Tn=Reflect.construct,Ti=[],Zi={},er=()=>{if(!Li){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},d;for(d in Zi)Zi[d]===void 0?delete f[d]:f[d]=Zi[d];var _=[];for(d in f)_.push(`${d}=${f[d]}`);Li=_}return Li},Li,kr=f=>f%4===0&&(f%100!==0||f%400===0),Ua=[31,29,31,30,31,30,31,31,30,31,30,31],za=[31,28,31,30,31,30,31,31,30,31,30,31],gf=(f,d,_,S)=>{function O($,Le,We){for($=typeof $=="number"?$.toString():$||"";$.length<Le;)$=We[0]+$;return $}function z($,Le){return O($,Le,"0")}function Q($,Le){function We(tn){return 0>tn?-1:0<tn?1:0}var Ue;return(Ue=We($.getFullYear()-Le.getFullYear()))===0&&(Ue=We($.getMonth()-Le.getMonth()))===0&&(Ue=We($.getDate()-Le.getDate())),Ue}function W($){switch($.getDay()){case 0:return new Date($.getFullYear()-1,11,29);case 1:return $;case 2:return new Date($.getFullYear(),0,3);case 3:return new Date($.getFullYear(),0,2);case 4:return new Date($.getFullYear(),0,1);case 5:return new Date($.getFullYear()-1,11,31);case 6:return new Date($.getFullYear()-1,11,30)}}function ue($){var Le=$.ba;for($=new Date(new Date($.ca+1900,0,1).getTime());0<Le;){var We=$.getMonth(),Ue=(kr($.getFullYear())?Ua:za)[We];if(Le>Ue-$.getDate())Le-=Ue-$.getDate()+1,$.setDate(1),11>We?$.setMonth(We+1):($.setMonth(0),$.setFullYear($.getFullYear()+1));else{$.setDate($.getDate()+Le);break}}return We=new Date($.getFullYear()+1,0,4),Le=W(new Date($.getFullYear(),0,4)),We=W(We),0>=Q(Le,$)?0>=Q(We,$)?$.getFullYear()+1:$.getFullYear():$.getFullYear()-1}var se=Ce[S+40>>2];S={pc:we[S>>2],oc:we[S+4>>2],Da:we[S+8>>2],Qa:we[S+12>>2],Ea:we[S+16>>2],ca:we[S+20>>2],R:we[S+24>>2],ba:we[S+28>>2],Nc:we[S+32>>2],nc:we[S+36>>2],qc:se&&se?ye(L,se):""},_=_?ye(L,_):"",se={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in se)_=_.replace(new RegExp(Oe,"g"),se[Oe]);var Ye="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),et="January February March April May June July August September October November December".split(" ");se={"%a":$=>Ye[$.R].substring(0,3),"%A":$=>Ye[$.R],"%b":$=>et[$.Ea].substring(0,3),"%B":$=>et[$.Ea],"%C":$=>z(($.ca+1900)/100|0,2),"%d":$=>z($.Qa,2),"%e":$=>O($.Qa,2," "),"%g":$=>ue($).toString().substring(2),"%G":ue,"%H":$=>z($.Da,2),"%I":$=>($=$.Da,$==0?$=12:12<$&&($-=12),z($,2)),"%j":$=>{for(var Le=0,We=0;We<=$.Ea-1;Le+=(kr($.ca+1900)?Ua:za)[We++]);return z($.Qa+Le,3)},"%m":$=>z($.Ea+1,2),"%M":$=>z($.oc,2),"%n":()=>`
`,"%p":$=>0<=$.Da&&12>$.Da?"AM":"PM","%S":$=>z($.pc,2),"%t":()=>"	","%u":$=>$.R||7,"%U":$=>z(Math.floor(($.ba+7-$.R)/7),2),"%V":$=>{var Le=Math.floor(($.ba+7-($.R+6)%7)/7);if(2>=($.R+371-$.ba-2)%7&&Le++,Le)Le==53&&(We=($.R+371-$.ba)%7,We==4||We==3&&kr($.ca)||(Le=1));else{Le=52;var We=($.R+7-$.ba-1)%7;(We==4||We==5&&kr($.ca%400-1))&&Le++}return z(Le,2)},"%w":$=>$.R,"%W":$=>z(Math.floor(($.ba+7-($.R+6)%7)/7),2),"%y":$=>($.ca+1900).toString().substring(2),"%Y":$=>$.ca+1900,"%z":$=>{$=$.nc;var Le=0<=$;return $=Math.abs($)/60,(Le?"+":"-")+("0000"+($/60*100+$%60)).slice(-4)},"%Z":$=>$.qc,"%%":()=>"%"},_=_.replace(/%%/g,"\0\0");for(Oe in se)_.includes(Oe)&&(_=_.replace(new RegExp(Oe,"g"),se[Oe](S)));return _=_.replace(/\0\0/g,"%"),Oe=Je(_,!1),Oe.length>d?0:(Re.set(Oe,f),Oe.length-1)};[44].forEach(f=>{gs[f]=new qe(f),gs[f].stack="<generic error, no stack>"}),Xr=Array(4096),xn(ft,"/"),xi("/tmp"),xi("/home"),xi("/home/web_user"),(function(){xi("/dev"),Hi(259,{read:()=>0,write:(S,O,z,Q)=>Q}),Ni("/dev/null",259),Ge(1280,Nt),Ge(1536,wn),Ni("/dev/tty",1280),Ni("/dev/tty1",1536);var f=new Uint8Array(1024),d=0,_=()=>(d===0&&(d=Qe(f).byteLength),f[--d]);Dr("random",_),Dr("urandom",_),xi("/dev/shm"),xi("/dev/shm/tmp")})(),(function(){xi("/proc");var f=xi("/proc/self");xi("/proc/self/fd"),xn({U(){var d=Xo(f,"fd",16895,73);return d.j={ja(_,S){var O=Di(+S);return _={parent:null,U:{lb:"fake"},j:{la:()=>O.path}},_.parent=_}},d}},"/proc/self/fd")})(),lt=k.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},ci.push(0,1,void 0,1,null,1,!0,1,!1,1),k.count_emval_handles=()=>ci.length/2-5-$t.length,yo=k.PureVirtualError=Oa("PureVirtualError");for(var dc=Array(256),Zo=0;256>Zo;++Zo)dc[Zo]=String.fromCharCode(Zo);vs=dc,k.getInheritedInstanceCount=()=>Object.keys(Yi).length,k.getLiveInheritedInstances=()=>{var f=[],d;for(d in Yi)Yi.hasOwnProperty(d)&&f.push(Yi[d]);return f},k.flushPendingDeletes=xr,k.setDelayFunction=f=>{Yn=f,la.length&&Yn&&Yn(xr)},Ki=k.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(ha.prototype,{isAliasOf:function(f){if(!(this instanceof ha&&f instanceof ha))return!1;var d=this.g.u.i,_=this.g.o;f.g=f.g;var S=f.g.u.i;for(f=f.g.o;d.C;)_=d.ma(_),d=d.C;for(;S.C;)f=S.ma(f),S=S.C;return d===S&&_===f},clone:function(){if(this.g.o||Wr(this),this.g.ha)return this.g.count.value+=1,this;var f=Wi,d=Object,_=d.create,S=Object.getPrototypeOf(this),O=this.g;return f=f(_.call(d,S,{g:{value:{count:O.count,ea:O.ea,ha:O.ha,o:O.o,u:O.u,F:O.F,J:O.J}}})),f.g.count.value+=1,f.g.ea=!1,f},delete(){if(this.g.o||Wr(this),this.g.ea&&!this.g.ha)throw new lt("Object already scheduled for deletion");vr(this);var f=this.g;--f.count.value,f.count.value===0&&(f.F?f.J.O(f.F):f.u.i.O(f.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Wr(this),this.g.ea&&!this.g.ha)throw new lt("Object already scheduled for deletion");return la.push(this),la.length===1&&Yn&&Yn(xr),this.g.ea=!0,this}}),Object.assign(wr.prototype,{Rb(f){return this.qb&&(f=this.qb(f)),f},ab(f){this.O?.(f)},argPackAdvance:8,readValueFromPointer:hi,fromWireType:function(f){function d(){return this.sa?Vi(this.i.M,{u:this.hc,o:_,J:this,F:f}):Vi(this.i.M,{u:this,o:f})}var _=this.Rb(f);if(!_)return this.ab(f),null;var S=Qi(this.i,_);if(S!==void 0)return S.g.count.value===0?(S.g.o=_,S.g.F=f,S.clone()):(S=S.clone(),this.ab(f),S);if(S=this.i.Qb(_),S=_s[S],!S)return d.call(this);S=this.ra?S.Hb:S.pointerType;var O=Xi(_,this.i,S.i);return O===null?d.call(this):this.sa?Vi(S.i.M,{u:S,o:O,J:this,F:f}):Vi(S.i.M,{u:S,o:O})}}),da=k.UnboundTypeError=Oa("UnboundTypeError");var $l={__syscall_fcntl64:function(f,d,_){Gi=_;try{var S=Di(f);switch(d){case 0:var O=g();if(0>O)break;for(;hr[O];)O++;return Fi(S,O).W;case 1:case 2:return 0;case 3:return S.flags;case 4:return O=g(),S.flags|=O,0;case 12:return O=g(),ie[O+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(z){if(typeof gn>"u"||z.name!=="ErrnoError")throw z;return-z.$}},__syscall_ioctl:function(f,d,_){Gi=_;try{var S=Di(f);switch(d){case 21509:return S.s?0:-59;case 21505:if(!S.s)return-59;if(S.s.V.Xb){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var O=g();we[O>>2]=25856,we[O+4>>2]=5,we[O+8>>2]=191,we[O+12>>2]=35387;for(var z=0;32>z;z++)Re[O+z+17]=f[z]||0}return 0;case 21510:case 21511:case 21512:return S.s?0:-59;case 21506:case 21507:case 21508:if(!S.s)return-59;if(S.s.V.Yb)for(O=g(),f=[],z=0;32>z;z++)f.push(Re[O+z+17]);return 0;case 21519:return S.s?(O=g(),we[O>>2]=0):-59;case 21520:return S.s?-28:-59;case 21531:if(O=g(),!S.m.Wb)throw new qe(59);return S.m.Wb(S,d,O);case 21523:return S.s?(S.s.V.Zb&&(z=[24,80],O=g(),ie[O>>1]=z[0],ie[O+2>>1]=z[1]),0):-59;case 21524:return S.s?0:-59;case 21515:return S.s?0:-59;default:return-28}}catch(Q){if(typeof gn>"u"||Q.name!=="ErrnoError")throw Q;return-Q.$}},__syscall_openat:function(f,d,_,S){Gi=S;try{d=d?ye(L,d):"";var O=d;if(O.charAt(0)==="/")d=O;else{var z=f===-100?"/":Di(f).path;if(O.length==0)throw new qe(44);d=x(z+"/"+O)}var Q=S?g():0;return oa(d,_,Q).W}catch(W){if(typeof gn>"u"||W.name!=="ErrnoError")throw W;return-W.$}},_abort_js:()=>{Lt("")},_embind_create_inheriting_constructor:(f,d,_)=>{f=ln(f),d=ua(d,"wrapper"),_=si(_);var S=d.i,O=S.M,z=S.C.M,Q=S.C.constructor;return f=Or(f,function(...W){S.C.pb.forEach((function(ue){if(this[ue]===z[ue])throw new yo(`Pure virtual function ${ue} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:O}),this.__construct(...W)}),O.__construct=function(...W){if(this===O)throw new lt("Pass correct 'this' to __construct");W=Q.implement(this,...W),vr(W);var ue=W.g;if(W.notifyOnDestruction(),ue.ha=!0,Object.defineProperties(this,{g:{value:ue}}),Wi(this),W=ue.o,W=xa(S,W),Yi.hasOwnProperty(W))throw new lt(`Tried to register registered instance: ${W}`);Yi[W]=this},O.__destruct=function(){if(this===O)throw new lt("Pass correct 'this' to __destruct");vr(this);var W=this.g.o;if(W=xa(S,W),Yi.hasOwnProperty(W))delete Yi[W];else throw new lt(`Tried to unregister unregistered instance: ${W}`)},f.prototype=Object.create(O),Object.assign(f.prototype,_),Sn(f)},_embind_finalize_value_object:f=>{var d=Kr[f];delete Kr[f];var _=d.Na,S=d.O,O=d.eb,z=O.map(Q=>Q.Ub).concat(O.map(Q=>Q.kc));Ct([f],z,Q=>{var W={};return O.forEach((ue,se)=>{var Oe=Q[se],Ye=ue.Sb,et=ue.Tb,$=Q[se+O.length],Le=ue.jc,We=ue.lc;W[ue.Ob]={read:Ue=>Oe.fromWireType(Ye(et,Ue)),write:(Ue,tn)=>{var Xe=[];Le(We,Ue,$.toWireType(Xe,tn)),$i(Xe)}}}),[{name:d.name,fromWireType:ue=>{var se={},Oe;for(Oe in W)se[Oe]=W[Oe].read(ue);return S(ue),se},toWireType:(ue,se)=>{for(var Oe in W)if(!(Oe in se))throw new TypeError(`Missing field: "${Oe}"`);var Ye=_();for(Oe in W)W[Oe].write(Ye,se[Oe]);return ue!==null&&ue.push(S,Ye),Ye},argPackAdvance:8,readValueFromPointer:hi,L:S}]})},_embind_register_bigint:()=>{},_embind_register_bool:(f,d,_,S)=>{d=ln(d),Ei(f,{name:d,fromWireType:function(O){return!!O},toWireType:function(O,z){return z?_:S},argPackAdvance:8,readValueFromPointer:function(O){return this.fromWireType(L[O])},L:null})},_embind_register_class:(f,d,_,S,O,z,Q,W,ue,se,Oe,Ye,et)=>{Oe=ln(Oe),z=Bn(O,z),W&&=Bn(Q,W),se&&=Bn(ue,se),et=Bn(Ye,et);var $=br(Oe);_r($,function(){ki(`Cannot construct ${Oe} due to unbound types`,[S])}),Ct([f,d,_],S?[S]:[],Le=>{if(Le=Le[0],S)var We=Le.i,Ue=We.M;else Ue=ha.prototype;Le=Or(Oe,function(...un){if(Object.getPrototypeOf(this)!==tn)throw new lt("Use 'new' to construct "+Oe);if(Xe.Z===void 0)throw new lt(Oe+" has no accessible constructor");var Fn=Xe.Z[un.length];if(Fn===void 0)throw new lt(`Tried to invoke ctor of ${Oe} with invalid number of parameters (${un.length}) - expected (${Object.keys(Xe.Z).toString()}) parameters instead!`);return Fn.apply(this,un)});var tn=Object.create(Ue,{constructor:{value:Le}});Le.prototype=tn;var Xe=new ti(Oe,Le,tn,et,We,z,W,se);if(Xe.C){var Dt;(Dt=Xe.C).na??(Dt.na=[]),Xe.C.na.push(Xe)}return We=new wr(Oe,Xe,!0,!1,!1),Dt=new wr(Oe+"*",Xe,!1,!1,!1),Ue=new wr(Oe+" const*",Xe,!1,!0,!1),_s[f]={pointerType:Dt,Hb:Ue},Va($,Le),[We,Dt,Ue]})},_embind_register_class_class_function:(f,d,_,S,O,z,Q)=>{var W=La(_,S);d=ln(d),d=ws(d),z=Bn(O,z),Ct([],[f],ue=>{function se(){ki(`Cannot call ${Oe} due to unbound types`,W)}ue=ue[0];var Oe=`${ue.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]);var Ye=ue.i.constructor;return Ye[d]===void 0?(se.da=_-1,Ye[d]=se):($r(Ye,d,Oe),Ye[d].A[_-1]=se),Ct([],W,et=>{if(et=Jr(Oe,[et[0],null].concat(et.slice(1)),null,z,Q),Ye[d].A===void 0?(et.da=_-1,Ye[d]=et):Ye[d].A[_-1]=et,ue.i.na)for(const $ of ue.i.na)$.constructor.hasOwnProperty(d)||($.constructor[d]=et);return[]}),[]})},_embind_register_class_class_property:(f,d,_,S,O,z,Q,W)=>{d=ln(d),z=Bn(O,z),Ct([],[f],ue=>{ue=ue[0];var se=`${ue.name}.${d}`,Oe={get(){ki(`Cannot access ${se} due to unbound types`,[_])},enumerable:!0,configurable:!0};return Oe.set=W?()=>{ki(`Cannot access ${se} due to unbound types`,[_])}:()=>{throw new lt(`${se} is a read-only property`)},Object.defineProperty(ue.i.constructor,d,Oe),Ct([],[_],Ye=>{Ye=Ye[0];var et={get(){return Ye.fromWireType(z(S))},enumerable:!0};return W&&(W=Bn(Q,W),et.set=$=>{var Le=[];W(S,Ye.toWireType(Le,$)),$i(Le)}),Object.defineProperty(ue.i.constructor,d,et),[]}),[]})},_embind_register_class_constructor:(f,d,_,S,O,z)=>{var Q=La(d,_);O=Bn(S,O),Ct([],[f],W=>{W=W[0];var ue=`constructor ${W.name}`;if(W.i.Z===void 0&&(W.i.Z=[]),W.i.Z[d-1]!==void 0)throw new lt(`Cannot register multiple constructors with identical number of parameters (${d-1}) for class '${W.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return W.i.Z[d-1]=()=>{ki(`Cannot construct ${W.name} due to unbound types`,Q)},Ct([],Q,se=>(se.splice(1,0,null),W.i.Z[d-1]=Jr(ue,se,null,O,z),[])),[]})},_embind_register_class_function:(f,d,_,S,O,z,Q,W)=>{var ue=La(_,S);d=ln(d),d=ws(d),z=Bn(O,z),Ct([],[f],se=>{function Oe(){ki(`Cannot call ${Ye} due to unbound types`,ue)}se=se[0];var Ye=`${se.name}.${d}`;d.startsWith("@@")&&(d=Symbol[d.substring(2)]),W&&se.i.pb.push(d);var et=se.i.M,$=et[d];return $===void 0||$.A===void 0&&$.className!==se.name&&$.da===_-2?(Oe.da=_-2,Oe.className=se.name,et[d]=Oe):($r(et,d,Ye),et[d].A[_-2]=Oe),Ct([],ue,Le=>(Le=Jr(Ye,Le,se,z,Q),et[d].A===void 0?(Le.da=_-2,et[d]=Le):et[d].A[_-2]=Le,[])),[]})},_embind_register_class_property:(f,d,_,S,O,z,Q,W,ue,se)=>{d=ln(d),O=Bn(S,O),Ct([],[f],Oe=>{Oe=Oe[0];var Ye=`${Oe.name}.${d}`,et={get(){ki(`Cannot access ${Ye} due to unbound types`,[_,Q])},enumerable:!0,configurable:!0};return et.set=ue?()=>ki(`Cannot access ${Ye} due to unbound types`,[_,Q]):()=>{throw new lt(Ye+" is a read-only property")},Object.defineProperty(Oe.i.M,d,et),Ct([],ue?[_,Q]:[_],$=>{var Le=$[0],We={get(){var tn=Er(this,Oe,Ye+" getter");return Le.fromWireType(O(z,tn))},enumerable:!0};if(ue){ue=Bn(W,ue);var Ue=$[1];We.set=function(tn){var Xe=Er(this,Oe,Ye+" setter"),Dt=[];ue(se,Xe,Ue.toWireType(Dt,tn)),$i(Dt)}}return Object.defineProperty(Oe.i.M,d,We),[]}),[]})},_embind_register_emval:f=>Ei(f,Wo),_embind_register_enum:(f,d,_,S)=>{function O(){}d=ln(d),O.values={},Ei(f,{name:d,constructor:O,fromWireType:function(z){return this.constructor.values[z]},toWireType:(z,Q)=>Q.value,argPackAdvance:8,readValueFromPointer:$o(d,_,S),L:null}),_r(d,O)},_embind_register_enum_value:(f,d,_)=>{var S=ua(f,"enum");d=ln(d),f=S.constructor,S=Object.create(S.constructor.prototype,{value:{value:_},constructor:{value:Or(`${S.name}_${d}`,function(){})}}),f.values[_]=S,f[d]=S},_embind_register_float:(f,d,_)=>{d=ln(d),Ei(f,{name:d,fromWireType:S=>S,toWireType:(S,O)=>O,argPackAdvance:8,readValueFromPointer:ma(d,_),L:null})},_embind_register_function:(f,d,_,S,O,z)=>{var Q=La(d,_);f=ln(f),f=ws(f),O=Bn(S,O),_r(f,function(){ki(`Cannot call ${f} due to unbound types`,Q)},d-1),Ct([],Q,W=>(Va(f,Jr(f,[W[0],null].concat(W.slice(1)),null,O,z),d-1),[]))},_embind_register_integer:(f,d,_,S,O)=>{if(d=ln(d),O===-1&&(O=4294967295),O=W=>W,S===0){var z=32-8*_;O=W=>W<<z>>>z}var Q=d.includes("unsigned")?function(W,ue){return ue>>>0}:function(W,ue){return ue};Ei(f,{name:d,fromWireType:O,toWireType:Q,argPackAdvance:8,readValueFromPointer:fi(d,_,S!==0),L:null})},_embind_register_memory_view:(f,d,_)=>{function S(z){return new O(Re.buffer,Ce[z+4>>2],Ce[z>>2])}var O=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];_=ln(_),Ei(f,{name:_,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{Vb:!0})},_embind_register_std_string:(f,d)=>{d=ln(d);var _=d==="std::string";Ei(f,{name:d,fromWireType:function(S){var O=Ce[S>>2],z=S+4;if(_)for(var Q=z,W=0;W<=O;++W){var ue=z+W;if(W==O||L[ue]==0){if(Q=Q?ye(L,Q,ue-Q):"",se===void 0)var se=Q;else se+="\0",se+=Q;Q=ue+1}}else{for(se=Array(O),W=0;W<O;++W)se[W]=String.fromCharCode(L[z+W]);se=se.join("")}return Ui(S),se},toWireType:function(S,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var z=typeof O=="string";if(!(z||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int8Array))throw new lt("Cannot pass non-string to std::string");var Q=_&&z?Ve(O):O.length,W=ja(4+Q+1),ue=W+4;if(Ce[W>>2]=Q,_&&z)Be(O,L,ue,Q+1);else if(z)for(z=0;z<Q;++z){var se=O.charCodeAt(z);if(255<se)throw Ui(ue),new lt("String has UTF-16 code units that do not fit in 8 bits");L[ue+z]=se}else for(z=0;z<Q;++z)L[ue+z]=O[z];return S!==null&&S.push(Ui,W),W},argPackAdvance:8,readValueFromPointer:hi,L(S){Ui(S)}})},_embind_register_std_wstring:(f,d,_)=>{if(_=ln(_),d===2)var S=Jo,O=Zr,z=u,Q=W=>Te[W>>1];else d===4&&(S=y,O=A,z=N,Q=W=>Ce[W>>2]);Ei(f,{name:_,fromWireType:W=>{for(var ue=Ce[W>>2],se,Oe=W+4,Ye=0;Ye<=ue;++Ye){var et=W+4+Ye*d;(Ye==ue||Q(et)==0)&&(Oe=S(Oe,et-Oe),se===void 0?se=Oe:(se+="\0",se+=Oe),Oe=et+d)}return Ui(W),se},toWireType:(W,ue)=>{if(typeof ue!="string")throw new lt(`Cannot pass non-string to C++ string type ${_}`);var se=z(ue),Oe=ja(4+se+d);return Ce[Oe>>2]=se/d,O(ue,Oe+4,se+d),W!==null&&W.push(Ui,Oe),Oe},argPackAdvance:8,readValueFromPointer:hi,L(W){Ui(W)}})},_embind_register_value_object:(f,d,_,S,O,z)=>{Kr[f]={name:ln(d),Na:Bn(_,S),O:Bn(O,z),eb:[]}},_embind_register_value_object_field:(f,d,_,S,O,z,Q,W,ue,se)=>{Kr[f].eb.push({Ob:ln(d),Ub:_,Sb:Bn(S,O),Tb:z,kc:Q,jc:Bn(W,ue),lc:se})},_embind_register_void:(f,d)=>{d=ln(d),Ei(f,{Ic:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(f,d,_)=>L.copyWithin(f,d,d+_),_emval_as:(f,d,_)=>(f=si(f),d=ua(d,"emval::as"),ne(d,_,f)),_emval_call_method:(f,d,_,S,O)=>(f=vt[f],d=si(d),_=ke(_),f(d,d[_],S,O)),_emval_decref:Es,_emval_get_method_caller:(f,d,_)=>{var S=Jt(f,d),O=S.shift();f--;var z=Array(f);return d=`methodCaller<(${S.map(Q=>Q.name).join(", ")}) => ${O.name}>`,Nn(Or(d,(Q,W,ue,se)=>{for(var Oe=0,Ye=0;Ye<f;++Ye)z[Ye]=S[Ye].readValueFromPointer(se+Oe),Oe+=S[Ye].argPackAdvance;return Q=_===1?Tn(W,z):W.apply(Q,z),ne(O,ue,Q)}))},_emval_get_module_property:f=>(f=ke(f),Sn(k[f])),_emval_get_property:(f,d)=>(f=si(f),d=si(d),Sn(f[d])),_emval_incref:f=>{9<f&&(ci[f+1]+=1)},_emval_new_array:()=>Sn([]),_emval_new_cstring:f=>Sn(ke(f)),_emval_new_object:()=>Sn({}),_emval_run_destructors:f=>{var d=si(f);$i(d),Es(f)},_emval_set_property:(f,d,_)=>{f=si(f),d=si(d),_=si(_),f[d]=_},_emval_take_value:(f,d)=>(f=ua(f,"_emval_take_value"),f=f.readValueFromPointer(d),Sn(f)),emscripten_asm_const_int:(f,d,_)=>{Ti.length=0;for(var S;S=L[d++];){var O=S!=105;O&=S!=112,_+=O&&_%8?4:0,Ti.push(S==112?Ce[_>>2]:S==105?we[_>>2]:at[_>>3]),_+=O?8:4}return bn[f](...Ti)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:f=>{var d=L.length;if(f>>>=0,2147483648<f)return!1;for(var _=1;4>=_;_*=2){var S=d*(1+.2/_);S=Math.min(S,f+100663296);var O=Math;S=Math.max(f,S);e:{O=(O.min.call(O,2147483648,S+(65536-S%65536)%65536)-ge.buffer.byteLength+65535)/65536;try{ge.grow(O),ot();var z=1;break e}catch{}z=void 0}if(z)return!0}return!1},environ_get:(f,d)=>{var _=0;return er().forEach((S,O)=>{var z=d+_;for(O=Ce[f+4*O>>2]=z,z=0;z<S.length;++z)Re[O++]=S.charCodeAt(z);Re[O]=0,_+=S.length+1}),0},environ_sizes_get:(f,d)=>{var _=er();Ce[f>>2]=_.length;var S=0;return _.forEach(O=>S+=O.length+1),Ce[d>>2]=S,0},fd_close:function(f){try{var d=Di(f);if(d.W===null)throw new qe(8);d.Ka&&(d.Ka=null);try{d.m.close&&d.m.close(d)}catch(_){throw _}finally{hr[d.W]=null}return d.W=null,0}catch(_){if(typeof gn>"u"||_.name!=="ErrnoError")throw _;return _.$}},fd_read:function(f,d,_,S){try{e:{var O=Di(f);f=d;for(var z,Q=d=0;Q<_;Q++){var W=Ce[f>>2],ue=Ce[f+4>>2];f+=8;var se=O,Oe=z,Ye=Re;if(0>ue||0>Oe)throw new qe(28);if(se.W===null)throw new qe(8);if((se.flags&2097155)===1)throw new qe(8);if((se.node.mode&61440)===16384)throw new qe(31);if(!se.m.read)throw new qe(28);var et=typeof Oe<"u";if(!et)Oe=se.position;else if(!se.seekable)throw new qe(70);var $=se.m.read(se,Ye,W,ue,Oe);et||(se.position+=$);var Le=$;if(0>Le){var We=-1;break e}if(d+=Le,Le<ue)break;typeof z<"u"&&(z+=Le)}We=d}return Ce[S>>2]=We,0}catch(Ue){if(typeof gn>"u"||Ue.name!=="ErrnoError")throw Ue;return Ue.$}},fd_seek:function(f,d,_,S,O){d=_+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN;try{if(isNaN(d))return 61;var z=Di(f);return ys(z,d,S),Yt=[z.position>>>0,(Un=z.position,1<=+Math.abs(Un)?0<Un?+Math.floor(Un/4294967296)>>>0:~~+Math.ceil((Un-+(~~Un>>>0))/4294967296)>>>0:0)],we[O>>2]=Yt[0],we[O+4>>2]=Yt[1],z.Ka&&d===0&&S===0&&(z.Ka=null),0}catch(Q){if(typeof gn>"u"||Q.name!=="ErrnoError")throw Q;return Q.$}},fd_write:function(f,d,_,S){try{e:{var O=Di(f);f=d;for(var z,Q=d=0;Q<_;Q++){var W=Ce[f>>2],ue=Ce[f+4>>2];f+=8;var se=O,Oe=W,Ye=ue,et=z,$=Re;if(0>Ye||0>et)throw new qe(28);if(se.W===null)throw new qe(8);if((se.flags&2097155)===0)throw new qe(8);if((se.node.mode&61440)===16384)throw new qe(31);if(!se.m.write)throw new qe(28);se.seekable&&se.flags&1024&&ys(se,0,2);var Le=typeof et<"u";if(!Le)et=se.position;else if(!se.seekable)throw new qe(70);var We=se.m.write(se,$,Oe,Ye,et,void 0);Le||(se.position+=We);var Ue=We;if(0>Ue){var tn=-1;break e}d+=Ue,typeof z<"u"&&(z+=Ue)}tn=d}return Ce[S>>2]=tn,0}catch(Xe){if(typeof gn>"u"||Xe.name!=="ErrnoError")throw Xe;return Xe.$}},strftime_l:(f,d,_,S)=>gf(f,d,_,S)},Rn=(function(){function f(_){return Rn=_.exports,ge=Rn.memory,ot(),Pa=Rn.__indirect_function_table,Rt.unshift(Rn.__wasm_call_ctors),bt--,k.monitorRunDependencies?.(bt),bt==0&&Gt&&(_=Gt,Gt=null,_()),Rn}var d={env:$l,wasi_snapshot_preview1:$l};if(bt++,k.monitorRunDependencies?.(bt),k.instantiateWasm)try{return k.instantiateWasm(d,f)}catch(_){q(`Module.instantiateWasm callback failed with error: ${_}`),be(_)}return Wt||=Dn("canvas_advanced.wasm")?"canvas_advanced.wasm":k.locateFile?k.locateFile("canvas_advanced.wasm",P):P+"canvas_advanced.wasm",ur(d,function(_){f(_.instance)}).catch(be),{}})(),Ui=f=>(Ui=Rn.free)(f),ja=f=>(ja=Rn.malloc)(f),mc=f=>(mc=Rn.__getTypeName)(f),bo=k._ma_device__on_notification_unlocked=f=>(bo=k._ma_device__on_notification_unlocked=Rn.ma_device__on_notification_unlocked)(f);k._ma_malloc_emscripten=(f,d)=>(k._ma_malloc_emscripten=Rn.ma_malloc_emscripten)(f,d),k._ma_free_emscripten=(f,d)=>(k._ma_free_emscripten=Rn.ma_free_emscripten)(f,d);var Jl=k._ma_device_process_pcm_frames_capture__webaudio=(f,d,_)=>(Jl=k._ma_device_process_pcm_frames_capture__webaudio=Rn.ma_device_process_pcm_frames_capture__webaudio)(f,d,_),Zl=k._ma_device_process_pcm_frames_playback__webaudio=(f,d,_)=>(Zl=k._ma_device_process_pcm_frames_playback__webaudio=Rn.ma_device_process_pcm_frames_playback__webaudio)(f,d,_);k.dynCall_iiji=(f,d,_,S,O)=>(k.dynCall_iiji=Rn.dynCall_iiji)(f,d,_,S,O),k.dynCall_jiji=(f,d,_,S,O)=>(k.dynCall_jiji=Rn.dynCall_jiji)(f,d,_,S,O),k.dynCall_iiiji=(f,d,_,S,O,z)=>(k.dynCall_iiiji=Rn.dynCall_iiiji)(f,d,_,S,O,z),k.dynCall_iij=(f,d,_,S)=>(k.dynCall_iij=Rn.dynCall_iij)(f,d,_,S),k.dynCall_jii=(f,d,_)=>(k.dynCall_jii=Rn.dynCall_jii)(f,d,_),k.dynCall_viijii=(f,d,_,S,O,z,Q)=>(k.dynCall_viijii=Rn.dynCall_viijii)(f,d,_,S,O,z,Q),k.dynCall_iiiiij=(f,d,_,S,O,z,Q)=>(k.dynCall_iiiiij=Rn.dynCall_iiiiij)(f,d,_,S,O,z,Q),k.dynCall_iiiiijj=(f,d,_,S,O,z,Q,W,ue)=>(k.dynCall_iiiiijj=Rn.dynCall_iiiiijj)(f,d,_,S,O,z,Q,W,ue),k.dynCall_iiiiiijj=(f,d,_,S,O,z,Q,W,ue,se)=>(k.dynCall_iiiiiijj=Rn.dynCall_iiiiiijj)(f,d,_,S,O,z,Q,W,ue,se);var As;Gt=function f(){As||el(),As||(Gt=f)};function el(){function f(){if(!As&&(As=!0,k.calledRun=!0,!he)){if(k.noFSInit||go||(go=!0,k.stdin=k.stdin,k.stdout=k.stdout,k.stderr=k.stderr,k.stdin?Dr("stdin",k.stdin):qi("/dev/tty","/dev/stdin"),k.stdout?Dr("stdout",null,k.stdout):qi("/dev/tty","/dev/stdout"),k.stderr?Dr("stderr",null,k.stderr):qi("/dev/tty1","/dev/stderr"),oa("/dev/stdin",0),oa("/dev/stdout",1),oa("/dev/stderr",1)),sa=!1,R(Rt),Me(k),k.onRuntimeInitialized&&k.onRuntimeInitialized(),k.postRun)for(typeof k.postRun=="function"&&(k.postRun=[k.postRun]);k.postRun.length;){var d=k.postRun.shift();on.unshift(d)}R(on)}}if(!(0<bt)){if(k.preRun)for(typeof k.preRun=="function"&&(k.preRun=[k.preRun]);k.preRun.length;)st();R(pt),0<bt||(k.setStatus?(k.setStatus("Running..."),setTimeout(function(){setTimeout(function(){k.setStatus("")},1),f()},1)):f())}}if(k.preInit)for(typeof k.preInit=="function"&&(k.preInit=[k.preInit]);0<k.preInit.length;)k.preInit.pop()();return el(),te=Pe,te})})();const M=E}),(p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E.Animation});var E=w(4)}),((p,b,w)=>{w.r(b),w.d(b,{Animation:()=>E});var E=(function(){function M(U,F,te,k){this.animation=U,this.artboard=F,this.playing=k,this.loopCount=0,this.scrubTo=null,this.instance=new te.LinearAnimationInstance(U,F)}return Object.defineProperty(M.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"time",{get:function(){return this.instance.time},set:function(U){this.instance.time=U},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),M.prototype.advance=function(U){this.scrubTo===null?this.instance.advance(U):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},M.prototype.apply=function(U){this.instance.apply(U)},M.prototype.cleanup=function(){this.instance.delete()},M})()}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>U.AudioAssetWrapper,AudioWrapper:()=>U.AudioWrapper,BLANK_URL:()=>M.BLANK_URL,CustomFileAssetLoaderWrapper:()=>U.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>U.FileAssetWrapper,FileFinalizer:()=>U.FileFinalizer,FontAssetWrapper:()=>U.FontAssetWrapper,FontWrapper:()=>U.FontWrapper,ImageAssetWrapper:()=>U.ImageAssetWrapper,ImageWrapper:()=>U.ImageWrapper,createFinalization:()=>U.createFinalization,finalizationRegistry:()=>U.finalizationRegistry,registerTouchInteractions:()=>E.registerTouchInteractions,sanitizeUrl:()=>M.sanitizeUrl});var E=w(6),M=w(7),U=w(8)}),((p,b,w)=>{w.r(b),w.d(b,{registerTouchInteractions:()=>U});var E=void 0,M=function(F,te,k){var Me,be,Pe=[];if(["touchstart","touchmove"].indexOf(F.type)>-1&&(!((Me=F.changedTouches)===null||Me===void 0)&&Me.length)){te||F.preventDefault();for(var Ne=0,ze=k?F.changedTouches.length:1;Ne<ze;){var je=F.changedTouches[Ne];Pe.push({clientX:je.clientX,clientY:je.clientY,identifier:je.identifier}),Ne++}}else if(F.type==="touchend"&&(!((be=F.changedTouches)===null||be===void 0)&&be.length))for(var Ne=0,ze=k?F.changedTouches.length:1;Ne<ze;){var je=F.changedTouches[Ne];Pe.push({clientX:je.clientX,clientY:je.clientY,identifier:je.identifier}),Ne++}else Pe.push({clientX:F.clientX,clientY:F.clientY,identifier:0});return Pe},U=function(F){var te=F.canvas,k=F.artboard,Me=F.stateMachines,be=Me===void 0?[]:Me,Pe=F.renderer,Ne=F.rive,ze=F.fit,je=F.alignment,Ke=F.isTouchScrollEnabled,it=Ke===void 0?!1:Ke,H=F.dispatchPointerExit,j=H===void 0?!0:H,V=F.enableMultiTouch,B=V===void 0?!1:V,C=F.layoutScaleFactor,P=C===void 0?1:C;if(!te||!be.length||!Pe||!Ne||!k||typeof window>"u")return null;var I=null,K=!1,le=function(J){if(K&&J instanceof MouseEvent){J.type=="mouseup"&&(K=!1);return}K=it&&J.type==="touchend"&&I==="touchstart",I=J.type;var ge=J.currentTarget.getBoundingClientRect(),he=M(J,it,B),Re=Ne.computeAlignment(ze,je,{minX:0,minY:0,maxX:ge.width,maxY:ge.height},k.bounds,P),L=new Ne.Mat2D;switch(Re.invert(L),he.forEach(function(Wt){var tt=Wt.clientX,en=Wt.clientY;if(!(!tt&&!en)){var mn=tt-ge.left,ur=en-ge.top,Un=new Ne.Vec2D(mn,ur),Yt=Ne.mapXY(L,Un),bn=Yt.x(),R=Yt.y();Wt.transformedX=bn,Wt.transformedY=R,Yt.delete(),Un.delete()}}),L.delete(),Re.delete(),J.type){case"mouseout":for(var ie=function(Wt){j?he.forEach(function(tt){Wt.pointerExit(tt.transformedX,tt.transformedY,tt.identifier)}):he.forEach(function(tt){Wt.pointerMove(tt.transformedX,tt.transformedY,tt.identifier)})},Te=0,we=be;Te<we.length;Te++){var Ce=we[Te];ie(Ce)}break;case"touchmove":case"mouseover":case"mousemove":{for(var He=function(Wt){he.forEach(function(tt){Wt.pointerMove(tt.transformedX,tt.transformedY,tt.identifier)})},at=0,ot=be;at<ot.length;at++){var Ce=ot[at];He(Ce)}break}case"touchstart":case"mousedown":{for(var pt=function(Wt){he.forEach(function(tt){Wt.pointerDown(tt.transformedX,tt.transformedY,tt.identifier)})},Rt=0,on=be;Rt<on.length;Rt++){var Ce=on[Rt];pt(Ce)}break}case"touchend":{for(var st=function(Wt){he.forEach(function(tt){Wt.pointerUp(tt.transformedX,tt.transformedY,tt.identifier),Wt.pointerExit(tt.transformedX,tt.transformedY,tt.identifier)})},bt=0,Gt=be;bt<Gt.length;bt++){var Ce=Gt[bt];st(Ce)}break}case"mouseup":{for(var Lt=function(Wt){he.forEach(function(tt){Wt.pointerUp(tt.transformedX,tt.transformedY,tt.identifier)})},Dn=0,ai=be;Dn<ai.length;Dn++){var Ce=ai[Dn];Lt(Ce)}break}}},q=le.bind(E);return te.addEventListener("mouseover",q),te.addEventListener("mouseout",q),te.addEventListener("mousemove",q),te.addEventListener("mousedown",q),te.addEventListener("mouseup",q),te.addEventListener("touchmove",q,{passive:it}),te.addEventListener("touchstart",q,{passive:it}),te.addEventListener("touchend",q),function(){te.removeEventListener("mouseover",q),te.removeEventListener("mouseout",q),te.removeEventListener("mousemove",q),te.removeEventListener("mousedown",q),te.removeEventListener("mouseup",q),te.removeEventListener("touchmove",q),te.removeEventListener("touchstart",q),te.removeEventListener("touchend",q)}}}),((p,b,w)=>{w.r(b),w.d(b,{BLANK_URL:()=>Me,sanitizeUrl:()=>Ne});var E=/^([^\w]*)(javascript|data|vbscript)/im,M=/&#(\w+)(^\w|;)?/g,U=/&(newline|tab);/gi,F=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,te=/^.+(:|&colon;)/gim,k=[".","/"],Me="about:blank";function be(ze){return k.indexOf(ze[0])>-1}function Pe(ze){var je=ze.replace(F,"");return je.replace(M,function(Ke,it){return String.fromCharCode(it)})}function Ne(ze){if(!ze)return Me;var je=Pe(ze).replace(U,"").replace(F,"").trim();if(!je)return Me;if(be(je))return je;var Ke=je.match(te);if(!Ke)return je;var it=Ke[0];return E.test(it)?Me:je}}),((p,b,w)=>{w.r(b),w.d(b,{AudioAssetWrapper:()=>ze,AudioWrapper:()=>k,CustomFileAssetLoaderWrapper:()=>be,FileAssetWrapper:()=>Pe,FileFinalizer:()=>M,FontAssetWrapper:()=>je,FontWrapper:()=>Me,ImageAssetWrapper:()=>Ne,ImageWrapper:()=>te,createFinalization:()=>j,finalizationRegistry:()=>H});var E=(function(){var V=function(B,C){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,I){P.__proto__=I}||function(P,I){for(var K in I)Object.prototype.hasOwnProperty.call(I,K)&&(P[K]=I[K])},V(B,C)};return function(B,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");V(B,C);function P(){this.constructor=B}B.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}})(),M=(function(){function V(B){this.selfUnref=!1,this._file=B}return V.prototype.unref=function(){this._file&&this._file.unref()},V})(),U=(function(){function V(B){this._finalizableObject=B}return V.prototype.unref=function(){this._finalizableObject.unref()},V})(),F=(function(){function V(){this.selfUnref=!1}return V.prototype.unref=function(){},V})(),te=(function(V){E(B,V);function B(C){var P=V.call(this)||this;return P._nativeImage=C,P}return Object.defineProperty(B.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},B})(F),k=(function(V){E(B,V);function B(C){var P=V.call(this)||this;return P._nativeAudio=C,P}return Object.defineProperty(B.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},B})(F),Me=(function(V){E(B,V);function B(C){var P=V.call(this)||this;return P._nativeFont=C,P}return Object.defineProperty(B.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),B.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},B})(F),be=(function(){function V(B,C){this._assetLoaderCallback=C,this.assetLoader=new B.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return V.prototype.loadContents=function(B,C){var P;return B.isImage?P=new Ne(B):B.isAudio?P=new ze(B):B.isFont&&(P=new je(B)),this._assetLoaderCallback(P,C)},V})(),Pe=(function(){function V(B){this._nativeFileAsset=B}return V.prototype.decode=function(B){this._nativeFileAsset.decode(B)},Object.defineProperty(V.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),V})(),Ne=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setRenderImage=function(C){this._nativeFileAsset.setRenderImage(C.nativeImage)},B})(Pe),ze=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setAudioSource=function(C){this._nativeFileAsset.setAudioSource(C.nativeAudio)},B})(Pe),je=(function(V){E(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.setFont=function(C){this._nativeFileAsset.setFont(C.nativeFont)},B})(Pe),Ke=(function(){function V(B){}return V.prototype.register=function(B){B.selfUnref=!0},V.prototype.unregister=function(B){},V})(),it=typeof FinalizationRegistry<"u"?FinalizationRegistry:Ke,H=new it(function(V){V?.unref()}),j=function(V,B){var C=new U(B);H.register(V,C)}})],s={};function l(p){var b=s[p];if(b!==void 0)return b.exports;var w=s[p]={exports:{}};return i[p](w,w.exports,l),w.exports}l.d=(p,b)=>{for(var w in b)l.o(b,w)&&!l.o(p,w)&&Object.defineProperty(p,w,{enumerable:!0,get:b[w]})},l.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),l.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{Alignment:()=>Ne,DataEnum:()=>at,EventType:()=>I,Fit:()=>Pe,Layout:()=>ze,LoopType:()=>K,Rive:()=>Ce,RiveEventType:()=>H,RiveFile:()=>we,RuntimeLoader:()=>je,StateMachineInput:()=>it,StateMachineInputType:()=>Ke,Testing:()=>ur,ViewModel:()=>He,ViewModelInstance:()=>pt,ViewModelInstanceArtboard:()=>tt,ViewModelInstanceAssetImage:()=>Wt,ViewModelInstanceBoolean:()=>bt,ViewModelInstanceColor:()=>ai,ViewModelInstanceEnum:()=>Lt,ViewModelInstanceList:()=>Dn,ViewModelInstanceNumber:()=>st,ViewModelInstanceString:()=>on,ViewModelInstanceTrigger:()=>Gt,ViewModelInstanceValue:()=>Rt,decodeAudio:()=>Un,decodeFont:()=>bn,decodeImage:()=>Yt});var p=l(1),b=l(2),w=l(3),E=l(5),M=(function(){var R=function(g,v){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,X){x.__proto__=X}||function(x,X){for(var de in X)Object.prototype.hasOwnProperty.call(X,de)&&(x[de]=X[de])},R(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");R(g,v);function x(){this.constructor=g}g.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}})(),U=function(){return U=Object.assign||function(R){for(var g,v=1,x=arguments.length;v<x;v++){g=arguments[v];for(var X in g)Object.prototype.hasOwnProperty.call(g,X)&&(R[X]=g[X])}return R},U.apply(this,arguments)},F=function(R,g,v,x){function X(de){return de instanceof v?de:new v(function(Ie){Ie(de)})}return new(v||(v=Promise))(function(de,Ie){function Qe(ye){try{re(x.next(ye))}catch(xe){Ie(xe)}}function ee(ye){try{re(x.throw(ye))}catch(xe){Ie(xe)}}function re(ye){ye.done?de(ye.value):X(ye.value).then(Qe,ee)}re((x=x.apply(R,g||[])).next())})},te=function(R,g){var v={label:0,sent:function(){if(de[0]&1)throw de[1];return de[1]},trys:[],ops:[]},x,X,de,Ie=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ie.next=Qe(0),Ie.throw=Qe(1),Ie.return=Qe(2),typeof Symbol=="function"&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Qe(re){return function(ye){return ee([re,ye])}}function ee(re){if(x)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,re[0]&&(v=0)),v;)try{if(x=1,X&&(de=re[0]&2?X.return:re[0]?X.throw||((de=X.return)&&de.call(X),0):X.next)&&!(de=de.call(X,re[1])).done)return de;switch(X=0,de&&(re=[re[0]&2,de.value]),re[0]){case 0:case 1:de=re;break;case 4:return v.label++,{value:re[1],done:!1};case 5:v.label++,X=re[1],re=[0];continue;case 7:re=v.ops.pop(),v.trys.pop();continue;default:if(de=v.trys,!(de=de.length>0&&de[de.length-1])&&(re[0]===6||re[0]===2)){v=0;continue}if(re[0]===3&&(!de||re[1]>de[0]&&re[1]<de[3])){v.label=re[1];break}if(re[0]===6&&v.label<de[1]){v.label=de[1],de=re;break}if(de&&v.label<de[2]){v.label=de[2],v.ops.push(re);break}de[2]&&v.ops.pop(),v.trys.pop();continue}re=g.call(R,v)}catch(ye){re=[6,ye],X=0}finally{x=de=0}if(re[0]&5)throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}},k=function(R,g,v){if(v||arguments.length===2)for(var x=0,X=g.length,de;x<X;x++)(de||!(x in g))&&(de||(de=Array.prototype.slice.call(g,0,x)),de[x]=g[x]);return R.concat(de||Array.prototype.slice.call(g))},Me=(function(R){M(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v.isHandledError=!0,v}return g})(Error),be=function(R){return R&&R.isHandledError?R.message:"Problem loading file; may be corrupt!"},Pe;(function(R){R.Cover="cover",R.Contain="contain",R.Fill="fill",R.FitWidth="fitWidth",R.FitHeight="fitHeight",R.None="none",R.ScaleDown="scaleDown",R.Layout="layout"})(Pe||(Pe={}));var Ne;(function(R){R.Center="center",R.TopLeft="topLeft",R.TopCenter="topCenter",R.TopRight="topRight",R.CenterLeft="centerLeft",R.CenterRight="centerRight",R.BottomLeft="bottomLeft",R.BottomCenter="bottomCenter",R.BottomRight="bottomRight"})(Ne||(Ne={}));var ze=(function(){function R(g){var v,x,X,de,Ie,Qe,ee;this.fit=(v=g?.fit)!==null&&v!==void 0?v:Pe.Contain,this.alignment=(x=g?.alignment)!==null&&x!==void 0?x:Ne.Center,this.layoutScaleFactor=(X=g?.layoutScaleFactor)!==null&&X!==void 0?X:1,this.minX=(de=g?.minX)!==null&&de!==void 0?de:0,this.minY=(Ie=g?.minY)!==null&&Ie!==void 0?Ie:0,this.maxX=(Qe=g?.maxX)!==null&&Qe!==void 0?Qe:0,this.maxY=(ee=g?.maxY)!==null&&ee!==void 0?ee:0}return R.new=function(g){var v=g.fit,x=g.alignment,X=g.minX,de=g.minY,Ie=g.maxX,Qe=g.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new R({fit:v,alignment:x,minX:X,minY:de,maxX:Ie,maxY:Qe})},R.prototype.copyWith=function(g){var v=g.fit,x=g.alignment,X=g.layoutScaleFactor,de=g.minX,Ie=g.minY,Qe=g.maxX,ee=g.maxY;return new R({fit:v??this.fit,alignment:x??this.alignment,layoutScaleFactor:X??this.layoutScaleFactor,minX:de??this.minX,minY:Ie??this.minY,maxX:Qe??this.maxX,maxY:ee??this.maxY})},R.prototype.runtimeFit=function(g){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var v;return this.fit===Pe.Cover?v=g.Fit.cover:this.fit===Pe.Contain?v=g.Fit.contain:this.fit===Pe.Fill?v=g.Fit.fill:this.fit===Pe.FitWidth?v=g.Fit.fitWidth:this.fit===Pe.FitHeight?v=g.Fit.fitHeight:this.fit===Pe.ScaleDown?v=g.Fit.scaleDown:this.fit===Pe.Layout?v=g.Fit.layout:v=g.Fit.none,this.cachedRuntimeFit=v,v},R.prototype.runtimeAlignment=function(g){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var v;return this.alignment===Ne.TopLeft?v=g.Alignment.topLeft:this.alignment===Ne.TopCenter?v=g.Alignment.topCenter:this.alignment===Ne.TopRight?v=g.Alignment.topRight:this.alignment===Ne.CenterLeft?v=g.Alignment.centerLeft:this.alignment===Ne.CenterRight?v=g.Alignment.centerRight:this.alignment===Ne.BottomLeft?v=g.Alignment.bottomLeft:this.alignment===Ne.BottomCenter?v=g.Alignment.bottomCenter:this.alignment===Ne.BottomRight?v=g.Alignment.bottomRight:v=g.Alignment.center,this.cachedRuntimeAlignment=v,v},R})(),je=(function(){function R(){}return R.loadRuntime=function(){p.default({locateFile:function(){return R.wasmURL}}).then(function(g){var v;for(R.runtime=g;R.callBackQueue.length>0;)(v=R.callBackQueue.shift())===null||v===void 0||v(R.runtime)}).catch(function(g){var v={message:g?.message||"Unknown error",type:g?.name||"Error",wasmError:g instanceof WebAssembly.CompileError||g instanceof WebAssembly.RuntimeError,originalError:g};console.debug("Rive WASM load error details:",v);var x="https://cdn.jsdelivr.net/npm/".concat(b.name,"@").concat(b.version,"/rive_fallback.wasm");if(R.wasmURL.toLowerCase()!==x)console.warn("Failed to load WASM from ".concat(R.wasmURL," (").concat(v.message,"), trying jsdelivr as a backup")),R.setWasmUrl(x),R.loadRuntime();else{var X=["Could not load Rive WASM file from ".concat(R.wasmURL," or ").concat(x,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(v.type),"- Message: ".concat(v.message),"- WebAssembly-specific error: ".concat(v.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(X)}})},R.getInstance=function(g){R.isLoading||(R.isLoading=!0,R.loadRuntime()),R.runtime?g(R.runtime):R.callBackQueue.push(g)},R.awaitInstance=function(){return new Promise(function(g){return R.getInstance(function(v){return g(v)})})},R.setWasmUrl=function(g){R.wasmURL=g},R.getWasmUrl=function(){return R.wasmURL},R.isLoading=!1,R.callBackQueue=[],R.wasmURL="https://unpkg.com/".concat(b.name,"@").concat(b.version,"/rive.wasm"),R})(),Ke;(function(R){R[R.Number=56]="Number",R[R.Trigger=58]="Trigger",R[R.Boolean=59]="Boolean"})(Ke||(Ke={}));var it=(function(){function R(g,v){this.type=g,this.runtimeInput=v}return Object.defineProperty(R.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(g){this.runtimeInput.value=g},enumerable:!1,configurable:!0}),R.prototype.fire=function(){this.type===Ke.Trigger&&this.runtimeInput.fire()},R.prototype.delete=function(){this.runtimeInput=null},R})(),H;(function(R){R[R.General=128]="General",R[R.OpenUrl=131]="OpenUrl"})(H||(H={}));var j=(function(){function R(g){this.isBindableArtboard=!1,this.isBindableArtboard=g}return R})(),V=(function(R){M(g,R);function g(v,x){var X=R.call(this,!1)||this;return X.nativeArtboard=v,X.file=x,X}return g})(j),B=(function(R){M(g,R);function g(v){var x=R.call(this,!0)||this;return x.selfUnref=!1,x.nativeArtboard=v,x}return g.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},g})(j),C=(function(){function R(g,v,x,X){this.stateMachine=g,this.playing=x,this.artboard=X,this.inputs=[],this.instance=new v.StateMachineInstance(g,X),this.initInputs(v)}return Object.defineProperty(R.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"statesChanged",{get:function(){for(var g=[],v=0;v<this.instance.stateChangedCount();v++)g.push(this.instance.stateChangedNameByIndex(v));return g},enumerable:!1,configurable:!0}),R.prototype.advance=function(g){this.instance.advance(g)},R.prototype.advanceAndApply=function(g){this.instance.advanceAndApply(g)},R.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},R.prototype.reportedEventAt=function(g){return this.instance.reportedEventAt(g)},R.prototype.initInputs=function(g){for(var v=0;v<this.instance.inputCount();v++){var x=this.instance.input(v);this.inputs.push(this.mapRuntimeInput(x,g))}},R.prototype.mapRuntimeInput=function(g,v){if(g.type===v.SMIInput.bool)return new it(Ke.Boolean,g.asBool());if(g.type===v.SMIInput.number)return new it(Ke.Number,g.asNumber());if(g.type===v.SMIInput.trigger)return new it(Ke.Trigger,g.asTrigger())},R.prototype.cleanup=function(){this.inputs.forEach(function(g){g.delete()}),this.inputs.length=0,this.instance.delete()},R.prototype.bindViewModelInstance=function(g){g.runtimeInstance!=null&&this.instance.bindViewModelInstance(g.runtimeInstance)},R})(),P=(function(){function R(g,v,x,X,de){X===void 0&&(X=[]),de===void 0&&(de=[]),this.runtime=g,this.artboard=v,this.eventManager=x,this.animations=X,this.stateMachines=de}return R.prototype.add=function(g,v,x){if(x===void 0&&(x=!0),g=mn(g),g.length===0)this.animations.forEach(function(Be){return Be.playing=v}),this.stateMachines.forEach(function(Be){return Be.playing=v});else for(var X=this.animations.map(function(Be){return Be.name}),de=this.stateMachines.map(function(Be){return Be.name}),Ie=0;Ie<g.length;Ie++){var Qe=X.indexOf(g[Ie]),ee=de.indexOf(g[Ie]);if(Qe>=0||ee>=0)Qe>=0?this.animations[Qe].playing=v:this.stateMachines[ee].playing=v;else{var re=this.artboard.animationByName(g[Ie]);if(re){var ye=new w.Animation(re,this.artboard,this.runtime,v);ye.advance(0),ye.apply(1),this.animations.push(ye)}else{var xe=this.artboard.stateMachineByName(g[Ie]);if(xe){var Ve=new C(xe,this.runtime,v,this.artboard);this.stateMachines.push(Ve)}}}}return x&&(v?this.eventManager.fire({type:I.Play,data:this.playing}):this.eventManager.fire({type:I.Pause,data:this.paused})),v?this.playing:this.paused},R.prototype.initLinearAnimations=function(g,v){for(var x=this.animations.map(function(ee){return ee.name}),X=0;X<g.length;X++){var de=x.indexOf(g[X]);if(de>=0)this.animations[de].playing=v;else{var Ie=this.artboard.animationByName(g[X]);if(Ie){var Qe=new w.Animation(Ie,this.artboard,this.runtime,v);Qe.advance(0),Qe.apply(1),this.animations.push(Qe)}else console.error("Animation with name ".concat(g[X]," not found."))}}},R.prototype.initStateMachines=function(g,v){for(var x=this.stateMachines.map(function(ee){return ee.name}),X=0;X<g.length;X++){var de=x.indexOf(g[X]);if(de>=0)this.stateMachines[de].playing=v;else{var Ie=this.artboard.stateMachineByName(g[X]);if(Ie){var Qe=new C(Ie,this.runtime,v,this.artboard);this.stateMachines.push(Qe)}else console.warn("State Machine with name ".concat(g[X]," not found.")),this.initLinearAnimations([g[X]],v)}}},R.prototype.play=function(g){return this.add(g,!0)},R.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(g){g.playing||g.advanceAndApply(0)})},R.prototype.pause=function(g){return this.add(g,!1)},R.prototype.scrub=function(g,v){var x=this.animations.filter(function(X){return g.includes(X.name)});return x.forEach(function(X){return X.scrubTo=v}),x.map(function(X){return X.name})},Object.defineProperty(R.prototype,"playing",{get:function(){return this.animations.filter(function(g){return g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paused",{get:function(){return this.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}).concat(this.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}))},enumerable:!1,configurable:!0}),R.prototype.stop=function(g){var v=this;g=mn(g);var x=[];if(g.length===0)x=this.animations.map(function(Ie){return Ie.name}).concat(this.stateMachines.map(function(Ie){return Ie.name})),this.animations.forEach(function(Ie){return Ie.cleanup()}),this.stateMachines.forEach(function(Ie){return Ie.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var X=this.animations.filter(function(Ie){return g.includes(Ie.name)});X.forEach(function(Ie){Ie.cleanup(),v.animations.splice(v.animations.indexOf(Ie),1)});var de=this.stateMachines.filter(function(Ie){return g.includes(Ie.name)});de.forEach(function(Ie){Ie.cleanup(),v.stateMachines.splice(v.stateMachines.indexOf(Ie),1)}),x=X.map(function(Ie){return Ie.name}).concat(de.map(function(Ie){return Ie.name}))}return this.eventManager.fire({type:I.Stop,data:x}),x},Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(g,v){return g||v.playing},!1)||this.stateMachines.reduce(function(g,v){return g||v.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),R.prototype.atLeastOne=function(g,v){v===void 0&&(v=!0);var x;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([x=this.artboard.animationByIndex(0).name],g,v):this.artboard.stateMachineCount()>0&&this.add([x=this.artboard.stateMachineByIndex(0).name],g,v)),x},R.prototype.handleLooping=function(){for(var g=0,v=this.animations.filter(function(X){return X.playing});g<v.length;g++){var x=v[g];x.loopValue===0&&x.loopCount?(x.loopCount=0,this.stop(x.name)):x.loopValue===1&&x.loopCount?(this.eventManager.fire({type:I.Loop,data:{animation:x.name,type:K.Loop}}),x.loopCount=0):x.loopValue===2&&x.loopCount>1&&(this.eventManager.fire({type:I.Loop,data:{animation:x.name,type:K.PingPong}}),x.loopCount=0)}},R.prototype.handleStateChanges=function(){for(var g=[],v=0,x=this.stateMachines.filter(function(de){return de.playing});v<x.length;v++){var X=x[v];g.push.apply(g,X.statesChanged)}g.length>0&&this.eventManager.fire({type:I.StateChange,data:g})},R.prototype.handleAdvancing=function(g){this.eventManager.fire({type:I.Advance,data:g})},R})(),I;(function(R){R.Load="load",R.LoadError="loaderror",R.Play="play",R.Pause="pause",R.Stop="stop",R.Loop="loop",R.Draw="draw",R.Advance="advance",R.StateChange="statechange",R.RiveEvent="riveevent",R.AudioStatusChange="audiostatuschange"})(I||(I={}));var K;(function(R){R.OneShot="oneshot",R.Loop="loop",R.PingPong="pingpong"})(K||(K={}));var le=(function(){function R(g){g===void 0&&(g=[]),this.listeners=g}return R.prototype.getListeners=function(g){return this.listeners.filter(function(v){return v.type===g})},R.prototype.add=function(g){this.listeners.includes(g)||this.listeners.push(g)},R.prototype.remove=function(g){for(var v=0;v<this.listeners.length;v++){var x=this.listeners[v];if(x.type===g.type&&x.callback===g.callback){this.listeners.splice(v,1);break}}},R.prototype.removeAll=function(g){var v=this;g?this.listeners.filter(function(x){return x.type===g}).forEach(function(x){return v.remove(x)}):this.listeners.splice(0,this.listeners.length)},R.prototype.fire=function(g){var v=this.getListeners(g.type);v.forEach(function(x){return x.callback(g)})},R})(),q=(function(){function R(g){this.eventManager=g,this.queue=[]}return R.prototype.add=function(g){this.queue.push(g)},R.prototype.process=function(){for(;this.queue.length>0;){var g=this.queue.shift();g?.action&&g.action(),g?.event&&this.eventManager.fire(g.event)}},R})(),J;(function(R){R[R.AVAILABLE=0]="AVAILABLE",R[R.UNAVAILABLE=1]="UNAVAILABLE"})(J||(J={}));var ge=(function(R){M(g,R);function g(){var v=R!==null&&R.apply(this,arguments)||this;return v._started=!1,v._enabled=!1,v._status=J.UNAVAILABLE,v}return g.prototype.delay=function(v){return F(this,void 0,void 0,function(){return te(this,function(x){return[2,new Promise(function(X){return setTimeout(X,v)})]})})},g.prototype.timeout=function(){return F(this,void 0,void 0,function(){return te(this,function(v){return[2,new Promise(function(x,X){return setTimeout(X,50)})]})})},g.prototype.reportToListeners=function(){this.fire({type:I.AudioStatusChange}),this.removeAll()},g.prototype.enableAudio=function(){return F(this,void 0,void 0,function(){return te(this,function(v){return this._enabled||(this._enabled=!0,this._status=J.AVAILABLE,this.reportToListeners()),[2]})})},g.prototype.testAudio=function(){return F(this,void 0,void 0,function(){return te(this,function(v){switch(v.label){case 0:if(!(this._status===J.UNAVAILABLE&&this._audioContext!==null))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return v.sent(),this.enableAudio(),[3,4];case 3:return v.sent(),[3,4];case 4:return[2]}})})},g.prototype._establishAudio=function(){return F(this,void 0,void 0,function(){return te(this,function(v){switch(v.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),v.label=2;case 2:return this._status!==J.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return v.sent(),[4,this.delay(1e3)];case 4:return v.sent(),[3,2];case 5:return[2]}})})},g.prototype.listenForUserAction=function(){var v=this,x=function(){return F(v,void 0,void 0,function(){return te(this,function(X){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",x,{once:!0})},g.prototype.establishAudio=function(){return F(this,void 0,void 0,function(){return te(this,function(v){return this._establishAudio(),[2]})})},Object.defineProperty(g.prototype,"systemVolume",{get:function(){return this._status===J.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),g})(le),he=new ge,Re=(function(){function R(){}return R.prototype.observe=function(){},R.prototype.unobserve=function(){},R.prototype.disconnect=function(){},R})(),L=globalThis.ResizeObserver||Re,ie=(function(){function R(){var g=this;this._elementsMap=new Map,this._onObservedEntry=function(v){var x=g._elementsMap.get(v.target);x!==null?x.onResize(v.target.clientWidth==0||v.target.clientHeight==0):g._resizeObserver.unobserve(v.target)},this._onObserved=function(v){v.forEach(g._onObservedEntry)},this._resizeObserver=new L(this._onObserved)}return R.prototype.add=function(g,v){var x={onResize:v,element:g};return this._elementsMap.set(g,x),this._resizeObserver.observe(g),x},R.prototype.remove=function(g){this._resizeObserver.unobserve(g.element),this._elementsMap.delete(g.element)},R})(),Te=new ie,we=(function(){function R(g){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=g.src,this.buffer=g.buffer,g.assetLoader&&(this.assetLoader=g.assetLoader),this.enableRiveAssetCDN=typeof g.enableRiveAssetCDN=="boolean"?g.enableRiveAssetCDN:!0,this.eventManager=new le,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError)}return R.prototype.releaseFile=function(){var g;this.selfUnref&&((g=this.file)===null||g===void 0||g.unref()),this.file=null},R.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(g){return g.destroy()})},R.prototype.initData=function(){return F(this,void 0,void 0,function(){var g,v,x,X,de;return te(this,function(Ie){switch(Ie.label){case 0:return this.src?(g=this,[4,en(this.src)]):[3,2];case 1:g.buffer=Ie.sent(),Ie.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(x=new E.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),v=x.assetLoader),X=this,[4,this.runtime.load(new Uint8Array(this.buffer),v,this.enableRiveAssetCDN)]);case 3:return X.file=Ie.sent(),de=new E.FileFinalizer(this.file),E.finalizationRegistry.register(this,de),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:I.Load,data:this}):this.fireLoadError(R.fileLoadErrorMessage),[2])}})})},R.prototype.init=function(){return F(this,void 0,void 0,function(){var g,v;return te(this,function(x){switch(x.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(R.missingErrorMessage),[2];x.label=1;case 1:return x.trys.push([1,4,,5]),g=this,[4,je.awaitInstance()];case 2:return g.runtime=x.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return x.sent(),[3,5];case 4:return v=x.sent(),this.fireLoadError(v instanceof Error?v.message:R.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},R.prototype.fireLoadError=function(g){throw this.eventManager.fire({type:I.LoadError,data:g}),new Error(g)},R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},R.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},R.prototype.createBindableArtboard=function(g){if(g!=null){var v=new B(g);return(0,E.createFinalization)(v,v.nativeArtboard),this.bindableArtboards.push(v),v}return null},R.prototype.getArtboard=function(g){var v=this.file.artboardByName(g);if(v!=null)return new V(v,this)},R.prototype.getBindableArtboard=function(g){var v=this.file.bindableArtboardByName(g);return this.createBindableArtboard(v)},R.prototype.getDefaultBindableArtboard=function(){var g=this.file.bindableArtboardDefault();return this.createBindableArtboard(g)},R.prototype.internalBindableArtboardFromArtboard=function(g){var v=this.file.internalBindableArtboardFromArtboard(g);return this.createBindableArtboard(v)},R.missingErrorMessage="Rive source file or data buffer required",R.fileLoadErrorMessage="The file failed to load",R})(),Ce=(function(){function R(g){var v=this,x;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(X){var de=v._hasZeroSize!==X;v._hasZeroSize=X,X?(!v._layout.maxX||!v._layout.maxY)&&v.resizeToCanvas():de&&v.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=g.canvas,g.canvas.constructor===HTMLCanvasElement&&(this._observed=Te.add(this.canvas,this.onCanvasResize)),this.src=g.src,this.buffer=g.buffer,this.riveFile=g.riveFile,this.layout=(x=g.layout)!==null&&x!==void 0?x:new ze,this.shouldDisableRiveListeners=!!g.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!g.isTouchScrollEnabled,this.automaticallyHandleEvents=!!g.automaticallyHandleEvents,this.dispatchPointerExit=g.dispatchPointerExit===!1?g.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!g.enableMultiTouch,this.enableRiveAssetCDN=g.enableRiveAssetCDN===void 0?!0:g.enableRiveAssetCDN,this.eventManager=new le,g.onLoad&&this.on(I.Load,g.onLoad),g.onLoadError&&this.on(I.LoadError,g.onLoadError),g.onPlay&&this.on(I.Play,g.onPlay),g.onPause&&this.on(I.Pause,g.onPause),g.onStop&&this.on(I.Stop,g.onStop),g.onLoop&&this.on(I.Loop,g.onLoop),g.onStateChange&&this.on(I.StateChange,g.onStateChange),g.onAdvance&&this.on(I.Advance,g.onAdvance),g.onload&&!g.onLoad&&this.on(I.Load,g.onload),g.onloaderror&&!g.onLoadError&&this.on(I.LoadError,g.onloaderror),g.onplay&&!g.onPlay&&this.on(I.Play,g.onplay),g.onpause&&!g.onPause&&this.on(I.Pause,g.onpause),g.onstop&&!g.onStop&&this.on(I.Stop,g.onstop),g.onloop&&!g.onLoop&&this.on(I.Loop,g.onloop),g.onstatechange&&!g.onStateChange&&this.on(I.StateChange,g.onstatechange),g.assetLoader&&(this.assetLoader=g.assetLoader),this.taskQueue=new q(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:g.autoplay,autoBind:g.autoBind,animations:g.animations,stateMachines:g.stateMachines,artboard:g.artboard,useOffscreenRenderer:g.useOffscreenRenderer})}return Object.defineProperty(R.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),R.new=function(g){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new R(g)},R.prototype.onSystemAudioChanged=function(){this.volume=this._volume},R.prototype.init=function(g){var v=this,x=g.src,X=g.buffer,de=g.riveFile,Ie=g.animations,Qe=g.stateMachines,ee=g.artboard,re=g.autoplay,ye=re===void 0?!1:re,xe=g.useOffscreenRenderer,Ve=xe===void 0?!1:xe,Be=g.autoBind,Je=Be===void 0?!1:Be;if(!this.destroyed){if(this.src=x,this.buffer=X,this.riveFile=de,!this.src&&!this.buffer&&!this.riveFile)throw new Me(R.missingErrorMessage);var mt=mn(Ie),Ge=mn(Qe);this.loaded=!1,this.readyForPlaying=!1,je.awaitInstance().then(function(wt){v.destroyed||(v.runtime=wt,v.removeRiveListeners(),v.deleteRiveRenderer(),v.renderer=v.runtime.makeRenderer(v.canvas,Ve),v.canvas.width||v.canvas.height||v.resizeDrawingSurfaceToCanvas(),v.initData(ee,mt,Ge,ye,Je).then(function(Nt){if(Nt)return v.setupRiveListeners()}).catch(function(Nt){console.error(Nt)}))}).catch(function(wt){console.error(wt)})}},R.prototype.setupRiveListeners=function(g){var v=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var x=(this.animator.stateMachines||[]).filter(function(Qe){return Qe.playing&&v.runtime.hasListeners(Qe.instance)}).map(function(Qe){return Qe.instance}),X=this.isTouchScrollEnabled,de=this.dispatchPointerExit,Ie=this.enableMultiTouch;g&&"isTouchScrollEnabled"in g&&(X=g.isTouchScrollEnabled),this.eventCleanup=(0,E.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:x,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:X,dispatchPointerExit:de,enableMultiTouch:Ie,layoutScaleFactor:this._layout.layoutScaleFactor})}},R.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},R.prototype.initializeAudio=function(){var g=this,v;he.status==J.UNAVAILABLE&&!((v=this.artboard)===null||v===void 0)&&v.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:I.AudioStatusChange,callback:function(){return g.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},R.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},R.prototype.initData=function(g,v,x,X,de){return F(this,void 0,void 0,function(){var Ie,Qe,ee,re;return te(this,function(ye){switch(ye.label){case 0:return ye.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Ie=new we({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Ie,[4,Ie.init()]);case 1:if(ye.sent(),this.destroyed)return Ie.destroyIfUnused(),[2,!1];ye.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(g,v,x,X,de),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:I.Load,data:(re=this.src)!==null&&re!==void 0?re:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Qe=ye.sent(),ee=be(Qe),console.warn(ee),this.eventManager.fire({type:I.LoadError,data:ee}),[2,Promise.reject(ee)];case 4:return[2]}})})},R.prototype.initArtboard=function(g,v,x,X,de){if(this.file){var Ie=g?this.file.artboardByName(g):this.file.defaultArtboard();if(!Ie){var Qe="Invalid artboard name or no default artboard";console.warn(Qe),this.eventManager.fire({type:I.LoadError,data:Qe});return}this.artboard=Ie,Ie.volume=this._volume*he.systemVolume,this.animator=new P(this.runtime,this.artboard,this.eventManager);var ee;if(v.length>0||x.length>0?(ee=v.concat(x),this.animator.initLinearAnimations(v,X),this.animator.initStateMachines(x,X)):ee=[this.animator.atLeastOne(X,!1)],this.taskQueue.add({event:{type:X?I.Play:I.Pause,data:ee}}),de){var re=this.file.defaultArtboardViewModel(Ie);if(re!==null){var ye=re.defaultInstance();if(ye!==null){var xe=new pt(ye,null);(0,E.createFinalization)(xe,xe.runtimeInstance),this.bindViewModelInstance(xe)}}}}},R.prototype.drawFrame=function(){var g,v;!((g=document?.timeline)===null||g===void 0)&&g.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(v=this.runtime)===null||v===void 0||v.resolveAnimationFrame()):this.startRendering()},R.prototype.draw=function(g,v){var x;this.frameRequestId=null;var X=performance.now();this.lastRenderTime||(this.lastRenderTime=g),this.renderSecondTimer+=g-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,v?.());var de=(g-this.lastRenderTime)/1e3;this.lastRenderTime=g;for(var Ie=this.animator.animations.filter(function(cr){return cr.playing||cr.needsScrub}).sort(function(cr){return cr.needsScrub?-1:1}),Qe=0,ee=Ie;Qe<ee.length;Qe++){var re=ee[Qe];re.advance(de),re.instance.didLoop&&(re.loopCount+=1),re.apply(1)}for(var ye=this.animator.stateMachines.filter(function(cr){return cr.playing}),xe=0,Ve=ye;xe<Ve.length;xe++){var Be=Ve[xe],Je=Be.reportedEventCount();if(Je)for(var mt=0;mt<Je;mt++){var Ge=Be.reportedEventAt(mt);if(Ge)if(Ge.type===H.OpenUrl){if(this.eventManager.fire({type:I.RiveEvent,data:Ge}),this.automaticallyHandleEvents){var wt=document.createElement("a"),Nt=Ge,wn=Nt.url,ui=Nt.target,ft=(0,E.sanitizeUrl)(wn);wn&&wt.setAttribute("href",ft),ui&&wt.setAttribute("target",ui),ft&&ft!==E.BLANK_URL&&wt.click()}}else this.eventManager.fire({type:I.RiveEvent,data:Ge})}Be.advanceAndApply(de)}this.animator.stateMachines.length==0&&this.artboard.advance(de);var zn=this.renderer;zn.clear(),zn.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(zn),zn.restore(),zn.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(de),this.frameCount++;var At=performance.now();for(this.frameTimes.push(At),this.durations.push(At-X);this.frameTimes[0]<=At-1e3;)this.frameTimes.shift(),this.durations.shift();(x=this._viewModelInstance)===null||x===void 0||x.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},R.prototype.alignRenderer=function(){var g=this,v=g.renderer,x=g.runtime,X=g._layout,de=g.artboard;v.align(X.runtimeFit(x),X.runtimeAlignment(x),{minX:X.minX,minY:X.minY,maxX:X.maxX,maxY:X.maxY},de.bounds,this._devicePixelRatioUsed*X.layoutScaleFactor)},Object.defineProperty(R.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(g,v){return g+v},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),R.prototype.cleanup=function(){var g,v;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Te.remove(this._observed),this.removeRiveListeners(),this.file&&((g=this.riveFile)===null||g===void 0||g.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=null,this._dataEnums=null},R.prototype.deleteRiveRenderer=function(){var g;(g=this.renderer)===null||g===void 0||g.delete(),this.renderer=null},R.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},R.prototype.retrieveTextRun=function(g){var v;if(!g){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var x=this.artboard.textRun(g);if(!x){console.warn("Could not access a text run with name '".concat(g,"' in the '").concat((v=this.artboard)===null||v===void 0?void 0:v.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return x},R.prototype.getTextRunValue=function(g){var v=this.retrieveTextRun(g);return v?v.text:void 0},R.prototype.setTextRunValue=function(g,v){var x=this.retrieveTextRun(g);x&&(x.text=v)},R.prototype.play=function(g,v){var x=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return x.play(g,v)}});return}this.animator.play(g),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},R.prototype.pause=function(g){var v=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.pause(g)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(g)},R.prototype.scrub=function(g,v){var x=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return x.scrub(g,v)}});return}this.animator.scrub(g,v||0),this.drawFrame()},R.prototype.stop=function(g){var v=this;if(g=mn(g),!this.readyForPlaying){this.taskQueue.add({action:function(){return v.stop(g)}});return}this.animator&&this.animator.stop(g),this.eventCleanup&&this.eventCleanup()},R.prototype.reset=function(g){var v,x,X=g?.artboard,de=mn(g?.animations),Ie=mn(g?.stateMachines),Qe=(v=g?.autoplay)!==null&&v!==void 0?v:!1,ee=(x=g?.autoBind)!==null&&x!==void 0?x:!1;this.cleanupInstances(),this.initArtboard(X,de,Ie,Qe,ee),this.taskQueue.process()},R.prototype.load=function(g){this.file=null,this.stop(),this.init(g)},Object.defineProperty(R.prototype,"layout",{get:function(){return this._layout},set:function(g){this._layout=g,(!g.maxX||!g.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),R.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},R.prototype.resizeDrawingSurfaceToCanvas=function(g){if(this.canvas instanceof HTMLCanvasElement&&window){var v=this.canvas.getBoundingClientRect(),x=v.width,X=v.height,de=g||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=de,this.canvas.width=de*x,this.canvas.height=de*X,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===Pe.Layout){var Ie=this._layout.layoutScaleFactor;this.artboard.width=x/Ie,this.artboard.height=X/Ie}}},Object.defineProperty(R.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.animationCount();v++)g.push(this.artboard.animationByIndex(v).name);return g},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var g=[],v=0;v<this.artboard.stateMachineCount();v++)g.push(this.artboard.stateMachineByIndex(v).name);return g},enumerable:!1,configurable:!0}),R.prototype.stateMachineInputs=function(g){if(this.loaded){var v=this.animator.stateMachines.find(function(x){return x.name===g});return v?.inputs}},R.prototype.retrieveInputAtPath=function(g,v){if(!g){console.warn("No input name provided for path '".concat(v,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var x=this.artboard.inputByPath(g,v);if(!x){console.warn("Could not access an input with name: '".concat(g,"', at path:'").concat(v,"'"));return}return x},R.prototype.setBooleanStateAtPath=function(g,v,x){var X=this.retrieveInputAtPath(g,x);X&&(X.type===Ke.Boolean?X.asBool().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(x,"' is not a boolean")))},R.prototype.setNumberStateAtPath=function(g,v,x){var X=this.retrieveInputAtPath(g,x);X&&(X.type===Ke.Number?X.asNumber().value=v:console.warn("Input with name: '".concat(g,"', at path:'").concat(x,"' is not a number")))},R.prototype.fireStateAtPath=function(g,v){var x=this.retrieveInputAtPath(g,v);x&&(x.type===Ke.Trigger?x.asTrigger().fire():console.warn("Input with name: '".concat(g,"', at path:'").concat(v,"' is not a trigger")))},R.prototype.retrieveTextAtPath=function(g,v){if(!g){console.warn("No text name provided for path '".concat(v,"'"));return}if(!v){console.warn("No path provided for text '".concat(g,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(g,"', at path: '").concat(v,"', but the Artboard is null"));return}var x=this.artboard.textByPath(g,v);if(!x){console.warn("Could not access text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return x},R.prototype.getTextRunValueAtPath=function(g,v){var x=this.retrieveTextAtPath(g,v);if(!x){console.warn("Could not get text with name: '".concat(g,"', at path:'").concat(v,"'"));return}return x.text},R.prototype.setTextRunValueAtPath=function(g,v,x){var X=this.retrieveTextAtPath(g,x);if(!X){console.warn("Could not set text with name: '".concat(g,"', at path:'").concat(x,"'"));return}X.text=v},Object.defineProperty(R.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(g){return!g.playing}).map(function(g){return g.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),R.prototype.on=function(g,v){this.eventManager.add({type:g,callback:v})},R.prototype.off=function(g,v){this.eventManager.remove({type:g,callback:v})},R.prototype.unsubscribe=function(g,v){console.warn("This function is deprecated: please use `off()` instead."),this.off(g,v)},R.prototype.removeAllRiveEventListeners=function(g){this.eventManager.removeAll(g)},R.prototype.unsubscribeAll=function(g){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(g)},R.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},R.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},R.prototype.enableFPSCounter=function(g){this.runtime.enableFPSCounter(g)},R.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(R.prototype,"contents",{get:function(){if(this.loaded){for(var g={artboards:[]},v=0;v<this.file.artboardCount();v++){for(var x=this.file.artboardByIndex(v),X={name:x.name,animations:[],stateMachines:[]},de=0;de<x.animationCount();de++){var Ie=x.animationByIndex(de);X.animations.push(Ie.name)}for(var Qe=0;Qe<x.stateMachineCount();Qe++){for(var ee=x.stateMachineByIndex(Qe),re=ee.name,ye=new this.runtime.StateMachineInstance(ee,x),xe=[],Ve=0;Ve<ye.inputCount();Ve++){var Be=ye.input(Ve);xe.push({name:Be.name,type:Be.type})}X.stateMachines.push({name:re,inputs:xe})}g.artboards.push(X)}return g}},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(g){this._volume=g,this.artboard&&(this.artboard.volume=g*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardWidth",{get:function(){var g;return this.artboard?this.artboard.width:(g=this._artboardWidth)!==null&&g!==void 0?g:0},set:function(g){this._artboardWidth=g,this.artboard&&(this.artboard.width=g)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"artboardHeight",{get:function(){var g;return this.artboard?this.artboard.height:(g=this._artboardHeight)!==null&&g!==void 0?g:0},set:function(g){this._artboardHeight=g,this.artboard&&(this.artboard.height=g)},enumerable:!1,configurable:!0}),R.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(R.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(g){this._devicePixelRatioUsed=g},enumerable:!1,configurable:!0}),R.prototype.bindViewModelInstance=function(g){var v;this.artboard&&!this.destroyed&&g&&g.runtimeInstance&&(g.internalIncrementReferenceCount(),(v=this._viewModelInstance)===null||v===void 0||v.cleanup(),this._viewModelInstance=g,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(x){return x.bindViewModelInstance(g)}):this.artboard.bindViewModelInstance(g.runtimeInstance))},Object.defineProperty(R.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),R.prototype.viewModelByIndex=function(g){var v=this.file.viewModelByIndex(g);return v!==null?new He(v):null},R.prototype.viewModelByName=function(g){var v=this.file.viewModelByName(g);return v!==null?new He(v):null},R.prototype.enums=function(){if(this._dataEnums===null){var g=this.file.enums();this._dataEnums=g.map(function(v){return new at(v)})}return this._dataEnums},R.prototype.defaultViewModel=function(){if(this.artboard){var g=this.file.defaultArtboardViewModel(this.artboard);if(g)return new He(g)}return null},R.prototype.getArtboard=function(g){var v,x;return(x=(v=this.riveFile)===null||v===void 0?void 0:v.getArtboard(g))!==null&&x!==void 0?x:null},R.prototype.getBindableArtboard=function(g){var v,x;return(x=(v=this.riveFile)===null||v===void 0?void 0:v.getBindableArtboard(g))!==null&&x!==void 0?x:null},R.prototype.getDefaultBindableArtboard=function(){var g,v;return(v=(g=this.riveFile)===null||g===void 0?void 0:g.getDefaultBindableArtboard())!==null&&v!==void 0?v:null},R.missingErrorMessage="Rive source file or data buffer required",R.cleanupErrorMessage="Attempt to use file after calling cleanup.",R})(),He=(function(){function R(g){this._viewModel=g}return Object.defineProperty(R.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),R.prototype.instanceByIndex=function(g){var v=this._viewModel.instanceByIndex(g);if(v!==null){var x=new pt(v,null);return(0,E.createFinalization)(x,v),x}return null},R.prototype.instanceByName=function(g){var v=this._viewModel.instanceByName(g);if(v!==null){var x=new pt(v,null);return(0,E.createFinalization)(x,v),x}return null},R.prototype.defaultInstance=function(){var g=this._viewModel.defaultInstance();if(g!==null){var v=new pt(g,null);return(0,E.createFinalization)(v,g),v}return null},R.prototype.instance=function(){var g=this._viewModel.instance();if(g!==null){var v=new pt(g,null);return(0,E.createFinalization)(v,g),v}return null},Object.defineProperty(R.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),R})(),at=(function(){function R(g){this._dataEnum=g}return Object.defineProperty(R.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),R})(),ot;(function(R){R.Number="number",R.String="string",R.Boolean="boolean",R.Color="color",R.Trigger="trigger",R.Enum="enum",R.List="list",R.Image="image",R.Artboard="artboard"})(ot||(ot={}));var pt=(function(){function R(g,v){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=g,v!==null&&this._parents.push(v)}return Object.defineProperty(R.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),R.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(g){g.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(g){g.clearChanges()})),this._children.forEach(function(g){return g.handleCallbacks()})},R.prototype.addParent=function(g){this._parents.includes(g)||(this._parents.push(g),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&g.addToViewModelCallbacks(this))},R.prototype.removeParent=function(g){var v=this._parents.indexOf(g);if(v!==-1){var x=this._parents[v];x.removeFromViewModelCallbacks(this),this._parents.splice(v,1)}},R.prototype.addToPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)||(this._propertiesWithCallbacks.push(g),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(x){x.addToViewModelCallbacks(v)}))},R.prototype.removeFromPropertyCallbacks=function(g){var v=this;this._propertiesWithCallbacks.includes(g)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(x){return x!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(x){x.removeFromViewModelCallbacks(v)}))},R.prototype.addToViewModelCallbacks=function(g){var v=this;this._children.includes(g)||(this._children.push(g),this._parents.forEach(function(x){x.addToViewModelCallbacks(v)}))},R.prototype.removeFromViewModelCallbacks=function(g){var v=this;this._children.includes(g)&&(this._children=this._children.filter(function(x){return x!==g}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(x){x.removeFromViewModelCallbacks(v)}))},R.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(g){g.clearCallbacks()})},R.prototype.propertyFromPath=function(g,v){var x=g.split("/");return this.propertyFromPathSegments(x,0,v)},R.prototype.viewModelFromPathSegments=function(g,v){var x=this.internalViewModelInstance(g[v]);return x!==null?v==g.length-1?x:x.viewModelFromPathSegments(g,v++):null},R.prototype.propertyFromPathSegments=function(g,v,x){var X,de,Ie,Qe,ee,re,ye,xe,Ve,Be,Je,mt,Ge,wt,Nt,wn,ui,ft;if(v<g.length-1){var zn=this.internalViewModelInstance(g[v]);return zn!==null?zn.propertyFromPathSegments(g,v+1,x):null}var At=null;switch(x){case ot.Number:if(At=(de=(X=this._runtimeInstance)===null||X===void 0?void 0:X.number(g[v]))!==null&&de!==void 0?de:null,At!==null)return new st(At,this);break;case ot.String:if(At=(Qe=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.string(g[v]))!==null&&Qe!==void 0?Qe:null,At!==null)return new on(At,this);break;case ot.Boolean:if(At=(re=(ee=this._runtimeInstance)===null||ee===void 0?void 0:ee.boolean(g[v]))!==null&&re!==void 0?re:null,At!==null)return new bt(At,this);break;case ot.Color:if(At=(xe=(ye=this._runtimeInstance)===null||ye===void 0?void 0:ye.color(g[v]))!==null&&xe!==void 0?xe:null,At!==null)return new ai(At,this);break;case ot.Trigger:if(At=(Be=(Ve=this._runtimeInstance)===null||Ve===void 0?void 0:Ve.trigger(g[v]))!==null&&Be!==void 0?Be:null,At!==null)return new Gt(At,this);break;case ot.Enum:if(At=(mt=(Je=this._runtimeInstance)===null||Je===void 0?void 0:Je.enum(g[v]))!==null&&mt!==void 0?mt:null,At!==null)return new Lt(At,this);break;case ot.List:if(At=(wt=(Ge=this._runtimeInstance)===null||Ge===void 0?void 0:Ge.list(g[v]))!==null&&wt!==void 0?wt:null,At!==null)return new Dn(At,this);break;case ot.Image:if(At=(wn=(Nt=this._runtimeInstance)===null||Nt===void 0?void 0:Nt.image(g[v]))!==null&&wn!==void 0?wn:null,At!==null)return new Wt(At,this);break;case ot.Artboard:if(At=(ft=(ui=this._runtimeInstance)===null||ui===void 0?void 0:ui.artboard(g[v]))!==null&&ft!==void 0?ft:null,At!==null)return new tt(At,this);break}return null},R.prototype.internalViewModelInstance=function(g){var v;if(this._viewModelInstances.has(g))return this._viewModelInstances.get(g);var x=(v=this._runtimeInstance)===null||v===void 0?void 0:v.viewModel(g);if(x!==null){var X=new R(x,this);return(0,E.createFinalization)(X,x),X.internalIncrementReferenceCount(),this._viewModelInstances.set(g,X),X}return null},R.prototype.number=function(g){var v=this.propertyFromPath(g,ot.Number);return v},R.prototype.string=function(g){var v=this.propertyFromPath(g,ot.String);return v},R.prototype.boolean=function(g){var v=this.propertyFromPath(g,ot.Boolean);return v},R.prototype.color=function(g){var v=this.propertyFromPath(g,ot.Color);return v},R.prototype.trigger=function(g){var v=this.propertyFromPath(g,ot.Trigger);return v},R.prototype.enum=function(g){var v=this.propertyFromPath(g,ot.Enum);return v},R.prototype.list=function(g){var v=this.propertyFromPath(g,ot.List);return v},R.prototype.image=function(g){var v=this.propertyFromPath(g,ot.Image);return v},R.prototype.artboard=function(g){var v=this.propertyFromPath(g,ot.Artboard);return v},R.prototype.viewModel=function(g){var v=g.split("/"),x=v.length>1?this.viewModelFromPathSegments(v.slice(0,v.length-1),0):this;return x!=null?x.internalViewModelInstance(v[v.length-1]):null},R.prototype.internalReplaceViewModel=function(g,v){var x;if(v.runtimeInstance!==null){var X=((x=this._runtimeInstance)===null||x===void 0?void 0:x.replaceViewModel(g,v.runtimeInstance))||!1;if(X){v.internalIncrementReferenceCount();var de=this.internalViewModelInstance(g);de!==null&&(de.removeParent(this),this._children.includes(de)&&(this._children=this._children.filter(function(Ie){return Ie!==de})),de.cleanup()),this._viewModelInstances.set(g,v),v.addParent(this)}return X}return!1},R.prototype.replaceViewModel=function(g,v){var x,X=g.split("/"),de=X.length>1?this.viewModelFromPathSegments(X.slice(0,X.length-1),0):this;return(x=de?.internalReplaceViewModel(X[X.length-1],v))!==null&&x!==void 0?x:!1},R.prototype.incrementReferenceCount=function(){var g;this._referenceCount++,(g=this._runtimeInstance)===null||g===void 0||g.incrementReferenceCount()},R.prototype.decrementReferenceCount=function(){var g;this._referenceCount--,(g=this._runtimeInstance)===null||g===void 0||g.decrementReferenceCount()},Object.defineProperty(R.prototype,"properties",{get:function(){var g;return((g=this._runtimeInstance)===null||g===void 0?void 0:g.getProperties().map(function(v){return U({},v)}))||[]},enumerable:!1,configurable:!0}),R.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},R.prototype.cleanup=function(){var g=this,v;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((v=this._runtimeInstance)===null||v===void 0||v.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(de){de.cleanup()}),this._viewModelInstances.clear();var x=k([],this._children,!0);this._children.length=0;var X=k([],this._parents,!0);this._parents.length=0,x.forEach(function(de){de.removeParent(g)}),X.forEach(function(de){de.removeFromViewModelCallbacks(g)})}},R})(),Rt=(function(){function R(g,v){this.callbacks=[],this._viewModelInstanceValue=g,this._parentViewModel=v}return R.prototype.on=function(g){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(g)||(this.callbacks.push(g),this._parentViewModel.addToPropertyCallbacks(this))},R.prototype.off=function(g){g?this.callbacks=this.callbacks.filter(function(v){return v!==g}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},R.prototype.internalHandleCallback=function(g){},R.prototype.handleCallbacks=function(){var g=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(v){g.internalHandleCallback(v)})},R.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},R.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(R.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),R})(),on=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),st=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),bt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),Gt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return g.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},g.prototype.internalHandleCallback=function(v){v()},g})(Rt),Lt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(v){this._viewModelInstanceValue.valueIndex=v},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),Dn=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),g.prototype.addInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(v.runtimeInstance),v.addParent(this._parentViewModel))},g.prototype.addInstanceAt=function(v,x){return v.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(v.runtimeInstance,x)?(v.addParent(this._parentViewModel),!0):!1},g.prototype.removeInstance=function(v){v.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(v.runtimeInstance),v.removeParent(this._parentViewModel))},g.prototype.removeInstanceAt=function(v){this._viewModelInstanceValue.removeInstanceAt(v)},g.prototype.instanceAt=function(v){var x=this._viewModelInstanceValue.instanceAt(v);if(x!=null){var X=new pt(x,this._parentViewModel);return(0,E.createFinalization)(X,x),X}return null},g.prototype.swap=function(v,x){this._viewModelInstanceValue.swap(v,x)},g.prototype.internalHandleCallback=function(v){v()},g})(Rt),ai=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(v){this._viewModelInstanceValue.value=v},enumerable:!1,configurable:!0}),g.prototype.rgb=function(v,x,X){this._viewModelInstanceValue.rgb(v,x,X)},g.prototype.rgba=function(v,x,X,de){this._viewModelInstanceValue.argb(de,v,x,X)},g.prototype.argb=function(v,x,X,de){this._viewModelInstanceValue.argb(v,x,X,de)},g.prototype.alpha=function(v){this._viewModelInstanceValue.alpha(v)},g.prototype.opacity=function(v){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,v))*255))},g.prototype.internalHandleCallback=function(v){v(this.value)},g})(Rt),Wt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var x;this._viewModelInstanceValue.value((x=v?.nativeImage)!==null&&x!==void 0?x:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Rt),tt=(function(R){M(g,R);function g(v,x){return R.call(this,v,x)||this}return Object.defineProperty(g.prototype,"value",{set:function(v){var x,X;v.isBindableArtboard?X=v:X=v.file.internalBindableArtboardFromArtboard(v.nativeArtboard),this._viewModelInstanceValue.value((x=X?.nativeArtboard)!==null&&x!==void 0?x:null)},enumerable:!1,configurable:!0}),g.prototype.internalHandleCallback=function(v){v()},g})(Rt),en=function(R){return F(void 0,void 0,void 0,function(){var g,v,x;return te(this,function(X){switch(X.label){case 0:return g=new Request(R),[4,fetch(g)];case 1:return v=X.sent(),[4,v.arrayBuffer()];case 2:return x=X.sent(),[2,x]}})})},mn=function(R){return typeof R=="string"?[R]:R instanceof Array?R:[]},ur={EventManager:le,TaskQueueManager:q},Un=function(R){return F(void 0,void 0,void 0,function(){var g,v,x;return te(this,function(X){switch(X.label){case 0:return g=new Promise(function(de){return je.getInstance(function(Ie){Ie.decodeAudio(R,de)})}),[4,g];case 1:return v=X.sent(),x=new E.AudioWrapper(v),E.finalizationRegistry.register(x,v),[2,x]}})})},Yt=function(R){return F(void 0,void 0,void 0,function(){var g,v,x;return te(this,function(X){switch(X.label){case 0:return g=new Promise(function(de){return je.getInstance(function(Ie){Ie.decodeImage(R,de)})}),[4,g];case 1:return v=X.sent(),x=new E.ImageWrapper(v),E.finalizationRegistry.register(x,v),[2,x]}})})},bn=function(R){return F(void 0,void 0,void 0,function(){var g,v,x;return te(this,function(X){switch(X.label){case 0:return g=new Promise(function(de){return je.getInstance(function(Ie){Ie.decodeFont(R,de)})}),[4,g];case 1:return v=X.sent(),x=new E.FontWrapper(v),E.finalizationRegistry.register(x,v),[2,x]}})})}})(),c})())})(bh)),bh.exports}var Jv;function s1(){return Jv||(Jv=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0});var e=Jh(),i=a1();function s(C){return C&&typeof C=="object"&&"default"in C?C:{default:C}}var l=s(e),c=function(){return c=Object.assign||function(C){for(var P,I=1,K=arguments.length;I<K;I++)for(var le in P=arguments[I])Object.prototype.hasOwnProperty.call(P,le)&&(C[le]=P[le]);return C},c.apply(this,arguments)};function p(C,P){var I={};for(var K in C)Object.prototype.hasOwnProperty.call(C,K)&&P.indexOf(K)<0&&(I[K]=C[K]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var le=0;for(K=Object.getOwnPropertySymbols(C);le<K.length;le++)P.indexOf(K[le])<0&&Object.prototype.propertyIsEnumerable.call(C,K[le])&&(I[K[le]]=C[K[le]])}return I}function b(C,P,I,K){return new(I||(I=Promise))(function(le,q){function J(Re){try{he(K.next(Re))}catch(L){q(L)}}function ge(Re){try{he(K.throw(Re))}catch(L){q(L)}}function he(Re){var L;Re.done?le(Re.value):(L=Re.value,L instanceof I?L:new I(function(ie){ie(L)})).then(J,ge)}he((K=K.apply(C,[])).next())})}function w(C,P){var I,K,le,q,J={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return q={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function ge(he){return function(Re){return(function(L){if(I)throw new TypeError("Generator is already executing.");for(;J;)try{if(I=1,K&&(le=2&L[0]?K.return:L[0]?K.throw||((le=K.return)&&le.call(K),0):K.next)&&!(le=le.call(K,L[1])).done)return le;switch(K=0,le&&(L=[2&L[0],le.value]),L[0]){case 0:case 1:le=L;break;case 4:return J.label++,{value:L[1],done:!1};case 5:J.label++,K=L[1],L=[0];continue;case 7:L=J.ops.pop(),J.trys.pop();continue;default:if(le=J.trys,!((le=le.length>0&&le[le.length-1])||L[0]!==6&&L[0]!==2)){J=0;continue}if(L[0]===3&&(!le||L[1]>le[0]&&L[1]<le[3])){J.label=L[1];break}if(L[0]===6&&J.label<le[1]){J.label=le[1],le=L;break}if(le&&J.label<le[2]){J.label=le[2],J.ops.push(L);break}le[2]&&J.ops.pop(),J.trys.pop();continue}L=P.call(C,J)}catch(ie){L=[6,ie],K=0}finally{I=le=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}})([he,Re])}}}function E(C){var P=C||M(),I=e.useState(P),K=I[0],le=I[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var q=function(){var ge=C||M();le(ge)},J=window.matchMedia("screen and (resolution: ".concat(K,"dppx)"));return J.hasOwnProperty("addEventListener")?J.addEventListener("change",q):J.addListener(q),function(){J.hasOwnProperty("removeEventListener")?J.removeEventListener("change",q):J.removeListener(q)}}},[K,C]),K}function M(){var C=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,C),3)}var U=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),F=globalThis.ResizeObserver||U,te=globalThis.ResizeObserver!==void 0,k=!te;function Me(C,P){P===void 0&&(P=!0);var I=e.useState({width:0,height:0}),K=I[0],le=I[1];e.useEffect(function(){if(typeof window<"u"&&P){var Re=function(){le({width:window.innerWidth,height:window.innerHeight})};return k&&(Re(),window.addEventListener("resize",Re)),function(){return window.removeEventListener("resize",Re)}}},[]);var q,J,ge,he=e.useRef(new F((q=function(Re){te&&le({width:Re[Re.length-1].contentRect.width,height:Re[Re.length-1].contentRect.height})},J=0,ge=0,function(){for(var Re=this,L=[],ie=0;ie<arguments.length;ie++)L[ie]=arguments[ie];clearTimeout(ge),ge=window.setTimeout(function(){return q.apply(Re,L)},J)})));return e.useEffect(function(){var Re=he.current;if(P){var L=C.current;return C.current&&te&&Re.observe(C.current),function(){Re.disconnect(),L&&te&&Re.unobserve(L)}}Re.disconnect()},[C,he]),K}var be={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function Pe(C){return Object.assign({},be,C)}function Ne(C){var P=C.riveLoaded,I=P!==void 0&&P,K=C.canvasElem,le=C.containerRef,q=C.options,J=q===void 0?{}:q,ge=C.onCanvasHasResized,he=C.artboardBounds,Re=Pe(J),L=e.useState({height:0,width:0}),ie=L[0],Te=ie.height,we=ie.width,Ce=L[1],He=e.useState({height:0,width:0}),at=He[0],ot=at.height,pt=at.width,Rt=He[1],on=e.useState(!0),st=on[0],bt=on[1],Gt=Re.fitCanvasToArtboardHeight,Lt=Re.shouldResizeCanvasToContainer,Dn=Re.useDevicePixelRatio,ai=Re.customDevicePixelRatio,Wt=Me(le,Lt),tt=E(ai),en=he??{},mn=en.maxX,ur=en.maxY,Un=e.useCallback(function(){var Yt,bn,R,g,v=(bn=(Yt=le.current)===null||Yt===void 0?void 0:Yt.clientWidth)!==null&&bn!==void 0?bn:0,x=(g=(R=le.current)===null||R===void 0?void 0:R.clientHeight)!==null&&g!==void 0?g:0;return Gt&&he?{width:v,height:v*(he.maxY/he.maxX)}:{width:v,height:x}},[le,Gt,mn,ur]);e.useEffect(function(){if(Lt&&le.current&&I){var Yt=Un(),bn=Yt.width,R=Yt.height,g=!1;if(K){var v=bn!==we||R!==Te;if(Re.fitCanvasToArtboardHeight&&v&&(le.current.style.height=R+"px",g=!0),Re.useDevicePixelRatio){if(v||bn*tt!==pt||R*tt!==ot){var x=tt*bn,X=tt*R;K.width=x,K.height=X,K.style.width=bn+"px",K.style.height=R+"px",Rt({width:x,height:X}),g=!0}}else v&&(K.width=bn,K.height=R,Rt({width:bn,height:R}),g=!0);Ce({width:bn,height:R})}ge&&(st||g)&&ge&&ge(),st&&bt(!1)}},[K,le,Wt,tt,Un,st,bt,ot,pt,Te,we,ge,Lt,Gt,Dn,I]),e.useEffect(function(){Rt({width:0,height:0})},[K])}var ze,je=(function(){function C(){}return C.prototype.observe=function(){},C.prototype.unobserve=function(){},C.prototype.disconnect=function(){},C})(),Ke=globalThis.IntersectionObserver||je,it=(function(){function C(){var P=this;this.elementsMap=new Map,this.onObserved=function(I){I.forEach(function(K){var le=P.elementsMap.get(K.target);le&&le(K)})},this.observer=new Ke(this.onObserved)}return C.prototype.registerCallback=function(P,I){this.observer.observe(P),this.elementsMap.set(P,I)},C.prototype.removeCallback=function(P){this.observer.unobserve(P),this.elementsMap.delete(P)},C})(),H=function(){return ze||(ze=new it),ze};function j(C){var P=C.setContainerRef,I=C.setCanvasRef,K=C.className,le=K===void 0?"":K,q=C.style,J=C.children,ge=p(C,["setContainerRef","setCanvasRef","className","style","children"]),he=c({width:"100%",height:"100%"},q);return l.default.createElement("div",c({ref:P,className:le},!le&&{style:he}),l.default.createElement("canvas",c({ref:I,style:{verticalAlign:"top",width:0,height:0}},ge),J))}function V(C,P){P===void 0&&(P={});var I=e.useState(null),K=I[0],le=I[1],q=e.useRef(null),J=e.useRef(null),ge=e.useState(null),he=ge[0],Re=ge[1],L=!!C,ie=Pe(P),Te=E(),we=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===i.Fit.Layout&&K){var st=Te*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=Te,he.artboardWidth=K?.width/st,he.artboardHeight=K?.height/st}he.startRendering(),he.resizeToCanvas()}},[he,Te]);Ne({riveLoaded:!!he,canvasElem:K,containerRef:q,options:ie,onCanvasHasResized:we,artboardBounds:he?.bounds});var Ce=e.useCallback(function(st){st===null&&K&&(K.height=0,K.width=0),le(st)},[]);e.useEffect(function(){if(K&&C){var st,bt=he!=null;if(he==null){var Gt=ie.useOffscreenRenderer,Lt=C.onRiveReady,Dn=p(C,["onRiveReady"]);st=new i.Rive(c(c({useOffscreenRenderer:Gt},Dn),{canvas:K})),J.current!=null&&J.current.cleanup(),J.current=st,st.on(i.EventType.Load,function(){bt=!0,Lt&&Lt(st),K?Re(st):st.cleanup()})}return function(){bt||st==null||st.cleanup()}}},[K,L,he]);var He=e.useCallback(function(st){q.current=st},[]),at={observe:e.useCallback(function(st,bt){H().registerCallback(st,bt)},[]),unobserve:e.useCallback(function(st){H().removeCallback(st)},[])},ot=at.observe,pt=at.unobserve;e.useEffect(function(){var st,bt=!1,Gt=function(){if(K&&bt){var Lt=K.getBoundingClientRect();Lt.width>0&&Lt.height>0&&Lt.top<(window.innerHeight||document.documentElement.clientHeight)&&Lt.bottom>0&&Lt.left<(window.innerWidth||document.documentElement.clientWidth)&&Lt.right>0&&(he?.startRendering(),bt=!1)}};return K&&ie.shouldUseIntersectionObserver!==!1&&ot(K,function(Lt){Lt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),bt=!Lt.isIntersecting,clearTimeout(st),Lt.isIntersecting||Lt.boundingClientRect.width!==0||(st=setTimeout(Gt,10))}),function(){K&&pt(K)}},[ot,pt,he,K,ie.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Re(null))}},[he,K]),e.useEffect(function(){return function(){J.current!=null&&J.current.cleanup()}},[]);var Rt=C?.animations;e.useEffect(function(){he&&Rt&&(he.isPlaying?(he.stop(he.animationNames),he.play(Rt)):he.isPaused&&(he.stop(he.animationNames),he.pause(Rt)))},[Rt,he]);var on=e.useCallback(function(st){return l.default.createElement(j,c({setContainerRef:He,setCanvasRef:Ce},st))},[Ce,He]);return{canvas:K,container:q.current,setCanvasRef:Ce,setContainerRef:He,rive:he,RiveComponent:on}}function B(C,P,I){var K=e.useState(null),le=K[0],q=K[1],J=e.useState(I.defaultValue),ge=J[0],he=J[1],Re=e.useState(null),L=Re[0],ie=Re[1],Te=e.useRef(null),we=e.useRef(C),Ce=e.useRef(I);e.useEffect(function(){Ce.current=I},[I]);var He=e.useCallback(function(){var Rt=Te.current,on=we.current,st=Ce.current;if(!Rt||!on)return q(null),he(st.defaultValue),ie(null),function(){};var bt=st.getProperty(Rt,on);if(bt){q(bt),he(st.getValue(bt)),st.getExtendedData&&ie(st.getExtendedData(bt));var Gt=function(){he(st.getValue(bt)),st.getExtendedData&&ie(st.getExtendedData(bt)),st.onPropertyEvent&&st.onPropertyEvent()};return bt.on(Gt),function(){bt.off(Gt)}}return function(){}},[]);e.useEffect(function(){return Te.current=P,we.current=C,He()},[P,C,He]);var at=e.useCallback(function(Rt){if(le&&Te.current===P)try{return Rt(le),void(Ce.current.getExtendedData&&ie(Ce.current.getExtendedData(le)))}catch{}if(Te.current)try{var on=Ce.current.getProperty(Te.current,we.current);on&&(q(on),Rt(on),Ce.current.getExtendedData&&ie(Ce.current.getExtendedData(on)))}catch{}},[le,P]),ot=e.useMemo(function(){return Ce.current.buildPropertyOperations(at)},[at]),pt=c({value:ge},ot);return I.getExtendedData&&(pt.extendedData=L),pt}a.default=function(C){var P=C.src,I=C.artboard,K=C.animations,le=C.stateMachines,q=C.layout,J=C.useOffscreenRenderer,ge=J===void 0||J,he=C.shouldDisableRiveListeners,Re=he!==void 0&&he,L=C.shouldResizeCanvasToContainer,ie=L===void 0||L,Te=C.automaticallyHandleEvents,we=Te!==void 0&&Te,Ce=C.children,He=p(C,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),at=V({src:P,artboard:I,animations:K,layout:q,stateMachines:le,autoplay:!0,shouldDisableRiveListeners:Re,automaticallyHandleEvents:we},{useOffscreenRenderer:ge,shouldResizeCanvasToContainer:ie}).RiveComponent;return l.default.createElement(at,c({},He),Ce)},a.useResizeCanvas=Ne,a.useRive=V,a.useRiveFile=function(C){var P=this,I=e.useState(null),K=I[0],le=I[1],q=e.useState("idle"),J=q[0],ge=q[1];return e.useEffect(function(){var he=null;return b(P,void 0,void 0,function(){return w(this,function(Re){try{ge("loading"),(he=new i.RiveFile(C)).init(),he.on(i.EventType.Load,function(){he?.getInstance(),le(he),ge("success")}),he.on(i.EventType.LoadError,function(){ge("failed")}),le(he)}catch(L){console.error(L),ge("failed")}return[2]})}),function(){he?.cleanup()}},[C.src,C.buffer]),{riveFile:K,status:J}},a.useStateMachineInput=function(C,P,I,K){var le=e.useState(null),q=le[0],J=le[1];return e.useEffect(function(){function ge(){if(C&&P&&I||J(null),C&&P&&I){var he=C.stateMachineInputs(P);if(he){var Re=he.find(function(L){return L.name===I});K!==void 0&&Re&&(Re.value=K),J(Re||null)}}else J(null)}ge(),C&&C.on(i.EventType.Load,function(){ge()})},[C]),q},a.useViewModel=function(C,P){var I=P??{},K=I.name,le=I.useDefault,q=le!==void 0&&le,J=e.useState(null),ge=J[0],he=J[1];return e.useEffect(function(){function Re(){var L;if(C){var ie=null;ie=K!=null?((L=C.viewModelByName)===null||L===void 0?void 0:L.call(C,K))||null:C.defaultViewModel()||null,he(ie)}else he(null)}return Re(),C&&C.on(i.EventType.Load,Re),function(){C&&C.off(i.EventType.Load,Re)}},[C,K,q]),ge},a.useViewModelInstance=function(C,P){var I=P??{},K=I.name,le=I.useDefault,q=le!==void 0&&le,J=I.useNew,ge=J!==void 0&&J,he=I.rive,Re=e.useState(null),L=Re[0],ie=Re[1];return e.useEffect(function(){var Te,we,Ce;if(C){var He=null;He=K!=null?C.instanceByName(K)||null:q?((Te=C.defaultInstance)===null||Te===void 0?void 0:Te.call(C))||null:ge?((we=C.instance)===null||we===void 0?void 0:we.call(C))||null:((Ce=C.defaultInstance)===null||Ce===void 0?void 0:Ce.call(C))||null,ie(He),he&&He&&he.viewModelInstance!==He&&he.bindViewModelInstance(He)}else ie(null)},[C,K,q,ge,he]),L},a.useViewModelInstanceArtboard=function(C,P){return{setValue:B(C,P,{getProperty:e.useCallback(function(I,K){return I.artboard(K)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(K){I(function(le){le.value=K})}}},[])}).setValue}},a.useViewModelInstanceBoolean=function(C,P){var I=B(C,P,{getProperty:e.useCallback(function(K,le){return K.boolean(le)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(le){K(function(q){q.value=le})}}},[])});return{value:I.value,setValue:I.setValue}},a.useViewModelInstanceColor=function(C,P){var I=B(C,P,{getProperty:e.useCallback(function(K,le){return K.color(le)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(le){K(function(q){q.value=le})},setRgb:function(le,q,J){K(function(ge){ge.rgb(le,q,J)})},setRgba:function(le,q,J,ge){K(function(he){he.rgba(le,q,J,ge)})},setAlpha:function(le){K(function(q){q.alpha(le)})},setOpacity:function(le){K(function(q){q.opacity(le)})}}},[])});return{value:I.value,setValue:I.setValue,setRgb:I.setRgb,setRgba:I.setRgba,setAlpha:I.setAlpha,setOpacity:I.setOpacity}},a.useViewModelInstanceEnum=function(C,P){var I=B(C,P,{getProperty:e.useCallback(function(K,le){return K.enum(le)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(K){return K.values},[]),buildPropertyOperations:e.useCallback(function(K){return{setValue:function(le){K(function(q){q.value=le})}}},[])});return{value:I.value,values:I.extendedData||[],setValue:I.setValue}},a.useViewModelInstanceImage=function(C,P){return{setValue:B(C,P,{getProperty:e.useCallback(function(I,K){return I.image(K)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(I){return{setValue:function(K){I(function(le){le.value=K})}}},[])}).setValue}},a.useViewModelInstanceList=function(C,P){var I,K=e.useState(0)[1],le=B(C,P,{getProperty:e.useCallback(function(q,J){return q.list(J)},[]),getValue:e.useCallback(function(q){return q.length},[]),defaultValue:null,onPropertyEvent:function(){K(function(q){return q+1})},buildPropertyOperations:e.useCallback(function(q){return{addInstance:function(J){q(function(ge){return ge.addInstance(J)})},addInstanceAt:function(J,ge){var he=!1;return q(function(Re){he=Re.addInstanceAt(J,ge)}),he},removeInstance:function(J){q(function(ge){return ge.removeInstance(J)})},removeInstanceAt:function(J){q(function(ge){return ge.removeInstanceAt(J)})},getInstanceAt:function(J){var ge=null;return q(function(he){ge=he.instanceAt(J)}),ge},swap:function(J,ge){q(function(he){return he.swap(J,ge)})}}},[])});return{length:(I=le.value)!==null&&I!==void 0?I:0,addInstance:le.addInstance,addInstanceAt:le.addInstanceAt,removeInstance:le.removeInstance,removeInstanceAt:le.removeInstanceAt,getInstanceAt:le.getInstanceAt,swap:le.swap}},a.useViewModelInstanceNumber=function(C,P){var I=B(C,P,{getProperty:e.useCallback(function(K,le){return K.number(le)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(le){K(function(q){q.value=le})}}},[])});return{value:I.value,setValue:I.setValue}},a.useViewModelInstanceString=function(C,P){var I=B(C,P,{getProperty:e.useCallback(function(K,le){return K.string(le)},[]),getValue:e.useCallback(function(K){return K.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(K){return{setValue:function(le){K(function(q){q.value=le})}}},[])});return{value:I.value,setValue:I.setValue}},a.useViewModelInstanceTrigger=function(C,P,I){var K=(I??{}).onTrigger;return{trigger:B(C,P,{getProperty:e.useCallback(function(le,q){return le.trigger(q)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:K,buildPropertyOperations:e.useCallback(function(le){return{trigger:function(){le(function(q){q.trigger()})}}},[])}).trigger}},Object.keys(i).forEach(function(C){C==="default"||a.hasOwnProperty(C)||Object.defineProperty(a,C,{enumerable:!0,get:function(){return i[C]}})})})(um)),um}var dh=s1();const o1=()=>{};var Zv={};const k0=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},l1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],p=a[i++],b=a[i++],w=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{const c=a[i++],p=a[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],p=l+1<a.length,b=p?a[l+1]:0,w=l+2<a.length,E=w?a[l+2]:0,M=c>>2,U=(c&3)<<4|b>>4;let F=(b&15)<<2|E>>6,te=E&63;w||(te=64,p||(F=64)),s.push(i[M],i[U],i[F],i[te])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(k0(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):l1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],b=l<a.length?i[a.charAt(l)]:0;++l;const E=l<a.length?i[a.charAt(l)]:64;++l;const U=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||b==null||E==null||U==null)throw new u1;const F=c<<2|b>>4;if(s.push(F),E!==64){const te=b<<4&240|E>>2;if(s.push(te),U!==64){const k=E<<6&192|U;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(a){const e=k0(a);return L0.encodeByteArray(e,!0)},Oh=function(a){return c1(a).replace(/\./g,"")},U0=function(a){try{return L0.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof Zv>"u")return;const a=Zv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},m1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&U0(a[1]);return e&&JSON.parse(e)},Zh=()=>{try{return o1()||f1()||d1()||m1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},z0=a=>Zh()?.emulatorHosts?.[a],p1=a=>{const e=z0(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},j0=()=>Zh()?.config,B0=a=>Zh()?.[`_${a}`];class g1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Hl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(a){return(await fetch(a,{credentials:"include"})).ok}function y1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Oh(JSON.stringify(i)),Oh(JSON.stringify(p)),""].join(".")}const zu={};function v1(){const a={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?a.emulator.push(e):a.prod.push(e);return a}function _1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let e_=!1;function H0(a,e){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||zu[a]===e||zu[a]||e_)return;zu[a]=e;function i(F){return`__firebase__banner__${F}`}const s="__firebase__banner",c=v1().prod.length>0;function p(){const F=document.getElementById(s);F&&F.remove()}function b(F){F.style.display="flex",F.style.background="#7faaf0",F.style.position="fixed",F.style.bottom="5px",F.style.left="5px",F.style.padding=".5em",F.style.borderRadius="5px",F.style.alignItems="center"}function w(F,te){F.setAttribute("width","24"),F.setAttribute("id",te),F.setAttribute("height","24"),F.setAttribute("viewBox","0 0 24 24"),F.setAttribute("fill","none"),F.style.marginLeft="-6px"}function E(){const F=document.createElement("span");return F.style.cursor="pointer",F.style.marginLeft="16px",F.style.fontSize="24px",F.innerHTML=" &times;",F.onclick=()=>{e_=!0,p()},F}function M(F,te){F.setAttribute("id",te),F.innerText="Learn more",F.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",F.setAttribute("target","__blank"),F.style.paddingLeft="5px",F.style.textDecoration="underline"}function U(){const F=_1(s),te=i("text"),k=document.getElementById(te)||document.createElement("span"),Me=i("learnmore"),be=document.getElementById(Me)||document.createElement("a"),Pe=i("preprendIcon"),Ne=document.getElementById(Pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(F.created){const ze=F.element;b(ze),M(be,Me);const je=E();w(Ne,Pe),ze.append(Ne,k,be,je),document.body.appendChild(ze)}c?(k.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",te)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",U):U()}function Mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mi())}function w1(){const a=Zh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const a=Mi();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function R1(){return!w1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const M1="FirebaseError";class ps extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=M1,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?D1(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new ps(l,b,s)}}function D1(a,e){return a.replace(O1,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const O1=/\{\$([^}]+)}/g;function x1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Uo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=a[l],p=e[l];if(t_(c)&&t_(p)){if(!Uo(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function t_(a){return a!==null&&typeof a=="object"}function tc(a){const e=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function N1(a,e){const i=new V1(a,e);return i.subscribe.bind(i)}class V1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");P1(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=cm),l.error===void 0&&(l.error=cm),l.complete===void 0&&(l.complete=cm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P1(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function cm(){}function lr(a){return a&&a._delegate?a._delegate:a}class zo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vo="[DEFAULT]";class k1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new g1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(a){return a===Vo?void 0:a}function U1(a){return a.instantiationMode==="EAGER"}class z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new k1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ft||(Ft={}));const j1={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},B1=Ft.INFO,F1={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},H1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),l=F1[e];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=H1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const q1=(a,e)=>e.some(i=>a instanceof i);let n_,i_;function G1(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y1(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,Rm=new WeakMap,G0=new WeakMap,hm=new WeakMap,Jm=new WeakMap;function X1(a){const e=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",p)},c=()=>{i(to(a.result)),l()},p=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",p)});return e.then(i=>{i instanceof IDBCursor&&q0.set(i,a)}).catch(()=>{}),Jm.set(e,a),e}function Q1(a){if(Rm.has(a))return;const e=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",p),a.removeEventListener("abort",p)},c=()=>{i(),l()},p=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",p),a.addEventListener("abort",p)});Rm.set(a,e)}let Cm={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Rm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||G0.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return to(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function K1(a){Cm=a(Cm)}function W1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(fm(this),e,...i);return G0.set(s,e.sort?e.sort():[e]),to(s)}:Y1().includes(a)?function(...e){return a.apply(fm(this),e),to(q0.get(this))}:function(...e){return to(a.apply(fm(this),e))}}function $1(a){return typeof a=="function"?W1(a):(a instanceof IDBTransaction&&Q1(a),q1(a,G1())?new Proxy(a,Cm):a)}function to(a){if(a instanceof IDBRequest)return X1(a);if(hm.has(a))return hm.get(a);const e=$1(a);return e!==a&&(hm.set(a,e),Jm.set(e,a)),e}const fm=a=>Jm.get(a);function J1(a,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(a,e),b=to(p);return s&&p.addEventListener("upgradeneeded",w=>{s(to(p.result),w.oldVersion,w.newVersion,to(p.transaction),w)}),i&&p.addEventListener("blocked",w=>i(w.oldVersion,w.newVersion,w)),b.then(w=>{c&&w.addEventListener("close",()=>c()),l&&w.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),b}const Z1=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],dm=new Map;function r_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=eA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Z1.includes(i)))return;const c=async function(p,...b){const w=this.transaction(p,l?"readwrite":"readonly");let E=w.store;return s&&(E=E.index(b.shift())),(await Promise.all([E[i](...b),l&&w.done]))[0]};return dm.set(e,c),c}K1(a=>({...a,get:(e,i,s)=>r_(e,i)||a.get(e,i,s),has:(e,i)=>!!r_(e,i)||a.has(e,i)}));class tA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function nA(a){return a.getComponent()?.type==="VERSION"}const Im="@firebase/app",a_="0.14.6";const ls=new $m("@firebase/app"),iA="@firebase/app-compat",rA="@firebase/analytics-compat",aA="@firebase/analytics",sA="@firebase/app-check-compat",oA="@firebase/app-check",lA="@firebase/auth",uA="@firebase/auth-compat",cA="@firebase/database",hA="@firebase/data-connect",fA="@firebase/database-compat",dA="@firebase/functions",mA="@firebase/functions-compat",pA="@firebase/installations",gA="@firebase/installations-compat",yA="@firebase/messaging",vA="@firebase/messaging-compat",_A="@firebase/performance",bA="@firebase/performance-compat",wA="@firebase/remote-config",EA="@firebase/remote-config-compat",TA="@firebase/storage",AA="@firebase/storage-compat",SA="@firebase/firestore",RA="@firebase/ai",CA="@firebase/firestore-compat",IA="firebase",MA="12.6.0";const Mm="[DEFAULT]",DA={[Im]:"fire-core",[iA]:"fire-core-compat",[aA]:"fire-analytics",[rA]:"fire-analytics-compat",[oA]:"fire-app-check",[sA]:"fire-app-check-compat",[lA]:"fire-auth",[uA]:"fire-auth-compat",[cA]:"fire-rtdb",[hA]:"fire-data-connect",[fA]:"fire-rtdb-compat",[dA]:"fire-fn",[mA]:"fire-fn-compat",[pA]:"fire-iid",[gA]:"fire-iid-compat",[yA]:"fire-fcm",[vA]:"fire-fcm-compat",[_A]:"fire-perf",[bA]:"fire-perf-compat",[wA]:"fire-rc",[EA]:"fire-rc-compat",[TA]:"fire-gcs",[AA]:"fire-gcs-compat",[SA]:"fire-fst",[CA]:"fire-fst-compat",[RA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};const xh=new Map,OA=new Map,Dm=new Map;function s_(a,e){try{a.container.addComponent(e)}catch(i){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function kl(a){const e=a.name;if(Dm.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,a);for(const i of xh.values())s_(i,a);for(const i of OA.values())s_(i,a);return!0}function Zm(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function qr(a){return a==null?!1:a.settings!==void 0}const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new ec("app","Firebase",xA);class NA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}const ql=MA;function Y0(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:Mm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw no.create("bad-app-name",{appName:String(l)});if(i||(i=j0()),!i)throw no.create("no-options");const c=xh.get(l);if(c){if(Uo(i,c.options)&&Uo(s,c.config))return c;throw no.create("duplicate-app",{appName:l})}const p=new z1(l);for(const w of Dm.values())p.addComponent(w);const b=new NA(i,s,p);return xh.set(l,b),b}function X0(a=Mm){const e=xh.get(a);if(!e&&a===Mm&&j0())return Y0();if(!e)throw no.create("no-app",{appName:a});return e}function io(a,e,i){let s=DA[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${e}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(p.join(" "));return}kl(new zo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const VA="firebase-heartbeat-database",PA=1,Yu="firebase-heartbeat-store";let mm=null;function Q0(){return mm||(mm=J1(VA,PA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Yu)}catch(i){console.warn(i)}}}}).catch(a=>{throw no.create("idb-open",{originalErrorMessage:a.message})})),mm}async function kA(a){try{const i=(await Q0()).transaction(Yu),s=await i.objectStore(Yu).get(K0(a));return await i.done,s}catch(e){if(e instanceof ps)ls.warn(e.message);else{const i=no.create("idb-get",{originalErrorMessage:e?.message});ls.warn(i.message)}}}async function o_(a,e){try{const s=(await Q0()).transaction(Yu,"readwrite");await s.objectStore(Yu).put(e,K0(a)),await s.done}catch(i){if(i instanceof ps)ls.warn(i.message);else{const s=no.create("idb-set",{originalErrorMessage:i?.message});ls.warn(s.message)}}}function K0(a){return`${a.name}!${a.options.appId}`}const LA=1024,UA=30;class zA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>UA){const l=FA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l_(),{heartbeatsToSend:i,unsentEntries:s}=jA(this._heartbeatsCache.heartbeats),l=Oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ls.warn(e),""}}}function l_(){return new Date().toISOString().substring(0,10)}function jA(a,e=LA){const i=[];let s=a.slice();for(const l of a){const c=i.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),u_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u_(a){return Oh(JSON.stringify({version:2,heartbeats:a})).length}function FA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function HA(a){kl(new zo("platform-logger",e=>new tA(e),"PRIVATE")),kl(new zo("heartbeat",e=>new zA(e),"PRIVATE")),io(Im,a_,a),io(Im,a_,"esm2020"),io("fire-js","")}HA("");var qA="firebase",GA="12.6.0";io(qA,GA,"app");function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YA=W0,$0=new ec("auth","Firebase",W0());const Nh=new $m("@firebase/auth");function XA(a,...e){Nh.logLevel<=Ft.WARN&&Nh.warn(`Auth (${ql}): ${a}`,...e)}function wh(a,...e){Nh.logLevel<=Ft.ERROR&&Nh.error(`Auth (${ql}): ${a}`,...e)}function us(a,...e){throw ep(a,...e)}function Ea(a,...e){return ep(a,...e)}function J0(a,e,i){const s={...YA(),[e]:i};return new ec("auth","Firebase",s).create(e,{appName:a.name})}function ss(a){return J0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ep(a,...e){if(typeof a!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return $0.create(a,...e)}function yt(a,e,...i){if(!a)throw ep(e,...i)}function rs(a){const e="INTERNAL ASSERTION FAILED: "+a;throw wh(e),new Error(e)}function cs(a,e){a||rs(e)}function Om(){return typeof self<"u"&&self.location?.href||""}function QA(){return c_()==="http:"||c_()==="https:"}function c_(){return typeof self<"u"&&self.location?.protocol||null}function KA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QA()||T1()||"connection"in navigator)?navigator.onLine:!0}function WA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class nc{constructor(e,i){this.shortDelay=e,this.longDelay=i,cs(i>e,"Short delay should be less than long delay!"),this.isMobile=b1()||A1()}get(){return KA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tp(a,e){cs(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Z0{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZA=new nc(3e4,6e4);function ic(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Gl(a,e,i,s,l={}){return eb(a,l,async()=>{let c={},p={};s&&(e==="GET"?p=s:c={body:JSON.stringify(s)});const b=tc({key:a.config.apiKey,...p}).slice(1),w=await a._getAdditionalHeaders();w["Content-Type"]="application/json",a.languageCode&&(w["X-Firebase-Locale"]=a.languageCode);const E={method:e,headers:w,...c};return E1()||(E.referrerPolicy="no-referrer"),a.emulatorConfig&&Hl(a.emulatorConfig.host)&&(E.credentials="include"),Z0.fetch()(await tb(a,a.config.apiHost,i,b),E)})}async function eb(a,e,i){a._canInitEmulator=!1;const s={...$A,...e};try{const l=new eS(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const p=await c.json();if("needConfirmation"in p)throw mh(a,"account-exists-with-different-credential",p);if(c.ok&&!("errorMessage"in p))return p;{const b=c.ok?p.errorMessage:p.error.message,[w,E]=b.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(a,"credential-already-in-use",p);if(w==="EMAIL_EXISTS")throw mh(a,"email-already-in-use",p);if(w==="USER_DISABLED")throw mh(a,"user-disabled",p);const M=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw J0(a,M,E);us(a,M)}}catch(l){if(l instanceof ps)throw l;us(a,"network-request-failed",{message:String(l)})}}async function np(a,e,i,s,l={}){const c=await Gl(a,e,i,s,l);return"mfaPendingCredential"in c&&us(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function tb(a,e,i,s){const l=`${e}${i}?${s}`,c=a,p=c.config.emulator?tp(a.config,l):`${a.config.apiScheme}://${l}`;return JA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(p).toString():p}class eS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ea(this.auth,"network-request-failed")),ZA.get())})}}function mh(a,e,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ea(a,e,s);return l.customData._tokenResponse=i,l}async function tS(a,e){return Gl(a,"POST","/v1/accounts:delete",e)}async function Vh(a,e){return Gl(a,"POST","/v1/accounts:lookup",e)}function ju(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nS(a,e=!1){const i=lr(a),s=await i.getIdToken(e),l=ip(s);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,p=c?.sign_in_provider;return{claims:l,token:s,authTime:ju(pm(l.auth_time)),issuedAtTime:ju(pm(l.iat)),expirationTime:ju(pm(l.exp)),signInProvider:p||null,signInSecondFactor:c?.sign_in_second_factor||null}}function pm(a){return Number(a)*1e3}function ip(a){const[e,i,s]=a.split(".");if(e===void 0||i===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const l=U0(i);return l?JSON.parse(l):(wh("Failed to decode base64 JWT payload"),null)}catch(l){return wh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function h_(a){const e=ip(a);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xu(a,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof ps&&iS(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function iS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class rS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ph(a){const e=a.auth,i=await a.getIdToken(),s=await Xu(a,Vh(e,{idToken:i}));yt(s?.users.length,e,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?nb(l.providerUserInfo):[],p=sS(a.providerData,c),b=a.isAnonymous,w=!(a.email&&l.passwordHash)&&!p?.length,E=b?w:!1,M={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(a,M)}async function aS(a){const e=lr(a);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sS(a,e){return[...a.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function nb(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oS(a,e){const i=await eb(a,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,p=await tb(a,l,"/v1/token",`key=${c}`),b=await a._getAdditionalHeaders();b["Content-Type"]="application/x-www-form-urlencoded";const w={method:"POST",headers:b,body:s};return a.emulatorConfig&&Hl(a.emulatorConfig.host)&&(w.credentials="include"),Z0.fetch()(p,w)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lS(a,e){return Gl(a,"POST","/v2/accounts:revokeToken",ic(a,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const i=h_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await oS(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,p=new Ol;return s&&(yt(typeof s=="string","internal-error",{appName:e}),p.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:e}),p.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:e}),p.expirationTime=c),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Xs(a,e){yt(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class ia{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new rS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return nS(this,e)}reload(){return aS(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ia({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await Xu(this,tS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,p=i.photoURL??void 0,b=i.tenantId??void 0,w=i._redirectEventId??void 0,E=i.createdAt??void 0,M=i.lastLoginAt??void 0,{uid:U,emailVerified:F,isAnonymous:te,providerData:k,stsTokenManager:Me}=i;yt(U&&Me,e,"internal-error");const be=Ol.fromJSON(this.name,Me);yt(typeof U=="string",e,"internal-error"),Xs(s,e.name),Xs(l,e.name),yt(typeof F=="boolean",e,"internal-error"),yt(typeof te=="boolean",e,"internal-error"),Xs(c,e.name),Xs(p,e.name),Xs(b,e.name),Xs(w,e.name),Xs(E,e.name),Xs(M,e.name);const Pe=new ia({uid:U,auth:e,email:l,emailVerified:F,displayName:s,isAnonymous:te,photoURL:p,phoneNumber:c,tenantId:b,stsTokenManager:be,createdAt:E,lastLoginAt:M});return k&&Array.isArray(k)&&(Pe.providerData=k.map(Ne=>({...Ne}))),w&&(Pe._redirectEventId=w),Pe}static async _fromIdTokenResponse(e,i,s=!1){const l=new Ol;l.updateFromServerResponse(i);const c=new ia({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ph(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?nb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!c?.length,b=new Ol;b.updateFromIdToken(s);const w=new ia({uid:l.localId,auth:e,stsTokenManager:b,isAnonymous:p}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(w,E),w}}const f_=new Map;function as(a){cs(a instanceof Function,"Expected a class definition");let e=f_.get(a);return e?(cs(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,f_.set(a,e),e)}class ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ib.type="NONE";const d_=ib;function Eh(a,e,i){return`firebase:${a}:${e}:${i}`}class xl{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Eh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Eh("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Vh(this.auth,{idToken:e}).catch(()=>{});return i?ia._fromGetAccountInfoResponse(this.auth,i,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new xl(as(d_),e,s);const l=(await Promise.all(i.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||as(d_);const p=Eh(s,e.config.apiKey,e.name);let b=null;for(const E of i)try{const M=await E._get(p);if(M){let U;if(typeof M=="string"){const F=await Vh(e,{idToken:M}).catch(()=>{});if(!F)break;U=await ia._fromGetAccountInfoResponse(e,F,M)}else U=ia._fromJSON(e,M);E!==c&&(b=U),c=E;break}}catch{}const w=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!w.length?new xl(c,e,s):(c=w[0],b&&await c._set(p,b.toJSON()),await Promise.all(i.map(async E=>{if(E!==c)try{await E._remove(p)}catch{}})),new xl(c,e,s))}}function m_(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ub(e))return"Blackberry";if(cb(e))return"Webos";if(ab(e))return"Safari";if((e.includes("chrome/")||sb(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function rb(a=Mi()){return/firefox\//i.test(a)}function ab(a=Mi()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sb(a=Mi()){return/crios\//i.test(a)}function ob(a=Mi()){return/iemobile/i.test(a)}function lb(a=Mi()){return/android/i.test(a)}function ub(a=Mi()){return/blackberry/i.test(a)}function cb(a=Mi()){return/webos/i.test(a)}function rp(a=Mi()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function uS(a=Mi()){return rp(a)&&!!window.navigator?.standalone}function cS(){return S1()&&document.documentMode===10}function hb(a=Mi()){return rp(a)||lb(a)||cb(a)||ub(a)||/windows phone/i.test(a)||ob(a)}function fb(a,e=[]){let i;switch(a){case"Browser":i=m_(Mi());break;case"Worker":i=`${m_(Mi())}-${a}`;break;default:i=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ql}/${s}`}class hS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((p,b)=>{try{const w=e(c);p(w)}catch(w){b(w)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function fS(a,e={}){return Gl(a,"GET","/v2/passwordPolicy",ic(a,e))}const dS=6;class mS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pS{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p_(this),this.idTokenSubscription=new p_(this),this.beforeStateQueue=new hS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Vh(this,{idToken:e}),s=await ia._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,p=s?._redirectEventId,b=await this.tryRedirectSignIn(e);(!c||c===p)&&b?.user&&(s=b.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(ss(this));const i=e?lr(e):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fS(this),i=new mS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await lS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&as(e)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let p=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(b,this,"internal-error"),b.then(()=>{p||c(this.currentUser)}),typeof i=="function"){const w=e.addObserver(i,s,l);return()=>{p=!0,w()}}else{const w=e.addObserver(i);return()=>{p=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rc(a){return lr(a)}class p_{constructor(e){this.auth=e,this.observer=null,this.addObserver=N1(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gS(a){ap=a}function yS(a){return ap.loadJS(a)}function vS(){return ap.gapiScript}function _S(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function bS(a,e){const i=Zm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Uo(c,e??{}))return l;us(l,"already-initialized")}return i.initialize({options:e})}function wS(a,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(as);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e?.popupRedirectResolver)}function ES(a,e,i){const s=rc(a);yt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=db(e),{host:p,port:b}=TS(e),w=b===null?"":`:${b}`,E={url:`${c}//${p}${w}/`},M=Object.freeze({host:p,port:b,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Uo(E,s.config.emulator)&&Uo(M,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=M,s.settings.appVerificationDisabledForTesting=!0,Hl(p)?(F0(`${c}//${p}${w}`),H0("Auth",!0)):AS()}function db(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function TS(a){const e=db(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:g_(s.substr(c.length+1))}}else{const[c,p]=s.split(":");return{host:c,port:g_(p)}}}function g_(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function AS(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class mb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,i){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function Nl(a,e){return np(a,"POST","/v1/accounts:signInWithIdp",ic(a,e))}const SS="http://localhost";class jo extends mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):us("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const p=new jo(s,l);return p.idToken=c.idToken||void 0,p.accessToken=c.accessToken||void 0,p.secret=c.secret,p.nonce=c.nonce,p.pendingToken=c.pendingToken||null,p}_getIdTokenResponse(e){const i=this.buildRequest();return Nl(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Nl(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Nl(e,i)}buildRequest(){const e={requestUri:SS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tc(i)}return e}}class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ac extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ws extends ac{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";class $s extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return jo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return $s.credential(i,s)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";class Js extends ac{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Zs extends ac{constructor(){super("twitter.com")}static credential(e,i){return jo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Zs.credential(i,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";async function RS(a,e){return np(a,"POST","/v1/accounts:signUp",ic(a,e))}class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await ia._fromIdTokenResponse(e,s,l),p=y_(s);return new hs({user:c,providerId:p,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=y_(s);return new hs({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function y_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function CS(a){if(qr(a.app))return Promise.reject(ss(a));const e=rc(a);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new hs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await RS(e,{returnSecureToken:!0}),s=await hs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class kh extends ps{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new kh(e,i,s,l)}}function gb(a,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(a,c,e,s):c})}async function IS(a,e,i=!1){const s=await Xu(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return hs._forOperation(a,"link",s)}async function MS(a,e,i=!1){const{auth:s}=a;if(qr(s.app))return Promise.reject(ss(s));const l="reauthenticate";try{const c=await Xu(a,gb(s,l,e,a),i);yt(c.idToken,s,"internal-error");const p=ip(c.idToken);yt(p,s,"internal-error");const{sub:b}=p;return yt(a.uid===b,s,"user-mismatch"),hs._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&us(s,"user-mismatch"),c}}async function DS(a,e,i=!1){if(qr(a.app))return Promise.reject(ss(a));const s="signIn",l=await gb(a,s,e),c=await hs._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}async function OS(a,e){return np(a,"POST","/v1/accounts:signInWithCustomToken",ic(a,e))}async function xS(a,e){if(qr(a.app))return Promise.reject(ss(a));const i=rc(a),s=await OS(i,{token:e,returnSecureToken:!0}),l=await hs._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}function NS(a,e,i,s){return lr(a).onIdTokenChanged(e,i,s)}function VS(a,e,i){return lr(a).beforeAuthStateChanged(e,i)}function PS(a,e,i,s){return lr(a).onAuthStateChanged(e,i,s)}const Lh="__sak";class yb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kS=1e3,LS=10;class vb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((p,b,w)=>{this.notifyListeners(p,w)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(s);!i&&this.localCache[s]===p||this.notifyListeners(s,p)},c=this.storage.getItem(s);cS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,LS):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},kS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const US=vb;class _b extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_b.type="SESSION";const bb=_b;function zS(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,p=this.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const b=Array.from(p).map(async E=>E(i.origin,c)),w=await zS(b);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:w})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function sp(a="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return a+i}class jS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,p;return new Promise((b,w)=>{const E=sp("",20);l.port1.start();const M=setTimeout(()=>{w(new Error("unsupported_event"))},s);p={messageChannel:l,onMessage(U){const F=U;if(F.data.eventId===E)switch(F.data.status){case"ack":clearTimeout(M),c=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),b(F.data.response);break;default:clearTimeout(M),clearTimeout(c),w(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:E,data:i},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function Ta(){return window}function BS(a){Ta().location.href=a}function wb(){return typeof Ta().WorkerGlobalScope<"u"&&typeof Ta().importScripts=="function"}async function FS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HS(){return navigator?.serviceWorker?.controller||null}function qS(){return wb()?self:null}const Eb="firebaseLocalStorageDb",GS=1,Uh="firebaseLocalStorage",Tb="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function tf(a,e){return a.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function YS(){const a=indexedDB.deleteDatabase(Eb);return new sc(a).toPromise()}function Nm(){const a=indexedDB.open(Eb,GS);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Uh,{keyPath:Tb})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await YS(),e(await Nm()))})})}async function v_(a,e,i){const s=tf(a,!0).put({[Tb]:e,value:i});return new sc(s).toPromise()}async function XS(a,e){const i=tf(a,!1).get(e),s=await new sc(i).toPromise();return s===void 0?null:s.value}function __(a,e){const i=tf(a,!0).delete(e);return new sc(i).toPromise()}const QS=800,KS=3;class Ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>KS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(qS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FS(),!this.activeServiceWorker)return;this.sender=new jS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await v_(e,Lh,"1"),await __(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>v_(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>XS(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=tf(l,!1).getAll();return new sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ab.type="LOCAL";const WS=Ab;new nc(3e4,6e4);function $S(a,e){return e?as(e):(yt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class op extends mb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Nl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function JS(a){return DS(a.auth,new op(a),a.bypassAuthState)}function ZS(a){const{auth:e,user:i}=a;return yt(i,e,"internal-error"),MS(i,new op(a),a.bypassAuthState)}async function eR(a){const{auth:e,user:i}=a;return yt(i,e,"internal-error"),IS(i,new op(a),a.bypassAuthState)}class Sb{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:p,type:b}=e;if(p){this.reject(p);return}const w={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(w))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JS;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return ZS;default:us(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tR=new nc(2e3,1e4);class Dl extends Sb{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tR.get())};e()}}Dl.currentPopupAction=null;const nR="pendingRedirect",Th=new Map;class iR extends Sb{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await rR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rR(a,e){const i=oR(e),s=sR(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function aR(a,e){Th.set(a._key(),e)}function sR(a){return as(a._redirectPersistence)}function oR(a){return Eh(nR,a.config.apiKey,a.name)}async function lR(a,e,i=!1){if(qr(a.app))return Promise.reject(ss(a));const s=rc(a),l=$S(s,e),p=await new iR(s,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,e)),p}const uR=600*1e3;class cR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Rb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ea(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Rb({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function hR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rb(a);default:return!1}}async function fR(a,e={}){return Gl(a,"GET","/v1/projects",e)}const dR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function pR(a){if(a.config.emulator)return;const{authorizedDomains:e}=await fR(a);for(const i of e)try{if(gR(i))return}catch{}us(a,"unauthorized-domain")}function gR(a){const e=Om(),{protocol:i,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const p=new URL(a);return p.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&p.hostname===s}if(!mR.test(i))return!1;if(dR.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const yR=new nc(3e4,6e4);function w_(){const a=Ta().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function vR(a){return new Promise((e,i)=>{function s(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),i(Ea(a,"network-request-failed"))},timeout:yR.get()})}if(Ta().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ta().gapi?.load)s();else{const l=_S("iframefcb");return Ta()[l]=()=>{gapi.load?s():i(Ea(a,"network-request-failed"))},yS(`${vS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function _R(a){return Ah=Ah||vR(a),Ah}const bR=new nc(5e3,15e3),wR="__/auth/iframe",ER="emulator/auth/iframe",TR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SR(a){const e=a.config;yt(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?tp(e,ER):`https://${a.config.authDomain}/${wR}`,s={apiKey:e.apiKey,appName:a.name,v:ql},l=AR.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${tc(s).slice(1)}`}async function RR(a){const e=await _R(a),i=Ta().gapi;return yt(i,a,"internal-error"),e.open({where:document.body,url:SR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const p=Ea(a,"network-request-failed"),b=Ta().setTimeout(()=>{c(p)},bR.get());function w(){Ta().clearTimeout(b),l(s)}s.ping(w).then(w,()=>{c(p)})}))}const CR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,MR=600,DR="_blank",OR="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xR(a,e,i,s=IR,l=MR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const w={...CR,width:s.toString(),height:l.toString(),top:c,left:p},E=Mi().toLowerCase();i&&(b=sb(E)?DR:i),rb(E)&&(e=e||OR,w.scrollbars="yes");const M=Object.entries(w).reduce((F,[te,k])=>`${F}${te}=${k},`,"");if(uS(E)&&b!=="_self")return NR(e||"",b),new E_(null);const U=window.open(e||"",b,M);yt(U,a,"popup-blocked");try{U.focus()}catch{}return new E_(U)}function NR(a,e){const i=document.createElement("a");i.href=a,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const VR="__/auth/handler",PR="emulator/auth/handler",kR=encodeURIComponent("fac");async function T_(a,e,i,s,l,c){yt(a.config.authDomain,a,"auth-domain-config-required"),yt(a.config.apiKey,a,"invalid-api-key");const p={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:ql,eventId:l};if(e instanceof pb){e.setDefaultLanguage(a.languageCode),p.providerId=e.providerId||"",x1(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[M,U]of Object.entries({}))p[M]=U}if(e instanceof ac){const M=e.getScopes().filter(U=>U!=="");M.length>0&&(p.scopes=M.join(","))}a.tenantId&&(p.tid=a.tenantId);const b=p;for(const M of Object.keys(b))b[M]===void 0&&delete b[M];const w=await a._getAppCheckToken(),E=w?`#${kR}=${encodeURIComponent(w)}`:"";return`${LR(a)}?${tc(b).slice(1)}${E}`}function LR({config:a}){return a.emulator?tp(a,PR):`https://${a.authDomain}/${VR}`}const gm="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bb,this._completeRedirectFn=lR,this._overrideRedirectResult=aR}async _openPopup(e,i,s,l){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,s,Om(),l);return xR(e,c,sp())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await T_(e,i,s,Om(),l);return BS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(cs(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await RR(e),s=new cR(e);return i.register("authEvent",l=>(yt(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(gm,{type:gm},l=>{const c=l?.[0]?.[gm];c!==void 0&&i(!!c),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return hb()||ab()||rp()}}const zR=UR;var A_="@firebase/auth",S_="1.11.1";class jR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FR(a){kl(new zo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;yt(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const w={apiKey:p,authDomain:b,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(a)},E=new pS(s,l,c,w);return wS(E,i),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),kl(new zo("auth-internal",e=>{const i=rc(e.getProvider("auth").getImmediate());return(s=>new jR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(A_,S_,BR(a)),io(A_,S_,"esm2020")}const HR=300,qR=B0("authIdTokenMaxAge")||HR;let R_=null;const GR=a=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>qR)return;const l=i?.token;R_!==l&&(R_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YR(a=X0()){const e=Zm(a,"auth");if(e.isInitialized())return e.getImmediate();const i=bS(a,{popupRedirectResolver:zR,persistence:[WS,US,bb]}),s=B0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const p=GR(c.toString());VS(i,p,()=>p(i.currentUser)),NS(i,b=>p(b))}}const l=z0("auth");return l&&ES(i,`http://${l}`),i}function XR(){return document.getElementsByTagName("head")?.[0]??document}gS({loadJS(a){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=l=>{const c=Ea("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",XR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FR("Browser");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ro,Cb;(function(){var a;function e(H,j){function V(){}V.prototype=j.prototype,H.F=j.prototype,H.prototype=new V,H.prototype.constructor=H,H.D=function(B,C,P){for(var I=Array(arguments.length-2),K=2;K<arguments.length;K++)I[K-2]=arguments[K];return j.prototype[C].apply(B,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(H,j,V){V||(V=0);const B=Array(16);if(typeof j=="string")for(var C=0;C<16;++C)B[C]=j.charCodeAt(V++)|j.charCodeAt(V++)<<8|j.charCodeAt(V++)<<16|j.charCodeAt(V++)<<24;else for(C=0;C<16;++C)B[C]=j[V++]|j[V++]<<8|j[V++]<<16|j[V++]<<24;j=H.g[0],V=H.g[1],C=H.g[2];let P=H.g[3],I;I=j+(P^V&(C^P))+B[0]+3614090360&4294967295,j=V+(I<<7&4294967295|I>>>25),I=P+(C^j&(V^C))+B[1]+3905402710&4294967295,P=j+(I<<12&4294967295|I>>>20),I=C+(V^P&(j^V))+B[2]+606105819&4294967295,C=P+(I<<17&4294967295|I>>>15),I=V+(j^C&(P^j))+B[3]+3250441966&4294967295,V=C+(I<<22&4294967295|I>>>10),I=j+(P^V&(C^P))+B[4]+4118548399&4294967295,j=V+(I<<7&4294967295|I>>>25),I=P+(C^j&(V^C))+B[5]+1200080426&4294967295,P=j+(I<<12&4294967295|I>>>20),I=C+(V^P&(j^V))+B[6]+2821735955&4294967295,C=P+(I<<17&4294967295|I>>>15),I=V+(j^C&(P^j))+B[7]+4249261313&4294967295,V=C+(I<<22&4294967295|I>>>10),I=j+(P^V&(C^P))+B[8]+1770035416&4294967295,j=V+(I<<7&4294967295|I>>>25),I=P+(C^j&(V^C))+B[9]+2336552879&4294967295,P=j+(I<<12&4294967295|I>>>20),I=C+(V^P&(j^V))+B[10]+4294925233&4294967295,C=P+(I<<17&4294967295|I>>>15),I=V+(j^C&(P^j))+B[11]+2304563134&4294967295,V=C+(I<<22&4294967295|I>>>10),I=j+(P^V&(C^P))+B[12]+1804603682&4294967295,j=V+(I<<7&4294967295|I>>>25),I=P+(C^j&(V^C))+B[13]+4254626195&4294967295,P=j+(I<<12&4294967295|I>>>20),I=C+(V^P&(j^V))+B[14]+2792965006&4294967295,C=P+(I<<17&4294967295|I>>>15),I=V+(j^C&(P^j))+B[15]+1236535329&4294967295,V=C+(I<<22&4294967295|I>>>10),I=j+(C^P&(V^C))+B[1]+4129170786&4294967295,j=V+(I<<5&4294967295|I>>>27),I=P+(V^C&(j^V))+B[6]+3225465664&4294967295,P=j+(I<<9&4294967295|I>>>23),I=C+(j^V&(P^j))+B[11]+643717713&4294967295,C=P+(I<<14&4294967295|I>>>18),I=V+(P^j&(C^P))+B[0]+3921069994&4294967295,V=C+(I<<20&4294967295|I>>>12),I=j+(C^P&(V^C))+B[5]+3593408605&4294967295,j=V+(I<<5&4294967295|I>>>27),I=P+(V^C&(j^V))+B[10]+38016083&4294967295,P=j+(I<<9&4294967295|I>>>23),I=C+(j^V&(P^j))+B[15]+3634488961&4294967295,C=P+(I<<14&4294967295|I>>>18),I=V+(P^j&(C^P))+B[4]+3889429448&4294967295,V=C+(I<<20&4294967295|I>>>12),I=j+(C^P&(V^C))+B[9]+568446438&4294967295,j=V+(I<<5&4294967295|I>>>27),I=P+(V^C&(j^V))+B[14]+3275163606&4294967295,P=j+(I<<9&4294967295|I>>>23),I=C+(j^V&(P^j))+B[3]+4107603335&4294967295,C=P+(I<<14&4294967295|I>>>18),I=V+(P^j&(C^P))+B[8]+1163531501&4294967295,V=C+(I<<20&4294967295|I>>>12),I=j+(C^P&(V^C))+B[13]+2850285829&4294967295,j=V+(I<<5&4294967295|I>>>27),I=P+(V^C&(j^V))+B[2]+4243563512&4294967295,P=j+(I<<9&4294967295|I>>>23),I=C+(j^V&(P^j))+B[7]+1735328473&4294967295,C=P+(I<<14&4294967295|I>>>18),I=V+(P^j&(C^P))+B[12]+2368359562&4294967295,V=C+(I<<20&4294967295|I>>>12),I=j+(V^C^P)+B[5]+4294588738&4294967295,j=V+(I<<4&4294967295|I>>>28),I=P+(j^V^C)+B[8]+2272392833&4294967295,P=j+(I<<11&4294967295|I>>>21),I=C+(P^j^V)+B[11]+1839030562&4294967295,C=P+(I<<16&4294967295|I>>>16),I=V+(C^P^j)+B[14]+4259657740&4294967295,V=C+(I<<23&4294967295|I>>>9),I=j+(V^C^P)+B[1]+2763975236&4294967295,j=V+(I<<4&4294967295|I>>>28),I=P+(j^V^C)+B[4]+1272893353&4294967295,P=j+(I<<11&4294967295|I>>>21),I=C+(P^j^V)+B[7]+4139469664&4294967295,C=P+(I<<16&4294967295|I>>>16),I=V+(C^P^j)+B[10]+3200236656&4294967295,V=C+(I<<23&4294967295|I>>>9),I=j+(V^C^P)+B[13]+681279174&4294967295,j=V+(I<<4&4294967295|I>>>28),I=P+(j^V^C)+B[0]+3936430074&4294967295,P=j+(I<<11&4294967295|I>>>21),I=C+(P^j^V)+B[3]+3572445317&4294967295,C=P+(I<<16&4294967295|I>>>16),I=V+(C^P^j)+B[6]+76029189&4294967295,V=C+(I<<23&4294967295|I>>>9),I=j+(V^C^P)+B[9]+3654602809&4294967295,j=V+(I<<4&4294967295|I>>>28),I=P+(j^V^C)+B[12]+3873151461&4294967295,P=j+(I<<11&4294967295|I>>>21),I=C+(P^j^V)+B[15]+530742520&4294967295,C=P+(I<<16&4294967295|I>>>16),I=V+(C^P^j)+B[2]+3299628645&4294967295,V=C+(I<<23&4294967295|I>>>9),I=j+(C^(V|~P))+B[0]+4096336452&4294967295,j=V+(I<<6&4294967295|I>>>26),I=P+(V^(j|~C))+B[7]+1126891415&4294967295,P=j+(I<<10&4294967295|I>>>22),I=C+(j^(P|~V))+B[14]+2878612391&4294967295,C=P+(I<<15&4294967295|I>>>17),I=V+(P^(C|~j))+B[5]+4237533241&4294967295,V=C+(I<<21&4294967295|I>>>11),I=j+(C^(V|~P))+B[12]+1700485571&4294967295,j=V+(I<<6&4294967295|I>>>26),I=P+(V^(j|~C))+B[3]+2399980690&4294967295,P=j+(I<<10&4294967295|I>>>22),I=C+(j^(P|~V))+B[10]+4293915773&4294967295,C=P+(I<<15&4294967295|I>>>17),I=V+(P^(C|~j))+B[1]+2240044497&4294967295,V=C+(I<<21&4294967295|I>>>11),I=j+(C^(V|~P))+B[8]+1873313359&4294967295,j=V+(I<<6&4294967295|I>>>26),I=P+(V^(j|~C))+B[15]+4264355552&4294967295,P=j+(I<<10&4294967295|I>>>22),I=C+(j^(P|~V))+B[6]+2734768916&4294967295,C=P+(I<<15&4294967295|I>>>17),I=V+(P^(C|~j))+B[13]+1309151649&4294967295,V=C+(I<<21&4294967295|I>>>11),I=j+(C^(V|~P))+B[4]+4149444226&4294967295,j=V+(I<<6&4294967295|I>>>26),I=P+(V^(j|~C))+B[11]+3174756917&4294967295,P=j+(I<<10&4294967295|I>>>22),I=C+(j^(P|~V))+B[2]+718787259&4294967295,C=P+(I<<15&4294967295|I>>>17),I=V+(P^(C|~j))+B[9]+3951481745&4294967295,H.g[0]=H.g[0]+j&4294967295,H.g[1]=H.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,H.g[2]=H.g[2]+C&4294967295,H.g[3]=H.g[3]+P&4294967295}s.prototype.v=function(H,j){j===void 0&&(j=H.length);const V=j-this.blockSize,B=this.C;let C=this.h,P=0;for(;P<j;){if(C==0)for(;P<=V;)l(this,H,P),P+=this.blockSize;if(typeof H=="string"){for(;P<j;)if(B[C++]=H.charCodeAt(P++),C==this.blockSize){l(this,B),C=0;break}}else for(;P<j;)if(B[C++]=H[P++],C==this.blockSize){l(this,B),C=0;break}}this.h=C,this.o+=j},s.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var j=1;j<H.length-8;++j)H[j]=0;j=this.o*8;for(var V=H.length-8;V<H.length;++V)H[V]=j&255,j/=256;for(this.v(H),H=Array(16),j=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)H[j++]=this.g[V]>>>B&255;return H};function c(H,j){var V=b;return Object.prototype.hasOwnProperty.call(V,H)?V[H]:V[H]=j(H)}function p(H,j){this.h=j;const V=[];let B=!0;for(let C=H.length-1;C>=0;C--){const P=H[C]|0;B&&P==j||(V[C]=P,B=!1)}this.g=V}var b={};function w(H){return-128<=H&&H<128?c(H,function(j){return new p([j|0],j<0?-1:0)}):new p([H|0],H<0?-1:0)}function E(H){if(isNaN(H)||!isFinite(H))return U;if(H<0)return be(E(-H));const j=[];let V=1;for(let B=0;H>=V;B++)j[B]=H/V|0,V*=4294967296;return new p(j,0)}function M(H,j){if(H.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(H.charAt(0)=="-")return be(M(H.substring(1),j));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=E(Math.pow(j,8));let B=U;for(let P=0;P<H.length;P+=8){var C=Math.min(8,H.length-P);const I=parseInt(H.substring(P,P+C),j);C<8?(C=E(Math.pow(j,C)),B=B.j(C).add(E(I))):(B=B.j(V),B=B.add(E(I)))}return B}var U=w(0),F=w(1),te=w(16777216);a=p.prototype,a.m=function(){if(Me(this))return-be(this).m();let H=0,j=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);H+=(B>=0?B:4294967296+B)*j,j*=4294967296}return H},a.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(k(this))return"0";if(Me(this))return"-"+be(this).toString(H);const j=E(Math.pow(H,6));var V=this;let B="";for(;;){const C=je(V,j).g;V=Pe(V,C.j(j));let P=((V.g.length>0?V.g[0]:V.h)>>>0).toString(H);if(V=C,k(V))return P+B;for(;P.length<6;)P="0"+P;B=P+B}},a.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function k(H){if(H.h!=0)return!1;for(let j=0;j<H.g.length;j++)if(H.g[j]!=0)return!1;return!0}function Me(H){return H.h==-1}a.l=function(H){return H=Pe(this,H),Me(H)?-1:k(H)?0:1};function be(H){const j=H.g.length,V=[];for(let B=0;B<j;B++)V[B]=~H.g[B];return new p(V,~H.h).add(F)}a.abs=function(){return Me(this)?be(this):this},a.add=function(H){const j=Math.max(this.g.length,H.g.length),V=[];let B=0;for(let C=0;C<=j;C++){let P=B+(this.i(C)&65535)+(H.i(C)&65535),I=(P>>>16)+(this.i(C)>>>16)+(H.i(C)>>>16);B=I>>>16,P&=65535,I&=65535,V[C]=I<<16|P}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Pe(H,j){return H.add(be(j))}a.j=function(H){if(k(this)||k(H))return U;if(Me(this))return Me(H)?be(this).j(be(H)):be(be(this).j(H));if(Me(H))return be(this.j(be(H)));if(this.l(te)<0&&H.l(te)<0)return E(this.m()*H.m());const j=this.g.length+H.g.length,V=[];for(var B=0;B<2*j;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let C=0;C<H.g.length;C++){const P=this.i(B)>>>16,I=this.i(B)&65535,K=H.i(C)>>>16,le=H.i(C)&65535;V[2*B+2*C]+=I*le,Ne(V,2*B+2*C),V[2*B+2*C+1]+=P*le,Ne(V,2*B+2*C+1),V[2*B+2*C+1]+=I*K,Ne(V,2*B+2*C+1),V[2*B+2*C+2]+=P*K,Ne(V,2*B+2*C+2)}for(H=0;H<j;H++)V[H]=V[2*H+1]<<16|V[2*H];for(H=j;H<2*j;H++)V[H]=0;return new p(V,0)};function Ne(H,j){for(;(H[j]&65535)!=H[j];)H[j+1]+=H[j]>>>16,H[j]&=65535,j++}function ze(H,j){this.g=H,this.h=j}function je(H,j){if(k(j))throw Error("division by zero");if(k(H))return new ze(U,U);if(Me(H))return j=je(be(H),j),new ze(be(j.g),be(j.h));if(Me(j))return j=je(H,be(j)),new ze(be(j.g),j.h);if(H.g.length>30){if(Me(H)||Me(j))throw Error("slowDivide_ only works with positive integers.");for(var V=F,B=j;B.l(H)<=0;)V=Ke(V),B=Ke(B);var C=it(V,1),P=it(B,1);for(B=it(B,2),V=it(V,2);!k(B);){var I=P.add(B);I.l(H)<=0&&(C=C.add(V),P=I),B=it(B,1),V=it(V,1)}return j=Pe(H,C.j(j)),new ze(C,j)}for(C=U;H.l(j)>=0;){for(V=Math.max(1,Math.floor(H.m()/j.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),P=E(V),I=P.j(j);Me(I)||I.l(H)>0;)V-=B,P=E(V),I=P.j(j);k(P)&&(P=F),C=C.add(P),H=Pe(H,I)}return new ze(C,H)}a.B=function(H){return je(this,H).h},a.and=function(H){const j=Math.max(this.g.length,H.g.length),V=[];for(let B=0;B<j;B++)V[B]=this.i(B)&H.i(B);return new p(V,this.h&H.h)},a.or=function(H){const j=Math.max(this.g.length,H.g.length),V=[];for(let B=0;B<j;B++)V[B]=this.i(B)|H.i(B);return new p(V,this.h|H.h)},a.xor=function(H){const j=Math.max(this.g.length,H.g.length),V=[];for(let B=0;B<j;B++)V[B]=this.i(B)^H.i(B);return new p(V,this.h^H.h)};function Ke(H){const j=H.g.length+1,V=[];for(let B=0;B<j;B++)V[B]=H.i(B)<<1|H.i(B-1)>>>31;return new p(V,H.h)}function it(H,j){const V=j>>5;j%=32;const B=H.g.length-V,C=[];for(let P=0;P<B;P++)C[P]=j>0?H.i(P+V)>>>j|H.i(P+V+1)<<32-j:H.i(P+V);return new p(C,H.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Cb=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=M,ro=p}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ib,Pu,Mb,Sh,Vm,Db,Ob,xb;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<u.length;++y){var A=u[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=i(this);function l(u,y){if(y)e:{var A=s;u=u.split(".");for(var N=0;N<u.length-1;N++){var ne=u[N];if(!(ne in A))break e;A=A[ne]}u=u[u.length-1],N=A[u],y=y(N),y!=N&&y!=null&&e(A,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var A=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&A.push([N,y[N]]);return A}});var c=c||{},p=this||self;function b(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function w(u,y,A){return u.call.apply(u.bind,arguments)}function E(u,y,A){return E=w,E.apply(null,arguments)}function M(u,y){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function U(u,y){function A(){}A.prototype=y.prototype,u.Z=y.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(N,ne,fe){for(var ke=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)ke[vt-2]=arguments[vt];return y.prototype[ne].apply(N,ke)}}var F=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function te(u){const y=u.length;if(y>0){const A=Array(y);for(let N=0;N<y;N++)A[N]=u[N];return A}return[]}function k(u,y){for(let N=1;N<arguments.length;N++){const ne=arguments[N];var A=typeof ne;if(A=A!="object"?A:ne?Array.isArray(ne)?"array":A:"null",A=="array"||A=="object"&&typeof ne.length=="number"){A=u.length||0;const fe=ne.length||0;u.length=A+fe;for(let ke=0;ke<fe;ke++)u[A+ke]=ne[ke]}else u.push(ne)}}class Me{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function be(u){p.setTimeout(()=>{throw u},0)}function Pe(){var u=H;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ne{constructor(){this.h=this.g=null}add(y,A){const N=ze.get();N.set(y,A),this.h?this.h.next=N:this.g=N,this.h=N}}var ze=new Me(()=>new je,u=>u.reset());class je{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,it=!1,H=new Ne,j=()=>{const u=Promise.resolve(void 0);Ke=()=>{u.then(V)}};function V(){for(var u;u=Pe();){try{u.h.call(u.g)}catch(A){be(A)}var y=ze;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}it=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function K(u,y){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}U(K,C),K.prototype.init=function(u,y){const A=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(A=="mouseover"?y=u.fromElement:A=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(u,y,A,N,ne){this.listener=u,this.proxy=null,this.src=y,this.type=A,this.capture=!!N,this.ha=ne,this.key=++q,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function he(u,y,A){for(const N in u)y.call(A,u[N],N,u)}function Re(u,y){for(const A in u)y.call(void 0,u[A],A,u)}function L(u){const y={};for(const A in u)y[A]=u[A];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(u,y){let A,N;for(let ne=1;ne<arguments.length;ne++){N=arguments[ne];for(A in N)u[A]=N[A];for(let fe=0;fe<ie.length;fe++)A=ie[fe],Object.prototype.hasOwnProperty.call(N,A)&&(u[A]=N[A])}}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,y,A,N,ne){const fe=u.toString();u=this.g[fe],u||(u=this.g[fe]=[],this.h++);const ke=He(u,y,N,ne);return ke>-1?(y=u[ke],A||(y.fa=!1)):(y=new J(y,this.src,fe,!!N,ne),y.fa=A,u.push(y)),y};function Ce(u,y){const A=y.type;if(A in u.g){var N=u.g[A],ne=Array.prototype.indexOf.call(N,y,void 0),fe;(fe=ne>=0)&&Array.prototype.splice.call(N,ne,1),fe&&(ge(y),u.g[A].length==0&&(delete u.g[A],u.h--))}}function He(u,y,A,N){for(let ne=0;ne<u.length;++ne){const fe=u[ne];if(!fe.da&&fe.listener==y&&fe.capture==!!A&&fe.ha==N)return ne}return-1}var at="closure_lm_"+(Math.random()*1e6|0),ot={};function pt(u,y,A,N,ne){if(Array.isArray(y)){for(let fe=0;fe<y.length;fe++)pt(u,y[fe],A,N,ne);return null}return A=Wt(A),u&&u[le]?u.J(y,A,b(N)?!!N.capture:!1,ne):Rt(u,y,A,!1,N,ne)}function Rt(u,y,A,N,ne,fe){if(!y)throw Error("Invalid event type");const ke=b(ne)?!!ne.capture:!!ne;let vt=Dn(u);if(vt||(u[at]=vt=new we(u)),A=vt.add(y,A,N,ke,fe),A.proxy)return A;if(N=on(),A.proxy=N,N.src=u,N.listener=A,u.addEventListener)P||(ne=ke),ne===void 0&&(ne=!1),u.addEventListener(y.toString(),N,ne);else if(u.attachEvent)u.attachEvent(Gt(y.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function on(){function u(A){return y.call(u.src,u.listener,A)}const y=Lt;return u}function st(u,y,A,N,ne){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)st(u,y[fe],A,N,ne);else N=b(N)?!!N.capture:!!N,A=Wt(A),u&&u[le]?(u=u.i,fe=String(y).toString(),fe in u.g&&(y=u.g[fe],A=He(y,A,N,ne),A>-1&&(ge(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete u.g[fe],u.h--)))):u&&(u=Dn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=He(y,A,N,ne)),(A=u>-1?y[u]:null)&&bt(A))}function bt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[le])Ce(y.i,u);else{var A=u.type,N=u.proxy;y.removeEventListener?y.removeEventListener(A,N,u.capture):y.detachEvent?y.detachEvent(Gt(A),N):y.addListener&&y.removeListener&&y.removeListener(N),(A=Dn(y))?(Ce(A,u),A.h==0&&(A.src=null,y[at]=null)):ge(u)}}}function Gt(u){return u in ot?ot[u]:ot[u]="on"+u}function Lt(u,y){if(u.da)u=!0;else{y=new K(y,this);const A=u.listener,N=u.ha||u.src;u.fa&&bt(u),u=A.call(N,y)}return u}function Dn(u){return u=u[at],u instanceof we?u:null}var ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wt(u){return typeof u=="function"?u:(u[ai]||(u[ai]=function(y){return u.handleEvent(y)}),u[ai])}function tt(){B.call(this),this.i=new we(this),this.M=this,this.G=null}U(tt,B),tt.prototype[le]=!0,tt.prototype.removeEventListener=function(u,y,A,N){st(this,u,y,A,N)};function en(u,y){var A,N=u.G;if(N)for(A=[];N;N=N.G)A.push(N);if(u=u.M,N=y.type||y,typeof y=="string")y=new C(y,u);else if(y instanceof C)y.target=y.target||u;else{var ne=y;y=new C(N,u),Te(y,ne)}ne=!0;let fe,ke;if(A)for(ke=A.length-1;ke>=0;ke--)fe=y.g=A[ke],ne=mn(fe,N,!0,y)&&ne;if(fe=y.g=u,ne=mn(fe,N,!0,y)&&ne,ne=mn(fe,N,!1,y)&&ne,A)for(ke=0;ke<A.length;ke++)fe=y.g=A[ke],ne=mn(fe,N,!1,y)&&ne}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const A=u.g[y];for(let N=0;N<A.length;N++)ge(A[N]);delete u.g[y],u.h--}}this.G=null},tt.prototype.J=function(u,y,A,N){return this.i.add(String(u),y,!1,A,N)},tt.prototype.K=function(u,y,A,N){return this.i.add(String(u),y,!0,A,N)};function mn(u,y,A,N){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let ne=!0;for(let fe=0;fe<y.length;++fe){const ke=y[fe];if(ke&&!ke.da&&ke.capture==A){const vt=ke.listener,Nn=ke.ha||ke.src;ke.fa&&Ce(u.i,ke),ne=vt.call(Nn,N)!==!1&&ne}}return ne&&!N.defaultPrevented}function ur(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(u,y||0)}function Un(u){u.g=ur(()=>{u.g=null,u.i&&(u.i=!1,Un(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Yt extends B{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(u){B.call(this),this.h=u,this.g={}}U(bn,B);var R=[];function g(u){he(u.g,function(y,A){this.g.hasOwnProperty(A)&&bt(y)},u),u.g={}}bn.prototype.N=function(){bn.Z.N.call(this),g(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var v=p.JSON.stringify,x=p.JSON.parse,X=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function de(){}function Ie(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ee(){C.call(this,"d")}U(ee,C);function re(){C.call(this,"c")}U(re,C);var ye={},xe=null;function Ve(){return xe=xe||new tt}ye.Ia="serverreachability";function Be(u){C.call(this,ye.Ia,u)}U(Be,C);function Je(u){const y=Ve();en(y,new Be(y))}ye.STAT_EVENT="statevent";function mt(u,y){C.call(this,ye.STAT_EVENT,u),this.stat=y}U(mt,C);function Ge(u){const y=Ve();en(y,new mt(y,u))}ye.Ja="timingevent";function wt(u,y){C.call(this,ye.Ja,u),this.size=y}U(wt,C);function Nt(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},y)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function ui(u,y,A,N,ne,fe){u.info(function(){if(u.g)if(fe){var ke="",vt=fe.split("&");for(let Jt=0;Jt<vt.length;Jt++){var Nn=vt[Jt].split("=");if(Nn.length>1){const Tn=Nn[0];Nn=Nn[1];const Ti=Tn.split("_");ke=Ti.length>=2&&Ti[1]=="type"?ke+(Tn+"="+Nn+"&"):ke+(Tn+"=redacted&")}}}else ke=null;else ke=fe;return"XMLHTTP REQ ("+N+") [attempt "+ne+"]: "+y+`
`+A+`
`+ke})}function ft(u,y,A,N,ne,fe,ke){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ne+"]: "+y+`
`+A+`
`+fe+" "+ke})}function zn(u,y,A,N){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+cr(u,A)+(N?" "+N:"")})}function At(u,y){u.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function cr(u,y){if(!u.g)return y;if(!y)return null;try{const fe=JSON.parse(y);if(fe){for(u=0;u<fe.length;u++)if(Array.isArray(fe[u])){var A=fe[u];if(!(A.length<2)){var N=A[1];if(Array.isArray(N)&&!(N.length<1)){var ne=N[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let ke=1;ke<N.length;ke++)N[ke]=""}}}}return v(fe)}catch{return y}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function sa(){}U(sa,de),sa.prototype.g=function(){return new XMLHttpRequest},Xr=new sa;function qe(u){return encodeURIComponent(String(u))}function gs(u){var y=1;u=u.split(":");const A=[];for(;y>0&&u.length;)A.push(u.shift()),y--;return u.length&&A.push(u.join(":")),A}function fr(u,y,A,N){this.j=u,this.i=y,this.l=A,this.S=N||1,this.V=new bn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var pn={},jn={};function mr(u,y,A){u.M=1,u.A=ci(gn(y)),u.u=A,u.R=!0,Qr(u,null)}function Qr(u,y){u.F=Date.now(),pr(u),u.B=gn(u.A);var A=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),Na(A.i,"t",N),u.C=0,A=u.j.L,u.h=new dr,u.g=$o(u.j,A?y:null,!u.u),u.P>0&&(u.O=new Yt(E(u.Y,u,u.g),u.P)),y=u.V,A=u.g,N=u.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(R[0]=ne.toString()),ne=R);for(let fe=0;fe<ne.length;fe++){const ke=pt(A,ne[fe],N||y.handleEvent,!1,y.h||y);if(!ke)break;y.g[ke.key]=ke}y=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Je(),ui(u.i,u.v,u.B,u.l,u.S,u.u)}fr.prototype.ba=function(u){u=u.target;const y=this.O;y&&br(u)==3?y.j():this.Y(u)},fr.prototype.Y=function(u){try{if(u==this.g)e:{const vt=br(this.g),Nn=this.g.ya(),Jt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||ti(this.g)))){this.K||vt!=4||Nn==7||(Nn==8||Jt<=0?Je(3):Je(2)),gr(this);var y=this.g.ca();this.X=y;var A=Xo(this);if(this.o=y==200,ft(this.i,this.v,this.B,this.l,this.S,vt,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,ne=this.g;if((N=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var fe=N;break t}}fe=null}if(u=fe)zn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,u);else{this.o=!1,this.m=3,Ge(12),Oi(this),Fi(this);break e}}if(this.R){u=!0;let Tn;for(;!this.K&&this.C<A.length;)if(Tn=Ma(this,A),Tn==jn){vt==4&&(this.m=4,Ge(14),u=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==pn){this.m=4,Ge(15),zn(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else zn(this.i,this.l,Tn,null),Hi(this,Tn);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||A.length!=0||this.h.h||(this.m=1,Ge(16),u=!1),this.o=this.o&&u,!u)zn(this.i,this.l,A,"[Invalid Chunked Response]"),Oi(this),Fi(this);else if(A.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ki(ke),ke.P=!0,Ge(11))}}else zn(this.i,this.l,A,null),Hi(this,A);vt==4&&Oi(this),this.o&&!this.K&&(vt==4?La(this.j,this):(this.o=!1,pr(this)))}else Ji(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,Ge(12)):(this.m=0,Ge(13)),Oi(this),Fi(this)}}}catch{}finally{}};function Xo(u){if(!mo(u))return u.g.la();const y=ti(u.g);if(y==="")return"";let A="";const N=y.length,ne=br(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Oi(u),Fi(u),"";u.h.i=new p.TextDecoder}for(let fe=0;fe<N;fe++)u.h.h=!0,A+=u.h.i.decode(y[fe],{stream:!(ne&&fe==N-1)});return y.length=0,u.h.g+=A,u.C=0,u.h.g}function mo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ma(u,y){var A=u.C,N=y.indexOf(`
`,A);return N==-1?jn:(A=Number(y.substring(A,N)),isNaN(A)?pn:(N+=1,N+A>y.length?jn:(y=y.slice(N,N+A),u.C=N+A,y)))}fr.prototype.cancel=function(){this.K=!0,Oi(this)};function pr(u){u.T=Date.now()+u.H,Di(u,u.H)}function Di(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nt(E(u.aa,u),y)}function gr(u){u.D&&(p.clearTimeout(u.D),u.D=null)}fr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(At(this.i,this.B),this.M!=2&&(Je(),Ge(17)),Oi(this),this.m=2,Fi(this)):Di(this,this.T-u)};function Fi(u){u.j.I==0||u.K||La(u.j,u)}function Oi(u){gr(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,g(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Hi(u,y){try{var A=u.j;if(A.I!=0&&(A.g==u||qi(A.h,u))){if(!u.L&&qi(A.h,u)&&A.I==3){try{var N=A.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var ne=N;if(ne[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)Jr(A),wr(A);else break e;da(A),Ge(18)}}else A.xa=ne[1],0<A.xa-A.K&&ne[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Nt(E(A.Va,A),6e3));Ni(A.h)<=1&&A.ta&&(A.ta=void 0)}else Er(A,11)}else if((u.L||A.g==u)&&Jr(A),!I(y))for(ne=A.Ba.g.parse(y),y=0;y<ne.length;y++){let Jt=ne[y];const Tn=Jt[0];if(!(Tn<=A.K))if(A.K=Tn,Jt=Jt[1],A.I==2)if(Jt[0]=="c"){A.M=Jt[1],A.ba=Jt[2];const Ti=Jt[3];Ti!=null&&(A.ka=Ti,A.j.info("VER="+A.ka));const Zi=Jt[4];Zi!=null&&(A.za=Zi,A.j.info("SVER="+A.za));const er=Jt[5];er!=null&&typeof er=="number"&&er>0&&(N=1.5*er,A.O=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const Li=u.g;if(Li){const kr=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var fe=N.h;fe.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(po(fe,fe.h),fe.h=null))}if(N.G){const Ua=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(N.wa=Ua,$t(N.J,N.G,Ua))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),N=A;var ke=u;if(N.na=Wo(N,N.L?N.ba:null,N.W),ke.L){oa(N.h,ke);var vt=ke,Nn=N.O;Nn&&(vt.H=Nn),vt.D&&(gr(vt),pr(vt)),N.g=ke}else Bn(N);A.i.length>0&&Pi(A)}else Jt[0]!="stop"&&Jt[0]!="close"||Er(A,7);else A.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Er(A,7):vo(A):Jt[0]!="noop"&&A.l&&A.l.qa(Jt),A.A=0)}}Je(4)}catch{}}var xn=class{constructor(u,y){this.g=u,this.map=y}};function Da(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function qi(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function po(u,y){u.g?u.g.add(y):u.h=y}function oa(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Da.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ys(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const A of u.g.values())y=y.concat(A.G);return y}return te(u.i)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(u,y){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const N=u[A].indexOf("=");let ne,fe=null;N>=0?(ne=u[A].substring(0,N),fe=u[A].substring(N+1)):ne=u[A],y(ne,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function wi(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof wi?(this.l=u.l,Pn(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.u),this.h=u.h,Or(this,ua(u.i)),this.m=u.m):u&&(y=String(u).match(go))?(this.l=!1,Pn(this,y[1]||"",!0),this.o=lt(y[2]||""),this.g=lt(y[3]||"",!0),Gi(this,y[4]),this.h=lt(y[5]||"",!0),Or(this,y[6]||"",!0),this.m=lt(y[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}wi.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(si(y,Oa,!0),":");var A=this.g;return(A||y=="file")&&(u.push("//"),(y=this.o)&&u.push(si(y,Oa,!0),"@"),u.push(qe(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(si(A,A.charAt(0)=="/"?vs:yo,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",si(A,la)),u.join("")},wi.prototype.resolve=function(u){const y=gn(this);let A=!!u.j;A?Pn(y,u.j):A=!!u.o,A?y.o=u.o:A=!!u.g,A?y.g=u.g:A=u.u!=null;var N=u.h;if(A)Gi(y,u.u);else if(A=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var ne=y.h.lastIndexOf("/");ne!=-1&&(N=y.h.slice(0,ne+1)+N)}if(ne=N,ne==".."||ne==".")N="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){N=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const fe=[];for(let ke=0;ke<ne.length;){const vt=ne[ke++];vt=="."?N&&ke==ne.length&&fe.push(""):vt==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),N&&ke==ne.length&&fe.push("")):(fe.push(vt),N=!0)}N=fe.join("/")}else N=ne}return A?y.h=N:A=u.i.toString()!=="",A?Or(y,ua(u.i)):A=!!u.m,A&&(y.m=u.m),y};function gn(u){return new wi(u)}function Pn(u,y,A){u.j=A?lt(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Or(u,y,A){y instanceof xr?(u.i=y,ca(u.i,u.l)):(A||(y=si(y,ln)),u.i=new xr(y,u.l))}function $t(u,y,A){u.i.set(y,A)}function ci(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function lt(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function si(u,y,A){return typeof u=="string"?(u=encodeURI(u).replace(y,Sn),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oa=/[#\/\?@]/g,yo=/[#\?:]/g,vs=/[#\?]/g,ln=/[#\?@]/g,la=/#/g;function xr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dr(u.i,function(y,A){u.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}a=xr.prototype,a.add=function(u,y){Yn(this),this.i=null,u=vr(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(y),this.h+=1,this};function Yi(u,y){Yn(u),y=vr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function xa(u,y){return Yn(u),y=vr(u,y),u.g.has(y)}a.forEach=function(u,y){Yn(this),this.g.forEach(function(A,N){A.forEach(function(ne){u.call(y,ne,N,this)},this)},this)};function yr(u,y){Yn(u);let A=[];if(typeof y=="string")xa(u,y)&&(A=A.concat(u.g.get(vr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)A=A.concat(u[y]);return A}a.set=function(u,y){return Yn(this),this.i=null,u=vr(this,u),xa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},a.get=function(u,y){return u?(u=yr(this,u),u.length>0?String(u[0]):y):y};function Na(u,y,A){Yi(u,y),A.length>0&&(u.i=null,u.g.set(vr(u,y),te(A)),u.h+=A.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var A=y[N];const ne=qe(A);A=yr(this,A);for(let fe=0;fe<A.length;fe++){let ke=ne;A[fe]!==""&&(ke+="="+qe(A[fe])),u.push(ke)}}return this.i=u.join("&")};function ua(u){const y=new xr;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function vr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function ca(u,y){y&&!u.j&&(Yn(u),u.i=null,u.g.forEach(function(A,N){const ne=N.toLowerCase();N!=ne&&(Yi(this,N),Na(this,ne,A))},u)),u.j=y}function Xi(u,y){const A=new wn;if(p.Image){const N=new Image;N.onload=M(Qi,A,"TestLoadImage: loaded",!0,y,N),N.onerror=M(Qi,A,"TestLoadImage: error",!1,y,N),N.onabort=M(Qi,A,"TestLoadImage: abort",!1,y,N),N.ontimeout=M(Qi,A,"TestLoadImage: timeout",!1,y,N),p.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else y(!1)}function _s(u,y){const A=new wn,N=new AbortController,ne=setTimeout(()=>{N.abort(),Qi(A,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:N.signal}).then(fe=>{clearTimeout(ne),fe.ok?Qi(A,"TestPingServer: ok",!0,y):Qi(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ne),Qi(A,"TestPingServer: error",!1,y)})}function Qi(u,y,A,N,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),N(A)}catch{}}function Ki(){this.g=new X}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}U(Vi,de),Vi.prototype.g=function(){return new Wi(this.i,this.h)};function Wi(u,y){tt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}U(Wi,tt),a=Wi.prototype,a.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,hi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?$i(this):hi(this),this.readyState==3&&Kr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,$i(this))},a.Na=function(u){this.g&&(this.response=u,$i(this))},a.ga=function(){this.g&&$i(this)};function $i(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}a.setRequestHeader=function(u,y){this.A.append(u,y)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=y.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ei(u){let y="";return he(u,function(A,N){y+=N,y+=":",y+=A,y+=`\r
`}),y}function Nr(u,y,A){e:{for(N in A){var N=!1;break e}N=!0}N||(A=ei(A),typeof u=="string"?A!=null&&qe(A):$t(u,y,A))}function Ct(u){tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}U(Ct,tt);var Vr=/^https?$/i,Ei=["POST","PUT"];a=Ct.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,y,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=F(E(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(fe){Wr(this,fe);return}if(u=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ne in N)A.set(ne,N[ne]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const fe of N.keys())A.set(fe,N.get(fe));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(fe=>fe.toLowerCase()=="content-type"),ne=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(Ei,y,void 0)>=0)||N||ne||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,ke]of A)this.g.setRequestHeader(fe,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(fe){Wr(this,fe)}};function Wr(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ha(u),_r(u)}function ha(u){u.A||(u.A=!0,en(u,"complete"),en(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,en(this,"complete"),en(this,"abort"),_r(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ct.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},a.Xa=function(){$r(this)};function $r(u){if(u.h&&typeof c<"u"){if(u.v&&br(u)==4)setTimeout(u.Ca.bind(u),0);else if(en(u,"readystatechange"),br(u)==4){u.h=!1;try{const fe=u.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var A;if(!(A=y)){var N;if(N=fe===0){let ke=String(u.D).match(go)[1]||null;!ke&&p.self&&p.self.location&&(ke=p.self.location.protocol.slice(0,-1)),N=!Vr.test(ke?ke.toLowerCase():"")}A=N}if(A)en(u,"complete"),en(u,"success");else{u.o=6;try{var ne=br(u)>2?u.g.statusText:""}catch{ne=""}u.l=ne+" ["+u.ca()+"]",ha(u)}}finally{_r(u)}}}}function _r(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,y||en(u,"ready");try{A.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function br(u){return u.g?u.g.readyState:0}a.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),x(y)}};function ti(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const y={};u=(u.g&&br(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(I(u[N]))continue;var A=gs(u[N]);const ne=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const fe=y[ne]||[];y[ne]=fe,fe.push(A)}Re(y,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(u,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||y}function fa(u){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pr("baseRetryDelayMs",5e3,u),this.Za=Pr("retryDelaySeedMs",1e4,u),this.Ta=Pr("forwardChannelMaxRetries",2,u),this.va=Pr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Da(u&&u.concurrentRequestLimit),this.Ba=new Ki,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=fa.prototype,a.ka=8,a.I=1,a.connect=function(u,y,A,N){Ge(0),this.W=u,this.H=y||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.J=Wo(this,null,this.W),Pi(this)};function vo(u){if(Va(u),u.I==3){var y=u.V++,A=gn(u.J);if($t(A,"SID",u.M),$t(A,"RID",y),$t(A,"TYPE","terminate"),ka(u,A),y=new fr(u,u.j,y),y.M=2,y.A=ci(gn(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=$o(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pr(y)}Es(u)}function wr(u){u.g&&(ki(u),u.g.cancel(),u.g=null)}function Va(u){wr(u),u.v&&(p.clearTimeout(u.v),u.v=null),Jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Pi(u){if(!xi(u.h)&&!u.m){u.m=!0;var y=u.Ea;Ke||j(),it||(Ke(),it=!0),H.add(y,u),u.D=0}}function Pa(u,y){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nt(E(u.Ea,u,y),ws(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ne=new fr(this,this.j,u);let fe=this.o;if(this.U&&(fe?(fe=L(fe),Te(fe,this.U)):fe=this.U),this.u!==null||this.R||(ne.J=fe,fe=null),this.S)e:{for(var y=0,A=0;A<this.i.length;A++){t:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=A;break e}if(y===4096||A===this.i.length-1){y=A+1;break e}}y=1e3}else y=1e3;y=Qo(this,ne,y),A=gn(this.J),$t(A,"RID",u),$t(A,"CVER",22),this.G&&$t(A,"X-HTTP-Session-Id",this.G),ka(this,A),fe&&(this.R?y="headers="+qe(ei(fe))+"&"+y:this.u&&Nr(A,this.u,fe)),po(this.h,ne),this.Ra&&$t(A,"TYPE","init"),this.S?($t(A,"$req",y),$t(A,"SID","null"),ne.U=!0,mr(ne,A,null)):mr(ne,A,y),this.I=2}}else this.I==3&&(u?bs(this,u):this.i.length==0||xi(this.h)||bs(this))};function bs(u,y){var A;y?A=y.l:A=u.V++;const N=gn(u.J);$t(N,"SID",u.M),$t(N,"RID",A),$t(N,"AID",u.K),ka(u,N),u.u&&u.o&&Nr(N,u.u,u.o),A=new fr(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Qo(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,A),mr(A,N,y)}function ka(u,y){u.H&&he(u.H,function(A,N){$t(y,N,A)}),u.l&&he({},function(A,N){$t(y,N,A)})}function Qo(u,y,A){A=Math.min(u.i.length,A);const N=u.l?E(u.l.Ka,u.l,u):null;e:{var ne=u.i;let vt=-1;for(;;){const Nn=["count="+A];vt==-1?A>0?(vt=ne[0].g,Nn.push("ofs="+vt)):vt=0:Nn.push("ofs="+vt);let Jt=!0;for(let Tn=0;Tn<A;Tn++){var fe=ne[Tn].g;const Ti=ne[Tn].map;if(fe-=vt,fe<0)vt=Math.max(0,ne[Tn].g-100),Jt=!1;else try{fe="req"+fe+"_"||"";try{var ke=Ti instanceof Map?Ti:Object.entries(Ti);for(const[Zi,er]of ke){let Li=er;b(er)&&(Li=v(er)),Nn.push(fe+Zi+"="+encodeURIComponent(Li))}}catch(Zi){throw Nn.push(fe+"type="+encodeURIComponent("_badmap")),Zi}}catch{N&&N(Ti)}}if(Jt){ke=Nn.join("&");break e}}ke=void 0}return u=u.i.splice(0,A),y.G=u,ke}function Bn(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;Ke||j(),it||(Ke(),it=!0),H.add(y,u),u.A=0}}function da(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nt(E(u.Da,u),ws(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nt(E(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ge(10),wr(this),Ko(this))};function ki(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function Ko(u){u.g=new fr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=gn(u.na);$t(y,"RID","rpc"),$t(y,"SID",u.M),$t(y,"AID",u.K),$t(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(y,"TO",u.ia),$t(y,"TYPE","xmlhttp"),ka(u,y),u.u&&u.o&&Nr(y,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=ci(gn(y)),A.u=null,A.R=!0,Qr(A,u)}a.Va=function(){this.C!=null&&(this.C=null,wr(this),da(this),Ge(19))};function Jr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function La(u,y){var A=null;if(u.g==y){Jr(u),ki(u),u.g=null;var N=2}else if(qi(u.h,y))A=y.G,oa(u.h,y),N=1;else return;if(u.I!=0){if(y.o)if(N==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var ne=u.D;N=Ve(),en(N,new wt(N,A)),Pi(u)}else Bn(u);else if(ne=y.m,ne==3||ne==0&&y.X>0||!(N==1&&Pa(u,y)||N==2&&da(u)))switch(A&&A.length>0&&(y=u.h,y.i=y.i.concat(A)),ne){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function ws(u,y){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*y}function Er(u,y){if(u.j.info("Error code "+y),y==2){var A=E(u.bb,u),N=u.Ua;const ne=!N;N=new wi(N||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Pn(N,"https"),ci(N),ne?Xi(N.toString(),A):_s(N.toString(),A)}else Ge(2);u.I=0,u.l&&u.l.pa(y),Es(u),Va(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Es(u){if(u.I=0,u.ja=[],u.l){const y=ys(u.h);(y.length!=0||u.i.length!=0)&&(k(u.ja,y),k(u.ja,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.oa()}}function Wo(u,y,A){var N=A instanceof wi?gn(A):new wi(A);if(N.g!="")y&&(N.g=y+"."+N.g),Gi(N,N.u);else{var ne=p.location;N=ne.protocol,y=y?y+"."+ne.hostname:ne.hostname,ne=+ne.port;const fe=new wi(null);N&&Pn(fe,N),y&&(fe.g=y),ne&&Gi(fe,ne),A&&(fe.h=A),N=fe}return A=u.G,y=u.wa,A&&y&&$t(N,A,y),$t(N,"VER",u.ka),ka(u,N),N}function $o(u,y,A){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ct(new Vi({ab:A})):new Ct(u.ma),y.Fa(u.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ts(){}a=Ts.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ma(){}ma.prototype.g=function(u,y){return new fi(u,y)};function fi(u,y){tt.call(this),this.g=new fa(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Zr(this)}U(fi,tt),fi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fi.prototype.close=function(){vo(this.g)},fi.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=v(u),u=A);y.i.push(new xn(y.Ya++,u)),y.I==3&&Pi(y)},fi.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,fi.Z.N.call(this)};function _o(u){ee.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const A in y){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}U(_o,ee);function Jo(){re.call(this),this.status=1}U(Jo,re);function Zr(u){this.g=u}U(Zr,Ts),Zr.prototype.ra=function(){en(this.g,"a")},Zr.prototype.qa=function(u){en(this.g,new _o(u))},Zr.prototype.pa=function(u){en(this.g,new Jo)},Zr.prototype.oa=function(){en(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,fi.prototype.send=fi.prototype.o,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,xb=function(){return new ma},Ob=function(){return Ve()},Db=ye,Vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Sh=hr,fo.COMPLETE="complete",Mb=fo,Ie.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Pu=Ie,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,Ib=Ct}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",M_="4.9.2";class Ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let Yl="12.3.0";const Bo=new $m("@firebase/firestore");function Rl(){return Bo.logLevel}function $e(a,...e){if(Bo.logLevel<=Ft.DEBUG){const i=e.map(lp);Bo.debug(`Firestore (${Yl}): ${a}`,...i)}}function fs(a,...e){if(Bo.logLevel<=Ft.ERROR){const i=e.map(lp);Bo.error(`Firestore (${Yl}): ${a}`,...i)}}function Ll(a,...e){if(Bo.logLevel<=Ft.WARN){const i=e.map(lp);Bo.warn(`Firestore (${Yl}): ${a}`,...i)}}function lp(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Nb(a,s,i)}function Nb(a,e,i){let s=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw fs(s),new Error(s)}function hn(a,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||Nb(e,l,s)}function Tt(a,e){return a}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ko{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Vb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ci.UNAUTHENTICATED)))}shutdown(){}}class KR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WR{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){hn(this.o===void 0,42304);let s=this.i;const l=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve();let c=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ko,e.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const w=c;e.enqueueRetryable((async()=>{await w.promise,await l(this.currentUser)}))},b=w=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((w=>b(w))),setTimeout((()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ko)}}),0),p()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(hn(typeof s.accessToken=="string",31837,{l:s}),new Vb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hn(e===null||typeof e=="string",2055,{h:e}),new Ci(e)}}class $R{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new $R(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){hn(this.o===void 0,3512);const s=c=>{c.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,$e("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(hn(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eC(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=eC(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Ht(a,e){return a<e?-1:a>e?1:0}function Pm(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=e.charAt(s);if(l!==c)return ym(l)===ym(c)?Ht(l,c):ym(l)?1:-1}return Ht(a.length,e.length)}const tC=55296,nC=57343;function ym(a){const e=a.charCodeAt(0);return e>=tC&&e<=nC}function Ul(a,e,i){return a.length===e.length&&a.every(((s,l)=>i(s,e[l])))}const O_="__name__";class wa{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&gt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return wa.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wa?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=wa.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ht(e.length,i.length)}static compareSegments(e,i){const s=wa.isNumericId(e),l=wa.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?wa.extractNumericId(e).compare(wa.extractNumericId(i)):Pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class An extends wa{construct(e,i,s){return new An(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new An(i)}static emptyPath(){return new An([])}}const iC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends wa{construct(e,i,s){return new _i(e,i,s)}static isValidIdentifier(e){return iC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new _i([O_])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let p=!1;for(;l<e.length;){const b=e[l];if(b==="\\"){if(l+1===e.length)throw new Ze(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[l+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Ze(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new Ze(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(i)}static emptyPath(){return new _i([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(An.fromString(e))}static fromName(e){return new ct(An.fromString(e).popFirst(5))}static empty(){return new ct(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&An.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return An.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new An(e.slice()))}}function Pb(a,e,i){if(!i)throw new Ze(Ae.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function rC(a,e,i,s){if(e===!0&&s===!0)throw new Ze(Ae.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function x_(a){if(!ct.isDocumentKey(a))throw new Ze(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function N_(a){if(ct.isDocumentKey(a))throw new Ze(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function kb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function nf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function Bu(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Ze(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=nf(a);throw new Ze(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Zn(a,e){const i={typeString:a};return e&&(i.value=e),i}function oc(a,e){if(!kb(a))throw new Ze(Ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const p=a[s];if(l&&typeof p!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new Ze(Ae.INVALID_ARGUMENT,i);return!0}const V_=-62135596800,P_=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*P_);return new Mn(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<V_)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,Mn._jsonSchema))return new Mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mn._jsonSchemaVersion="firestore/timestamp/1.0",Mn._jsonSchema={type:Zn("string",Mn._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Mn(0,0))}static max(){return new _t(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qu=-1;function aC(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new Mn(i+1,0):new Mn(i,s));return new so(l,ct.empty(),e)}function sC(a){return new so(a.readTime,a.key,Qu)}class so{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new so(_t.min(),ct.empty(),Qu)}static max(){return new so(_t.max(),ct.empty(),Qu)}}function oC(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,e.documentKey),i!==0?i:Ht(a.largestBatchId,e.largestBatchId))}const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xl(a){if(a.code!==Ae.FAILED_PRECONDITION||a.message!==lC)throw a;$e("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Se(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Se?i:Se.resolve(i)}catch(i){return Se.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Se.reject(i)}static resolve(e){return new Se(((i,s)=>{i(e)}))}static reject(e){return new Se(((i,s)=>{s(e)}))}static waitFor(e){return new Se(((i,s)=>{let l=0,c=0,p=!1;e.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&i()}),(w=>s(w)))})),p=!0,c===l&&i()}))}static or(e){let i=Se.resolve(!1);for(const s of e)i=i.next((l=>l?Se.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new Se(((s,l)=>{const c=e.length,p=new Array(c);let b=0;for(let w=0;w<c;w++){const E=w;i(e[E]).next((M=>{p[E]=M,++b,b===c&&s(p)}),(M=>l(M)))}}))}static doWhile(e,i){return new Se(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function cC(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ql(a){return a.name==="IndexedDbTransactionError"}class rf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;const cp=-1;function af(a){return a==null}function zh(a){return a===0&&1/a==-1/0}function hC(a){return typeof a=="number"&&Number.isInteger(a)&&!zh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Lb="";function fC(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=k_(e)),e=dC(a.get(i),e);return k_(e)}function dC(a,e){let i=e;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case Lb:i+="";break;default:i+=c}}return i}function k_(a){return a+Lb+""}function L_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ho(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Ub(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Vn{constructor(e,i){this.comparator=e,this.root=i||vi.EMPTY}insert(e,i){return new Vn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??vi.RED,this.left=l??vi.EMPTY,this.right=c??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new vi(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return vi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1;vi.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new vi(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ri(this.comparator);return i.data=e,i}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ra{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new ra([])}unionWith(e){let i=new ri(_i.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new ra(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zb("Invalid base64 string: "+c):c}})(e);return new bi(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(e);return new bi(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const mC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(a){if(hn(!!a,39018),typeof a=="string"){let e=0;const i=mC.exec(a);if(hn(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gn(a.seconds),nanos:Gn(a.nanos)}}function Gn(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function lo(a){return typeof a=="string"?bi.fromBase64String(a):bi.fromUint8Array(a)}const jb="server_timestamp",Bb="__type__",Fb="__previous_value__",Hb="__local_write_time__";function hp(a){return(a?.mapValue?.fields||{})[Bb]?.stringValue===jb}function sf(a){const e=a.mapValue.fields[Fb];return hp(e)?sf(e):e}function Ku(a){const e=oo(a.mapValue.fields[Hb].timestampValue);return new Mn(e.seconds,e.nanos)}class pC{constructor(e,i,s,l,c,p,b,w,E,M){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=w,this.useFetchStreams=E,this.isUsingEmulator=M}}const jh="(default)";class Wu{constructor(e,i){this.projectId=e,this.database=i||jh}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}const qb="__type__",gC="__max__",yh={mapValue:{}},Gb="__vector__",Bh="value";function uo(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?hp(a)?4:vC(a)?9007199254740991:yC(a)?10:11:gt(28295,{value:a})}function Ia(a,e){if(a===e)return!0;const i=uo(a);if(i!==uo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ku(a).isEqual(Ku(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=oo(l.timestampValue),b=oo(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,c){return lo(l.bytesValue).isEqual(lo(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,c){return Gn(l.geoPointValue.latitude)===Gn(c.geoPointValue.latitude)&&Gn(l.geoPointValue.longitude)===Gn(c.geoPointValue.longitude)})(a,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Gn(l.integerValue)===Gn(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=Gn(l.doubleValue),b=Gn(c.doubleValue);return p===b?zh(p)===zh(b):isNaN(p)&&isNaN(b)}return!1})(a,e);case 9:return Ul(a.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(L_(p)!==L_(b))return!1;for(const w in p)if(p.hasOwnProperty(w)&&(b[w]===void 0||!Ia(p[w],b[w])))return!1;return!0})(a,e);default:return gt(52216,{left:a})}}function $u(a,e){return(a.values||[]).find((i=>Ia(i,e)))!==void 0}function zl(a,e){if(a===e)return 0;const i=uo(a),s=uo(e);if(i!==s)return Ht(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(a.booleanValue,e.booleanValue);case 2:return(function(c,p){const b=Gn(c.integerValue||c.doubleValue),w=Gn(p.integerValue||p.doubleValue);return b<w?-1:b>w?1:b===w?0:isNaN(b)?isNaN(w)?0:-1:1})(a,e);case 3:return z_(a.timestampValue,e.timestampValue);case 4:return z_(Ku(a),Ku(e));case 5:return Pm(a.stringValue,e.stringValue);case 6:return(function(c,p){const b=lo(c),w=lo(p);return b.compareTo(w)})(a.bytesValue,e.bytesValue);case 7:return(function(c,p){const b=c.split("/"),w=p.split("/");for(let E=0;E<b.length&&E<w.length;E++){const M=Ht(b[E],w[E]);if(M!==0)return M}return Ht(b.length,w.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,p){const b=Ht(Gn(c.latitude),Gn(p.latitude));return b!==0?b:Ht(Gn(c.longitude),Gn(p.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return j_(a.arrayValue,e.arrayValue);case 10:return(function(c,p){const b=c.fields||{},w=p.fields||{},E=b[Bh]?.arrayValue,M=w[Bh]?.arrayValue,U=Ht(E?.values?.length||0,M?.values?.length||0);return U!==0?U:j_(E,M)})(a.mapValue,e.mapValue);case 11:return(function(c,p){if(c===yh.mapValue&&p===yh.mapValue)return 0;if(c===yh.mapValue)return 1;if(p===yh.mapValue)return-1;const b=c.fields||{},w=Object.keys(b),E=p.fields||{},M=Object.keys(E);w.sort(),M.sort();for(let U=0;U<w.length&&U<M.length;++U){const F=Pm(w[U],M[U]);if(F!==0)return F;const te=zl(b[w[U]],E[M[U]]);if(te!==0)return te}return Ht(w.length,M.length)})(a.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function z_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ht(a,e);const i=oo(a),s=oo(e),l=Ht(i.seconds,s.seconds);return l!==0?l:Ht(i.nanos,s.nanos)}function j_(a,e){const i=a.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=zl(i[l],s[l]);if(c)return c}return Ht(i.length,s.length)}function jl(a){return km(a)}function km(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=oo(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return lo(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ct.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=km(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${km(i.fields[p])}`;return l+"}"})(a.mapValue):gt(61005,{value:a})}function Rh(a){switch(uo(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(a);return e?16+Rh(e):16;case 5:return 2*a.stringValue.length;case 6:return lo(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Rh(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Ho(s.fields,((c,p)=>{l+=c.length+Rh(p)})),l})(a.mapValue);default:throw gt(13486,{value:a})}}function B_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Lm(a){return!!a&&"integerValue"in a}function fp(a){return!!a&&"arrayValue"in a}function F_(a){return!!a&&"nullValue"in a}function H_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ch(a){return!!a&&"mapValue"in a}function yC(a){return(a?.mapValue?.fields||{})[qb]?.stringValue===Gb}function Fu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ho(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Fu(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fu(a.arrayValue.values[i]);return e}return{...a}}function vC(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===gC}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ch(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(i)}setAll(e){let i=_i.emptyPath(),s={},l=[];e.forEach(((p,b)=>{if(!i.isImmediateParentOf(b)){const w=this.getFieldsMap(i);this.applyChanges(w,s,l),s={},l=[],i=b.popLast()}p?s[b.lastSegment()]=Fu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());Ch(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Ch(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Ho(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new Gr(Fu(this.value))}}function Yb(a){const e=[];return Ho(a.fields,((i,s)=>{const l=new _i([i]);if(Ch(s)){const c=Yb(s.mapValue).fields;if(c.length===0)e.push(l);else for(const p of c)e.push(l.child(p))}else e.push(l)})),new ra(e)}class Ii{constructor(e,i,s,l,c,p,b){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Ii(e,0,_t.min(),_t.min(),_t.min(),Gr.empty(),0)}static newFoundDocument(e,i,s,l){return new Ii(e,1,i,_t.min(),s,l,0)}static newNoDocument(e,i){return new Ii(e,2,i,_t.min(),_t.min(),Gr.empty(),0)}static newUnknownDocument(e,i){return new Ii(e,3,i,_t.min(),_t.min(),Gr.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,i){this.position=e,this.inclusive=i}}function q_(a,e,i){let s=0;for(let l=0;l<a.position.length;l++){const c=e[l],p=a.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(p.referenceValue),i.key):s=zl(p,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function G_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ia(a.position[i],e.position[i]))return!1;return!0}class Hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function _C(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Xb{}class Jn extends Xb{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new wC(e,i,s):i==="array-contains"?new AC(e,s):i==="in"?new SC(e,s):i==="not-in"?new RC(e,s):i==="array-contains-any"?new CC(e,s):new Jn(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new EC(e,s):new TC(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zl(i,this.value)):i!==null&&uo(this.value)===uo(i)&&this.matchesComparison(zl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aa extends Xb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new aa(e,i)}matches(e){return Qb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qb(a){return a.op==="and"}function Kb(a){return bC(a)&&Qb(a)}function bC(a){for(const e of a.filters)if(e instanceof aa)return!1;return!0}function Um(a){if(a instanceof Jn)return a.field.canonicalString()+a.op.toString()+jl(a.value);if(Kb(a))return a.filters.map((e=>Um(e))).join(",");{const e=a.filters.map((i=>Um(i))).join(",");return`${a.op}(${e})`}}function Wb(a,e){return a instanceof Jn?(function(s,l){return l instanceof Jn&&s.op===l.op&&s.field.isEqual(l.field)&&Ia(s.value,l.value)})(a,e):a instanceof aa?(function(s,l){return l instanceof aa&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&Wb(p,l.filters[b])),!0):!1})(a,e):void gt(19439)}function $b(a){return a instanceof Jn?(function(i){return`${i.field.canonicalString()} ${i.op} ${jl(i.value)}`})(a):a instanceof aa?(function(i){return i.op.toString()+" {"+i.getFilters().map($b).join(" ,")+"}"})(a):"Filter"}class wC extends Jn{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class EC extends Jn{constructor(e,i){super(e,"in",i),this.keys=Jb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class TC extends Jn{constructor(e,i){super(e,"not-in",i),this.keys=Jb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Jb(a,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class AC extends Jn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return fp(i)&&$u(i.arrayValue,this.value)}}class SC extends Jn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$u(this.value.arrayValue,i)}}class RC extends Jn{constructor(e,i){super(e,"not-in",i)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$u(this.value.arrayValue,i)}}class CC extends Jn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!fp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>$u(this.value.arrayValue,s)))}}class IC{constructor(e,i=null,s=[],l=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function Y_(a,e=null,i=[],s=[],l=null,c=null,p=null){return new IC(a,e,i,s,l,c,p)}function dp(a){const e=Tt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Um(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),af(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>jl(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>jl(s))).join(",")),e.Te=i}return e.Te}function mp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!_C(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Wb(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!G_(a.startAt,e.startAt)&&G_(a.endAt,e.endAt)}function zm(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class lc{constructor(e,i=null,s=[],l=[],c=null,p="F",b=null,w=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=w,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MC(a,e,i,s,l,c,p,b){return new lc(a,e,i,s,l,c,p,b)}function pp(a){return new lc(a)}function X_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Zb(a){return a.collectionGroup!==null}function Hu(a){const e=Tt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new ri(_i.comparator);return p.filters.forEach((w=>{w.getFlattenedFilters().forEach((E=>{E.isInequality()&&(b=b.add(E.field))}))})),b})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Hh(c,s))})),i.has(_i.keyField().canonicalString())||e.Ie.push(new Hh(_i.keyField(),s))}return e.Ie}function Aa(a){const e=Tt(a);return e.Ee||(e.Ee=DC(e,Hu(a))),e.Ee}function DC(a,e){if(a.limitType==="F")return Y_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Hh(l.field,c)}));const i=a.endAt?new Fh(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Fh(a.startAt.position,a.startAt.inclusive):null;return Y_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function jm(a,e){const i=a.filters.concat([e]);return new lc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Bm(a,e,i){return new lc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function of(a,e){return mp(Aa(a),Aa(e))&&a.limitType===e.limitType}function ew(a){return`${dp(Aa(a))}|lt:${a.limitType}`}function Cl(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>$b(l))).join(", ")}]`),af(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>jl(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>jl(l))).join(",")),`Target(${s})`})(Aa(a))}; limitType=${a.limitType})`}function lf(a,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,e)&&(function(s,l){for(const c of Hu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,e)&&(function(s,l){return!(s.startAt&&!(function(p,b,w){const E=q_(p,b,w);return p.inclusive?E<=0:E<0})(s.startAt,Hu(s),l)||s.endAt&&!(function(p,b,w){const E=q_(p,b,w);return p.inclusive?E>=0:E>0})(s.endAt,Hu(s),l))})(a,e)}function OC(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function tw(a){return(e,i)=>{let s=!1;for(const l of Hu(a)){const c=xC(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function xC(a,e,i){const s=a.field.isKeyField()?ct.comparator(e.key,i.key):(function(c,p,b){const w=p.data.field(c),E=b.data.field(c);return w!==null&&E!==null?zl(w,E):gt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:a.dir})}}class qo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}const NC=new Vn(ct.comparator);function ds(){return NC}const nw=new Vn(ct.comparator);function ku(...a){let e=nw;for(const i of a)e=e.insert(i.key,i);return e}function iw(a){let e=nw;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Po(){return qu()}function rw(){return qu()}function qu(){return new qo((a=>a.toString()),((a,e)=>a.isEqual(e)))}const VC=new Vn(ct.comparator),PC=new ri(ct.comparator);function qt(...a){let e=PC;for(const i of a)e=e.add(i);return e}const kC=new ri(Ht);function LC(){return kC}function gp(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function aw(a){return{integerValue:""+a}}function UC(a,e){return hC(e)?aw(e):gp(a,e)}class uf{constructor(){this._=void 0}}function zC(a,e,i){return a instanceof qh?(function(l,c){const p={fields:{[Bb]:{stringValue:jb},[Hb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&hp(c)&&(c=sf(c)),c&&(p.fields[Fb]=c),{mapValue:p}})(i,e):a instanceof Ju?ow(a,e):a instanceof Zu?lw(a,e):(function(l,c){const p=sw(l,c),b=Q_(p)+Q_(l.Ae);return Lm(p)&&Lm(l.Ae)?aw(b):gp(l.serializer,b)})(a,e)}function jC(a,e,i){return a instanceof Ju?ow(a,e):a instanceof Zu?lw(a,e):i}function sw(a,e){return a instanceof Gh?(function(s){return Lm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class qh extends uf{}class Ju extends uf{constructor(e){super(),this.elements=e}}function ow(a,e){const i=uw(e);for(const s of a.elements)i.some((l=>Ia(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Zu extends uf{constructor(e){super(),this.elements=e}}function lw(a,e){let i=uw(e);for(const s of a.elements)i=i.filter((l=>!Ia(l,s)));return{arrayValue:{values:i}}}class Gh extends uf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(a){return Gn(a.integerValue||a.doubleValue)}function uw(a){return fp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function BC(a,e){return a.field.isEqual(e.field)&&(function(s,l){return s instanceof Ju&&l instanceof Ju||s instanceof Zu&&l instanceof Zu?Ul(s.elements,l.elements,Ia):s instanceof Gh&&l instanceof Gh?Ia(s.Ae,l.Ae):s instanceof qh&&l instanceof qh})(a.transform,e.transform)}class FC{constructor(e,i){this.version=e,this.transformResults=i}}class os{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class cf{}function cw(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new fw(a.key,os.none()):new uc(a.key,a.data,os.none());{const i=a.data,s=Gr.empty();let l=new ri(_i.comparator);for(let c of e.fields)if(!l.has(c)){let p=i.field(c);p===null&&c.length>1&&(c=c.popLast(),p=i.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Go(a.key,s,new ra(l.toArray()),os.none())}}function HC(a,e,i){a instanceof uc?(function(l,c,p){const b=l.value.clone(),w=W_(l.fieldTransforms,c,p.transformResults);b.setAll(w),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(a,e,i):a instanceof Go?(function(l,c,p){if(!Ih(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=W_(l.fieldTransforms,c,p.transformResults),w=c.data;w.setAll(hw(l)),w.setAll(b),c.convertToFoundDocument(p.version,w).setHasCommittedMutations()})(a,e,i):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,e,i)}function Gu(a,e,i,s){return a instanceof uc?(function(c,p,b,w){if(!Ih(c.precondition,p))return b;const E=c.value.clone(),M=$_(c.fieldTransforms,w,p);return E.setAll(M),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null})(a,e,i,s):a instanceof Go?(function(c,p,b,w){if(!Ih(c.precondition,p))return b;const E=$_(c.fieldTransforms,w,p),M=p.data;return M.setAll(hw(c)),M.setAll(E),p.convertToFoundDocument(p.version,M).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((U=>U.field)))})(a,e,i,s):(function(c,p,b){return Ih(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(a,e,i)}function qC(a,e){let i=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),c=sw(s.transform,l||null);c!=null&&(i===null&&(i=Gr.empty()),i.set(s.field,c))}return i||null}function K_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ul(s,l,((c,p)=>BC(c,p)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class uc extends cf{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Go extends cf{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hw(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function W_(a,e,i){const s=new Map;hn(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],p=c.transform,b=e.data.field(c.field);s.set(c.field,jC(p,b,i[l]))}return s}function $_(a,e,i){const s=new Map;for(const l of a){const c=l.transform,p=i.data.field(l.field);s.set(l.field,zC(c,p,e))}return s}class fw extends cf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends cf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YC{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&HC(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Gu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Gu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=rw();return this.mutations.forEach((l=>{const c=e.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=i.has(l.key)?null:b;const w=cw(p,b);w!==null&&s.set(l.key,w),p.isValidDocument()||p.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qt())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,((i,s)=>K_(i,s)))&&Ul(this.baseMutations,e.baseMutations,((i,s)=>K_(i,s)))}}class yp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){hn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return VC})();const c=e.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new yp(e,i,s,l)}}class XC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QC{constructor(e,i){this.count=e,this.unchangedNames=i}}var $n,Kt;function KC(a){switch(a){case Ae.OK:return gt(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function dw(a){if(a===void 0)return fs("GRPC error has no .code"),Ae.UNKNOWN;switch(a){case $n.OK:return Ae.OK;case $n.CANCELLED:return Ae.CANCELLED;case $n.UNKNOWN:return Ae.UNKNOWN;case $n.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case $n.INTERNAL:return Ae.INTERNAL;case $n.UNAVAILABLE:return Ae.UNAVAILABLE;case $n.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case $n.NOT_FOUND:return Ae.NOT_FOUND;case $n.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case $n.ABORTED:return Ae.ABORTED;case $n.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case $n.DATA_LOSS:return Ae.DATA_LOSS;default:return gt(39323,{code:a})}}(Kt=$n||($n={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function WC(){return new TextEncoder}const $C=new ro([4294967295,4294967295],0);function J_(a){const e=WC().encode(a),i=new Cb;return i.update(e),new Uint8Array(i.digest())}function Z_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ro([i,s],0),new ro([l,c],0)]}class vp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Lu(`Invalid padding: ${i}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ro.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(ro.fromNumber(s)));return l.compare($C)===1&&(l=new ro([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=J_(e),[s,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new vp(c,l,i);return s.forEach((b=>p.insert(b))),p}insert(e){if(this.ge===0)return;const i=J_(e),[s,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hf{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new hf(_t.min(),l,new Vn(Ht),ds(),qt())}}class cc{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new cc(s,i,qt(),qt(),qt())}}class Mh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class mw{constructor(e,i){this.targetId=e,this.Ce=i}}class pw{constructor(e,i,s=bi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class e0{constructor(){this.ve=0,this.Fe=t0(),this.Me=bi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qt(),i=qt(),s=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}})),new cc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=t0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=vh(),this.He=vh(),this.Ye=new Vn(Ht)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(zm(c))if(s===0){const p=new ct(c.path);this.et(i,p,Ii.newNoDocument(p,_t.min()))}else hn(s===1,20013,{expectedCount:s});else{const p=this._t(i);if(p!==s){const b=this.ut(e),w=b?this.ct(b,e,p):1;if(w!==0){this.it(i);const E=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,E)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let p,b;try{p=lo(s).toUint8Array()}catch(w){if(w instanceof zb)return Ll("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{b=new vp(p,l,c)}catch(w){return Ll(w instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return b.ge===0?null:b}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(b)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&zm(b.target)){const w=new ct(b.target.path);this.It(w).has(p)||this.Et(p,w)||this.et(p,w,Ii.newNoDocument(w,e))}c.Be&&(i.set(p,c.ke()),c.qe())}}));let s=qt();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((w=>{const E=this.ot(w);return!E||E.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(e)));const l=new hf(e,i,this.Ye,this.je,s);return this.je=ds(),this.Je=vh(),this.He=vh(),this.Ye=new Vn(Ht),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new e0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new ri(Ht),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new ri(Ht),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||$e("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function vh(){return new Vn(ct.comparator)}function t0(){return new Vn(ct.comparator)}const ZC={asc:"ASCENDING",desc:"DESCENDING"},e2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class n2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Fm(a,e){return a.useProto3Json||af(e)?e:{value:e}}function Yh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gw(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function i2(a,e){return Yh(a,e.toTimestamp())}function Sa(a){return hn(!!a,49232),_t.fromTimestamp((function(i){const s=oo(i);return new Mn(s.seconds,s.nanos)})(a))}function _p(a,e){return Hm(a,e).canonicalString()}function Hm(a,e){const i=(function(l){return new An(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function yw(a){const e=An.fromString(a);return hn(Ew(e),10190,{key:e.toString()}),e}function qm(a,e){return _p(a.databaseId,e.path)}function vm(a,e){const i=yw(e);if(i.get(1)!==a.databaseId.projectId)throw new Ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new Ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(_w(i))}function vw(a,e){return _p(a.databaseId,e)}function r2(a){const e=yw(a);return e.length===4?An.emptyPath():_w(e)}function Gm(a){return new An(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function _w(a){return hn(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function n0(a,e,i){return{name:qm(a,e),fields:i.value.mapValue.fields}}function a2(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:gt(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,M){return E.useProto3Json?(hn(M===void 0||typeof M=="string",58123),bi.fromBase64String(M||"")):(hn(M===void 0||M instanceof Buffer||M instanceof Uint8Array,16193),bi.fromUint8Array(M||new Uint8Array))})(a,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&(function(E){const M=E.code===void 0?Ae.UNKNOWN:dw(E.code);return new Ze(M,E.message||"")})(p);i=new pw(s,l,c,b||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=vm(a,s.document.name),c=Sa(s.document.updateTime),p=s.document.createTime?Sa(s.document.createTime):_t.min(),b=new Gr({mapValue:{fields:s.document.fields}}),w=Ii.newFoundDocument(l,c,p,b),E=s.targetIds||[],M=s.removedTargetIds||[];i=new Mh(E,M,w.key,w)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=vm(a,s.document),c=s.readTime?Sa(s.readTime):_t.min(),p=Ii.newNoDocument(l,c),b=s.removedTargetIds||[];i=new Mh([],b,p.key,p)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=vm(a,s.document),c=s.removedTargetIds||[];i=new Mh([],c,l,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new QC(l,c),b=s.targetId;i=new mw(b,p)}}return i}function s2(a,e){let i;if(e instanceof uc)i={update:n0(a,e.key,e.value)};else if(e instanceof fw)i={delete:qm(a,e.key)};else if(e instanceof Go)i={update:n0(a,e.key,e.data),updateMask:p2(e.fieldMask)};else{if(!(e instanceof GC))return gt(16599,{Vt:e.type});i={verify:qm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof qh)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ju)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Zu)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Gh)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw gt(20930,{transform:p.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:i2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(a,e.precondition)),i}function o2(a,e){return a&&a.length>0?(hn(e!==void 0,14353),a.map((i=>(function(l,c){let p=l.updateTime?Sa(l.updateTime):Sa(c);return p.isEqual(_t.min())&&(p=Sa(c)),new FC(p,l.transformResults||[])})(i,e)))):[]}function l2(a,e){return{documents:[vw(a,e.path)]}}function u2(a,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=vw(a,l);const c=(function(E){if(E.length!==0)return ww(aa.create(E,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const p=(function(E){if(E.length!==0)return E.map((M=>(function(F){return{field:Il(F.field),direction:f2(F.dir)}})(M)))})(e.orderBy);p&&(i.structuredQuery.orderBy=p);const b=Fm(a,e.limit);return b!==null&&(i.structuredQuery.limit=b),e.startAt&&(i.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:i,parent:l}}function c2(a){let e=r2(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){hn(s===1,65062);const M=i.from[0];M.allDescendants?l=M.collectionId:e=e.child(M.collectionId)}let c=[];i.where&&(c=(function(U){const F=bw(U);return F instanceof aa&&Kb(F)?F.getFilters():[F]})(i.where));let p=[];i.orderBy&&(p=(function(U){return U.map((F=>(function(k){return new Hh(Ml(k.field),(function(be){switch(be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(F)))})(i.orderBy));let b=null;i.limit&&(b=(function(U){let F;return F=typeof U=="object"?U.value:U,af(F)?null:F})(i.limit));let w=null;i.startAt&&(w=(function(U){const F=!!U.before,te=U.values||[];return new Fh(te,F)})(i.startAt));let E=null;return i.endAt&&(E=(function(U){const F=!U.before,te=U.values||[];return new Fh(te,F)})(i.endAt)),MC(e,l,p,c,b,"F",w,E)}function h2(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function bw(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ml(i.unaryFilter.field);return Jn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ml(i.unaryFilter.field);return Jn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ml(i.unaryFilter.field);return Jn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ml(i.unaryFilter.field);return Jn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Jn.create(Ml(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return aa.create(i.compositeFilter.filters.map((s=>bw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function f2(a){return ZC[a]}function d2(a){return e2[a]}function m2(a){return t2[a]}function Il(a){return{fieldPath:a.canonicalString()}}function Ml(a){return _i.fromServerFormat(a.fieldPath)}function ww(a){return a instanceof Jn?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:d2(i.op),value:i.value}}})(a):a instanceof aa?(function(i){const s=i.getFilters().map((l=>ww(l)));return s.length===1?s[0]:{compositeFilter:{op:m2(i.op),filters:s}}})(a):gt(54877,{filter:a})}function p2(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Ew(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class eo{constructor(e,i,s,l,c=_t.min(),p=_t.min(),b=bi.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=w}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g2{constructor(e){this.yt=e}}function y2(a){const e=c2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Bm(e,e.limit,"L"):e}class v2{constructor(){this.Cn=new _2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Se.resolve()}getCollectionParents(e,i){return Se.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Se.resolve()}deleteFieldIndex(e,i){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,i){return Se.resolve()}getDocumentsMatchingTarget(e,i){return Se.resolve(null)}getIndexType(e,i){return Se.resolve(0)}getFieldIndexes(e,i){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,i){return Se.resolve(so.min())}getMinOffsetFromCollectionGroup(e,i){return Se.resolve(so.min())}updateCollectionGroup(e,i,s){return Se.resolve()}updateIndexEntries(e,i){return Se.resolve()}}class _2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new ri(An.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new ri(An.comparator)).toArray()}}const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tw=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(Tw,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class Bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}const r0="LruGarbageCollector",b2=1048576;function a0([a,e],[i,s]){const l=Ht(a,i);return l===0?Ht(e,s):l}class w2{constructor(e){this.Ir=e,this.buffer=new ri(a0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();a0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$e(r0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ql(i)?$e(r0,"Ignoring IndexedDB error during garbage collection: ",i):await Xl(i)}await this.Vr(3e5)}))}}class T2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Se.resolve(rf.ce);const s=new w2(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(i0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,c,p,b,w,E;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((U=>(U>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),l=this.params.maximumSequenceNumbersToCollect):l=U,p=Date.now(),this.nthSequenceNumber(e,l)))).next((U=>(s=U,b=Date.now(),this.removeTargets(e,s,i)))).next((U=>(c=U,w=Date.now(),this.removeOrphanedDocuments(e,s)))).next((U=>(E=Date.now(),Rl()<=Ft.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-M}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(w-b)+`ms
	Removed ${U} documents in `+(E-w)+`ms
Total Duration: ${E-M}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:U}))))}}function A2(a,e){return new T2(a,e)}class S2{constructor(){this.changes=new qo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Se.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class C2{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Gu(s.mutation,l,ra.empty(),Mn.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,qt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=qt()){const l=Po();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let p=ku();return c.forEach(((b,w)=>{p=p.insert(b,w.overlayedDocument)})),p}))))}getOverlayedDocuments(e,i){const s=Po();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,qt())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((p,b)=>{i.set(p,b)}))}))}computeViews(e,i,s,l){let c=ds();const p=qu(),b=(function(){return qu()})();return i.forEach(((w,E)=>{const M=s.get(E.key);l.has(E.key)&&(M===void 0||M.mutation instanceof Go)?c=c.insert(E.key,E):M!==void 0?(p.set(E.key,M.mutation.getFieldMask()),Gu(M.mutation,E,M.mutation.getFieldMask(),Mn.now())):p.set(E.key,ra.empty())})),this.recalculateAndSaveOverlays(e,c).next((w=>(w.forEach(((E,M)=>p.set(E,M))),i.forEach(((E,M)=>b.set(E,new R2(M,p.get(E)??null)))),b)))}recalculateAndSaveOverlays(e,i){const s=qu();let l=new Vn(((p,b)=>p-b)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((p=>{for(const b of p)b.keys().forEach((w=>{const E=i.get(w);if(E===null)return;let M=s.get(w)||ra.empty();M=b.applyToLocalView(E,M),s.set(w,M);const U=(l.get(b.batchId)||qt()).add(w);l=l.insert(b.batchId,U)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const w=b.getNext(),E=w.key,M=w.value,U=rw();M.forEach((F=>{if(!c.has(F)){const te=cw(i.get(F),s.get(F));te!==null&&U.set(F,te),c=c.add(F)}})),p.push(this.documentOverlayCache.saveOverlays(e,E,U))}return Se.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(p){return ct.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Zb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):Se.resolve(Po());let b=Qu,w=c;return p.next((E=>Se.forEach(E,((M,U)=>(b<U.largestBatchId&&(b=U.largestBatchId),c.get(M)?Se.resolve():this.remoteDocumentCache.getEntry(e,M).next((F=>{w=w.insert(M,F)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,w,E,qt()))).next((M=>({batchId:b,changes:iw(M)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((s=>{let l=ku();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let p=ku();return this.indexManager.getCollectionParents(e,c).next((b=>Se.forEach(b,(w=>{const E=(function(U,F){return new lc(F,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)})(i,w.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,l).next((M=>{M.forEach(((U,F)=>{p=p.insert(U,F)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((p=>{c.forEach(((w,E)=>{const M=E.getKey();p.get(M)===null&&(p=p.insert(M,Ii.newInvalidDocument(M)))}));let b=ku();return p.forEach(((w,E)=>{const M=c.get(w);M!==void 0&&Gu(M.mutation,E,ra.empty(),Mn.now()),lf(i,E)&&(b=b.insert(w,E))})),b}))}}class I2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Se.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Sa(l.createTime)}})(i)),Se.resolve()}getNamedQuery(e,i){return Se.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:y2(l.bundledQuery),readTime:Sa(l.readTime)}})(i)),Se.resolve()}}class M2{constructor(){this.overlays=new Vn(ct.comparator),this.qr=new Map}getOverlay(e,i){return Se.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Po();return Se.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.St(e,i,c)})),Se.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Se.resolve()}getOverlaysForCollection(e,i,s){const l=Po(),c=i.length+1,p=new ct(i.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const w=b.getNext().value,E=w.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===c&&w.largestBatchId>s&&l.set(w.getKey(),w)}return Se.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new Vn(((E,M)=>E-M));const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>s){let M=c.get(E.largestBatchId);M===null&&(M=Po(),c=c.insert(E.largestBatchId,M)),M.set(E.getKey(),E)}}const b=Po(),w=c.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach(((E,M)=>b.set(E,M))),!(b.size()>=l)););return Se.resolve(b)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new XC(i,s));let c=this.qr.get(i);c===void 0&&(c=qt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class D2{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Se.resolve()}}class bp{constructor(){this.Qr=new ri(li.$r),this.Ur=new ri(li.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new li(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new li(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ct(new An([])),s=new li(i,e),l=new li(i,e+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new An([])),s=new li(i,e),l=new li(i,e+1);let c=qt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(e){const i=new li(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class li{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Ht(e.Yr,i.Yr)}static Kr(e,i){return Ht(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class O2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ri(li.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new YC(c,i,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new li(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Se.resolve(p)}lookupMutationBatch(e,i){return Se.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?cp:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new li(i,0),l=new li(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new ri(Ht);return i.forEach((l=>{const c=new li(l,0),p=new li(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const p=new li(new ct(c),0);let b=new ri(Ht);return this.Zr.forEachWhile((w=>{const E=w.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(b=b.add(w.Yr)),!0)}),p),Se.resolve(this.ti(b))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){hn(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Se.forEach(i.mutations,(l=>{const c=new li(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new li(i,0),l=this.Zr.firstAfterOrEqual(s);return Se.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class x2{constructor(e){this.ri=e,this.docs=(function(){return new Vn(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Se.resolve(s?s.document.mutableCopy():Ii.newInvalidDocument(i))}getEntries(e,i){let s=ds();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ii.newInvalidDocument(l))})),Se.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=ds();const p=i.path,b=new ct(p.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(b);for(;w.hasNext();){const{key:E,value:{document:M}}=w.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||oC(sC(M),s)<=0||(l.has(M.key)||lf(i,M))&&(c=c.insert(M.key,M.mutableCopy()))}return Se.resolve(c)}getAllFromCollectionGroup(e,i,s,l){gt(9500)}ii(e,i){return Se.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new N2(this)}getSize(e){return Se.resolve(this.size)}}class N2 extends S2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Se.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class V2{constructor(e){this.persistence=e,this.si=new qo((i=>dp(i)),mp),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new bp,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Se.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Se.resolve()}updateTargetData(e,i){return this.Pr(i),Se.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=i&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)})),Se.waitFor(c).next((()=>l))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Se.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Se.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((p=>{c.push(l.markPotentiallyOrphaned(e,p))})),Se.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Se.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Se.resolve(s)}containsKey(e,i){return Se.resolve(this._i.containsKey(i))}}class Aw{constructor(e,i){this.ui={},this.overlays={},this.ci=new rf(0),this.li=!1,this.li=!0,this.hi=new D2,this.referenceDelegate=e(this),this.Pi=new V2(this),this.indexManager=new v2,this.remoteDocumentCache=(function(l){return new x2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new g2(i),this.Ii=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new M2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new O2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){$e("MemoryPersistence","Starting transaction:",e);const l=new P2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class P2 extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Ri=new bp,this.Vi=null}static mi(e){return new wp(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Se.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Se.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(s=>{const l=ct.fromPath(s);return this.gi(e,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Se.or([()=>Se.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Xh{constructor(e,i){this.persistence=e,this.pi=new qo((s=>fC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=A2(this,i)}static mi(e,i){return new Xh(e,i)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Se.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Se.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(p=>this.br(e,p,i).next((b=>{b||(s++,c.removeEntry(p,_t.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Se.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Rh(e.data.value)),i}br(e,i,s){return Se.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Se.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ep{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ep(e,i.fromCache,s,l)}}class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class L2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R1()?8:cC(Mi())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.ys(e,i).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(e,i,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new k2;return this.Ss(e,i,p).next((b=>{if(c.result=b,this.Vs)return this.bs(e,i,p,b.size)}))})).next((()=>c.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Rl()<=Ft.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",Cl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Rl()<=Ft.DEBUG&&$e("QueryEngine","Query:",Cl(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Rl()<=Ft.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",Cl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Aa(i))):Se.resolve())}ys(e,i){if(X_(i))return Se.resolve(null);let s=Aa(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Bm(i,null,"F"),s=Aa(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const p=qt(...c);return this.ps.getDocuments(e,p).next((b=>this.indexManager.getMinOffset(e,s).next((w=>{const E=this.Ds(i,b);return this.Cs(i,E,p,w.readTime)?this.ys(e,Bm(i,null,"F")):this.vs(e,E,i,w)}))))})))))}ws(e,i,s,l){return X_(i)||l.isEqual(_t.min())?Se.resolve(null):this.ps.getDocuments(e,s).next((c=>{const p=this.Ds(i,c);return this.Cs(i,p,s,l)?Se.resolve(null):(Rl()<=Ft.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cl(i)),this.vs(e,p,i,aC(l,Qu)).next((b=>b)))}))}Ds(e,i){let s=new ri(tw(e));return i.forEach(((l,c)=>{lf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,s){return Rl()<=Ft.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Cl(i)),this.ps.getDocumentsMatchingQuery(e,i,so.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const Tp="LocalStore",U2=3e8;class z2{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Vn(Ht),this.xs=new qo((c=>dp(c)),mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function j2(a,e,i,s){return new z2(a,e,i,s)}async function Sw(a,e){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let w=qt();for(const E of l){p.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}for(const E of c){b.push(E.batchId);for(const M of E.mutations)w=w.add(M.key)}return i.localDocuments.getDocuments(s,w).next((E=>({Ls:E,removedBatchIds:p,addedBatchIds:b})))}))}))}function B2(a,e){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,w,E,M){const U=E.batch,F=U.keys();let te=Se.resolve();return F.forEach((k=>{te=te.next((()=>M.getEntry(w,k))).next((Me=>{const be=E.docVersions.get(k);hn(be!==null,48541),Me.version.compareTo(be)<0&&(U.applyToRemoteDocument(Me,E),Me.isValidDocument()&&(Me.setReadTime(E.commitVersion),M.addEntry(Me)))}))})),te.next((()=>b.mutationQueue.removeMutationBatch(w,U)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let w=qt();for(let E=0;E<b.mutationResults.length;++E)b.mutationResults[E].transformResults.length>0&&(w=w.add(b.batch.mutations[E].key));return w})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Rw(a){const e=Tt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function F2(a,e){const i=Tt(a),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const b=[];e.targetChanges.forEach(((M,U)=>{const F=l.get(U);if(!F)return;b.push(i.Pi.removeMatchingKeys(c,M.removedDocuments,U).next((()=>i.Pi.addMatchingKeys(c,M.addedDocuments,U))));let te=F.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(U)!==null?te=te.withResumeToken(bi.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):M.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(M.resumeToken,s)),l=l.insert(U,te),(function(Me,be,Pe){return Me.resumeToken.approximateByteSize()===0||be.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=U2?!0:Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0})(F,te,M)&&b.push(i.Pi.updateTargetData(c,te))}));let w=ds(),E=qt();if(e.documentUpdates.forEach((M=>{e.resolvedLimboDocuments.has(M)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(c,M))})),b.push(H2(c,p,e.documentUpdates).next((M=>{w=M.ks,E=M.qs}))),!s.isEqual(_t.min())){const M=i.Pi.getLastRemoteSnapshotVersion(c).next((U=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(M)}return Se.waitFor(b).next((()=>p.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,w,E))).next((()=>w))})).then((c=>(i.Ms=l,c)))}function H2(a,e,i){let s=qt(),l=qt();return i.forEach((c=>s=s.add(c))),e.getEntries(a,s).next((c=>{let p=ds();return i.forEach(((b,w)=>{const E=c.get(b);w.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(b)),w.isNoDocument()&&w.version.isEqual(_t.min())?(e.removeEntry(b,w.readTime),p=p.insert(b,w)):!E.isValidDocument()||w.version.compareTo(E.version)>0||w.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(w),p=p.insert(b,w)):$e(Tp,"Ignoring outdated watch update for ",b,". Current version:",E.version," Watch version:",w.version)})),{ks:p,qs:l}}))}function q2(a,e){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cp),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function G2(a,e){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((c=>c?(l=c,Se.resolve(l)):i.Pi.allocateTargetId(s).next((p=>(l=new eo(e,p,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ym(a,e,i){const s=Tt(a),l=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Ql(p))throw p;$e(Tp,`Failed to update sequence numbers for target ${e}: ${p}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function s0(a,e,i){const s=Tt(a);let l=_t.min(),c=qt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(w,E,M){const U=Tt(w),F=U.xs.get(M);return F!==void 0?Se.resolve(U.Ms.get(F)):U.Pi.getTargetData(E,M)})(s,p,Aa(e)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((w=>{c=w}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,e,i?l:_t.min(),i?c:qt()))).next((b=>(Y2(s,OC(e),b),{documents:b,Qs:c})))))}function Y2(a,e,i){let s=a.Os.get(e)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(e,s)}class o0{constructor(){this.activeTargetIds=LC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X2{constructor(){this.Mo=new o0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q2{Oo(e){}shutdown(){}}const l0="ConnectivityMonitor";class u0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$e(l0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$e(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function Xm(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const _m="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===jh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,c){const p=Xm(),b=this.zo(e,i.toUriEncodedString());$e(_m,`Sending RPC '${e}' ${p}:`,b,s);const w={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(w,l,c);const{host:E}=new URL(b),M=Hl(E);return this.Jo(e,b,w,s,M).then((U=>($e(_m,`Received RPC '${e}' ${p}: `,U),U)),(U=>{throw Ll(_m,`RPC '${e}' ${p} failed with error: `,U,"url: ",b,"request:",s),U}))}Ho(e,i,s,l,c,p){return this.Go(e,i,s,l,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const s=K2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class $2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ri="WebChannelConnection";class J2 extends W2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,c){const p=Xm();return new Promise(((b,w)=>{const E=new Ib;E.setWithCredentials(!0),E.listenOnce(Mb.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case Sh.NO_ERROR:const U=E.getResponseJson();$e(Ri,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(U)),b(U);break;case Sh.TIMEOUT:$e(Ri,`RPC '${e}' ${p} timed out`),w(new Ze(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const F=E.getStatus();if($e(Ri,`RPC '${e}' ${p} failed with status:`,F,"response text:",E.getResponseText()),F>0){let te=E.getResponseJson();Array.isArray(te)&&(te=te[0]);const k=te?.error;if(k&&k.status&&k.message){const Me=(function(Pe){const Ne=Pe.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(Ne)>=0?Ne:Ae.UNKNOWN})(k.status);w(new Ze(Me,k.message))}else w(new Ze(Ae.UNKNOWN,"Server responded with status "+E.getStatus()))}else w(new Ze(Ae.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:p,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{$e(Ri,`RPC '${e}' ${p} completed.`)}}));const M=JSON.stringify(l);$e(Ri,`RPC '${e}' ${p} sending request:`,l),E.send(i,"POST",M,s,15)}))}T_(e,i,s){const l=Xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=xb(),b=Ob(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(w.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(w.useFetchStreams=!0),this.jo(w.initMessageHeaders,i,s),w.encodeInitMessageHeaders=!0;const M=c.join("");$e(Ri,`Creating RPC '${e}' stream ${l}: ${M}`,w);const U=p.createWebChannel(M,w);this.I_(U);let F=!1,te=!1;const k=new $2({Yo:be=>{te?$e(Ri,`Not sending because RPC '${e}' stream ${l} is closed:`,be):(F||($e(Ri,`Opening RPC '${e}' stream ${l} transport.`),U.open(),F=!0),$e(Ri,`RPC '${e}' stream ${l} sending:`,be),U.send(be))},Zo:()=>U.close()}),Me=(be,Pe,Ne)=>{be.listen(Pe,(ze=>{try{Ne(ze)}catch(je){setTimeout((()=>{throw je}),0)}}))};return Me(U,Pu.EventType.OPEN,(()=>{te||($e(Ri,`RPC '${e}' stream ${l} transport opened.`),k.o_())})),Me(U,Pu.EventType.CLOSE,(()=>{te||(te=!0,$e(Ri,`RPC '${e}' stream ${l} transport closed`),k.a_(),this.E_(U))})),Me(U,Pu.EventType.ERROR,(be=>{te||(te=!0,Ll(Ri,`RPC '${e}' stream ${l} transport errored. Name:`,be.name,"Message:",be.message),k.a_(new Ze(Ae.UNAVAILABLE,"The operation could not be completed")))})),Me(U,Pu.EventType.MESSAGE,(be=>{if(!te){const Pe=be.data[0];hn(!!Pe,16349);const Ne=Pe,ze=Ne?.error||Ne[0]?.error;if(ze){$e(Ri,`RPC '${e}' stream ${l} received error:`,ze);const je=ze.status;let Ke=(function(j){const V=$n[j];if(V!==void 0)return dw(V)})(je),it=ze.message;Ke===void 0&&(Ke=Ae.INTERNAL,it="Unknown error status: "+je+" with message "+ze.message),te=!0,k.a_(new Ze(Ke,it)),U.close()}else $e(Ri,`RPC '${e}' stream ${l} received:`,Pe),k.u_(Pe)}})),Me(b,Db.STAT_EVENT,(be=>{be.stat===Vm.PROXY?$e(Ri,`RPC '${e}' stream ${l} detected buffering proxy`):be.stat===Vm.NOPROXY&&$e(Ri,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function bm(){return typeof document<"u"?document:null}function ff(a){return new n2(a,!0)}class Cw{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&$e("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const c0="PersistentStream";class Iw{constructor(e,i,s,l,c,p,b,w){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=w,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cw(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Ae.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new Ze(Ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return $e(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():($e(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z2 extends Iw{constructor(e,i,s,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=a2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return _t.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?_t.min():p.readTime?Sa(p.readTime):_t.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Gm(this.serializer),i.addTarget=(function(c,p){let b;const w=p.target;if(b=zm(w)?{documents:l2(c,w)}:{query:u2(c,w).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=gw(c,p.resumeToken);const E=Fm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}else if(p.snapshotVersion.compareTo(_t.min())>0){b.readTime=Yh(c,p.snapshotVersion.toTimestamp());const E=Fm(c,p.expectedCount);E!==null&&(b.expectedCount=E)}return b})(this.serializer,e);const s=h2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Gm(this.serializer),i.removeTarget=e,this.q_(i)}}class eI extends Iw{constructor(e,i,s,l,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=o2(e.writeResults,e.commitTime),s=Sa(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Gm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>s2(this.serializer,s)))};this.q_(i)}}class tI{}class nI extends tI{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(e,Hm(i,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ze(Ae.UNKNOWN,c.toString())}))}Ho(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(e,Hm(i,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ze(Ae.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):$e("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fo="RemoteStore";class rI{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Yo(this)&&($e(Fo,"Restarting streams for network reachability change."),await(async function(w){const E=Tt(w);E.Ea.add(4),await hc(E),E.Ra.set("Unknown"),E.Ea.delete(4),await df(E)})(this))}))})),this.Ra=new iI(s,l)}}async function df(a){if(Yo(a))for(const e of a.da)await e(!0)}async function hc(a){for(const e of a.da)await e(!1)}function Mw(a,e){const i=Tt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Cp(i)?Rp(i):Kl(i).O_()&&Sp(i,e))}function Ap(a,e){const i=Tt(a),s=Kl(i);i.Ia.delete(e),s.O_()&&Dw(i,e),i.Ia.size===0&&(s.O_()?s.L_():Yo(i)&&i.Ra.set("Unknown"))}function Sp(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Kl(a).Y_(e)}function Dw(a,e){a.Va.Ue(e),Kl(a).Z_(e)}function Rp(a){a.Va=new JC({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Kl(a).start(),a.Ra.ua()}function Cp(a){return Yo(a)&&!Kl(a).x_()&&a.Ia.size>0}function Yo(a){return Tt(a).Ea.size===0}function Ow(a){a.Va=void 0}async function aI(a){a.Ra.set("Online")}async function sI(a){a.Ia.forEach(((e,i)=>{Sp(a,e)}))}async function oI(a,e){Ow(a),Cp(a)?(a.Ra.ha(e),Rp(a)):a.Ra.set("Unknown")}async function lI(a,e,i){if(a.Ra.set("Online"),e instanceof pw&&e.state===2&&e.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(a,e)}catch(s){$e(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(a,s)}else if(e instanceof Mh?a.Va.Ze(e):e instanceof mw?a.Va.st(e):a.Va.tt(e),!i.isEqual(_t.min()))try{const s=await Rw(a.localStore);i.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((w,E)=>{if(w.resumeToken.approximateByteSize()>0){const M=c.Ia.get(E);M&&c.Ia.set(E,M.withResumeToken(w.resumeToken,p))}})),b.targetMismatches.forEach(((w,E)=>{const M=c.Ia.get(w);if(!M)return;c.Ia.set(w,M.withResumeToken(bi.EMPTY_BYTE_STRING,M.snapshotVersion)),Dw(c,w);const U=new eo(M.target,w,E,M.sequenceNumber);Sp(c,U)})),c.remoteSyncer.applyRemoteEvent(b)})(a,i)}catch(s){$e(Fo,"Failed to raise snapshot:",s),await Qh(a,s)}}async function Qh(a,e,i){if(!Ql(e))throw e;a.Ea.add(1),await hc(a),a.Ra.set("Offline"),i||(i=()=>Rw(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{$e(Fo,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await df(a)}))}function xw(a,e){return e().catch((i=>Qh(a,i,e)))}async function mf(a){const e=Tt(a),i=co(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cp;for(;uI(e);)try{const l=await q2(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,cI(e,l)}catch(l){await Qh(e,l)}Nw(e)&&Vw(e)}function uI(a){return Yo(a)&&a.Ta.length<10}function cI(a,e){a.Ta.push(e);const i=co(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Nw(a){return Yo(a)&&!co(a).x_()&&a.Ta.length>0}function Vw(a){co(a).start()}async function hI(a){co(a).ra()}async function fI(a){const e=co(a);for(const i of a.Ta)e.ea(i.mutations)}async function dI(a,e,i){const s=a.Ta.shift(),l=yp.from(s,e,i);await xw(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await mf(a)}async function mI(a,e){e&&co(a).X_&&await(async function(s,l){if((function(p){return KC(p)&&p!==Ae.ABORTED})(l.code)){const c=s.Ta.shift();co(s).B_(),await xw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await mf(s)}})(a,e),Nw(a)&&Vw(a)}async function h0(a,e){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),$e(Fo,"RemoteStore received new credentials");const s=Yo(i);i.Ea.add(3),await hc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await df(i)}async function pI(a,e){const i=Tt(a);e?(i.Ea.delete(2),await df(i)):e||(i.Ea.add(2),await hc(i),i.Ra.set("Unknown"))}function Kl(a){return a.ma||(a.ma=(function(i,s,l){const c=Tt(i);return c.sa(),new Z2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:aI.bind(null,a),t_:sI.bind(null,a),r_:oI.bind(null,a),H_:lI.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Cp(a)?Rp(a):a.Ra.set("Unknown")):(await a.ma.stop(),Ow(a))}))),a.ma}function co(a){return a.fa||(a.fa=(function(i,s,l){const c=Tt(i);return c.sa(),new eI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:hI.bind(null,a),r_:mI.bind(null,a),ta:fI.bind(null,a),na:dI.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await mf(a)):(await a.fa.stop(),a.Ta.length>0&&($e(Fo,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Ip{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const p=Date.now()+s,b=new Ip(e,i,p,l,c);return b.start(s),b}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(a,e){if(fs("AsyncQueue",`${e}: ${a}`),Ql(a))return new Ze(Ae.UNAVAILABLE,`${e}: ${a}`);throw a}class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=ku(),this.sortedSet=new Vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Vl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class f0{constructor(){this.ga=new Vn(ct.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Fl{constructor(e,i,s,l,c,p,b,w,E){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=w,this.hasCachedResults=E}static fromInitialDocuments(e,i,s,l,c){const p=[];return i.forEach((b=>{p.push({type:0,doc:b})})),new Fl(e,i,Vl.emptySet(i),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class gI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yI{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Tt(i),c=l.queries;l.queries=d0(),c.forEach(((p,b)=>{for(const w of b.Sa)w.onError(s)}))})(this,new Ze(Ae.ABORTED,"Firestore shutting down"))}}function d0(){return new qo((a=>ew(a)),of)}async function vI(a,e){const i=Tt(a);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new gI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(p){const b=Mp(p,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(b)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Dp(i)}async function _I(a,e){const i=Tt(a),s=e.query;let l=3;const c=i.queries.get(s);if(c){const p=c.Sa.indexOf(e);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function bI(a,e){const i=Tt(a);let s=!1;for(const l of e){const c=l.query,p=i.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&Dp(i)}function wI(a,e,i){const s=Tt(a),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(e)}function Dp(a){a.Ca.forEach((e=>{e.next()}))}var Qm,m0;(m0=Qm||(Qm={})).Ma="default",m0.Cache="cache";class EI{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Fl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class Pw{constructor(e){this.key=e}}class kw{constructor(e){this.key=e}}class TI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=tw(e),this.tu=new Vl(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new f0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,p=l,b=!1;const w=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((M,U)=>{const F=l.get(M),te=lf(this.query,U)?U:null,k=!!F&&this.mutatedKeys.has(F.key),Me=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let be=!1;F&&te?F.data.isEqual(te.data)?k!==Me&&(s.track({type:3,doc:te}),be=!0):this.su(F,te)||(s.track({type:2,doc:te}),be=!0,(w&&this.eu(te,w)>0||E&&this.eu(te,E)<0)&&(b=!0)):!F&&te?(s.track({type:0,doc:te}),be=!0):F&&!te&&(s.track({type:1,doc:F}),be=!0,(w||E)&&(b=!0)),be&&(te?(p=p.add(te),c=Me?c.add(M):c.delete(M)):(p=p.delete(M),c=c.delete(M)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const M=this.query.limitType==="F"?p.last():p.first();p=p.delete(M.key),c=c.delete(M.key),s.track({type:1,doc:M})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const p=e.iu.ya();p.sort(((M,U)=>(function(te,k){const Me=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:be})}};return Me(te)-Me(k)})(M.type,U.type)||this.eu(M.doc,U.doc))),this.ou(s),l=l??!1;const b=i&&!l?this._u():[],w=this.Xa.size===0&&this.current&&!l?1:0,E=w!==this.Za;return this.Za=w,p.length!==0||E?{snapshot:new Fl(this.query,e.tu,c,p,e.mutatedKeys,w===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new kw(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Pw(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Op="SyncEngine";class AI{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class SI{constructor(e){this.key=e,this.hu=!1}}class RI{constructor(e,i,s,l,c,p){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new qo((b=>ew(b)),of),this.Iu=new Map,this.Eu=new Set,this.du=new Vn(ct.comparator),this.Au=new Map,this.Ru=new bp,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CI(a,e,i=!0){const s=Fw(a);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Lw(s,e,i,!0),l}async function II(a,e){const i=Fw(a);await Lw(i,e,!0,!1)}async function Lw(a,e,i,s){const l=await G2(a.localStore,Aa(e)),c=l.targetId,p=a.sharedClientState.addLocalQueryTarget(c,i);let b;return s&&(b=await MI(a,e,c,p==="current",l.resumeToken)),a.isPrimaryClient&&i&&Mw(a.remoteStore,l),b}async function MI(a,e,i,s,l){a.pu=(U,F,te)=>(async function(Me,be,Pe,Ne){let ze=be.view.ru(Pe);ze.Cs&&(ze=await s0(Me.localStore,be.query,!1).then((({documents:H})=>be.view.ru(H,ze))));const je=Ne&&Ne.targetChanges.get(be.targetId),Ke=Ne&&Ne.targetMismatches.get(be.targetId)!=null,it=be.view.applyChanges(ze,Me.isPrimaryClient,je,Ke);return g0(Me,be.targetId,it.au),it.snapshot})(a,U,F,te);const c=await s0(a.localStore,e,!0),p=new TI(e,c.Qs),b=p.ru(c.documents),w=cc.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),E=p.applyChanges(b,a.isPrimaryClient,w);g0(a,i,E.au);const M=new AI(e,i,p);return a.Tu.set(e,M),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),E.snapshot}async function DI(a,e,i){const s=Tt(a),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!of(p,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Ym(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Ap(s.remoteStore,l.targetId),Km(s,l.targetId)})).catch(Xl)):(Km(s,l.targetId),await Ym(s.localStore,l.targetId,!0))}async function OI(a,e){const i=Tt(a),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ap(i.remoteStore,s.targetId))}async function xI(a,e,i){const s=zI(a);try{const l=await(function(p,b){const w=Tt(p),E=Mn.now(),M=b.reduce(((te,k)=>te.add(k.key)),qt());let U,F;return w.persistence.runTransaction("Locally write mutations","readwrite",(te=>{let k=ds(),Me=qt();return w.Ns.getEntries(te,M).next((be=>{k=be,k.forEach(((Pe,Ne)=>{Ne.isValidDocument()||(Me=Me.add(Pe))}))})).next((()=>w.localDocuments.getOverlayedDocuments(te,k))).next((be=>{U=be;const Pe=[];for(const Ne of b){const ze=qC(Ne,U.get(Ne.key).overlayedDocument);ze!=null&&Pe.push(new Go(Ne.key,ze,Yb(ze.value.mapValue),os.exists(!0)))}return w.mutationQueue.addMutationBatch(te,E,Pe,b)})).next((be=>{F=be;const Pe=be.applyToLocalDocumentSet(U,Me);return w.documentOverlayCache.saveOverlays(te,be.batchId,Pe)}))})).then((()=>({batchId:F.batchId,changes:iw(U)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,w){let E=p.Vu[p.currentUser.toKey()];E||(E=new Vn(Ht)),E=E.insert(b,w),p.Vu[p.currentUser.toKey()]=E})(s,l.batchId,i),await fc(s,l.changes),await mf(s.remoteStore)}catch(l){const c=Mp(l,"Failed to persist write");i.reject(c)}}async function Uw(a,e){const i=Tt(a);try{const s=await F2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const p=i.Au.get(c);p&&(hn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?hn(p.hu,14607):l.removedDocuments.size>0&&(hn(p.hu,42227),p.hu=!1))})),await fc(i,s,e)}catch(s){await Xl(s)}}function p0(a,e,i){const s=Tt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(e);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const w=Tt(p);w.onlineState=b;let E=!1;w.queries.forEach(((M,U)=>{for(const F of U.Sa)F.va(b)&&(E=!0)})),E&&Dp(w)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NI(a,e,i){const s=Tt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let p=new Vn(ct.comparator);p=p.insert(c,Ii.newNoDocument(c,_t.min()));const b=qt().add(c),w=new hf(_t.min(),new Map,new Vn(Ht),p,b);await Uw(s,w),s.du=s.du.remove(c),s.Au.delete(e),xp(s)}else await Ym(s.localStore,e,!1).then((()=>Km(s,e,i))).catch(Xl)}async function VI(a,e){const i=Tt(a),s=e.batch.batchId;try{const l=await B2(i.localStore,e);jw(i,s,null),zw(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await fc(i,l)}catch(l){await Xl(l)}}async function PI(a,e,i){const s=Tt(a);try{const l=await(function(p,b){const w=Tt(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let M;return w.mutationQueue.lookupMutationBatch(E,b).next((U=>(hn(U!==null,37113),M=U.keys(),w.mutationQueue.removeMutationBatch(E,U)))).next((()=>w.mutationQueue.performConsistencyCheck(E))).next((()=>w.documentOverlayCache.removeOverlaysForBatchId(E,M,b))).next((()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,M))).next((()=>w.localDocuments.getDocuments(E,M)))}))})(s.localStore,e);jw(s,e,i),zw(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await fc(s,l)}catch(l){await Xl(l)}}function zw(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function jw(a,e,i){const s=Tt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Km(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||Bw(a,s)}))}function Bw(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Ap(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),xp(a))}function g0(a,e,i){for(const s of i)s instanceof Pw?(a.Ru.addReference(s.key,e),kI(a,s)):s instanceof kw?($e(Op,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Bw(a,s.key)):gt(19791,{wu:s})}function kI(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||($e(Op,"New document in limbo: "+i),a.Eu.add(s),xp(a))}function xp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ct(An.fromString(e)),s=a.fu.next();a.Au.set(s,new SI(i)),a.du=a.du.insert(i,s),Mw(a.remoteStore,new eo(Aa(pp(i.path)),s,"TargetPurposeLimboResolution",rf.ce))}}async function fc(a,e,i){const s=Tt(a),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,w)=>{p.push(s.pu(w,e,i).then((E=>{if((E||i)&&s.isPrimaryClient){const M=E?!E.fromCache:i?.targetChanges.get(w.targetId)?.current;s.sharedClientState.updateQueryState(w.targetId,M?"current":"not-current")}if(E){l.push(E);const M=Ep.As(w.targetId,E);c.push(M)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(w,E){const M=Tt(w);try{await M.persistence.runTransaction("notifyLocalViewChanges","readwrite",(U=>Se.forEach(E,(F=>Se.forEach(F.Es,(te=>M.persistence.referenceDelegate.addReference(U,F.targetId,te))).next((()=>Se.forEach(F.ds,(te=>M.persistence.referenceDelegate.removeReference(U,F.targetId,te)))))))))}catch(U){if(!Ql(U))throw U;$e(Tp,"Failed to update sequence numbers: "+U)}for(const U of E){const F=U.targetId;if(!U.fromCache){const te=M.Ms.get(F),k=te.snapshotVersion,Me=te.withLastLimboFreeSnapshotVersion(k);M.Ms=M.Ms.insert(F,Me)}}})(s.localStore,c))}async function LI(a,e){const i=Tt(a);if(!i.currentUser.isEqual(e)){$e(Op,"User change. New user:",e.toKey());const s=await Sw(i.localStore,e);i.currentUser=e,(function(c,p){c.mu.forEach((b=>{b.forEach((w=>{w.reject(new Ze(Ae.CANCELLED,p))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fc(i,s.Ls)}}function UI(a,e){const i=Tt(a),s=i.Au.get(e);if(s&&s.hu)return qt().add(s.key);{let l=qt();const c=i.Iu.get(e);if(!c)return l;for(const p of c){const b=i.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function Fw(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NI.bind(null,e),e.Pu.H_=bI.bind(null,e.eventManager),e.Pu.yu=wI.bind(null,e.eventManager),e}function zI(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PI.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return j2(this.persistence,new L2,e.initialUser,this.serializer)}Cu(e){return new Aw(wp.mi,this.serializer)}Du(e){return new X2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class jI extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){hn(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new E2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new Aw((s=>Xh.mi(s,i)),this.serializer)}}class Wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>p0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LI.bind(null,this.syncEngine),await pI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yI})()}createDatastore(e){const i=ff(e.databaseInfo.databaseId),s=(function(c){return new J2(c)})(e.databaseInfo);return(function(c,p,b,w){return new nI(c,p,b,w)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,p,b){return new rI(s,l,c,p,b)})(this.localStore,this.datastore,e.asyncQueue,(i=>p0(this.syncEngine,i,0)),(function(){return u0.v()?new u0:new Q2})())}createSyncEngine(e,i){return(function(l,c,p,b,w,E,M){const U=new RI(l,c,p,b,w,E);return M&&(U.gu=!0),U})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);$e(Fo,"RemoteStore shutting down."),s.Ea.add(5),await hc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wm.provider={build:()=>new Wm};class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ho="FirestoreClient";class FI{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ci.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{$e(ho,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>($e(ho,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Mp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wm(a,e){a.asyncQueue.verifyOperationInProgress(),$e(ho,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Sw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function y0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await HI(a);$e(ho,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>h0(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>h0(e.remoteStore,l))),a._onlineComponents=e}async function HI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){$e(ho,"Using user provided OfflineComponentProvider");try{await wm(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Ae.FAILED_PRECONDITION||l.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ll("Error using user provided cache. Falling back to memory cache: "+i),await wm(a,new Kh)}}else $e(ho,"Using default OfflineComponentProvider"),await wm(a,new jI(void 0));return a._offlineComponents}async function Hw(a){return a._onlineComponents||(a._uninitializedComponentsProvider?($e(ho,"Using user provided OnlineComponentProvider"),await y0(a,a._uninitializedComponentsProvider._online)):($e(ho,"Using default OnlineComponentProvider"),await y0(a,new Wm))),a._onlineComponents}function qI(a){return Hw(a).then((e=>e.syncEngine))}async function v0(a){const e=await Hw(a),i=e.eventManager;return i.onListen=CI.bind(null,e.syncEngine),i.onUnlisten=DI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=II.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=OI.bind(null,e.syncEngine),i}function qw(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const _0=new Map;const Gw="firestore.googleapis.com",b0=!0;class w0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gw,this.ssl=b0}else this.host=e.host,this.ssl=e.ssl??b0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b2)throw new Ze(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QR;switch(s.type){case"firstParty":return new JR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ze(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=_0.get(i);s&&($e("ComponentProvider","Removing Datastore"),_0.delete(i),s.terminate())})(this),Promise.resolve()}}function GI(a,e,i,s={}){a=Bu(a,pf);const l=Hl(e),c=a._getSettings(),p={...c,emulatorOptions:a._getEmulatorOptions()},b=`${e}:${i}`;l&&(F0(`https://${b}`),H0("Firestore",!0)),c.host!==Gw&&c.host!==b&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w={...c,host:b,ssl:l,emulatorOptions:s};if(!Uo(w,p)&&(a._setSettings(w),s.mockUserToken)){let E,M;if(typeof s.mockUserToken=="string")E=s.mockUserToken,M=Ci.MOCK_USER;else{E=y1(s.mockUserToken,a._app?.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Ze(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Ci(U)}a._authCredentials=new KR(new Vb(E,M))}}class Wl{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wl(this.firestore,e,this._query)}}class ii{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(oc(i,ii._jsonSchema))return new ii(e,s||null,new ct(An.fromString(i.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:Zn("string",ii._jsonSchemaVersion),referencePath:Zn("string")};class ao extends Wl{constructor(e,i,s){super(e,i,pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new ct(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function Yw(a,e,...i){if(a=lr(a),Pb("collection","path",e),a instanceof pf){const s=An.fromString(e,...i);return N_(s),new ao(a,null,s)}{if(!(a instanceof ii||a instanceof ao))throw new Ze(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(An.fromString(e,...i));return N_(s),new ao(a.firestore,null,s)}}function YI(a,e,...i){if(a=lr(a),arguments.length===1&&(e=up.newId()),Pb("doc","path",e),a instanceof pf){const s=An.fromString(e,...i);return x_(s),new ii(a,null,new ct(s))}{if(!(a instanceof ii||a instanceof ao))throw new Ze(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(An.fromString(e,...i));return x_(s),new ii(a.firestore,a instanceof ao?a.converter:null,new ct(s))}}const E0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cw(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&$e(E0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=bm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=bm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ko;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;$e(E0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",A0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Ip.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:A0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function A0(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function S0(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Wh extends pf{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new T0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function XI(a,e){const i=typeof a=="object"?a:X0(),s=typeof a=="string"?a:jh,l=Zm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=p1("firestore");c&&GI(l,...c)}return l}function Xw(a){if(a._terminated)throw new Ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||QI(a),a._firestoreClient}function QI(a){const e=a._freezeSettings(),i=(function(l,c,p,b){return new pC(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,qw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new FI(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(bi.fromBase64String(e))}catch(i){throw new Ze(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yr(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:Zn("string",Yr._jsonSchemaVersion),bytes:Zn("string")};class Np{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Ze(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qw{constructor(e){this._methodName=e}}class Ra{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Ze(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ra._jsonSchemaVersion}}static fromJSON(e){if(oc(e,Ra._jsonSchema))return new Ra(e.latitude,e.longitude)}}Ra._jsonSchemaVersion="firestore/geoPoint/1.0",Ra._jsonSchema={type:Zn("string",Ra._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};class Ca{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,Ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ca(e.vectorValues);throw new Ze(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ca._jsonSchemaVersion="firestore/vectorValue/1.0",Ca._jsonSchema={type:Zn("string",Ca._jsonSchemaVersion),vectorValues:Zn("object")};const KI=/^__.*__$/;class WI{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,i,this.fieldTransforms):new uc(e,this.data,i,this.fieldTransforms)}}function Kw(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:a})}}class Vp{constructor(e,i,s,l,c,p){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Kw(this.Ac)&&KI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $I{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||ff(e)}Cc(e,i,s,l=!1){return new Vp({Ac:e,methodName:i,Dc:s,path:_i.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ww(a){const e=a._freezeSettings(),i=ff(a._databaseId);return new $I(a._databaseId,!!e.ignoreUndefinedProperties,i)}function JI(a,e,i,s,l,c={}){const p=a.Cc(c.merge||c.mergeFields?2:0,e,i,l);Zw("Data must be an object, but it was:",p,s);const b=$w(s,p);let w,E;if(c.merge)w=new ra(p.fieldMask),E=p.fieldTransforms;else if(c.mergeFields){const M=[];for(const U of c.mergeFields){const F=eM(e,U,i);if(!p.contains(F))throw new Ze(Ae.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);nM(M,F)||M.push(F)}w=new ra(M),E=p.fieldTransforms.filter((U=>w.covers(U.field)))}else w=null,E=p.fieldTransforms;return new WI(new Gr(b),w,E)}function ZI(a,e,i,s=!1){return Pp(i,a.Cc(s?4:3,e))}function Pp(a,e){if(Jw(a=lr(a)))return Zw("Unsupported field value:",e,a),$w(a,e);if(a instanceof Qw)return(function(s,l){if(!Kw(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let w=Pp(b,l.wc(p));w==null&&(w={nullValue:"NULL_VALUE"}),c.push(w),p++}return{arrayValue:{values:c}}})(a,e)}return(function(s,l){if((s=lr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Mn.fromDate(s);return{timestampValue:Yh(l.serializer,c)}}if(s instanceof Mn){const c=new Mn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(l.serializer,c)}}if(s instanceof Ra)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yr)return{bytesValue:gw(l.serializer,s._byteString)};if(s instanceof ii){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_p(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ca)return(function(p,b){return{mapValue:{fields:{[qb]:{stringValue:Gb},[Bh]:{arrayValue:{values:p.toArray().map((E=>{if(typeof E!="number")throw b.Sc("VectorValues must only contain numeric values.");return gp(b.serializer,E)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${nf(s)}`)})(a,e)}function $w(a,e){const i={};return Ub(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(a,((s,l)=>{const c=Pp(l,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function Jw(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Mn||a instanceof Ra||a instanceof Yr||a instanceof ii||a instanceof Qw||a instanceof Ca)}function Zw(a,e,i){if(!Jw(i)||!kb(i)){const s=nf(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function eM(a,e,i){if((e=lr(e))instanceof Np)return e._internalPath;if(typeof e=="string")return eE(a,e);throw $h("Field path arguments must be of type string or ",a,!1,void 0,i)}const tM=new RegExp("[~\\*/\\[\\]]");function eE(a,e,i){if(e.search(tM)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Np(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function $h(a,e,i,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${e}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let w="";return(c||p)&&(w+=" (found",c&&(w+=` in field ${s}`),p&&(w+=` in document ${l}`),w+=")"),new Ze(Ae.INVALID_ARGUMENT,b+a+w)}function nM(a,e){return a.some((i=>i.isEqual(e)))}class tE{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(nE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iM extends tE{data(){return super.data()}}function nE(a,e){return typeof e=="string"?eE(a,e):e instanceof Np?e._internalPath:e._delegate._internalPath}function rM(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new Ze(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class aM extends kp{}function sM(a,e,...i){let s=[];e instanceof kp&&s.push(e),s=s.concat(i),(function(c){const p=c.filter((w=>w instanceof Up)).length,b=c.filter((w=>w instanceof Lp)).length;if(p>1||p>0&&b>0)throw new Ze(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class Lp extends aM{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Lp(e,i,s)}_apply(e){const i=this._parse(e);return iE(e._query,i),new Wl(e.firestore,e.converter,jm(e._query,i))}_parse(e){const i=Ww(e.firestore);return(function(c,p,b,w,E,M,U){let F;if(E.isKeyField()){if(M==="array-contains"||M==="array-contains-any")throw new Ze(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if(M==="in"||M==="not-in"){C0(U,M);const k=[];for(const Me of U)k.push(R0(w,c,Me));F={arrayValue:{values:k}}}else F=R0(w,c,U)}else M!=="in"&&M!=="not-in"&&M!=="array-contains-any"||C0(U,M),F=ZI(b,p,U,M==="in"||M==="not-in");return Jn.create(E,M,F)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Up extends kp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Up(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:aa.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const w of b)iE(p,w),p=jm(p,w)})(e._query,i),new Wl(e.firestore,e.converter,jm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R0(a,e,i){if(typeof(i=lr(i))=="string"){if(i==="")throw new Ze(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&i.indexOf("/")!==-1)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(An.fromString(i));if(!ct.isDocumentKey(s))throw new Ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B_(a,new ct(s))}if(i instanceof ii)return B_(a,i._key);throw new Ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(i)}.`)}function C0(a,e){if(!Array.isArray(a)||a.length===0)throw new Ze(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iE(a,e){const i=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new Ze(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class oM{convertValue(e,i="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ho(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Bh].arrayValue?.values?.map((s=>Gn(s.doubleValue)));return new Ca(i)}convertGeoPoint(e){return new Ra(Gn(e.latitude),Gn(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const i=oo(e);return new Mn(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=An.fromString(e);hn(Ew(s),9688,{name:e});const l=new Wu(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function lM(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Uu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lo extends tE{constructor(e,i,s,l,c,p){super(e,i,s,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(nE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Lo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lo._jsonSchema={type:Zn("string",Lo._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class Dh extends Lo{data(e={}){return super.data(e)}}class Pl{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Uu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Dh(this._firestore,this._userDataWriter,s.key,s,new Uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ze(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Uu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:w,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const w=new Dh(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Uu(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,M=-1;return b.type!==0&&(E=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),M=p.indexOf(b.doc.key)),{type:uM(b.type),doc:w,oldIndex:E,newIndex:M}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:Zn("string",Pl._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class rE extends oM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,i)}}function cM(a,e){const i=Bu(a.firestore,Wh),s=YI(a),l=lM(a.converter,e);return fM(i,[JI(Ww(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,os.exists(!1))]).then((()=>s))}function hM(a,...e){a=lr(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||S0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(S0(e[s])){const w=e[s];e[s]=w.next?.bind(w),e[s+1]=w.error?.bind(w),e[s+2]=w.complete?.bind(w)}let c,p,b;if(a instanceof ii)p=Bu(a.firestore,Wh),b=pp(a._key.path),c={next:w=>{e[s]&&e[s](dM(p,a,w))},error:e[s+1],complete:e[s+2]};else{const w=Bu(a,Wl);p=Bu(w.firestore,Wh),b=w._query;const E=new rE(p);c={next:M=>{e[s]&&e[s](new Pl(p,E,w,M))},error:e[s+1],complete:e[s+2]},rM(a._query)}return(function(E,M,U,F){const te=new BI(F),k=new EI(M,te,U);return E.asyncQueue.enqueueAndForget((async()=>vI(await v0(E),k))),()=>{te.Nu(),E.asyncQueue.enqueueAndForget((async()=>_I(await v0(E),k)))}})(Xw(p),b,l,c)}function fM(a,e){return(function(s,l){const c=new ko;return s.asyncQueue.enqueueAndForget((async()=>xI(await qI(s),l,c))),c.promise})(Xw(a),e)}function dM(a,e,i){const s=i.docs.get(e._key),l=new rE(a);return new Lo(a,l,e._key,s,new Uu(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Yl=l})(ql),kl(new zo("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Wh(new WR(s.getProvider("auth-internal")),new ZR(p,s.getProvider("app-check-internal")),(function(E,M){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ze(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(E.options.projectId,M)})(p,l),p);return c={useFetchStreams:i,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),io(I_,M_,e),io(I_,M_,"esm2020")})();const mM={apiKey:"AIzaSyDbREHqfDMDLg2kFMBQUdVaKcSEdVKSdTk",authDomain:"long-jump-game.firebaseapp.com",projectId:"long-jump-game",storageBucket:"long-jump-game.firebasestorage.app",messagingSenderId:"983608423354",appId:"1:983608423354:web:64b5adc4eb1d2f5a80e383"},pM=typeof __firebase_config<"u"?JSON.parse(__firebase_config):mM,aE=Y0(pM),Em=YR(aE),sE=XI(aE),oE=typeof __app_id<"u"?__app_id:"long-jump-game",ht={background:"#f0f0e6",boardBackground:"#824737",boardLines:"#a05a48",tileLocked:"#f8f5ed",tileLockedText:"#111827",tileTemp:"#fef08a",tileTempRing:"#facc15",accentPrimary:"#59AD20",accentSecondary:"#4d961b",textMain:"#1f2937",textSub:"#6b7280",starGold:"#fbbf24",overlayComplete:"#ffffff",startArrow:"#ffffff"},Qs=5,Ks=50,gM=30,I0=40,yM={A:9,B:2,C:2,D:4,E:12,F:2,G:3,H:2,I:9,J:1,K:1,L:4,M:2,N:6,O:8,P:2,Q:1,R:6,S:4,T:6,U:4,V:2,W:2,X:1,Y:2,Z:1},M0=["Neon","Fast","Pink","Blue","Gold","Epic","Cool","Tiny","Mega","Wild","Red","Ice","Fire"],D0=["Fox","Bear","Wolf","Lion","Hawk","Owl","Cat","Dog","Frog","Crab","Pug","Bird"],lE=a=>function(){var e=a+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},uE=a=>{let e=1779033703,i=3144134277,s=1013904242,l=2773480762;for(let c=0,p;c<a.length;c++)p=a.charCodeAt(c),e=i^Math.imul(e^p,597399067),i=s^Math.imul(i^p,2869860233),s=l^Math.imul(s^p,951274213),l=e^Math.imul(l^p,2716044179);return e=Math.imul(s^e>>>18,597399067),i=Math.imul(l^i>>>22,2869860233),s=Math.imul(e^s>>>17,951274213),l=Math.imul(i^l>>>19,2716044179),(e^i^s^l)>>>0},O0=()=>new Date().toISOString().split("T")[0],Tm=({className:a,onClick:e})=>{const{RiveComponent:i}=dh.useRive({src:"/longjumplogo.riv",autoplay:!0,layout:new dh.Layout({fit:dh.Fit.Contain,alignment:dh.Alignment.Center})});return pe.jsx("div",{className:`${a} cursor-pointer`,onClick:e,children:pe.jsx(i,{})})},vM=()=>{const a=Bt.useRef(null);return Bt.useEffect(()=>{const e=a.current,i=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight;e.width=s,e.height=l;const c=[],p=["#f97316","#fbbf24","#ffffff","#ef4444","#3b82f6",ht.accentPrimary];for(let M=0;M<150;M++)c.push({x:Math.random()*s,y:Math.random()*l-l,vx:Math.random()*2-1,vy:Math.random()*3+2,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*5+2,rotation:Math.random()*360,rotationSpeed:Math.random()*2-1});let b;const w=()=>{i.clearRect(0,0,s,l),c.forEach(M=>{M.y+=M.vy,M.x+=M.vx+Math.sin(M.y/50),M.rotation+=M.rotationSpeed,M.y>l&&(M.y=-10,M.x=Math.random()*s),i.save(),i.translate(M.x,M.y),i.rotate(M.rotation*Math.PI/180),i.fillStyle=M.color,i.fillRect(-M.size/2,-M.size/2,M.size,M.size),i.restore()}),b=requestAnimationFrame(w)};w();const E=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E),cancelAnimationFrame(b)}},[]),pe.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-50"})},Am=({highlightName:a,user:e})=>{const[i,s]=Bt.useState([]),[l,c]=Bt.useState(!0),[p,b]=Bt.useState("daily");return Bt.useEffect(()=>{if(!e)return;c(!0);const w=Yw(sE,"artifacts",oE,"public","data","scores"),E=sM(w),M=hM(E,U=>{const F=new Date,te=F.toISOString().split("T")[0],k=F.getDay(),Me=F.getDate()-k+(k===0?-6:1),be=new Date(F.setDate(Me));be.setHours(0,0,0,0);const Pe=U.docs.map(je=>({id:je.id,...je.data()}));let Ne=[];p==="daily"?Ne=Pe.filter(je=>je.date===te):Ne=Pe.filter(je=>new Date(je.date)>=be);const ze=Ne.sort((je,Ke)=>Ke.score-je.score).slice(0,10);s(ze),c(!1)},U=>{console.error("Error fetching leaderboard:",U),c(!1)});return()=>M()},[e,p]),pe.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-xl border border-white/50 w-full h-full flex flex-col",children:[pe.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2 pb-2 border-b border-gray-100 shrink-0",children:[pe.jsxs("div",{className:"flex items-center gap-2",children:[pe.jsx(QT,{size:20,className:"text-yellow-500"}),pe.jsx("h3",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"Leaders"})]}),pe.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[pe.jsx("button",{onClick:()=>b("daily"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${p==="daily"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Daily"}),pe.jsx("button",{onClick:()=>b("weekly"),className:`px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide transition-all ${p==="weekly"?"bg-white shadow-sm text-black":"text-gray-400 hover:text-gray-600"}`,children:"Weekly"})]})]}),pe.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pr-1",children:l?pe.jsx("div",{className:"text-center py-8 text-gray-400 text-sm animate-pulse",children:"Loading..."}):i.length===0?pe.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm italic",children:["No scores yet.",pe.jsx("br",{}),"Be the first!"]}):pe.jsx("div",{className:"space-y-1",children:i.map((w,E)=>pe.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm transition-all ${w.name===a?`bg-[${ht.accentPrimary}]/10 border border-[${ht.accentPrimary}]/20`:"hover:bg-white/60"}`,style:w.name===a?{backgroundColor:`${ht.accentPrimary}15`,borderColor:`${ht.accentPrimary}30`}:{},children:[pe.jsxs("div",{className:"flex items-center gap-2",children:[pe.jsx("span",{className:`font-black w-5 text-center ${E===0?"text-yellow-500 text-lg":E===1?"text-gray-400 text-base":E===2?"text-orange-700 text-base":"text-gray-300"}`,children:E+1}),pe.jsx("span",{className:`font-bold truncate max-w-[100px] ${w.name===a?"text-black":"text-gray-700"}`,style:w.name===a?{color:ht.accentPrimary}:{},children:w.name})]}),pe.jsxs("span",{className:"font-mono font-black text-gray-900 bg-gray-100 px-2 py-0.5 rounded-md text-xs",children:[w.score,"m"]})]},E))})})]})},x0=()=>{const a=M0[Math.floor(Math.random()*M0.length)],e=D0[Math.floor(Math.random()*D0.length)],i=Math.floor(Math.random()*90)+10;return`${a}${e}${i}`},_M=a=>{const e=uE(a),i=lE(e),s=[],l=15,c=new Set;for(;s.length<l;){const p=Math.floor(i()*Qs),b=Math.floor(i()*Ks);if(b===0)continue;const w=`${p},${b}`;if(!c.has(w)){c.add(w);const E=i();let M=1;E>.5&&(M=2),E>.8&&(M=3),s.push({r:p,c:b,val:M})}}return s},N0=(a,e)=>{const i=uE(e),s=lE(i);let l=[];Object.entries(yM).forEach(([p,b])=>{for(let w=0;w<b;w++)l.push(p)});const c=[];for(let p=0;p<a&&l.length!==0;p++){const b=Math.floor(s()*l.length);c.push(l[b]),l.splice(b,1)}return c},V0=()=>Array(Qs).fill(null).map(()=>Array(Ks).fill(null)),Sm=a=>{if(a.length<=1)return!0;const e=a[0].r,i=a[0].c;return a.every(s=>s.r===e)||a.every(s=>s.c===i)};function bM(){const[a,e]=Bt.useState("menu"),[i,s]=Bt.useState(()=>x0()),[l,c]=Bt.useState(()=>V0()),[p,b]=Bt.useState([]),[w,E]=Bt.useState([]),[M,U]=Bt.useState(null),[F,te]=Bt.useState(null),[k,Me]=Bt.useState([]),[be,Pe]=Bt.useState(0),[Ne,ze]=Bt.useState(0),[je,Ke]=Bt.useState({text:"Goal: Get as far right as you can.",type:"info"}),[it,H]=Bt.useState(!1),[j,V]=Bt.useState(!1),[B,C]=Bt.useState(!1),[P,I]=Bt.useState(!1),[K,le]=Bt.useState(null),[q,J]=Bt.useState(!1),ge=Bt.useRef(null),[he,Re]=Bt.useState(!1),[L,ie]=Bt.useState(0),[Te,we]=Bt.useState(0),Ce=l.some(ee=>ee.some(re=>re!==null));Bt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await xS(Em,__initial_auth_token):await CS(Em)})();const re=PS(Em,le);return()=>re()},[]),Bt.useEffect(()=>{if(Ne===be)return;const ee=500,re=performance.now(),ye=Ne,xe=be,Ve=Be=>{const Je=Be-re,mt=Math.min(Je/ee,1),Ge=1-Math.pow(1-mt,3),wt=Math.floor(ye+(xe-ye)*Ge);ze(wt),mt<1&&requestAnimationFrame(Ve)};requestAnimationFrame(Ve)},[be]),Bt.useEffect(()=>{He()},[]);const He=()=>{const ee=O0();c(V0()),b(N0(gM,ee)),Me([]),Pe(0),ze(0),E(_M(ee)),Ke({text:"Goal: Get as far right as you can.",type:"neutral"}),I(!1),V(!1),C(!1),J(!1),U(null),te(null),ge.current&&(ge.current.scrollLeft=0)},at=()=>{i.trim()||s(x0()),e("playing"),He(),C(!0)},ot=()=>{e("menu"),He()},pt=()=>{V(!0)},Rt=async()=>{if(V(!1),I(!0),J(!0),K)try{const ee=new Date().toISOString().split("T")[0],re=Yw(sE,"artifacts",oE,"public","data","scores");await cM(re,{name:i||"Anonymous",score:be,date:ee,timestamp:Date.now(),userId:K.uid})}catch(ee){console.error("Error saving score:",ee)}J(!1),setTimeout(()=>{e("gameOver"),I(!1)},2e3)},on=()=>{V(!1)},st=ee=>{ee.target.closest('[draggable="true"]')||ee.target.tagName==="BUTTON"||(Re(!0),ie(ee.pageX-ge.current.offsetLeft),we(ge.current.scrollLeft))},bt=()=>{Re(!1)},Gt=()=>{Re(!1)},Lt=ee=>{if(!he)return;ee.preventDefault();const ye=(ee.pageX-ge.current.offsetLeft-L)*1.5;ge.current.scrollLeft=Te-ye},Dn=(ee,re,ye)=>{if(l.every(Je=>Je.every(mt=>mt===null))&&k.length===0&&ye!==0){Ke({text:" Start Game: Place first tile in Column 1",type:"error"});return}const Ve=[...k,{r:re,c:ye,letter:ee}];if(!Sm(Ve)){Ke({text:" Tiles must be placed in a single row or column",type:"error"});return}Me(Ve);const Be=p.lastIndexOf(ee);if(Be!==-1){const Je=[...p];Je.splice(Be,1),b(Je)}je.type==="error"&&Ke({text:"Goal: Get as far right as you can.",type:"neutral"})},ai=ee=>{if(!P){if(F){Dn(ee,F.r,F.c),te(null);return}U(M===ee?null:ee)}},Wt=(ee,re)=>{if(he||P||l[ee]&&l[ee][re])return;const ye=k.findIndex(xe=>xe.r===ee&&xe.c===re);if(ye!==-1){const xe=k[ye],Ve=[...k];Ve.splice(ye,1),Me(Ve),b(Be=>[...Be,xe.letter].sort()),U(null),te(null);return}M!==null?(Dn(M,ee,re),U(null)):F&&F.r===ee&&F.c===re?te(null):te({r:ee,c:re})},tt=(ee,re)=>{P||(ee.dataTransfer.setData("text/plain",JSON.stringify(re)),ee.dataTransfer.effectAllowed="move")},en=ee=>{ee.preventDefault(),ee.dataTransfer.dropEffect="move"},mn=(ee,re,ye)=>{if(P)return;ee.preventDefault(),ee.stopPropagation();const xe=ee.dataTransfer.getData("text/plain");if(!(!xe||!xe.trim()||!xe.trim().startsWith("{")))try{const Ve=JSON.parse(xe);if(l[re]&&l[re][ye])return;const Be=k.findIndex(Je=>Je.r===re&&Je.c===ye);if(Ve.type==="hand"){if(l.every(Ge=>Ge.every(wt=>wt===null))&&k.length===0&&ye!==0){Ke({text:" Start Game: Place first tile in Column 1",type:"error"});return}const mt=Ve.letter;if(Be!==-1){const Ge=k[Be],wt=[...k];wt.splice(Be,1,{r:re,c:ye,letter:mt}),Me(wt),b(wn=>[...wn,Ge.letter].sort());const Nt=p.lastIndexOf(mt);if(Nt!==-1){const wn=[...p];wn.splice(Nt,1),b(wn.sort())}}else{const Ge=[...k,{r:re,c:ye,letter:mt}];if(!Sm(Ge)){Ke({text:" Tiles must be placed in a single row or column",type:"error"});return}Me(Ge);const wt=p.lastIndexOf(mt);if(wt!==-1){const Nt=[...p];Nt.splice(wt,1),b(Nt)}}U(null),te(null),je.type==="error"&&Ke({text:"Goal: Get as far right as you can.",type:"neutral"})}else if(Ve.type==="board"){if(Ve.r===re&&Ve.c===ye)return;if(l.every(wt=>wt.every(Nt=>Nt===null))&&k.length===1&&ye!==0){Ke({text:" Start tile must stay in Column 1",type:"error"});return}const mt=k.findIndex(wt=>wt.r===Ve.r&&wt.c===Ve.c);if(mt===-1)return;let Ge=[...k];if(Be!==-1){const wt=Ge[Be],Nt=k[mt];Ge[Be]={...wt,r:Ve.r,c:Ve.c},Ge[mt]={...Nt,r:re,c:ye}}else Ge[mt]={...Ge[mt],r:re,c:ye};if(!Sm(Ge)){Ke({text:" Tiles must be placed in a single row or column",type:"error"});return}Me(Ge)}}catch{}},ur=ee=>{if(P)return;ee.preventDefault(),ee.stopPropagation();const re=ee.dataTransfer.getData("text/plain");if(!(!re||!re.trim()||!re.trim().startsWith("{")))try{const ye=JSON.parse(re);ye.type==="board"&&(Me(xe=>xe.filter(Ve=>!(Ve.r===ye.r&&Ve.c===ye.c))),b(xe=>[...xe,ye.letter].sort()))}catch{}},Un=(ee,re)=>{if(!l||!l[ee])return null;if(l[ee][re])return{letter:l[ee][re],type:"locked"};const ye=k.find(xe=>xe.r===ee&&xe.c===re);return ye?{letter:ye.letter,type:"temp"}:null},Yt=(ee,re)=>w.find(ye=>ye.r===ee&&ye.c===re),bn=async()=>{if(k.length===0)return;H(!0),Ke({text:"Validating...",type:"info"});const ee=l.map(Je=>[...Je]);k.forEach(Je=>{ee[Je.r]&&(ee[Je.r][Je.c]=Je.letter)});const re=l.every(Je=>Je.every(mt=>mt===null));let ye=!1,xe=!1;if(k.forEach(Je=>{Je.c===0&&(ye=!0),[{r:Je.r+1,c:Je.c},{r:Je.r-1,c:Je.c},{r:Je.r,c:Je.c+1},{r:Je.r,c:Je.c-1}].forEach(Ge=>{Ge.r>=0&&Ge.r<Qs&&Ge.c>=0&&Ge.c<Ks&&l[Ge.r]&&l[Ge.r][Ge.c]&&(xe=!0)})}),re&&!ye){v("First word must start in Column 1.");return}if(!re&&!xe){v("Tiles must connect to existing words.");return}const Be=g(ee).filter(Je=>Je.cells.some(mt=>k.some(Ge=>Ge.r===mt.r&&Ge.c===mt.c)));if(Be.length===0){v("Words must be at least 2 letters.");return}try{const Je=[];for(const mt of Be)await R(mt.word)||Je.push(mt.word);if(Je.length>0){v(`Invalid word(s): ${Je.join(", ")}`);return}x(ee,Be)}catch(Je){console.error(Je),v("Error checking dictionary. Try again.")}},R=async ee=>{if(ee.length===2)return["AM","AN","AS","AT","BE","BY","DO","GO","HE","HI","IF","IN","IS","IT","ME","MY","NO","OF","OH","ON","OR","OX","SO","TO","UP","US","WE"].includes(ee);try{const ye=await(await fetch(`https://api.datamuse.com/words?sp=${ee}&max=1`)).json();return ye.length>0&&ye[0].word.toUpperCase()===ee.toUpperCase()}catch{return!0}},g=ee=>{let re=[];for(let ye=0;ye<Qs;ye++){let xe="",Ve=[];for(let Be=0;Be<Ks;Be++)ee[ye]&&ee[ye][Be]?(xe+=ee[ye][Be],Ve.push({r:ye,c:Be})):(xe.length>1&&re.push({word:xe,cells:[...Ve],type:"H"}),xe="",Ve=[]);xe.length>1&&re.push({word:xe,cells:[...Ve],type:"H"})}for(let ye=0;ye<Ks;ye++){let xe="",Ve=[];for(let Be=0;Be<Qs;Be++)ee[Be]&&ee[Be][ye]?(xe+=ee[Be][ye],Ve.push({r:Be,c:ye})):(xe.length>1&&re.push({word:xe,cells:[...Ve],type:"V"}),xe="",Ve=[]);xe.length>1&&re.push({word:xe,cells:[...Ve],type:"V"})}return re},v=ee=>{Ke({text:ee,type:"error"}),H(!1)},x=(ee,re)=>{c(ee);let ye=0;if(re.forEach(Ve=>{Ve.cells.forEach(Be=>{const Je=Yt(Be.r,Be.c),mt=k.some(Ge=>Ge.r===Be.r&&Ge.c===Be.c);Je&&mt&&(ye+=Je.val)})}),ye>0){const Ve=O0(),Be=N0(ye,Ve);b(Je=>[...Je,...Be].sort()),Ke({text:`Great! +${ye} Bonus Tiles!`,type:"success"})}else Ke({text:"Valid move!",type:"success"});let xe=be-1;k.forEach(Ve=>{Ve.c>xe&&(xe=Ve.c)});for(let Ve=0;Ve<Qs;Ve++)for(let Be=0;Be<Ks;Be++)ee[Ve]&&ee[Ve][Be]&&Be>xe&&(xe=Be);Pe(xe+1),Me([]),H(!1),te(null)},X=()=>{b(ee=>[...ee].sort(()=>Math.random()-.5))},de=()=>{b(ee=>[...ee].sort())},Ie=p.reduce((ee,re)=>(ee[re]=(ee[re]||0)+1,ee),{}),Qe=[...new Set(p)];return a==="gameOver"?pe.jsxs("div",{className:"min-h-screen w-full flex flex-col lg:flex-row items-center justify-center relative overflow-hidden font-sans p-6 gap-12 overflow-y-auto",style:{backgroundColor:ht.background,color:ht.textMain},children:[pe.jsx(vM,{}),pe.jsxs("div",{className:"z-10 bg-white/80 backdrop-blur-md p-12 rounded-3xl shadow-2xl text-center border border-white/50 max-w-md w-full flex-1 self-stretch flex flex-col justify-center lg:h-[600px]",children:[pe.jsx(Tm,{className:"w-full h-32 mx-auto mb-4",onClick:ot}),pe.jsx("h3",{className:"text-2xl font-bold mb-8 tracking-widest uppercase",style:{color:ht.accentPrimary},children:"Complete"}),pe.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100 shadow-inner",children:[pe.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:ht.textSub},children:"Athlete"}),pe.jsx("div",{className:"text-3xl font-black mb-6",style:{color:ht.textMain},children:i}),pe.jsx("div",{className:"text-sm font-bold uppercase tracking-widest mb-1",style:{color:ht.textSub},children:"Distance"}),pe.jsxs("div",{className:"text-6xl font-black",style:{color:ht.accentSecondary},children:[Ne,"m"]})]}),pe.jsx("button",{onClick:ot,className:"w-full py-4 text-white rounded-xl font-bold text-lg uppercase tracking-widest hover:scale-105 transition-all shadow-lg mt-auto",style:{backgroundColor:"#111827"},children:"Play Again"})]}),pe.jsx("div",{className:"z-10 w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:pe.jsx(Am,{highlightName:i,user:K})})]}):a==="menu"?pe.jsxs("div",{className:"min-h-screen w-screen font-sans flex flex-col lg:flex-row items-center justify-center p-4 gap-8 lg:gap-12 overflow-y-auto",style:{backgroundColor:ht.background,color:ht.textMain},children:[pe.jsxs("div",{className:"max-w-md w-full flex flex-col items-center text-center space-y-12 animate-fade-in lg:h-[600px] justify-center shrink-0 flex-1 self-stretch",children:[pe.jsxs("div",{className:"space-y-4 flex flex-col items-center w-full",children:[pe.jsx(Tm,{className:"w-full h-48"}),pe.jsx("p",{className:"text-lg font-medium leading-relaxed max-w-sm mx-auto",style:{color:ht.textSub},children:"Jump as far as you can by building words, connecting tiles and picking up extra letters."})]}),pe.jsxs("div",{className:"w-full max-w-xs space-y-2 group",children:[pe.jsx("label",{className:"block text-xs font-bold tracking-widest uppercase text-left pl-1 transition-colors",style:{color:ht.textSub},children:"Enter your name"}),pe.jsx("input",{type:"text",value:i,onChange:ee=>s(ee.target.value),placeholder:"Player 1",maxLength:12,className:"w-full bg-white border-2 border-transparent outline-none px-6 py-4 rounded-2xl text-2xl font-bold text-center shadow-sm transition-all",style:{color:ht.textMain,borderColor:"transparent"},onFocus:ee=>ee.target.style.borderColor=ht.accentPrimary,onBlur:ee=>ee.target.style.borderColor="transparent",onKeyDown:ee=>ee.key==="Enter"&&at()})]}),pe.jsx("button",{onClick:at,className:"group relative px-12 py-6 text-white rounded-2xl font-black text-xl tracking-widest uppercase shadow-[0_10px_20px_rgba(0,0,0,0.1)] hover:shadow-[0_15px_30px_rgba(0,0,0,0.15)] hover:-translate-y-1 active:translate-y-0 transition-all duration-300 animate-pulse-slow",style:{backgroundColor:ht.accentPrimary},children:pe.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Play Game ",pe.jsx(WT,{size:24,fill:"currentColor"})]})}),pe.jsx("div",{className:"block lg:hidden w-full h-full min-h-[300px]",children:pe.jsx(Am,{user:K})})]}),pe.jsx("div",{className:"hidden lg:block w-full max-w-sm lg:h-[600px] flex-1 self-stretch",children:pe.jsx(Am,{user:K})})]}):pe.jsxs("div",{className:"min-h-screen w-full landscape:h-screen landscape:w-screen landscape:overflow-hidden font-sans flex flex-col items-center",style:{backgroundColor:ht.background,color:ht.textMain},children:[B&&pe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in p-4",children:pe.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-md w-full text-center border border-white/50 relative",children:[pe.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-white p-4 rounded-full shadow-xl",children:pe.jsx(lm,{size:48,style:{color:ht.accentPrimary}})}),pe.jsx("h3",{className:"text-2xl font-black text-gray-800 mt-8 mb-4 uppercase tracking-tight",children:"How to Play"}),pe.jsxs("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:["The goal of the game is to get as",pe.jsx("strong",{children:"far right"}),"in distance as possible.",pe.jsx("br",{}),pe.jsx("br",{}),pe.jsx("strong",{children:"Submit your score"})," when you can't play anymore."]}),pe.jsx("div",{className:"flex justify-center mb-6",children:pe.jsxs("div",{className:"grid grid-cols-6 gap-0 p-2 rounded-lg border-2",style:{backgroundColor:ht.boardBackground,borderColor:ht.boardLines},children:[[...Array(6)].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},re)),["S","T","A","R","T"].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:ht.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:ee},re)),pe.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}}),[...Array(3)].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},re)),pe.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:ht.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:"I"}),[...Array(2)].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},re)),[...Array(3)].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},re)),["P","A","T"].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold shadow-sm border text-white",style:{backgroundColor:ht.accentPrimary,borderColor:"rgba(0,0,0,0.1)"},children:ee},re)),[...Array(6)].map((ee,re)=>pe.jsx("div",{className:"w-8 h-8 border",style:{borderColor:"rgba(0,0,0,0.1)"}},re))]})}),pe.jsx("button",{onClick:()=>C(!1),className:"w-full py-4 rounded-xl font-black text-white shadow-lg hover:scale-105 transition-all uppercase tracking-widest text-lg",style:{backgroundColor:ht.accentPrimary},children:"Let's Jump!"})]})}),j&&pe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm animate-fade-in",children:pe.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-sm w-full mx-4 text-center border border-white/50",children:[pe.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:"Submit Score?"}),pe.jsxs("p",{className:"text-gray-500 mb-8",children:["You reached column ",pe.jsx("strong",{style:{color:ht.accentPrimary},children:be}),". This will end your current run."]}),pe.jsxs("div",{className:"flex gap-3",children:[pe.jsx("button",{onClick:on,className:"flex-1 py-3 rounded-xl font-bold text-gray-500 bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancel"}),pe.jsx("button",{onClick:Rt,className:"flex-1 py-3 rounded-xl font-bold text-white shadow-lg transition-all",style:{backgroundColor:ht.accentPrimary},children:"Confirm"})]})]})}),pe.jsxs("div",{className:"w-full max-w-6xl px-4 pt-4 landscape:pt-2 pb-1 flex justify-between items-end shrink-0 relative",children:[pe.jsxs("div",{className:"w-32 flex items-end",children:[pe.jsx("div",{className:"hidden md:block text-sm font-bold tracking-widest text-gray-500",children:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).toUpperCase()}),pe.jsx("div",{className:"block md:hidden",children:be>0&&pe.jsxs("button",{onClick:pt,disabled:P||it,className:"px-4 py-1 rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827",color:"white"},children:["Submit ",pe.jsx(lm,{size:10,style:{color:ht.starGold}})]})})]}),pe.jsxs("div",{className:"flex flex-col items-center flex-1",children:[pe.jsx("div",{className:"hidden md:block w-48 h-16 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>e("menu"),children:pe.jsx(Tm,{className:"w-full h-full"})}),pe.jsx("div",{className:"hidden md:block",children:be>0&&pe.jsxs("button",{onClick:pt,disabled:P||it,className:"mt-1 px-4 py-1 text-white rounded-full font-bold text-xs uppercase tracking-wider shadow-sm hover:scale-105 transition-all flex items-center gap-2 animate-fade-in",style:{backgroundColor:"#111827"},children:["Submit Score ",pe.jsx(lm,{size:10,style:{color:ht.starGold}})]})})]}),pe.jsx("div",{className:"flex flex-col items-end text-xs font-bold tracking-widest w-32",children:pe.jsx("span",{style:{color:ht.accentPrimary},children:i||"PLAYER 1"})})]}),pe.jsxs("div",{className:"w-full max-w-6xl px-4 mb-1 flex justify-between items-center shrink-0",children:[pe.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${je.type==="error"?"bg-red-100 text-red-700":je.type==="success"?"bg-green-100 text-green-800":"bg-white/50 text-gray-600"}`,children:it?"Checking...":je.text}),pe.jsx("div",{className:"flex gap-6",children:pe.jsxs("div",{className:"text-center",children:[pe.jsx("span",{className:"block text-[10px] uppercase tracking-widest",style:{color:ht.accentPrimary},children:"DISTANCE"}),pe.jsxs("span",{className:"font-black text-2xl transition-all duration-500",style:{color:ht.accentPrimary},children:[Ne,"m"]})]})})]}),pe.jsx("div",{className:"landscape:flex-1 w-full max-w-[95vw] relative flex items-center justify-center min-h-0 landscape:min-h-0 mt-4 landscape:mt-0",onMouseDown:st,onMouseLeave:bt,onMouseUp:Gt,onMouseMove:Lt,children:pe.jsx("div",{ref:ge,className:`
            w-full overflow-x-auto overflow-y-hidden custom-scrollbar flex items-center landscape:h-full no-scrollbar
            ${he?"cursor-grabbing":"cursor-grab"}
            py-8
          `,style:{userSelect:"none"},children:pe.jsx("div",{className:"relative rounded-xl shadow-inner border-4 p-1 mx-4",style:{width:"fit-content",minWidth:"fit-content",backgroundColor:ht.boardBackground,borderColor:ht.boardLines},children:pe.jsx("div",{className:"relative z-10 grid gap-0",style:{gridTemplateColumns:`repeat(${Ks}, ${I0}px)`,gridTemplateRows:`repeat(${Qs}, ${I0}px)`},children:Array(Qs).fill(0).map((ee,re)=>Array(Ks).fill(0).map((ye,xe)=>{const Ve=Un(re,xe),Be=Yt(re,xe),mt=xe===0&&!Ve&&!Ce,Ge=Ve?.type==="locked",wt=(xe+1)%5===0,Nt=xe<Ne,wn=F&&F.r===re&&F.c===xe;return pe.jsxs("div",{onClick:()=>Wt(re,xe),onDragOver:en,onDrop:ui=>mn(ui,re,xe),className:`
                        relative flex items-center justify-center transition-all duration-300 w-full h-full
                        ${Ve?Ve.type==="temp"?"cursor-grab active:cursor-grabbing shadow-sm":"cursor-default shadow-sm":"hover:bg-white/20"}
                        
                        
                        ${Ve?.type==="temp"?`bg-[${ht.tileTemp}] ring-2 ring-[${ht.tileTempRing}] -translate-y-[2px] z-10`:""}
                        ${!Ve&&Nt?"bg-white/20":!Ve&&!mt&&(re+xe)%2===0?"bg-black/5":"bg-transparent"} 
                        
                        ${!Ve&&wn?"ring-2 ring-blue-400 bg-blue-50/20":""}
                        ${!Ve&&wt?"border-r-2 border-r-black/10":"border border-black/5"}
                        
                        ${Nt?"animate-pop-green":""}
                        ${P&&Ge?"animate-flash-orange":""}
                        `,style:Ge?{backgroundColor:Nt?ht.overlayComplete:ht.tileLocked,color:ht.tileLockedText,boxShadow:"0 2px 0 rgba(0,0,0,0.1)"}:Ve?.type==="temp"?{backgroundColor:ht.tileTemp,boxShadow:"0 4px 0 rgba(0,0,0,0.1)"}:{},children:[re===0&&xe===0&&pe.jsx("div",{className:"absolute -top-6 left-0 text-[10px] font-black uppercase tracking-widest select-none z-10",style:{color:ht.accentPrimary},children:"START"}),!Ve&&mt&&pe.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none",children:pe.jsx(YT,{size:20,style:{color:ht.startArrow}})}),re===0&&wt&&pe.jsxs("div",{className:"absolute -top-6 text-[10px] font-bold text-gray-400 select-none z-10",children:[xe+1,"m"]}),!Ve&&Be&&pe.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center opacity-80 pointer-events-none",children:[pe.jsx(n1,{className:"w-6 h-6",fill:ht.starGold,stroke:ht.starGold}),pe.jsxs("span",{className:"text-[14px] font-black text-black mt-[-2px]",children:["+",Be.val]})]}),Ve&&pe.jsx("span",{draggable:Ve.type==="temp"&&!P,onDragStart:ui=>tt(ui,{type:"board",r:re,c:xe,letter:Ve.letter}),className:`text-2xl font-bold select-none font-mono w-full h-full flex items-center justify-center ${Ve.type==="temp"?"cursor-grab active:cursor-grabbing":"cursor-default"}`,children:Ve.letter})]},`${re}-${xe}`)}))})})})}),pe.jsxs("div",{className:"w-full max-w-4xl px-4 mt-2 pb-10 landscape:pb-2 flex flex-col items-center shrink-0",children:[pe.jsxs("div",{className:"flex gap-4 items-center flex-wrap justify-center mb-4",children:[pe.jsxs("button",{onClick:X,disabled:P,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[pe.jsx(e1,{size:16})," Shuffle"]}),pe.jsxs("button",{onClick:de,disabled:P,className:"flex items-center gap-2 px-6 py-3 bg-white rounded-xl font-bold text-sm shadow-sm hover:shadow-md hover:bg-gray-50 transition-all uppercase tracking-wider disabled:opacity-50",children:[pe.jsx(FT,{size:16})," Sort A-Z"]}),pe.jsx("div",{className:"w-4 hidden md:block"}),k.length>0&&pe.jsxs("button",{onClick:bn,disabled:it||P,className:`
                  flex items-center gap-2 px-8 py-3 rounded-xl font-black text-sm shadow-lg hover:-translate-y-1 active:translate-y-0 active:shadow-none uppercase tracking-wider transition-all
                  ${it||P?"bg-gray-400 text-gray-200 cursor-wait":""}
                `,style:it||P?{}:{backgroundColor:ht.accentPrimary,color:"white"},children:[it?"Checking...":"Validate & Jump"," ",pe.jsx(qT,{size:18,strokeWidth:4})]}),k.length>0&&pe.jsx("button",{onClick:()=>{const ee=k.map(re=>re.letter);b(re=>[...re,...ee].sort()),Me([]),setSelectedTileIndex(null)},disabled:P,className:"flex items-center gap-2 px-4 py-3 bg-red-100 text-red-600 rounded-xl font-bold text-sm shadow-sm hover:bg-red-200 transition-all disabled:opacity-50",children:pe.jsx(JT,{size:16})})]}),pe.jsxs("div",{onDragOver:en,onDrop:ur,className:"flex flex-wrap justify-center gap-2 p-4 rounded-2xl shadow-inner min-h-[90px] transition-colors",style:{backgroundColor:ht.boardLines},children:[Qe.length===0&&pe.jsx("div",{className:"text-gray-400 italic self-center pointer-events-none",children:"Empty Hand"}),Qe.map(ee=>{const re=Ie[ee],ye=M===ee;return pe.jsxs("button",{draggable:!P,onDragStart:xe=>tt(xe,{type:"hand",letter:ee}),onClick:()=>ai(ee),className:`
                 relative w-12 h-12 rounded-lg flex items-center justify-center text-2xl font-bold font-mono shadow-md transition-all cursor-grab active:cursor-grabbing
               `,style:{backgroundColor:ye?ht.accentPrimary:"white",color:ye?"white":ht.textMain,transform:ye?"translateY(-4px)":"translateY(0)"},children:[ee,pe.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-gray-800 text-white text-[10px] flex items-center justify-center rounded-full shadow-sm border border-white",children:re})]},ee)})]})]}),pe.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(0,0,0,0.1);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background-color: rgba(0,0,0,0.2);
        }
        
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        
        .animate-pulse-slow {
            animation: pulse-slow 3s infinite ease-in-out;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        .animate-flash-orange {
            animation: flash-orange 0.6s ease-in-out infinite;
        }
        .animate-pop-green {
            animation: pop-green 0.3s ease-out forwards;
        }

        @keyframes pop-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes pulse-white {
           0%, 100% { background-color: rgba(255,255,255,0.05); }
           50% { background-color: rgba(255,255,255,0.7); }
        }
        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes flash-orange {
             0%, 100% { background-color: #f8f5ed; color: black; }
             50% { background-color: #f97316; color: white; border-color: #f97316; }
        }
      `})]})}PT.createRoot(document.getElementById("root")).render(pe.jsx(Bt.StrictMode,{children:pe.jsx(bM,{})}));
